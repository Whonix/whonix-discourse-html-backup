<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>gpg do not generate pubring.gpg</title>
    <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558</link>
    <description>Hello,

i was trying to build Whonix on physical isolation following [the documentation](https://www.whonix.org/wiki/Dev/Build_Documentation/Physical_Isolation), but it fails at the command: 

&gt;`test -f &quot;$gpg_temp_dir/pubring.gpg&quot;`

I checked the `$gpg_temp_dir` and noticied that no `pubring.gpg` was generated, then i tested the last 2 commands which was suposted to generate the `pubring.gpg`:

&gt;`gpg --no-options --no-default-keyring --homedir &quot;$gpg_temp_dir&quot; --import &quot;$WHONIX_SOURCE_FOLDER/packages/anon-shared-build-apt-sources-tpo/usr/share/anon-shared-build-apt-sources-tpo/tpoarchive-keys.d/torprojectarchive.asc&quot;`

and

&gt;`gpg --no-options --no-default-keyring --homedir &quot;$gpg_temp_dir&quot; --fingerprint

The result was an `pubring.kbx`.

[details=&quot;Last 300 Lines of the Log (3.326 Lines)&quot;]
ERROR in ././build-steps.d/1200_create-debian-packages detected!
anon_dist_build_version: 13.0.0.1.4
(whonix_build_error_counter: 1)
(benchmark: 00:00:10)
trap_signal_type_previous: unset
trap_signal_type_last    : ERR
process_backtrace_result:
1: : /sbin/init 
2: : kdeinit5: Running...                                   
3: : /usr/bin/ksmserver 
4: : /usr/bin/plasmashell --shut-up 
5: : /usr/bin/konsole 
6: : /bin/bash 
7: : sudo ./whonix_build --flavor whonix-gateway -- --target root --build 
8: : /bin/bash ./whonix_build --flavor whonix-gateway -- --target root --build 
9: : /bin/bash ./help-steps/whonix_build_one --flavor whonix-gateway --target root --build 
10: : /bin/bash ././build-steps.d/1200_create-debian-packages 
function_trace_result:
main (line number: 408)
main (line number: 404)
create-debian-packages (line number: 394)
get_tpo_packages (line number: 157)
errorhandlergeneral (line number: 323)
errorhandlerprocessshared (line number: 170)
last_failed_bash_command: test -f &quot;$gpg_temp_dir/pubring.gpg&quot;
last_failed_exit_code: 1
ERROR in ././build-steps.d/1200_create-debian-packages detected!
############################################################
&#39;

############################################################
ERROR in ././build-steps.d/1200_create-debian-packages detected!
anon_dist_build_version: 13.0.0.1.4
(whonix_build_error_counter: 1)
(benchmark: 00:00:10)
trap_signal_type_previous: unset
trap_signal_type_last    : ERR
process_backtrace_result:
1: : /sbin/init 
2: : kdeinit5: Running...                                   
3: : /usr/bin/ksmserver 
4: : /usr/bin/plasmashell --shut-up 
5: : /usr/bin/konsole 
6: : /bin/bash 
7: : sudo ./whonix_build --flavor whonix-gateway -- --target root --build 
8: : /bin/bash ./whonix_build --flavor whonix-gateway -- --target root --build 
9: : /bin/bash ./help-steps/whonix_build_one --flavor whonix-gateway --target root --build 
10: : /bin/bash ././build-steps.d/1200_create-debian-packages 
function_trace_result:
main (line number: 408)
main (line number: 404)
create-debian-packages (line number: 394)
get_tpo_packages (line number: 157)
errorhandlergeneral (line number: 323)
errorhandlerprocessshared (line number: 170)
last_failed_bash_command: test -f &quot;$gpg_temp_dir/pubring.gpg&quot;
last_failed_exit_code: 1
ERROR in ././build-steps.d/1200_create-debian-packages detected!
############################################################

++ &#39;[&#39; ERR = INT &#39;]&#39;
++ &#39;[&#39; ERR = TERM &#39;]&#39;
++ &#39;[&#39; ERR = ERR &#39;]&#39;
++ echo &#39;INFO: trap_signal_type_last: ERR, considering auto retry...&#39;
INFO: trap_signal_type_last: ERR, considering auto retry...
++ &#39;[&#39; &#39;!&#39; 1 = 0 &#39;]&#39;
++ &#39;[&#39; &#39;&#39; = &#39;&#39; &#39;]&#39;
++ whonix_build_auto_retry_counter=1
++ &#39;[&#39; -n 1 &#39;]&#39;
++ &#39;[&#39; -n 5 &#39;]&#39;
++ local first
++ read -r first _
++ &#39;[&#39; test = error_ &#39;]&#39;
++ &#39;[&#39; 1 -gt 1 &#39;]&#39;
++ echo &#39;INFO: Auto retry attempt number: 1. Max retry attempts: 1 (--retry-max). Auto retry... &#39;
INFO: Auto retry attempt number: 1. Max retry attempts: 1 (--retry-max). Auto retry... 
++ whonix_build_auto_retry_counter=2
++ &#39;[&#39; &#39;!&#39; 5 = 0 &#39;]&#39;
++ echo &#39;INFO: Waiting (--retry-wait) 5 seconds before auto retry... &#39;
INFO: Waiting (--retry-wait) 5 seconds before auto retry... 
++ wait 30538
++ sleep 5
++ ignore_error=echo
++ error_handler_do_retry=echo
++ errorhandlerretry
++ &#39;[&#39; &#39;!&#39; &#39;&#39; = &#39;&#39; &#39;]&#39;
++ echo &#39;INFO: Skipping whonix_build_dispatch_before_retry (--retry-before), because empty, ok.&#39;
INFO: Skipping whonix_build_dispatch_before_retry (--retry-before), because empty, ok.
++ echo &#39;INFO: Retrying last_failed_bash_command...: test -f &quot;$gpg_temp_dir/pubring.gpg&quot; &#39;
INFO: Retrying last_failed_bash_command...: test -f &quot;$gpg_temp_dir/pubring.gpg&quot; 
++ retry_last_failed_bash_command_exit_code=0
++ eval test -f &#39;&quot;$gpg_temp_dir/pubring.gpg&quot;&#39;
+++ test -f /tmp/tmp.gpQEeU3nRu/pubring.gpg
++ retry_last_failed_bash_command_exit_code=1
++ true
++ &#39;[&#39; 1 = 0 &#39;]&#39;
++ echo &#39;INFO: Retry failed. exit code of last_failed_bash_command: 1 &#39;
INFO: Retry failed. exit code of last_failed_bash_command: 1 
++ last_failed_exit_code=1
++ last_failed_bash_command=&#39;test -f &quot;$gpg_temp_dir/pubring.gpg&quot;&#39;
++ &#39;[&#39; &#39;!&#39; &#39;&#39; = &#39;&#39; &#39;]&#39;
++ echo &#39;INFO: Skipping whonix_build_dispatch_after_retry (--retry-after), because empty, ok.&#39;
INFO: Skipping whonix_build_dispatch_after_retry (--retry-after), because empty, ok.
++ &#39;[&#39; 1 = 0 &#39;]&#39;
++ errorhandlerprocessshared &#39;NONE_(called_by_errorhandlerretry)&#39;
++ last_script=././build-steps.d/1200_create-debian-packages
++ trap_signal_type_previous=ERR
++ &#39;[&#39; ERR = &#39;&#39; &#39;]&#39;
++ trap_signal_type_last=&#39;NONE_(called_by_errorhandlerretry)&#39;
++ whonix_build_error_counter=2
+++ benchmarktimeend 1511621152
++++ date +%s
+++ benchmarktimeend=1511621168
+++ benchmark_took_seconds=16
++++ convertsecs 16
++++ local h m s
++++ (( h=16/3600 ))
++++ true
++++ (( m=(16%3600)/60 ))
++++ true
++++ (( s=16%60 ))
++++ printf &#39;%02d:%02d:%02d\n&#39; 0 0 16
+++ echo 00:00:16
++ benchmark_took_time=00:00:16
++ processbacktracefunction
++ echo &#39;INFO: BEGIN: processbacktracefunction&#39;
INFO: BEGIN: processbacktracefunction
++ &#39;[&#39; -o xtrace &#39;]&#39;
++ set +x
++ echo &#39;INFO: END  : processbacktracefunction&#39;
INFO: END  : processbacktracefunction
++ functiontracefunction
++ echo &#39;INFO: BEGIN: functiontracefunction&#39;
INFO: BEGIN: functiontracefunction
++ &#39;[&#39; -o xtrace &#39;]&#39;
++ set +x
++ echo &#39;INFO: END  : functiontracefunction&#39;
INFO: END  : functiontracefunction
++ echo &#39;
############################################################
ERROR in ././build-steps.d/1200_create-debian-packages detected!
anon_dist_build_version: 13.0.0.1.4
(whonix_build_error_counter: 2)
(benchmark: 00:00:16)
trap_signal_type_previous: ERR
trap_signal_type_last    : NONE_(called_by_errorhandlerretry)
process_backtrace_result:
1: : /sbin/init 
2: : kdeinit5: Running...                                   
3: : /usr/bin/ksmserver 
4: : /usr/bin/plasmashell --shut-up 
5: : /usr/bin/konsole 
6: : /bin/bash 
7: : sudo ./whonix_build --flavor whonix-gateway -- --target root --build 
8: : /bin/bash ./whonix_build --flavor whonix-gateway -- --target root --build 
9: : /bin/bash ./help-steps/whonix_build_one --flavor whonix-gateway --target root --build 
10: : /bin/bash ././build-steps.d/1200_create-debian-packages 
function_trace_result:
main (line number: 408)
main (line number: 404)
create-debian-packages (line number: 394)
get_tpo_packages (line number: 157)
errorhandlergeneral (line number: 323)
errorhandlerprocessshared (line number: 220)
errorhandlerretry (line number: 155)
errorhandlerprocessshared (line number: 170)
errorhandlerprocessshared (line number: 170)
errorhandlergeneral (line number: 323)
get_tpo_packages (line number: 157)
create-debian-packages (line number: 394)
main (line number: 404)
main (line number: 408)
last_failed_bash_command: test -f &quot;$gpg_temp_dir/pubring.gpg&quot;
last_failed_exit_code: 1
ERROR in ././build-steps.d/1200_create-debian-packages detected!
############################################################
&#39;

############################################################
ERROR in ././build-steps.d/1200_create-debian-packages detected!
anon_dist_build_version: 13.0.0.1.4
(whonix_build_error_counter: 2)
(benchmark: 00:00:16)
trap_signal_type_previous: ERR
trap_signal_type_last    : NONE_(called_by_errorhandlerretry)
process_backtrace_result:
1: : /sbin/init 
2: : kdeinit5: Running...                                   
3: : /usr/bin/ksmserver 
4: : /usr/bin/plasmashell --shut-up 
5: : /usr/bin/konsole 
6: : /bin/bash 
7: : sudo ./whonix_build --flavor whonix-gateway -- --target root --build 
8: : /bin/bash ./whonix_build --flavor whonix-gateway -- --target root --build 
9: : /bin/bash ./help-steps/whonix_build_one --flavor whonix-gateway --target root --build 
10: : /bin/bash ././build-steps.d/1200_create-debian-packages 
function_trace_result:
main (line number: 408)
main (line number: 404)
create-debian-packages (line number: 394)
get_tpo_packages (line number: 157)
errorhandlergeneral (line number: 323)
errorhandlerprocessshared (line number: 220)
errorhandlerretry (line number: 155)
errorhandlerprocessshared (line number: 170)
errorhandlerprocessshared (line number: 170)
errorhandlergeneral (line number: 323)
get_tpo_packages (line number: 157)
create-debian-packages (line number: 394)
main (line number: 404)
main (line number: 408)
last_failed_bash_command: test -f &quot;$gpg_temp_dir/pubring.gpg&quot;
last_failed_exit_code: 1
ERROR in ././build-steps.d/1200_create-debian-packages detected!
############################################################

++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = INT &#39;]&#39;
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = TERM &#39;]&#39;
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = ERR &#39;]&#39;
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = &#39;NONE_(called_by_errorhandlerretry)&#39; &#39;]&#39;
++ echo &#39;INFO: trap_signal_type_last: NONE_(called_by_errorhandlerretry), considering auto retry...&#39;
INFO: trap_signal_type_last: NONE_(called_by_errorhandlerretry), considering auto retry...
++ &#39;[&#39; &#39;!&#39; 1 = 0 &#39;]&#39;
++ &#39;[&#39; 2 = &#39;&#39; &#39;]&#39;
++ &#39;[&#39; -n 1 &#39;]&#39;
++ &#39;[&#39; -n 5 &#39;]&#39;
++ local first
++ read -r first _
++ &#39;[&#39; test = error_ &#39;]&#39;
++ &#39;[&#39; 2 -gt 1 &#39;]&#39;
++ echo &#39;INFO: Auto retried (--retry-max) already 1 times. No more auto retry. &#39;
INFO: Auto retried (--retry-max) already 1 times. No more auto retry. 
++ unset whonix_build_auto_retry_counter
++ ignore_error=false
++ answer=
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = ERR &#39;]&#39;
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = &#39;NONE_(called_by_errorhandlerretry)&#39; &#39;]&#39;
++ echo &#39;INFO: whonix_build_non_interactive: &#39;
INFO: whonix_build_non_interactive: 
++ &#39;[&#39; &#39;&#39; = true &#39;]&#39;
++ &#39;[&#39; -t 0 &#39;]&#39;
++ echo &#39;INFO: stdin connected to terminal, using interactive error handler.&#39;
INFO: stdin connected to terminal, using interactive error handler.
++ echo &#39;ERROR in ././build-steps.d/1200_create-debian-packages detected!
Please have a look above (the block within ###...), note the command that failed, last_failed_exit_code and its output (further above).
- Please enter c and press enter to ignore the error and continue building. (Recommended against!)
- Please press r and enter to retry.
- Please press s and enter to open an chroot interactive shell.
- Please press enter to cleanup and exit.&#39;
ERROR in ././build-steps.d/1200_create-debian-packages detected!
Please have a look above (the block within ###...), note the command that failed, last_failed_exit_code and its output (further above).
- Please enter c and press enter to ignore the error and continue building. (Recommended against!)
- Please press r and enter to retry.
- Please press s and enter to open an chroot interactive shell.
- Please press enter to cleanup and exit.
++ read -p &#39;Answer? &#39; answer
Answer? ++ error_handler_do_retry=
++ interactive_chroot_shell=
++ &#39;[&#39; &#39;&#39; = continue &#39;]&#39;
++ &#39;[&#39; &#39;&#39; = c &#39;]&#39;
++ &#39;[&#39; &#39;&#39; = s &#39;]&#39;
++ &#39;[&#39; &#39;&#39; = shell &#39;]&#39;
++ &#39;[&#39; &#39;&#39; = r &#39;]&#39;
++ &#39;[&#39; &#39;&#39; = retry &#39;]&#39;
++ ignore_error=false
++ interactive_chroot_shell=false
++ return 0
++ errorhandlermaybeexit ERR
++ &#39;[&#39; &#39;&#39; = true &#39;]&#39;
++ &#39;[&#39; false = true &#39;]&#39;
++ abort_or_continue=Aborted
++ rm --force /etc/apt/sources.list.d/whonix_temp.list
++ rm --force /var/run/package_manager_lock
++ &#39;[&#39; false = true &#39;]&#39;
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = INT &#39;]&#39;
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = TERM &#39;]&#39;
++ trap - EXIT
++ echo &#39;INFO: Now exiting from ././build-steps.d/1200_create-debian-packages (because error was detected, see above) with exit code 1.&#39;
INFO: Now exiting from ././build-steps.d/1200_create-debian-packages (because error was detected, see above) with exit code 1.
++ exit 1
++ error_handler_whonix_build_one
++ true &#39;ERROR in ./help-steps/whonix_build_one&#39;
++ true &#39;BASH_COMMAND: &quot;./$whonix_build_one_build_step_current&quot;&#39;
++ true &#39;whonix_build_one_build_step_current: ./build-steps.d/1200_create-debian-packages&#39;
++ true &#39;args: --flavor whonix-gateway --target root --build&#39;
++ true &#39;INFO: Now exiting from ./help-steps/whonix_build_one (because error was detected, see above).&#39;
++ exit 1
+ exithandler
+ local exit_code=1
+ &#39;[&#39; &#39;!&#39; 1 = 0 &#39;]&#39;
+ exit 1
++ error_handler_build_main
++ true &#39;ERROR in ./whonix_build&#39;
++ true &#39;BASH_COMMAND: ./help-steps/whonix_build_one --flavor whonix-gateway $build_args&#39;
++ true &#39;INFO: Now exiting from ./whonix_build (because error was detected, see above).&#39;
++ exit 1
+ exithandler
+ local exit_code=1
+ &#39;[&#39; &#39;!&#39; 1 = 0 &#39;]&#39;
+ exit 1
[/details]

[details=&quot;Technical Information&quot;]
System: Debian Stretch 9.2 (also tested with Debian 8.9 Jessie)
Whonix: 13.0.0.1.4-stable
[/details]

Error also related [here](https://forums.whonix.org/t/error-building-whonix-gateway-on-physical-hardware/4158).

**Questions:**

- Is this expected?
- How to fix it?
- If possible, could you please explain?
- Is this issue a dumb misunderstanding of the guide?

Thanks and sorry for bad english :)</description>
    <language>en</language>
    <lastBuildDate>Fri, 01 Dec 2017 15:14:37 +0000</lastBuildDate>
    <category>Physical Isolation</category>
    <atom:link href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[whonix_temp_user]]></dc:creator>
        <description><![CDATA[
            <p>Added but seems like failed:</p>
<blockquote>
<p>++ whonixcheck_virt_detection_tool=systemd-detect-virt<br>
++ command -v systemd-detect-virt<br>
+++ systemd-detect-virt<br>
++ whonixcheck_virtualizer_detected=‘Failed to check for virtualization: Permission denied’</p>
</blockquote>

Full Log <a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/14">(click for more details)</a>
<p>Whitespaced some links to avoid the new users limit.</p>
<p>I also created a test script:</p>

Script <a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/14">(click for more details)</a>
<p>It works as expected, nvm.</p>
          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/14</link>
        <pubDate>Fri, 01 Dec 2017 15:14:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-14</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="11" data-topic="4558">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/w/8edcca/40.png" class="avatar"> whonix_temp_user:</div>
<blockquote>
<p>+++ systemd-detect-virt</p>
<p>++ whonixcheck_virtualizer_detected=‘Failed to check for virtualization: Permission denied’</p>
</blockquote>
</aside>
<p>This is the cause. I wonder why this doesn’t happen to me.</p>
<p>systemd-detect-virt is not allowed in whonixcheck’s apparmor profile. Could you please try the following patch?</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/whonixcheck/commit/708534df6ac9cd76c00b4d0c5ece0ef785e43686" target="_blank" rel="nofollow noopener">github.com/Whonix/whonixcheck</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/whonixcheck/commit/708534df6ac9cd76c00b4d0c5ece0ef785e43686" target="_blank" rel="nofollow noopener">add systemd-detect-virt</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/whonixcheck/commit/708534df6ac9cd76c00b4d0c5ece0ef785e43686" target="_blank" rel="nofollow noopener">01:37AM - 01 Dec 17</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/13</link>
        <pubDate>Fri, 01 Dec 2017 01:48:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-13</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[whonix_temp_user]]></dc:creator>
        <description><![CDATA[
            <p>Here:</p>

Output <a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/11">(click for more details)</a>
<p>About the code, don’t you think you should use the comparison operator <code>==</code> instead of the initialization operator <code>=</code> ?</p>
          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/11</link>
        <pubDate>Thu, 30 Nov 2017 19:14:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-11</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Please run the following command and post the output here.</p>
<pre><code>whonixcheck --debug --function check_virtualizer</code></pre>
          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/10</link>
        <pubDate>Tue, 28 Nov 2017 23:55:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-10</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I have no idea why that doesn’t work.</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/whonixcheck/blob/Whonix13/usr/lib/whonixcheck/check_virtualizer.bsh#L28" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/whonixcheck/blob/Whonix13/usr/lib/whonixcheck/check_virtualizer.bsh#L28" target="_blank" rel="nofollow noopener">Whonix/whonixcheck/blob/Whonix13/usr/lib/whonixcheck/check_virtualizer.bsh#L28</a></h4>
<pre class="onebox"><code class="lang-bsh"><ol class="start lines" start="18" style="counter-reset: li-counter 17 ;">
<li>   $output_cli ${output_opts[@]} --messagecli --typecli "warning" --message "$MSG"</li>
<li>   return 0</li>
<li>fi</li>
<li>
</li>
<li>local MSG="&lt;p&gt;Check Virtualizer Result (debug): qubes_detected: &lt;u&gt;$qubes_detected&lt;/u&gt;, continuing.&lt;/p&gt;"</li>
<li>if [ "$verbose" -ge "1" ]; then</li>
<li>   $output_x ${output_opts[@]} --messagex --typex "info" --message "$MSG"</li>
<li>   $output_cli ${output_opts[@]} --messagecli --typecli "info" --message "$MSG"</li>
<li>fi</li>
<li>
</li>
<li class="selected">if [ "$whonixcheck_virtualizer_detected" = "" ] || [ "$whonixcheck_virtualizer_detected" = "none" ]; then</li>
<li>   ## Not running in a Virtual Machine (or none detected).</li>
<li>   local MSG="&lt;p&gt;Check Virtualizer Result: No Virtualizer detected, probably running on &lt;u&gt;bare metal&lt;/u&gt;, continuing.&lt;/p&gt;"</li>
<li>   if [ "$verbose" -ge "1" ]; then</li>
<li>      $output_x ${output_opts[@]} --messagex --typex "info" --message "$MSG"</li>
<li>      $output_cli ${output_opts[@]} --messagecli --typecli "info" --message "$MSG"</li>
<li>   fi</li>
<li>   return 0</li>
<li>fi</li>
<li>
</li>
<li>if [ "$whonixcheck_virtualizer_detected" = "oracle" ]; then</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/9</link>
        <pubDate>Tue, 28 Nov 2017 23:45:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-9</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[whonix_temp_user]]></dc:creator>
        <description><![CDATA[
            <p>Well, the output was simply <code>'none'</code> <img src="//forums.whonix.org/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/8</link>
        <pubDate>Tue, 28 Nov 2017 23:29:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-8</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Thanks! I just now fixed the wiki.</p>
<aside class="quote" data-post="6" data-topic="4558">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/w/8edcca/40.png" class="avatar"> whonix_temp_user:</div>
<blockquote>
<p>I also got the unsupported virtualizer option, since it’s physical isolation i guess there’s no problem change to the option 1 in the configuration file at the line WHONIXCHECK_NO_EXIT_ON_UNSUPPORTED_VIRTUALIZER=“0” as mentioned in whonixcheck.</p>
</blockquote>
</aside>
<p>This is a bug in whonixcheck. Could you please run the following command and post the exact output here?</p>
<pre><code>echo "'$(systemd-detect-virt)'"</code></pre>
          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/7</link>
        <pubDate>Tue, 28 Nov 2017 23:01:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-7</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[whonix_temp_user]]></dc:creator>
        <description><![CDATA[
            <p>I figured out the problem, but first i will explain what i have done.</p>
<p>First i tried downgrade the gpg (2.1.18, package gpgv2) to the older version (1.4.18, package gpgv1), i wasn’t even able to uninstall gpgv2 then i just installed gpgv1 , which not solved my problem.</p>
<p>Again i installed Debian Jessie (8.9) following the guide recommendations. Again not solved, but this time i noticed something, in the guide there’s a instruction which says:</p>
<blockquote>
<p>echo “deb <a href="http://ftp.us.debian.org/debian" rel="nofollow noopener">http://ftp.us.debian.org/debian</a> stable main” &gt;&gt; /etc/apt/sources.list</p>
</blockquote>
<p>But according with <a href="https://wiki.debian.org/DebianOldStable" rel="nofollow noopener">Debian wiki</a> the Jessie version is the <code>oldstable</code> and the Stretch version is the <code>stable</code>.</p>
<p>Knowing that i reinstalled Debian Jessie but instead of ignoring the mirror and the aditional packages, i selected the us ftp mirror and installed the system default utilities, debian default display manager and kde (since the <code>--gui</code> option is kde), and worked!</p>
<p>I got the <code>/root/.dpkg.cfg permission denied</code> warning listed in <a href="https://rsync.whonix.org/wiki/Dev/Expected_Build_Warnings" rel="nofollow noopener">expected warnings</a>. I also got the unsupported virtualizer option, since it’s physical isolation i guess there’s no problem change to the option 1 in the configuration file at the line <code>WHONIXCHECK_NO_EXIT_ON_UNSUPPORTED_VIRTUALIZER="0"</code> as mentioned in whonixcheck.</p>
<p>After all this it worked normally, i just need to configure the second interface.</p>
<p>Thanks for the help!</p>
          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/6</link>
        <pubDate>Tue, 28 Nov 2017 20:30:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-6</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[whonix_temp_user]]></dc:creator>
        <description><![CDATA[
            <p>Hello <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a>!</p>
<p>I tested in both Jessie (8.9) and Stretch (9.2), i got the same problem in both. Right now i’m running the Stretch.</p>
<p>The return of the command <code>gpg --version</code> says it’s 2.1.18, i will try to install an older version then, if don’t work i will try again in Jessie considering the gpg version.</p>
<p>Thanks and good luck in the development <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/5</link>
        <pubDate>Mon, 27 Nov 2017 20:37:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-5</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Are you sure you build on Debian jessie? Because Whonix 14 for Debian stretch is not ready yet.</p>
<p>Perhaps you have package gpg2 installed but gpg not?</p>
<p>Whonix 14 will be compatible with Debian stretch / gpg kbx but let’s hope physical isolation will sill work since it is a very very low development priority.</p>
          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/4</link>
        <pubDate>Mon, 27 Nov 2017 13:43:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-4</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[whonix_temp_user]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for the reply!</p>
<p>I will wait for <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> do it, i’m not sure what exactly i should change.</p>
          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/3</link>
        <pubDate>Sat, 25 Nov 2017 20:31:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-3</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://www.gnupg.org/faq/whats-new-in-2.1.html#keybox:" class="onebox" target="_blank">https://www.gnupg.org/faq/whats-new-in-2.1.html#keybox:</a></p>
<blockquote>
<p>If no pubring.gpg is found, gpg defaults to the new keybox format and creates a pubring.kbx keybox file.</p>
</blockquote>
<p>Edit the build file or wait for <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> to do it.</p>
<p>(Nice [details] tag. Very cool!)</p>
          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/2</link>
        <pubDate>Sat, 25 Nov 2017 19:06:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-2</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
      <item>
        <title>gpg do not generate pubring.gpg</title>
        <dc:creator><![CDATA[whonix_temp_user]]></dc:creator>
        <description><![CDATA[
            <p>Hello,</p>
<p>i was trying to build Whonix on physical isolation following <a href="https://www.whonix.org/wiki/Dev/Build_Documentation/Physical_Isolation" rel="nofollow noopener">the documentation</a>, but it fails at the command:</p>
<blockquote>
<p><code>test -f "$gpg_temp_dir/pubring.gpg"</code></p>
</blockquote>
<p>I checked the <code>$gpg_temp_dir</code> and noticied that no <code>pubring.gpg</code> was generated, then i tested the last 2 commands which was suposted to generate the <code>pubring.gpg</code>:</p>
<blockquote>
<p><code>gpg --no-options --no-default-keyring --homedir "$gpg_temp_dir" --import "$WHONIX_SOURCE_FOLDER/packages/anon-shared-build-apt-sources-tpo/usr/share/anon-shared-build-apt-sources-tpo/tpoarchive-keys.d/torprojectarchive.asc"</code></p>
</blockquote>
<p>and</p>
<blockquote>
<p>`gpg --no-options --no-default-keyring --homedir “$gpg_temp_dir” --fingerprint</p>
</blockquote>
<p>The result was an <code>pubring.kbx</code>.</p>

Last 300 Lines of the Log (3.326 Lines) <a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/1">(click for more details)</a>

Technical Information <a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/1">(click for more details)</a>
<p>Error also related <a href="https://forums.whonix.org/t/error-building-whonix-gateway-on-physical-hardware/4158">here</a>.</p>
<p><strong>Questions:</strong></p>
<ul>
<li>Is this expected?</li>
<li>How to fix it?</li>
<li>If possible, could you please explain?</li>
<li>Is this issue a dumb misunderstanding of the guide?</li>
</ul>
<p>Thanks and sorry for bad english <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558/1</link>
        <pubDate>Sat, 25 Nov 2017 16:38:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4558-1</guid>
        <source url="http://forums.whonix.org/t/gpg-do-not-generate-pubring-gpg/4558.rss">gpg do not generate pubring.gpg</source>
      </item>
  </channel>
</rss>
