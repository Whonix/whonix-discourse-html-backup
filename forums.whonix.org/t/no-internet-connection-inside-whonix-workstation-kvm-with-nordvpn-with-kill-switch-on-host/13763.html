<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host - KVM - Whonix Forum</title>
    <meta name="description" content="Hello, 
after successfully using Whonix on my M1 Mac via UTM without a VPN on my Host, I tried connecting my host to a VPN (I’m using NordVPN over OpenVPN), which is causing some unexpected problems: 

With a VPN on my h&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="13763.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host&#39;" href="13763.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/no-internet-connection-inside-whonix-workstation-kvm-with-nordvpn-with-kill-switch-on-host/13763" />
<meta name="twitter:url" content="https://forums.whonix.org/t/no-internet-connection-inside-whonix-workstation-kvm-with-nordvpn-with-kill-switch-on-host/13763" />
<meta property="og:title" content="No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host" />
<meta name="twitter:title" content="No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host" />
<meta property="og:description" content="Hello,  after successfully using Whonix on my M1 Mac via UTM without a VPN on my Host, I tried connecting my host to a VPN (I’m using NordVPN over OpenVPN), which is causing some unexpected problems:   With a VPN on my host, the Whonix Gateway’s internet seems to work without any issues (I did curl requests from the console and they all worked) Even though the Gateway’s connection works, the Whonix Workstation cannot establish any internet connection while using a VPN on the host, even after sev..." />
<meta name="twitter:description" content="Hello,  after successfully using Whonix on my M1 Mac via UTM without a VPN on my Host, I tried connecting my host to a VPN (I’m using NordVPN over OpenVPN), which is causing some unexpected problems:   With a VPN on my host, the Whonix Gateway’s internet seems to work without any issues (I did curl requests from the console and they all worked) Even though the Gateway’s connection works, the Whonix Workstation cannot establish any internet connection while using a VPN on the host, even after sev..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 ❤" />
<meta property="article:published_time" content="2022-06-11T11:44:09+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="13763.html">No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/kvm/11.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #9EB83B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>KVM</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/maxeth'><span itemprop='name'>maxeth</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13763.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-06-11T11:44:09Z' class='post-time'>
                June 11, 2022, 11:44am
              </time>
              <meta itemprop='dateModified' content='2022-06-20T09:57:57Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hello,</p>
<p>after successfully using Whonix on my M1 Mac via UTM without a VPN on my Host, I tried connecting my host to a VPN (I’m using NordVPN over OpenVPN), which is causing some unexpected problems:</p>
<ul>
<li>With a VPN on my host, the Whonix Gateway’s internet seems to work without any issues (I did curl requests from the console and they all worked)</li>
<li>Even though the Gateway’s connection works, the Whonix Workstation cannot establish any internet connection while using a VPN on the host, even after several restarts of both the Gateway &amp; Workstation and the Host</li>
</ul>
<p>Running <code>systemcheck</code> on my Workstation shows</p>
<blockquote>
<p>Tor Connection Result:<br>
Tor’s Control Port could not be reached. Attempt 1 of 5. Could be temporary due to a Tor restart. Trying again…<br>
[…]<br>
(tor_circuit_established_check_exit_code: 255)<br>
(tor_bootstrap_timeout_type: )<br>
(tor_bootstrap_status: )<br>
(check_socks_port_open_test: 56)</p>
</blockquote>
<p>Any displayed troubleshooting steps do not help, as <code>systemcheck</code> runs without any issues on my Gateway.</p>
<p>Tor works fine via VPN on my host and I didn’t change any networking settings in UTM, just built Whonix for Silicon Macs as described in the docs and imported the output to UTM directly.</p>
<p>I would appreciate any troubleshooting ideas as I have no idea where the issue could originate from.</p>
        </div>

        <meta itemprop='headline' content='No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/265.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/265.html'>
                      <span itemprop='name'>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/TNT_BOM_BOM'><span itemprop='name'>TNT_BOM_BOM</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13763.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-06-13T21:37:47Z' class='post-time'>
                June 13, 2022,  9:37pm
              </time>
              <meta itemprop='dateModified' content='2022-06-13T21:37:47Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="maxeth" data-post="1" data-topic="13763">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/maxeth/40/2967_2.jpg" class="avatar"> maxeth:</div>
<blockquote>
<ul>
<li>the Whonix Gateway’s internet seems to work without any issues (I did curl requests from the console and they all worked)</li>
<li>Even though the Gateway’s connection works, the Whonix Workstation cannot establish any internet connection while using a VPN on the host</li>
</ul>
</blockquote>
</aside>
<p>Looks weird, Because the WS taking the connection from GW, If GW working then WS will work as well. (i hope you are not trying to route the WS directly to the VPN, Because WS meant to connect only to GW).</p>
        </div>

        <meta itemprop='headline' content='No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/maxeth'><span itemprop='name'>maxeth</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13763.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-06-13T23:03:57Z' class='post-time'>
                June 13, 2022, 11:03pm
              </time>
              <meta itemprop='dateModified' content='2022-06-13T23:03:57Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yeah I know, very weird. The VPN is running on my host and all curl requests I tested inside the GW worked.</p>
<p>But if I run a VPN on the host, I assume Whonix doesn’t even “know” about the VPN. That makes me think it has to be an issue on the host, but it’s weird that it works on the GW which on the other hand makes me think it’s something with Whonix.</p>
<p>I unfortunately have no idea how to troubleshoot this at all.</p>
        </div>

        <meta itemprop='headline' content='No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/maxeth'><span itemprop='name'>maxeth</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13763.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-06-20T09:43:20Z' class='post-time'>
                June 20, 2022,  9:43am
              </time>
              <meta itemprop='dateModified' content='2022-06-20T09:43:20Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Update: The issue was related to NordVPN’s advanced Kill-Switch, which according to their Desktop app “might interfere with other network applications on your machine”. The same goes for ProtonVPN and many other VPN clients.</p>
<p>For now, I just deactivated the advanced Kill-Switch on the NordVPN client and everything works fine with a basic Kill-Switch still in place.</p>
        </div>

        <meta itemprop='headline' content='No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13763.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-06-20T10:03:15Z' class='post-time'>
                June 20, 2022, 10:03am
              </time>
              <meta itemprop='dateModified' content='2022-06-20T10:03:15Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks for the report! Moved to KVM forums.<br>
Yeah, it makes sense. Since KVM network interfaces are visible on the host operating system, firewalls such as presumably what the NordVPN kill switch is doing can disrupt Whonix KVM.</p>
<p>I doubt this is fixable? <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
<p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/maxeth">@maxeth</a>: You’d have to use a VPN kill switch (also called fail-closed mechanism) that is compatible with Whonix KVM. There is vpn-firewall but <a href="../../../external.html?link=https://www.whonix.org/wiki/Unsupported">untested</a> with Whonix KVM, I think. Also as per <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Avoid_nonfreedom_software" class="inline-onebox">Avoid Non-Freedom Software</a> I suggest to avoid the presumably non-freedom software NordVPN client and use a Freedom Software VPN client such as OpenVPN.</p>
        </div>

        <meta itemprop='headline' content='No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13763.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-06-20T20:04:40Z' class='post-time'>
                June 20, 2022,  8:04pm
              </time>
              <meta itemprop='dateModified' content='2022-06-20T20:04:40Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>There’s no legitimate excuse by any company to ever claim that it that it can’t support libre clients like OpenVPN.</p>
<p>I think that we support VPN → Tor on the GW to hide it from ISP (though this feature could be dropped in the future if it already isn’t deprecated).</p>
        </div>

        <meta itemprop='headline' content='No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13763.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-06-21T09:49:25Z' class='post-time'>
                June 21, 2022,  9:49am
              </time>
              <meta itemprop='dateModified' content='2022-06-21T09:49:25Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Main issue being, a useful host firewall (without intention / can be Freedom Software) such as:</p>
<ul>
<li>a VPN fail-closed mechanism (<a href="../../../external.html?link=https://www.whonix.org/wiki/VPN-Firewall" class="inline-onebox">VPN-Firewall: Enforce use of a VPN</a>) or</li>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/Corridor" class="inline-onebox">Using corridor, a Tor traffic whitelisting gateway with Whonix ™</a></li>
</ul>
<p>can break Whonix KVM.</p>
<p>related:</p>
<aside class="onebox githubissue" data-onebox-src="../../../external.html?link=https://github.com/rustybird/corridor/issues/28">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/rustybird/corridor/issues/28" target="_blank" rel="noopener">github.com/rustybird/corridor</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/rustybird/corridor/issues/28" target="_blank" rel="noopener">testing on Debian host</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2016-07-24" data-time="13:01:55" data-timezone="UTC">01:01PM - 24 Jul 16 UTC</span>
      </div>


      <div class="user">
        <a href="../../../external.html?link=https://github.com/HulaHoopWhonix" target="_blank" rel="noopener">
          <img alt="HulaHoopWhonix" src="../../../external.html?link=https://avatars.githubusercontent.com/u/7875239?v=4" class="onebox-avatar-inline" width="20" height="20">
          HulaHoopWhonix
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Hi. I tested corridor on a Debian host running Whonix KVM guests.

Results:
- It<span class="show-more-container"><a href="#" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden"> blocks any new Whonix connections after the corridor service successfully starts while Tor connections on the host still work. 
- LAN connections are permitted. Is this intentional? Its safer for this to be restricted unless a user wants otherwise. Imagine subscribing to a wireless carrier or ISP which assigns local addresses. Leaking anything to this non-trusted network is dangerous.

Two solutions come to mind: adding a LAN permission option to corridor for manual use. Out of scope of this ticket but an interesting topic that should be discussed: add a barebones captive portal responder on the host under its own user account that is exempted by corridor. This keeps leaks absolutely minimal and reduces attack surface when having to deal with captive portals.

/cc @adrelanos</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Fixable?</p>
<aside class="quote no-group" data-username="HulaHoop" data-post="6" data-topic="13763">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>There’s no legitimate excuse by any company to ever claim that it that it can’t support libre clients like OpenVPN.</p>
</blockquote>
</aside>
<p>NordVPN seems to support OpenVPN too.<br>
<a href="../../../external.html?link=https://nordvpn.com/ovpn/" class="inline-onebox">OpenVPN configuration files | NordVPN</a></p>
        </div>

        <meta itemprop='headline' content='No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/_user'><span itemprop='name'>_user</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13763.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-06-22T13:52:37Z' class='post-time'>
                June 22, 2022,  1:52pm
              </time>
              <meta itemprop='dateModified' content='2022-06-22T14:03:10Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="HulaHoop" data-post="6" data-topic="13763">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>I think that we support VPN → Tor on the GW to hide it from ISP (though this feature could be dropped in the future if it already isn’t deprecated).</p>
</blockquote>
</aside>
<p>In some countries Tor and the TorProject website are blocked by the government, as well as commercial VPN services, and bridges like obfs4/SnowFlake may be very unreliable and slow. In such cases self-hosted VPNs are highly needed to have an ability to use Tor. For example, after installing Whonix-Gateway I have to start OpenVPN client on the host to connect the Gateway to Tor, install Shadowsocks client on it(it is much faster than VPN) and then use it as a proxy in torrc. Yeah, a self-hosted VPS as a Tor bridge might be not a very good solution for privacy, but it might be the only way to normally use Tor for some users. Please, do not drop support for VPN → Tor on the GW.</p>
        </div>

        <meta itemprop='headline' content='No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Jondoesnowden'><span itemprop='name'>Jondoesnowden</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13763.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-06-23T18:00:46Z' class='post-time'>
                June 23, 2022,  6:00pm
              </time>
              <meta itemprop='dateModified' content='2022-06-23T18:00:46Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sounds dangerous to me. When the kill switch kills the connection, then adversaries can correlate the connection drop from your Mac to VPN with the connection that exits the VPN and is going to TOR entry and TOR exits, so you are de-anonymized every time your VPN connection drops without being a result of lost internet connection.</p>
<p>Without a VPN, that correlation can only be done if your internet connection drops.</p>
        </div>

        <meta itemprop='headline' content='No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13763.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-06-24T12:09:37Z' class='post-time'>
                June 24, 2022, 12:09pm
              </time>
              <meta itemprop='dateModified' content='2022-06-24T12:09:37Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Jondoesnowden" data-post="9" data-topic="13763">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/j/848f3c/40.png" class="avatar"> Jondoesnowden:</div>
<blockquote>
<p>Sounds dangerous to me. When the kill switch kills the connection, then adversaries can correlate the connection drop from your Mac to VPN with the connection that exits the VPN and is going to TOR entry and TOR exits</p>
</blockquote>
</aside>
<p>Not that simple and the false positive rates would be so high as to render this type of traffic analysis useless.</p>
        </div>

        <meta itemprop='headline' content='No Internet Connection inside Whonix-Workstation KVM with NordVPN with Kill-Switch on Host'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
