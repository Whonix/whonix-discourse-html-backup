<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Grsec Kernel for Debian 8 Template VM now available</title>
    <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192</link>
    <description>Coldhakca now has the Debian 8 Template VM booting with Grsec (coldkernel) and has successfully made AppVMs with it!!

Yes! Christmas has come early! 8-) See screenshots here:

https://twitter.com/coldhakca

Should a tester template become available soon, sign me up! They have dom0, Fedora, and Whonix-WS and Whonix-GW on their &#39;to do&#39; list next!

If Patrick or one of the more adventurous types wants to try it, the 4.8.9 and 4.8.10 kernels can be found here:

https://github.com/coldhakca/coldkernel/releases/tag/coldkernel-0.8f-4.8.10
https://github.com/coldhakca/coldkernel/releases/tag/coldkernel-0.8f-4.8.9

Apparently you have to run &#39;make&#39; with the source file and patch, but I&#39;m not up with building custom kernels.

Patrick, entr0py, any tips? This could finally solve the Grsec wishlist that many a forum poster has wanted for Whonix and Qubes.

Sorry if posted in the wrong forum, not sure where it belongs.</description>
    <language>en</language>
    <lastBuildDate>Fri, 28 Apr 2017 02:35:24 +0000</lastBuildDate>
    <category>General Tor and Anonymity Talk</category>
    <atom:link href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Sad news. Hopefully the hardening kernel project gets busy and doesn’t take 5 - 10 years to rip off Spengler’s ideas this time.</p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/16</link>
        <pubDate>Fri, 28 Apr 2017 02:35:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-16</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>grsecurity Open Source is dead.</p>
<p><a href="https://grsecurity.net/passing_the_baton.php" class="onebox" target="_blank">https://grsecurity.net/passing_the_baton.php</a></p>
<p><a href="https://grsecurity.net/passing_the_baton_faq.php" class="onebox" target="_blank">https://grsecurity.net/passing_the_baton_faq.php</a></p>
<p><a href="https://github.com/coldhakca/coldkernel">https://github.com/coldhakca/coldkernel</a> deprecated.</p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/15</link>
        <pubDate>Thu, 27 Apr 2017 17:12:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-15</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Thank you for the notification, would otherwise taken longer to reach me!</p>
<p>These are some great developments!</p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/14</link>
        <pubDate>Sun, 09 Apr 2017 17:21:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-14</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Final tests for Whonix grsec templates (in Qubes) are underway! Fedora grsec templates are coming first though. (dom0 is a maybe).</p>
<p>But best of all… drum roll… binaries are planned in the future, meaning we won’t have to stuff around with building it manually <img src="//forums.whonix.org/images/emoji/twitter/joy.png?v=5" title=":joy:" class="emoji" alt=":joy:"></p>
<blockquote>
<p>Hi everyone,</p>
</blockquote>
<blockquote>
<p>It has been some time since we posted on this list, so here is a brief<br>
update:</p>
</blockquote>
<blockquote>
<ol>
<li>We have recently pushed 0.9a-4.9.20</li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li>An issue with switching from 4.8.x to 4.9.x was identified and fixed<br>
upstream (<a href="https://github.com/coldhakca/coldkernel/issues/55">https://github.com/coldhakca/coldkernel/issues/55</a>)</li>
</ol>
</blockquote>
<blockquote>
<ol start="3">
<li>The blog post for Fedora support is currently being written</li>
</ol>
</blockquote>
<blockquote>
<ol start="4">
<li>Final tests for Whonix support are underway</li>
</ol>
</blockquote>
<blockquote>
<ol start="5">
<li>0.9b will be released soon, with support for Fedora and 0.9c will<br>
follow soon after with full Whonix support (and a blog post, again.)</li>
</ol>
</blockquote>
<blockquote>
<ol start="6">
<li>Once 0.9c is out, we will direct our efforts towards providing<br>
binaries for Qubes users (and potentially our other supported platforms)</li>
</ol>
</blockquote>
<blockquote>
<ol start="7">
<li>After all above steps are complete, we will evaluate what the next<br>
steps should be. This may include attempting to provide a kernel for Dom0.</li>
</ol>
</blockquote>
<blockquote>
<p>If anyone has questions / comments, please feel free to contact me directly.</p>
</blockquote>
<blockquote>
<p>Thanks!</p>
</blockquote>
<blockquote>
<p>–<br>
Colin Childs<br>
Coldhak<br>
<a href="https://coldhak.ca">https://coldhak.ca</a><br>
Twitter: <span class="mention">@coldhakca</span></p>
</blockquote>
<p>Advanced users note: you can try it now -&gt;</p>
<blockquote>
<p>Thanks for all the hard work! WillyPillow just pointed out to me today on the qubes-devel mail list that installing busybox and updating initramfs in Whonix is all you need to do to get it to boot with coldkernel, and I just discovered myself a few minutes ago that for whonixcheck to work, you need to add ‘user’ to group 9001 (and for tor-browser to work properly, you need to disable memory protection using paxctl just like you do for regular Firefox). I haven’t gotten much further than that in my testing, though. In the meantime while we all wait for 0.9c, any other tips are appreciated!</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/13</link>
        <pubDate>Sun, 09 Apr 2017 14:46:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-13</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>torjunkie:</p>
<blockquote>
<p>That’s not gonna cut it for<br>
usability of the masses.</p>
</blockquote>
<p>Certainly true.</p>
<p>The only thing that will work out is the grsecruty kernel downloadable<br>
and all automagically from <a href="http://packages.debian.org">packages.debian.org</a>.</p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/12</link>
        <pubDate>Thu, 19 Jan 2017 07:17:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-12</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>The wiki instructions will need to preempt questions that grsec newbies (like me) will bring up in the future, so the same Qs aren’t answered over and over:</p>
<p><em>A new grsecurity patch has been released. How do I build with the new patch in my coldkernel TemplateVM?</em></p>
<p>This is not clear to me and Coldhak just says: run “make” (presumably make qubes-guest) with the new patch. That’s not gonna cut it for usability of the masses.</p>
<p><em>I want to run my grsec AppVMs as usbVM, netVM, firewallVM and/or the proxyVM, but they won’t connect or allow USB connections. What do I do?</em></p>
<p>It seems that config changes must be made to the coldkernel, so that more drivers are added to the kernel’s .config file BEFORE the step of running “make qubes-guest” (untested):</p>
<blockquote>
<p>CONFIG_XEN_BLKDEV_BACKEND=m<br>
CONFIG_XEN_NETDEV_BACKEND=m</p>
</blockquote>
<p>I’d be interested if anybody else has tried and been successful with this for networking and USB. If so, it should be recommended for experimenters.</p>
<p><em>I want to install the new grsec kernel version X.X.XX in my cold-kernel template, how do I do this?</em></p>
<p>There needs to be some general advice around how often the kernel should be updated. Qubes doesn’t update their base kernel for months at a time, but new grsec kernels seem to come out about every two weeks. It would be exhausting to build every time there is a new release.</p>
<p>Further, users will need to know which exact steps they are following to do this:</p>
<ul>
<li>clone steps again?</li>
<li>just cd coldkernel, git-verify and git-checkout commands followed by running make-qubes-guest and installation steps?</li>
<li>deleting old configs, files and kernels first?</li>
</ul>
<p>etc.</p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/11</link>
        <pubDate>Thu, 19 Jan 2017 04:25:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-11</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Grsec Whonix templates should be available within days for Qubes-Whonix. <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>This message is a few days old from Coldhak team (my emphasis):</p>
<blockquote>
<p>Hi,</p>
</blockquote>
<blockquote>
<p>Please see <a href="https://github.com/coldhakca/coldkernel/issues?q=is%3Aissue+is%3Aopen+label%3Aqubes">https://github.com/coldhakca/coldkernel/issues?q=is%3Aissue+is%3Aopen+label%3Aqubes</a><br>
for the next steps along, with their planned release versions. We are currently planning to shift 0.9b within the next week.</p>
</blockquote>
<blockquote>
<p>0.9a (the current release) was not released with Fedora support, and this was pulled from the README before the release was cut. <strong>The 0.9b release will be focused on Whonix as well as Fedora, however Whonix is currently taking priority.</strong> The goal is to push out both Whonix and Fedora support with 0.9b, however if Fedora support looks like it will take considerably longer, it will be bumped to 0.9c.</p>
</blockquote>
<blockquote>
<p>For providing binary packages, our goal is to offer grsec enabled binaries for Debian. Offering pre-built Fedora binaries is not currently in the roadmap, however it could potentially be added down the line.</p>
</blockquote>
<blockquote>
<p>There are some protections that come with compiling the kernel by hand, such as an actually random/functional GRKERNSEC_RANDSTRUCT<a href="https://en.wikibooks.org/wiki/Grsecurity/Appendix/Grsecurity_and_PaX_Configuration_Options">1</a>.</p>
</blockquote>
<blockquote></blockquote>
<p>Tested and working instructions for the Debian-8 template are already in the wiki here:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Grsecurity#How-To:_Qubes-Whonix" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/471;"><img src="https://www.whonix.org/w/images/b/bb/Padlocks-597815640.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Grsecurity#How-To:_Qubes-Whonix" target="_blank" rel="nofollow noopener">Deprecated/grsecurity</a></h3>

<p>grsecurity installation instructions</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/10</link>
        <pubDate>Wed, 18 Jan 2017 16:35:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-10</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://coldhak.ca/blog/2016/12/12/coldkernel-qubes-1.html" class="onebox" target="_blank" rel="nofollow noopener">https://coldhak.ca/blog/2016/12/12/coldkernel-qubes-1.html</a></p>
<p>We are currently working on supporting both Debian and Fedora TemplateVMs, however the below instructions assume a Debian 8 TemplateVM.</p>
<p>It is suggested that you create a dedicated Debian TemplateVM for experimenting with coldkernel. This support is very experimental, and may result in broken Templates.</p>
<p><strong>Configuring Debian TemplateVM</strong></p>
<p>First, change your max storage size to be 10GB (you can likely get away with anything over 4GB, however running out of disk space at the end of a build can be frustrating).</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="//forums.whonix.org/uploads/default/original/1X/03445980acab81e582809143fb6872acd7d4dd30.png" data-download-href="//forums.whonix.org/uploads/default/03445980acab81e582809143fb6872acd7d4dd30" title="size.png"><img src="//forums.whonix.org/uploads/default/optimized/1X/03445980acab81e582809143fb6872acd7d4dd30_2_674x500.png" width="674" height="500" srcset="//forums.whonix.org/uploads/default/optimized/1X/03445980acab81e582809143fb6872acd7d4dd30_2_674x500.png, //forums.whonix.org/uploads/default/original/1X/03445980acab81e582809143fb6872acd7d4dd30.png 1.5x, //forums.whonix.org/uploads/default/original/1X/03445980acab81e582809143fb6872acd7d4dd30.png 2x" data-small-upload="//forums.whonix.org/uploads/default/optimized/1X/03445980acab81e582809143fb6872acd7d4dd30_2_10x10.png"></a></div><p></p>
<p><strong>Fix sources.list</strong></p>
<p>Open /etc/apt/sources.list and uncomment the lines starting with deb-src. It should look something like this:</p>
<blockquote>
<p>deb <a href="http://httpredir.debian.org/debian" rel="nofollow noopener">http://httpredir.debian.org/debian</a> jessie main contrib non-free<br>
deb-src <a href="http://httpredir.debian.org/debian" rel="nofollow noopener">http://httpredir.debian.org/debian</a> jessie main contrib non-free</p>
</blockquote>
<blockquote>
<p>deb <a href="http://security.debian.org" rel="nofollow noopener">http://security.debian.org</a> jessie/updates main contrib non-free<br>
deb-src <a href="http://security.debian.org" rel="nofollow noopener">http://security.debian.org</a> jessie/updates main contrib non-free</p>
</blockquote>
<p><strong>Installing dependencies</strong></p>
<p>Run in dom0:</p>
<blockquote>
<p>sudo qubes-dom0-update grub2-xen</p>
</blockquote>
<p>Run in your Debian TemplateVM:</p>
<blockquote>
<p>sudo apt install qubes-kernel-vm-support grub2-common<br>
sudo apt install paxctl bc wget gnupg fakeroot build-essential devscripts libfile-fcntllock-perl git gcc-4.9-plugin-dev<br>
sudo apt-get build-dep linux</p>
</blockquote>
<p><strong>Building coldkernel</strong></p>
<p><strong>Cloning and verification</strong></p>
<p>Once dependencies are installed, clone and verify the coldkernel build scripts on your TemplateVM:</p>
<blockquote>
<p>wget “<a href="https://coldhak.ca/coldhak/keys/coldhak.asc" rel="nofollow noopener">https://coldhak.ca/coldhak/keys/coldhak.asc</a>” -O coldhak.asc<br>
gpg --import coldhak.asc<br>
git clone <a href="https://github.com/coldhakca/coldkernel" rel="nofollow noopener">https://github.com/coldhakca/coldkernel</a><br>
cd coldkernel<br>
git verify-tag coldkernel-0.9a-4.8.13<br>
git checkout tags/coldkernel-0.9a-4.8.13</p>
</blockquote>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="//forums.whonix.org/uploads/default/original/1X/054009149ed493891fe5caf8cc76d718e3ce2cb0.png" data-download-href="//forums.whonix.org/uploads/default/054009149ed493891fe5caf8cc76d718e3ce2cb0" title="verify.png"><img src="//forums.whonix.org/uploads/default/optimized/1X/054009149ed493891fe5caf8cc76d718e3ce2cb0_2_690x349.png" width="690" height="349" srcset="//forums.whonix.org/uploads/default/optimized/1X/054009149ed493891fe5caf8cc76d718e3ce2cb0_2_690x349.png, //forums.whonix.org/uploads/default/original/1X/054009149ed493891fe5caf8cc76d718e3ce2cb0.png 1.5x, //forums.whonix.org/uploads/default/original/1X/054009149ed493891fe5caf8cc76d718e3ce2cb0.png 2x" data-small-upload="//forums.whonix.org/uploads/default/optimized/1X/054009149ed493891fe5caf8cc76d718e3ce2cb0_2_10x10.png"></a></div><p></p>
<p><strong>Building</strong></p>
<p>Next, begin the coldkernel build. This step may take multiple hours depending on your hardware.</p>
<blockquote>
<p>make qubes-guest</p>
</blockquote>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="//forums.whonix.org/uploads/default/original/1X/4536166ec32a88367e934f92e7f7b376e9504e72.png" data-download-href="//forums.whonix.org/uploads/default/4536166ec32a88367e934f92e7f7b376e9504e72" title="build.png"><img src="//forums.whonix.org/uploads/default/optimized/1X/4536166ec32a88367e934f92e7f7b376e9504e72_2_690x349.png" width="690" height="349" srcset="//forums.whonix.org/uploads/default/optimized/1X/4536166ec32a88367e934f92e7f7b376e9504e72_2_690x349.png, //forums.whonix.org/uploads/default/original/1X/4536166ec32a88367e934f92e7f7b376e9504e72.png 1.5x, //forums.whonix.org/uploads/default/original/1X/4536166ec32a88367e934f92e7f7b376e9504e72.png 2x" data-small-upload="//forums.whonix.org/uploads/default/optimized/1X/4536166ec32a88367e934f92e7f7b376e9504e72_2_10x10.png"></a></div><p></p>
<p><strong>Installing coldkernel</strong></p>
<p>Run in your Debian TemplateVM post-build:</p>
<blockquote>
<p>wget <a href="https://grsecurity.net/paxctld/paxctld_1.2.1-1_amd64.%7Bdeb,deb.sig" rel="nofollow noopener">https://grsecurity.net/paxctld/paxctld_1.2.1-1_amd64.{deb,deb.sig</a>}<br>
gpg --homedir=.gnupg --verify paxctld_1.2.1-1_amd64.{deb.sig,deb}<br>
sudo dpkg -i paxctld_1.2.1-1_amd64.deb<br>
sudo make install-deb<br>
sudo cp paxctld.conf /etc/paxctld.conf<br>
sudo paxctld -d<br>
sudo systemctl enable paxctld<br>
sudo mkdir /boot/grub<br>
sudo update-grub2<br>
sudo shutdown -h now</p>
</blockquote>
<p><strong>Post-install TemplateVM configuration</strong></p>
<p>Once the TemplateVM has been shutdown, you can change the kernel in the Qubes VM manager to pvgrub and start the VM.</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="//forums.whonix.org/uploads/default/original/1X/404adb81cdb4b28310267ec65e6029499f454f34.png" data-download-href="//forums.whonix.org/uploads/default/404adb81cdb4b28310267ec65e6029499f454f34" title="pvgrub.png"><img src="//forums.whonix.org/uploads/default/optimized/1X/404adb81cdb4b28310267ec65e6029499f454f34_2_690x476.png" width="690" height="476" srcset="//forums.whonix.org/uploads/default/optimized/1X/404adb81cdb4b28310267ec65e6029499f454f34_2_690x476.png, //forums.whonix.org/uploads/default/original/1X/404adb81cdb4b28310267ec65e6029499f454f34.png 1.5x, //forums.whonix.org/uploads/default/original/1X/404adb81cdb4b28310267ec65e6029499f454f34.png 2x" data-small-upload="//forums.whonix.org/uploads/default/optimized/1X/404adb81cdb4b28310267ec65e6029499f454f34_2_10x10.png"></a></div><p></p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/9</link>
        <pubDate>Thu, 15 Dec 2016 10:37:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-9</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>The instructions for building the GrSec kernel for Qubes Debian 8 TemplateVM is now on-line. Whonix templates will come later.</p>
<p><strong>INSTRUCTIONS</strong></p>
<p><strong>Note:</strong> extremely alpha! It would make sense to try this with a cloned Debian TemplateVM, just in case you break things. The kernel has been bumped to 4.8.13, which is the latest version available at the time of writing.</p>
<p>I haven’t tried it, but I’m sure <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> won’t be able to resist! Note the building of the kernel can take hours and you need to increase your template size to at least 10GB.</p>
<p>Edit: See updated and clear working instructions below.</p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/8</link>
        <pubDate>Sun, 11 Dec 2016 08:20:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-8</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>For future reference, it is worth noting that once Grsec templates are available in Qubes-Whonix within the next 6 months, the hardened Tor browser series is not going to play well with them.</p>
<p>Users will be required to run the default (stable) Tor browser instead.</p>
<p>The internet informs me that Grsec patches are incompatible with ASAN processes present in the hardened Tor browser series, due to PaX conflicts. Specifically:</p>
<blockquote>
<p>PaX hard limits the maximum virtual memory size of a task in security/Kconfig:</p>
</blockquote>
<blockquote>
<p>…ASAN needs only 2 TB, but it needs them at a very specific address (to mirror the addresses used by the programm in the lower 2 TB of the address space), so at least 8 TB address space is needed to fit all the mappings at their expected addresses.</p>
</blockquote>
<p>The effect is that ASAN will fail when it tries to allocate a large range of virtual memory for its shadow memory. This will result in errors when trying to start the hardened Tor browser, like this one seen in Gentoo:</p>
<blockquote>
<p>==5223==Shadow memory range interleaves with an existing memory mapping. ASan cannot proceed correctly. ABORTING.</p>
</blockquote>
<p>Addtional Pax flags will not work. The experts advise that it is still better to run the Grsec kernel, because ASAN is only really good for detecting (not preventing) memory corruption, whereas Grsec is designed to prevent exploitation.</p>
<p>A good technical guide - way, way above my paygrade - explaining the conflicts between Grsec and various memory clang sanitizers can be found here:</p>
<p><a href="http://endl.ch/clang-sanitizers-with-pax" class="onebox" target="_blank">http://endl.ch/clang-sanitizers-with-pax</a></p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/7</link>
        <pubDate>Sun, 27 Nov 2016 11:16:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-7</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I don’t say that. That’s just resources for getting more information and hints for experimenters.</p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/6</link>
        <pubDate>Sat, 26 Nov 2016 17:00:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-6</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[whonixbest]]></dc:creator>
        <description><![CDATA[
            <p>you can say that I can do, if you have entered these commands?</p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/5</link>
        <pubDate>Sat, 26 Nov 2016 15:10:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-5</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This is unrelated to subgraph.</p>
<p>coldhak / coldkernel is specifically working on Qubes support.</p>
<p><a href="https://github.com/coldhakca/coldkernel/issues/35#issuecomment-262175541" class="onebox" target="_blank">https://github.com/coldhakca/coldkernel/issues/35#issuecomment-262175541</a></p>
<p><a href="https://www.coldhak.ca/" class="onebox" target="_blank">https://www.coldhak.ca/</a></p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/4</link>
        <pubDate>Fri, 25 Nov 2016 23:19:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-4</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>Sorry, don’t know much about this. Here is the qubes ML discussion:</p>
<p><a href="https://groups.google.com/forum/#!msg/qubes-users/UwmSg_hniN0/Nd_IgdCYCQAJ" class="onebox" target="_blank">https://groups.google.com/forum/#!msg/qubes-users/UwmSg_hniN0/Nd_IgdCYCQAJ</a></p>
<p>and a quote from <a href="https://secure-os.org/pipermail/desktops/2015-October/000002.html:">https://secure-os.org/pipermail/desktops/2015-October/000002.html:</a></p>
<pre><code>One thing we would not be able to take immediate advantage of in Qubes OS would
be the Subgraph-maintained grsec kernels. Even if we could package them properly
for use for the Qubes VMs (which should be easy), I'm not sure if the PV-nature
of our VMs would allow to get most benefit of things such as SMAP and SMEP,
potentially other protections...? But then again, Subgraph heavily use of
seccomp should provide significant hardening against the app-&gt;kernel attacks,
and for other attacks, specifically those coming from devices and networking and
usb stacks, we do have VM-isolated VMs.

Cheers,
joanna.</code></pre>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/3</link>
        <pubDate>Fri, 25 Nov 2016 05:25:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-3</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<p>Moved this to General Tor and Anonymity Talk, as it doesn’t really fit in Support.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/2</link>
        <pubDate>Thu, 24 Nov 2016 11:09:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-2</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
      <item>
        <title>Grsec Kernel for Debian 8 Template VM now available</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Coldhakca now has the Debian 8 Template VM booting with Grsec (coldkernel) and has successfully made AppVMs with it!!</p>
<p>Yes! Christmas has come early! <img src="//forums.whonix.org/images/emoji/twitter/sunglasses.png?v=5" title=":sunglasses:" class="emoji" alt=":sunglasses:"> See screenshots here:</p>
<p><a href="https://twitter.com/coldhakca" class="onebox" target="_blank">https://twitter.com/coldhakca</a></p>
<p>Should a tester template become available soon, sign me up! They have dom0, Fedora, and Whonix-WS and Whonix-GW on their ‘to do’ list next!</p>
<p>If Patrick or one of the more adventurous types wants to try it, the 4.8.9 and 4.8.10 kernels can be found here:</p>
<p></p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://assets-cdn.github.com/favicon.ico" class="site-icon" width="32" height="32">
      <a href="https://github.com/coldhakca/coldkernel/releases/tag/coldkernel-0.8f-4.8.10" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars2.githubusercontent.com/u/11778414?s=400&amp;v=4" class="thumbnail onebox-avatar" width="400" height="400">

<h3><a href="https://github.com/coldhakca/coldkernel/releases/tag/coldkernel-0.8f-4.8.10" target="_blank" rel="nofollow noopener">coldhakca/coldkernel</a></h3>

<p>coldkernel - Hardened kernel generation - Deprecated</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://assets-cdn.github.com/favicon.ico" class="site-icon" width="32" height="32">
      <a href="https://github.com/coldhakca/coldkernel/releases/tag/coldkernel-0.8f-4.8.9" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars2.githubusercontent.com/u/11778414?s=400&amp;v=4" class="thumbnail onebox-avatar" width="400" height="400">

<h3><a href="https://github.com/coldhakca/coldkernel/releases/tag/coldkernel-0.8f-4.8.9" target="_blank" rel="nofollow noopener">coldhakca/coldkernel</a></h3>

<p>coldkernel - Hardened kernel generation - Deprecated</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<p>Apparently you have to run ‘make’ with the source file and patch, but I’m not up with building custom kernels.</p>
<p>Patrick, entr0py, any tips? This could finally solve the Grsec wishlist that many a forum poster has wanted for Whonix and Qubes.</p>
<p>Sorry if posted in the wrong forum, not sure where it belongs.</p>
          <p><a href="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192/1</link>
        <pubDate>Thu, 24 Nov 2016 10:59:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3192-1</guid>
        <source url="http://forums.whonix.org/t/grsec-kernel-for-debian-8-template-vm-now-available/3192.rss">Grsec Kernel for Debian 8 Template VM now available</source>
      </item>
  </channel>
</rss>
