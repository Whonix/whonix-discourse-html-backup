<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
    <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477</link>
    <description>Quote https://www.openwall.com/lkrg/

&gt; Linux Kernel Runtime Guard (LKRG) is a loadable kernel module that performs runtime integrity checking of the Linux kernel and detection of security vulnerability exploits against the kernel. As controversial as this concept is, LKRG attempts to *post* -detect and *hopefully* promptly respond to unauthorized modifications to the running Linux kernel (integrity checking) or to credentials (such as user IDs) of the running processes (exploit detection). For process credentials, LKRG attempts to detect the exploit and take action before the kernel would grant the process access (such as open a file) based on the unauthorized credentials.

&gt; Please check out our [presentation slides on LKRG](https://www.openwall.com/presentations/CONFidence2018-LKRG-Under-The-Hood/).

&gt; While LKRG defeats many pre-existing exploits of Linux kernel vulnerabilities, and will likely defeat many future exploits (including of yet unknown vulnerabilities) that do not specifically attempt to bypass LKRG, it is bypassable by design (albeit sometimes at the expense of more complicated and/or less reliable exploits). Thus, it can be said that LKRG provides *security through diversity* , much like running an uncommon OS kernel would, yet without the usability drawbacks of actually running an uncommon OS. As free LKRG becomes somewhat popular and maybe a target of some exploits, we might introduce paid LKRG Pro as a means to fund the project and provide further diversity (with Pro&#39;s smaller userbase being beneficial), extra and specialized functionality (e.g., detection of container escapes), and maybe distro-specific binary builds.

[CONFidence 2018: Linux Kernel Runtime Guard (LKRG) under the hood (Adam &quot;pi3&quot; Zabrocki)](https://www.youtube.com/watch?v=tOiPM692DOM)

----

https://www.whonix.org/wiki/Linux_Kernel_Runtime_Guard_LKRG</description>
    <language>en</language>
    <lastBuildDate>Wed, 25 May 2022 14:07:11 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>LKRG 0.9.3 now in testers repository.</p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/61">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/61</link>
        <pubDate>Wed, 25 May 2022 14:07:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-61</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubissue" data-onebox-src="https://github.com/lkrg-org/lkrg/issues/159#issuecomment-1048977538">
  <header class="source">

      <a href="https://github.com/lkrg-org/lkrg/issues/159#issuecomment-1048977538" target="_blank" rel="noopener">github.com/lkrg-org/lkrg</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/lkrg-org/lkrg/issues/159#issuecomment-1048977538" target="_blank" rel="noopener">Crash when computing IDT hash in old Xen PV guest</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-02-17" data-time="12:37:36" data-timezone="UTC">12:37PM - 17 Feb 22 UTC</span>
      </div>

        <div class="date">
          closed <span class="discourse-local-date" data-format="ll" data-date="2022-02-24" data-time="01:18:01" data-timezone="UTC">01:18AM - 24 Feb 22 UTC</span>
        </div>

      <div class="user">
        <a href="https://github.com/solardiz" target="_blank" rel="noopener">
          <img alt="solardiz" src="https://avatars.githubusercontent.com/u/18089797?v=4" class="onebox-avatar-inline" width="20" height="20">
          solardiz
        </a>
      </div>
    </div>

    <div class="labels">
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          bug
        </span>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">We might not care as the issue does not affect currently supported Qubes, but th<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">is _might_ be our bug/shortcoming affecting other systems as well, so to have it documented for later:

Trying to load LKRG on (no longer supported) Qubes 3.x paravirtualized kernels in a Xen VM, based on Linux 4.9.x or 4.14.x, instantly crashes in `p_lkrg_fast_hash`. The backtraces vary - sometimes go from `init_module`, other times in interrupt context. The issue is present in current LKRG, but it's reproducible just the same even on LKRG 0.0 (although to build versions 0.4 and below for this test, I had to add a missing `#include` line - fixed in 0.5+).

On Qubes OS 4.1 with a 5.10.x based kernel, also running paravirtualized, there's no issue - LKRG loads and appears to work just fine (except that it fails to locate `lookup_fast`, so `LKRG won't enforce pCFI validation on 'lookup_fast'`).

For example, here's the log for current LKRG on a 4.9.x kernel:

```
[   99.197541] [p_lkrg] Loading LKRG...
[   99.197561] [p_lkrg] System does NOT support SMEP. LKRG can't enforce SMEP validation :(
[   99.197575] [p_lkrg] System does NOT support SMAP. LKRG can't enforce SMAP validation :(
[   99.200423] Freezing user space processes ... (elapsed 0.016 seconds) done.
[   99.691510] [p_lkrg] [kretprobe] register_kretprobe() for &lt;ovl_create_or_link&gt; failed! [err=-2]
[   99.691535] [p_lkrg] Can't hook 'ovl_create_or_link' function. This is expected if you are not using OverlayFS.
[   99.847945] BUG: unable to handle kernel paging request at ffff83035295e000
[   99.847968] IP: [&lt;ffffffffc00ff30a&gt;] p_lkrg_fast_hash+0x7a/0x210 [p_lkrg]
[   99.848004] PGD 62 [   99.848005] PUD 0 
[   99.848005] 
[   99.848005] Oops: 0001 [#1] SMP
[   99.848005] Modules linked in: p_lkrg(O+) fuse ip6table_filter ip6_tables xt_conntrack ipt_MASQUERADE nf_nat_masquerade_ipv4 iptable_nat nf_conntrack_ipv4 nf_defrag_ipv4 nf_nat_ipv4 nf_nat nf_conntrack intel_rapl x86_pkg_temp_thermal coretemp xen_netfront crct10dif_pclmul crc32_pclmul crc32c_intel ghash_clmulni_intel pcspkr dummy_hcd udc_core xenfs xen_blkback xen_privcmd u2mfn(O) xen_blkfront
[   99.848005] CPU: 0 PID: 2469 Comm: insmod Tainted: G           O    4.9.56-21.pvops.qubes.x86_64 #1
[   99.848005] task: ffff88008eb29d80 task.stack: ffffc900022e4000
[   99.848005] RIP: e030:[&lt;ffffffffc00ff30a&gt;]  [&lt;ffffffffc00ff30a&gt;] p_lkrg_fast_hash+0x7a/0x210 [p_lkrg]
[   99.848005] RSP: e02b:ffffc900022e7b20  EFLAGS: 00010087
[   99.848005] RAX: 76babb3a016df97c RBX: 0000000000000000 RCX: 0722faec0df5344b
[   99.848005] RDX: 66b0ad39167df362 RSI: 0000000000000000 RDI: ffff83035295e000
[   99.848005] RBP: ffffc900022e7b40 R08: 744d97897d86513e R09: ffff83035295e000
[   99.848005] R10: ffff88009d361400 R11: ffff83035295f000 R12: 1834f0ec13e3235f
[   99.848005] R13: ffffffffc0133000 R14: ffffffffc0128050 R15: 0000000000000001
[   99.848005] FS:  0000706f65f09700(0000) GS:ffff880015000000(0000) knlGS:ffff880015000000
[   99.848005] CS:  e033 DS: 0000 ES: 0000 CR0: 0000000080050033
[   99.848005] CR2: ffff83035295e000 CR3: 00000000ab34f000 CR4: 0000000000042660
[   99.848005] Stack:
[   99.848005]  ffff880015018ff0 a0d8c2d23dd47253 ffff88009d361400 0000000000000000
[   99.848005]  ffffc900022e7b90 ffffffffc0108a30 a0d8c2d23dd47253 ffff880015018f80
[   99.848005]  ffff88008eb29d80 ffff83035295e000 a0d8c2d23dd47253 0000000080050033
[   99.848005] Call Trace:
[   99.848005]  [&lt;ffffffffc0108a30&gt;] p_dump_x86_metadata+0x70/0x520 [p_lkrg]
[   99.848005]  [&lt;ffffffffc0133000&gt;] ? 0xffffffffc0133000
[   99.848005]  [&lt;ffffffffc010912d&gt;] p_dump_CPU_metadata+0xdd/0x1b0 [p_lkrg]
[   99.848005]  [&lt;ffffffff8112191f&gt;] generic_exec_single+0xaf/0x120
[   99.848005]  [&lt;ffffffffc010a15f&gt;] ? p_create_database+0x7f/0x460 [p_lkrg]
[   99.848005]  [&lt;ffffffffc0109050&gt;] ? p_uninstall_switch_idt_hook+0x80/0x80 [p_lkrg]
[   99.848005]  [&lt;ffffffff81121a5c&gt;] smp_call_function_single+0xcc/0x130
[   99.848005]  [&lt;ffffffff8122081d&gt;] ? __kmalloc+0x16d/0x210
[   99.848005]  [&lt;ffffffffc010a1e6&gt;] p_create_database+0x106/0x460 [p_lkrg]
[   99.848005]  [&lt;ffffffffc013346c&gt;] p_lkrg_register+0x46c/0x1000 [p_lkrg]
[   99.848005]  [&lt;ffffffffc0133000&gt;] ? 0xffffffffc0133000
[   99.848005]  [&lt;ffffffff81002190&gt;] do_one_initcall+0x50/0x190
[   99.848005]  [&lt;ffffffff811bc5bf&gt;] ? free_hot_cold_page+0x1af/0x2b0
[   99.848005]  [&lt;ffffffff8121f37a&gt;] ? kmem_cache_alloc_trace+0xea/0x1d0
[   99.848005]  [&lt;ffffffff811b230f&gt;] ? do_init_module+0x27/0x1ee
[   99.848005]  [&lt;ffffffff811b2347&gt;] do_init_module+0x5f/0x1ee
[   99.848005]  [&lt;ffffffff81127ed6&gt;] load_module+0x1766/0x1b30
[   99.848005]  [&lt;ffffffff811248b0&gt;] ? __symbol_put+0x60/0x60
[   99.848005]  [&lt;ffffffff8112850f&gt;] SYSC_finit_module+0xdf/0x110
[   99.848005]  [&lt;ffffffff8112855e&gt;] SyS_finit_module+0xe/0x10
[   99.848005]  [&lt;ffffffff817e1037&gt;] entry_SYSCALL_64_fastpath+0x1a/0xa9
[   99.848005] Code: b8 73 65 74 79 62 64 65 74 48 b9 75 65 73 70 65 6d 6f 73 48 c1 e3 38 4c 31 c8 4d 31 c4 4c 31 ca 4c 31 c1 4c 39 df 74 61 49 89 f9 &lt;4d&gt; 8b 11 41 b8 02 00 00 00 4c 31 d0 48 01 d1 49 01 c4 48 c1 c2 
[   99.848005] RIP  [&lt;ffffffffc00ff30a&gt;] p_lkrg_fast_hash+0x7a/0x210 [p_lkrg]
[   99.848005]  RSP &lt;ffffc900022e7b20&gt;
[   99.848005] CR2: ffff83035295e000
```</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/60">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/60</link>
        <pubDate>Sat, 26 Feb 2022 09:09:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-60</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Now in all repositories.</p>
<hr>
<ul>
<li><a href="https://github.com/lkrg-org/lkrg/issues/82#issuecomment-1047330421">https://github.com/lkrg-org/lkrg/issues/82#issuecomment-1047330421</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/59">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/59</link>
        <pubDate>Tue, 22 Feb 2022 08:34:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-59</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>LKRG 0.9.2 was uploaded to the testers repository just now.</p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/58">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/58</link>
        <pubDate>Sat, 15 Jan 2022 18:08:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-58</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubissue">
  <header class="source">

      <a href="https://github.com/openwall/lkrg/issues/113" target="_blank" rel="noopener">github.com/openwall/lkrg</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/openwall/lkrg/issues/113" target="_blank" rel="noopener">feature request: Debian package - kernel module signing for kernel_lockdown</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-08-21" data-time="10:27:33" data-timezone="UTC">10:27AM - 21 Aug 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">DKMS supports it:

* https://github.com/dell/dkms/pull/87
* https://github.co<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">m/dell/dkms/issues/72

But how to use it? Is this something to be implemented per kernel module? Or is this a sysadmin task?

//cc @morfikov

Would you know how to implement this?</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/57">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/57</link>
        <pubDate>Sat, 21 Aug 2021 10:27:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-57</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>LKRG 0.9.1 is now available in Whonix testers repository.</p>
<p><a href="https://www.whonix.org/wiki/Linux_Kernel_Runtime_Guard_LKRG" class="inline-onebox">Linux Kernel Runtime Guard (LKRG) for Debian, Whonix, Qubes, Kicksecure</a> was also updated.</p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/56">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/56</link>
        <pubDate>Sun, 01 Aug 2021 17:44:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-56</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">

      <a href="https://github.com/Whonix/security-misc/commit/5a65c35479f267b026c03e195658ef9d98ee519c" target="_blank" rel="noopener">github.com/Whonix/security-misc</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/security-misc/commit/5a65c35479f267b026c03e195658ef9d98ee519c" target="_blank" rel="noopener">port LKRG compatibility settings automation for VirtualBox hosts from systemd to dpkg trigger</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2021-08-01" data-time="17:11:18" data-timezone="UTC">05:11PM - 01 Aug 21 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 3 files with 9 additions and 5 deletions">
        <a href="https://github.com/Whonix/security-misc/commit/5a65c35479f267b026c03e195658ef9d98ee519c" target="_blank" rel="noopener">
          <span class="added">+9</span>
          <span class="removed">-5</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/55">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/55</link>
        <pubDate>Sun, 01 Aug 2021 17:43:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-55</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubpullrequest">
  <header class="source">

      <a href="https://github.com/openwall/lkrg/pull/104" target="_blank" rel="noopener">github.com/openwall/lkrg</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/openwall/lkrg/pull/104" target="_blank" rel="noopener">Debian buster packaging compatibility</a>
    </h4>

    <div class="branches">
      <code>openwall:main</code> ← <code>Whonix:debian-packaging-buster-fix</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-07-24" data-time="15:58:33" data-timezone="UTC">03:58PM - 24 Jul 21 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="1 commits changed 2 files with 2 additions and 2 deletions">
        <a href="https://github.com/openwall/lkrg/pull/104/files" target="_blank" rel="noopener">
          <span class="added">+2</span>
          <span class="removed">-2</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Fixes this issue when building with cowbuilder on Debian buster.

```
The fol<span class="show-more-container"><a href="https://github.com/openwall/lkrg/pull/104" target="_blank" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">lowing packages have unmet dependencies:
 pbuilder-satisfydepends-dummy : Depends: debhelper-compat (= 13) which is a virtual package, provided by:
                                          - debhelper (12.1.1) provides debhelper-compat=12, but 12.1.1 is installed
                                          - debhelper (12.1.1) provides debhelper-compat=11, but 12.1.1 is installed
                                          - debhelper (12.1.1) provides debhelper-compat=10, but 12.1.1 is installed
                                          - debhelper (12.1.1) provides debhelper-compat=9, but 12.1.1 is installed

Unable to resolve dependencies!  Giving up...
```</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubpullrequest">
  <header class="source">

      <a href="https://github.com/openwall/lkrg/pull/107" target="_blank" rel="noopener">github.com/openwall/lkrg</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/openwall/lkrg/pull/107" target="_blank" rel="noopener">fix path to /etc/sysctl.d/30-lkrg-dkms.conf</a>
    </h4>

    <div class="branches">
      <code>openwall:main</code> ← <code>adrelanos:patch-3</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-07-25" data-time="15:49:58" data-timezone="UTC">03:49PM - 25 Jul 21 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="1 commits changed 1 files with 1 additions and 1 deletions">
        <a href="https://github.com/openwall/lkrg/pull/107/files" target="_blank" rel="noopener">
          <span class="added">+1</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">https://github.com/openwall/lkrg/blob/main/debian/rules#L22 install [`scripts/bo<span class="show-more-container"><a href="https://github.com/openwall/lkrg/pull/107" target="_blank" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">otup/lkrg.conf`](https://github.com/openwall/lkrg/blob/main/scripts/bootup/lkrg.conf) it to `/etc/sysctl.d/30-lkrg-dkms.conf`.

(The prefix `30-lkrg` seems right for a `d.` directory, i.e. for `/etc/sysctl.d/`.)

Not to `/etc/sysctl.d/lkrg.conf` as referenced in [`scripts/bootup/systemd/lkrg.service`](https://github.com/openwall/lkrg/blob/main/scripts/bootup/systemd/lkrg.service).

So in order to fix the Debian package (make LKRG work after installation) some change is required.

Currently this issue is happening:

```
user@localhost:~$ sudo systemctl status lkrg
```
```
● lkrg.service - Linux Kernel Runtime Guard
   Loaded: loaded (/lib/systemd/system/lkrg.service; enabled; vendor preset: enabled)
   Active: failed (Result: exit-code) since Sun 2021-07-25 15:40:37 UTC; 4s ago
  Process: 5539 ExecStart=/sbin/modprobe -v p_lkrg (code=exited, status=0/SUCCESS)
  Process: 5540 ExecStartPost=/sbin/sysctl -p /etc/sysctl.d/lkrg.conf (code=exited, status=255/EXCEPTION)
 Main PID: 5539 (code=exited, status=0/SUCCESS)

Jul 25 15:40:37 localhost.localdomain systemd[1]: Starting Linux Kernel Runtime Guard...
Jul 25 15:40:37 localhost.localdomain sysctl[5540]: sysctl: cannot open "/etc/sysctl.d/lkrg.conf": No such file or directory
Jul 25 15:40:37 localhost.localdomain systemd[1]: lkrg.service: Control process exited, code=exited, status=255/EXCEPTION
Jul 25 15:40:37 localhost.localdomain systemd[1]: lkrg.service: Failed with result 'exit-code'.
Jul 25 15:40:37 localhost.localdomain systemd[1]: Failed to start Linux Kernel Runtime Guard.
```

Issue being `sysctl: cannot open "/etc/sysctl.d/lkrg.conf": No such file or directory`.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubissue">
  <header class="source">

      <a href="https://github.com/openwall/lkrg/issues/108" target="_blank" rel="noopener">github.com/openwall/lkrg</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/openwall/lkrg/issues/108" target="_blank" rel="noopener">LKRG Debian package - systemd unit does not automatically start - lkrg.service is a disabled or a static unit, not starting it.</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-07-25" data-time="15:53:56" data-timezone="UTC">03:53PM - 25 Jul 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">&gt; sudo apt install lkrg
```
...
Setting up lkrg (0.9.1-3) ...
Setting up lkr<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">g-systemd (0.9.1-3) ...
lkrg.service is a disabled or a static unit, not starting it.
```

It requires a manual `sudo systemctl enable lkrg` and reboot or `sudo systemctl start lkrg`.

I am wondering, why does it do that?

The Debian default is to enable systemd units after installation.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubissue">
  <header class="source">

      <a href="https://github.com/openwall/lkrg/issues/109" target="_blank" rel="noopener">github.com/openwall/lkrg</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/openwall/lkrg/issues/109" target="_blank" rel="noopener">systemd unit unnecessary use ExecStop / unload LKRG at shutdown</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-07-25" data-time="16:06:41" data-timezone="UTC">04:06PM - 25 Jul 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">https://github.com/openwall/lkrg/blob/main/scripts/bootup/systemd/lkrg.service c<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">urrently uses:

* `Before=[...] shutdown.target`
* `ExecStop=/sbin/modprobe -v -r p_lkrg`

I don't see what this would be good for? Could even be a security issue to unload LKRG?

System shutdown works well even if LKRG doesn ot get unload. If it's not needed then it's best avoided for simplicity.

Maybe related:
https://github.com/openwall/lkrg/issues/108</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubissue">
  <header class="source">

      <a href="https://github.com/openwall/lkrg/issues/110" target="_blank" rel="noopener">github.com/openwall/lkrg</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/openwall/lkrg/issues/110" target="_blank" rel="noopener">Debian package DKMS fails to update LKRG kernel modules during Linux kernel upgrade</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-07-25" data-time="17:10:33" data-timezone="UTC">05:10PM - 25 Jul 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">```
user@localhost:~$ sudo apt install lkrg
Reading package lists... Done
Bui<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">lding dependency tree       
Reading state information... Done
The following additional packages will be installed:
  lkrg-dkms lkrg-systemd
The following NEW packages will be installed:
  lkrg lkrg-dkms lkrg-systemd
0 upgraded, 3 newly installed, 0 to remove and 33 not upgraded.
Need to get 0 B/120 kB of archives.
After this operation, 941 kB of additional disk space will be used.
Do you want to continue? [Y/n] y
Selecting previously unselected package lkrg-dkms.
(Reading database ... 78435 files and directories currently installed.)
Preparing to unpack .../lkrg-dkms_0.9.1-3_all.deb ...
Unpacking lkrg-dkms (0.9.1-3) ...
Selecting previously unselected package lkrg.
Preparing to unpack .../archives/lkrg_0.9.1-3_all.deb ...
Unpacking lkrg (0.9.1-3) ...
Selecting previously unselected package lkrg-systemd.
Preparing to unpack .../lkrg-systemd_0.9.1-3_all.deb ...
Unpacking lkrg-systemd (0.9.1-3) ...
Setting up lkrg-dkms (0.9.1-3) ...
Loading new lkrg-0.9.1 DKMS files...
Building for 4.19.0-17-amd64
Building initial module for 4.19.0-17-amd64
Done.

p_lkrg.ko:
Running module version sanity check.
 - Original module
   - No original module exists within this kernel
 - Installation
   - Installing to /lib/modules/4.19.0-17-amd64/updates/dkms/

do_depmod 4.19.0-17-amd64


DKMS: install completed.
Setting up lkrg (0.9.1-3) ...
Setting up lkrg-systemd (0.9.1-3) ...
lkrg.service is a disabled or a static unit, not starting it.
user@localhost:~$
```

```
user@localhost:~$ sudo apt install linux-headers-4.19.0-17-amd64 linux-image-4.19.0-17-amd64
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  linux-headers-4.19.0-17-common linux-kbuild-4.19
Suggested packages:
  linux-doc-4.19 debian-kernel-handbook
Recommended packages:
  firmware-linux-free
The following packages will be upgraded:
  linux-headers-4.19.0-17-amd64 linux-headers-4.19.0-17-common linux-image-4.19.0-17-amd64 linux-kbuild-4.19
4 upgraded, 0 newly installed, 0 to remove and 29 not upgraded.
Need to get 0 B/58.7 MB of archives.
After this operation, 4,096 B of additional disk space will be used.
Do you want to continue? [Y/n] 
(Reading database ... 78687 files and directories currently installed.)
Preparing to unpack .../linux-headers-4.19.0-17-amd64_4.19.194-3_amd64.deb ...
Unpacking linux-headers-4.19.0-17-amd64 (4.19.194-3) over (4.19.194-2) ...
Preparing to unpack .../linux-headers-4.19.0-17-common_4.19.194-3_all.deb ...
Unpacking linux-headers-4.19.0-17-common (4.19.194-3) over (4.19.194-2) ...
Preparing to unpack .../linux-kbuild-4.19_4.19.194-3_amd64.deb ...
Unpacking linux-kbuild-4.19 (4.19.194-3) over (4.19.194-2) ...
Preparing to unpack .../linux-image-4.19.0-17-amd64_4.19.194-3_amd64.deb ...
Unpacking linux-image-4.19.0-17-amd64 (4.19.194-3) over (4.19.194-2) ...
Setting up linux-kbuild-4.19 (4.19.194-3) ...
Setting up linux-image-4.19.0-17-amd64 (4.19.194-3) ...
/etc/kernel/postinst.d/30_remove-system-map:
Deleting system.map files...
removed '/boot/System.map-4.19.0-17-amd64'
Done. Success.
/etc/kernel/postinst.d/initramfs-tools:
update-initramfs: Generating /boot/initrd.img-4.19.0-17-amd64
cryptsetup: WARNING: The initramfs image may not contain cryptsetup binaries 
    nor crypto modules. If that's on purpose, you may want to uninstall the 
    'cryptsetup-initramfs' package in order to disable the cryptsetup initramfs 
    integration and avoid this warning.
live-boot: core filesystems devices utils udev blockdev dns.
/etc/kernel/postinst.d/zz-update-grub:
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-4.19.0-17-amd64
Found initrd image: /boot/initrd.img-4.19.0-17-amd64
Found linux image: /boot/vmlinuz-4.19.0-17-amd64
Found initrd image: /boot/initrd.img-4.19.0-17-amd64
done
Setting up linux-headers-4.19.0-17-common (4.19.194-3) ...
Setting up linux-headers-4.19.0-17-amd64 (4.19.194-3) ...
user@localhost:~$
```</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/54">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/54</link>
        <pubDate>Sun, 25 Jul 2021 17:26:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-54</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">

      <a href="https://github.com/Whonix/security-misc/commit/257cef24baa038b21ef511e9d95c4229a5e16f68" target="_blank" rel="noopener">github.com/Whonix/security-misc</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/security-misc/commit/257cef24baa038b21ef511e9d95c4229a5e16f68" target="_blank" rel="noopener">add LKRG compatibility settings automation for VirtualBox hosts</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2021-07-24" data-time="22:03:40" data-timezone="UTC">10:03PM - 24 Jul 21 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 3 files with 60 additions and 0 deletions">
        <a href="https://github.com/Whonix/security-misc/commit/257cef24baa038b21ef511e9d95c4229a5e16f68" target="_blank" rel="noopener">
          <span class="added">+60</span>
          <span class="removed">-0</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">
https://github.com/openwall/lkrg/issues/82</p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">

      <a href="https://github.com/adrelanos/security-misc/commit/7e128636b3a4ea7fe5dfa12018685ab7b5dda706" target="_blank" rel="noopener">github.com/adrelanos/security-misc</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/adrelanos/security-misc/commit/7e128636b3a4ea7fe5dfa12018685ab7b5dda706" target="_blank" rel="noopener">improve LKRG VirtualBox host configuration</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2021-07-25" data-time="15:26:20" data-timezone="UTC">03:26PM - 25 Jul 21 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 1 files with 1 additions and 4 deletions">
        <a href="https://github.com/adrelanos/security-misc/commit/7e128636b3a4ea7fe5dfa12018685ab7b5dda706" target="_blank" rel="noopener">
          <span class="added">+1</span>
          <span class="removed">-4</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">
as per https://github.com/openwall/lkrg/issues/82#issuecomment-886188999</p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/53">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/53</link>
        <pubDate>Sun, 25 Jul 2021 17:26:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-53</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>v.0.9.1 was released.</p>
<p>Debian packaging that was merged upstream unfortunately “broke” [1] virtualization host software support.</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/openwall/lkrg/issues/82" target="_blank" rel="noopener">github.com/openwall/lkrg</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/openwall/lkrg/issues/82" target="_blank" rel="noopener">VirtualBox host software compatibility</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-04-29" data-time="14:25:05" data-timezone="UTC">02:25PM - 29 Apr 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>
  </div>
</div>

<div class="github-row">
  <p class="github-content">Could you please consider either,
A) introducing a loader which sets the reuqired lkrg module parameters to be compatible with the VirtualBox...</p>
</div>

<div class="labels">
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>[1] Not a real regression since upstream never merged Debian packaging beforehand.</p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/52">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/52</link>
        <pubDate>Thu, 29 Apr 2021 14:27:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-52</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://github.com/openwall/lkrg/releases/tag/v0.9.0">v0.9.0</a> was released.</p>
<p><a href="https://www.openwall.com/lists/announce/2021/04/12/1" class="onebox" target="_blank" rel="noopener">https://www.openwall.com/lists/announce/2021/04/12/1</a></p>
<p>But not signed as previous releases. Perhaps because release this time was made by Solar Designer, not Adam.</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/openwall/lkrg/issues/67" target="_blank" rel="noopener">github.com/openwall/lkrg</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/openwall/lkrg/issues/67" target="_blank" rel="noopener">sign git tag v0.9.0 (or commit)</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-04-15" data-time="08:33:25" data-timezone="UTC">08:33AM - 15 Apr 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>
  </div>
</div>

<div class="github-row">
  <p class="github-content">Could you please sign git tag v0.9.0 and or that commit pointing at v0.9.0?
Commits of previous releases were signed.</p>
</div>

<div class="labels">
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Waiting for reply before pushing upgrade.</p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/51">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/51</link>
        <pubDate>Thu, 15 Apr 2021 08:36:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-51</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubpullrequest">
  <header class="source">
      <a href="https://github.com/anthraxx/linux-hardened/pull/56" target="_blank" rel="noopener nofollow ugc">github.com/anthraxx/linux-hardened</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/anthraxx/linux-hardened/pull/56" target="_blank" rel="noopener nofollow ugc">LKRG in-tree @ 1ab4d32f6e20dec8ac7fa029</a>
    </h4>

    <div class="branches">
      <code>anthraxx:5.4</code> ← <code>sempervictus:feature/lkrg_in-tree</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-01-09" data-time="21:19:49" data-timezone="UTC">09:19PM - 09 Jan 21 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/sempervictus" target="_blank" rel="noopener nofollow ugc">
          <img alt="sempervictus" src="https://avatars2.githubusercontent.com/u/1331084?v=4" class="onebox-avatar-inline" width="20" height="20">
          sempervictus
        </a>
      </div>

      <div class="lines" title="1 commits changed 137 files with 19300 additions and 0 deletions">
        <a href="https://github.com/anthraxx/linux-hardened/pull/56/files" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+19300</span>
          <span class="removed">-0</span>
        </a>
      </div>
    </div>

  </div>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/50">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/50</link>
        <pubDate>Tue, 12 Jan 2021 00:34:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-50</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="48" data-topic="8477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Different command. <code>p_lkrg</code>. (I didn’t invent the <code>p_</code>. Upstream did.) But probably just a mistake. Not the reason.</p>
</blockquote>
</aside>
<p>They’re interchangeable and neither work on the second kernel while both work on the first.</p>
<aside class="quote no-group" data-username="Patrick" data-post="48" data-topic="8477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>So you had kernels 4.19.0 and 4.19.122 installed. The latter, the newer kernel version 4.19.122 was loaded. Kernel module was build for 4.19.122 only. Right?</p>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-username="Patrick" data-post="48" data-topic="8477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Dunno if DKMS in Debian only works for APT installed kernels but we’re already talking only about APT installed kernels here.</p>
</blockquote>
</aside>
<p>I compiled hardened-kernel manually and installed it via <code>dpkg -i</code>. I don’t think that would be classified as an “APT installed kernel”. hardened-kernel is the 4.19.122 one.</p>
<aside class="quote no-group" data-username="Patrick" data-post="48" data-topic="8477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<pre><code class="lang-auto">## Automatic installation and upgrade for all installed kernels (if set to a
## non-null value)
# autoinstall_all_kernels=""
</code></pre>
</blockquote>
</aside>
<p>Setting</p>
<pre><code>autoinstall_all_kernels="yes"
</code></pre>
<p>fixed it.</p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/49">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/49</link>
        <pubDate>Mon, 21 Dec 2020 21:46:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-49</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="madaidan" data-post="47" data-topic="8477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p><code>user@host:~$ sudo modinfo p_lkrg</code></p>
</blockquote>
</aside>
<aside class="quote no-group" data-username="madaidan" data-post="47" data-topic="8477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p><code>user@host:~$ sudo modinfo lkrg</code></p>
</blockquote>
</aside>
<p>Different command. <code>p_lkrg</code>. (I didn’t invent the <code>p_</code>. Upstream did.) But probably just a mistake. Not the reason.</p>
<p>So you had kernels 4.19.0 and 4.19.122 installed. The latter, the newer kernel version 4.19.122 was loaded. Kernel module was build for 4.19.122 only. Right?</p>
<p>I wonder how/if this can be fixed. See  the DKMS file,<code>debian/lkrg-dkms.dkms</code>.</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/lkrg/blob/master/debian/lkrg-dkms.dkms" target="_blank" rel="noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/lkrg/blob/master/debian/lkrg-dkms.dkms" target="_blank" rel="noopener">Whonix/lkrg/blob/master/debian/lkrg-dkms.dkms</a></h4>
<pre><code class="lang-dkms">## Copyright (C) 2019 - 2020 ENCRYPTED SUPPORT LP &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

PACKAGE_NAME="lkrg"

## TODO: how?
#PACKAGE_VERSION="#MODULE_VERSION#"

PACKAGE_VERSION="0.8.1"

BUILT_MODULE_LOCATION[0]="output"
BUILT_MODULE_NAME[0]="p_lkrg"

DEST_MODULE_LOCATION[0]="/extra"
DEST_MODULE_NAME[0]="p_lkrg"

AUTOINSTALL="yes"

ENOUGH_RAM="1950"
total_ram="$(free -m | sed  -n -e '/^Mem:/s/^[^0-9]*\([0-9]*\) .*/\1/p')"
</code></pre>

  This file has been truncated. <a href="https://github.com/Whonix/lkrg/blob/master/debian/lkrg-dkms.dkms" target="_blank" rel="noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Then feel free to compare with this with other DKMS files.</p>
<p>Try:</p>
<pre><code>sudo dkms status
</code></pre>
<p>Also interesting:</p>
<blockquote>
<p>/var/lib/dpkg/info/lkrg-dkms.postinst</p>
</blockquote>
<pre><code>sudo sh -x /var/lib/dpkg/info/lkrg-dkms.postinst configure
</code></pre>
<p>Reveals what is required to debug further:</p>
<pre><code>sudo sh -x /usr/lib/dkms/common.postinst lkrg 0.8.1 /usr/share/lkrg-dkms
</code></pre>
<p>The latter shows how list of kernels is generated. (Runs as root.)</p>
<pre><code>KERNELS=$(ls /lib/modules/ 2&gt;/dev/null || true)
</code></pre>
<p>Try this command.</p>
<pre><code>sudo ls /lib/modules/
</code></pre>
<p>Perhaps apparmor-profile-everything or other issue which messes up setting of <code>KERNELS</code>? xtrace of <code>/usr/lib/dkms/common.postinst </code> might reveal that.</p>
<p>For me it builds modules for all installed kernel versions. I guess that is the default.</p>
<p>Dunno if DKMS in Debian only works for APT installed kernels but we’re already talking only about APT installed kernels here.</p>
<blockquote>
<p>/etc/dkms/framework.conf</p>
</blockquote>
<pre><code>## Automatic installation and upgrade for all installed kernels (if set to a
## non-null value)
# autoinstall_all_kernels=""
</code></pre>
<p>Quote <a href="https://bugs.launchpad.net/ubuntu/+source/ubuntu-release-upgrader/+bug/1844805">https://bugs.launchpad.net/ubuntu/+source/ubuntu-release-upgrader/+bug/1844805</a></p>
<blockquote>
<p>I see there’s one caveat, the autoinstall_all_kernels variable in /etc/dkms/framework.conf can be set to build for all installed kernels, not just the current and newest. But the default is to build only for current and newest.</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/48">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/48</link>
        <pubDate>Mon, 21 Dec 2020 21:30:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-48</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="46" data-topic="8477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>How did you install hardened-kernel? <code>dpkg</code> or APT?</p>
</blockquote>
</aside>
<p>APT.</p>
<aside class="quote no-group" data-username="Patrick" data-post="46" data-topic="8477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Could you share installation log please? I would like to see any messages regarding DKMS.</p>
</blockquote>
</aside>
<pre><code class="lang-auto">user@host:~$ sudo apt install lkrg
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following packages were automatically installed and are no longer required:
  linux-headers-4.19.0-10-amd64 linux-headers-4.19.0-10-common linux-headers-4.19.0-11-amd64 linux-headers-4.19.0-11-common
  linux-image-4.19.0-10-amd64 linux-image-4.19.0-11-amd64
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  lkrg-dkms
The following NEW packages will be installed:
  lkrg lkrg-dkms
0 upgraded, 2 newly installed, 0 to remove and 1 not upgraded.
Need to get 97.0 kB of archives.
After this operation, 897 kB of additional disk space will be used.
Do you want to continue? [Y/n] 
Get:1 tor+https://deb.whonix.org buster-developers/main amd64 lkrg-dkms amd64 0:0.8.1.0-1 [89.9 kB]
Get:2 tor+https://deb.whonix.org buster-developers/main amd64 lkrg amd64 0:0.8.1.0-1 [7,064 B]
Fetched 97.0 kB in 3s (36.5 kB/s)
Selecting previously unselected package lkrg-dkms.
(Reading database ... 181991 files and directories currently installed.)
Preparing to unpack .../lkrg-dkms_0%3a0.8.1.0-1_amd64.deb ...
Unpacking lkrg-dkms (0.8.1.0-1) ...
Selecting previously unselected package lkrg.
Preparing to unpack .../lkrg_0%3a0.8.1.0-1_amd64.deb ...
Unpacking lkrg (0.8.1.0-1) ...
Setting up lkrg-dkms (0.8.1.0-1) ...
Loading new lkrg-0.8.1 DKMS files...
Building for 4.19.122
Building initial module for 4.19.122
Done.

p_lkrg.ko:
Running module version sanity check.
 - Original module
   - No original module exists within this kernel
 - Installation
   - Installing to /lib/modules/4.19.122/updates/dkms/

depmod...

DKMS: install completed.
Created symlink /etc/systemd/system/multi-user.target.wants/lkrg-dkms.service → /lib/systemd/system/lkrg-dkms.service.
Setting up lkrg (0.8.1.0-1) ...
</code></pre>
<aside class="quote no-group" data-username="Patrick" data-post="46" data-topic="8477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The LKRG Debian packaging supports DKMS. It’s already confirmed to work stable during Debian kernel upgrades. From LKRG / DKMS perspective, I wonder what is making the difference.</p>
</blockquote>
</aside>
<p>The module is only present for a specific kernel. E.g. in my case it is installed in <code>/lib/modules/4.19.122</code> but not anything else in <code>/lib/modules</code>. Further verified by:</p>
<pre><code class="lang-auto">user@host:~$ sudo modinfo p_lkrg
filename:       /lib/modules/4.19.122/updates/dkms/p_lkrg.ko
[...]
</code></pre>
<p>Whereas, on the other kernel:</p>
<pre><code class="lang-auto">user@host:~$ sudo modinfo lkrg
modinfo: ERROR: Module lkrg not found.
</code></pre>
<p>Thus, the <code>modprobe</code> command cannot find which module to load.</p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/47">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/47</link>
        <pubDate>Mon, 21 Dec 2020 19:28:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-47</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>How did you install hardened-kernel? <code>dpkg</code> or APT? Could you share installation log please? I would like to see any messages regarding DKMS.</p>
<p>The LKRG Debian packaging supports DKMS. It’s already confirmed to work stable during Debian kernel upgrades. From LKRG / DKMS perspective, I wonder what is making the difference.</p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/46">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/46</link>
        <pubDate>Sun, 20 Dec 2020 06:37:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-46</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>When LKRG is installed on one kernel and then the user switches to another kernel, it breaks (e.g. installing it on hardened-kernel and then booting into vanilla):</p>
<pre><code class="lang-auto">lkrg-loader[249]: INFO: Running 'modprobe p_lkrg msr_validate=0 pcfi_validate=1 ' ...
lkrg-loader[249]: modprobe: FATAL: Module p_lkrg not found in directory /lib/modules/4.19.0-13-amd64
lkrg-loader[249]: ####################################################################
lkrg-loader[249]: ## BEGIN ERROR in /usr/lib/lkrg/lkrg-loader detected!
lkrg-loader[249]: ##
lkrg-loader[249]: ## ERROR LOG:
lkrg-loader[249]: ## See above.
lkrg-loader[249]: ##
lkrg-loader[249]: ## BASH_COMMAND: modprobe p_lkrg $lkrg_opts
lkrg-loader[249]: ## EXIT_CODE: 1
lkrg-loader[249]: ##
lkrg-loader[249]: ## END ERROR in /usr/lib/lkrg/lkrg-loader detected!
lkrg-loader[249]: ## Please report this bug!
lkrg-loader[249]: ####################################################################
</code></pre>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/45">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/45</link>
        <pubDate>Sat, 19 Dec 2020 20:29:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-45</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>LKRG 0.8.1 is in all repositories since some time now.</p>
<hr>
<p><a href="https://www.openwall.com/presentations/OSTconf2020-LKRG-In-A-Nutshell/" class="onebox" target="_blank">https://www.openwall.com/presentations/OSTconf2020-LKRG-In-A-Nutshell/</a></p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/44">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/44</link>
        <pubDate>Tue, 25 Aug 2020 14:46:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-44</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>A post was split to a new topic: <a href="http://forums.whonix.org/t/rootkit-detection-system-aide/9754">rootkit detection system - AIDE</a></p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/43">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/43</link>
        <pubDate>Mon, 15 Jun 2020 14:56:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-43</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Quote <a href="https://www.openwall.com/lists/lkrg-users/2020/06/14/5">https://www.openwall.com/lists/lkrg-users/2020/06/14/5</a></p>
<blockquote>
<p>Date: Sun, 14 Jun 2020 17:37:59 +0200<br>
From: Solar Designer &lt;solar@…nwall.com&gt;<br>
To: lkrg-users@…ts.openwall.com<br>
Subject: rootkit detection</p>
<p>Hi,</p>
<p>Adam found this interesting Master’s Thesis of Juho Junnila, entitled<br>
“Effectiveness of Linux Rootkit Detection Tools”:</p>
<p><a href="http://jultika.oulu.fi/files/nbnfioulu-202004201485.pdf">http://jultika.oulu.fi/files/nbnfioulu-202004201485.pdf</a></p>
<p>It shows LKRG as the most effective kernel rootkit detector (of those<br>
tested), as long as LKRG is loaded before the rootkit.  It also shows<br>
LKRG sometimes detect rootkits even when LKRG is loaded after the<br>
rootkit (we never intended that to work, but it sometimes does anyway,<br>
which is OK).  Finally, it shows that LKRG never detects pure userspace<br>
rootkits (as expected; it would probably be a bug if it did).</p>
<p>In particular, when LKRG is loaded before the rootkit, it detected 8 out<br>
of 9 kernel rootkits tested: Diamorphine, Honey Pot Bears,<br>
LilyOfTheValley, Nuk3 Gh0st, Puszek, Reptile, Rootfoo Linux Rootkit,<br>
Sutekh.  There were no false positives.  No other tested rootkit<br>
detector was anywhere close to LKRG’s effectiveness at detecting kernel<br>
rootkits, with AIDE, OSSEC, and Rootkit Hunter detecting 2 out of 9<br>
each, and Chkrootkit detecting none.  These other detectors did,<br>
however, detect some userspace rootkits, which LKRG doesn’t try to.  The<br>
combination of AIDE and LKRG is shown to be most effective, detecting 14<br>
out of 15 rootkits total (both user and kernel space ones).</p>
<p>None of the tools detected Keysniffer, which the thesis describes as:</p>
<p>“Keysniffer is an LKM that can be classified as a kernel mode rootkit<br>
due to its kernel hooking capabilities.  It is a keylogger that records<br>
keyboard events to debugfs, an in-memory file system used for Linux<br>
kernel debugging.  It does not feature any particular anti-detection<br>
mechanisms except that it prevents accessing the log file by non-root<br>
users and the module is named “kisni.ko” by default to avoid immediate<br>
suspicion when listing kernel modules. (Jana, 2019.)  While Keysniffer<br>
may not meet the criteria of all rootkit definitions due to its lack of<br>
specific hiding functionalities, it does meet the criteria by Harley and<br>
Lee (2007) and is thus included in this study.”</p>
<p>While the above doesn’t say it, I think the non-detection of Keysniffer<br>
by LKRG is due to it being too similar to non-malicious kernel modules.<br>
The functionality described would conceivably be provided by a module<br>
not intended for malicious use, and the module doesn’t need to mess with<br>
the kernel’s integrity to provide this functionality.  The non-detection<br>
by other tools is probably because Keysniffer wasn’t popular enough, as<br>
its signature-based detection is definitely practical.</p>
<p>Of course, none of these rootkits tried to bypass LKRG.  If they wanted<br>
to, they could e.g. simply “rmmod p_lkrg” before loading themselves into<br>
the kernel.  (Or the attacker could do that manually.)  In LKRG<br>
development, we’re currently more focused on exploits run before the<br>
attacker got legitimate-looking privileged access to the system.  We’re<br>
not as focused on rootkits, which are loaded with legitimate-looking<br>
privileged access.</p>
<p>That said, there are a few things we could do in the future to make it<br>
more difficult and/or less reliable to bypass detection by LKRG-aware<br>
rootkit loading.  We could password-protect the module unloading and<br>
sysctl interfaces of LKRG, and/or provide a way to disable those after<br>
initial configuration.  We could also provide setup instructions and/or<br>
our own userspace components around LKRG where alerts would be sent to a<br>
remote system, including alerts of LKRG being unloaded or reconfigured.</p>
<p>Alexander</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/42">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/42</link>
        <pubDate>Sun, 14 Jun 2020 16:57:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-42</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Rebased on upstream master branch.</p>
<aside class="quote no-group" data-username="Patrick" data-post="40" data-topic="8477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><a href="https://www.openwall.com/lists/lkrg-users/2020/04/23/1">LKRG unfit for installation by default in Whonix / Kicksecure due to kernel boot console output - usability issue</a></p>
</blockquote>
</aside>
<p>This was addressed by upstream:<br>
<a href="https://www.openwall.com/lists/lkrg-users/2020/04/23/2">https://www.openwall.com/lists/lkrg-users/2020/04/23/2</a></p>
<hr>
<p>A bug was privately reported and upstream is on it already:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://d301sr5gafysq2.cloudfront.net/4db2538192ba/img/logos/bitbucket/android-chrome-192x192.png" class="site-icon" width="16" height="16">
      <a href="https://bitbucket.org/Adam_pi3/lkrg-main/pull-requests/4" target="_blank">bitbucket.org</a>
  </header>
  <article class="onebox-body">
    <img src="https://bytebucket.org/ravatar/%7B225cf208-ae7e-4a0d-a154-46295859819b%7D?ts=c" class="thumbnail" width="" height="">

<h3><a href="https://bitbucket.org/Adam_pi3/lkrg-main/pull-requests/4" target="_blank">If SMEP is not support on the architecture don't enforce it.</a></h3>

<p>While loading the LKRG on my VM I got automatically panic.  
This occure after the 2aef433.

‌</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Added a workaround (useful anyhow) in meanwhile:</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/lkrg/commit/54cbae96c97127b8b8ee654e44d5869ad90adf4c" target="_blank">github.com/Whonix/lkrg</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/lkrg/commit/54cbae96c97127b8b8ee654e44d5869ad90adf4c" target="_blank">set smep_enforce=0 if SMEP not available</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2020-05-06" data-time="18:57:11" data-timezone="UTC">06:57PM - 06 May 20 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 15 additions and 3 deletions">
        <a href="https://github.com/Whonix/lkrg/commit/54cbae96c97127b8b8ee654e44d5869ad90adf4c" target="_blank">
          <span class="added">+15</span>
          <span class="removed">-3</span>
        </a>
      </div>
    </div>

  </div>
</div>


  <div class="github-row">
    <pre class="github-content" style="white-space: normal;">allow appending lkrg_opts kernel paramaters
allow replacing whole lkrg invocation through lkrg_exec</pre>
  </div>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/41">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/41</link>
        <pubDate>Thu, 07 May 2020 12:48:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-41</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <ul>
<li><a href="https://www.openwall.com/lists/lkrg-users/2020/04/18/1">testing LKRG</a></li>
<li><a href="https://www.openwall.com/lists/lkrg-users/2020/04/23/1">LKRG unfit for installation by default in Whonix / Kicksecure due to kernel boot console output - usability issue</a></li>
</ul>
<p>Related: <a href="https://phabricator.whonix.org/T950">T950: prevent kernel info leaks</a></p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/40">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/40</link>
        <pubDate>Thu, 23 Apr 2020 16:46:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-40</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://www.openwall.com/lists/lkrg-users/2020/02/14/2">LKRG is compatible with Debian Linux buster-backports 5.4.8-1~bpo10+1 kernel</a></p>
<p>A Debian issue but unrelated to LKRG:<br>
<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=951315">linux-image-amd64 vs linux-headers-amd64 Debian buster-backports version mismatch bpo.2 vs bpo.3</a></p>
          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/39">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/39</link>
        <pubDate>Fri, 14 Feb 2020 11:25:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-39</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Above fixed.</p>
<hr>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/lkrg/commit/878f2dcc895d609082110cf20b5d59164f3535b8" target="_blank">github.com/Whonix/lkrg</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/lkrg/commit/878f2dcc895d609082110cf20b5d59164f3535b8" target="_blank">Auto load LKRG after installation.</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2020-02-14" data-time="09:19:45" data-timezone="UTC">09:19AM - 14 Feb 20 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 0 additions and 3 deletions">
        <a href="https://github.com/Whonix/lkrg/commit/878f2dcc895d609082110cf20b5d59164f3535b8" target="_blank">
          <span class="added">+0</span>
          <span class="removed">-3</span>
        </a>
      </div>
    </div>

  </div>
</div>


  <div class="github-row">
    <pre class="github-content" style="white-space: normal;">Since LKRG now supports module parameters and VirtualBox host support,
it can be automatically started after installation since it would no longer
kill...</pre>
  </div>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/38">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/38</link>
        <pubDate>Fri, 14 Feb 2020 09:22:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-38</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
      <item>
        <title>Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="1" data-topic="8931">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="https://forums.whonix.org/t/dkms-kernel-modules-lkrg-and-tirdad-fail-to-properly-recompile-on-kernel-upgrade/8931">DKMS kernel modules (LKRG and tirdad) fail to properly recompile on kernel upgrade</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Confirmed. Investigating.
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/37">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477/37</link>
        <pubDate>Fri, 14 Feb 2020 08:39:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8477-37</guid>
        <source url="http://forums.whonix.org/t/linux-kernel-runtime-guard-lkrg-linux-kernel-runtime-integrity-checking-and-exploit-detection/8477.rss">Linux Kernel Runtime Guard (LKRG) - Linux Kernel Runtime Integrity Checking and Exploit Detection</source>
      </item>
  </channel>
</rss>
