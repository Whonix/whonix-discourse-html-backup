<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>cannot set CPU affinity on process 1994: invalid argument</title>
    <link>http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822</link>
    <description>Well, now I&#39;m sure, that something went wrong.

I installed kvm and imported the whonix vms, but I can&#39;t start the workstation. Interestingly, the gateway vm works without any visible problems, but when I start the workstation vm, I get this message:

Error during the start of the domain: cannot set CPU affinity on process 1994: invalid argument 

Traceback (most recent call last):
  File &quot;/usr/share/virt-manager/virtManager/asyncjob.py&quot;, line 75, in cb_wrapper
    callback(asyncjob, *args, **kwargs)
  File &quot;/usr/share/virt-manager/virtManager/asyncjob.py&quot;, line 111, in tmpcb
    callback(*args, **kwargs)
  File &quot;/usr/share/virt-manager/virtManager/libvirtobject.py&quot;, line 66, in newfn
    ret = fn(self, *args, **kwargs)
  File &quot;/usr/share/virt-manager/virtManager/domain.py&quot;, line 1400, in startup
    self._backend.create()
  File &quot;/usr/lib/python3/dist-packages/libvirt.py&quot;, line 1080, in create
    if ret == -1: raise libvirtError (&#39;virDomainCreate() failed&#39;, dom=self)
libvirt.libvirtError: cannot set CPU affinity on process 1994: invalid argument 


I don&#39;t know, what exactly went wrong. Maybe I should have installed kicksecure-cli on top of headless debian.</description>
    <language>en</language>
    <lastBuildDate>Thu, 25 Jun 2020 17:23:04 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>cannot set CPU affinity on process 1994: invalid argument</title>
        <dc:creator><![CDATA[59mpci2GJ5xlHhY]]></dc:creator>
        <description><![CDATA[
            <p>Yeah thats why I wish I didnt have to remove it for it to work</p>
          <p><a href="http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822/5</link>
        <pubDate>Thu, 25 Jun 2020 17:23:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9822-5</guid>
        <source url="http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822.rss">cannot set CPU affinity on process 1994: invalid argument</source>
      </item>
      <item>
        <title>cannot set CPU affinity on process 1994: invalid argument</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>I did this to minimize impact of sidechannel attacks on crypto operations if the WS is compromised.</p>
          <p><a href="http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822/4</link>
        <pubDate>Thu, 25 Jun 2020 17:15:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9822-4</guid>
        <source url="http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822.rss">cannot set CPU affinity on process 1994: invalid argument</source>
      </item>
      <item>
        <title>cannot set CPU affinity on process 1994: invalid argument</title>
        <dc:creator><![CDATA[59mpci2GJ5xlHhY]]></dc:creator>
        <description><![CDATA[
            <p>I just had this same problem when I reinstalled a minimalist debian install with kicksecure as a host when I tried to run a whonix vm.</p>
<p>I removed cpuset=‘1’  and it fixed it, but I’m not quite sure why this was necessary as I haven’t did anything custom with the cpu.</p>
          <p><a href="http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822/3</link>
        <pubDate>Thu, 25 Jun 2020 16:40:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9822-3</guid>
        <source url="http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822.rss">cannot set CPU affinity on process 1994: invalid argument</source>
      </item>
      <item>
        <title>cannot set CPU affinity on process 1994: invalid argument</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Please apply this change to both VMs and try again:</p>
<aside class="quote" data-post="2" data-topic="7335">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/whonix-15-increasing-allocated-cpu-number-makes-the-vm-incredibly-slow/7335/2">Whonix 15: increasing allocated CPU number makes the VM incredibly slow</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/kvm/11"><span class="badge-category-bg" style="background-color: #9EB83B;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Everything specific to Whonix KVM. (devs)">KVM</span></a>
  </div>
  <blockquote>
    That’s because I use CPU pinning by default to isolate VM CPUs from eachother to prevent side-channel attacks on crypto if there is a vuln in OpenSSL.  So even if you add more cores you are essentially overloading a single real one with this setting until it is removed. 
To get rid of this behavior remove the 
cpuset='1' 
in the vcpu tag.
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822/2</link>
        <pubDate>Wed, 24 Jun 2020 11:01:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9822-2</guid>
        <source url="http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822.rss">cannot set CPU affinity on process 1994: invalid argument</source>
      </item>
      <item>
        <title>cannot set CPU affinity on process 1994: invalid argument</title>
        <dc:creator><![CDATA[beatle]]></dc:creator>
        <description><![CDATA[
            <p>Well, now I’m sure, that something went wrong.</p>
<p>I installed kvm and imported the whonix vms, but I can’t start the workstation. Interestingly, the gateway vm works without any visible problems, but when I start the workstation vm, I get this message:</p>
<p>Error during the start of the domain: cannot set CPU affinity on process 1994: invalid argument</p>
<p>Traceback (most recent call last):<br>
File “/usr/share/virt-manager/virtManager/asyncjob.py”, line 75, in cb_wrapper<br>
callback(asyncjob, *args, **kwargs)<br>
File “/usr/share/virt-manager/virtManager/asyncjob.py”, line 111, in tmpcb<br>
callback(*args, **kwargs)<br>
File “/usr/share/virt-manager/virtManager/libvirtobject.py”, line 66, in newfn<br>
ret = fn(self, *args, **kwargs)<br>
File “/usr/share/virt-manager/virtManager/domain.py”, line 1400, in startup<br>
self._backend.create()<br>
File “/usr/lib/python3/dist-packages/libvirt.py”, line 1080, in create<br>
if ret == -1: raise libvirtError (‘virDomainCreate() failed’, dom=self)<br>
libvirt.libvirtError: cannot set CPU affinity on process 1994: invalid argument</p>
<p>I don’t know, what exactly went wrong. Maybe I should have installed kicksecure-cli on top of headless debian.</p>
          <p><a href="http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822/1</link>
        <pubDate>Tue, 23 Jun 2020 11:02:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9822-1</guid>
        <source url="http://forums.whonix.org/t/cannot-set-cpu-affinity-on-process-1994-invalid-argument/9822.rss">cannot set CPU affinity on process 1994: invalid argument</source>
      </item>
  </channel>
</rss>
