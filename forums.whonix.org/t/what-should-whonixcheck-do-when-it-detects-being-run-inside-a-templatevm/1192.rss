<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>What should whonixcheck do when it detects being run inside a TemplateVM?</title>
    <link>http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192</link>
    <description>- https://www.whonix.org/wiki/Whonixcheck
- https://github.com/Whonix/whonixcheck

What should whonixcheck do when it detects being run inside a TemplateVM?

Skip all tests that require networking?

Do nothing, i.e. explain to not run whonixcheck in a TemplateVM?

Skip anonymity leak tests?

Other ideas?</description>
    <language>en</language>
    <lastBuildDate>Fri, 18 Mar 2016 15:32:03 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>What should whonixcheck do when it detects being run inside a TemplateVM?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>The following ticket will have major influence on this topic.</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/QubesOS/qubes-issues/issues/1854" target="_blank" rel="nofollow noopener">github.com/QubesOS/qubes-issues</a>
  </header>
  <article class="onebox-body">
    <a href="https://github.com/adrelanos" rel="nofollow noopener">
<img src="https://avatars1.githubusercontent.com/u/1985040?v=2&amp;s=96" class="thumbnail onebox-avatar" width="96" height="96">
</a>

<h4><a href="https://github.com/QubesOS/qubes-issues/issues/1854" target="_blank" rel="nofollow noopener">Issue: implement qrexec based updates proxy</a></h4>

<div class="date" style="margin-top:10px;">
	<div class="user" style="margin-top:10px;">
	opened by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
	on <a href="https://github.com/QubesOS/qubes-issues/issues/1854" target="_blank" rel="nofollow noopener">2016-03-18</a>
	</div>
	<div class="user">
	closed by <a href="https://github.com/marmarek" target="_blank" rel="nofollow noopener">marmarek</a>
	on <a href="https://github.com/QubesOS/qubes-issues/issues/1854" target="_blank" rel="nofollow noopener">2017-05-26</a>
	</div>
</div>

<pre class="content" style="white-space: pre-wrap;">Quote @marmarek:
have updates proxy running over qrexec instead of TCP/IP, so template will not have its own netvm at all</pre>

<div class="labels">
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">C: core</span>
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">P: major</span>
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">enhancement</span>
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">r4.0-fc24-cur-test</span>
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">r4.0-fc25-cur-test</span>
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">r4.0-jessie-cur-test</span>
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">r4.0-stretch-cur-test</span>
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">release-notes</span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>The solution will probably be <code>whonixcheck running in TemplateVMs should skip all tests that require networking</code>.</p>
          <p><a href="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/7</link>
        <pubDate>Fri, 18 Mar 2016 15:32:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1192-7</guid>
        <source url="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192.rss">What should whonixcheck do when it detects being run inside a TemplateVM?</source>
      </item>
      <item>
        <title>What should whonixcheck do when it detects being run inside a TemplateVM?</title>
        <dc:creator><![CDATA[jimmy]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="5" data-topic="1192">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>whonixcheck does not yet work in whonix-gw TemplateVMs. Because the tests checking Tor fail, because Tor does not get started within the TemplateVM. It’s possible to fix this. To make it run “more like in a workstation VM”. I was wondering if that’s worth the effort. It probably is.</p>
</blockquote>
</aside>
<p>I agree. It is better to have the templateVMs work as a unit.</p>
          <p><a href="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/6</link>
        <pubDate>Thu, 10 Sep 2015 16:53:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1192-6</guid>
        <source url="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192.rss">What should whonixcheck do when it detects being run inside a TemplateVM?</source>
      </item>
      <item>
        <title>What should whonixcheck do when it detects being run inside a TemplateVM?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <blockquote>And also, regarding the related thread, wouldn't we need to know about new versions of TB?</blockquote>
No, see above.
<blockquote>I would say to have it check for networking first.  As I remember, when first setting the Whonix templates up I was instructed to set the whonix-gateway as the net-vm for the Whonix templates.  That is how I continue to have it set up.</blockquote>
Worth checking. This is already implemented in qubes-whonix:
- https://github.com/Whonix/qubes-whonix/blob/105efc3c7cd9a3c59b5c81bb2cd7ef43faf636ec/usr/lib/qubes-whonix/qubes-whonixsetup#L50-L58
- https://github.com/Whonix/qubes-whonix/blob/105efc3c7cd9a3c59b5c81bb2cd7ef43faf636ec/usr/lib/qubes-whonix/messages.yaml#L10-L17
<blockquote>Can you please explain why it shouldn't be run in the TemplateVMs? Wouldn't it be nice to know that everything was working as expected considering we are Torifying APT?</blockquote>
whonixcheck already works in whonix-ws TemplateVMs.
<p>whonixcheck does not yet work in whonix-gw TemplateVMs. Because the tests checking Tor fail, because Tor does not get started within the TemplateVM. It’s possible to fix this. To make it run “more like in a workstation VM”. I was wondering if that’s worth the effort. It probably is.</p>
          <p><a href="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/5</link>
        <pubDate>Wed, 09 Sep 2015 17:40:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1192-5</guid>
        <source url="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192.rss">What should whonixcheck do when it detects being run inside a TemplateVM?</source>
      </item>
      <item>
        <title>What should whonixcheck do when it detects being run inside a TemplateVM?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>FYI</p>
<p>[hr]</p>
<blockquote>What should Tor Browser Updater (Whonix) do in a TemplateVM?</blockquote>
--&gt; https://forums.whonix.org/t/what-should-tor-browser-updater-whonix-do-in-a-templatevm
<p>[hr]</p>
<blockquote>Tor Browser Updater (Whonix) latest development status:</blockquote>
https://phabricator.whonix.org/T400
<p>[hr]</p>
<p>whonixcheck Tor Browser update check:</p>
<blockquote>Tor Browser update check has been deprecated, because local version detection code was broken since Tor Browser got its own internal updater. Also since Tor Browser now automatically updates itself without asking, there is less need for this test.</blockquote>
https://phabricator.whonix.org/T400
          <p><a href="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/4</link>
        <pubDate>Tue, 08 Sep 2015 16:57:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1192-4</guid>
        <source url="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192.rss">What should whonixcheck do when it detects being run inside a TemplateVM?</source>
      </item>
      <item>
        <title>What should whonixcheck do when it detects being run inside a TemplateVM?</title>
        <dc:creator><![CDATA[fowlslegs]]></dc:creator>
        <description><![CDATA[
            <p>Can you please explain why it shouldn’t be run in the TemplateVMs? Wouldn’t it be nice to know that everything was working as expected considering we are Torifying APT? And also, regarding the related thread, wouldn’t we need to know about new versions of TB?</p>
          <p><a href="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/3</link>
        <pubDate>Mon, 17 Aug 2015 11:46:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1192-3</guid>
        <source url="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192.rss">What should whonixcheck do when it detects being run inside a TemplateVM?</source>
      </item>
      <item>
        <title>What should whonixcheck do when it detects being run inside a TemplateVM?</title>
        <dc:creator><![CDATA[revenant]]></dc:creator>
        <description><![CDATA[
            <p>I would say to have it check for networking first.  As I remember, when first setting the Whonix templates up I was instructed to set the whonix-gateway as the net-vm for the Whonix templates.  That is how I continue to have it set up.</p>
          <p><a href="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/2</link>
        <pubDate>Thu, 16 Jul 2015 19:58:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1192-2</guid>
        <source url="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192.rss">What should whonixcheck do when it detects being run inside a TemplateVM?</source>
      </item>
      <item>
        <title>What should whonixcheck do when it detects being run inside a TemplateVM?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <ul>
<li><a href="https://www.whonix.org/wiki/Whonixcheck">https://www.whonix.org/wiki/Whonixcheck</a></li>
<li><a href="https://github.com/Whonix/whonixcheck">https://github.com/Whonix/whonixcheck</a></li>
</ul>
<p>What should whonixcheck do when it detects being run inside a TemplateVM?</p>
<p>Skip all tests that require networking?</p>
<p>Do nothing, i.e. explain to not run whonixcheck in a TemplateVM?</p>
<p>Skip anonymity leak tests?</p>
<p>Other ideas?</p>
          <p><a href="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192/1</link>
        <pubDate>Fri, 03 Jul 2015 16:49:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1192-1</guid>
        <source url="http://forums.whonix.org/t/what-should-whonixcheck-do-when-it-detects-being-run-inside-a-templatevm/1192.rss">What should whonixcheck do when it detects being run inside a TemplateVM?</source>
      </item>
  </channel>
</rss>
