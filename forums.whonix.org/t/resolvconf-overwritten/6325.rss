<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>resolvconf overwritten</title>
    <link>http://forums.whonix.org/t/resolvconf-overwritten/6325</link>
    <description>I&#39;m trying to make User &gt; Tor &gt; VPN &gt; Internet
After I installed resolvconf 
https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#install_resolvconf

My /etc/resolv.conf it&#39;s overwritten every time. I tried to `sudo chattr +i /etc/resolv.conf` but I get error

`chattr: Operation not supported while reading flags on /etc/resolv.conf`

Because resolv.conf is link
`/etc/resolv.conf -&gt; ../run/resolvconf/resolv.conf`

I found some solutions on internet there say I need to
    apt autoremove resolvconf
    unlink /etc/resolv.conf
But I&#39;m not sure if I should.


Second question: What dns I should use ? 
Here it types https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#Verify_DNS_Settings

`nameserver 10.5.0.1`

but here 
https://www.whonix.org/wiki/Tunnels/Examples#Riseup_DNS

    ## Riseup.net OpenVPN DNS server
    nameserver 172.27.100.1

and on riseup website they don&#39;t edit /etc/resolv.conf instead of that they
`Download [this script for updating the resolver](https://riseup.net/vpn/vpn-red/update-resolv.conf) and place it in /etc/openvpn/update-resolv.conf`

Also riseup use `riseup.ovpn` file for configurations, whonix docs use `riseup.conf` or there is no difference ?</description>
    <language>en</language>
    <lastBuildDate>Thu, 29 Nov 2018 00:44:03 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>resolvconf overwritten</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <p>Try:</p>
<p><a href="https://whonix.org/wiki/Troubleshooting#Clock_Fix">https://whonix.org/wiki/Troubleshooting#Clock_Fix</a></p>
<p>Be sure to:</p>
<p><code>sudo chown --recursive root:tunnel /run/resolvconf</code></p>
<p><code>sudo chmod --recursive 775 /run/resolvconf</code></p>
          <p><a href="http://forums.whonix.org/t/resolvconf-overwritten/6325/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/resolvconf-overwritten/6325/11</link>
        <pubDate>Thu, 29 Nov 2018 00:44:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6325-11</guid>
        <source url="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss">resolvconf overwritten</source>
      </item>
      <item>
        <title>resolvconf overwritten</title>
        <dc:creator><![CDATA[Mageya]]></dc:creator>
        <description><![CDATA[
            <p>I get this<br>
<code>A: chattr: Inappropriate ioctl for device while reading flags on /etc/resolvconf/run/resolv.conf</code></p>
<p>But I found other solution<br>
I rm /etc/resolv.conf and then create again resolv.conf and chattr it. Now it do not get overwritten</p>
<p>But I can’t connect to VPN<br>
date and time host sudo[1468]: pam_unix(sudo:session): session opened for user root by (uid=0)<br>
date and time host sudo[1468]: date and time TUN/TAP device tun0 opened<br>
date and timehost ovpn-openvpn[1477]: WARNING: file ‘auth.txt’ is group or others accessible<br>
date and time host ovpn-openvpn[1477]: OpenVPN 2.4.0 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [LZ4] [EPOLL] [PKCS11] [MH/PKTINFO] [AEAD] bu<br>
date and time host ovpn-openvpn[1477]: library versions: OpenSSL 1.0.2l  25 May 2017, LZO 2.08<br>
date and time host systemd[1]: openvpn@openvpn.service: PID file /run/openvpn/openvpn.pid not readable (yet?) after start: No such file or d<br>
date and time host ovpn-openvpn[1480]: NOTE: the current --script-security setting may allow this configuration to call user-defined scripts<br>
date and time host systemd[1]: Started OpenVPN connection to openvpn.<br>
date and time host ovpn-openvpn[1480]: TCP/UDP: Preserving recently used remote address: [AF_INET]198.252.153.226:80<br>
date and time host ovpn-openvpn[1480]: Attempting to establish TCP connection with [AF_INET]198.252.153.226:80 [nonblock]</p>
<p>I think that’s because I have whonix date and time synchronization error<br>
Whonix GW and WS have different clock(like 5 min difference). How can I check if Whonix GW have internet and it’s working on Tor ?<br>
Is there I way to check  if Tor is working on WS without removing all the settings that I set for VPN ?</p>
          <p><a href="http://forums.whonix.org/t/resolvconf-overwritten/6325/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/resolvconf-overwritten/6325/10</link>
        <pubDate>Sun, 25 Nov 2018 11:53:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6325-10</guid>
        <source url="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss">resolvconf overwritten</source>
      </item>
      <item>
        <title>resolvconf overwritten</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <p>Hi <code>Mageya</code></p>
<p>Could you try:</p>
<p><code>sudo chattr +i /etc/resolvconf/run/resolv.conf</code></p>
<p>Try restarting both VPN and Tor. Does that help?</p>
<p>If not, you can unset:</p>
<p><code>sudo chattr -i /etc/resolvconf/run/resolv.conf</code></p>
          <p><a href="http://forums.whonix.org/t/resolvconf-overwritten/6325/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/resolvconf-overwritten/6325/9</link>
        <pubDate>Fri, 23 Nov 2018 11:07:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6325-9</guid>
        <source url="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss">resolvconf overwritten</source>
      </item>
      <item>
        <title>resolvconf overwritten</title>
        <dc:creator><![CDATA[Mageya]]></dc:creator>
        <description><![CDATA[
            <p>What I should do ?</p>
<p>Should I try this ?</p>
<aside class="quote no-group" data-post="1" data-topic="6325">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/m/f9ae1b/40.png" class="avatar"> Mageya:</div>
<blockquote>
<p>I found some solutions on internet there say I need to<br>
apt autoremove resolvconf<br>
unlink /etc/resolv.conf<br>
But I’m not sure if I should.</p>
</blockquote>
</aside>
          <p><a href="http://forums.whonix.org/t/resolvconf-overwritten/6325/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/resolvconf-overwritten/6325/8</link>
        <pubDate>Fri, 23 Nov 2018 08:02:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6325-8</guid>
        <source url="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss">resolvconf overwritten</source>
      </item>
      <item>
        <title>resolvconf overwritten</title>
        <dc:creator><![CDATA[Mageya]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="6" data-topic="6325">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Looks like you did not run this command…?</p>
</blockquote>
</aside>
<p>I run <code>sudo chown --recursive root:tunnel /run/resolvconf</code><br>
and<br>
<code>sudo chmod --recursive 775 /run/resolvconf</code></p>
<p>and I get this<br>
total 4<br>
drwxrwxr-x  3 root tunnel 100 date and time .<br>
drwxr-xr-x 33 root root   860 date and time …<br>
-rwxrwxr-x  1 root tunnel   0 date and time enable-updates<br>
drwxrwxr-x  2 root tunnel  40 date and time interface<br>
-rwxrwxr-x  1 root tunnel 151 date and time resolv.conf</p>
<p>but after few second or reboot all is OVERWRITTEN flags and file resolv.conf<br>
and I get this again</p>
<pre><code class="lang-auto">ls -al /run/resolvconf
total 4
drwxrwxr-x  3 root tunnel 100 date and time .
drwxr-xr-x 33 root root   860 date and time ..
-rw-r--r--  1 root root     0 date and time enable-updates
drwxrwxr-x  2 root tunnel  40 date and time interface
-rw-r--r--  1 root root   151 date and time resolv.conf
</code></pre>
<p>and I cant chattr<br>
<code>chattr: Operation not supported while reading flags on /etc/resolv.conf</code></p>
<p>here is cat for resolv.conf<br>
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)<br>
#     DO NOT EDIT THIS FILE BY HAND – YOUR CHANGES WILL BE OVERWRITTEN</p>
          <p><a href="http://forums.whonix.org/t/resolvconf-overwritten/6325/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/resolvconf-overwritten/6325/7</link>
        <pubDate>Wed, 21 Nov 2018 13:12:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6325-7</guid>
        <source url="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss">resolvconf overwritten</source>
      </item>
      <item>
        <title>resolvconf overwritten</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-post="5" data-topic="6325">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/m/f9ae1b/40.png" class="avatar"> Mageya:</div>
<blockquote>
<p>-rw-r–r-- 1 root root 151 date and time resolv.conf</p>
</blockquote>
</aside>
<p>Looks like you did not run this command…?</p>
<pre><code>sudo chown --recursive root:tunnel /run/resolvconf</code></pre>
          <p><a href="http://forums.whonix.org/t/resolvconf-overwritten/6325/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/resolvconf-overwritten/6325/6</link>
        <pubDate>Sun, 18 Nov 2018 10:09:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6325-6</guid>
        <source url="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss">resolvconf overwritten</source>
      </item>
      <item>
        <title>resolvconf overwritten</title>
        <dc:creator><![CDATA[Mageya]]></dc:creator>
        <description><![CDATA[
            <pre><code>ls -al /run/resolvconf
total 4
drwxrwxr-x  3 root tunnel 100 date and time .
drwxr-xr-x 33 root root   860 date and time ..
-rw-r--r--  1 root root     0 date and time enable-updates
drwxrwxr-x  2 root tunnel  40 date and time interface
-rw-r--r--  1 root root   151 date and time resolv.conf
</code></pre>
<p>ls -l /etc/resolv.conf<br>
<code>lrwxrwxrwx 1 root root 31 date and time /etc/resolv.conf -&gt; /etc/resolvconf/run/resolv.conf</code></p>
          <p><a href="http://forums.whonix.org/t/resolvconf-overwritten/6325/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/resolvconf-overwritten/6325/5</link>
        <pubDate>Sun, 18 Nov 2018 09:58:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6325-5</guid>
        <source url="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss">resolvconf overwritten</source>
      </item>
      <item>
        <title>resolvconf overwritten</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="3" data-topic="6325">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/m/f9ae1b/40.png" class="avatar"> Mageya:</div>
<blockquote>
<p>What dns I should use</p>
</blockquote>
</aside>
<p>172.27.100.1</p>
<p>Do you have the proper permissions for resolvconf?</p>
<p><a href="https://whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#DNS_Configuration_2">https://whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#DNS_Configuration_2</a></p>
          <p><a href="http://forums.whonix.org/t/resolvconf-overwritten/6325/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/resolvconf-overwritten/6325/4</link>
        <pubDate>Sat, 17 Nov 2018 23:51:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6325-4</guid>
        <source url="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss">resolvconf overwritten</source>
      </item>
      <item>
        <title>resolvconf overwritten</title>
        <dc:creator><![CDATA[Mageya]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="2" data-topic="6325">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>Use your providers dns server</p>
</blockquote>
</aside>
<p>I use riseup. Whonix docs have 2 docs for connecting to Tor before a VPN. and in one doc it says you should use <code>nameserver 10.5.0.1</code> <a href="https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#Verify_DNS_Settings" rel="nofollow noopener">https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#Verify_DNS_Settings</a><br>
And second doc <a href="https://www.whonix.org/wiki/Tunnels/Examples#Riseup_DNS" rel="nofollow noopener">https://www.whonix.org/wiki/Tunnels/Examples#Riseup_DNS</a> says you need to use<br>
## <a href="http://Riseup.net" rel="nofollow noopener">Riseup.net</a> OpenVPN DNS server<br>
nameserver 172.27.100.1</p>
<p>What dns I should use 172.27.100.1 or 10.5.0.1 ?</p>
<aside class="quote no-group" data-post="2" data-topic="6325">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>You have a riseup account, correct?</p>
</blockquote>
</aside>
<p>Yes</p>
<aside class="quote no-group" data-post="2" data-topic="6325">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>Make sure to follow only the Whonix instructions for <code>resolvconf</code></p>
</blockquote>
</aside>
<p>Do you know what I can make to edit resolvconf ? It keep overwriting. I edit it and save and when I open it again after I start vpn it’s empty, it have default settings and I cant chattr it.</p>
<aside class="quote no-group quote-modified" data-post="1" data-topic="6325">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/m/f9ae1b/40.png" class="avatar"> Mageya:</div>
<blockquote>
<p>After I installed resolvconf<br>
My /etc/resolv.conf it’s overwritten every time. I tried to <code>sudo chattr +i /etc/resolv.conf</code> but I get error</p>
<p><code>chattr: Operation not supported while reading flags on /etc/resolv.conf</code></p>
<p>Because resolv.conf is link<br>
<code>/etc/resolv.conf -&gt; ../run/resolvconf/resolv.conf</code></p>
<p>I found some solutions on internet there say I need to<br>
apt autoremove resolvconf<br>
unlink /etc/resolv.conf<br>
But I’m not sure if I should.</p>
</blockquote>
</aside>
          <p><a href="http://forums.whonix.org/t/resolvconf-overwritten/6325/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/resolvconf-overwritten/6325/3</link>
        <pubDate>Sat, 17 Nov 2018 10:27:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6325-3</guid>
        <source url="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss">resolvconf overwritten</source>
      </item>
      <item>
        <title>resolvconf overwritten</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <p>Hi <code>Mageya</code></p>
<p>These instructions work if they are followed <strong>exactly</strong> as written. It’s likely a mistake was made.</p>
<blockquote>
<p>What dns I should use ?</p>
</blockquote>
<p>Use your providers dns server</p>
<aside class="quote no-group" data-post="1" data-topic="6325">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/m/f9ae1b/40.png" class="avatar"> Mageya:</div>
<blockquote>
<p>and on riseup website they don’t</p>
</blockquote>
</aside>
<p>Follow the instructions exactly as written. Some of the provider specific information will need to be added by you.</p>
<p>You have a riseup account, correct?</p>
<p>Edit:</p>
<p>Recommend:</p>
<p>I would start from the beginning to make sure no mistakes were made. If you edited any files other than what is your instructed to do, go back and revert those edits. Make sure to follow only the Whonix instructions for <code>resolvconf</code>. Do use the riseup.conf folder as instructed. Remember those configurations were taken from riseup.ovpn and added to that file.</p>
          <p><a href="http://forums.whonix.org/t/resolvconf-overwritten/6325/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/resolvconf-overwritten/6325/2</link>
        <pubDate>Fri, 16 Nov 2018 23:02:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6325-2</guid>
        <source url="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss">resolvconf overwritten</source>
      </item>
      <item>
        <title>resolvconf overwritten</title>
        <dc:creator><![CDATA[Mageya]]></dc:creator>
        <description><![CDATA[
            <p>I’m trying to make User &gt; Tor &gt; VPN &gt; Internet<br>
After I installed resolvconf<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#install_resolvconf" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:82/57;"><img src="https://www.whonix.org/w/images/1/15/Ball-443853640.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#install_resolvconf" target="_blank" rel="nofollow noopener">Tunnels/Connecting to Tor before a VPN</a></h3>

<p>Instructions on how to connect to Tor before a VPN (User -&gt; Tor -&gt; VPN -&gt; Internet)</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<p>My /etc/resolv.conf it’s overwritten every time. I tried to <code>sudo chattr +i /etc/resolv.conf</code> but I get error</p>
<p><code>chattr: Operation not supported while reading flags on /etc/resolv.conf</code></p>
<p>Because resolv.conf is link<br>
<code>/etc/resolv.conf -&gt; ../run/resolvconf/resolv.conf</code></p>
<p>I found some solutions on internet there say I need to<br>
apt autoremove resolvconf<br>
unlink /etc/resolv.conf<br>
But I’m not sure if I should.</p>
<p>Second question: What dns I should use ?<br>
Here it types <a href="https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#Verify_DNS_Settings" rel="nofollow noopener">https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#Verify_DNS_Settings</a></p>
<p><code>nameserver 10.5.0.1</code></p>
<p>but here<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Tunnels/Examples#Riseup_DNS" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:82/59;"><img src="https://www.whonix.org/w/images/7/70/Dykeroad-41832640.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Tunnels/Examples#Riseup_DNS" target="_blank" rel="nofollow noopener">Tunnels/Examples</a></h3>

<p>Instructions on how to combine VPN tunnels with Tor</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<pre><code>## Riseup.net OpenVPN DNS server
nameserver 172.27.100.1
</code></pre>
<p>and on riseup website they don’t edit /etc/resolv.conf instead of that they<br>
<code>Download [this script for updating the resolver](https://riseup.net/vpn/vpn-red/update-resolv.conf) and place it in /etc/openvpn/update-resolv.conf</code></p>
<p>Also riseup use <code>riseup.ovpn</code> file for configurations, whonix docs use <code>riseup.conf</code> or there is no difference ?</p>
          <p><a href="http://forums.whonix.org/t/resolvconf-overwritten/6325/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/resolvconf-overwritten/6325/1</link>
        <pubDate>Fri, 16 Nov 2018 14:09:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6325-1</guid>
        <source url="http://forums.whonix.org/t/resolvconf-overwritten/6325.rss">resolvconf overwritten</source>
      </item>
  </channel>
</rss>
