<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
    <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310</link>
    <description>Hi,
will Whonix support mac with ARM (m1)?</description>
    <language>en</language>
    <lastBuildDate>Sat, 15 Oct 2022 19:39:23 +0000</lastBuildDate>
    <category>Unsupported Platforms</category>
    <atom:link href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[noiden]]></dc:creator>
        <description><![CDATA[
            <p>If I’m running “apt” commands without “apt-cacher-ng” activated I have no problem at all, as soon as I activate “apt-cacher-ng” I have to run “apt upgrade &amp;&amp; sudo apt update” like 3-4 times, then it work.</p>
<p>I have tried different debian mirrors in my /etc/apt/sources.list and as stated above, it works without any problem without apt-cacher-ng activated, but as soon as I activate apt-cacher-ng, I got problems with <code>"502  Connection reset by peer [IP: 127.0.0.1 3142]"</code></p>
<p>And my /etc/apt/sources.list should not have anything with the building to do? Because I think my source.list gets replaced with other repos in the source code? Because when I run a build it does not use any other mirror, just the orginial <code>deb.debian.org</code>.</p>
<p>I have all dependencies installed. For example I have “gcc-10-base” installed already, but the “derivate-maker” build is downloading that again. I don’t really know how this “derivate-maker” build works, but it makes a new environment and downloads packages into that environment? And using “apt-cacher-ng” which causes my problems.</p>
<p>here is a paste of the build log,<br>
<code>https://notes.anonpaste.org/?badef3a769d95e85#3JdEBfa3cZf1BswBGADWhezxknmJNdK9Q2GirW78q8af</code></p>
<p>The problem starts at row 1406.</p>
<p>I have tried to download some of the packages with “wget” and that works just fine.</p>
<p>Cheers! <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=12" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/317">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/317</link>
        <pubDate>Sat, 15 Oct 2022 19:39:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-317</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="noiden" data-post="314" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/n/e274bd/40.png" class="avatar"> noiden:</div>
<blockquote>
<p>Ok. Seems that my apt-cacher-ng is the problem, because I get download problems with “apt install” when I’m using the apt-cacher-ng.<br>
I tried the version in backports, but still same error. Is it possible to build without that function?</p>
</blockquote>
</aside>
<p>No.</p>
<p>Not without source code modifications. apt-cacher-ng is used by default on developer machines. https repositories for apt-cacher-ng being able to cache these need to be in a special format. <a href="https://github.com/Whonix/derivative-maker/tree/master/build_sources">There are already too many.</a> Maintaining a set for apt-cacher-ng vs non-apt-cacher-ng would be too much effort. That’s why this feature won’t be added.</p>
<p>No special configuration of build machine /etc/apt/sources.list /etc/apt/sources.list.d is required.</p>
<p>Since this is the first time this doesn’t work, I also suspect a local configuration issue and not apt-cacher-ng issue.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/316">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/316</link>
        <pubDate>Sat, 15 Oct 2022 09:34:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-316</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Goldeneye128]]></dc:creator>
        <description><![CDATA[
            <p>Well if you could give out the entire build log it would help out a lot. Also if you get problems with apt install then you should fix that. Maybe try a round of:</p>
<pre><code class="lang-auto">$ sudo apt upgrade &amp;&amp; sudo apt update
</code></pre>
<p>If you cannot upgrade or update. It most likely mean your config at /etc/apt/sources.list is not good.</p>
<pre><code class="lang-auto">$ sudo apt install git time curl apt-cacher-ng lsb-release fakeroot fasttrack-archive-keyring
</code></pre>
<p>Also remember to download all the dependencies as well.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/315">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/315</link>
        <pubDate>Fri, 14 Oct 2022 20:55:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-315</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[noiden]]></dc:creator>
        <description><![CDATA[
            <p>Ok. Seems that my apt-cacher-ng is the problem, because I get download problems with “apt install” when I’m using the apt-cacher-ng.<br>
I tried the version in backports, but still same error. Is it possible to build without that function?</p>
<p>I can ping deb . debian . org without any problems or loss. I have not done any changes on the image.</p>
<p>lbs_release -a gives this information,</p>
<pre><code class="lang-auto">No LSB modules are available.
Distributor ID:	Debian
Description:	Debian GNU/Linux 11 (bullseye)
Release:	11
Codename:	bullseye
</code></pre>
<p>Thanks.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/314">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/314</link>
        <pubDate>Fri, 14 Oct 2022 19:22:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-314</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Goldeneye128]]></dc:creator>
        <description><![CDATA[
            <p>Not sure what is wrong then. Can you use <a href="https://notes.anonpaste.org/" rel="noopener nofollow ugc">https://notes.anonpaste.org/</a> (make sure to hook off Burn after reading or else it will delete itself right away) and post the entire build log? Kinda hard to see what is wrong with just this.</p>
<p>And just to be sure, can you ping? (you got stable net?), what do you get when you type the command <code>lsb_release -a</code> on the terminal? have you done any changes on image itself? Had any problem downloading or installing anything else before?</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/311">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/311</link>
        <pubDate>Wed, 12 Oct 2022 21:39:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-311</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[noiden]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for a great guide. But I can’t get my build to work.</p>
<p>I get the following error,</p>
<blockquote>
<p>W: listening on child socket failed:<br>
D: 5028 5784 finish to listen for hooks<br>
E: /home/xxxxxx/derivative-maker/help-steps/pbuilder-debootstrap-command-filter failed<br>
E: debootstrap.log not present<br>
W: Aborting with an error<br>
E: pbuilder create failed<br>
I: forking: rm -rf /var/cache/pbuilder/base.cow_arm64</p>
</blockquote>
<p>and</p>
<blockquote>
<p>last_failed_bash_command: return “$cowbuilder_exit_code”<br>
############################################################<br>
’<br>
++ unset error_reason<br>
++ ‘[’ ERR = INT ‘]’<br>
++ ‘[’ ERR = TERM ‘]’<br>
++ ‘[’ ERR = ERR ‘]’<br>
++ ‘[’ ‘!’ 0 = 0 ‘]’<br>
++ true ‘INFO: dist_build_auto_retry set to 0 (–retry-max). No auto retry.’<br>
++ unset dist_build_auto_retry_counter<br>
++ true<br>
++ ignore_error=false<br>
++ answer=<br>
++ ‘[’ ERR = ERR ‘]’<br>
++ ‘[’ ‘’ = true ‘]’<br>
++ ‘[’ -t 0 ‘]’<br>
++ true ‘INFO: stdin connected to terminal, using interactive error handler.’<br>
++ true 'ERROR: in ././build-steps.d/1130_cowbuilder-setup detected!</p>
</blockquote>
<p>It seems that a lot of packages can’t be downloaded because I get “502 Connection reset by peer [IP: 127.0.0.1 3142]” error on the “apt” downloading.</p>
<p>I have also tried with the latest developers tag, but same issue.</p>
<p>Thanks.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/310">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/310</link>
        <pubDate>Mon, 10 Oct 2022 21:00:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-310</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Goldeneye128]]></dc:creator>
        <description><![CDATA[
            <p>So did more research, Looks like qemu does not support direct gpu like what parallels do. They have more direct connection with apples hypervisors then what qemu does. As UTM is just a GUI application to qemu then this is what we get. <code>virtio-ramfb-gl</code> seems to be the best graphics mode with gpu acceleration. But it is a bit unstable (notice some as well). If you do not need it you can choose something else. Just wanted to let you know. It will most likely not be supported anything else for a long while (and maybe never) so this is the best for now that is FOSS.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/309">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/309</link>
        <pubDate>Thu, 06 Oct 2022 17:58:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-309</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Goldeneye128]]></dc:creator>
        <description><![CDATA[
            <p>From what i can see is that you are using the <code>16.0.6.9-testers-only</code> tag which is now kinda outdated. In my guide i did mention you need to renew the tag when a new one is coming out. Did i build today just to check using this git clone command:</p>
<pre><code class="lang-auto">$ git clone --depth=1 --branch 16.0.7.9-developers-only --jobs=4 --recurse-submodules --shallow-submodules https://github.com/derivative-maker/derivative-maker.git 
</code></pre>
<p>As of today the newest developers-only tag is: <code>16.0.7.9-developers-only</code>. I usually follow on the <a href="https://github.com/derivative-maker/derivative-maker" rel="noopener nofollow ugc">github</a> for what is the newest tag to use. I do recommend you use the newest stable or developers only tag. Try the new one? maybe that works better?</p>
<p>EDIT: I see patrick has already responded now. So maybe i was wrong and you need to reboot for now as well. (i am tired from work and completely blind).</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/308">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/308</link>
        <pubDate>Thu, 06 Oct 2022 17:51:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-308</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>The log excerpt is too short to get any idea what’s goring wrong. → <a href="https://www.kicksecure.com/wiki/Forum_Best_Practices#Pasting_Logs_for_Support">Pasting Logs for Support</a> (Whonix is based on Kicksecure.)</p>
<p>In this case though, to save you some work, no log is required…</p>
<p>Mount issues:</p>
<ul>
<li>
<ol>
<li>Reboot required.</li>
</ol>
</li>
<li>
<ol start="2">
<li>Might be fixed in a later git tag. Some upstream bugs in mount / kernel has been detected during CI development. A more robust use of mount working around these bugs has been implemented since. No newer testers or release available yet. You could monitor Whonix news when that happens. → <a href="https://whonix.org/wiki/Stay_Tuned" class="inline-onebox">Follow Whonix ™ Developments</a> Might happen within the next 2 weeks but please don’t quote me on that.</li>
</ol>
</li>
</ul>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/307">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/307</link>
        <pubDate>Thu, 06 Oct 2022 07:50:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-307</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[tq1]]></dc:creator>
        <description><![CDATA[
            <p>Hi, I’ve tried to build as per the <a class="mention" href="http://forums.whonix.org/u/goldeneye128">@Goldeneye128</a> above in an updated Debian 11 Bullseye UTM VM, but keep on getting the following error on the initial Gateway build:</p>
<pre><code class="lang-auto">############################################################
ERROR in ././build-steps.d/1700_install-packages detected!

dist_build_version: 16.0.6.9
dist_build_error_counter: 1
benchmark: 00:00:23
last_failed_exit_code: 1
trap_signal_type_previous: unset
trap_signal_type_last    : ERR

process_backtrace_result:
1: : init
2: : sshd: /usr/sbin/sshd -D [listener] 0 of 10-100 startups
3: : sshd: user [priv]
4: : sshd: user@pts/0
5: : -bash
6: : /bin/bash ./derivative-maker --target utm --flavor whonix-gateway-xfce --build --arch arm64
7: : /bin/bash ././build-steps.d/1700_install-packages

function_trace_result:
main (line number: 495)
main (line number: 491)
install-packages (line number: 205)
errorhandlerunchrootunpreventunmount (line number: 392)
errorhandlerprocessshared (line number: 211)


last_failed_bash_command: "$dist_source_help_steps_folder/mount-raw"
############################################################
</code></pre>
<p>Any help in troubleshooting this?</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/306">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/306</link>
        <pubDate>Wed, 05 Oct 2022 08:05:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-306</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Goldeneye128]]></dc:creator>
        <description><![CDATA[
            <p>I have not noticed any crashes, that being said. I do not use the vm for a very long time. So could be problems with that. Why i use the gpu supported display card is that they run way better then anything else. If i use any of them without the vm seems very slow.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/305">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/305</link>
        <pubDate>Fri, 26 Aug 2022 15:32:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-305</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[phirestalker]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Goldeneye128" data-post="302" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/goldeneye128/40/2862_2.png" class="avatar"> Goldeneye128:</div>
<blockquote>
<p>and enable virtio-ramfb-gl (gpu supported)</p>
</blockquote>
</aside>
<p>I was wondering if you watch videos or anything that actually uses the video card. If so, how long are the VMs open and do you minimize them for long hours at a time?</p>
<p>I ask because all the GPU options give me a random crash with something about Metal. It only seems to happen when I have minimized the VM, but not immediately. If you are using it similarly and have no problems, could we PM and compare notes?</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/304">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/304</link>
        <pubDate>Fri, 26 Aug 2022 14:08:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-304</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[aosoeawe]]></dc:creator>
        <description><![CDATA[
            <p>It seems to be a normal user-friendly guide… I definitely appreciate with your support.<br>
I’ll try this in hours, and leave a comment whether it progresses successfully.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/303">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/303</link>
        <pubDate>Fri, 26 Aug 2022 02:08:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-303</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Goldeneye128]]></dc:creator>
        <description><![CDATA[
            <h1>My Whonix Mac M1 Build Guide 26 August 2022 (Devs-only) </h1>
<p>Today i have successfully build on the new <code>16.0.6.9-testers-only</code> build. After following another thread:<br>
<a href="https://forums.whonix.org/t/derivative-maker-automated-ci-builder/14468">https://forums.whonix.org/t/derivative-maker-automated-ci-builder/14468</a> i decided to try to build again. Things have changes a bit since last time i made a guide so this is a update to that. Remember that the <a href="https://www.whonix.org/wiki/Dev/Build_Documentation/VM" rel="noopener nofollow ugc">build guide</a> is the official guide for building <a href="https://www.whonix.org/wiki/MacOS" rel="noopener nofollow ugc">whonix on mac</a>. This is just a help guide for the current build process.</p>
<h2>Step 1: Setting up Debian</h2>
<p>I expect that you guys know how to download <a href="https://cdimage.debian.org/debian-cd/current/arm64/iso-dvd/" rel="noopener nofollow ugc">debian</a>  and sett it up via UTM. If you are unable to perform that i highly suggest you to not try to build this project yet as its quite advance. But i will try to explain some common problems with a new debian install and some stuff that need to be done before building.</p>
<p>One of the most common problems with a new debian install is that apt and sudo is not setup. There is quite a lot of guides online and youtube that explain how to set it up. But its important that they are in working condition. Also it need to be <strong>debian 11 bullseye or newer</strong> for the project to build.</p>
<pre><code class="lang-auto">Quick Sheet if anyone have problems with getting apt or sudo to work
login to debian
$ su
$ cd /etc/apt/
$ nano sources.list
-----------------------------------------sources.list-----------------------------------------------------------------
deb http://deb.debian.org/debian bullseye main contrib non-free
deb-src http://deb.debian.org/debian bullseye main contrib non-free

deb http://deb.debian.org/debian-security/ bullseye-security main contrib non-free
deb-src http://deb.debian.org/debian-security/ bullseye-security main contrib non-free

deb http://deb.debian.org/debian bullseye-updates main contrib non-free
deb-src http://deb.debian.org/debian bullseye-updates main contrib non-free

deb http://deb.debian.org/debian bullseye-backports main contrib non-free
deb-src http://deb.debian.org/debian bullseye-backports main contrib non-free
------------------------------------------------------------------------------------------------------------------------
$ exit
$ exit
Restart debian

login to debain again
$ su
$ apt update
$ apt upgrade
$ apt install sudo
$ /usr/sbin/usermod -aG sudo user
$ exit
$ exit

Restart debian
</code></pre>
<p>When your debian vm is up and running on UTM. First thing first is to upgrade and update the repository so everything is up to date:</p>
<pre><code class="lang-auto">$ sudo apt upgrade &amp;&amp; sudo apt update
</code></pre>
<p>After this your debian vm should be up to date. After this then we can download some necessary dependencies:</p>
<pre><code class="lang-auto">$ sudo apt install git time curl apt-cacher-ng lsb-release fakeroot fasttrack-archive-keyring
</code></pre>
<p>These are a must to have, you can also download nano, vim, emacs or neovim as your editor. I use neovim but for the example and simplicity of this guide use nano and to download that you just:</p>
<pre><code class="lang-auto">$ sudo apt install nano
</code></pre>
<p>Now here is something new you need to do in the new build script.<br>
The script need you to have sudo passwordless or else the script would fail to build.</p>
<p>How did you set up passwordless sudo?<br>
The following should work:</p>
<pre><code class="lang-auto">$ sudo touch /etc/sudoers.d/passwordless
$ sudo nano /etc/sudoers.d/passwordless
--------------------------passwordless------------------------------
%sudo ALL=(ALL:ALL) NOPASSWD:ALL
--------------------------------------------------------------------
$ sudo adduser user sudo
</code></pre>
<p>(Required to replace user with actual user name.)</p>
<h3>Optional - Shared folders</h3>
For transferring files from vm to your mac you could use google drive or something if you debian is setup with internett and desktop environment like GNOME or KDE. But you can also transfer file via CLI. The way i used is by downloading:
<pre><code class="lang-auto">$ spice-vdagent spice-webdavd davfs2
</code></pre>
<p>which gives you spice tools for UTM and davfs2 for shared folders. (remember to check out shared folders on the UTM settings). Then use the command:</p>
<pre><code class="lang-auto">$ sudo mkdir /mnt/dav
$ sudo mount -t davfs -o noexec http://127.0.0.1:9843/ /mnt/dav
</code></pre>
<h2>Step 2: Build Whonix</h2>
<p>After you have correctly setup your debian vm then you are ready to download and build the project. To download the project use the command:</p>
<pre><code class="lang-auto">$ git clone --depth=1 --branch 16.0.6.9-testers-only --jobs=4 --recurse-submodules --shallow-submodules https://github.com/derivative-maker/derivative-maker.git
</code></pre>
<p>In your home directory. Then navigate yourself into the derivate folder:</p>
<pre><code class="lang-auto">$ cd derivative-maker/
$ git describe
16.0.6.9-testers-only
</code></pre>
<p>When inside you are ready to build the gateway (<strong>NB: only do one build at a time</strong>):</p>
<pre><code class="lang-auto">$ ./derivative-maker --target utm --flavor whonix-gateway-xfce --build --arch arm64
</code></pre>
<p>This should be done without sudo privileges now, then build the workstation:</p>
<pre><code class="lang-auto">$ ./derivative-maker --target utm --flavor whonix-workstation-xfce --build --arch arm64
</code></pre>
<p>In version <code>16.0.6.9-testers-only</code> there should be no need to use the tag <code>--tb open</code> unless the build fail. More on that on <strong>step 4: If tb browser fail to build</strong>.</p>
<p>You will now find the builded project under the <code>$HOME/derivative-binary/16.0.6.9</code> folder.</p>
<p><strong>Note: You should wait until a newer stable release will come out. Just replace everything mentioning</strong> <code>16.0.6.9-testers-only</code> <strong>with the new tag.</strong></p>
<h2>Step 3: Setup Whonix</h2>
<p>When the build is finished move the tar file locally on your mac, extract them and add the .utm for gateway and workstation to your UTM application. Then i go to setting on them both and add (fit to screen, retina mode, enable clipboard sharing) and enable virtio-ramfb-gl (gpu supported). I also for workstation add a bit more ram to 6gb but thats me. When i start both vm i also adjust the mouse, keyboard and theme setting on xfce.</p>
<p>On the gateway i use these commands on the terminal:</p>
<pre><code class="lang-auto">$ sudo passwd root
$ sudo passwd user
$ upgrade-nonroot
$ sudo apt install spice-vdagent spice-webdavd
$ sudo shutdown now
</code></pre>
<p>And start it up again, And on the workstation i use these commands:</p>
<pre><code class="lang-auto">$ sudo passwd root
$ sudo passwd user
$ upgrade-nonroot
$ sudo apt install spice-vdagent spice-webdavd
$ sudo shutdown now
</code></pre>
<p>You can also add shared folder function just like explained earlier. Remember to run your Gateway vm if you want to browse on the Workstation. Tor browser and everything should be operational but if not then.</p>
<h2>Step 4: If tb browser fail to build</h2>
<p><strong>ONLY DO THIS IS TB FAILS ON BUILD</strong></p>
<p>To build the workstation if/when the tb-browser fails to build, use the command:</p>
<pre><code class="lang-auto">$ ./derivative-maker --target utm --flavor whonix-workstation-xfce --build --arch arm64 --tb open
</code></pre>
<p>This will build the project without concerning downloading tb-browser right away. But then you need to download it manually.</p>
<p>To make it work follow this guide to manually set it up:</p>
<p><a href="https://www.whonix.org/wiki/Tor_Browser/Manual_Download" rel="noopener nofollow ugc">https://www.whonix.org/wiki/Tor_Browser/Manual_Download</a></p>
<p>But instead of the link provided there use the tor browser port from Heikki Lindholm at:</p>
<p><a href="https://sourceforge.net/projects/tor-browser-ports/" rel="noopener nofollow ugc">https://sourceforge.net/projects/tor-browser-ports/</a></p>
<p>This will enable Tor browser to work on the workstation OR to simplify it i have used these commands instead:</p>
<pre><code class="lang-auto">$ mkdir --parents /home/user/.tb
$ wget https://sourceforge.net/projects/tor-browser-ports/files/11.0.4-alsa/tor-browser-linux-arm64-11.5.1_en-US.tar.xz/download -P /home/user/.tb/
</code></pre>
<p>(might have to change the link portion on the wget command if there is a newer tb available)</p>
<p>Then verify the download and:</p>
<blockquote>
<p>open filemanager → extract download in .tb file → change filename to tor-browser</p>
</blockquote>
<p>Then you get the same result.</p>
<p>And that should be it. This is how i made whonix work on the m1 architecture with the current build. To this date as correctly as possible. Hopefully will this help someone out there. Also available to answer some questions when it comes to building up or setting up stuff on the m1 for whonix now. Also if there is anything wrong with this guide please let me know.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/302">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/302</link>
        <pubDate>Fri, 26 Aug 2022 01:42:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-302</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[aosoeawe]]></dc:creator>
        <description><![CDATA[
            <p>I requested it since I saw a google drive link that was sharing a image, but now the link is void.<br>
I know it’s expected to fail by ignoring errors, but at a normal user’s stance, nothing can be done to handle these. As I said, I studied the whole vm build documentation, and searched every community posts to solve out this for a week.<br>
Should I retry it for a month to get this done?<br>
I hope not.</p>
<p>Or any other options?</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/300">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/300</link>
        <pubDate>Thu, 25 Aug 2022 23:03:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-300</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Goldeneye128]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-username="Patrick" data-post="298" data-topic="11310" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<aside class="quote no-group" data-username="Goldeneye128" data-post="296" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/goldeneye128/40/2862_2.png" class="avatar"> Goldeneye128:</div>
<blockquote>
<p>Hope these logs can help you find out about this.</p>
</blockquote>
</aside>
<p>Might be fixed in <code>16.0.6.9-testers-only</code>.</p>
</blockquote>
</aside>
<p>So i have now build the <code>16.0.6.9-testers-only</code> version and it was a success.<br>
Command used was:</p>
<pre><code class="lang-auto">$ ./derivative-maker --target utm --flavor whonix-gateway-xfce --build --arch arm64
$ ./derivative-maker --target utm --flavor whonix-workstation-xfce --build --arch arm64
</code></pre>
<p>And here is the build log:<br>
<a href="https://notes.anonpaste.org/?03b29a924d87a3ad#3KpehejpAVY4gY6Ekf1HymxjzSB6avf6azcxKSRtx3Qy" rel="noopener nofollow ugc">https://notes.anonpaste.org/?03b29a924d87a3ad#3KpehejpAVY4gY6Ekf1HymxjzSB6avf6azcxKSRtx3Qy</a></p>
<p>It manages do build without the <code>--tb open</code> tag. I will now test the build and will make a guide or something on how to build this version if anyone is interested.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/299">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/299</link>
        <pubDate>Thu, 25 Aug 2022 21:16:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-299</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Unfortunately, project resources are limited and there isn’t a contributor supporting this use case.</p>
<aside class="quote no-group" data-username="aosoeawe" data-post="297" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/aosoeawe/40/3127_2.png" class="avatar"> aosoeawe:</div>
<blockquote>
<p>However, while I build my image, I get 7~8 errors during the build by debian. I just continue it,</p>
</blockquote>
</aside>
<p>As already said in the script error handler, please do not report bugs as a result of ignoring errors. That’s very much to be expected to have all sorts of issues including being unbootable. If anything, each error has to be investigated on its own. There are no shortcuts.</p>
<aside class="quote no-group" data-username="Goldeneye128" data-post="296" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/goldeneye128/40/2862_2.png" class="avatar"> Goldeneye128:</div>
<blockquote>
<p>Hope these logs can help you find out about this.</p>
</blockquote>
</aside>
<p>Might be fixed in <code>16.0.6.9-testers-only</code>.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/298">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/298</link>
        <pubDate>Thu, 25 Aug 2022 12:02:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-298</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[aosoeawe]]></dc:creator>
        <description><![CDATA[
            <p>Hopefully there are some contributors out here. I’m a normal user with m1, hoping to use whonix by utm.<br>
However, while I build my image, I get 7~8 errors during the build by debian. I just continue it, since I can’t find what’s wrong.<br>
After I finish it and initialize it at utm, vm skips to initialize booting files and goes on to uefi interactive shell.(maybe it fails to read the file)<br>
After the failure, I even built it by qcow2, because I thought raw is not supported by utm. (but also this seems not to be the reason)<br>
This is my 10th attempt with building this, and it seems hopeless to retry.<br>
Is there any other options that I can use whonix…? Maybe a pre-made tar.gz file…?</p>
<p>I understand this is only for experts, but please give normal users a chance to use whonix… I can’t buy another laptop because of whonix…</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/297">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/297</link>
        <pubDate>Thu, 25 Aug 2022 07:45:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-297</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Goldeneye128]]></dc:creator>
        <description><![CDATA[
            <p>So i have been trying to make the newest build of <code>16.0.6.8-developers-only</code> too build on Mac M1. But have gotten myself into some problems. I have followed the <a href="https://forums.whonix.org/t/derivative-maker-automated-ci-builder/14468">https://forums.whonix.org/t/derivative-maker-automated-ci-builder/14468</a> thread and made sudo passwordless by adding <code>/etc/sudoers.d/passwordless</code> as explained in the thread. But got into some problems.</p>
<p>Building the gateway worked fine:<br>
<a href="https://notes.anonpaste.org/?b65818cc9d69c9ed#9MzGBcqaLq9JaaxYMqvZbSDEpsz5gCQXvcssezPMxCb9" rel="noopener nofollow ugc">https://notes.anonpaste.org/?b65818cc9d69c9ed#9MzGBcqaLq9JaaxYMqvZbSDEpsz5gCQXvcssezPMxCb9</a></p>
<p>Used the command</p>
<pre><code class="lang-auto">$ ./derivative-maker --target utm --flavor whonix-gateway-xfce --build --arch arm64
</code></pre>
<p>But Building the workstation did not go so well:<br>
<a href="https://notes.anonpaste.org/?7707cae5cebe5bc1#EKSDDMZCQkKEDLtDv97FFyUrSV2aXtybCanRhghY9AKK" rel="noopener nofollow ugc">https://notes.anonpaste.org/?7707cae5cebe5bc1#EKSDDMZCQkKEDLtDv97FFyUrSV2aXtybCanRhghY9AKK</a></p>
<p>I tried both of these commands</p>
<pre><code class="lang-auto">$ ./derivative-maker --target utm --flavor whonix-workstation-xfce --build --arch arm64
$ ./derivative-maker --target utm --flavor whonix-workstation-xfce --build --arch arm64 --tb open
</code></pre>
<p>From what i can see from the log its:</p>
<pre><code class="lang-auto">####################################################################
## BEGIN ERROR in /var/lib/dpkg/info/tb-updater.postinst detected!
##
## ERROR LOG:
## See above.
##
## BASH_COMMAND: $tool $chroot_maybe --postinst
## EXIT_CODE: 7
##
## END ERROR in /var/lib/dpkg/info/tb-updater.postinst detected!
## Please report this bug!
####################################################################
</code></pre>
<p>That is the problem for why the build fail.<br>
Hope these logs can help you find out about this.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/296">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/296</link>
        <pubDate>Thu, 25 Aug 2022 06:42:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-296</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[aosoeawe]]></dc:creator>
        <description><![CDATA[
            <p>Is sudo apt upgrade process unnecessary?</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/295">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/295</link>
        <pubDate>Thu, 25 Aug 2022 01:49:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-295</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Miraculix]]></dc:creator>
        <description><![CDATA[
            <p><strong>Build instructions</strong></p>
<p><em>Relevant information:</em></p><aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Stable_Release">
  <header class="source">
      <img src="https://www.kicksecure.com/w/images/4/45/Kicksecure-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="https://www.kicksecure.com/wiki/Stable_Release" target="_blank" rel="noopener nofollow ugc" title="01:28PM - 20 June 2022">Kicksecure – 20 Jun 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/452;"><img src="https://www.kicksecure.com/w/images/b/b5/Releasenots.png" class="thumbnail" width="640" height="452"></div>

<h3><a href="https://www.kicksecure.com/wiki/Stable_Release" target="_blank" rel="noopener nofollow ugc">Stable Release</a></h3>

  <p>Kicksecure ™ Release Notes, Changelog, Kicksecure ™ 16 Stable Release</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.whonix.org/wiki/MacOS">
  <header class="source">
      <img src="https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="https://www.whonix.org/wiki/MacOS" target="_blank" rel="noopener nofollow ugc" title="08:57AM - 05 August 2022">Whonix – 5 Aug 22</a>
  </header>

  <article class="onebox-body">
    <img src="https://www.whonix.org/w/images/3/3e/logo-apple-500x500.png" class="thumbnail" width="" height="">

<h3><a href="https://www.whonix.org/wiki/MacOS" target="_blank" rel="noopener nofollow ugc">Whonix ™ for macOS: Download and Installation</a></h3>

  <p>Whonix ™ for macOS: Download and Installation</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.whonix.org/wiki/Dev/Build_Documentation/VM">
  <header class="source">
      <img src="https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="https://www.whonix.org/wiki/Dev/Build_Documentation/VM" target="_blank" rel="noopener nofollow ugc" title="07:53PM - 09 August 2022">Whonix – 9 Aug 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/388;"><img src="https://www.whonix.org/w/images/5/59/Whonix-twitter-post.jpg?version=54f067e87f7190deda500f4c79618b61" class="thumbnail" width="690" height="388"></div>

<h3><a href="https://www.whonix.org/wiki/Dev/Build_Documentation/VM" target="_blank" rel="noopener nofollow ugc">Whonix ™ VM Build Documentation</a></h3>

  <p>Instructions to build Whonix ™ Virtual Machine Images from Source Code.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p><em>Note: For simplicity this instruction is based on current stable version (16.0.5.3). See link about stable release for any newer releases (if may be)</em></p>
<p><strong>Step 1:</strong> Download <a href="https://cdimage.debian.org/debian-cd/current/arm64/iso-cd/" rel="noopener nofollow ugc">Debian arm64 image</a><br>
<strong>Step 2:</strong> Load Debian image into UTM<br>
<strong>Step 3:</strong> (Inside Debian image @ UTM) - run following commands:</p>
<p>git clone --depth=1 --branch 16.0.5.3-stable --jobs=4 --recurse-submodules --shallow-submodules <a href="https://github.com/derivative-maker/derivative-maker.git" rel="noopener nofollow ugc">https://github.com/derivative-maker/derivative-maker.git</a><br>
cd derivative-maker<br>
git fetch<br>
git verify-tag 16.0.5.3-stable<br>
git verify-commit 16.0.5.3-stable^{commit}<br>
git --no-pager tag<br>
git checkout --recurse-submodules 16.0.5.3-stable<br>
git describe<br>
git status</p>
<p><em>(see <a href="https://www.whonix.org/wiki/Dev/Build_Documentation/VM" rel="noopener nofollow ugc">this link</a> for appropriate PGP verification of source</em></p>
<p>sudo ./derivative-maker --target utm --flavor whonix-gateway-xfce --build --arch arm64 --tb open<br>
sudo ./derivative-maker --target utm --flavor whonix-workstation-xfce --build --arch arm64 --tb open</p>
<p><strong>Step 4:</strong><br>
Done, build of Whonix ™ has been completed. Move build files from ~/derivative_binary/16.0.5.3/ to local computer and load into UTM</p>
<p>Note: I just got a build error during first run of derivative-maker. The process continued with success after hitting (r) for retry. No idea why I had a road bump during compilation.</p>
<p>Edit: If you are experiencing issues with Tor browser, see <a href="https://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/238">previous post</a> from Goldeneye128.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/294">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/294</link>
        <pubDate>Wed, 10 Aug 2022 11:16:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-294</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Hacker1488]]></dc:creator>
        <description><![CDATA[
            <p>May you upload the video how you built your own whonix step-by-step?</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/293">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/293</link>
        <pubDate>Tue, 09 Aug 2022 15:53:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-293</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[BananaSplit]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Hacker1488" data-post="291" data-topic="11310" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/b487fb/40.png" class="avatar"> Hacker1488:</div>
<blockquote>
<p>Or maybe anybody else can send latest gz files for UTM?</p>
</blockquote>
</aside>
<p>Can’t help with that, but here are a few things related to rolling your own:</p>
<p>It’s not too difficult to build. When installing Debian on UTM though if you run into issues with the installation process failing (I can’t quote the errors I was getting at the moment, only the solution, so YMMV if your errors are different), try just picking the GNOME choice for the Debian desktop when you use the installer. That got me and some others around an installation roadblock. Also make sure that you are giving 30+ GB to the installation. It might choke on less.</p>
<p>As for the Whonix instructions for Apple Silicon, I found it necessary to ignore this line at the bottom of the “1. Environment Setup” section, as it seems superfluous: “Double click the Bullseye utm file to import it.” There is no utm file to import at that point in the process.</p>
<p>Otherwise the process went surprisingly smoothly. Do also note that it might be necessary to understand better what’s going on with the Tor Browser installation because while a tool is provided for that within the workstation, it hasn’t worked for some of us and this could be related to how we did the build (didn’t change any configuration steps; I believe I had found a discussion of this on another forum thread, but can’t dig that up just now) and / or issues with signing key(s). But this can be worked around by getting Tor Browser by user <strong>holind</strong> from Tor Browser Ports on Sourceforge; go to the Files tab and find the 11.5.1 folder (current), then scroll until you find the arm64 builds. (Sorry, I can’t post links or I would have.)</p>
<p>As with my above separate question, I am not 100% sure of what the implications of this manual installation method are for Tor Browser. I can only report that it does seemingly work. So again, YMMV.</p>
<p>And, apologies for any potential errors above, as I am still learning.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/292">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/292</link>
        <pubDate>Sun, 07 Aug 2022 09:02:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-292</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Hacker1488]]></dc:creator>
        <description><![CDATA[
            <p>Or maybe anybody else can send latest gz files for UTM?</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/291">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/291</link>
        <pubDate>Sat, 06 Aug 2022 05:06:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-291</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
      <item>
        <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</title>
        <dc:creator><![CDATA[Hacker1488]]></dc:creator>
        <description><![CDATA[
            <p>Hi! These links don’t work. Can you share new links please?</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/290">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/290</link>
        <pubDate>Sat, 06 Aug 2022 05:03:28 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11310-290</guid>
        <source url="http://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310.rss">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</source>
      </item>
  </channel>
</rss>
