<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing) - #18 by Patrick - Unsupported Platforms - Whonix Forum</title>
    <meta name="description" content="Hi, 
will Whonix support mac with ARM (m1)?">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../11310.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)&#39;" href="../11310.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/18" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/18" />
<meta property="og:title" content="Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)" />
<meta name="twitter:title" content="Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)" />
<meta property="og:description" content="Great progress!   Likely caused by sandboxing parameters in onion-grater’s systemd unit file. Similar to this platform specific issue:    Try commenting out this line:    After changing that file:  sudo systemctl daemon-reload &amp;&amp; sudo systemctl restart onion-grater &amp;&amp; sudo systemctl --no-pager status onion-grater  If that doesn’t help, try out commenting out all onion-grater systemd sandboxing." />
<meta name="twitter:description" content="Great progress!   Likely caused by sandboxing parameters in onion-grater’s systemd unit file. Similar to this platform specific issue:    Try commenting out this line:    After changing that file:  sudo systemctl daemon-reload &amp;&amp; sudo systemctl restart onion-grater &amp;&amp; sudo systemctl --no-pager status onion-grater  If that doesn’t help, try out commenting out all onion-grater systemd sandboxing." />
<meta property="article:published_time" content="2021-04-28T11:38:16+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="../113104658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../11310.html">Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/unsupported-platforms/24.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #231F20'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Unsupported Platforms</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/GavinPacini'><span itemprop='name'>GavinPacini</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-25T21:35:03Z' class='post-time'>
                April 25, 2021,  9:35pm
              </time>
              <meta itemprop='dateModified' content='2021-04-25T21:55:57Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Okay, latest update.</p>
<p>I’ve made some good progress. I’m now running a Debian <code>buster</code> VM on QEMU on the Mac M1.<br>
I ran this to get to the installer:</p>
<pre><code class="lang-auto">qemu-system-aarch64 \
         -machine virt,accel=hvf,highmem=off \
         -cpu cortex-a72 -smp 8 -m 4G \
         -device intel-hda -device hda-output \
         -nographic \
         -device usb-ehci \
         -device usb-kbd \
         -device virtio-net-pci,netdev=net \
         -device virtio-mouse-pci \
         -netdev user,id=net,ipv6=off \
         -drive "if=pflash,format=raw,file=./edk2-aarch64-code.fd,readonly=on" \
         -drive "if=virtio,format=raw,file=./hdd.raw,discard=on" \
         -drive "file=../debian/debian-10.9.0-arm64-netinst.iso,id=cdrom,if=none,media=cdrom" \
         -device virtio-scsi-device -device scsi-cd,drive=cdrom \
         -boot order=d
</code></pre>
<p>followed the usual Debian installation steps. Then I can just remove the SCSI cdrom device and use QEMU to boot from the <code>hdd.raw</code> file itself which now contains a bootable Debian. I did have to manually get the QEMU UEFI to load the <code>grubaa64.efi</code> but that’s a bit beside the point… (I am keeping track of all the commands I am running, and what each part does so I can write a nice post for future M1 users).</p>
<p>This works much better with the <code>grml-debootstrap</code> package, it now finishes building in a few minutes. Thanks <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a>! In order to get a successful run, I’ve used the below command:</p>
<pre><code>sudo KERNEL='none' NOKERNEL='true' UPGRADE_SYSTEM='no' GRUB_INSTALL='no' grml-debootstrap \
        --debopt "--verbose --include=initramfs-tools,eatmydata,apt-transport-tor,python3.7,gpg,gpg-agent" \
        --arch arm64 \
        --filesystem ext4 \
        --force \
        --hostname host \
        --nopassword \
        --release buster \
        --keep_src_list \
        --verbose \
        --vmfile \
        --vmsize 25G \
        --packages ./grml_packages \
        --target ./debian.raw
</code></pre>
<p>I’ve made this based on these <a href="../../../../external.html?link=https://gitlab.com/whonix/Whonix/-/blob/master/build-steps.d/1300_create-raw-image" rel="noopener nofollow ugc">whonix build steps</a>.</p>
<p>This provides me with a debian.raw file. I understand that this does not have grub (if I don’t use <code>GRUB_INSTALL='no'</code> the build fails), nor a kernel (same here, if I don’t pass <code>KERNEL='none' NOKERNEL='true'</code>) the build fails.</p>
<p>The reason for these failures (as far as I can tell) is that <code>grml-debootstrap</code> does not natively support arm64.</p>
<p>I know that I now need to get arm64 grub and an arm64 kernel onto this VM file. So far I’ve tried two things (neither of which worked).</p>
<ol>
<li>Mount the <code>debian.raw</code> file and try run <code>grub-install</code>.</li>
</ol>
<pre><code class="lang-auto">sudo  mkdir -p "/mnt/debootstrap.grub"
sudo kpartx -asv ./debian.raw
sudo mount -o rw,suid,dev "/dev/mapper/loop0p1" "/mnt/debootstrap.grub"
sudo grub-install /mnt/debootstrap.grub --target arm64-efi
sudo sync
sudo umount /mnt/debootstrap.grub
sudo kpartx -d ./debian.raw &gt;/dev/null
sudo rmdir /mnt/debootstrap.grub
sudo chown user:user ./debian.raw
</code></pre>
<p>Unfortunately I didn’t see any relevant grub files in the <code>/mnt/debootstrap.grub/boot</code> folder.</p>
<p>So, then I tried…</p>
<ol start="2">
<li>Copy the files I have from my working Debian VM’s <code>/boot</code> folder into the mounted Debian filesystem’s boot folder (i.e. <code>/mnt/debootstrap.grub/boot</code>). This meant my <code>debian.raw</code> file now has (what looks like) the files necessary for booting. However, running this in a similar qemu command as above yields a UEFI error.</li>
</ol>
<p>I know UEFI generally looks for an EFI partition (I have some experience in hackintoshing). However, I’m not really use how to go about making this partition in a file. Maybe that’s the reason the QEMU UEFI BIOS cannot find the required <code>grubaa64.efi</code> file?</p>
<p>I’m still continuing my trials. Just wanted to leave another update as I progress.</p>
<p>Note: <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a>, seems I can use <code>edk2-aarch64-code.fd</code> to boot arm64 debian. Working well for me so far with the Debian VM I created using the net installer. I suppose this then should work when I can get a correct build from <code>grml-debootstrap</code>. Thanks though!</p>
<p>EDIT: quick update. Figured out I need to get that new partition setup and also probably make changes to <code>/etc/fstab</code>.</p>
<p>Some helpful resources I am going to use next to try get my <code>debian.raw</code> booting are:<br>
</p><aside class="onebox githubgist">
  <header class="source">
      <a href="../../../../external.html?link=https://gist.github.com/superboum/1c7adcd967d3e15dfbd30d04b9ae6144" target="_blank" rel="noopener nofollow ugc">gist.github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://gist.github.com/superboum/1c7adcd967d3e15dfbd30d04b9ae6144" target="_blank" rel="noopener nofollow ugc">https://gist.github.com/superboum/1c7adcd967d3e15dfbd30d04b9ae6144</a></h4>
<h5>build.sh</h5>
<pre><code class="Shell">#!/bin/bash

set -e # Exit on error

DEVICE=$1
[ -z "${DEVICE}" ] &amp;&amp; echo "Usage $0 /dev/sdX" &amp;&amp; exit 1

udevadm info -n ${DEVICE} -q property
echo "Selected device is ${DEVICE}"
read -p "[Press enter to continue or CTRL+C to stop]"</code></pre>
This file has been truncated. <a href="../../../../external.html?link=https://gist.github.com/superboum/1c7adcd967d3e15dfbd30d04b9ae6144" target="_blank" rel="noopener nofollow ugc">show original</a>

<p>
</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../../external.html?link=https://d3u5jkmuxaiujc.cloudfront.net/wp-content/themes/fizz-ph/img/loginlogo-favicon.png" class="site-icon" width="64" height="64">
      <a href="../../../../external.html?link=https://blog.heckel.io/2017/05/28/creating-a-bios-gpt-and-uefi-gpt-grub-bootable-linux-system/" target="_blank" rel="noopener nofollow ugc" title="04:52PM - 28 May 2017">Philipp's Tech Blog – 28 May 17</a>
  </header>
  <article class="onebox-body">
    <img src="../../../../external.html?link=https://blog.heckel.io/wp-content/uploads/2017/05/Selection_315.jpg" class="thumbnail onebox-avatar" width="250" height="250">

<h3><a href="../../../../external.html?link=https://blog.heckel.io/2017/05/28/creating-a-bios-gpt-and-uefi-gpt-grub-bootable-linux-system/" target="_blank" rel="noopener nofollow ugc">Creating a BIOS/GPT and UEFI/GPT Grub-bootable Linux system - Philipp's Tech...</a></h3>

<p>Good old Master Boot Record (MBR) unfortunately cannot address anything beyond 2TB, so partitioning large disks and making them bootable is impossible using MBR. The GUID Partition Table (GPT) solves this problem: It supports disks up to 16EB....</p>

  <p><span class="label1">Est. reading time: 3 minutes</span>
    </p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Also seems it’s not too dissimilar to what this script does: <a href="../../../../external.html?link=https://gitlab.com/whonix/Whonix/-/blob/master/build-steps.d/2375_build_rpi_fs#L22" rel="noopener nofollow ugc">https://gitlab.com/whonix/Whonix/-/blob/master/build-steps.d/2375_build_rpi_fs#L22</a></p>
<p>So, will report back once I’ve exhausted my efforts there.</p>
<p>And, finally, I suppose once I do have a way of getting this working we feed that back into a new script in the <code>build-steps.d</code> folder.</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/GavinPacini'><span itemprop='name'>GavinPacini</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-26T01:35:05Z' class='post-time'>
                April 26, 2021,  1:35am
              </time>
              <meta itemprop='dateModified' content='2021-04-26T01:35:05Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Quick follow-up, some success!</p>
<p>My assumptions were correct. Once I manually added grub and the kernel, I can boot from my newly created Debian arm64 image file, using QEMU on the M1.</p>
<p>If anyone is curious how I did that, you can follow the gist below.<br>
</p><aside class="onebox githubgist">
  <header class="source">
      <a href="../../../../external.html?link=https://gist.github.com/GavinPacini/99e30904b039a34acefce0195d34c9cd" target="_blank" rel="noopener nofollow ugc">gist.github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://gist.github.com/GavinPacini/99e30904b039a34acefce0195d34c9cd" target="_blank" rel="noopener nofollow ugc">https://gist.github.com/GavinPacini/99e30904b039a34acefce0195d34c9cd</a></h4>
<h5>debian-grub-kernel.sh</h5>
<pre><code class="Shell"># Note, this is WIP. A proper tutorial will be published soon.
# This mainly serves as hosting the script so the Whonix forum members can review it.

# From within another Debian VM
sudo KERNEL='none' NOKERNEL='true' UPGRADE_SYSTEM='no' GRUB_INSTALL='no' grml-debootstrap \
        	--debopt "--verbose --include=initramfs-tools,eatmydata,apt-transport-tor,python3.7,gpg,gpg-agent" \
        	--arch arm64 \
        	--filesystem ext4 \
        	--force \
        	--hostname host \</code></pre>
This file has been truncated. <a href="../../../../external.html?link=https://gist.github.com/GavinPacini/99e30904b039a34acefce0195d34c9cd" target="_blank" rel="noopener nofollow ugc">show original</a>

<p>
</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
Note: this is really rough around the edges. I’ll clean it up and add comments, but first I want to get Whonix booting.
<p>So, I guess now I need to go through the rest of the Whonix build steps and adjust as needed in order to get Whonix booting similarly on my Mac host. Thanks for all the help so far!</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-27T05:54:20Z' class='post-time'>
                April 27, 2021,  5:54am
              </time>
              <meta itemprop='dateModified' content='2021-04-27T05:54:20Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Or much better. Add ARM support to grml-debootstrap.</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/grml/grml-debootstrap/issues/169" target="_blank" rel="noopener">github.com/grml/grml-debootstrap</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/grml/grml-debootstrap/issues/169" target="_blank" rel="noopener">ARM support</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-04-27" data-time="05:53:51" data-timezone="UTC">05:53AM - 27 Apr 21 UTC</span>
      </div>


      <div class="user">
        <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>
  </div>
</div>

<div class="github-row">
  <p class="github-content">Could you please add support for creating VM images with ARM platform support?</p>
</div>

<div class="labels">
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/GavinPacini'><span itemprop='name'>GavinPacini</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">

            <link itemprop="image" href="../../../uploads/default/original/2X/0/0aeb8cc28bc8d83aa77084245bb0d08fabe02130.jpg">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-27T19:44:38Z' class='post-time'>
                April 27, 2021,  7:44pm
              </time>
              <meta itemprop='dateModified' content='2021-04-27T19:44:38Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Ladies and gentlemen we got <strong>somewhere</strong>.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../../uploads/default/original/2X/0/0aeb8cc28bc8d83aa77084245bb0d08fabe02130.jpg" data-download-href="//forums.whonix.org/uploads/default/0aeb8cc28bc8d83aa77084245bb0d08fabe02130" title="Screenshot 2021-04-27 at 21.40.24"><img src="../../../uploads/default/optimized/2X/0/0aeb8cc28bc8d83aa77084245bb0d08fabe02130_2_650x500.jpeg" alt="Screenshot 2021-04-27 at 21.40.24" data-base62-sha1="1yBr9lPzQhlhWCFOEnaPPJCS4jS" width="650" height="500" srcset="//forums.whonix.org/uploads/default/optimized/2X/0/0aeb8cc28bc8d83aa77084245bb0d08fabe02130_2_650x500.jpeg, //forums.whonix.org/uploads/default/optimized/2X/0/0aeb8cc28bc8d83aa77084245bb0d08fabe02130_2_975x750.jpeg 1.5x, //forums.whonix.org/uploads/default/optimized/2X/0/0aeb8cc28bc8d83aa77084245bb0d08fabe02130_2_1300x1000.jpeg 2x" data-small-upload="../../../uploads/default/optimized/2X/0/0aeb8cc28bc8d83aa77084245bb0d08fabe02130_2_10x10.png"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot 2021-04-27 at 21.40.24</span><span class="informations">2158×1660 438 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>I added a new step into the <code>build-steps.d</code> folder which is basically a cleaned up / parameterised version of my gist above. Also needed to make a few small changes to other scripts.</p>
<p>Still to do:</p>
<ol>
<li>Ensure I haven’t broken builds of other archs / flavours. Do you guys have some CI actually?</li>
<li>Get networking working between the Gateway and the Workstation using the <code>vmnet-mac</code> QEMU networking mode.</li>
<li>Clean it all up, contribute back in terms of a GitHub PR and docs.</li>
</ol>
<p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> Regarding <code>grml-debootstrap</code>, I will revert on that issue you created and contribute back there also. I think that might take a bit longer though, so I want to first get Whonix working fully on the M1.</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/GavinPacini'><span itemprop='name'>GavinPacini</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">

            <link itemprop="image" href="../../../uploads/default/original/2X/c/c078cb67f36edbc1ddf67727fd882af428a7ec46.jpeg">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-28T01:26:58Z' class='post-time'>
                April 28, 2021,  1:26am
              </time>
              <meta itemprop='dateModified' content='2021-04-28T01:26:58Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Alright, more progress. We have networking from the Workstation! And, also the workstation built perfectly with the changes I made to the <code>build-steps.d</code> scripts.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../../uploads/default/original/2X/c/c078cb67f36edbc1ddf67727fd882af428a7ec46.jpeg" data-download-href="//forums.whonix.org/uploads/default/c078cb67f36edbc1ddf67727fd882af428a7ec46" title="Screenshot 2021-04-28 at 03.20.32"><img src="../../../uploads/default/optimized/2X/c/c078cb67f36edbc1ddf67727fd882af428a7ec46_2_690x422.jpeg" alt="Screenshot 2021-04-28 at 03.20.32" data-base62-sha1="rsGttGZqRzQaJhTUNpbkLVaNy06" width="690" height="422" srcset="//forums.whonix.org/uploads/default/optimized/2X/c/c078cb67f36edbc1ddf67727fd882af428a7ec46_2_690x422.jpeg, //forums.whonix.org/uploads/default/optimized/2X/c/c078cb67f36edbc1ddf67727fd882af428a7ec46_2_1035x633.jpeg 1.5x, //forums.whonix.org/uploads/default/optimized/2X/c/c078cb67f36edbc1ddf67727fd882af428a7ec46_2_1380x844.jpeg 2x" data-small-upload="../../../uploads/default/optimized/2X/c/c078cb67f36edbc1ddf67727fd882af428a7ec46_2_10x10.png"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot 2021-04-28 at 03.20.32</span><span class="informations">2696×1652 811 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>I have noticed the systemcheck is failing due to the <code>onion-grater</code> service. But, I cannot for the life of me figure out why. When running <code>/usr/lib/onion-grater</code> by itself it works fine… Is this a known issue by any chance in the latest built of Whonix? I am basing my work off 15.0.1.7.2.</p>
<p>My QEMU commands look like this now by the way, just in case anyone else is following along. I’ll publish my build script changes soon also.</p>
<pre><code class="lang-auto">qemu-system-aarch64 \
         -machine virt,accel=hvf,highmem=off \
         -cpu cortex-a72 -smp 4 -m 2G \
         -device intel-hda -device hda-output \
         -device virtio-gpu-pci \
         -device usb-ehci \
         -device usb-kbd \
         -device usb-tablet \
         -device virtio-net-pci,netdev=external \
         -device virtio-net-pci,netdev=internal \
         -netdev user,id=external,ipv6=off,net=10.0.2.0/24 \
         -netdev socket,id=internal,listen=:8010 \
         -display cocoa \
         -drive "if=pflash,format=raw,file=./edk2-aarch64-code.fd,readonly=on" \
         -drive "if=pflash,format=raw,file=./edk2-vars-whonix.fd,discard=on" \
         -drive "if=virtio,format=raw,file=./Whonix-Gateway-XFCE.raw,discard=on"

qemu-system-aarch64 \
         -machine virt,accel=hvf,highmem=off \
         -cpu cortex-a72 -smp 8 -m 4G \
         -device intel-hda -device hda-output \
         -device virtio-gpu-pci \
         -device usb-ehci \
         -device usb-kbd \
         -device usb-tablet \
         -device virtio-net-pci,netdev=internal \
         -netdev socket,id=internal,connect=127.0.0.1:8010 \
         -display cocoa \
         -drive "if=pflash,format=raw,file=./edk2-aarch64-code.fd,readonly=on" \
         -drive "if=pflash,format=raw,file=./edk2-vars-work.fd,discard=on" \
         -drive "if=virtio,format=raw,file=./Whonix-Workstation-XFCE.raw,discard=on"
</code></pre>
<p>Still lots to do overall, but getting there.</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-28T11:38:16Z' class='post-time'>
                April 28, 2021, 11:38am
              </time>
              <meta itemprop='dateModified' content='2021-04-28T11:38:16Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Great progress!</p>
<aside class="quote no-group" data-username="GavinPacini" data-post="17" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/gavinpacini/40/2649_2.png" class="avatar"> GavinPacini:</div>
<blockquote>
<p>I have noticed the systemcheck is failing due to the <code>onion-grater</code> service. But, I cannot for the life of me figure out why. When running <code>/usr/lib/onion-grater</code> by itself it works fine… Is this a known issue by any chance in the latest built of Whonix?</p>
</blockquote>
</aside>
<p>Likely caused by sandboxing parameters in onion-grater’s systemd unit file. Similar to this platform specific issue:</p>
<aside class="quote" data-post="54" data-topic="7590">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="../../apply-systemd-sandboxing-by-default-to-some-services/7590/54.html">Apply systemd sandboxing by default to some services</a> <a class="badge-wrapper  bullet" href="../../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    sdwdate is getting killed on Debian buster on the ppc64el architecture. 
How to debug systemd hardening? All I get: 

sdwdate.service: Main process exited, code=killed, status=31/SYS 

Any way to see a more specific error message which systemd hardening was violated? Any other way to debug other than trial and error which the offensive option is?
  </blockquote>
</aside>

<p>Try commenting out this line:</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/onion-grater/blob/master/lib/systemd/system/onion-grater.service#L54" target="_blank" rel="noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Whonix/onion-grater/blob/master/lib/systemd/system/onion-grater.service#L54" target="_blank" rel="noopener">Whonix/onion-grater/blob/master/lib/systemd/system/onion-grater.service#L54</a></h4>
<pre class="onebox"><code class="lang-service"><ol class="start lines" start="44" style="counter-reset: li-counter 43 ;">
<li>ProcSubset=pid</li><li>PrivateTmp=true</li><li>PrivateUsers=true</li><li>PrivateDevices=true</li><li>NoNewPrivileges=true</li><li>LockPersonality=true</li><li>RestrictRealtime=true</li><li>RestrictSUIDSGID=true</li><li>RestrictAddressFamilies=AF_INET AF_UNIX</li><li>RestrictNamespaces=true</li><li class="selected">SystemCallFilter=stat close open mmap fstat rt_sigaction read munmap mprotect readlink getdents write lstat poll lseek brk rt_sigprocmask ioctl access dup getpid socket connect sendto recvmsg bind listen getsockname getpeername setsockopt execve uname fcntl getrlimit sysinfo getuid getgid geteuid getegid sigaltstack statfs arch_prctl futex set_tid_address set_robust_list getrandom openat getdents64 getcwd accept4 clone recvfrom shutdown madvise pipe2 dup2 wait4 mkdir fchownat _llseek send recv</li><li>SystemCallArchitectures=native</li><li></li><li>[Install]</li><li>WantedBy=multi-user.target</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>After changing that file:</p>
<pre><code>sudo systemctl daemon-reload &amp;&amp; sudo systemctl restart onion-grater &amp;&amp; sudo systemctl --no-pager status onion-grater
</code></pre>
<p>If that doesn’t help, try out commenting out all onion-grater systemd sandboxing.</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../apply-systemd-sandboxing-by-default-to-some-services/7590/55.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../apply-systemd-sandboxing-by-default-to-some-services/7590/55.html'>
                      <span itemprop='name'>Apply systemd sandboxing by default to some services</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-28T12:09:38Z' class='post-time'>
                April 28, 2021, 12:09pm
              </time>
              <meta itemprop='dateModified' content='2021-04-28T12:09:38Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="GavinPacini" data-post="16" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/gavinpacini/40/2649_2.png" class="avatar"> GavinPacini:</div>
<blockquote>
<p>Do you guys have some CI actually?</p>
</blockquote>
</aside>
<p>Used to but Travis CI is shutting down.</p>
<ul>
<li><a href="../../../../external.html?link=https://travis-ci.org/github/Whonix/Whonix">https://travis-ci.org/github/Whonix/Whonix</a></li>
<li>
<a href="../../../../external.html?link=https://www.whonix.org/wiki/Dev/Continuous_Integration">https://www.whonix.org/wiki/Dev/Continuous_Integration</a> (outdated)</li>
</ul>
<p>But there was never any free (or affordable) CI which supports sudo/root, Debian based, supporting device-mapper. All of that would be required to even build a VM image. Let alone of booting a VM and testing if it’s functional. That would be difficult due to CI’s being based on virtualization and requirement for nested virtualization. Any contribution to improve CI support would be most welcome!</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/GavinPacini'><span itemprop='name'>GavinPacini</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-28T18:03:58Z' class='post-time'>
                April 28, 2021,  6:03pm
              </time>
              <meta itemprop='dateModified' content='2021-04-28T18:03:58Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>That indeed worked, the <code>onion-grater</code> service now runs fine, thanks! I had the same issue with <code>sdwdate</code> and resolved it the same way.</p>
<p>I see you mentioned this is only happening on certain architectures. Would you recommend I comment out those line then for the arm64 builds of Whonix? At least this way other users wouldn’t have the issue. Obviously, we should re-enable it once we can.</p>
<p>I see you’ve opened a superuser issue, hopefully someone else can help us debug it, I don’t have any experience there myself.</p>
<p>Regarding CI, I understand the difficulty finding such a provider. We would basically need to run our own CI infrastructure to get all of those features.</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/GavinPacini'><span itemprop='name'>GavinPacini</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-28T21:13:18Z' class='post-time'>
                April 28, 2021,  9:13pm
              </time>
              <meta itemprop='dateModified' content='2021-04-28T21:13:18Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Opened an initial PR: <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/pull/439" rel="noopener nofollow ugc">https://github.com/Whonix/Whonix/pull/439</a> - would appreciate some early feedback, or even if someone wants to trial it already.</p>
<p>I want to still do some more changes:</p>
<ol>
<li>Ensure those above mentioned services will run out-of-the-box.</li>
<li>Update docs for building and running these images on an M1 Mac.</li>
</ol>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-29T13:37:10Z' class='post-time'>
                April 29, 2021,  1:37pm
              </time>
              <meta itemprop='dateModified' content='2021-04-29T13:37:10Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Looks good overall!</p>
<p>It’s OK because it’s highly unlikely to break anything existing.</p>
<p>Seems pretty perfect.</p>
<hr>
<p>Some nitpicks:</p>
<ul>
<li>What would happen with file <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/2375_build_rpi_fs">https://github.com/Whonix/Whonix/blob/master/build-steps.d/2375_build_rpi_fs</a>?
<ul>
<li>(<a href="../../whonix-for-arm64-raspberry-pi-rpi-duplicate-forum-topic/1788.html" class="inline-onebox">Whonix for arm64 / Raspberry Pi ( RPi )</a>)</li>
<li>Would be removed? Not a big deal since RPi support is currently broken anyhow with nobody working on it.</li>
</ul>
</li>
<li>Some <code>$</code>variables should be quoted.</li>
</ul>
<blockquote>
<p>cp $binary_image_raw $orig_img<br>
mkdir --parents $mpoint_efi<br>
rm $orig_img</p>
</blockquote>
<p>Few more.</p>
<p>Not a big deal. I could add the nitpick on top (but then hope the quoting doesn’t break it although very unlikely).</p>
<hr>
<p>Optional, non-blocker:</p>
<aside class="quote no-group" data-username="GavinPacini" data-post="21" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/gavinpacini/40/2649_2.png" class="avatar"> GavinPacini:</div>
<blockquote>
<p>and running these images on an M1 Mac.</p>
</blockquote>
</aside>
<p>That would be <a href="../../../../external.html?link=https://www.whonix.org/wiki/MacOS">https://www.whonix.org/wiki/MacOS</a>?</p>
<aside class="quote no-group" data-username="GavinPacini" data-post="21" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/gavinpacini/40/2649_2.png" class="avatar"> GavinPacini:</div>
<blockquote>
<p>Update docs for building</p>
</blockquote>
</aside>
<p>That would be</p>
<ul>
<li><a href="../../../../external.html?link=https://www.whonix.org/wiki/Dev/Build_Documentation/15_full">https://www.whonix.org/wiki/Dev/Build_Documentation/15_full</a></li>
<li><a href="../../../../external.html?link=https://www.whonix.org/wiki/Build_Configuration">https://www.whonix.org/wiki/Build_Configuration</a></li>
<li>
<a href="../../../../external.html?link=https://www.whonix.org/wiki/Template:Build_Documentation_64bit">https://www.whonix.org/wiki/Template:Build_Documentation_64bit</a> (not best URL, should perhaps move tempalte)</li>
</ul>
<hr>
<p>(Please disagree should I suggest some wrong stuff. I am certainly not married to any of these opinions. :))</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/GavinPacini'><span itemprop='name'>GavinPacini</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-30T00:19:12Z' class='post-time'>
                April 30, 2021, 12:19am
              </time>
              <meta itemprop='dateModified' content='2021-04-30T00:19:12Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks for the reply and comments! I’ve made another commit which should address those.</p>
<p>Regarding the RPI file, I actually implemented my checks in such a way that that build should not be affected. I wasn’t aware that it wasn’t working anymore. I can remove it in my PR if you want?</p>
<p>Once you’re happy with PR, feel free to merge it. I may do some follow-up PRs which get the arm64 build into better shape (currently the .qcow2 files it produces doesn’t work, but at least .raw does).</p>
<p>Thanks for the doc links, I’ll get editing those soon also.<br>
Really appreciate all your feedback, no problem with disagreeing! <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-30T14:12:23Z' class='post-time'>
                April 30, 2021,  2:12pm
              </time>
              <meta itemprop='dateModified' content='2021-04-30T14:12:23Z'>
          <span itemprop='position'>#24</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Merged! <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Thank you, this might be great for <code>arm64</code> support generally!<br>
(I.e. unrelated to Mac hardware)</p>
<p>Btw now that you’ve found your way around Whonix’s build script to the level of porting to a newer platform, perhaps you’ll have suggestions on how it could have been better structured / documented to simplify contributions / easier to understand. (Ideally in a separate forum thread.)</p>
<hr>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/ebcd1dda74ad06c28a094bd28919d40bc8286fed" target="_blank" rel="noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/ebcd1dda74ad06c28a094bd28919d40bc8286fed" target="_blank" rel="noopener">remove RPi specific build step</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2021-04-30" data-time="14:06:34" data-timezone="UTC">02:06PM - 30 Apr 21 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 0 additions and 69 deletions">
        <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/ebcd1dda74ad06c28a094bd28919d40bc8286fed" target="_blank" rel="noopener">
          <span class="added">+0</span>
          <span class="removed">-69</span>
        </a>
      </div>
    </div>

  </div>
</div>


  <div class="github-row">
    <pre class="github-content" style="white-space: normal;">deleted `build-steps.d/2375_build_rpi_fs`
because:
- no active RPi support maintainer
- `build-steps.d/2376_build_arm64_fs` is similar
https://forums.whonix.org/t/whonix-on-mac-with-arm-m1/11310/22
https://forums.whonix.org/t/whonix-for-arm64-raspberry-pi-rpi/1788</pre>
  </div>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/GavinPacini'><span itemprop='name'>GavinPacini</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-01T08:16:50Z' class='post-time'>
                May 1, 2021,  8:16am
              </time>
              <meta itemprop='dateModified' content='2021-05-01T08:16:50Z'>
          <span itemprop='position'>#25</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Great, thanks Patrick!</p>
<p>Yes, I think in its current incarnation it <em>should</em> work for any future arm64 machines (provided QEMU arm64 works). I do expect we’ll see arm64 chips in Linux workstations soon seeing as Linus (and others) are pushing for this.</p>
<p>Regarding feedback on the build scripts, I actually found them quite approachable. They are well designed such that I was able to integrate without needing to understand every one, rather I just needed to know where to slot in. The RPI one definitely helped with that.</p>
<p>I’d be happy to actively contribute and improve M1 support, so as I go about doing that (via the repo itself and docs), I’ll be sure to provide any further feedback I have. Thanks for you help, and great project! <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/GavinPacini'><span itemprop='name'>GavinPacini</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-01T14:43:33Z' class='post-time'>
                May 1, 2021,  2:43pm
              </time>
              <meta itemprop='dateModified' content='2021-05-01T14:43:33Z'>
          <span itemprop='position'>#26</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Alright, I’ve made some changes to the wiki pages:</p>
<ul>
<li><a href="../../../../external.html?link=https://www.whonix.org/wiki/MacOS" rel="noopener nofollow ugc">https://www.whonix.org/wiki/MacOS</a></li>
<li><a href="../../../../external.html?link=https://www.whonix.org/wiki/Dev/Build_Documentation/15_full" rel="noopener nofollow ugc">https://www.whonix.org/wiki/Dev/Build_Documentation/15_full</a></li>
</ul>
<p>I’m not too used to this Wiki markdown language, so please do feel free to clean up any of the formatting. I’m sure I’ll get better at it. While I’m not super happy with the state of the docs, I think it’s better to have something in there for now at least, especially while it’s fresh on my mind and I have some time. Will update them as I go along.</p>
<p>For some reason I don’t see an “Edit” option on this page: <a href="../../../../external.html?link=https://www.whonix.org/wiki/Build_Configuration" rel="noopener nofollow ugc">https://www.whonix.org/wiki/Build_Configuration</a> - I’d like to especially arm64 it under “Platforms Choice”. Is this restricted?</p>
<p>Thanks again!</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-01T16:21:52Z' class='post-time'>
                May 1, 2021,  4:21pm
              </time>
              <meta itemprop='dateModified' content='2021-05-01T16:21:52Z'>
          <span itemprop='position'>#27</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Great!</p>
<p>Removed protection from <a href="../../../../external.html?link=https://www.whonix.org/wiki/Build_Configuration">https://www.whonix.org/wiki/Build_Configuration</a>. Can now be edited.</p>
<p><a href="../../../../external.html?link=https://www.whonix.org/wiki/MacOS">https://www.whonix.org/wiki/MacOS</a> could also be split into two different pages.</p>
<ul>
<li>Intel based Mac</li>
<li>M1 based Mac</li>
</ul>
<p>Not sure that would make sense? Might depend on:</p>
<p>Will it be possible / is it planned to make this work with either/and/or KVM / virt-manager / VirtualBox?</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-01T18:00:13Z' class='post-time'>
                May 1, 2021,  6:00pm
              </time>
              <meta itemprop='dateModified' content='2021-05-01T18:00:13Z'>
          <span itemprop='position'>#28</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="kviz" data-post="3" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/kviz/40/2630_2.png" class="avatar"> kviz:</div>
<blockquote>
<p>Would wait for VirtualBox running on ARM.</p>
</blockquote>
</aside>
<aside class="quote no-group" data-username="Patrick" data-post="27" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>VirtualBox</p>
</blockquote>
</aside>
<p>Oracle hasn’t announced any such plans. That doesn’t seem likely at this time at all. That could be years, if ever.</p>
<p><a href="../../../../external.html?link=https://forums.virtualbox.org/viewtopic.php?t=98742" class="onebox" target="_blank" rel="noopener">https://forums.virtualbox.org/viewtopic.php?t=98742</a></p>
<p><a href="../../../../external.html?link=https://www.virtualbox.org/ticket/20192" class="onebox" target="_blank" rel="noopener">https://www.virtualbox.org/ticket/20192</a></p>
<hr>
<p>Potential build speed up coming to mind for developer builds:</p>
<aside class="quote quote-modified" data-post="1" data-topic="8107">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="../../whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107.html">Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</a> <a class="badge-wrapper  bullet" href="../../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    By adding 
--remote-derivative-packages true

Whonix images will be build with packages from Whonix developers repository. No packages will be build locally. 
This option is optional. 
This option is opt-in. 
This option is useful for me during development, during creation of developers-only test images. It saves a ton of time having to rebuild all packages again and rebuilding these packages over and over again for each build. 
This option might be useful for other developers who work on aspect…
  </blockquote>
</aside>

<p>…but probably miss out on platform specific packages:<br>
<a href="../../../../external.html?link=https://www.whonix.org/wiki/Dev/Porting#Packages">https://www.whonix.org/wiki/Dev/Porting#Packages</a></p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/GavinPacini'><span itemprop='name'>GavinPacini</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-02T17:14:02Z' class='post-time'>
                May 2, 2021,  5:14pm
              </time>
              <meta itemprop='dateModified' content='2021-05-02T17:14:02Z'>
          <span itemprop='position'>#29</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks Patrick, I updated the Build Configuration page now with some small changes.</p>
<p>Regarding the macOS page, yes, I think it could do with a larger restructure. I’ll tackle this probably next weekend, but didn’t have much time this weekend so just got the Apple Silicon steps in quickly so they are not only on my machine / in my head. <img src="../../../images/emoji/twitter/winkc164.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
<p>If VirtualBox releases ARM compatibility at some point, I would definitely port it there. It would be much more user friendly than QEMU. I’m also considering <a href="../../../../external.html?link=https://getutm.app/" rel="noopener nofollow ugc">https://getutm.app/</a> - it uses QEMU under the hood so would be easier to get it working there and more user friendly.</p>
<p>KVM is a linux hypervisor, so I don’t see it ever working on macOS. HVF is the macOS implementation and the QEMU commands I added into the Whonix wiki use HVF already.</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/GavinPacini'><span itemprop='name'>GavinPacini</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-02T17:19:06Z' class='post-time'>
                May 2, 2021,  5:19pm
              </time>
              <meta itemprop='dateModified' content='2021-05-02T17:19:06Z'>
          <span itemprop='position'>#30</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="28" data-topic="11310" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Potential build speed up coming to mind for developer builds:</p>
</blockquote>
</aside>
<p>That’s a handy flag for the build script, will keep it in mind, thanks!</p>
<p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> would it be possible to add those arm64 images to <a href="../../../../external.html?link=https://download.whonix.org/" rel="noopener nofollow ugc">https://download.whonix.org/</a> at some point? I think we could then already make an “easier” version of the Apple Silicon setup.</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-03T07:03:35Z' class='post-time'>
                May 3, 2021,  7:03am
              </time>
              <meta itemprop='dateModified' content='2021-05-03T07:03:35Z'>
          <span itemprop='position'>#31</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Is in <code>-XX-&lt;git commit hash&gt;.raw</code> the git commit hash part inconvenient? (For intermediate documentation writing?) The only reason I originally implemented that is preventing users to build from git master (or other arbitrary git commits) and then wondering why their build is different from git tag releases.</p>
<p>File names are configurable but I guess setting an environment variable for that is also inconvenient.</p>
<p>Instead to clarify to users “caution, not building from a tag”, the git commit hash could be replaced by “untagged”. That would also sufficiently indicate “caution, custom build”.</p>
<p>(Nothing fundamentally wrong with builds from non-tags as long as knowing that.)</p>
<p>(Going to answer other parts later.)</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11310.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-03T12:58:44Z' class='post-time'>
                May 3, 2021, 12:58pm
              </time>
              <meta itemprop='dateModified' content='2021-05-03T12:58:44Z'>
          <span itemprop='position'>#32</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="GavinPacini" data-post="30" data-topic="11310">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/gavinpacini/40/2649_2.png" class="avatar"> GavinPacini:</div>
<blockquote>
<p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> would it be possible to add those arm64 images to <a href="../../../../external.html?link=https://download.whonix.org/">https://download.whonix.org/</a> at some point? I think we could then already make an “easier” version of the Apple Silicon setup.</p>
</blockquote>
</aside>
<p>That’s an incredible development. Thanks for creating this. It would be a pleasure for me  to handle aarch64 KVM Builds. Will you be reachable for any bug troubleshooting in case something breaks down the line?</p>
        </div>

        <meta itemprop='headline' content='Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="../113104658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
