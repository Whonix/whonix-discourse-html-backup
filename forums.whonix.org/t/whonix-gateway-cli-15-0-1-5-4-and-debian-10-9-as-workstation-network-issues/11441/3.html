<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix Gateway CLI-15.0.1.5.4 and Debian 10.9 as Workstation - Network issues - #3 by Patrick - Support - Whonix Forum</title>
    <meta name="description" content="Greetings, 
I imported a fresh Whonix Gateway CLI .ova file on VirtualBox and I tested with a fresh Whonix Workstation XFCE. 
Then I decided to use as workstation Debian 10.9 (debian-live-10.9.0-amd64-xfce) installing it&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../11441.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix Gateway CLI-15.0.1.5.4 and Debian 10.9 as Workstation - Network issues&#39;" href="../11441.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-gateway-cli-15-0-1-5-4-and-debian-10-9-as-workstation-network-issues/11441/3" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-gateway-cli-15-0-1-5-4-and-debian-10-9-as-workstation-network-issues/11441/3" />
<meta property="og:title" content="Whonix Gateway CLI-15.0.1.5.4 and Debian 10.9 as Workstation - Network issues" />
<meta name="twitter:title" content="Whonix Gateway CLI-15.0.1.5.4 and Debian 10.9 as Workstation - Network issues" />
<meta property="og:description" content="Better to use Disable Predictable Network Interface Names instead?  References:      zless /usr/share/doc/udev/README.Debian.gz | cat   Instructions would suggest instead:  sudo ln -s /dev/null /etc/systemd/network/99-default.link sudo update-initramfs -u  And perhaps reboot.  Untested.  Advantages: closer to Whonix-Workstation configuration. Easier. “Actually” predictable network interface names (at lest inside VMs)." />
<meta name="twitter:description" content="Better to use Disable Predictable Network Interface Names instead?  References:      zless /usr/share/doc/udev/README.Debian.gz | cat   Instructions would suggest instead:  sudo ln -s /dev/null /etc/systemd/network/99-default.link sudo update-initramfs -u  And perhaps reboot.  Untested.  Advantages: closer to Whonix-Workstation configuration. Easier. “Actually” predictable network interface names (at lest inside VMs)." />
<meta property="article:published_time" content="2021-04-15T08:22:47+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../11441.html">Whonix Gateway CLI-15.0.1.5.4 and Debian 10.9 as Workstation - Network issues</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Bl4ckJ4ck'><span itemprop='name'>Bl4ckJ4ck</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11441.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-14T11:55:43Z' class='post-time'>
                April 14, 2021, 11:55am
              </time>
              <meta itemprop='dateModified' content='2021-04-14T11:55:43Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Greetings,<br>
I imported a fresh Whonix Gateway CLI .ova file on VirtualBox and I tested with a fresh Whonix Workstation XFCE.<br>
Then I decided to use as workstation Debian 10.9 (debian-live-10.9.0-amd64-xfce) installing it in a Virtual Machine.<br>
I followed the procedure described in the following link: <a href="../../../../external.html?link=https://www.whonix.org/wiki/Other_Operating_Systems#Whonix_.E2.84.A2-GNU.2FLinux-Workstation" rel="noopener nofollow ugc">https://www.whonix.org/wiki/Other_Operating_Systems#Whonix_.E2.84.A2-GNU.2FLinux-Workstation</a></p>
<p>In particular, as described in the link, I made a new machine where I attached the .iso file and in the VirtualBox settings for this Debian machine, I set the following:</p>
<ul>
<li>
<code>System</code> → <code>Motherboard</code> → <code>Hardware Clock in UTC</code>
</li>
<li>
<code>System</code> → <code>Motherboard</code> → <code>Pointing Device</code> → <code>PS/2 Mouse (required to disable the USB controller)</code>
</li>
<li>
<code>System</code> → <code>Processor</code> → <code>Enable PAE/NX (if available)</code>
</li>
<li>
<code>Network</code> → <code>Adapter 1</code> → <code>Attached to Internal Network (important!)</code>
</li>
<li>
<code>Network</code> → <code>Adapter 1</code> → <code>Name (of Internal Network) (important!): Whonix</code> <a href="../../../../external.html?link=https://www.whonix.org/wiki/Other_Operating_Systems#cite_note-8" rel="noopener nofollow ugc">[8]</a>
</li>
<li>
<code>USB</code> → <code>Uncheck Enable USB controller</code>
</li>
<li>→ <code>OK</code>
</li>
</ul>
<p>then I turned on the machine for the installation.</p>
<p>After the installation, I configured the network in this way:<br>
<code>sudo nano /etc/network/interfaces</code><br>
and substitute the content with:</p>
<pre><code># This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

# The loopback network interface, leave as it is
auto lo
iface lo inet loopback

auto eth0
#iface eth0 inet dhcp
iface eth0 inet static
# increment last octet of IP address on additional workstations
address 10.152.152.12
netmask 255.255.192.0
#network 10.152.152.0
#broadcast 10.152.152.255
gateway 10.152.152.10
</code></pre>
<p>Then, I edited /etc/resolv.conf by substituting the content with:<br>
<code>nameserver 10.152.152.10</code></p>
<p>and then I rebooted the Debian machine. I also rebooted the Whonix Gateway.<br>
After the restart of both of them. on Debian machine I tried to execute a <code>curl ifconfig.me</code> and also a <code>sudo apt-get update</code> to check if it is connected, but it is not (indeed I get the popup of Network Manager that says I’m disconnected). Only Whonix Gateway is correctly connected.</p>
<p>Is it possible that on Debian, the settings on <code>/etc/network/interfaces</code> could be in conflict with the Network Manager application? Or for working my Debian machine needs the Tor package to be installed? Or likely I’m missing some further step? (PS: on Debian I didn’t still install Tor Browser, on it there is Firefox ESR).</p>
<p>In all this scenario the Whonix Workstation is kept turned off.</p>
<p>Thank you in advance</p>
        </div>

        <meta itemprop='headline' content='Whonix Gateway CLI-15.0.1.5.4 and Debian 10.9 as Workstation - Network issues'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../whonix-14-0-0-0-7-developers-only/3449/4.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../whonix-14-0-0-0-7-developers-only/3449/4.html'>
                      <span itemprop='name'>Whonix 14.0.0.0.7 developers-only</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Bl4ckJ4ck'><span itemprop='name'>Bl4ckJ4ck</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11441.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-14T12:58:58Z' class='post-time'>
                April 14, 2021, 12:58pm
              </time>
              <meta itemprop='dateModified' content='2021-04-14T13:09:34Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hello,<br>
I answered to my question because I found the solution.</p>
<p>On my Debian machine, the interface name was different, it was not <code>eth0</code> but <code>enp0s3</code>, so, in the <code>/etc/network/interfaces</code>, I substituted <code>eth0</code> with <code>enp0s3</code> and then I executed <code>sudo ifup enp0s3</code>. Without restarting the machine, it is possible to test by a <code>sudo apt-get update</code>.</p>
<p>I added this detail in the wiki of the link I attached on my question.</p>
        </div>

        <meta itemprop='headline' content='Whonix Gateway CLI-15.0.1.5.4 and Debian 10.9 as Workstation - Network issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../11441.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-15T08:22:47Z' class='post-time'>
                April 15, 2021,  8:22am
              </time>
              <meta itemprop='dateModified' content='2021-04-15T08:22:47Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Better to use <code>Disable Predictable Network Interface Names</code> instead?</p>
<p>References:</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/whonix-gw-network-conf/blob/master/debian/whonix-gw-network-conf.links" target="_blank" rel="noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Whonix/whonix-gw-network-conf/blob/master/debian/whonix-gw-network-conf.links" target="_blank" rel="noopener">Whonix/whonix-gw-network-conf/blob/master/debian/whonix-gw-network-conf.links</a></h4>
<pre><code class="lang-links">## Copyright (C) 2012 - 2021 ENCRYPTED SUPPORT LP &lt;adrelanos@whonix.org&gt;
## See the file COPYING for copying conditions.

#### meta start
#### project Whonix
#### category networking
#### non_qubes_whonix_only yes
#### gateway_only yes
#### description

## Disable Predictable Network Interface Names as these are problematic.
## https://forums.whonix.org/t/whonix-14-0-0-0-7-developers-only/3449/4
## Disabling them as per
## 'zless /usr/share/doc/udev/README.Debian.gz'.
/dev/null /etc/systemd/network/99-default.link

#### meta end
</code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="quote quote-modified" data-post="4" data-topic="3449">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="../../whonix-14-0-0-0-7-developers-only/3449/4.html">Whonix 14.0.0.0.7 developers-only</a> <a class="badge-wrapper  bullet" href="../../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    IIRC you reported something to upstream on these lines? 

That was ifupdown in wheezy or so that did not fail closed when the pre hook (that we set to Whonix firewall) failed or so, not systemd-networkd. 

Is systemd guaranteed air-tight for failing closed and not leaking packets? 

Getting a network card up is not a that complex task. Theoretically it could have bugs such as using dhcp even if configured to use static networking. 
The conservative approach is to stay with ifupdown since it’s l…
  </blockquote>
</aside>

<pre><code>zless /usr/share/doc/udev/README.Debian.gz | cat
</code></pre>
<hr>
<p>Instructions would suggest instead:</p>
<pre><code>sudo ln -s /dev/null /etc/systemd/network/99-default.link
sudo update-initramfs -u
</code></pre>
<p>And perhaps reboot.</p>
<p>Untested.</p>
<p>Advantages: closer to Whonix-Workstation configuration. Easier. “Actually” predictable network interface names (at lest inside VMs).</p>
        </div>

        <meta itemprop='headline' content='Whonix Gateway CLI-15.0.1.5.4 and Debian 10.9 as Workstation - Network issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
