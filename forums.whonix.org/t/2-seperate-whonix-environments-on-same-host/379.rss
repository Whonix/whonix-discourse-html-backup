<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>2 Seperate Whonix Environments on Same Host?</title>
    <link>http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379</link>
    <description>2 sperate gateways and workstations on the same host, Specifically using KVM. Any particular setup process required? Or is it straightforward?</description>
    <language>en</language>
    <lastBuildDate>Wed, 30 Jul 2014 23:31:23 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>2 Seperate Whonix Environments on Same Host?</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>As part of QEMU the QXL is restricted by Apparmor just like any other video adapter you choose.</p>
          <p><a href="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/10</link>
        <pubDate>Wed, 30 Jul 2014 23:31:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-379-10</guid>
        <source url="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379.rss">2 Seperate Whonix Environments on Same Host?</source>
      </item>
      <item>
        <title>2 Seperate Whonix Environments on Same Host?</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <p>No that’s not it, I already added the other network tag and redefined. keep in mind the network seems to start fine, this error could probably be due to the lower version of virt-manager (as it’s not in wheezy backports)</p>
<p>Also, on an unrelated note, would it be safe to switch to cirrus instead of using qxl for display?</p>
          <p><a href="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/9</link>
        <pubDate>Wed, 30 Jul 2014 19:21:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-379-9</guid>
        <source url="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379.rss">2 Seperate Whonix Environments on Same Host?</source>
      </item>
      <item>
        <title>2 Seperate Whonix Environments on Same Host?</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Remove any defined network first then import a text file renamed with an xml ending  containing:</p>
<p><code>
&lt;network&gt;
        &lt;name&gt;Whonix&lt;/name&gt;
        &lt;bridge name="virbr2" stp="on" delay="0" /&gt;
 &lt;/network&gt;</code></p>
          <p><a href="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/8</link>
        <pubDate>Wed, 30 Jul 2014 04:56:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-379-8</guid>
        <source url="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379.rss">2 Seperate Whonix Environments on Same Host?</source>
      </item>
      <item>
        <title>2 Seperate Whonix Environments on Same Host?</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Oh my bad. I forgot to add the  tag in the example I posted. Add it and try again</p>
          <p><a href="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/7</link>
        <pubDate>Wed, 30 Jul 2014 04:54:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-379-7</guid>
        <source url="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379.rss">2 Seperate Whonix Environments on Same Host?</source>
      </item>
      <item>
        <title>2 Seperate Whonix Environments on Same Host?</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <p>Does it matter that when I select the new Whonix network now, within virt-manager, it says "error selecting network: unsupported data type: &lt;type ‘NoneType’&gt;</p>
<p>(keep in mind this isn’t an updated virt-manager as I am using debian stable). Everything seems to work fine with the VM’s though, so just curious if this message even matters.</p>
          <p><a href="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/6</link>
        <pubDate>Wed, 30 Jul 2014 02:36:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-379-6</guid>
        <source url="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379.rss">2 Seperate Whonix Environments on Same Host?</source>
      </item>
      <item>
        <title>2 Seperate Whonix Environments on Same Host?</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <p>wow, good catch!! glad to help</p>
          <p><a href="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/5</link>
        <pubDate>Tue, 29 Jul 2014 23:16:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-379-5</guid>
        <source url="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379.rss">2 Seperate Whonix Environments on Same Host?</source>
      </item>
      <item>
        <title>2 Seperate Whonix Environments on Same Host?</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>gh0st I want to thank you for drawing my attention to a very serious misconfiguration in the network xml</p>
<p>Because of about half a dozen different pages on the libvirt site talking about networking commands and settings, almost all of them are missing a crucial piece of information on configuration that left us open to attack.</p>
<p><a href="http://libvirt.org/formatnetwork.html" class="onebox" target="_blank">http://libvirt.org/formatnetwork.html</a><br>
<a href="http://libvirt.org/formatnetwork.html#examplesPrivate" class="onebox" target="_blank">http://libvirt.org/formatnetwork.html#examplesPrivate</a></p>
<p>I always imagined Isolated network to be just that… Isolated, but thats not the case:</p>
<blockquote>Isolated network config
<p>This variant provides a completely isolated private network for guests. <span class="bbcode-u"><span class="bbcode-b">The guests can talk to each other, and the host OS</span></span>, but cannot reach any other machines on the LAN, due to the omission of the forward element in the XML description.</p>
<p><code>      &lt;network&gt;
        &lt;name&gt;private&lt;/name&gt;
        &lt;bridge name="virbr2" /&gt;
        &lt;ip address="192.168.152.1" netmask="255.255.255.0"&gt;
          &lt;dhcp&gt;
            &lt;range start="192.168.152.2" end="192.168.152.254" /&gt;
          &lt;/dhcp&gt;
        &lt;/ip&gt;
        &lt;ip family="ipv6" address="2001:db8:ca2:3::1" prefix="64" /&gt;
      &lt;/network&gt;</code></p>
</blockquote>
<p>That leads to ugly consequences.</p>
<p>The very last configuration they describe gives us what we are looking for. A <span class="bbcode-b">completely</span> Isolated network.</p>
<p><a href="http://libvirt.org/formatnetwork.html#examplesNoGateway" class="onebox" target="_blank">http://libvirt.org/formatnetwork.html#examplesNoGateway</a></p>
<blockquote>Network config with no gateway addresses
<p>A valid network definition can contain no IPv4 or IPv6 addresses. Such a definition can be used for a “very private” or “very isolated” network since it will not be possible to communicate with the virtualization host via this network. However, this virtual network interface can be used for communication between virtual guest systems. This works for IPv4 and (Since 1.0.1) IPv6. However, the new ipv6=‘yes’ must be added for guest-to-guest IPv6 communication.</p>
<pre><code>  [code]&lt;network ipv6='yes'&gt;
    &lt;name&gt;nogw&lt;/name&gt;
    &lt;uuid&gt;7a3b7497-1ec7-8aef-6d5c-38dff9109e93&lt;/uuid&gt;
    &lt;bridge name="virbr2" stp="on" delay="0" /&gt;
    &lt;mac address='00:16:3E:5D:C7:9E'/&gt;
  &lt;/network&gt;
</code></pre>
<p>[/code]</p>
</blockquote>
<hr>
<p>I’ll take care of it in Git.<br>
You can just create another xml file with that configuration and import it instead.</p>
<p><code>&lt;name&gt;Whonix&lt;/name&gt;
        &lt;bridge name="virbr2" stp="on" delay="0" /&gt;
      &lt;/network&gt;</code></p>
<p>All you have to do then to create another isolated network is change the name to Whonix2, 3 and so on.</p>
          <p><a href="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/4</link>
        <pubDate>Tue, 29 Jul 2014 22:54:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-379-4</guid>
        <source url="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379.rss">2 Seperate Whonix Environments on Same Host?</source>
      </item>
      <item>
        <title>2 Seperate Whonix Environments on Same Host?</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Patrick the second network would need its subnet changed to something different than the first. Being a <span class="bbcode-b">255.255.255</span>.0 subnet mask means you can use: <span class="bbcode-b">10.0.1</span>.1</p>
<p>I don’t know if this means that they can see eachother’s traffic at some point since its this conflict I resolve implies that the Host virtual switch deals with them that way.</p>
<p>nmap but what do I look for?</p>
          <p><a href="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/3</link>
        <pubDate>Tue, 29 Jul 2014 14:17:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-379-3</guid>
        <source url="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379.rss">2 Seperate Whonix Environments on Same Host?</source>
      </item>
      <item>
        <title>2 Seperate Whonix Environments on Same Host?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>With VirtualBox it’s possible and not that difficult. See:</p>
<ul>
<li><a href="https://www.whonix.org/wiki/Multiple_Whonix-Workstations#Multiple_Whonix-Gateways">https://www.whonix.org/wiki/Multiple_Whonix-Workstations#Multiple_Whonix-Gateways</a></li>
<li><a href="https://www.whonix.org/wiki/Multiple_Whonix-Workstations">https://www.whonix.org/wiki/Multiple_Whonix-Workstations</a></li>
</ul>
<p>We don’t have KVM specific documentation for that topic yet. Nevertheless the existing documentation should should be useful, even though it’s not yet 100% step-by-step for KVM.</p>
<p>Whonix_network.xml at time of writing <a href="https://github.com/Whonix/Whonix/blob/master/libvirt/Whonix_network.xml:">https://github.com/Whonix/Whonix/blob/master/libvirt/Whonix_network.xml:</a></p>
<pre><code class="lang-auto">&lt;network&gt;
  &lt;name&gt;Whonix&lt;/name&gt;
  &lt;bridge name='virbr1' stp='on' delay='0'/&gt;
  &lt;ip address='10.0.0.1' netmask='255.255.255.0'&gt;
  &lt;/ip&gt;
&lt;/network&gt;</code></pre>
<p>I imagine a Whonix2_network.xml would be required, which maybe would look like this.</p>
<pre><code class="lang-auto">&lt;network&gt;
  &lt;name&gt;Whonix2&lt;/name&gt;
  &lt;bridge name='virbr2' stp='on' delay='0'/&gt;
  &lt;ip address='10.0.0.1' netmask='255.255.255.0'&gt;
  &lt;/ip&gt;
&lt;/network&gt;</code></pre>
<p>Then you need to repeat KVM instructions (<a href="https://www.whonix.org/wiki/KVM">https://www.whonix.org/wiki/KVM</a>) with Whonix2_network.xml.</p>
<p>Untested. Feel free to try.</p>
          <p><a href="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/2</link>
        <pubDate>Tue, 29 Jul 2014 12:48:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-379-2</guid>
        <source url="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379.rss">2 Seperate Whonix Environments on Same Host?</source>
      </item>
      <item>
        <title>2 Seperate Whonix Environments on Same Host?</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <p>2 sperate gateways and workstations on the same host, Specifically using KVM. Any particular setup process required? Or is it straightforward?</p>
          <p><a href="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379/1</link>
        <pubDate>Tue, 29 Jul 2014 07:32:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-379-1</guid>
        <source url="http://forums.whonix.org/t/2-seperate-whonix-environments-on-same-host/379.rss">2 Seperate Whonix Environments on Same Host?</source>
      </item>
  </channel>
</rss>
