<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Installing Printer requires password, then crashes on driver search</title>
    <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915</link>
    <description>Running Whonix-ws in Qubes 4.0rc4

When I open Print Settings and click the button to add a printer it asks for authentication. I tried

root
changeme 

AND 

user
changeme

Neither worked. So I did:
&gt; su
&gt; passwd

and changed the root password. Opened Print Settings again and entered those credentials and it accepted them. I connected the printer to the whonix-ws qube and it showed up in the list as a USB printer. I select it and click Next. A box pops up saying searching for drivers and then Print Settings crashes.

I tried this in the TemplateVM and an AppVM based on the whonix-ws template with the same results in both.</description>
    <language>en</language>
    <lastBuildDate>Mon, 09 Apr 2018 22:10:48 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[mimp]]></dc:creator>
        <description><![CDATA[
            <p>That’s great. Well done!</p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/14</link>
        <pubDate>Mon, 09 Apr 2018 22:10:48 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-14</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <p>Hi <code>mimp</code></p>
<p>Patrick moved the “Printing and Scanning” chapter to it own wiki page. This includes new content you may be interested in.</p>
<p><a href="https://whonix.org/wiki/Printing_and_Scanning#Mitigating_Printing_Risk">https://whonix.org/wiki/Printing_and_Scanning#Mitigating_Printing_Risk</a></p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/13</link>
        <pubDate>Mon, 09 Apr 2018 21:19:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-13</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[mimp]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for your input Patrick. I tried installing hplip in the AppVM to get the printer running, hoping it would work on restart without the package being installed, but that did not work.</p>
<p>Unfortunately I need to do a lot of printing from one of my primary AppVMs based on whonix. Copying to a disposable VM would be too much. Based on your recommendations I may create a StandaloneVM.</p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/12</link>
        <pubDate>Mon, 09 Apr 2018 21:05:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-12</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I wouldn’t trust that template for anything other than printing - since it contains a closed source binary (printer driver plug-in). If it is a clone of a template that is only used for printing, ok.</p>
<p>Disabling networking and using a DispVM for printing is a very good idea.</p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/11</link>
        <pubDate>Mon, 05 Mar 2018 20:31:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-11</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="9" data-topic="4915">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Could you document this please?</p>
</blockquote>
</aside>
<p>Working on it now.</p>
<p>Qubes 4.x specific question:</p>
<p>Would it be safe to install printer binaries in a TemplateBasedVM and use as a Template for DispVMs i.e <code>template_for_dispvm true</code>.  After binaries are installed in AppVM-dvm networking can be disable. Then use DispVMs to print?</p>
<p>I haven’t tested yet. Wanted to ask if its worthwhile to even try.</p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/10</link>
        <pubDate>Sun, 04 Mar 2018 23:01:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-10</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Printing read:<br>
<a href="https://www.whonix.org/wiki/Software#Printing_and_Scanning">https://www.whonix.org/wiki/Software#Printing_and_Scanning</a></p>
<p>Don’t install hplip driver-plugin your only trusted TemplateVM!</p>
<ul>
<li>keep redoing the installation in a TemplateBasedVM</li>
<li>or use a StandaloneVM</li>
<li>or figure what needs bind-dirs selective persistence (undocumented,<br>
research task, difficult)</li>
</ul>
<p>This is because the driver plugin is a proprietary closed source binary.</p>
<p>Could you document this please?</p>
<p>“keep redoing the installation in a TemplateBasedVM” - this could use<br>
some separate Qubes specific documentation. There is no reason to avoid<br>
installation of software in TempalteBasedVMs. I usually use scripts to<br>
automate it. That saves disk space, fewer VMs to upgrade (no<br>
StandaloneVM). For me, even less cumbersome.</p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/9</link>
        <pubDate>Sun, 04 Mar 2018 20:44:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-9</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <p>Hi <code>mimp</code></p>
<aside class="quote" data-post="7" data-topic="4915">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/m/47e85d/40.png" class="avatar"> mimp:</div>
<blockquote>
<p>why i wondered if system-config-printer was crashing due to a lack of network connection that it had in debian in order to pull down the needed drivers?</p>
</blockquote>
</aside>
<p>Could very well have something to do with it. I’m not 100% sure so I don’t want to give you incorrect info.</p>
<aside class="quote" data-post="7" data-topic="4915">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/m/47e85d/40.png" class="avatar"> mimp:</div>
<blockquote>
<p>Thanks for your responses and guiding me towards a solution.</p>
</blockquote>
</aside>
<p>Glad to see your printer is up and running! Please use extreme caution when using a printer. Especially  when anonymity is paramount.  If you have anymore issues I’ll do my best to help if i can.</p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/8</link>
        <pubDate>Fri, 02 Mar 2018 19:52:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-8</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[mimp]]></dc:creator>
        <description><![CDATA[
            <p>Well, like I said, the debian template doesn’t appear to have hplip installed either. Which is why i wondered if system-config-printer was crashing due to a lack of network connection that it had in debian in order to pull down the needed drivers?</p>
<p>Whatever the cause the crashing of system-config-printer is not the desired outcome when you don’t have the proper drivers already available on your system.</p>
<p>Thanks for your responses and guiding me towards a solution.</p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/7</link>
        <pubDate>Fri, 02 Mar 2018 16:22:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-7</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <p>Hi <code>mimp</code></p>
<p>A primary Whonix goal is to greatly reduce the risk posed by (additional) software installations that are not exclusively designed to work with Tor. Drivers such as <code>hplip</code> will have to be installed on an individual basis. Even if it comes installed in Debian Templates i.e not Whonix Templates. That’s why the link to Qubes Printer set up. Must install software. I should have asked to be sure this was done. <img src="//forums.whonix.org/images/emoji/twitter/smile.png?v=6" title=":smile:" class="emoji" alt=":smile:"></p>
<p><a href="https://www.whonix.org/wiki/Install_Software" rel="nofollow noopener">https://www.whonix.org/wiki/Install_Software</a></p>
<p>Also a must read for using printers</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="" height="">
      <a href="https://www.whonix.org/wiki/Software" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/452;"><img src="//forums.whonix.org/uploads/default/original/2X/d/d0003cdabaab2332c0aae08d34f8ac3f9999dd85.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Software" target="_blank" rel="nofollow noopener">Software</a></h3>

<p>Software Recommendations by Whonix for Encryption, E-Mail, IRC, Media-Player, Image Viewer, Screenshot Creator, Calculator, Office Suite and more</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/6</link>
        <pubDate>Fri, 02 Mar 2018 15:28:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-6</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[mimp]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for the links. And you’re right, that page would be helpful for someone trying to set up any printer, just didn’t give me any additional info except for the network connection thing, which may be connected to this.</p>
<p>I do have /usr/bin/system-config-printer, which is what pops up when you open the “Print Settings” application in whonix-ws.</p>
<blockquote>
<p>which cups</p>
</blockquote>
<p>doesn’t return anything, but I can open firefox and go to 127.0.0.1:631 and access cups</p>
<p>This inquiry made me think to look for hplip, the package for HP print drivers. Neither whonix-ws or debian had it installed. So does this mean that system-config-printer pulled the drivers from the internet when I installed in debian?</p>
<p>I installed hplip in my Whonix AppVM (just to test it)</p>
<blockquote>
<p>sudo apt install hplip</p>
</blockquote>
<p>Then I reran Print Settings and it worked! instead of shutting down it found the print drivers and installed the printer. I printed a test page.</p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/5</link>
        <pubDate>Fri, 02 Mar 2018 14:17:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-5</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <p>Hi <code>mimp</code></p>
<aside class="quote" data-post="3" data-topic="4915">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/m/47e85d/40.png" class="avatar"> mimp:</div>
<blockquote>
<p>And I am able to install a printer in debian Template VM using the method I attempted above</p>
</blockquote>
</aside>
<p>That changes things a little</p>
<aside class="quote" data-post="3" data-topic="4915">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/m/47e85d/40.png" class="avatar"> mimp:</div>
<blockquote>
<p>I did see that page, but it doesn’t really help me.</p>
</blockquote>
</aside>
<p>Even though that page is for network printers it still has helpful info.</p>
<blockquote>
<p>One would normally want to configure a printer in a template VM, rather than in particular AppVMs. This is because all the global settings made to AppVMs (those stored in its /etc, as well as binaries installed in /usr) would be discarded upon AppVM shutdown</p>
</blockquote>
<p>Also  “Steps to configure a network printer in a template VM” on that  page would be similar for USB or network printer. However, in Qubes 4.x Template VMs do not have network interface by default which is a change from Qubes 3.2. (just informational)</p>
<p><a href="https://www.qubes-os.org/doc/releases/4.0/release-notes/">https://www.qubes-os.org/doc/releases/4.0/release-notes/</a><br>
<a href="https://github.com/QubesOS/qubes-issues/issues/1854">https://github.com/QubesOS/qubes-issues/issues/1854</a></p>
<p>It looks like  <code>cups</code> and <code>system-config-printer</code> may have been removed from <code>qubes-whonix-workstation-packages</code>. Can you confirm you have/do not have those packages.</p>
<p><a href="https://phabricator.whonix.org/T619">https://phabricator.whonix.org/T619</a></p>
<p><a href="https://github.com/Whonix/qubes-whonix/commit/fe3a2329739ad78ad2a6c48ed7dfb5a0893006a2">https://github.com/Whonix/qubes-whonix/commit/fe3a2329739ad78ad2a6c48ed7dfb5a0893006a2</a></p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/4</link>
        <pubDate>Fri, 02 Mar 2018 11:09:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-4</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[mimp]]></dc:creator>
        <description><![CDATA[
            <p>Hi 0brand,</p>
<p>I did see that page, but it doesn’t really help me. It’s not a network printer. And I am able to install a printer in debian Template VM using the method I attempted above. It is just in Whonix where it a) asks for a password, which I think I addressed, and b) crashes after attempting to get the drivers.</p>
<p>The one thing of interest mentioned on that page is that the TemplateVM won’t have network access except for for updates. Which seemingly is enough to get the drivers since it worked on my debian template.</p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/3</link>
        <pubDate>Fri, 02 Mar 2018 04:32:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-3</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <p>Hi <code>mimp</code></p>
<p>Are you following the steps in:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="//forums.whonix.org/uploads/default/original/2X/f/f674195f5ac81cdee482084cfe34cb6918b6dc9b.png" class="site-icon" width="500" height="500">
      <a href="https://www.qubes-os.org/doc/network-printer/" target="_blank" rel="nofollow noopener">Qubes OS</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="//forums.whonix.org/uploads/default/original/2X/f/f9dbba66fcd8e930f39601ac1345e04b18d538f5.png" class="thumbnail"></div>

<h3><a href="https://www.qubes-os.org/doc/network-printer/" target="_blank" rel="nofollow noopener">Network Printer</a></h3>

<p>Configuring a network printer for Qubes AppVMs Where to configure printers and install drivers? One would normally want to configure a printer in a template VM, rather than in particular AppVMs. This is because all the global settings made to AppVMs...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Remember Qubes 4.rc4 is still in testing. You may want to ask for help on the <a href="https://www.qubes-os.org/mailing-lists/" rel="nofollow noopener">Qubes mailing list</a>.</p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/2</link>
        <pubDate>Fri, 02 Mar 2018 01:49:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-2</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
      <item>
        <title>Installing Printer requires password, then crashes on driver search</title>
        <dc:creator><![CDATA[mimp]]></dc:creator>
        <description><![CDATA[
            <p>Running Whonix-ws in Qubes 4.0rc4</p>
<p>When I open Print Settings and click the button to add a printer it asks for authentication. I tried</p>
<p>root<br>
changeme</p>
<p>AND</p>
<p>user<br>
changeme</p>
<p>Neither worked. So I did:</p>
<blockquote>
<p>su<br>
passwd</p>
</blockquote>
<p>and changed the root password. Opened Print Settings again and entered those credentials and it accepted them. I connected the printer to the whonix-ws qube and it showed up in the list as a USB printer. I select it and click Next. A box pops up saying searching for drivers and then Print Settings crashes.</p>
<p>I tried this in the TemplateVM and an AppVM based on the whonix-ws template with the same results in both.</p>
          <p><a href="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915/1</link>
        <pubDate>Fri, 02 Mar 2018 00:16:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4915-1</guid>
        <source url="http://forums.whonix.org/t/installing-printer-requires-password-then-crashes-on-driver-search/4915.rss">Installing Printer requires password, then crashes on driver search</source>
      </item>
  </channel>
</rss>
