<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>kdesudo error popup window ( sdwdate-gui )</title>
    <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642</link>
    <description>in multiple test instances in virtualbox, either the gateway or the workstation begin to regularly return the following error in a popup window on boot:

&quot;No command arguments supplied!
Usage: kdesudo [-u &lt;runas&gt;] &lt;command&gt;
KdeSudo will now exit...&quot;

i have not been able to determine what causes this regularly. is anyone else having similar issues? i&#39;ve seen this mentioned in one other thread. but, i&#39;m not sure if it is related.

Edit by Patrick to add screenshot:
![Capture|362x141](upload://97z6XMhmefTHEKwmPcCXSPVSktW.jpeg)</description>
    <language>en</language>
    <lastBuildDate>Thu, 03 Jan 2019 10:51:14 +0000</lastBuildDate>
    <category>VirtualBox</category>
    <atom:link href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[AnonymousUser]]></dc:creator>
        <description><![CDATA[
            <p>Ok I’ve found the culprit: I had set a keyboard shortcut to run <code>xfce4-session-logout --halt</code> as as soon as that’s run (even once), I get a permanent kdesudo error in my Whonix over every reboot. Any idea how to fix it? It seems an XFCE bug. Perhaps a way to prevent whonix users from stuffing it up as well?</p>
<p>Edit: oh I solved it: in XFCE’s Session and Startup config, go to Session tab and click ‘Clear saved sessions’. That finally makes shut down super fast again! Hope that helps all of us to document that.</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/35">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/35</link>
        <pubDate>Thu, 03 Jan 2019 10:46:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-35</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Anonymous User:</p>
<blockquote>
<p>But I’m suspecting it’s a legacy whonix package that’s still causing it. Any thoughts on this? Have the whonix ‘anon’ packages not been fully de-KDE’ified?</p>
</blockquote>
<p>No code that I know could cause this. Can only be session management by<br>
the desktop environment.</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/34">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/34</link>
        <pubDate>Thu, 03 Jan 2019 02:35:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-34</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[AnonymousUser]]></dc:creator>
        <description><![CDATA[
            <p>Hi guys,</p>
<p>In Whonix 14 Workstation XFCE (latest OVA), I’m still getting the kdesudo startup popup even with ksmserverrc set with loginMode=default.</p>
<p>It happened after installing a lot of programs, and I’m trying to troubleshoot the culprit by uninstalling KDE-related packages (like the useful partitionmanager that I installed), and doing a process of elimination.</p>
<p>But I’m suspecting it’s a legacy whonix package that’s still causing it. Any thoughts on this? Have the whonix ‘anon’ packages not been fully de-KDE’ified?</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/33">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/33</link>
        <pubDate>Thu, 03 Jan 2019 01:14:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-33</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[TNT_BOM_BOM]]></dc:creator>
        <description><![CDATA[
            <p>Damn i just discovered that i have reported this before almost one year:</p>
<p><a href="https://phabricator.whonix.org/T737" class="onebox" target="_blank" rel="nofollow noopener">https://phabricator.whonix.org/T737</a></p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/32">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/32</link>
        <pubDate>Thu, 06 Sep 2018 00:33:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-32</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This should be fixed by default in the next build.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/anon-apps-config/commit/008d206ec20c74e0d03926b939522b7036b8693b" target="_blank" rel="nofollow noopener">github.com/Whonix/anon-apps-config</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="//forums.whonix.org/uploads/default/original/2X/5/567709cd4b873e59936246faf52ef8293c7793cd.jpg" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/anon-apps-config/commit/008d206ec20c74e0d03926b939522b7036b8693b" target="_blank" rel="nofollow noopener">disable KDE session restoration</a>
</h4>

  <pre class="message" style="white-space: normal;">To prevent issue:
No command arguments supplied!
Usage: kdesudo [-u ]
KdeSudo will now exit…
https://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui</pre>

<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/anon-apps-config/commit/008d206ec20c74e0d03926b939522b7036b8693b" target="_blank" rel="nofollow noopener">02:16PM - 29 Aug 18 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>6 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/31">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/31</link>
        <pubDate>Wed, 29 Aug 2018 14:15:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-31</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[TNT_BOM_BOM]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="28" data-topic="5642">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Could someone please tell me which config is changed in which way when enabling/disabling KDE session restoration?</p>
<p><a href="https://www.whonix.org/wiki/Dev/git#Put_folder_under_Git_Version_Control" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/git#Put_folder_under_Git_Version_Control </a></p>
<p>That would help to disable it by default in next Whonix build.</p>
</blockquote>
</aside>
<p>Here you go:</p>
<pre><code>user@host:~$ git diff
diff --git a/.cache/icon-cache.kcache b/.cache/icon-cache.kcache
index 67b4173..75c3c0d 100644
Binary files a/.cache/icon-cache.kcache and b/.cache/icon-cache.kcache differ
diff --git a/.cache/plasma_theme_default_v5.25.kcache b/.cache/plasma_theme_default_v5.25.kcache
index 5cbbf00..635513a 100644
Binary files a/.cache/plasma_theme_default_v5.25.kcache and b/.cache/plasma_theme_default_v5.25.kcache differ
diff --git a/.config/ksmserverrc b/.config/ksmserverrc
index 6a25eea..f61c260 100644
--- a/.config/ksmserverrc
+++ b/.config/ksmserverrc
@@ -1,7 +1,7 @@
 [General]
 confirmLogout=true
 excludeApps=
-loginMode=restorePreviousLogout
+loginMode=default
 offerShutdown=true
 screenCount=1
 shutdownType=0
diff --git a/.local/share/kactivitymanagerd/resources/database-shm b/.local/share/kactivitymanagerd/resources/database-shm
index a52b824..a61564f 100644
Binary files a/.local/share/kactivitymanagerd/resources/database-shm and b/.local/share/kactivitymanagerd/resources/database-shm differ
diff --git a/.local/share/kactivitymanagerd/resources/database-wal b/.local/share/kactivitymanagerd/resources/database-wal
index 9e4f0a4..59c645b 100644
Binary files a/.local/share/kactivitymanagerd/resources/database-wal and b/.local/share/kactivitymanagerd/resources/database-wal differ
diff --git a/.xsession-errors b/.xsession-errors
index cb75eeb..1f96352 100644
--- a/.xsession-errors
+++ b/.xsession-errors
@@ -1973,3 +1973,5 @@ QDBusConnection: session D-Bus connection created before QCoreApplication. Appli
 QXcbConnection: XCB error: 3 (BadWindow), sequence: 1200, resource id: 67108865, major code: 18 (ChangeProperty), minor code: 0
 QXcbConnection: XCB error: 3 (BadWindow), sequence: 1329, resource id: 12582944, major code: 18 (ChangeProperty), minor code: 0
 kdeinit5: PID 1543 terminated.
+QXcbConnection: XCB error: 3 (BadWindow), sequence: 4697, resource id: 69206141, major code: 18 (ChangeProperty), minor code: 0
+QXcbConnection: XCB error: 3 (BadWindow), sequence: 4711, resource id: 37748873, major code: 18 (ChangeProperty), minor code: 0
user@host:~$</code></pre>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/30">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/30</link>
        <pubDate>Wed, 29 Aug 2018 13:29:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-30</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[mirag3]]></dc:creator>
        <description><![CDATA[
            <p>This seems to have fixed the kdesudo error.<br>
I got the firewall error(on the gateway) after this procedure only one time(rebooting fixed it).</p>
<p>I will try to get the logs if it ever happens again.</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/29">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/29</link>
        <pubDate>Thu, 23 Aug 2018 16:08:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-29</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><code>disable KDE session restoration</code><br>
<a href="https://phabricator.whonix.org/T822" class="onebox" target="_blank">https://phabricator.whonix.org/T822</a></p>
<hr>
<p>Could someone please tell me which config is changed in which way when enabling/disabling KDE session restoration?</p>
<p><a href="https://www.whonix.org/wiki/Dev/git#Put_folder_under_Git_Version_Control">https://www.whonix.org/wiki/Dev/git#Put_folder_under_Git_Version_Control</a></p>
<p>That would help to disable it by default in next Whonix build.</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/28">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/28</link>
        <pubDate>Thu, 23 Aug 2018 14:05:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-28</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[RED29]]></dc:creator>
        <description><![CDATA[
            <p>This explain why my first whonix session (fresh from image) never gives me the popup screen. Its always on the follow bootup, its something to do with restoring previously sessions.</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/27">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/27</link>
        <pubDate>Sun, 19 Aug 2018 21:38:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-27</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[tempest]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="http://forums.whonix.org/u/patrick">@patrick</a>. others have run into the same problem. similar fix as mentioned above by <a class="mention" href="http://forums.whonix.org/u/xxxxx">@xXXXx</a>. i guess kde is trying to “restore the previous desktop session.” setting it to a new session fixes the problem.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="//forums.whonix.org/uploads/default/original/2X/6/65ebe9393059e718ba5aa993980f518a0bfba282.png" class="site-icon" width="16" height="16">
      <a href="https://www.linux.com/forums/ubuntu/kubuntu-1110-kde-sudo-error-every-start-here-fix-it" target="_blank" title="03:13PM - 15 October 2011" rel="nofollow noopener">Linux.com | The source for Linux information – 15 Oct 11</a>
  </header>
  <article class="onebox-body">
    

<h3><a href="https://www.linux.com/forums/ubuntu/kubuntu-1110-kde-sudo-error-every-start-here-fix-it" target="_blank" rel="nofollow noopener">Kubuntu 11.10 KDE Sudo error on every start up. Here is the fix for it.</a></h3>

<p>So Kubuntu 11.10 on my laptop (Ubuntu using KDE instead of Unity or Gnome) runs smooth but I was getting an error on every start up that said this: Information - KdeSudo No command arguments supplied! Usage: kdesudo [-u ] KdeSudo will now exit... So...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>this fixed it for me as well. sdwdate-gui is running as well. so, in summary, here is the fix:</p>
<ol>
<li>
<p>go to “system settings -&gt; startup and shutdown -&gt; desktop session.”</p>
</li>
<li>
<p>in the “on login” section, change it from “restore previous session” to “start with an empty session.”</p>
</li>
</ol>
<p>a bit more on session management:<br>
<a href="https://docs.kde.org/trunk5/en/kde-workspace/kcontrol/kcmsmserver/" class="onebox" target="_blank" rel="nofollow noopener">https://docs.kde.org/trunk5/en/kde-workspace/kcontrol/kcmsmserver/</a></p>
<p>i’d think that starting from an empty session, rather than saved application states at shutdown, is preferable for whonix anyways. or is there something i’m not considering? in whonix 13, the default option selected on install is “start with an empty session.”</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/26">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/26</link>
        <pubDate>Sun, 19 Aug 2018 17:33:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-26</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[tempest]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="24" data-topic="5642" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>sdwdate is unaffected by all of this.</p>
<p>This is sdwdate-gui:</p>
</blockquote>
</aside>
<p>right. my mistake. sdwdate-gui is not running. the error does still occur.  kdesudo.log is empty.</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/25</link>
        <pubDate>Sun, 19 Aug 2018 15:02:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-25</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="23" data-topic="5642">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/tempest/40/349_2.png" class="avatar"> tempest:</div>
<blockquote>
<p>i tried it. error still occurs and sdwdate still appears to be running per “sudo systemctl status sdwdate.service.”</p>
</blockquote>
</aside>
<p>sdwdate is unaffected by all of this.</p>
<p>This is sdwdate-gui:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="" height="">
      <a href="https://www.whonix.org/wiki/Sdwdate-gui" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/166;"><img src="//forums.whonix.org/uploads/default/original/2X/c/c415dd80d1cd6e6ebda614098bc993f6d48565a5.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Sdwdate-gui" target="_blank" rel="nofollow noopener">Sdwdate-gui</a></h3>

<p>sdwdate - Secure Distributed Web Date - systray - graphical user interface (GUI) - Homepage</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/24</link>
        <pubDate>Sun, 19 Aug 2018 14:51:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-24</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[tempest]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="21" data-topic="5642" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/d9b06d/40.png" class="avatar"> troubadour:</div>
<blockquote>
<p><a class="mention" href="http://forums.whonix.org/u/tempest">@tempest</a><br>
Could you try the following:<br>
In <code>/usr/lib/sdwdate-gui/start-maybe</code> comment out the line containing only <code>sdwdate-gui</code><br>
Reboot Whonix-Gateway.</p>
<p>sdwdate-gui is not started but the popup is still showing.</p>
</blockquote>
</aside>
<p>i tried it. error still occurs and sdwdate still appears to be running per “sudo systemctl status sdwdate.service.”</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/23</link>
        <pubDate>Sun, 19 Aug 2018 14:33:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-23</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Networking not coming up?<br>
<code>sudo ifconfig</code><br>
?</p>
<p>Could be this one:</p>
<aside class="quote quote-modified" data-post="681" data-topic="108">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar">
    <a href="https://forums.whonix.org/t/whonix-apparmor-profiles-development-discussion/108/681?u=patrick">Whonix AppArmor Profiles Development Discussion</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/apparmor"><span class="badge-category-bg" style="background-color: #12A89D;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Discussion of Whonix AppArmor Profiles for better security. (devs)">AppArmor</span></a>
  </div>
  <blockquote>
    Happening in VirtualBox during a race condition looks like. 
sudo systemctl stop networking

sudo systemctl restart onion-grater

Log: 
Aug 14 17:28:39 host systemd[1]: Starting Tor control port filter proxy...
Aug 14 17:28:39 host audit[18942]: AVC apparmor="DENIED" operation="open" profile="/usr/lib/onion-grater" name="/sys/devices/pci0000:00/0000:00:16.0/host4/port-4:0/end_device-4:0/target4:0:0/4:0:0:0/block/sda/queue/hw_sector_size" pid=18942 comm="onion-grater" requested_mask="r" denied_ma…
  </blockquote>
</aside>

<p>But works again after reboot?</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/22</link>
        <pubDate>Sun, 19 Aug 2018 12:39:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-22</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[troubadour]]></dc:creator>
        <description><![CDATA[
            <p>Not directly related, but…<br>
Testing sdwdate-gui[qubes] in VirtualBox.</p>
<p>The kdesudo popup does not seem to be caused by sdwdate-gui.</p>
<p><a class="mention" href="http://forums.whonix.org/u/tempest">@tempest</a><br>
Could you try the following:<br>
In <code>/usr/lib/sdwdate-gui/start-maybe</code> comment out the line containing only <code>sdwdate-gui</code><br>
Reboot Whonix-Gateway.</p>
<p>sdwdate-gui is not started but the popup is still showing.</p>
<p><a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a><br>
I have installed the kdesudo wrapper. With the above setup, nothing is written in <code>kdesudo.log</code>. When we let  sdwdate-gui start at boot, we have the expected <code>user -u sdwdate-gui /usr/lib/...</code></p>
<p>The installation of the new sdwdate-gui basically crash everything. After rebooting, at least whonix-firewall and Tor do not start, dolphin stops working… but the popup is not showing. That is the point. Something weird must be happening before… what?</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/21</link>
        <pubDate>Sat, 18 Aug 2018 22:16:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-21</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[tempest]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a>, the error still occurs with the above version.</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/20</link>
        <pubDate>Sat, 18 Aug 2018 15:01:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-20</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Could you try this version please?</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/sdwdate-gui/blob/master/usr/bin/sdwdate-gui" target="_blank">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/sdwdate-gui/blob/master/usr/bin/sdwdate-gui" target="_blank">Whonix/sdwdate-gui/blob/master/usr/bin/sdwdate-gui</a></h4>
<pre><code class="lang-">#!/bin/bash

## Copyright (C) 2018 - 2018 ENCRYPTED SUPPORT LP &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

set -x
set -e

command -v kdesudo
command -v /usr/lib/sdwdate-gui/sdwdate-gui
id sdwdate-gui

kdesudo -u sdwdate-gui /usr/lib/sdwdate-gui/sdwdate-gui
</code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/19</link>
        <pubDate>Thu, 16 Aug 2018 13:36:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-19</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[tempest]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="12" data-topic="5642" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Does your file <code>/etc/sudoers.d/sdwdate-gui</code> look like <a href="https://github.com/Whonix/sdwdate-gui/blob/master/etc/sudoers.d/sdwdate-gui" rel="nofollow noopener">https://github.com/Whonix/sdwdate-gui/blob/master/etc/sudoers.d/sdwdate-gui</a>?</p>
</blockquote>
</aside>
<p>yes.</p>
<aside class="quote no-group">
<blockquote>
<p>What happens if you manually run…?</p>
<pre><code>sdwdate-gui
</code></pre>
</blockquote>
</aside>
<p>an additional gui icon appears in the lower right corner. no error.</p>
<aside class="quote no-group">
<blockquote>
<p>What happens if you manually run…?</p>
<pre><code>/usr/lib/sdwdate-gui/start-maybe
</code></pre>
</blockquote>
</aside>
<p>same as above. no error window.</p>
<aside class="quote no-group">
<blockquote>
<p>What happens if you manually run…?</p>
<pre><code>kdesudo -u sdwdate-gui /usr/lib/sdwdate-gui/sdwdate-gui
</code></pre>
</blockquote>
</aside>
<p>also the same as above. no error.</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/18</link>
        <pubDate>Thu, 16 Aug 2018 11:54:28 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-18</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="16" data-topic="5642">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/red29/40/1710_1.png" class="avatar"> RED29:</div>
<blockquote>
<p>But it still bother me what the cause is?</p>
</blockquote>
</aside>
<p>Unknown.</p>
<aside class="quote no-group" data-post="16" data-topic="5642">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/red29/40/1710_1.png" class="avatar"> RED29:</div>
<blockquote>
<p>What are the consequences?</p>
</blockquote>
</aside>
<p>sdwdate-gui does not automatically start. Usability issue. More so once we implement <a href="https://phabricator.whonix.org/T551">https://phabricator.whonix.org/T551</a>.</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/17</link>
        <pubDate>Thu, 16 Aug 2018 10:20:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-17</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[RED29]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for the solving this. But it still bother me what the cause is? What are the consequences?</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/16</link>
        <pubDate>Thu, 16 Aug 2018 06:49:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-16</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Did sdwdate-gui autostart for you before doing <code>“System Settings” &gt; “Startup and Shutdown” &gt; “Desktop Session” &gt; “Start with empty Session”</code>? I guess not.</p>
<p>And after <code>“System Settings” &gt; “Startup and Shutdown” &gt; “Desktop Session” &gt; “Start with empty Session”</code> sdwdate-gui autostarts for you?</p>
<p>I can’t reproduce this.</p>
<p>We should still find out what <code>“System Settings” &gt; “Startup and Shutdown” &gt; “Desktop Session” &gt; “Start with empty Session”</code> has to do with it anyway.</p>
<p><a href="https://github.com/Whonix/sdwdate-gui/commit/4a4f91f273d4db29d76c1f8221238bf9d71a6115" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/Whonix/sdwdate-gui/commit/4a4f91f273d4db29d76c1f8221238bf9d71a6115</a></p>
<p>^ in worst case this does nothing. In best case it prevents the popup but sdwdate-gui still doesn’t autostart. Might also help us to debug this issue.</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/15</link>
        <pubDate>Tue, 14 Aug 2018 19:56:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-15</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[Kas]]></dc:creator>
        <description><![CDATA[
            <p>works for me</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/14</link>
        <pubDate>Tue, 14 Aug 2018 19:53:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-14</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[xXXXx]]></dc:creator>
        <description><![CDATA[
            <p>“System Settings” &gt; “Startup and Shutdown” &gt; “Desktop Session” &gt; “Start with empty Session”</p>
<p>Will solve the issue</p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/13</link>
        <pubDate>Tue, 14 Aug 2018 18:33:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-13</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="9" data-topic="5642">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/tempest/40/349_1.png" class="avatar"> tempest:</div>
<blockquote>
<p>-u sdwdate-gui /usr/lib/sdwdate-gui/sdwdate-gui</p>
</blockquote>
</aside>
<p>That moves us a lot closer! Thanks!</p>
<p>Does your file <code>/etc/sudoers.d/sdwdate-gui</code> look like <a href="https://github.com/Whonix/sdwdate-gui/blob/master/etc/sudoers.d/sdwdate-gui">https://github.com/Whonix/sdwdate-gui/blob/master/etc/sudoers.d/sdwdate-gui</a>?</p>
<pre><code>sudo cat /etc/sudoers.d/sdwdate-gui
</code></pre>
<p>What happens if you manually run…?</p>
<pre><code>sdwdate-gui
</code></pre>
<p>What happens if you manually run…?</p>
<pre><code>/usr/lib/sdwdate-gui/start-maybe
</code></pre>
<p>What happens if you manually run…?</p>
<pre><code>kdesudo -u sdwdate-gui /usr/lib/sdwdate-gui/sdwdate-gui</code></pre>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/12</link>
        <pubDate>Tue, 14 Aug 2018 17:02:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-12</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
      <item>
        <title>kdesudo error popup window ( sdwdate-gui )</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="10" data-topic="5642">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/red29/40/1710_1.png" class="avatar"> RED29:</div>
<blockquote>
<p>Its annoying and maybe a security breach.</p>
</blockquote>
</aside>
<p><a href="https://www.whonix.org/wiki/FAQ#Compromise_Indicators">https://www.whonix.org/wiki/FAQ#Compromise_Indicators</a></p>
          <p><a href="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642/11</link>
        <pubDate>Mon, 13 Aug 2018 15:08:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5642-11</guid>
        <source url="http://forums.whonix.org/t/kdesudo-error-popup-window-sdwdate-gui/5642.rss">kdesudo error popup window ( sdwdate-gui )</source>
      </item>
  </channel>
</rss>
