<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Ucspi-tcp Automated Code Checks - Development - Whonix Forum</title>
    <meta name="description" content="Patrick because you are well known in the TAILS community and so its likely they&amp;#39;ll listen, is it ok if you post to them my idea about scanning ucspi-tcp with Valgrind to check it doesn&amp;#39;t have memory safety issues? If an&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="363.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Ucspi-tcp Automated Code Checks&#39;" href="363.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/ucspi-tcp-automated-code-checks/363" />
<meta name="twitter:url" content="https://forums.whonix.org/t/ucspi-tcp-automated-code-checks/363" />
<meta property="og:title" content="Ucspi-tcp Automated Code Checks" />
<meta name="twitter:title" content="Ucspi-tcp Automated Code Checks" />
<meta property="og:description" content="Patrick because you are well known in the TAILS community and so its likely they’ll listen, is it ok if you post to them my idea about scanning ucspi-tcp with Valgrind to check it doesn’t have memory safety issues? If anyone of them is familiar with C they may be able to patch it if problems arise. For static analysis of the code they can run it free through Coverity Scan or use PeachFuzzer.  https://scan.coverity.com/users/sign_up  I saw your comment on the Apparmor wishlist for a profile for t..." />
<meta name="twitter:description" content="Patrick because you are well known in the TAILS community and so its likely they’ll listen, is it ok if you post to them my idea about scanning ucspi-tcp with Valgrind to check it doesn’t have memory safety issues? If anyone of them is familiar with C they may be able to patch it if problems arise. For static analysis of the code they can run it free through Coverity Scan or use PeachFuzzer.  https://scan.coverity.com/users/sign_up  I saw your comment on the Apparmor wishlist for a profile for t..." />
<meta property="article:published_time" content="2014-07-13T15:33:29+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="3634658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="363.html">Ucspi-tcp Automated Code Checks</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T15:33:29Z' class='post-time'>
                July 13, 2014,  3:33pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T15:33:29Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Patrick because you are well known in the TAILS community and so its likely they’ll listen, is it ok if you post to them my idea about scanning ucspi-tcp with Valgrind to check it doesn’t have memory safety issues? If anyone of them is familiar with C they may be able to patch it if problems arise. For static analysis of the code they can run it free through Coverity Scan or use PeachFuzzer.</p>
<p><a href="../../../external.html?link=https://scan.coverity.com/users/sign_up" class="onebox" target="_blank">https://scan.coverity.com/users/sign_up</a></p>
<p>I saw your comment on the Apparmor wishlist for a profile for this component, so we are ok in that front containment front, but its better not to have exploitable holes in the first place.</p>
<p>This may see unreasonable, but considering what we are potenitally up against, these measures are needed to cut it.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T15:49:03Z' class='post-time'>
                July 13, 2014,  3:49pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T15:49:03Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Actually I am not sure what language ucspi-tcp is written in. I was looking at someone’s repo that had a Ruby wrapper for this package and mistaked it for the server itself.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T17:59:01Z' class='post-time'>
                July 13, 2014,  5:59pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T17:59:01Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Reasonable. Sure, fixing holes in the first place is better. A multi layered security concept with AppArmor as one line of defense.</p>
<p>If problems are found, those can be reported against Debian. We’re lucky, that they have a dedicated security team, capable of C, and they would fix any security issues, and Whonix would automatically profit from their fixes in the security repository. Great to be based on Debian.</p>
<p>ucspi-tcp is written in C. For a quick look, you can use “apt-get source ucspi-tcp”.</p>
<p>I do not follow what Tails has to do with this? They are not using control-port-filter / ucspi-tcp.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T18:39:44Z' class='post-time'>
                July 13, 2014,  6:39pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T18:39:44Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I assume TAILS uses it because that security enhancement for ControlPort Filter was discussed and implemented by them first.</p>
<p><a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,342.msg2433" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,342.msg2433</a></p>
<p>If they have nothing to do with it then I would like to be of assistance in auditing/fuzzing this package with your assistance. Just walk me through how to:</p>
<ol>
<li>
<p>compile ucspi from source with the correct debugging hooks so Valgrind can use it:<br>
<a href="../../../external.html?link=http://valgrind.org/docs/manual/quick-start.html">http://valgrind.org/docs/manual/quick-start.html</a><br>
I’ll be happy to send the logs as I would have no idea whats in them or how to fix it , but the Debian guys will.</p>
</li>
<li>
<p>Import the source code that I got from Debian repos in to Git so I can sign onto Coverity and run a check.</p>
</li>
<li>
<p>Check with PeachFuzzer by following this guide: <a href="../../../external.html?link=http://www.flinkd.org/2011/07/fuzzing-with-peach-part-1/">http://www.flinkd.org/2011/07/fuzzing-with-peach-part-1/</a></p>
</li>
</ol>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T19:56:48Z' class='post-time'>
                July 13, 2014,  7:56pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T19:56:48Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>There is also a few people who can be found on search engines, who forked ucspi-tcp, who might be willing and able to help this cause.</p>
<p>[quote=“HulaHoop, post:4, topic:363”]I assume TAILS uses it because that security enhancement for ControlPort Filter was discussed and implemented by them first.</p>
<p><a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,342.msg2433%5B/quote%5D" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,342.msg2433[/quote]</a><br>
It was about limiting the characters allowed to 128, which is good, but has no relation to ucspi-tcp.</p>
<blockquote>If they have nothing to do with it then I would like to be of assistance in auditing/fuzzing this package with your assistance.</blockquote>
Terrific!
<blockquote>1. compile ucspi from source with the correct debugging hooks so Valgrind can use it:
http://valgrind.org/docs/manual/quick-start.html
I'll be happy to send the logs as I would have no idea whats in them or how to fix it , but the Debian guys will.</blockquote>
Sounds good.
<blockquote>2. Import the source code that I got from Debian repos in to Git so I can sign onto Coverity and run a check.</blockquote>
debian/control contains.
<p><code>Maintainer: Gerrit Pape &lt;pape@smarden.org&gt;
Vcs-Git: http://smarden.org/git/ucspi-tcp.git/</code></p>
<p>Getting it from git is better than apt-get source, but anyway. The Vcs-Git link is currently offline. Please tell Gerrit Pape about it.</p>
<p>If there is no reply, we need to open a bug against Debian. But let’s not expect the worst.</p>
<blockquote>3. Check with PeachFuzzer by following this guide: http://www.flinkd.org/2011/07/fuzzing-with-peach-part-1/</blockquote>
Sounds good.
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T21:59:53Z' class='post-time'>
                July 13, 2014,  9:59pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T21:59:53Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Shot Gerrit a mail.</p>
<p>What I could probably do know is try with Valgrind with the running package. Lacking explicit debugging options in the source code may make looking at the log harder. At the moment I am concerned about getting an idea if there is any memory problems at all.</p>
<p>When running it some hours ago, I had run into issues and so I’ll describe them.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T22:12:56Z' class='post-time'>
                July 13, 2014, 10:12pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T22:12:56Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <pre><code class="lang-auto">
gives error:

command not found


What an I doing wrong here? The command syntax is wrong but I can't figure out how to do this.</code></pre>
<p>gives error:</p>
<p>command not found</p>
<p>What an I doing wrong here? The command syntax is wrong but I can’t figure out how to do this.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T22:48:16Z' class='post-time'>
                July 13, 2014, 10:48pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T22:48:16Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>(Perhaps helpful for this: <a href="../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser#Verify_New_Identity">https://www.whonix.org/wiki/Tor_Browser#Verify_New_Identity</a>)</p>
<p>This doesn’t even work when just typing “ucspi-tcp” in the shell, because there is no such command “ucspi-tcp”. The command we’re using is “tcpserver”. But also just running “tcpserver” won’t do much, just show “tcpserver”'s help.</p>
<p>Inspired by /usr/bin/controlportfilt.</p>
<p>On Whonix-Gateway.</p>
<p>Stop control-port-filter, because we’ll start tcpserver manually.</p>
<pre><code class="lang-auto"></code></pre>
<p>Let’s first test if this is working without involving valgrind.</p>
<p><code>sudo -u debian-tor tcpserver \
    -v \
    -1 \
    -l host \
    -H \
    0 \
    9052 \
    /bin/bash -x -c /usr/lib/cpf-tcpserver</code></p>
<p>In Whonix 8, path is /usr/lib/whonix/cpf-tcpserver.</p>
<p>Check if Control Port Filter is still working (<a href="../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser#Verify_New_Identity">https://www.whonix.org/wiki/Tor_Browser#Verify_New_Identity</a>).</p>
<pre><code class="lang-auto"></code></pre>
<p>Now involve valgrind into the equation.</p>
<p><code>sudo -u debian-tor valgrind --leak-check=yes tcpserver \
    -v \
    -1 \
    -l host \
    -H \
    0 \
    9052 \
    /bin/bash -x -c /usr/lib/cpf-tcpserver</code></p>
<p>Maybe that helps.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T22:49:45Z' class='post-time'>
                July 13, 2014, 10:49pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T22:49:45Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>dpkg -L ucspi-tcp</p>
<p>lists all binaries under the <span class="bbcode-u">metapackage</span> ucspi-tcp.<br>
The actual binaries are many of which the most important being <span class="bbcode-b">tcpserver</span></p>
<pre><code class="lang-auto">/.
/usr
/usr/bin
/usr/bin/tcprules
/usr/bin/tcpserver
/usr/bin/addcr
/usr/bin/mconnect-io
/usr/bin/rblsmtpd
/usr/bin/argv0
/usr/bin/recordio
/usr/bin/fixcrio
/usr/bin/tcprulescheck
/usr/bin/tcpclient
/usr/bin/who@
/usr/bin/http@
/usr/bin/date@
/usr/bin/finger@
/usr/bin/delcr
/usr/bin/mconnect
/usr/bin/tcpcat
/usr/share
/usr/share/man
/usr/share/man/man1
/usr/share/man/man1/recordio.1.gz
/usr/share/man/man1/argv0.1.gz
/usr/share/man/man1/who@.1.gz
/usr/share/man/man1/tcprules.1.gz
/usr/share/man/man1/rblsmtpd.1.gz
/usr/share/man/man1/addcr.1.gz
/usr/share/man/man1/fixcrio.1.gz
/usr/share/man/man1/http@.1.gz
/usr/share/man/man1/tcpclient.1.gz
/usr/share/man/man1/delcr.1.gz
/usr/share/man/man1/tcprulescheck.1.gz
/usr/share/man/man1/tcpcat.1.gz
/usr/share/man/man1/tcpserver.1.gz
/usr/share/man/man1/date@.1.gz
/usr/share/man/man1/mconnect.1.gz
/usr/share/man/man1/finger@.1.gz
/usr/share/doc
/usr/share/doc/ucspi-tcp
/usr/share/doc/ucspi-tcp/changelog.Debian.gz
/usr/share/doc/ucspi-tcp/copyright
/usr/share/doc/ucspi-tcp/README
/usr/share/doc/ucspi-tcp/README.Debian
/usr/share/doc/ucspi-tcp/NEWS.Debian.gz
/usr/share/doc/ucspi-tcp/changelog.gz
/usr/share/doc/ucspi-tcp/VERSION
/usr/share/doc/ucspi-tcp/TODO</code></pre>
<p>valgrind --tool=memcheck --leak-check=full tcpserver</p>
<p>HEAP SUMMARY:<br>
in use at exit: 0 bytes in 0 blocks<br>
total heap usage: 0 bytes in 0 blocks</p>
<p>All heap blocks were freed – no leaks possible</p>
<p>Its my guess that the check needs to be run for every binary listed for this package?</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T23:08:36Z' class='post-time'>
                July 13, 2014, 11:08pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T23:08:36Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>metapackage ucspi-tcp.</blockquote>
<p>ucspi-tcp is not a metapackage by debian packaging definition. It’s just a package that provides multiple binaries. Not special in this regard.</p>
<blockquote>Its my guess that the check needs to be run for every binary listed for this package?</blockquote>
<p>You can do this, but I don’t think you’ll find anything interesting. Just as for example running “cp --help” doesn’t move any files, running “tcpserver” don’t use networking.</p>
<p>See my earlier answer <a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,381.msg2795.html#msg2795">https://www.whonix.org/forum/index.php/topic,381.msg2795.html#msg2795</a> on how to make a real world test and/or use tcpserver for any other real purpose. Once you found tcpserver useful, get valgrind involved.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T23:24:26Z' class='post-time'>
                July 13, 2014, 11:24pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T23:24:26Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>ok, but are these alternate parameters or all part of the same one?</p>
<p><code>   -v \
    -1 \
    -l host \
    -H \
    0 \
    9052 \
    /bin/bash -x -c /usr/lib/cpf-tcpserver</code></p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-13T23:50:50Z' class='post-time'>
                July 13, 2014, 11:50pm
              </time>
              <meta itemprop='dateModified' content='2014-07-13T23:50:50Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Not sure I understand. The parameters are copied from /usr/bin/controlportfilt. Those are really used there. Just have a look at /usr/bin/controlportfilt. Use them all at once. Otherwise for example “-v” alone will again do nothing.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-14T00:17:53Z' class='post-time'>
                July 14, 2014, 12:17am
              </time>
              <meta itemprop='dateModified' content='2014-07-14T00:17:53Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>unknown user debian:tor</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-14T00:21:55Z' class='post-time'>
                July 14, 2014, 12:21am
              </time>
              <meta itemprop='dateModified' content='2014-07-14T00:21:55Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>debian-tor</p>
<p>Sorry.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-14T02:45:59Z' class='post-time'>
                July 14, 2014,  2:45am
              </time>
              <meta itemprop='dateModified' content='2014-07-14T02:45:59Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>2 problems:</p>
<p>control-port-filter: unrecognized service</p>
<p>tcpserver: fatal: unable to bind: address already taken</p>
<p>I’d say the second error is the result of the first.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-14T04:04:27Z' class='post-time'>
                July 14, 2014,  4:04am
              </time>
              <meta itemprop='dateModified' content='2014-07-14T04:04:27Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>controlportfiltd on Whonix 8. control-port-filter in Whonix 9.</p>
<pre><code class="lang-auto"></code></pre>
<p>(You can find the names of services/daemon check /etc/init.d/ folder and using bash competition [press  after tying “sudo service c”].)</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-14T15:29:08Z' class='post-time'>
                July 14, 2014,  3:29pm
              </time>
              <meta itemprop='dateModified' content='2014-07-14T15:29:08Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>/usr/lib/cpf-tcpserver no such file or directory</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-14T15:36:26Z' class='post-time'>
                July 14, 2014,  3:36pm
              </time>
              <meta itemprop='dateModified' content='2014-07-14T15:36:26Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>In Whonix 8, path is /usr/lib/whonix/cpf-tcpserver.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-15T01:54:41Z' class='post-time'>
                July 15, 2014,  1:54am
              </time>
              <meta itemprop='dateModified' content='2014-07-15T01:54:41Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><span class="bbcode-b">sudo -u debian-tor tcpserver -v -1 -l host -H 0 9052 /bin/bash -x -c /usr/lib/whonix/cpf-tcpserver<br>
</span></p>
<p>[code]root@host:/home/user# sudo service controlportfiltd stop<br>
root@host:/home/user# sudo -u debian-tor tcpserver -v -1 -l host -H 0 9052 /bin/bash -x -c /usr/lib/whonix/cpf-tcpserver<br>
9052<br>
tcpserver: status: 0/40<br>
tcpserver: status: 1/40<br>
tcpserver: pid 15004 from 192.168.0.11<br>
tcpserver: ok 15004 host:192.168.0.10:9052 :192.168.0.11::41768</p>
<ul>
<li>‘[’ -z ‘’ ‘]’</li>
<li>return</li>
<li>/usr/lib/whonix/cpf-tcpserver</li>
<li>set -o pipefail</li>
<li>LOG=/var/log/controlportfilt.log</li>
<li>trap error_handler ERR</li>
<li>trap trap_sigint SIGINT<br>
++ uuidgen -r</li>
<li>ID=0dfc0d53-58e7-45ca-b06a-610ef52721c1</li>
<li>cpf_pid=15004</li>
<li>echo '0dfc0d53-58e7-45ca-b06a-610ef52721c1 INFO: Getting connection… cpf_pid: 15004 | LD_PRELOAD: ’</li>
<li>kill_after=5s</li>
<li>timeout_after=5s</li>
<li>‘[’ -d /etc/controlportfilt.d ‘]’</li>
<li>for i in ‘/etc/controlportfilt.d/*’</li>
<li>‘[’ -f /etc/controlportfilt.d/30_controlportfilt_default ‘]’</li>
<li>‘[’ t = ‘~’ ‘]’</li>
<li>grep -q .dpkg-</li>
<li>echo /etc/controlportfilt.d/30_controlportfilt_default</li>
<li>source /etc/controlportfilt.d/30_controlportfilt_default<br>
++ CONTROL_PORT_FILTER_PROXY=1<br>
++ CONTROL_PORT_FILTER_VERBOSE=0<br>
++ CONTROL_PORT_FILTER_WHITELIST=(“AUTHENTICATE” “GETINFO net/listeners/socks” “GETINFO status/bootstrap-phase” “SIGNAL NEWNYM” “QUIT”)</li>
<li>‘[’ 0 = 1 ‘]’</li>
<li>i=0</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_WHITELIST[@]}"’</li>
<li>CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[$i]=authenticate</li>
<li>i=1</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_WHITELIST[@]}"’</li>
<li>CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[$i]=‘getinfo net/listeners/socks’</li>
<li>i=2</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_WHITELIST[@]}"’</li>
<li>CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[$i]=‘getinfo status/bootstrap-phase’</li>
<li>i=3</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_WHITELIST[@]}"’</li>
<li>CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[$i]=‘signal newnym’</li>
<li>i=4</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_WHITELIST[@]}"’</li>
<li>CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[$i]=quit</li>
<li>i=5</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: authenticate’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: getinfo net/listeners/socks’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: getinfo status/bootstrap-phase’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: signal newnym’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: quit’</li>
<li>check_tor</li>
<li>trap error_handler ERR</li>
<li>‘[’ -f /var/run/tor/control.authcookie ‘]’</li>
<li>tor_authcookie=0</li>
<li>‘[’ -f /var/run/tor/tor.pid ‘]’</li>
<li>tor_pid=1<br>
++ cat /var/run/tor/tor.pid</li>
<li>tor_pid=2433</li>
<li>tor_pid_running=0</li>
<li>kill -0 2433</li>
<li>‘[’ 0 = 0 ‘]’</li>
<li>‘[’ 0 = 0 ‘]’</li>
<li>check_tor_result=0</li>
<li>‘[’ ‘!’ 0 = 0 ‘]’</li>
<li>read -r<br>
’ cleaned_reply='GETINFO status/bootstrap-phase<br>
++ tr ‘\r’ ’ ‘<br>
’+ echo 'GETINFO status/bootstrap-phase</li>
<li>cleaned_reply='GETINFO status/bootstrap-phase '<br>
++ tr ‘\n’ ’ '<br>
++ echo 'GETINFO status/bootstrap-phase ’</li>
<li>cleaned_reply='GETINFO status/bootstrap-phase  '<br>
++ sed -e ‘s/ {1,}$//’<br>
++ echo 'GETINFO status/bootstrap-phase  ’</li>
<li>cleaned_reply=‘GETINFO status/bootstrap-phase’</li>
<li>received ‘GETINFO status/bootstrap-phase’</li>
<li>trap error_handler ERR</li>
<li>true ‘GETINFO status/bootstrap-phase’</li>
<li>echo ‘0dfc0d53-58e7-45ca-b06a-610ef52721c1 GOT: GETINFO status/bootstrap-phase’</li>
<li>‘[’ ‘GETINFO status/bootstrap-phase’ = ‘’ ‘]’</li>
<li>read -r first_word _</li>
<li>‘[’ getinfo = authenticate ‘]’</li>
<li>‘[’ getinfo = quit ‘]’</li>
<li>ok=0</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: authenticate’</li>
<li>‘[’ ‘getinfo status/bootstrap-phase’ = authenticate ‘]’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: getinfo net/listeners/socks’</li>
<li>‘[’ ‘getinfo status/bootstrap-phase’ = ‘getinfo net/listeners/socks’ ‘]’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: getinfo status/bootstrap-phase’</li>
<li>‘[’ ‘getinfo status/bootstrap-phase’ = ‘getinfo status/bootstrap-phase’ ‘]’</li>
<li>ok=1</li>
<li>true ‘ok: reply getinfo status/bootstrap-phase = element getinfo status/bootstrap-phase’</li>
<li>break</li>
<li>‘[’ ‘!’ 1 = 1 ‘]’</li>
<li>lie_when=‘GETINFO net/listeners/socks’</li>
<li>‘[’ ‘getinfo status/bootstrap-phase’ = ‘getinfo net/listeners/socks’ ‘]’<br>
++ mktemp --directory</li>
<li>temp_directory=/tmp/tmp.WAI8uDppTk</li>
<li>IN=/tmp/tmp.WAI8uDppTk/in_0dfc0d53-58e7-45ca-b06a-610ef52721c1</li>
<li>OUT=/tmp/tmp.WAI8uDppTk/out_0dfc0d53-58e7-45ca-b06a-610ef52721c1</li>
<li>mkfifo /tmp/tmp.WAI8uDppTk/in_0dfc0d53-58e7-45ca-b06a-610ef52721c1</li>
<li>mkfifo /tmp/tmp.WAI8uDppTk/out_0dfc0d53-58e7-45ca-b06a-610ef52721c1</li>
<li>NC_PID=15022</li>
<li>check_tor</li>
<li>trap error_handler ERR</li>
<li>‘[’ -f /var/run/tor/control.authcookie ‘]’</li>
<li>tor_authcookie=0</li>
<li>‘[’ -f /var/run/tor/tor.pid ‘]’</li>
<li>tor_pid=1<br>
++ cat /var/run/tor/tor.pid</li>
<li>nc 127.0.0.1 9051</li>
<li>tor_pid=2433</li>
<li>tor_pid_running=0</li>
<li>kill -0 2433</li>
<li>‘[’ 0 = 0 ‘]’</li>
<li>‘[’ 0 = 0 ‘]’</li>
<li>check_tor_result=0</li>
<li>‘[’ ‘!’ 0 = 0 ‘]’</li>
<li>xxd_exit_code=0<br>
++ xxd -c 32 -g 0 /var/run/tor/control.authcookie</li>
<li>temporary_variable_one=‘0000000: 9cea67006a7105d5dbdc03bf9703e824b02c81be5353e311c9b872c267e7ea6a  …g.jq…$.,…SS…r.g…j’</li>
<li>‘[’ ‘!’ 0 = 0 ‘]’</li>
<li>read -r temporary_variable_two cookie _</li>
<li>wait 15025</li>
<li>timeout --kill-after=2s 2s echo ‘AUTHENTICATE 9cea67006a7105d5dbdc03bf9703e824b02c81be5353e311c9b872c267e7ea6a’</li>
<li>wait 15027</li>
<li>timeout --kill-after=2s 2s echo ‘GETINFO status/bootstrap-phase’</li>
<li>wait 15029</li>
<li>timeout --kill-after=2s 2s echo QUIT<br>
++ timeout --kill-after=2s 2s cat /tmp/tmp.WAI8uDppTk/in_0dfc0d53-58e7-45ca-b06a-610ef52721c1</li>
<li>var='250 OK<br>
250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY="Done"<br>
250 OK<br>
’50 closing connection</li>
<li>ps_p_exit_code=0</li>
<li>ps -p 15022</li>
<li>ps_p_exit_code=1</li>
<li>true</li>
<li>echo ‘0dfc0d53-58e7-45ca-b06a-610ef52721c1 debug: ps_p_exit_code: 1’</li>
<li>‘[’ ‘250 OK<br>
250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY="Done"<br>
250 OK<br>
’ = ‘’ ']'g connection</li>
<li>true 'var: 250 OK<br>
250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY="Done"<br>
250 OK<br>
’50 closing connection</li>
<li>echo ‘250 OK<br>
250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY="Done"<br>
250 OK<br>
’50 closing connection<br>
++ sed -n 1,1p<br>
++ cat /tmp/tmp.WAI8uDppTk/temp_0dfc0d53-58e7-45ca-b06a-610ef52721c1<br>
’ first_line='250 OK<br>
++ tr ‘\r’ ’ ‘<br>
’+ echo '250 OK</li>
<li>first_line='250 OK '<br>
++ tr ‘\n’ ’ '<br>
++ echo '250 OK ’</li>
<li>first_line='250 OK  '<br>
++ sed -e ‘s/ {1,}$//’<br>
++ echo '250 OK  ’</li>
<li>first_line=‘250 OK’</li>
<li>‘[’ ‘250 OK’ = ‘250 OK’ ‘]’</li>
<li>true<br>
++ sed -n 2,2p<br>
++ cat /tmp/tmp.WAI8uDppTk/temp_0dfc0d53-58e7-45ca-b06a-610ef52721c1<br>
’ second_line='250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”<br>
++ tr ‘\r’ ’ ‘<br>
’+ echo '250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”</li>
<li>second_line='250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done” '<br>
++ tr ‘\n’ ’ '<br>
++ echo '250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done” ’</li>
<li>second_line='250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”  '<br>
++ sed -e ‘s/ {1,}$//’<br>
++ echo '250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”  ’</li>
<li>second_line=‘250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”’</li>
<li>write_back ‘250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”’</li>
<li>trap error_handler ERR</li>
<li>printf ‘250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”\r\n’</li>
<li>echo ‘0dfc0d53-58e7-45ca-b06a-610ef52721c1 BACK: 250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”’</li>
<li>‘[’ ‘250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”’ = ‘250 OK’ ‘]’<br>
++ sed -n 3,3p<br>
++ cat /tmp/tmp.WAI8uDppTk/temp_0dfc0d53-58e7-45ca-b06a-610ef52721c1<br>
’ third_line='250 OK<br>
++ tr ‘\r’ ’ ‘<br>
’+ echo '250 OK</li>
<li>third_line='250 OK '<br>
++ tr ‘\n’ ’ '<br>
++ echo '250 OK ’</li>
<li>third_line='250 OK  '<br>
++ sed -e ‘s/ {1,}$//’<br>
++ echo '250 OK  ’</li>
<li>third_line=‘250 OK’</li>
<li>write_back ‘250 OK’</li>
<li>trap error_handler ERR</li>
<li>printf ‘250 OK\r\n’</li>
<li>echo ‘0dfc0d53-58e7-45ca-b06a-610ef52721c1 BACK: 250 OK’</li>
<li>read -r</li>
<li>cleaned_reply=$‘QUIT\r’<br>
++ tr ‘\r’ ’ '<br>
++ echo $‘QUIT\r’</li>
<li>cleaned_reply='QUIT '<br>
++ tr ‘\n’ ’ '<br>
++ echo 'QUIT ’</li>
<li>cleaned_reply='QUIT  '<br>
++ sed -e ‘s/ {1,}$//’<br>
++ echo 'QUIT  ’</li>
<li>cleaned_reply=QUIT</li>
<li>received QUIT</li>
<li>trap error_handler ERR</li>
<li>true QUIT</li>
<li>echo ‘0dfc0d53-58e7-45ca-b06a-610ef52721c1 GOT: QUIT’</li>
<li>‘[’ QUIT = ‘’ ‘]’</li>
<li>read -r first_word _</li>
<li>‘[’ quit = authenticate ‘]’</li>
<li>‘[’ quit = quit ‘]’</li>
<li>break</li>
<li>echo '0dfc0d53-58e7-45ca-b06a-610ef52721c1 INFO: End.'<br>
tcpserver: end 15004 status 0<br>
tcpserver: status: 0/40<br>
tcpserver: status: 1/40<br>
tcpserver: pid 15079 from 192.168.0.11<br>
tcpserver: ok 15079 host:192.168.0.10:9052 :192.168.0.11::41770</li>
<li>‘[’ -z ‘’ ‘]’</li>
<li>return</li>
<li>/usr/lib/whonix/cpf-tcpserver</li>
<li>set -o pipefail</li>
<li>LOG=/var/log/controlportfilt.log</li>
<li>trap error_handler ERR</li>
<li>trap trap_sigint SIGINT<br>
++ uuidgen -r</li>
<li>ID=b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6</li>
<li>cpf_pid=15079</li>
<li>echo 'b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 INFO: Getting connection… cpf_pid: 15079 | LD_PRELOAD: ’</li>
<li>kill_after=5s</li>
<li>timeout_after=5s</li>
<li>‘[’ -d /etc/controlportfilt.d ‘]’</li>
<li>for i in ‘/etc/controlportfilt.d/*’</li>
<li>‘[’ -f /etc/controlportfilt.d/30_controlportfilt_default ‘]’</li>
<li>‘[’ t = ‘~’ ‘]’</li>
<li>grep -q .dpkg-</li>
<li>echo /etc/controlportfilt.d/30_controlportfilt_default</li>
<li>source /etc/controlportfilt.d/30_controlportfilt_default<br>
++ CONTROL_PORT_FILTER_PROXY=1<br>
++ CONTROL_PORT_FILTER_VERBOSE=0<br>
++ CONTROL_PORT_FILTER_WHITELIST=(“AUTHENTICATE” “GETINFO net/listeners/socks” “GETINFO status/bootstrap-phase” “SIGNAL NEWNYM” “QUIT”)</li>
<li>‘[’ 0 = 1 ‘]’</li>
<li>i=0</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_WHITELIST[@]}"’</li>
<li>CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[$i]=authenticate</li>
<li>i=1</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_WHITELIST[@]}"’</li>
<li>CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[$i]=‘getinfo net/listeners/socks’</li>
<li>i=2</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_WHITELIST[@]}"’</li>
<li>CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[$i]=‘getinfo status/bootstrap-phase’</li>
<li>i=3</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_WHITELIST[@]}"’</li>
<li>CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[$i]=‘signal newnym’</li>
<li>i=4</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_WHITELIST[@]}"’</li>
<li>CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[$i]=quit</li>
<li>i=5</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: authenticate’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: getinfo net/listeners/socks’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: getinfo status/bootstrap-phase’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: signal newnym’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: quit’</li>
<li>check_tor</li>
<li>trap error_handler ERR</li>
<li>‘[’ -f /var/run/tor/control.authcookie ‘]’</li>
<li>tor_authcookie=0</li>
<li>‘[’ -f /var/run/tor/tor.pid ‘]’</li>
<li>tor_pid=1<br>
++ cat /var/run/tor/tor.pid</li>
<li>tor_pid=2433</li>
<li>tor_pid_running=0</li>
<li>kill -0 2433</li>
<li>‘[’ 0 = 0 ‘]’</li>
<li>‘[’ 0 = 0 ‘]’</li>
<li>check_tor_result=0</li>
<li>‘[’ ‘!’ 0 = 0 ‘]’</li>
<li>read -r<br>
’ cleaned_reply='GETINFO status/bootstrap-phase<br>
++ tr ‘\r’ ’ ‘<br>
’+ echo 'GETINFO status/bootstrap-phase</li>
<li>cleaned_reply='GETINFO status/bootstrap-phase '<br>
++ tr ‘\n’ ’ '<br>
++ echo 'GETINFO status/bootstrap-phase ’</li>
<li>cleaned_reply='GETINFO status/bootstrap-phase  '<br>
++ sed -e ‘s/ {1,}$//’<br>
++ echo 'GETINFO status/bootstrap-phase  ’</li>
<li>cleaned_reply=‘GETINFO status/bootstrap-phase’</li>
<li>received ‘GETINFO status/bootstrap-phase’</li>
<li>trap error_handler ERR</li>
<li>true ‘GETINFO status/bootstrap-phase’</li>
<li>echo ‘b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 GOT: GETINFO status/bootstrap-phase’</li>
<li>‘[’ ‘GETINFO status/bootstrap-phase’ = ‘’ ‘]’</li>
<li>read -r first_word _</li>
<li>‘[’ getinfo = authenticate ‘]’</li>
<li>‘[’ getinfo = quit ‘]’</li>
<li>ok=0</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: authenticate’</li>
<li>‘[’ ‘getinfo status/bootstrap-phase’ = authenticate ‘]’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: getinfo net/listeners/socks’</li>
<li>‘[’ ‘getinfo status/bootstrap-phase’ = ‘getinfo net/listeners/socks’ ‘]’</li>
<li>for element in ‘"${CONTROL_PORT_FILTER_LOWERCASE_WHITELIST[@]}"’</li>
<li>true ‘CONTROL_PORT_FILTER_LOWERCASE_WHITELIST element: getinfo status/bootstrap-phase’</li>
<li>‘[’ ‘getinfo status/bootstrap-phase’ = ‘getinfo status/bootstrap-phase’ ‘]’</li>
<li>ok=1</li>
<li>true ‘ok: reply getinfo status/bootstrap-phase = element getinfo status/bootstrap-phase’</li>
<li>break</li>
<li>‘[’ ‘!’ 1 = 1 ‘]’</li>
<li>lie_when=‘GETINFO net/listeners/socks’</li>
<li>‘[’ ‘getinfo status/bootstrap-phase’ = ‘getinfo net/listeners/socks’ ‘]’<br>
++ mktemp --directory</li>
<li>temp_directory=/tmp/tmp.C8j2sARSPN</li>
<li>IN=/tmp/tmp.C8j2sARSPN/in_b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6</li>
<li>OUT=/tmp/tmp.C8j2sARSPN/out_b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6</li>
<li>mkfifo /tmp/tmp.C8j2sARSPN/in_b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6</li>
<li>mkfifo /tmp/tmp.C8j2sARSPN/out_b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6</li>
<li>NC_PID=15097</li>
<li>check_tor</li>
<li>trap error_handler ERR</li>
<li>‘[’ -f /var/run/tor/control.authcookie ‘]’</li>
<li>tor_authcookie=0</li>
<li>‘[’ -f /var/run/tor/tor.pid ‘]’</li>
<li>tor_pid=1<br>
++ cat /var/run/tor/tor.pid</li>
<li>nc 127.0.0.1 9051</li>
<li>tor_pid=2433</li>
<li>tor_pid_running=0</li>
<li>kill -0 2433</li>
<li>‘[’ 0 = 0 ‘]’</li>
<li>‘[’ 0 = 0 ‘]’</li>
<li>check_tor_result=0</li>
<li>‘[’ ‘!’ 0 = 0 ‘]’</li>
<li>xxd_exit_code=0<br>
++ xxd -c 32 -g 0 /var/run/tor/control.authcookie</li>
<li>temporary_variable_one=‘0000000: 9cea67006a7105d5dbdc03bf9703e824b02c81be5353e311c9b872c267e7ea6a  …g.jq…$.,…SS…r.g…j’</li>
<li>‘[’ ‘!’ 0 = 0 ‘]’</li>
<li>read -r temporary_variable_two cookie _</li>
<li>wait 15100</li>
<li>timeout --kill-after=2s 2s echo ‘AUTHENTICATE 9cea67006a7105d5dbdc03bf9703e824b02c81be5353e311c9b872c267e7ea6a’</li>
<li>wait 15102</li>
<li>timeout --kill-after=2s 2s echo ‘GETINFO status/bootstrap-phase’</li>
<li>wait 15104</li>
<li>timeout --kill-after=2s 2s echo QUIT<br>
++ timeout --kill-after=2s 2s cat /tmp/tmp.C8j2sARSPN/in_b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6</li>
<li>var='250 OK<br>
250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY="Done"<br>
250 OK<br>
’50 closing connection</li>
<li>ps_p_exit_code=0</li>
<li>ps -p 15097</li>
<li>ps_p_exit_code=1</li>
<li>true</li>
<li>echo ‘b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 debug: ps_p_exit_code: 1’</li>
<li>‘[’ ‘250 OK<br>
250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY="Done"<br>
250 OK<br>
’ = ‘’ ']'g connection</li>
<li>true 'var: 250 OK<br>
250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY="Done"<br>
250 OK<br>
’50 closing connection</li>
<li>echo ‘250 OK<br>
250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY="Done"<br>
250 OK<br>
’50 closing connection<br>
++ sed -n 1,1p<br>
++ cat /tmp/tmp.C8j2sARSPN/temp_b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6<br>
’ first_line='250 OK<br>
++ tr ‘\r’ ’ ‘<br>
’+ echo '250 OK</li>
<li>first_line='250 OK '<br>
++ tr ‘\n’ ’ '<br>
++ echo '250 OK ’</li>
<li>first_line='250 OK  '<br>
++ sed -e ‘s/ {1,}$//’<br>
++ echo '250 OK  ’</li>
<li>first_line=‘250 OK’</li>
<li>‘[’ ‘250 OK’ = ‘250 OK’ ‘]’</li>
<li>true<br>
++ sed -n 2,2p<br>
++ cat /tmp/tmp.C8j2sARSPN/temp_b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6<br>
’ second_line='250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”<br>
++ tr ‘\r’ ’ ‘<br>
’+ echo '250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”</li>
<li>second_line='250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done” '<br>
++ tr ‘\n’ ’ '<br>
++ echo '250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done” ’</li>
<li>second_line='250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”  '<br>
++ sed -e ‘s/ {1,}$//’<br>
++ echo '250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”  ’</li>
<li>second_line=‘250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”’</li>
<li>write_back ‘250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”’</li>
<li>trap error_handler ERR</li>
<li>printf ‘250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”\r\n’</li>
<li>echo ‘b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 BACK: 250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”’</li>
<li>‘[’ ‘250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY=“Done”’ = ‘250 OK’ ‘]’<br>
++ sed -n 3,3p<br>
++ cat /tmp/tmp.C8j2sARSPN/temp_b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6<br>
’ third_line='250 OK<br>
++ tr ‘\r’ ’ ‘<br>
’+ echo '250 OK</li>
<li>third_line='250 OK '<br>
++ tr ‘\n’ ’ '<br>
++ echo '250 OK ’</li>
<li>third_line='250 OK  '<br>
++ sed -e ‘s/ {1,}$//’<br>
++ echo '250 OK  ’</li>
<li>third_line=‘250 OK’</li>
<li>write_back ‘250 OK’</li>
<li>trap error_handler ERR</li>
<li>printf ‘250 OK\r\n’</li>
<li>echo ‘b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 BACK: 250 OK’</li>
<li>read -r</li>
<li>cleaned_reply=$‘QUIT\r’<br>
++ tr ‘\r’ ’ '<br>
++ echo $‘QUIT\r’</li>
<li>cleaned_reply='QUIT '<br>
++ tr ‘\n’ ’ '<br>
++ echo 'QUIT ’</li>
<li>cleaned_reply='QUIT  '<br>
++ sed -e ‘s/ {1,}$//’<br>
++ echo 'QUIT  ’</li>
<li>cleaned_reply=QUIT</li>
<li>received QUIT</li>
<li>trap error_handler ERR</li>
<li>true QUIT</li>
<li>echo ‘b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 GOT: QUIT’</li>
<li>‘[’ QUIT = ‘’ ‘]’</li>
<li>read -r first_word _</li>
<li>‘[’ quit = authenticate ‘]’</li>
<li>‘[’ quit = quit ‘]’</li>
<li>break</li>
<li>echo 'b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 INFO: End.'<br>
tcpserver: end 15079 status 0<br>
tcpserver: status: 0/40<br>
[/code]</li>
</ul>
<p><span class="bbcode-b">controlportfilt.log</span></p>
<p><code>0dfc0d53-58e7-45ca-b06a-610ef52721c1 BACK: 250 OK
0dfc0d53-58e7-45ca-b06a-610ef52721c1 GOT: QUIT
0dfc0d53-58e7-45ca-b06a-610ef52721c1 INFO: End.
b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 INFO: Getting connection... cpf_pid: 15079 | LD_PRELOAD: 
b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 GOT: GETINFO status/bootstrap-phase
b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 debug: ps_p_exit_code: 1
b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 BACK: 250-status/bootstrap-phase=NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY="Done"
b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 BACK: 250 OK
b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 GOT: QUIT
b2c73fd5-79d5-4271-bd8e-cc6f790ab8f6 INFO: End.</code></p>
<p><code>root@host:/home/user# sudo -u debian-tor valgrind --leak-check=full --show-reachable=yes tcpserver -v -1 -l host -H 0 9052 /bin/bash -x -c /usr/lib/whonix/cpf-tcpserver
==16783== Memcheck, a memory error detector
==16783== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==16783== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==16783== Command: tcpserver -v -1 -l host -H 0 9052 /bin/bash -x -c /usr/lib/whonix/cpf-tcpserver
==16783== 
tcpserver: fatal: unable to bind: address already used
==16783== 
==16783== HEAP SUMMARY:
==16783==     in use at exit: 976 bytes in 1 blocks
==16783==   total heap usage: 3 allocs, 2 frees, 2,496 bytes allocated
==16783== 
==16783== 976 bytes in 1 blocks are still reachable in loss record 1 of 1
==16783==    at 0x4028308: malloc (vg_replace_malloc.c:263)
==16783==    by 0x804DDB7: ??? (in /usr/bin/tcpserver)
==16783==    by 0x804F819: ??? (in /usr/bin/tcpserver)
==16783==    by 0x804F2F3: ??? (in /usr/bin/tcpserver)
==16783==    by 0x804E98A: ??? (in /usr/bin/tcpserver)
==16783==    by 0x804E4D5: ??? (in /usr/bin/tcpserver)
==16783==    by 0x804BD95: ??? (in /usr/bin/tcpserver)
==16783==    by 0x804C14C: ??? (in /usr/bin/tcpserver)
==16783==    by 0x804B6A1: ??? (in /usr/bin/tcpserver)
==16783==    by 0x8049C1A: ??? (in /usr/bin/tcpserver)
==16783==    by 0x4055E45: (below main) (libc-start.c:244)
==16783== 
==16783== LEAK SUMMARY:
==16783==    definitely lost: 0 bytes in 0 blocks
==16783==    indirectly lost: 0 bytes in 0 blocks
==16783==      possibly lost: 0 bytes in 0 blocks
==16783==    still reachable: 976 bytes in 1 blocks
==16783==         suppressed: 0 bytes in 0 blocks
==16783== 
==16783== For counts of detected and suppressed errors, rerun with: -v
==16783== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 11 from 6)</code></p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="363.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-15T02:03:42Z' class='post-time'>
                July 15, 2014,  2:03am
              </time>
              <meta itemprop='dateModified' content='2014-07-15T02:03:42Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I’m out of my depth here but I can guess from the tutorial here: <a href="../../../external.html?link=http://cs.ecs.baylor.edu/~donahoo/tools/valgrind/">http://cs.ecs.baylor.edu/~donahoo/tools/valgrind/</a><br>
that there is a memory allocation problem going on.</p>
        </div>

        <meta itemprop='headline' content='Ucspi-tcp Automated Code Checks'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="3634658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
