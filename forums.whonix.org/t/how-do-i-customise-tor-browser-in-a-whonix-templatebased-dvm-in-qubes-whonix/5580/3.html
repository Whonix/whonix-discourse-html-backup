<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix - #3 by Patrick - Qubes-Whonix - Whonix Forum</title>
    <meta name="description" content="In Whonix 13, I maintained things like bookmarks, HTTPSEverywhere rules, Security settings in the whonix-ws-dvm (TemplateBased DVM), so that my Whonix DispVMs were preloaded with those settings. Very convenient for using&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../5580.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix&#39;" href="../5580.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/how-do-i-customise-tor-browser-in-a-whonix-templatebased-dvm-in-qubes-whonix/5580/3" />
<meta name="twitter:url" content="https://forums.whonix.org/t/how-do-i-customise-tor-browser-in-a-whonix-templatebased-dvm-in-qubes-whonix/5580/3" />
<meta property="og:title" content="How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix" />
<meta name="twitter:title" content="How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix" />
<meta property="og:description" content="The reason for this:  https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#Running_Tor_Browser_in_Qubes_TemplateVM  (please press expand)  Is our reasoning valid or overly cautious?  tb-starter by Whonix developers (/usr/bin/torbrowser) is just a wrapper  to start Tor Browser. Advanced users may circumvent tb-starter. You  could start a DVM template konsole.  Then start Tor Browser from command line by not using torbrowser  (/usr/bin/torbrowser). (Similar https://www.whonix.org/wiki/Tor_Browse..." />
<meta name="twitter:description" content="The reason for this:  https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#Running_Tor_Browser_in_Qubes_TemplateVM  (please press expand)  Is our reasoning valid or overly cautious?  tb-starter by Whonix developers (/usr/bin/torbrowser) is just a wrapper  to start Tor Browser. Advanced users may circumvent tb-starter. You  could start a DVM template konsole.  Then start Tor Browser from command line by not using torbrowser  (/usr/bin/torbrowser). (Similar https://www.whonix.org/wiki/Tor_Browse..." />
<meta property="article:published_time" content="2018-08-02T15:04:00+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="../55804658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../5580.html">How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/qubes-whonix/12.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #63a0ff'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Qubes-Whonix</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/mig5'><span itemprop='name'>mig5</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-02T06:01:42Z' class='post-time'>
                August 2, 2018,  6:01am
              </time>
              <meta itemprop='dateModified' content='2020-10-26T11:44:33Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>In Whonix 13, I maintained things like bookmarks, HTTPSEverywhere rules, Security settings in the whonix-ws-dvm (TemplateBased DVM), so that my Whonix DispVMs were preloaded with those settings. Very convenient for using many DispVMs a day (I don’t use the anon-whonix appVM that’s based on whonix-ws Template).</p>
<p>Now in Whonix 14 I can’t start the Tor Browser in the DVM template (get the message to not do so).</p>
<p>How are other people maintaining their settings so they don’t have to configure every DispVM? I must start about 50 DispVMs a day, this will get very laborious otherwise.</p>
<p>I guess I could try and add the configs directly to /rw/user/ somewhere within the Tor Browser profile? Is that the best (only) way now?</p>
<p>Also I note that I can’t start Tor Browser in the whonix-ws-14 TemplateVM. But the <a href="../../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser#Running_Tor_Browser_in_Qubes_DVM_Template" rel="nofollow noopener">wiki says</a>:</p>
<blockquote>
<p>Do not run Tor Browser Downloader by Whonix inside the DVM Template (whonix-ws-14-dvm)! <strong>It should only be run in the TemplateVM (whonix-ws)</strong> or whonix-ws-based AppVM (anon-whonix). ’</p>
</blockquote>
<p>Seems only the latter is possible now (or in DispVMs).</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-02T10:18:35Z' class='post-time'>
                August 2, 2018, 10:18am
              </time>
              <meta itemprop='dateModified' content='2018-08-03T23:01:13Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi <code>mig5</code></p>
<p>Configure an <code>anon-whonix</code> VM. Add all security settings to Tor Browser. Then clone  <code>anon-whonix</code> and append the dvm tag the newly cloned VM’s name (i.e. <code>anon-whonix-dvm</code>). Then set prefs to <code>template_for_dispvms true</code> in <code>anon-whonix-dvm</code>.</p>
<p><strong>1.</strong> Create the</p>
<p><strong>Note:</strong> Tor Browser will not start if run from an AppVM with the <code>dvm</code> tag appended to name. For example, Tor Browser will not start in a VM named <code>anon-whonix-</code><strong>dvm</strong> . However, a work around would be to create an <code>AppVM</code> without the dvm tag and use that for the intial custom configurations. Once that is complete, clone the <code>AppVM</code> with the dvm tag appended to the name.</p>
<p><code>qvm-create --class AppVM --template whonix-ws-14 --label red anon-whonix-temp</code></p>
<p><strong>2.</strong> Set nevm to none since you should never connect to the internet using dvm templates</p>
<p><code>qvm-prefs anon-whonix-temp netvm ""</code></p>
<p><strong>3.</strong> Start Tor Browser and add all custom security setting (Tor Browser, NoScript etc…) to  Tor Browser.</p>
<p><strong>4.</strong>  Shutdown Tor Brower</p>
<p><strong>5.</strong> Clone <code>anon-whonix-temp</code> and add the dvm tag the newly cloned AppVM</p>
<p><code>qvm-clone anon-whonix-temp anon-whonix-dvm</code></p>
<p><strong>5.</strong> Set the newly cloned AppVM’s prefs to dvm</p>
<p><code>qvm-prefs whonix-ws-dvm template_for_dispvms true</code></p>
<p><strong>6.</strong> Add dom0 menu  entry for dvm</p>
<p><code>qvm-features whonix-ws--dvm appmenus-dispvm 1</code></p>
<p><strong>7.</strong> Spawn a Tor Browser dispvm from the new whonix-dvm</p>
<p><strong>8.</strong> Add all other setting ( bookmarks, HTTPSEverywhere rules etc) to the Tor Browser <code>dispvm</code><br>
<strong>9.</strong> Copy all pertinent files from Dispvm: <code>/home/user/.tb/tor-browser/Browser/TorBrowser/Data/Browser/profile.default</code> to the same location in the <code>whonix-ws-dvm</code></p>
<aside class="quote no-group" data-post="1" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/mig5/40/1647_1.png" class="avatar"> mig5:</div>
<blockquote>
<p>I guess I could try and add the configs directly to /rw/user/ somewhere within the Tor Browser profile</p>
</blockquote>
</aside>
<p>Seems like the only way for most settings</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-02T15:04:00Z' class='post-time'>
                August 2, 2018,  3:04pm
              </time>
              <meta itemprop='dateModified' content='2018-08-02T15:04:00Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The reason for this:<br>
<a href="../../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#Running_Tor_Browser_in_Qubes_TemplateVM" class="onebox" target="_blank">https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#Running_Tor_Browser_in_Qubes_TemplateVM</a><br>
(please press expand)</p>
<p>Is our reasoning valid or overly cautious?</p>
<p>tb-starter by Whonix developers (/usr/bin/torbrowser) is just a wrapper<br>
to start Tor Browser. Advanced users may circumvent tb-starter. You<br>
could start a DVM template konsole.</p>
<p>Then start Tor Browser from command line by not using <code>torbrowser</code><br>
(/usr/bin/torbrowser). (Similar <a href="../../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser#From_the_Command_Line_or_Debugging_Mode">https://www.whonix.org/wiki/Tor_Browser#From_the_Command_Line_or_Debugging_Mode</a><br>
) Go to <code>/var/cache/tb-binary</code> folder.</p>
<p>Make your modifications. Shut down the DVM Template.</p>
<p>The /usr/bin/torbrowser function refusing the start can also be easily<br>
overwritten using a /etc/torbrowser.d config snippet.</p>
<p>A safer / cleaner way to modify Tor Browser’s profile may be to not<br>
start it but drop the appropriate config files.</p>
<p>Related:<br>
<aside class="quote" data-post="821" data-topic="3477">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar">
    <a href="../../long-wiki-edits-thread/3477/821c5ab.html?u=patrick">Long Wiki Edits Thread</a> <a class="badge-wrapper  bullet" href="../../../c/website/6.html"><span class="badge-category-bg" style="background-color: #0E76BD;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Issues and improvements with the Whonix website. (website devs) (user documentation devs)">Website</span></a>
  </div>
  <blockquote>
    Qubes-Whonix 14 / Qubes R4 DisposableVM support is mostly undocumented. 
I suggest to modify <a href="../../../../external.html?link=https://www.whonix.org/wiki/Qubes/DisposableVM">https://www.whonix.org/wiki/Qubes/DisposableVM</a> according to the following plan: 

Whonix 13 DisposableVM: entirely unsupported
Qubes R3.2 Whonix 14: entirely unsupported
Qubes R4 Whonix 14: supported
  </blockquote>
</aside>
</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/mig5'><span itemprop='name'>mig5</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-02T21:26:11Z' class='post-time'>
                August 2, 2018,  9:26pm
              </time>
              <meta itemprop='dateModified' content='2018-08-02T21:26:11Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks both, especially <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> as I didn’t realise there was a way to circumvent it for ‘advanced’ use.</p>
<p>I don’t think it’s overly cautious - already I suspect the DVM/TemplatebasedDVM stuff is confusing for most Qubes users, so it’s good to add some precautions.</p>
<p>I’ll see what is the easiest way for me. Obviously adding the config in directly without spawning TorBrowser is the ‘best’ way, but it’s so complicated config under the hood, not like a simple .ini or .conf file, that I may resort to setting it all up via the browser once-only and then copy the entire config dir if I need to do it again…</p>
<p>Actually <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/0brand">@0brand</a>’s method seems quite sane too (do all the work in a DispVM once, then copy the results back to the DVM template) <img src="../../../images/emoji/twitter/%2b1ae52.png?v=5" title=":+1:" class="emoji" alt=":+1:"></p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/tatertot'><span itemprop='name'>tatertot</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-18T20:53:22Z' class='post-time'>
                August 18, 2018,  8:53pm
              </time>
              <meta itemprop='dateModified' content='2018-08-18T23:19:17Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I ran into the same issue when I wanted to increase the default torbrowser security slider (the default allows javascript).</p>
<aside class="quote no-group">
<blockquote>
<p>Advanced users may circumvent tb-starter. You<br>
could start a DVM template konsole.</p>
</blockquote>
</aside>
<p>I think this may be insufficient, /var/cache/tb-binary is not a bind-dir in my dvm template, so any customization there will be lost. It may be necessary to start the browser in the template instead.</p>
<aside class="quote no-group" data-post="3" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The reason for this: <a href="../../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#Running_Tor_Browser_in_Qubes_TemplateVM" rel="nofollow noopener">https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#Running_Tor_Browser_in_Qubes_TemplateVM </a><br>
(please press expand)</p>
</blockquote>
</aside>
<p>If the reason is to prevent correlation across identity VMs through seeing the mtimes of various files created on first-time use… It seems like in that case, the attacker would also be able to see the mtimes of files installed anywhere in the system, which would also be a unique signature tying together all VMs arising from the same template.</p>
<p>If the reason is to prevent net access from the dvm template from compromising it (and all its children)… wouldn’t a scary warning be sufficient on launching torbrowser (in VMs whose name ends in *-dvm)?</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">

            <link itemprop="image" href="../../../uploads/default/original/2X/7/770a15f475a1de4a6ba4d68ffb96bd85c7274aa0.jpg">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-19T13:19:42Z' class='post-time'>
                August 19, 2018,  1:19pm
              </time>
              <meta itemprop='dateModified' content='2018-08-19T13:19:42Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="5" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/c37758/40.png" class="avatar"> tatertot:</div>
<blockquote>
<p>I think this may be insufficient, /var/cache/tb-binary is not a bind-dir in my dvm template, so any customization there will be lost. It may be necessary to start the browser in the template instead.</p>
</blockquote>
</aside>
<p>I correct myself:<br>
Tor Browser / tb-updater is not supposed to be started in whonix-ws-14-dvm.</p>
<p>In TemplateVM:<br>
Go to /var/cache/tb-binary go to Tor Browser folder. Manually start. Modify.<br>
Does that work for you?<br>
If so, could you document this please?<br>
<a href="../../../../external.html?link=https://www.whonix.org/wiki/Qubes/Disposable_VM" rel="nofollow noopener">https://www.whonix.org/wiki/Qubes/Disposable_VM</a></p>
<p>Better since whonix-ws-14-dvm (or any Qubes DVM) is not yet non-networked by default.</p>
<p><a href="../../../../external.html?link=https://github.com/QubesOS/qubes-issues/issues/4226" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/QubesOS/qubes-issues/issues/4226</a></p>
<aside class="quote no-group" data-post="5" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/c37758/40.png" class="avatar"> tatertot:</div>
<blockquote>
<p>If the reason is to prevent net access from the dvm template from compromising it (and all its children)… wouldn’t a scary warning be sufficient on launching torbrowser (in VMs whose name ends in *-dvm)?</p>
</blockquote>
</aside>
<p>This is already implemented.<br>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/tb-starter/blob/master/usr/bin/torbrowser#L210" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Whonix/tb-starter/blob/master/usr/bin/torbrowser#L210" target="_blank" rel="nofollow noopener">Whonix/tb-starter/blob/master/usr/bin/torbrowser#L210</a></h4>
<pre class="onebox"><code class="lang-"><ol class="start lines" start="200" style="counter-reset: li-counter 199 ;">
<li>   true "Not running in Qubes."</li>
<li>   return 0</li>
<li>fi</li>
<li>
</li>
<li>if [ ! "$qubes_vm_type" = "TemplateVM" ]; then</li>
<li>   true "Not running in TemplateVM."</li>
<li>   return 0</li>
<li>fi</li>
<li>
</li>
<li>if [ "$tb_allow_start_in_templatevm" = "true" ]; then</li>
<li class="selected">   true "tb_allow_start_in_templatevm is true."</li>
<li>   return 0</li>
<li>fi</li>
<li>
</li>
<li>if [ "$have_other_args" = "false" ]; then</li>
<li>   tb_qubes_wiki="Running_${tb_wiki}_in_Qubes_TemplateVM"</li>
<li>   local MSG="&lt;p&gt;Do not run $tb_title in TemplateVM.&lt;br&gt;&lt;/br&gt;</li>
<li>&lt;br&gt;&lt;/br&gt;</li>
<li>More info: &lt;a href=https://www.whonix.org/wiki/$tb_wiki#$tb_qubes_wiki&gt;https://www.whonix.org/wiki/$tb_wiki#$tb_qubes_wiki&lt;/a&gt;&lt;/p&gt;"</li>
<li>   $output ${output_opts[@]} --messagex --typex "error" --titlex "$TITLE" --message "$MSG" --done</li>
<li>   $output ${output_opts[@]} --messagecli --typecli "error" --titlecli "$TITLE" --message "$MSG" --done</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/tatertot'><span itemprop='name'>tatertot</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-19T22:32:34Z' class='post-time'>
                August 19, 2018, 10:32pm
              </time>
              <meta itemprop='dateModified' content='2018-08-19T22:53:31Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="6" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>This is already implemented.</p>
</blockquote>
</aside>
<p>If so, I don’t understand why this re-creation of the tb-binary is done?</p>
<p>It seems like there are no benefits:</p>
<ul>
<li>already a warning against starting torbrowser in dvm</li>
<li>correlation prevention based on existance of files is undermined by dispvms sharing a bitwise-identical template VM root (unique mtimes of system files based on time of last apt upgrade, among other things).</li>
</ul>
<p>There are only costs:</p>
<ul>
<li>complexity: extra code to recreate the tb-binary (and home dir?)</li>
<li>inconsistent with other qubes dvm</li>
<li>confusion arising from change from whonix-13</li>
<li>forces dispvm customization to be done in the template (more security critical than the dvm template)</li>
</ul>
<p>Unless this is a step towards more comprehensive anti-correlation in a future whonix (which would be awesome)? Or maybe I’m misunderstanding the attacker model - is the attacker only able to check for existance of files inside /home/user?</p>
<p>Edit: removed incorrect comment about multiple dvm templates</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-20T21:56:29Z' class='post-time'>
                August 20, 2018,  9:56pm
              </time>
              <meta itemprop='dateModified' content='2018-08-20T21:56:29Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>For TemplateBased AppVMs: Tor Browser copied from /var/cache/tb-binary, necessary since Qubes R4 TemplateBased AppVMs longer inherits TemplateVM’s folder.</p>
<p><a href="../../../../external.html?link=https://www.whonix.org/wiki/Dev/Qubes#Qubes_Persistence">https://www.whonix.org/wiki/Dev/Qubes#Qubes_Persistence</a></p>
<p>Currently when updating Tor Browser in whonix-ws-14 TemplateVM (by installing an updated tb-updater package or through manually running <code>update-torbrowser</code>) will result in newly created TemplateBased AppVMs as well as whonix-ws-14-dvm based DispVMs coming with up to date Tor Browser.</p>
<p>[1] Given the limitations of Tor Browser (no deb package availably) this is already a feature rich, complete solution.</p>
<aside class="quote no-group" data-post="7" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/c37758/40.png" class="avatar"> tatertot:</div>
<blockquote>
<p>inconsistent with other qubes dvm</p>
</blockquote>
</aside>
<p>That comes from [1].</p>
<aside class="quote no-group" data-post="7" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/c37758/40.png" class="avatar"> tatertot:</div>
<blockquote>
<p>confusion arising from change from whonix-13</p>
</blockquote>
</aside>
<p>I don’t like carrying legacy around. Good implementations in new versions are better. Whonix 13 DispVM were for the most time discouraged.</p>
<aside class="quote no-group" data-post="7" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/c37758/40.png" class="avatar"> tatertot:</div>
<blockquote>
<p>forces dispvm customization to be done in the template (more security critical than the dvm template)</p>
</blockquote>
</aside>
<p>It’s not really forced. By dropping config snippets, any behavior can be disabled.</p>
<aside class="quote no-group" data-post="7" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/c37758/40.png" class="avatar"> tatertot:</div>
<blockquote>
<p>If so, I don’t understand why this re-creation of the tb-binary is done?</p>
</blockquote>
</aside>
<p>What do you mean by re-creation?</p>
<aside class="quote no-group" data-post="7" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/c37758/40.png" class="avatar"> tatertot:</div>
<blockquote>
<p>Or maybe I’m misunderstanding the attacker model - is the attacker only able to check for existance of files inside /home/user?</p>
</blockquote>
</aside>
<p>The rationale is this (click to expand):<br>
<a href="../../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#Running_Tor_Browser_in_Qubes_TemplateVM">https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#Running_Tor_Browser_in_Qubes_TemplateVM</a></p>
<aside class="quote no-group" data-post="7" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/c37758/40.png" class="avatar"> tatertot:</div>
<blockquote>
<p>complexity: extra code to recreate the tb-binary (and home dir?)</p>
</blockquote>
</aside>
<p>What extra code do you mean? Might be due to assuming TemplateVM home folder gets inherited by TemplateBasedVM? That’s why /var/cache/tb-binary complexity is required.</p>
<p>The only extra complexity would be allowing/encouraging users by default running <code>update-torbrowser</code> in <code>whonix-ws-14-dvm</code>, storing in home folder, allowing customizations in home folder. Then two different defaults.</p>
<p>(But non-inheritance of TemplateVM home folder in Qubes generally by TemplateBasedVM is very sane imo.)</p>
<p>All of this makes my head spin. For me it’s already complex enough. <img src="../../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"> (TBB as deb package would be a blessing.)</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/tatertot'><span itemprop='name'>tatertot</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-21T06:06:19Z' class='post-time'>
                August 21, 2018,  6:06am
              </time>
              <meta itemprop='dateModified' content='2018-08-21T07:26:25Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="8" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Given the limitations of Tor Browser (no deb package availably) this is already a feature rich, complete solution</p>
</blockquote>
</aside>
<p>I thought the old system (where you use the torbrowser downloader in each newly-created TemplateBasedVM and DVM template) is better, because in the new system, the wierdness of how torbrowser is installed (in the home folder) is accomodated by making the DVM templates and TemplateVM behave wierdly too (no longer do they exclusively manage the home folder and system files, respectively). This is just a matter of opinion though.</p>
<aside class="quote no-group" data-post="8" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>It’s not really forced. By dropping config snippets, any behavior can be disabled.</p>
</blockquote>
</aside>
<p>I’m not sure what this means? But as 0Brand mentioned, one can disable the behavior by naming their DVM template something other than *-dvm.</p>
<aside class="quote no-group" data-post="8" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>What do you mean by re-creation?</p>
</blockquote>
</aside>
<aside class="quote no-group" data-post="8" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>What extra code do you mean?</p>
</blockquote>
</aside>
<p>I only meant first-boot-home-population in new dispXXX instances running to create a fresh torbrowser, rather than the old way of using a torbrowser downloaded to (and customized in) the DVM template’s home folder. I understand now this is part of the implementation to constantly update torbrowser from TemplateVM.</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-21T09:39:13Z' class='post-time'>
                August 21, 2018,  9:39am
              </time>
              <meta itemprop='dateModified' content='2018-08-21T09:39:13Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="9" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/c37758/40.png" class="avatar"> tatertot:</div>
<blockquote>
<p>But as 0Brand mentioned, one can disable the behavior by naming their DVM template something other than *-dvm.</p>
</blockquote>
</aside>
<p>That is more of a hack than valid instructions. In the future a proper check will be used that does not check for “dvm” in the name.</p>
<p>I’m currently working on documentation for Qubes-R4 Whonix-14 disposableVMs. I could use some help (If you have the time <img src="../../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"> )</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/tatertot'><span itemprop='name'>tatertot</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-22T02:45:51Z' class='post-time'>
                August 22, 2018,  2:45am
              </time>
              <meta itemprop='dateModified' content='2018-08-22T02:52:18Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>As you can tell, I’m not exactly a fan of how dvms are implemented in whonix-14, so I’m not sure I’m the right person to go writing about them… I guess I can give things a read-through, making use of my limited knowledge of them?</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-22T19:59:14Z' class='post-time'>
                August 22, 2018,  7:59pm
              </time>
              <meta itemprop='dateModified' content='2018-08-22T19:59:14Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="9" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/c37758/40.png" class="avatar"> tatertot:</div>
<blockquote>
<p>I’m not sure what this means? But as 0Brand mentioned, one can disable the behavior by naming their DVM template something other than *-dvm.</p>
</blockquote>
</aside>
<p>And I want to orwell style rewrite history removing that idea from existence. <img src="../../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"><br>
The scripts are flexible enough to allow such configs.<br>
DVM Templates without DVM in its name create another level of complexity. So much complexity that even I as a developer don’t manage anymore to see through if some time passes and questions/issues come later. Also it breaks once a clean API by Qubes is provided to detect a DVM by proper means qubesdb-read rather than its name.</p>
<blockquote>
<p>I’m not sure what this means?</p>
</blockquote>
<p>Just now documented here: <a href="../../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#Running_Tor_Browser_in_Qubes_TemplateVM">https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#Running_Tor_Browser_in_Qubes_TemplateVM</a></p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/tatertot'><span itemprop='name'>tatertot</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-23T19:22:53Z' class='post-time'>
                August 23, 2018,  7:22pm
              </time>
              <meta itemprop='dateModified' content='2018-08-23T19:55:13Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="12" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The scripts are flexible enough to allow such configs.</p>
</blockquote>
</aside>
<p>I’m not sure which scripts this refers to</p>
<aside class="quote no-group" data-post="12" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>DVM Templates without DVM in its name create another level of complexity. So much complexity that even I as a developer don’t manage anymore to see through if some time passes and questions/issues come later.</p>
</blockquote>
</aside>
<p>The base qubes system seems very elegant to me (correct me if my understanding is wrong):</p>
<pre><code>  TemplateVM     TemplateBasedVM  DispVM
     root    &lt;-------- root &lt;----- root
     home              home &lt;----- home
</code></pre>
<ul>
<li>TemplateVMs has own root, has own home.</li>
<li>TemplateBasedVMs get their root from the parent TemplateVM, have  own home.</li>
<li>DispVMs get their root from the grandparent TemplateVM, gets their home from a TemplateBasedVM.</li>
</ul>
<p>Naturally:</p>
<ul>
<li>the DIspVM is stateless</li>
<li>the DispVM’s root is managed by the TemplateVM, and its home is managed by the TemplateBasedVM.</li>
</ul>
<p>I think “DVM template” doesn’t exist as a separate VM class anymore in r4, it is nothing more than a TemplateBasedVM with the template_for_dispvms property and the appmenus-dispvm feature.</p>
<p>If nothing special is done, then since Torbrower is installed in ~/.tb, it would be managed with the rest of the home folder by the TemplateBasedVM.</p>
<p>You’d have very natural workflows:</p>
<ul>
<li>To update TorBrowser in the DispVM, run torbrowser downloader in each DVM template.</li>
<li>You can have  torbrowser v7.5  for one DispVM and torbrowser v8.0 in another DispVM, by just choosing the appropriate version when running TorBrowser downloader in the parent DVM Templates.</li>
<li>launching TorBrowser in a TemplateBasedVM with template_for_dispvms property brings up a scary message warning against customization, maybe suggesting drop-in config snippets as an alternative.</li>
<li>but if the user wants to customize TorBrowser at his own risk, he disregards the message. He can have a low-signature DVM template with factory settings, a hardened but higher-signature DVM template with javascript disabled by default, another DVM template with ublock origin installed to minimize 3rd-party requests, etc…</li>
</ul>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-23T21:20:00Z' class='post-time'>
                August 23, 2018,  9:20pm
              </time>
              <meta itemprop='dateModified' content='2018-08-23T21:20:00Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>tatertot:</p>
<blockquote>
<aside class="quote no-group" data-post="12" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The scripts are flexible enough to allow such configs.</p>
</blockquote>
</aside>
<p>I’m not sure which scripts this refers to</p>
</blockquote>
<p>All Whonix packages generally but specifically here : tb-starter /<br>
tb-updater</p>
<blockquote>
<aside class="quote no-group" data-post="12" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>DVM Templates without DVM in its name create another level of complexity. So much complexity that even I as a developer don’t manage anymore to see through if some time passes and questions/issues come later.</p>
</blockquote>
</aside>
<p>The base qubes system seems very elegant to me (correct me if my understanding is incorrect):<br>
TemplateVM -&gt; TemplateBasedVM -&gt; DispVM</p>
<ul>
<li>TemplateVMs own root, own home.</li>
<li>TemplateBasedVMs get their root from the parent TemplateVM, have their own home.</li>
<li>DispVMs get their root from the grandparent TemplateVM, get their home from a TemplateBasedVM.</li>
</ul>
</blockquote>
<p>Looks correct. <a href="../../../../external.html?link=https://www.whonix.org/wiki/Dev/Qubes#Qubes_Persistence">https://www.whonix.org/wiki/Dev/Qubes#Qubes_Persistence</a></p>
<blockquote>
<p>Naturally:</p>
<ul>
<li>the DIspVM is stateless</li>
<li>the DispVM’s root is managed by the TemplateVM, and its home is managed by the TemplateBasedVM.</li>
</ul>
<p>I think “DVM template” doesn’t exist as a separate VM class anymore in r4, it is nothing more than a TemplateBasedVM with the template_for_dispvms property and the appmenus-dispvm feature.</p>
</blockquote>
<p>Yes.</p>
<blockquote>
<p>If nothing special is done, then since Torbrower is installed in ~/.tb, it ought to be managed with the rest of the home folder in the DVM Template.</p>
</blockquote>
<p>ought is a strong word here.<br>
If nothing special is done, Tor Browser does not come preinstalled<br>
anywhere and the user has to manually download it for each VM as it was<br>
in the first Qubes-Whonix version.</p>
<blockquote>
<p>You’d have very natural workflows:</p>
<ul>
<li>To update TorBrowser in the DispVM, run torbrowser downloader in each DVM template.</li>
</ul>
</blockquote>
<p>So there would be complaints / feature requests to update it twice: In<br>
TemplateVM and in (each) DVM Template.</p>
<p>Starting the DVM template has bad usability currently.</p>
<blockquote>
<ul>
<li>You can have  torbrowser v7.5  in one DVM template and 8.0 in another, by just choosing the appropriate version in the TorBrowser downloader.</li>
</ul>
</blockquote>
<p>True. (You are still able to have that currently by the drop-in configs<br>
referenced in my last post.)</p>
<p>On the other hand for most normal packages from Debian you don’t have<br>
that flexibility to pick your version either. Well, maybe you can<br>
install them in home or /usr/local maybe but Whonix doesn’t stop you<br>
from that either. Manual installation and start of Tor Browser is doable<br>
just the default tb-updater / tb-starter is in question.</p>
<blockquote>
<ul>
<li>launching TorBrowser in a TemplateBasedVM with template_for_dispvms property brings up a scary message warning against customization, maybe suggesting drop-in config as an alternative.&gt; * but if the user wants to customize TorBrowser at his own risk (e.g.<br>
increase default security slider), he disregards the message.</li>
</ul>
</blockquote>
<p>There is certainly room to improve the current popups if you meant that.<br>
I am wondering now if we should even make it a yes/no button. Even one<br>
time only yes/no buttons are conceivable. (Easier than current drop-in<br>
config method.)</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="3" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/tatertot'><span itemprop='name'>tatertot</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-23T23:59:48Z' class='post-time'>
                August 23, 2018, 11:59pm
              </time>
              <meta itemprop='dateModified' content='2018-08-23T23:59:48Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="14" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>ought is a strong word here.<br>
If nothing special is done, Tor Browser does not come preinstalled</p>
</blockquote>
</aside>
<p>I may have incorrectly assumed the torbrowser downloader installs into the home folder, where the final torbrowser resides.</p>
<aside class="quote no-group" data-post="14" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>So there would be complaints / feature requests to update it twice: In<br>
TemplateVM and in (each) DVM Template.</p>
</blockquote>
</aside>
<p>To be clear, you mean there would be dueling feature requests?<br>
(1) feature request to be able to update torbrowser in the TemplateVM just like other software<br>
(2) feature requests like mine to be able to update it in the DVM template</p>
<aside class="quote no-group" data-post="14" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Starting the DVM template has bad usability currently.</p>
</blockquote>
</aside>
<p>I completely agree, AFAIK the easiest way to do this is to do <code>qvm-run whonix-ws-14-dvm torbrowser</code>. Or disable appmenus-dispvms feature and use the appmenu, and have a shortcut button for actually launching dispvms.</p>
<p>At least people may be used to this since it’s the same procedure for non-whonix DVM templates; at least its not surprising.</p>
<aside class="quote no-group" data-post="14" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Well, maybe you can<br>
install them in home or /usr/local maybe but Whonix doesn’t stop you<br>
from that either</p>
</blockquote>
</aside>
<p>Agree.</p>
<aside class="quote no-group" data-post="14" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>There is certainly room to improve the current popups</p>
</blockquote>
</aside>
<p>I just mention the pop-up to assuage concerns about server-detectable customizations reducing anonymity to pseudonymity.</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/tatertot'><span itemprop='name'>tatertot</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-24T00:15:48Z' class='post-time'>
                August 24, 2018, 12:15am
              </time>
              <meta itemprop='dateModified' content='2018-08-24T00:15:48Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group quote-modified" data-post="14" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<blockquote>
<p>If nothing special is done, then since Torbrower is installed in ~/.tb, it ought to be managed with the rest of the home folder in the DVM Template.</p>
</blockquote>
<p>ought is a strong word here.<br>
If nothing special is done, Tor Browser does not come preinstalled<br>
anywhere and the user has to manually download it for each VM as it was<br>
in the first Qubes-Whonix version.</p>
</blockquote>
</aside>
<p>Based on the final resting place of ~/.tb in home, one would expect the TemplateBasedVM / DVM template to be the place to customize it, like the rest of the home folder.</p>
<p>I think it is a little surprising/unnatural that ~/.tb in home (the purview of the TemplateBasedVM / DVM Template) came from /var/cache/tb-binary (the purview of the TemplateVM), and he has to go to the latter VM to customize it.</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-24T08:16:22Z' class='post-time'>
                August 24, 2018,  8:16am
              </time>
              <meta itemprop='dateModified' content='2018-08-24T08:16:22Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>tatertot:</p>
<blockquote>
<aside class="quote no-group" data-post="14" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>ought is a strong word here.<br>
If nothing special is done, Tor Browser does not come preinstalled</p>
</blockquote>
</aside>
<p>I may have incorrectly assumed the torbrowser downloader installs into the home folder, where the final torbrowser resides.</p>
</blockquote>
<p>I meant with “If nothing special is done, Tor Browser does not come<br>
preinstalled” - if nothing special is done - tb-updater / tb-starter<br>
doesn’t exists which are just hacks around a missing TBB deb package.</p>
<blockquote>
<aside class="quote no-group" data-post="14" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>So there would be complaints / feature requests to update it twice: In<br>
TemplateVM and in (each) DVM Template.</p>
</blockquote>
</aside>
<p>To be clear, you mean there would be dueling feature requests?<br>
(1) feature request to be able to update torbrowser in the TemplateVM just like other software<br>
(2) feature requests like mine to be able to update it in the DVM template</p>
</blockquote>
<p>There are indeed.</p>
<p>(1) is understandable to make it “deb like”</p>
<p>(2) is quite geeky</p>
<blockquote>
<aside class="quote no-group" data-post="14" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>There is certainly room to improve the current popups</p>
</blockquote>
</aside>
<p>I just mention the pop-up to assuage concerns about server-detectable customizations reducing anonymity to pseudonymity.</p>
</blockquote>
<p>We currently only have these for Tor Browser.</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-24T08:26:09Z' class='post-time'>
                August 24, 2018,  8:26am
              </time>
              <meta itemprop='dateModified' content='2018-08-24T08:26:09Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>tatertot:</p>
<blockquote>
<p>Based on the final resting place of ~/.tb in home, one would expect the TemplateBasedVM / DVM template to be the place to customize it, like the rest of the home folder.</p>
</blockquote>
<p>I see.</p>
<blockquote>
<p>I think it is a little surprising/unnatural that ~/.tb in home (the purview of the TemplateBasedVM / DVM Template) came from /var/cache/tb-binary (the purview of the TemplateVM), and he has to go to the latter VM to customize it.</p>
</blockquote>
<p>It will always be messy in the absence of a TBB deb one way or another.</p>
<p>Without it coming from /var/cache/tb-binary:<br>
Imagine a first time user trying to run a Whonix based DispVM without<br>
any DVM Template customizations beforehand. Result: Tor Browser not<br>
installed.</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/tatertot'><span itemprop='name'>tatertot</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-24T16:07:35Z' class='post-time'>
                August 24, 2018,  4:07pm
              </time>
              <meta itemprop='dateModified' content='2018-08-24T16:07:35Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="18" data-topic="5580">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Without it coming from /var/cache/tb-binary:<br>
Imagine a first time user trying to run a Whonix based DispVM without<br>
any DVM Template customizations beforehand. Result: Tor Browser not<br>
installed.</p>
</blockquote>
</aside>
<p>Since a premade DVM template is provided by whonix, it can include a copy of torbrowser pre-downloaded to the home folder.</p>
        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../5580.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-24T16:25:48Z' class='post-time'>
                August 24, 2018,  4:25pm
              </time>
              <meta itemprop='dateModified' content='2018-08-24T16:25:48Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Would just need to remove that code:</p>
<pre><code class="lang-auto">if echo "$qubes_vm_name" | grep -q "\-dvm" ; then
   exit 0
fi
</code></pre>
<p>From here:</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/tb-updater/blob/master/usr/lib/tb-updater/first-boot-home-population#L23" target="_blank">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Whonix/tb-updater/blob/master/usr/lib/tb-updater/first-boot-home-population#L23" target="_blank">Whonix/tb-updater/blob/master/usr/lib/tb-updater/first-boot-home-population#L23</a></h4>
<pre class="onebox"><code class="lang-"><ol class="start lines" start="13" style="counter-reset: li-counter 12 ;">
<li>
</li>
<li>if [ -e "$done_file" ]; then</li>
<li>exit 0</li>
<li>fi</li>
<li>
</li>
<li>if command -v qubesdb-read &gt;/dev/null 2&gt;&amp;1 ; then</li>
<li>qubes_vm_type="$(qubesdb-read /qubes-vm-type)"</li>
<li>qubes_vm_name="$(qubesdb-read /name)"</li>
<li>fi</li>
<li>
</li>
<li class="selected">## Avoid running in Qubes DVM Template.</li>
<li>## https://phabricator.whonix.org/T726</li>
<li>if echo "$qubes_vm_name" | grep -q "\-dvm" ; then</li>
<li>exit 0</li>
<li>fi</li>
<li>
</li>
<li>if [ "$qubes_vm_type" = "TemplateVM" ]; then</li>
<li>exit 0</li>
<li>fi</li>
<li>
</li>
<li>if [ ! -d "$home_dir" ]; then</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='How do I customise Tor Browser in a Whonix TemplateBased DVM in Qubes-Whonix'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="../55804658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
