<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>CI Whonix Testing - Development - Whonix Forum</title>
    <meta name="description" content="Currently, I have a repo working for automated whonix integration testing. This is a continuation of the WATS senior capstone project, and will be integrated in to the new CI stuff I built. 


I am creating a new thread &amp;hellip;">
    <meta name="generator" content="Discourse 2.8.10 - https://github.com/discourse/discourse version ce28fd2e1d75162dc7dd78bacbe1233dcad9ff1d">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#f9fcff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="158394658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_63af439a4add29d24ee8db0a8975a03942e16bfd.css_%3b%20filename_%3dUTF-8%27%27desktop_63af439a4add29d24ee8db0a8975a03942e16bfdd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_10_3aaa177025d43c870086d9d1e2b7c24242d79345.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_10_3aaa177025d43c870086d9d1e2b7c24242d79345d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="10" data-theme-name="discourse clickable topic"/>
<link href="../../stylesheets/desktop_theme_9_d17a82d9063beac6199d5f5b6058eb31be8a93c7.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_9_d17a82d9063beac6199d5f5b6058eb31be8a93c7d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="9" data-theme-name="discourse loading slider"/>
<link href="../../stylesheets/desktop_theme_11_a4432e6b524de47d5b6be38a05008b3cf204da12.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_11_a4432e6b524de47d5b6be38a05008b3cf204da12d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="11" data-theme-name="discourse-search-banner"/>
<link href="../../stylesheets/desktop_theme_8_eb2fda98a48e7a39093a62612a9336ea5f3fabf4.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_8_eb2fda98a48e7a39093a62612a9336ea5f3fabf4d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8" data-theme-name="modern category + group boxes"/>
<link href="../../stylesheets/desktop_theme_7_8e83b4927ff24d6368194831de62281b78928948.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_7_8e83b4927ff24d6368194831de62281b78928948d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="7" data-theme-name="air theme"/>
<link href="../../stylesheets/desktop_theme_3_6b2d82eaea30a899dbd85a7daa634389c0db8b74.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_6b2d82eaea30a899dbd85a7daa634389c0db8b74d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;CI Whonix Testing&#39;" href="15839.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/ci-whonix-testing/15839?page=2" />
<meta name="twitter:url" content="https://forums.whonix.org/t/ci-whonix-testing/15839?page=2" />
<meta property="og:title" content="CI Whonix Testing" />
<meta name="twitter:title" content="CI Whonix Testing" />
<meta property="og:description" content="Another problem, is there a way to programmatically (via CLI) get rid of all the ‚ÄúUnderstood‚Äù boxes and set the gateway VM to connect without bridges? A new VM build stalls because of this." />
<meta name="twitter:description" content="Another problem, is there a way to programmatically (via CLI) get rid of all the ‚ÄúUnderstood‚Äù boxes and set the gateway VM to connect without bridges? A new VM build stalls because of this." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="6 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="21 ‚ù§" />
<meta property="article:published_time" content="2022-11-11T15:03:51+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="15839.html">

    
  </head>
  <body class="crawler">
    <div class="background-container"></div>

<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.whonix.org/">Whonix Wiki</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">Docs</a>
    <a href="../../c/news/21.html">News</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>
</div>
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="15839.html">CI Whonix Testing</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15839.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-11T15:03:51Z' class='post-time'>
                November 11, 2022,  3:03pm
              </time>
              <meta itemprop='dateModified' content='2022-11-11T15:03:51Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Another problem, is there a way to programmatically (via CLI) get rid of all the ‚ÄúUnderstood‚Äù boxes and set the gateway VM to connect without bridges? A new VM build stalls because of this.</p>
        </div>

        <meta itemprop='headline' content='CI Whonix Testing'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15839.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-11T15:10:22Z' class='post-time'>
                November 11, 2022,  3:10pm
              </time>
              <meta itemprop='dateModified' content='2022-11-11T15:10:22Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><strong>Other Ideas:</strong><br>
Maybe I could figure out how to give VNC control to CI, and use Dogtail to write more scripts that click through and run everything. I have no idea if this is possible, but seems less hacky. High effort.</p>
<p>Another possibility is setting up X11 forwarding SSH from host to workstation through gateway, using VBoxManage to configure it. I worry this will lead me to the same GUI issues that I am experiencing currently where the shells are not actually and XFCE shell in the GUI</p>
<p><strong>Possible Fix for GUI problems</strong></p>
<p>Is there a way to run a command INSIDE a GUI XFCE shell from an SSH connection? It would be really nice to just skip the bullshit</p>
        </div>

        <meta itemprop='headline' content='CI Whonix Testing'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15839.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-11T15:10:43Z' class='post-time'>
                November 11, 2022,  3:10pm
              </time>
              <meta itemprop='dateModified' content='2022-11-11T15:10:43Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>TL;DR-Headaches, frustration, struggling</p>
        </div>

        <meta itemprop='headline' content='CI Whonix Testing'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15839.html">

            <link itemprop="image" href="../../uploads/default/original/2X/3/3b5fd513bfcde13207106c953a5f176a7a5a4819.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-11T15:50:54Z' class='post-time'>
                November 11, 2022,  3:50pm
              </time>
              <meta itemprop='dateModified' content='2022-11-11T15:50:54Z'>
          <span itemprop='position'>#24</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I have X11 forwarding set up from CLI via SSH, so I have a new idea. It will probably take a bit of time but I think the best idea is to run WATS from the host instead of the VM</p>
<p>So basically I will have to rework the Dogtail stuff to run from the host, click inside of the workstation, and run the GUI testing like that.</p>
<p>This is going to be a pain in the ass but at least there is a path to move forward. I also imagine these tests are going to be pretty flakey with a manually configured host (which is how I set up GUI/vncserver/etc). I will have to add scripts in to ansible to set up <strong>everything</strong> from a brand new VM to ensure it behaves exactly the same every time.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../uploads/default/original/2X/3/3b5fd513bfcde13207106c953a5f176a7a5a4819.png" data-download-href="//forums.whonix.org/uploads/default/3b5fd513bfcde13207106c953a5f176a7a5a4819" title="Screen Shot 2022-11-11 at 8.49.33 AM"><img src="../../uploads/default/original/2X/3/3b5fd513bfcde13207106c953a5f176a7a5a4819.png" alt="Screen Shot 2022-11-11 at 8.49.33 AM" data-base62-sha1="8tfupNsSLyO3mfMusTthtvTuNVD" width="690" height="116" data-small-upload="../../uploads/default/optimized/2X/3/3b5fd513bfcde13207106c953a5f176a7a5a4819_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">Screen Shot 2022-11-11 at 8.49.33 AM</span><span class="informations">1124√ó190 17.2 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
        </div>

        <meta itemprop='headline' content='CI Whonix Testing'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15839.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-11T15:51:12Z' class='post-time'>
                November 11, 2022,  3:51pm
              </time>
              <meta itemprop='dateModified' content='2022-11-11T15:51:12Z'>
          <span itemprop='position'>#25</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>thank u 4 attending my ted talk</p>
        </div>

        <meta itemprop='headline' content='CI Whonix Testing'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15839.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-13T05:59:23Z' class='post-time'>
                November 13, 2022,  5:59am
              </time>
              <meta itemprop='dateModified' content='2022-11-13T05:59:23Z'>
          <span itemprop='position'>#26</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="bee" data-post="21" data-topic="15839">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/bee/40/2338_2.png" class="avatar"> bee:</div>
<blockquote>
<p>A new VM build stalls because of this.</p>
</blockquote>
</aside>
<p>The build itself stalls? You mean WATS? If so‚Ä¶</p>
<aside class="quote no-group" data-username="bee" data-post="21" data-topic="15839">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/bee/40/2338_2.png" class="avatar"> bee:</div>
<blockquote>
<p>is there a way to programmatically (via CLI) get rid of all the ‚ÄúUnderstood‚Äù boxes and set the gateway VM to connect without bridges?</p>
</blockquote>
</aside>
<p>There is <code>easo</code> which is an abbreviation for easyorca. Was developed for a different context but might be handy here.</p>
<pre><code>easo
</code></pre>
<p>[1] But that command has to be run inside the VM.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.kicksecure.com/wiki/Orca">
  <header class="source">
      <img src="../../../external.html?link=https://www.kicksecure.com/w/images/4/45/Kicksecure-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Orca" target="_blank" rel="noopener" title="10:05AM - 29 August 2022">Kicksecure ‚Äì 29 Aug 22</a>
  </header>

  <article class="onebox-body">
    <img src="../../../external.html?link=https://www.kicksecure.com/w/images/5/5a/Orcascreenreader131233.png" class="thumbnail onebox-avatar" width="500" height="500">

<h3><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Orca" target="_blank" rel="noopener">Orca Screen Reader</a></h3>

  <p>Using the Orca Screen Reader in Kicksecure ‚Ñ¢ Virtual Machines</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Does this still work? Does this help? If broken, that I could certainly fix and/or adjust for the CI purpose.</p>
<p>On the other hand, the setup-dist-wizard (understood boxes) and anon-connection-wizard could be considered part of stuff that should be CI tested. But if difficult, headache, then also a solution which skips that part (by grammatically accepting it).</p>
<p>[1] Do you need a command to programatically accept disclaimers (setup-wizard-dist), connect to public Tor network (anon-connection-wizard) that can be run from outside the VM? That might be possible too.</p>
<p>Would probably be based on configuration an extra VirtualBox setting on the host operating system VBoxManage getextradata / setextradata and then inside the VM reacting to it accordingly such as starting an inside VM shell script or program.</p>
<p>Not sure needed. VBoxManage can already be used way to execute shell commands inside VM. So that could be used to run <code>easo</code>.</p>
<aside class="quote no-group" data-username="bee" data-post="22" data-topic="15839">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/bee/40/2338_2.png" class="avatar"> bee:</div>
<blockquote>
<p>Another possibility is setting up X11 forwarding SSH from host to workstation through gateway, using VBoxManage to configure it.</p>
</blockquote>
</aside>
<p>It‚Äôs possible to SSH into Whonix-Workstation. Not tested for a long time, not sure how easy/reliable it is. See also:</p>
<ul>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/File_Transfer#SSH_into_Whonix-Gateway_.E2.84.A2">File Transfer - Whonix chapter SSH into Whonix-Gateway in Whonix wiki</a></li>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/File_Transfer#SSH_into_Whonix-Workstation_.E2.84.A2">File Transfer - Whonix chapter SSH into Whonix-Workstation in Whonix wiki</a></li>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/Sshfs_into_Whonix-Workstation" class="inline-onebox">SSHFS into Whonix-Workstation</a></li>
</ul>
<aside class="quote no-group" data-username="bee" data-post="22" data-topic="15839">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/bee/40/2338_2.png" class="avatar"> bee:</div>
<blockquote>
<p>Is there a way to run a command INSIDE a GUI XFCE shell from an SSH connection?</p>
</blockquote>
</aside>
<p>I don‚Äôt understand.<br>
You mean inside a Whonix-Gateway Xfce or Whonix-Workstation Xfce. You mean‚Ä¶</p>
<ol>
<li>
<p>ssh into Whonix-Gateway Xfce</p>
</li>
<li>
<p>VNC from host into Whonix-Gateway Xfce</p>
</li>
</ol>
<p>?</p>
        </div>

        <meta itemprop='headline' content='CI Whonix Testing'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15839.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-13T20:13:39Z' class='post-time'>
                November 13, 2022,  8:13pm
              </time>
              <meta itemprop='dateModified' content='2022-11-13T20:16:53Z'>
          <span itemprop='position'>#27</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="26" data-topic="15839">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>You mean WATS? If so‚Ä¶</p>
</blockquote>
</aside>
<p>Yes. Sorry some of the above posts were rubberducking at midnight, and a good nights sleep gave me a lot of much needed clarity. I was very frustrated but see a solution now.</p>
<p>I like the idea of having the WATS test everything, so having it click through the user agreements and setup makes a lot of sense.</p>
<p>I am going to try to avoid SSH-ing in to the Whonix VMs for now, too much config to automate if i can just run dogtail on the host and make it point &amp; click.</p>
<p>For now I am changing my strategy and prioritization, because it makes more sense.</p>
<h3>
<a name="new-strategy-1" class="anchor" href="#new-strategy-1"></a>New Strategy</h3>
<h4>
<a name="automated-host-setup-and-teardown-2" class="anchor" href="#automated-host-setup-and-teardown-2"></a>Automated Host Setup and Teardown</h4>
<p>I am going to focus on using the digitalocean API to build the host ENTIRELY from scratch, and tear down at end of build. I will also have it create a snapshot automatically so for subsequent runs to be faster.</p>
<p>This step is important because the GUI setup and everything <em>must</em> be the exact same and automated to avoid flakiness. We need it to be reproducible anywhere so in the event something happens to me, the suite doesn‚Äôt end up abandoned.</p>
<p>Also will save lots of money using a big server. I will write logic to prevent duplicating instances too, and do it all on my account so no risk of crazy accidental cost to whonix.</p>
<h4>
<a name="create-lightweight-vps-setup-for-commits-3" class="anchor" href="#create-lightweight-vps-setup-for-commits-3"></a>Create Lightweight VPS setup for Commits</h4>
<p>When a developer pushes a commit, create 2 VPS machines that are much smaller, 2gb of ram or so without GUI, have one build the workstation and one build the gateway in parallel. No WATS</p>
<p>When a tag gets pushed, do it on the single beefed up VPS with GUI, run WATS</p>
<h4>
<a name="wats-rework-4" class="anchor" href="#wats-rework-4"></a>WATS rework</h4>
<p>Rework WATS to run inside of the host using dogtail to control the GUIs, instead of the workstation. This is the easiest way to solve the issue of running WATS for now, and much easier than using VBoxManage which is clunky and not working with XFCE in the guest machines.</p>
<h4>
<a name="document-5" class="anchor" href="#document-5"></a>Document</h4>
<p>Document everything very well with diagrams and specific layout of how it works, for future maintainability.</p>
<h4>
<a name="setup-for-collaboration-stretch-goal-6" class="anchor" href="#setup-for-collaboration-stretch-goal-6"></a>Setup for collaboration (stretch goal)</h4>
<p>Figure out how to make all of it run locally in a single environment so people can collaborate more easily on test cases. God only knows how much of a challenge this could be. Maybe not so bad if it is possible to run whonix VMs inside of a debian virtualbox VM (like the movie Inception‚Ä¶ dream in a dream). Or perhaps build it to a single debian ISO that ran on a USB or something.</p>
<p>Either way, not worth worrying about until the thing works</p>
        </div>

        <meta itemprop='headline' content='CI Whonix Testing'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15839.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-13T20:22:12Z' class='post-time'>
                November 13, 2022,  8:22pm
              </time>
              <meta itemprop='dateModified' content='2022-11-13T20:22:12Z'>
          <span itemprop='position'>#28</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>And before i do too much, i need to play with dogtail and ensure it can control the VM guis from the host. Proof of concept required in order for any of this GUI testing to work.</p>
<p>But i am going to figure out the auto generation of VMs because it will save me some money in the meanwhile.</p>
<p>Im sorry this is taking so long <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> , it ended up being much more complicated than anticipated</p>
<p>But for now at least we have CI to ensure the builds dont break.</p>
        </div>

        <meta itemprop='headline' content='CI Whonix Testing'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15839.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-13T20:27:07Z' class='post-time'>
                November 13, 2022,  8:27pm
              </time>
              <meta itemprop='dateModified' content='2022-11-13T20:27:07Z'>
          <span itemprop='position'>#29</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Lastly, in the event I am not a good enough engineer to make the GUI testing work, I can definitely spin up some shell testing to check Tor network connectivity, proper system functionality, etc.</p>
<p>But i am going to fight hard to avoid that outcome</p>
        </div>

        <meta itemprop='headline' content='CI Whonix Testing'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="15839.html">‚Üê previous page</a></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>
        </div>
    </div>
    
    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
        /* This is a bugfix for the Air Theme when JS is deactivated */
        body > .background-container {
            display: none !important;
        }
    </style>
</noscript>
  </body>
  
</html>
