<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Onion Service setup</title>
    <link>http://forums.whonix.org/t/onion-service-setup/12121</link>
    <description>Hi everyone! I&#39;m trying to setup an onion service on Whonix and I&#39;ve just completed this guide (https://www.whonix.org/wiki/Onion_Services) and have couple of questions.

Since we only edit the `/usr/local/etc/torrc.d/50_user.conf` file on the Gateway, but install the web server on the Workstation, how does this line `HiddenServiceDir /var/lib/tor/hidden_service/` in the Tor configuration does anything, when the website is (presumably) stored in a folder in the Workstation, where the server is?

Also, how can I install mysql to have a database for the website as well?

Thank you! :slight_smile:</description>
    <language>en</language>
    <lastBuildDate>Fri, 20 Aug 2021 11:53:43 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/onion-service-setup/12121.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Onion Service setup</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="pernikar" data-post="3" data-topic="12121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/p/9fc29f/40.png" class="avatar"> pernikar:</div>
<blockquote>
<p>Nevertheless, how does Tor from the Gateway knows where to look for the site on the Workstation?</p>
</blockquote>
</aside>
<p>It doesn’t. And it doesn’t need to. Tor source code doesn’t have a concept of web server, nginx, web server folder. Tor just allows a virtual port running available on an onion to be forwarded to an IP/port elsewhere. Only the web server needs to know about folders where html files are located.</p>
<aside class="quote no-group" data-username="pernikar" data-post="3" data-topic="12121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/p/9fc29f/40.png" class="avatar"> pernikar:</div>
<blockquote>
<p>Is it the IP address on the <code>HiddenServicePort</code> line?</p>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-username="pernikar" data-post="4" data-topic="12121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/p/9fc29f/40.png" class="avatar"> pernikar:</div>
<blockquote>
<p>Since everything had to be set-up via terminal with sudo because I couldn’t do anything via the File Browser due to permission issues, I guess the application doesn’t have the permissions to write anything.</p>
<p>How can I give the permissions to the app/PHP? Is it something to do with the Linux file system (chmod, etc) or is that a nginx issue?</p>
</blockquote>
</aside>
<p>You need to learn Linux file permissions. Unspecific to Whonix.</p>
          <p><a href="http://forums.whonix.org/t/onion-service-setup/12121/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/onion-service-setup/12121/5</link>
        <pubDate>Fri, 20 Aug 2021 11:53:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12121-5</guid>
        <source url="http://forums.whonix.org/t/onion-service-setup/12121.rss">Onion Service setup</source>
      </item>
      <item>
        <title>Onion Service setup</title>
        <dc:creator><![CDATA[pernikar]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> Okay, I finally installed everything and setup nginx, but now I’ve got another issue. The PHP framework I’m using needs to create files in the website folder in <code>temp/cache</code> for caching, but it throws <code>Permission denied</code> error. Since everything had to be set-up via terminal with sudo because I couldn’t do anything via the File Browser due to permission issues, I guess the application doesn’t have the permissions to write anything.</p>
<p>How can I give the permissions to the app/PHP? Is it something to do with the Linux file system (chmod, etc) or is that a nginx issue?</p>
          <p><a href="http://forums.whonix.org/t/onion-service-setup/12121/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/onion-service-setup/12121/4</link>
        <pubDate>Fri, 20 Aug 2021 02:29:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12121-4</guid>
        <source url="http://forums.whonix.org/t/onion-service-setup/12121.rss">Onion Service setup</source>
      </item>
      <item>
        <title>Onion Service setup</title>
        <dc:creator><![CDATA[pernikar]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="12121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Tor data folder (onion service key) and server folder (html files…) are totally different.</p>
<p>There is no need to change anything inside folder <code>/var/lib/tor/hidden_service/</code>.</p>
</blockquote>
</aside>
<p>Oh, my mistake, sorry, I thought that’s where the site goes as that’s how I (miss)remembered it from years ago when I was doing this on macOS.</p>
<p>Nevertheless, how does Tor from the Gateway knows where to look for the site on the Workstation? Is it the IP address on the <code>HiddenServicePort</code> line?</p>
<aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="12121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Same as in Debian. Unspecific to Whonix.</p>
</blockquote>
</aside>
<p>Got you, thanks! <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/onion-service-setup/12121/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/onion-service-setup/12121/3</link>
        <pubDate>Thu, 19 Aug 2021 18:19:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12121-3</guid>
        <source url="http://forums.whonix.org/t/onion-service-setup/12121.rss">Onion Service setup</source>
      </item>
      <item>
        <title>Onion Service setup</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="pernikar" data-post="1" data-topic="12121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/p/9fc29f/40.png" class="avatar"> pernikar:</div>
<blockquote>
<p>/var/lib/tor/hidden_service/</p>
</blockquote>
</aside>
<p>Tor data folder (onion service key) and server folder (html files…) are totally different.</p>
<p>There is no need to change anything inside folder <code>/var/lib/tor/hidden_service/</code>.</p>
<aside class="quote no-group" data-username="pernikar" data-post="1" data-topic="12121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/p/9fc29f/40.png" class="avatar"> pernikar:</div>
<blockquote>
<p>Also, how can I install mysql to have a database for the website as well?</p>
</blockquote>
</aside>
<p>Same as in Debian. Unspecific to Whonix.</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">

      <a href="https://www.whonix.org/wiki/Unspecific" target="_blank" rel="noopener" title="08:50AM - 09 August 2021">Whonix – 9 Aug 21</a>
  </header>

  <article class="onebox-body">
    <img src="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" class="thumbnail onebox-avatar" width="16" height="16">

<h3><a href="https://www.whonix.org/wiki/Unspecific" target="_blank" rel="noopener">Information Booster might be Available!</a></h3>

  <p>Utilizing other resources to help solve questions/issues unspecific to Whonix ™.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>(Except in a complex setup, load balancing, where the mysql database should run in one VM and the web server in another VM or even a remote server. Let’s hope not since it would be very difficult to find help for that.)</p>
          <p><a href="http://forums.whonix.org/t/onion-service-setup/12121/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/onion-service-setup/12121/2</link>
        <pubDate>Thu, 19 Aug 2021 09:07:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12121-2</guid>
        <source url="http://forums.whonix.org/t/onion-service-setup/12121.rss">Onion Service setup</source>
      </item>
      <item>
        <title>Onion Service setup</title>
        <dc:creator><![CDATA[pernikar]]></dc:creator>
        <description><![CDATA[
            <p>Hi everyone! I’m trying to setup an onion service on Whonix and I’ve just completed this guide (<a href="https://www.whonix.org/wiki/Onion_Services" class="inline-onebox" rel="noopener nofollow ugc">Onion Services - Whonix</a>) and have couple of questions.</p>
<p>Since we only edit the <code>/usr/local/etc/torrc.d/50_user.conf</code> file on the Gateway, but install the web server on the Workstation, how does this line <code>HiddenServiceDir /var/lib/tor/hidden_service/</code> in the Tor configuration does anything, when the website is (presumably) stored in a folder in the Workstation, where the server is?</p>
<p>Also, how can I install mysql to have a database for the website as well?</p>
<p>Thank you! <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/onion-service-setup/12121/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/onion-service-setup/12121/1</link>
        <pubDate>Thu, 19 Aug 2021 03:30:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12121-1</guid>
        <source url="http://forums.whonix.org/t/onion-service-setup/12121.rss">Onion Service setup</source>
      </item>
  </channel>
</rss>
