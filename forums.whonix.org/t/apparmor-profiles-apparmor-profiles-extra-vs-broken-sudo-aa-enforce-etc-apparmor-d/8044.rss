<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</title>
    <link>http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044</link>
    <description>Hope everything is having a great weekend. With that big update that came through the other day I felt it was a good time to do my routine fresh install just to keep things clean. When I applied the &quot;hardened-debian&quot; apparmor profiles I am getting these profiles in complain mode on the workstation: 

16 profiles are in complain mode.
   /usr/bin/irssi
   /usr/sbin/dnsmasq
   /usr/sbin/dnsmasq//libvirt_leaseshelper
   avahi-daemon
   identd
   klogd
   mdnsd
   nmbd
   nscd
   ping
   smbd
   smbldap-useradd
   smbldap-useradd///etc/init.d/nscd
   syslog-ng
   syslogd
   traceroute

Is this a safety issue? Thanks</description>
    <language>en</language>
    <lastBuildDate>Wed, 11 Sep 2019 17:14:35 +0000</lastBuildDate>
    <category>AppArmor</category>
    <atom:link href="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://packages.debian.org/buster/apparmor-profiles" class="onebox" target="_blank" rel="nofollow noopener">https://packages.debian.org/buster/apparmor-profiles</a></p>
<blockquote>
<p>These profiles are not mature enough to be shipped in enforce mode by default on Debian. <strong>They are shipped in complain mode</strong> so that users can test them, choose which are desired, and help improve them upstream if needed.</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/7</link>
        <pubDate>Wed, 11 Sep 2019 17:14:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8044-7</guid>
        <source url="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044.rss">apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</source>
      </item>
      <item>
        <title>apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</title>
        <dc:creator><![CDATA[ThatNewDude]]></dc:creator>
        <description><![CDATA[
            <p>Sorry, my mistake. Thanks!</p>
          <p><a href="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/6</link>
        <pubDate>Tue, 10 Sep 2019 04:51:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8044-6</guid>
        <source url="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044.rss">apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</source>
      </item>
      <item>
        <title>apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</title>
        <dc:creator><![CDATA[Patrick_mobile]]></dc:creator>
        <description><![CDATA[
            <p>Expected.</p>
<p>Open documentation / development issue. As per my above post.</p>
          <p><a href="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/5</link>
        <pubDate>Tue, 10 Sep 2019 04:41:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8044-5</guid>
        <source url="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044.rss">apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</source>
      </item>
      <item>
        <title>apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</title>
        <dc:creator><![CDATA[ThatNewDude]]></dc:creator>
        <description><![CDATA[
            <p>I did originally use the new command of “sudo apt-get install apparmor-profiles apparmor-profiles-extra apparmor-profiles-hardened-debian”. I tried it again this afternoon, just to make sure. I did a new install of 15.0.0.3.3 followed by that new large update. I then did the “hardened-debian” command with the same result of those 16 profiles in complain mode.</p>
          <p><a href="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/4</link>
        <pubDate>Tue, 10 Sep 2019 02:51:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8044-4</guid>
        <source url="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044.rss">apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</source>
      </item>
      <item>
        <title>apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This recent documentation change by anonymous is likely source of confusion:</p>
<ul>
<li><a href="https://www.whonix.org/w/index.php?title=AppArmor&amp;type=revision&amp;diff=50769&amp;oldid=48498" rel="nofollow noopener">https://www.whonix.org/w/index.php?title=AppArmor&amp;type=revision&amp;diff=50769&amp;oldid=48498</a></li>
<li><a href="https://www.whonix.org/wiki/AppArmor#Install_all_AppArmor_Profiles" rel="nofollow noopener">https://www.whonix.org/wiki/AppArmor#Install_all_AppArmor_Profiles</a></li>
</ul>
<p>Also it may not be clear if that page is addressing users of</p>
<ul>
<li>Debian</li>
<li>Kicksecure</li>
<li>Whonix</li>
</ul>
<p>either one or multiple of them?</p>
<aside class="quote no-group" data-post="1" data-topic="8044">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/t/0ea827/40.png" class="avatar"> ThatNewDude:</div>
<blockquote>
<p>/usr/bin/irssi</p>
</blockquote>
</aside>
<pre><code>dpkg -S /etc/apparmor.d/usr.bin.irssi
</code></pre>
<blockquote>
<p>apparmor-profiles-extra: /etc/apparmor.d/usr.bin.irssi</p>
</blockquote>
<p>Is it worth installing</p>
<ul>
<li><a href="https://packages.debian.org/buster/apparmor-profiles" rel="nofollow noopener">https://packages.debian.org/buster/apparmor-profiles</a></li>
<li><a href="https://packages.debian.org/buster/apparmor-profiles-extra" rel="nofollow noopener">https://packages.debian.org/buster/apparmor-profiles-extra</a></li>
</ul>
<p>?</p>
<p>We could add to documentation: set them all to enforce mode. Yeah, but how?</p>
<pre><code>sudo aa-enforce /etc/apparmor.d/*
</code></pre>
<p>Right?</p>
<p>No. Running into a known bug.</p>
<blockquote>
<p>ERROR: Values added to a non-existing variable @{HOMEDIRS}: /rw/home/ in tunables/home.d/live-mode</p>
</blockquote>
<p>A bug that was already reported in Whonix forums and upstream, see:</p>
<aside class="quote" data-post="1" data-topic="8065">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v4/letter/a/ea666f/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/error-values-added-to-a-non-existing-variable-homedirs-rw-home-in-tunables-home-d-live-mode/8065">ERROR: Values added to a non-existing variable @{HOMEDIRS}: /rw/home/ in tunables/home.d/live-mode</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/apparmor"><span class="badge-category-bg" style="background-color: #12A89D;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Discussion of Whonix AppArmor Profiles for better security. (devs)">AppArmor</span></a>
  </div>
  <blockquote>
    sudo aa-enforce /etc/apparmor.d/tor_browser 
ERROR: Values added to a non-existing variable @{HOMEDIRS}: /rw/home/ in tunables/home.d/live-mode 
What to do? 
Do I edit this? 
## Missing in &lt;abstractions/user-download&gt; #######
# Without this line, access is denied to @{HOME},
# [dD]ownload{,s}, Desktop... for downloads.
@{HOME}/ r,
@{HOME}/* r,

When yes, which values?
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/3</link>
        <pubDate>Mon, 09 Sep 2019 13:11:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8044-3</guid>
        <source url="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044.rss">apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</source>
      </item>
      <item>
        <title>apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>If inside the VM then there is a technical small loss of protection as these profiles are no longer enforced.</p>
<p>If on the host then your Libvirt’s DHCP  daemon is no longer confined but that’s of little consequence because we don’t really use it.</p>
          <p><a href="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/2</link>
        <pubDate>Sat, 07 Sep 2019 17:35:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8044-2</guid>
        <source url="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044.rss">apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</source>
      </item>
      <item>
        <title>apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</title>
        <dc:creator><![CDATA[ThatNewDude]]></dc:creator>
        <description><![CDATA[
            <p>Hope everything is having a great weekend. With that big update that came through the other day I felt it was a good time to do my routine fresh install just to keep things clean. When I applied the “hardened-debian” apparmor profiles I am getting these profiles in complain mode on the workstation:</p>
<p>16 profiles are in complain mode.<br>
/usr/bin/irssi<br>
/usr/sbin/dnsmasq<br>
/usr/sbin/dnsmasq//libvirt_leaseshelper<br>
avahi-daemon<br>
identd<br>
klogd<br>
mdnsd<br>
nmbd<br>
nscd<br>
ping<br>
smbd<br>
smbldap-useradd<br>
smbldap-useradd///etc/init.d/nscd<br>
syslog-ng<br>
syslogd<br>
traceroute</p>
<p>Is this a safety issue? Thanks</p>
          <p><a href="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044/1</link>
        <pubDate>Sat, 07 Sep 2019 17:30:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8044-1</guid>
        <source url="http://forums.whonix.org/t/apparmor-profiles-apparmor-profiles-extra-vs-broken-sudo-aa-enforce-etc-apparmor-d/8044.rss">apparmor-profiles / apparmor-profiles-extra vs broken sudo aa-enforce /etc/apparmor.d/*</source>
      </item>
  </channel>
</rss>
