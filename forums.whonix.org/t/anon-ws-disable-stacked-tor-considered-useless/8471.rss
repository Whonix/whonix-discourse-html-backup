<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>anon-ws-disable-stacked-tor considered useless</title>
    <link>http://forums.whonix.org/t/anon-ws-disable-stacked-tor-considered-useless/8471</link>
    <description>I&#39;m especially curious about the thing.
Let&#39;s assume we have a not-Whonix, but Whonix-like configuration where 2 virtual machines have Tor proxy clients installed on both, and there is a Tor Browser in the one of. The browser still can be configured not to use Tor ever and behave just as secure non-anonymous browser, so, therefore, if we don&#39;t want Tor-over-Tor scenario to accuse, we just change the browser proxy settings so they point to only one proxy client. Examples are:

network.proxy.socks;127.0.0.1
network.proxy.socks.port;9150 - to use a proxy client in the same VM.

network.proxy.socks;10.12.34.56
network.proxy.socks.port;9150 - to use a proxy client in the other VM.

Both cases will cause Tor Browser to connect only the one Tor client, thus initiating a normal 3-nodes paths and not giving Tor-over-Tor scenario a chance to appear.

Well, well. So, why the browser is configured to use socket file to understand proxying? That&#39;s just useless. Why just don&#39;t connect it directly to the gateway.ip.address:stream.isolation.port? I don&#39;t ever wonder why such a wild &quot;fix&quot; is in usage. When I run Tor Browser through Burp Suite and that one thing prevents me from doing it while in common Debian Buster attached to Whonix Gateway it plays great only edited to follow the Burp HTTP intercepter before Tor network. It really pisses me off. And yes, I do know anonymous penetration testing talks are restricted on the forum. I don&#39;t try to remain anonymous. I&#39;m dealing with very nasty WAF that makes use of too advanced blocking technologies so I&#39;m not able to enter the site again within the testing environment even after I terminated my browser. It&#39;s important to use a lot of virtual machines which Qubes assists me with, but that Whonix architecture surprise pisses me all off.</description>
    <language>en</language>
    <lastBuildDate>Sat, 09 Nov 2019 11:57:23 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/anon-ws-disable-stacked-tor-considered-useless/8471.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>anon-ws-disable-stacked-tor considered useless</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Reliability, future-proofness and simplicity.</p>
<p>Reliability:<br>
Using settings files to change socks proxy settings is not as reliable as keeping Tor Browser as unmodified as possible.</p>
<p><code>TOR_SOCKS_HOST, TOR_SOCKS_PORT regression</code><br>
<a href="https://trac.torproject.org/projects/tor/ticket/8336" class="onebox" target="_blank">https://trac.torproject.org/projects/tor/ticket/8336</a></p>
<p>Above was the original reason for giving up on modifying Tor Browser settings. Keep modifications of Tor Browser as minimal as possible. Differences are documented here: <a href="https://www.whonix.org/wiki/Tor_Browser#Whonix_.E2.84.A2_Tor_Browser_Differences">https://www.whonix.org/wiki/Tor_Browser#Whonix_.E2.84.A2_Tor_Browser_Differences</a></p>
<p>Some users reported to have lost settings when they upgraded Tor Browser. This then also could break connectivity. Happened in past.</p>
<p>SocksSocket is nowadays Tor Browser default. It is prudent for Whonix to stick with the defaults as much as possible. The smaller the difference, the less likely are any Tor Browser bugs introduced by Whonix.</p>
<p>Tor Browser connectivity was bumpy during the first year of Whonix’s existence but it’s stable for 6 years now. My development experiences of 7 years Whonix maintainance manifesting in various design choices.</p>
<p>future-proofness:<br>
Tor Browser was ported from using TCP to be using SocksSocket. Tor Project once planned to remove TCP support from Tor Browser to make it more leak-proof. (Tor Project has the perspective of a regular host operating system, not Whonix.) Their idea was that Tor Browser should only be able to talk to a unix domain socket file (provided by Tor) with no capability of system default TCP / DNS.</p>
<p>Simplicity:<br>
When Tor Browser changes things, these changes are reported to and blamed on Whonix. Here are some examples:</p>
<ul>
<li>noscript removed from default menubar</li>
<li>the default setting of the security slider being set to default rather than highest</li>
<li>torbutton addon removed (was integrated into Tor Browser core)</li>
<li><a href="https://forums.whonix.org/t/tor-browser-error-perhaps-from-9-0-1-update/8468" class="inline-onebox">Tor Browser Error, perhaps from 9.0.1 update</a></li>
<li><a href="https://forums.whonix.org/t/noscript-with-security-slider-at-safest-permits-around-30-sites/8160" class="inline-onebox">Noscript with Security Slider at Safest permits around 30 sites</a></li>
<li><a href="https://forums.whonix.org/t/torbrowser-8-0-high-cpu-usage-while-idle-in-whonix/5875" class="inline-onebox">TorBrowser 8.0 high cpu usage while idle, in whonix</a></li>
<li><a href="https://forums.whonix.org/t/is-anyone-having-white-bars-in-the-tbb-tor-browser-letterboxing/8345/1" class="inline-onebox">Is anyone having white bars in the TBB? - Tor Browser Letterboxing</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/anon-ws-disable-stacked-tor-considered-useless/8471/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/anon-ws-disable-stacked-tor-considered-useless/8471/2</link>
        <pubDate>Sat, 09 Nov 2019 11:57:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8471-2</guid>
        <source url="http://forums.whonix.org/t/anon-ws-disable-stacked-tor-considered-useless/8471.rss">anon-ws-disable-stacked-tor considered useless</source>
      </item>
      <item>
        <title>anon-ws-disable-stacked-tor considered useless</title>
        <dc:creator><![CDATA[ThePowerOfMazda]]></dc:creator>
        <description><![CDATA[
            <p>I’m especially curious about the thing.<br>
Let’s assume we have a not-Whonix, but Whonix-like configuration where 2 virtual machines have Tor proxy clients installed on both, and there is a Tor Browser in the one of. The browser still can be configured not to use Tor ever and behave just as secure non-anonymous browser, so, therefore, if we don’t want Tor-over-Tor scenario to accuse, we just change the browser proxy settings so they point to only one proxy client. Examples are:</p>
<p>network.proxy.socks;127.0.0.1<br>
network.proxy.socks.port;9150 - to use a proxy client in the same VM.</p>
<p>network.proxy.socks;10.12.34.56<br>
network.proxy.socks.port;9150 - to use a proxy client in the other VM.</p>
<p>Both cases will cause Tor Browser to connect only the one Tor client, thus initiating a normal 3-nodes paths and not giving Tor-over-Tor scenario a chance to appear.</p>
<p>Well, well. So, why the browser is configured to use socket file to understand proxying? That’s just useless. Why just don’t connect it directly to the gateway.ip.address:stream.isolation.port? I don’t ever wonder why such a wild “fix” is in usage. When I run Tor Browser through Burp Suite and that one thing prevents me from doing it while in common Debian Buster attached to Whonix Gateway it plays great only edited to follow the Burp HTTP intercepter before Tor network. It really pisses me off. And yes, I do know anonymous penetration testing talks are restricted on the forum. I don’t try to remain anonymous. I’m dealing with very nasty WAF that makes use of too advanced blocking technologies so I’m not able to enter the site again within the testing environment even after I terminated my browser. It’s important to use a lot of virtual machines which Qubes assists me with, but that Whonix architecture surprise pisses me all off.</p>
          <p><a href="http://forums.whonix.org/t/anon-ws-disable-stacked-tor-considered-useless/8471/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/anon-ws-disable-stacked-tor-considered-useless/8471/1</link>
        <pubDate>Sat, 09 Nov 2019 11:14:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8471-1</guid>
        <source url="http://forums.whonix.org/t/anon-ws-disable-stacked-tor-considered-useless/8471.rss">anon-ws-disable-stacked-tor considered useless</source>
      </item>
  </channel>
</rss>
