<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>anon-ws-disable-stacked-tor considered useless - #2 by Patrick - Support - Whonix Forum</title>
    <meta name="description" content="I’m especially curious about the thing. 
Let’s assume we have a not-Whonix, but Whonix-like configuration where 2 virtual machines have Tor proxy clients installed on both, and there is a Tor Browser in the one of. The b&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../8471.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;anon-ws-disable-stacked-tor considered useless&#39;" href="../8471.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/anon-ws-disable-stacked-tor-considered-useless/8471/2" />
<meta name="twitter:url" content="https://forums.whonix.org/t/anon-ws-disable-stacked-tor-considered-useless/8471/2" />
<meta property="og:title" content="anon-ws-disable-stacked-tor considered useless" />
<meta name="twitter:title" content="anon-ws-disable-stacked-tor considered useless" />
<meta property="og:description" content="Reliability, future-proofness and simplicity.  Reliability:  Using settings files to change socks proxy settings is not as reliable as keeping Tor Browser as unmodified as possible.  TOR_SOCKS_HOST, TOR_SOCKS_PORT regression  https://trac.torproject.org/projects/tor/ticket/8336  Above was the original reason for giving up on modifying Tor Browser settings. Keep modifications of Tor Browser as minimal as possible. Differences are documented here: https://www.whonix.org/wiki/Tor_Browser#Whonix_.E2..." />
<meta name="twitter:description" content="Reliability, future-proofness and simplicity.  Reliability:  Using settings files to change socks proxy settings is not as reliable as keeping Tor Browser as unmodified as possible.  TOR_SOCKS_HOST, TOR_SOCKS_PORT regression  https://trac.torproject.org/projects/tor/ticket/8336  Above was the original reason for giving up on modifying Tor Browser settings. Keep modifications of Tor Browser as minimal as possible. Differences are documented here: https://www.whonix.org/wiki/Tor_Browser#Whonix_.E2..." />
<meta property="article:published_time" content="2019-11-09T11:57:23+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../8471.html">anon-ws-disable-stacked-tor considered useless</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/ThePowerOfMazda'><span itemprop='name'>ThePowerOfMazda</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8471.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-09T11:14:39Z' class='post-time'>
                November 9, 2019, 11:14am
              </time>
              <meta itemprop='dateModified' content='2019-11-09T11:30:19Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I’m especially curious about the thing.<br>
Let’s assume we have a not-Whonix, but Whonix-like configuration where 2 virtual machines have Tor proxy clients installed on both, and there is a Tor Browser in the one of. The browser still can be configured not to use Tor ever and behave just as secure non-anonymous browser, so, therefore, if we don’t want Tor-over-Tor scenario to accuse, we just change the browser proxy settings so they point to only one proxy client. Examples are:</p>
<p>network.proxy.socks;127.0.0.1<br>
network.proxy.socks.port;9150 - to use a proxy client in the same VM.</p>
<p>network.proxy.socks;10.12.34.56<br>
network.proxy.socks.port;9150 - to use a proxy client in the other VM.</p>
<p>Both cases will cause Tor Browser to connect only the one Tor client, thus initiating a normal 3-nodes paths and not giving Tor-over-Tor scenario a chance to appear.</p>
<p>Well, well. So, why the browser is configured to use socket file to understand proxying? That’s just useless. Why just don’t connect it directly to the gateway.ip.address:stream.isolation.port? I don’t ever wonder why such a wild “fix” is in usage. When I run Tor Browser through Burp Suite and that one thing prevents me from doing it while in common Debian Buster attached to Whonix Gateway it plays great only edited to follow the Burp HTTP intercepter before Tor network. It really pisses me off. And yes, I do know anonymous penetration testing talks are restricted on the forum. I don’t try to remain anonymous. I’m dealing with very nasty WAF that makes use of too advanced blocking technologies so I’m not able to enter the site again within the testing environment even after I terminated my browser. It’s important to use a lot of virtual machines which Qubes assists me with, but that Whonix architecture surprise pisses me all off.</p>
        </div>

        <meta itemprop='headline' content='anon-ws-disable-stacked-tor considered useless'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8471.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-09T11:57:23Z' class='post-time'>
                November 9, 2019, 11:57am
              </time>
              <meta itemprop='dateModified' content='2019-11-09T11:57:23Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Reliability, future-proofness and simplicity.</p>
<p>Reliability:<br>
Using settings files to change socks proxy settings is not as reliable as keeping Tor Browser as unmodified as possible.</p>
<p><code>TOR_SOCKS_HOST, TOR_SOCKS_PORT regression</code><br>
<a href="../../../../external.html?link=https://trac.torproject.org/projects/tor/ticket/8336" class="onebox" target="_blank">https://trac.torproject.org/projects/tor/ticket/8336</a></p>
<p>Above was the original reason for giving up on modifying Tor Browser settings. Keep modifications of Tor Browser as minimal as possible. Differences are documented here: <a href="../../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser#Whonix_.E2.84.A2_Tor_Browser_Differences">https://www.whonix.org/wiki/Tor_Browser#Whonix_.E2.84.A2_Tor_Browser_Differences</a></p>
<p>Some users reported to have lost settings when they upgraded Tor Browser. This then also could break connectivity. Happened in past.</p>
<p>SocksSocket is nowadays Tor Browser default. It is prudent for Whonix to stick with the defaults as much as possible. The smaller the difference, the less likely are any Tor Browser bugs introduced by Whonix.</p>
<p>Tor Browser connectivity was bumpy during the first year of Whonix’s existence but it’s stable for 6 years now. My development experiences of 7 years Whonix maintainance manifesting in various design choices.</p>
<p>future-proofness:<br>
Tor Browser was ported from using TCP to be using SocksSocket. Tor Project once planned to remove TCP support from Tor Browser to make it more leak-proof. (Tor Project has the perspective of a regular host operating system, not Whonix.) Their idea was that Tor Browser should only be able to talk to a unix domain socket file (provided by Tor) with no capability of system default TCP / DNS.</p>
<p>Simplicity:<br>
When Tor Browser changes things, these changes are reported to and blamed on Whonix. Here are some examples:</p>
<ul>
<li>noscript removed from default menubar</li>
<li>the default setting of the security slider being set to default rather than highest</li>
<li>torbutton addon removed (was integrated into Tor Browser core)</li>
<li><a href="../../tor-browser-error-perhaps-from-9-0-1-update/8468.html" class="inline-onebox">Tor Browser Error, perhaps from 9.0.1 update</a></li>
<li><a href="../../noscript-with-security-slider-at-safest-permits-around-30-sites/8160.html" class="inline-onebox">Noscript with Security Slider at Safest permits around 30 sites</a></li>
<li><a href="../../torbrowser-8-0-high-cpu-usage-while-idle-in-whonix/5875.html" class="inline-onebox">TorBrowser 8.0 high cpu usage while idle, in whonix</a></li>
<li><a href="../../is-anyone-having-white-bars-in-the-tbb-tor-browser-letterboxing/8345/1.html" class="inline-onebox">Is anyone having white bars in the TBB? - Tor Browser Letterboxing</a></li>
</ul>
        </div>

        <meta itemprop='headline' content='anon-ws-disable-stacked-tor considered useless'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
