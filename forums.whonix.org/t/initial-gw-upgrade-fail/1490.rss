<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Initial GW upgrade fail</title>
    <link>http://forums.whonix.org/t/initial-gw-upgrade-fail/1490</link>
    <description>Hello, 
Clean installation, dom0 up to date, downloaded and installed via dom0. 
TOR proxy works fine. WS upgrades without problems, but WS is stuck at 

[code]Installing new version of config file /etc/xdg/autostart/00-qubes-show-hide-nm-applet.desktop ...
Leaving &#39;diversion of /etc/init/plymouth-shutdown.conf to /etc/init/plymouth-shutdown.conf.qubes-disabled by qubes-core-agent&#39;
Leaving &#39;diversion of /etc/init/prefdm.conf to /etc/init/prefdm.conf.qubes-disabled by qubes-core-agent&#39;
Leaving &#39;diversion of /etc/init/splash-manager.conf to /etc/init/splash-manager.conf.qubes-disabled by qubes-core-agent&#39;
Leaving &#39;diversion of /etc/init/start-ttys.conf to /etc/init/start-ttys.conf.qubes-disabled by qubes-core-agent&#39;
Leaving &#39;diversion of /etc/init/tty.conf to /etc/init/tty.conf.qubes-disabled by qubes-core-agent&#39;
Leaving &#39;diversion of /etc/init/serial.conf to /etc/init/serial.conf.qubes-orig by qubes-core-agent&#39;
Failed connect to local daemon

[/code]

What&#39;s interesting is that WS have the same problem... But after aprox. a minute it gets thru. I left GW for more than an hour to no avail.
Any ideas?

BTW, arent appvms (both gw and ws) persistent by default? I ran dist-upgrade yesterday on ws, it completed but today its installing the same packages?

Cheers</description>
    <language>en</language>
    <lastBuildDate>Sun, 18 Oct 2015 05:29:39 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Initial GW upgrade fail</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <blockquote>so by this statement , why cant we make whonix like a live system (amnesic) when its not TemplateVM and it is persistent when it is TemplateVM?</blockquote>
<blockquote>what i mean is:- making whonix amnesic not necessarily just through CD we can make it inside Qubes OS.</blockquote>
<p>Will be possible in future. Remaining issues are linked here:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Qubes/Disposable_VM" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:200/215;"><img src="https://www.whonix.org/w/images/5/55/Qubes-logo-icon.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Qubes/Disposable_VM" target="_blank" rel="nofollow noopener">Qubes/DisposableVM</a></h3>

<p>How to use DisposableVM with Qubes-Whonix</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<blockquote>i have tried to install things inside whonix-ws (which is not TemplateVM) then shutdown whonix then re-open it again = the program has been deleted</blockquote>
Short: for TemplateBasedVM, to have packages being persistent you need to install them in the TemplateVM.
<p>Please have a look at <a href="https://www.qubes-os.org/en/doc/security-guidelines/#templatebasedvm-directories">https://www.qubes-os.org/en/doc/security-guidelines/#templatebasedvm-directories</a> and perhaps also a bit at <a href="https://www.qubes-os.org/en/doc/template-implementation/">https://www.qubes-os.org/en/doc/template-implementation/</a>.</p>
<blockquote>but what is remaining is the commands in the terminal.</blockquote>
<blockquote>                   ^
if u press   |  on the keyboard inside the terminal , its going to show what u have typed before.</blockquote>
That's called bash history [and stored in your home folder].
          <p><a href="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/9</link>
        <pubDate>Sun, 18 Oct 2015 05:29:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1490-9</guid>
        <source url="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490.rss">Initial GW upgrade fail</source>
      </item>
      <item>
        <title>Initial GW upgrade fail</title>
        <dc:creator><![CDATA[TNT_BOM_BOM]]></dc:creator>
        <description><![CDATA[
            <blockquote>When using non-standalone VMs, you need to update the TemplateVMs</blockquote>
<p>so by this statement , why cant we make whonix like a live system (amnesic) when its not TemplateVM and it is persistent when it is TemplateVM?</p>
<p>i have tried to install things inside whonix-ws (which is not TemplateVM) then shutdown whonix then re-open it again = the program has been deleted but what is remaining is the commands in the terminal.</p>
<pre><code>               ^
</code></pre>
<p>if u press   |  on the keyboard inside the terminal , its going to show what u have typed before.</p>
<p>so maybe it is considered partially amnesic. what i mean is:- making whonix amnesic not necessarily just through CD we can make it inside Qubes OS.</p>
          <p><a href="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/8</link>
        <pubDate>Sun, 18 Oct 2015 01:26:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1490-8</guid>
        <source url="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490.rss">Initial GW upgrade fail</source>
      </item>
      <item>
        <title>Initial GW upgrade fail</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>When using non-standalone VMs, you need to update the TemplateVMs.<br>
Tor Browser needs to be updated in the AppVM unfortunately because it’s (must be) stored in the home directory. Use Tor Browser’s internal updater.</p>
          <p><a href="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/7</link>
        <pubDate>Thu, 15 Oct 2015 12:30:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1490-7</guid>
        <source url="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490.rss">Initial GW upgrade fail</source>
      </item>
      <item>
        <title>Initial GW upgrade fail</title>
        <dc:creator><![CDATA[TNT_BOM_BOM]]></dc:creator>
        <description><![CDATA[
            <p>i think i have figuered out what the issue is and how to solve it;</p>
<p>the new qubes OS version 3 , it has already installed whonix-ws &amp; whonix-gw (both of them r marked with black color or TemplateVM). now if we do the steps in the whonix-qubes installation which have been mentioned inside this wiki:-</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Qubes/Install" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:200/215;"><img src="https://www.whonix.org/w/images/5/55/Qubes-logo-icon.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Qubes/Install" target="_blank" rel="nofollow noopener">Qubes/Install</a></h3>

<p>How to install Qubes-Whonix.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>we r going to have 4 whonixes , 2 GW &amp; 2 WS</p>
<p>the problem that we faced me and supporter is:-</p>
<p>we have run sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade  inside the new whonixes (which they have been created by the installation wiki) but not inside the old or already installed whonixes (which they r installed automatically inside qubes , also they r titled with TemplateVM)</p>
<p>so to solve the issue , we should update&amp;upgrade the packages which r located inside the whonixes which they r makred with TemplateVM (inside qubes VM manager) then we gonna c that the 2 new whonixes (which r installed by the installation wiki) r updated&amp;upgraded already and they doesnt need to do the steps again inside them.</p>
<blockquote>
<blockquote>
<blockquote>
<p>thats how it solved with me.</p>
</blockquote>
</blockquote>
</blockquote>
<p>however, there is one exception which is upgrading the Tor Browser.</p>
<p>we should upgrade the Tor Browser insdie the whonix-ws which is titled with TemplateVM then we go to the new whonix-ws (which is installed by our hands) and we do the same thing.</p>
<p>thats how everything worked with me. hope it helps.</p>
          <p><a href="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/6</link>
        <pubDate>Thu, 15 Oct 2015 10:27:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1490-6</guid>
        <source url="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490.rss">Initial GW upgrade fail</source>
      </item>
      <item>
        <title>Initial GW upgrade fail</title>
        <dc:creator><![CDATA[TNT_BOM_BOM]]></dc:creator>
        <description><![CDATA[
            <blockquote>Do you also have any "Failed connect to local daemon" upgrade issue?</blockquote>
<p>well i dont think i have the sure answer for this , but today there was an update for dom0 and i have done it with no problems.is that what is meant by “local daemon”?</p>
          <p><a href="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/5</link>
        <pubDate>Fri, 09 Oct 2015 21:06:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1490-5</guid>
        <source url="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490.rss">Initial GW upgrade fail</source>
      </item>
      <item>
        <title>Initial GW upgrade fail</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <blockquote>[code]
BTW, arent appvms (both gw and ws) persistent by default? I ran dist-upgrade yesterday on ws, it completed but today its installing the same packages?[/code]
<p>confirmed , im facing that also. (i was about to type this issue)</p>
</blockquote><br>
This is very much to be expected.
<blockquote>[code]Most likely qrexec bug. Does it work after reboot?[/code]
<p>i have rebooted everything = nothing changed.</p>
</blockquote><br>
Do you also have any “Failed connect to local daemon” upgrade issue?
<p>That’s why it’s bad to mix two unrelated issues into one thread.</p>
          <p><a href="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/4</link>
        <pubDate>Thu, 08 Oct 2015 20:55:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1490-4</guid>
        <source url="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490.rss">Initial GW upgrade fail</source>
      </item>
      <item>
        <title>Initial GW upgrade fail</title>
        <dc:creator><![CDATA[TNT_BOM_BOM]]></dc:creator>
        <description><![CDATA[
            <p><code>
BTW, arent appvms (both gw and ws) persistent by default? I ran dist-upgrade yesterday on ws, it completed but today its installing the same packages?</code></p>
<p>confirmed , im facing that also. (i was about to type this issue)</p>
<pre><code class="lang-auto"></code></pre>
<p>i have rebooted everything = nothing changed.</p>
          <p><a href="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/3</link>
        <pubDate>Thu, 08 Oct 2015 20:43:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1490-3</guid>
        <source url="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490.rss">Initial GW upgrade fail</source>
      </item>
      <item>
        <title>Initial GW upgrade fail</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Most likely qrexec bug. Does it work after reboot?</p>
<p>AppVMs:<br>
As per Qubes (not Whonix!) default, only /home and /usr/local are persistent. Upgrade your TemplateVMs to have package upgrades persist.</p>
          <p><a href="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/2</link>
        <pubDate>Thu, 08 Oct 2015 16:22:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1490-2</guid>
        <source url="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490.rss">Initial GW upgrade fail</source>
      </item>
      <item>
        <title>Initial GW upgrade fail</title>
        <dc:creator><![CDATA[supporter]]></dc:creator>
        <description><![CDATA[
            <p>Hello,<br>
Clean installation, dom0 up to date, downloaded and installed via dom0.<br>
TOR proxy works fine. WS upgrades without problems, but WS is stuck at</p>
<p>[code]Installing new version of config file /etc/xdg/autostart/00-qubes-show-hide-nm-applet.desktop …<br>
Leaving 'diversion of /etc/init/plymouth-shutdown.conf to /etc/init/plymouth-shutdown.conf.qubes-disabled by qubes-core-agent’<br>
Leaving 'diversion of /etc/init/prefdm.conf to /etc/init/prefdm.conf.qubes-disabled by qubes-core-agent’<br>
Leaving 'diversion of /etc/init/splash-manager.conf to /etc/init/splash-manager.conf.qubes-disabled by qubes-core-agent’<br>
Leaving 'diversion of /etc/init/start-ttys.conf to /etc/init/start-ttys.conf.qubes-disabled by qubes-core-agent’<br>
Leaving 'diversion of /etc/init/tty.conf to /etc/init/tty.conf.qubes-disabled by qubes-core-agent’<br>
Leaving 'diversion of /etc/init/serial.conf to /etc/init/serial.conf.qubes-orig by qubes-core-agent’<br>
Failed connect to local daemon</p>
<p>[/code]</p>
<p>What’s interesting is that WS have the same problem… But after aprox. a minute it gets thru. I left GW for more than an hour to no avail.<br>
Any ideas?</p>
<p>BTW, arent appvms (both gw and ws) persistent by default? I ran dist-upgrade yesterday on ws, it completed but today its installing the same packages?</p>
<p>Cheers</p>
          <p><a href="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/initial-gw-upgrade-fail/1490/1</link>
        <pubDate>Thu, 08 Oct 2015 16:04:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1490-1</guid>
        <source url="http://forums.whonix.org/t/initial-gw-upgrade-fail/1490.rss">Initial GW upgrade fail</source>
      </item>
  </channel>
</rss>
