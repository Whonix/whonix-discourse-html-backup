<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Problems with File-Sharing between Host and Guest</title>
    <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558</link>
    <description>Hi folks!

Using Debian as host and Whonix with KVM as guest. Did the following steps:

http://kkkkkkkkkk63ava6.onion/wiki/KVM#Shared_Folders

The shared folder is correctly mounted on the guest. If I copy files in the shared folder on host, I am able to open or move it on guest. So far so good. But when I copy files in the shared folder on guest and want to open or copy/move it on the host, I get permission problems. I am not permitted to read/copy/move files out of the shared folder on my host. 

So I am able to transfer files from the host into the guest, but not able to transfer files out of the guest to the host. Would be really great If you could help me.Thank you very much!</description>
    <language>en</language>
    <lastBuildDate>Fri, 05 Apr 2019 17:50:14 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="36" data-topic="3558">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/o/a4c791/40.png" class="avatar"> oifrfs:</div>
<blockquote>
<p>Permission denied” until I type in terminal sudo chmod -R 777 (shared folder path).<br>
So it’s necessary type “sudo chmod -R 777 (shared folder path)” to get permissions on host after each add files or folders process in Workstation system.</p>
</blockquote>
</aside>
<p>Unfortunately this is how it works though hypothetically you can script this.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/37">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/37</link>
        <pubDate>Fri, 05 Apr 2019 17:50:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-37</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[oifrfs]]></dc:creator>
        <description><![CDATA[
            <p>Little update: Mounted folder finally was found in /mnt/ directory but read or edit function on host-system side doesn’t work if copy file/folder to “shared” folder from Workstation.<br>
I get the message “Failed to open directory (Directory Name). Error opening directory (directory patch): Permission denied” until I type in terminal sudo chmod -R 777 (shared folder path).<br>
So it’s necessary type “sudo chmod -R 777 (shared folder path)” to get permissions on host after each add files or folders process in Workstation system.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/36">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/36</link>
        <pubDate>Fri, 05 Apr 2019 17:26:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-36</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="34" data-topic="3558">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/o/a4c791/40.png" class="avatar"> oifrfs:</div>
<blockquote>
<p>Debian testing release</p>
</blockquote>
</aside>
<p>Unfortunately I couldn’t find it reported anywhere. Though Debian testing is expected to not be as stable as stable. The good news is Debian devs [0] are active on the pureOS bug tracker and will help you debug and fix this. Open a ticket and tag “guido” the libvirt maintainer to help.</p>
<p>Please link to your report here so others can track your progress.</p>
<p>[0] <a href="https://tracker.pureos.net/T320" rel="nofollow noopener">https://tracker.pureos.net/T320</a></p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/35">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/35</link>
        <pubDate>Thu, 04 Apr 2019 16:14:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-35</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[oifrfs]]></dc:creator>
        <description><![CDATA[
            <p>Host distro is security focused PureOs ( <a href="http://pureos.net" rel="nofollow noopener">pureos.net</a> ) based on Debian testing release. Apparmor.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/34">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/34</link>
        <pubDate>Thu, 04 Apr 2019 10:14:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-34</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Apparmor or SELinux? Host distro and version?</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/33">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/33</link>
        <pubDate>Wed, 03 Apr 2019 19:29:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-33</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[oifrfs]]></dc:creator>
        <description><![CDATA[
            <p>Hi there, have a problem with sharing folder.<br>
Did everything by the manual <a href="https://www.whonix.org/wiki/KVM#Shared_Folders" rel="nofollow noopener">https://www.whonix.org/wiki/KVM#Shared_Folders</a>  but after Workstation rebooted, sharing folder doesn’t appear.<br>
Any suggestions?</p>
<p>System is newly installed Whonix XFCE.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/32">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/32</link>
        <pubDate>Wed, 03 Apr 2019 14:29:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-32</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Verify if this works for you and I’ll add it to the wiki:</p>
<blockquote>
<p>If you don’t have SELinux enabled everything should work now. If you do (which I recommend), you will need to add a policy for files under your /share folder on your host. SELinux won’t allow you to share this folder until it’s labeled svirt_image_t. Here is how to add this policy on your host using semanage:</p>
<p>root@host# semanage fcontext -a -t svirt_image_t “/share(/.*)?”<br>
root@host# restorecon -vR /share</p>
</blockquote>
<p><a href="http://nts.strzibny.name/how-to-set-up-shared-folders-in-virt-manager/" class="onebox" target="_blank" rel="nofollow noopener">http://nts.strzibny.name/how-to-set-up-shared-folders-in-virt-manager/</a><br>
</p><aside class="onebox stackexchange">
  <header class="source">
      <a href="https://unix.stackexchange.com/questions/60799/selinux-interfering-with-host-guest-file-sharing-using-kvm" target="_blank" rel="nofollow noopener">unix.stackexchange.com</a>
  </header>
  <article class="onebox-body">
      <a href="https://unix.stackexchange.com/users/30024/pete" target="_blank" rel="nofollow noopener">
    <img alt="Pete" src="//forums.whonix.org/uploads/default/original/2X/5/55d1b1d2a50e3f45bf3707382980bc952d08fea3.png" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="https://unix.stackexchange.com/questions/60799/selinux-interfering-with-host-guest-file-sharing-using-kvm" target="_blank" rel="nofollow noopener">SELinux interfering with host/guest file sharing using KVM</a>
</h4>

<div class="tags">
  <strong>fedora, kvm, selinux</strong>
</div>

<div class="date">
  asked by
  
  <a href="https://unix.stackexchange.com/users/30024/pete" target="_blank" rel="nofollow noopener">
    Pete
  </a>
  on <a href="https://unix.stackexchange.com/questions/60799/selinux-interfering-with-host-guest-file-sharing-using-kvm" target="_blank" rel="nofollow noopener">07:29PM - 09 Jan 13 UTC</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/31">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/31</link>
        <pubDate>Sat, 04 Aug 2018 12:56:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-31</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[frederic]]></dc:creator>
        <description><![CDATA[
            <p>I installed V14. Same problem. This time, the drive mounts just fine at startup (no need to mount manually). However, the result is the same. I can access the mount, but I get “permission denied” when trying to <code>ls</code> from a directory created from the host. I did <code>chmod 777</code> on the folder.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/30">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/30</link>
        <pubDate>Sat, 04 Aug 2018 04:13:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-30</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <p>Hi <code>frederic</code></p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="" height="">
      <a href="https://www.whonix.org/wiki/KVM_Testers_Only_Version" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/218;"><img src="//forums.whonix.org/uploads/default/original/2X/8/83f68ccb81ade3a0f794eaf945f02bd10f182e9a.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/KVM_Testers_Only_Version" target="_blank" rel="nofollow noopener">KVM Testers Only Version</a></h3>

<p>Whonix in KVM - Testers Only Version</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/29">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/29</link>
        <pubDate>Thu, 02 Aug 2018 09:24:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-29</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[frederic]]></dc:creator>
        <description><![CDATA[
            <p>I’ve been looking for it. Where is the download link for V14?</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/28">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/28</link>
        <pubDate>Thu, 02 Aug 2018 03:30:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-28</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>hi. This was a bug with Whonix 13. Please try the test version of Whonix 14 which should solve the mounting problem. As for Fedora hosts you also have to cope with SELinux permissions to be able to use your files from the guest. Have you handled this?</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/27">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/27</link>
        <pubDate>Thu, 02 Aug 2018 03:23:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-27</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[frederic]]></dc:creator>
        <description><![CDATA[
            <p>I’m using a Fedora 28 host with the latest version of Whonix 13. As other users described above in this thread, my folder shared fails to mount at startup. When using the suggested workaround: <code>sudo mount -t 9p -o trans=virtio,version=9p2000.L shared /mnt/shared</code>, it mounts but I get <code>permission denied</code> when accessing files copied from the host. I did run <code>chmod 777 -R</code> from the host.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/26">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/26</link>
        <pubDate>Wed, 01 Aug 2018 20:25:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-26</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>I figured it out if anyone out there still cares. The only command you need to make shared files accessible in the host and guest is:</p>
<p>sudo chmod 777 -R  /home/yourusername/shared</p>
<p>The longer command I had originally was wrong. Thanks for reporting this.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/25</link>
        <pubDate>Mon, 03 Jul 2017 13:09:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-25</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[User_1]]></dc:creator>
        <description><![CDATA[
            <p>“u:libvirt” produces the same error as “u:libvirt-qemu”:</p>
<pre><code>setfacl: Option -m: Invalid argument near character 3
</code></pre>
<p>I suspect the issues is the lack of a defined libvirt user in Fedora.</p>
<p>setfacl also accepts groups … ie. g:libvirt, but perhaps that is something different altogether. Are you certain the focus of the command should be the “user” and not the “group”?</p>
<p>To check ownership or permission requests coming from the guest may be tricky, as the rights need to be modified just to add a file to the “shared” folder in Workstation. I understand that SELinux “permissive” mode logs all file requests. The log may offer a positive ID of the requesting user and/or group that holds rank in the guest system.</p>
<p>I will study-up on how to find and read the SELinux logs, and also, whether or not there is need to add a libvirt user to the Fedora host.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/24</link>
        <pubDate>Fri, 07 Apr 2017 06:00:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-24</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>It would be</p>
<p>u:libvirt</p>
<p>But to be completely sure you would check the group that the files transferred from the VM belong to (before chowning or changing permissions on them)</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/23</link>
        <pubDate>Fri, 07 Apr 2017 01:58:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-23</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[User_1]]></dc:creator>
        <description><![CDATA[
            <p>I see three potentially relevant groups:</p>
<ol>
<li>kvm</li>
<li>libvirt</li>
<li>qemu</li>
</ol>
<p>Of these groups, there is only one corresponding “user”: qemu.</p>
<p>How would you suggest revising the command?</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/22</link>
        <pubDate>Thu, 06 Apr 2017 06:09:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-22</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="19" data-topic="3558">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/u/f19dbf/40.png" class="avatar"> User_1:</div>
<blockquote>
<p>For a new install, should the following host modification proceed the “new” command or be eliminated?</p>
</blockquote>
</aside>
<p>This would replace the chown command yes.</p>
<aside class="quote" data-post="20" data-topic="3558">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/u/f19dbf/40.png" class="avatar"> User_1:</div>
<blockquote>
<p>Does this error refer to “u:libvirt-qemu”?? The latter does not automatically appear as a Fedora user as it does in, say, Ubuntu, when KVM virtualization is installed.</p>
</blockquote>
</aside>
<p>Yes that must be why since the “-m” parameter takes a user group name argument. Is there something like the libvirt-qemu group for Fedora instead?</p>
<p>While its a good thing you have something working this command should make it seamless if we succeed in working it out on your distro.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/21</link>
        <pubDate>Wed, 05 Apr 2017 15:33:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-21</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[User_1]]></dc:creator>
        <description><![CDATA[
            <p>Okay, so despite my questions above, I took a stab at your latest (2017-M04-01-1700) suggestion, on a freshly installed Whonix-KVM running on Fedora 25-KDE. The following error is returned:</p>
<pre><code>setfacl: Option -m: Invalid argument near character 3
</code></pre>
<p>Does this error refer to “u:libvirt-qemu”?? The latter does not automatically appear as a Fedora user as it does in, say, Ubuntu, when KVM virtualization is installed.</p>
<p>Based on this fresh install, I should also note that your advice from 2017-M03-21-1811 appears to have had some positive result: the shared folder is now respecting the “read” permission from both the host and guest side; previously that was not even a guaranteed. And, it’s allowing simultaneous write permission from either side, albeit, limiting the write ability on each file to the side (i.e., user) that created the file. Previously, write ability seemed to be strictly limited to which ever side accessed the shared folder first, within the context of a given session. While not ideal, this is definite progress.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/20</link>
        <pubDate>Tue, 04 Apr 2017 06:08:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-20</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[User_1]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for your tenacity.</p>
<p>Just to clarify, one should run this new command after following the recommended <a href="https://www.whonix.org/wiki/KVM#Shared_Folders" rel="nofollow noopener">shared folder set-up instructions</a>?</p>
<p>For a new install, should the following host modification proceed the “new” command or be eliminated?</p>
<pre><code>sudo chown -R yourusername /home/yourusername/shared &amp;&amp; sudo chmod 777 -R /home/yourusername/shared</code></pre>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/19</link>
        <pubDate>Mon, 03 Apr 2017 23:25:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-19</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>OK try this command on the host instead. It should correct the permissions for the shared folder only so your libvirt-qemu process can access it:</p>
<p>sudo setfacl -R -m u:libvirt-qemu:rwx /path-of-the-shared folder</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/18</link>
        <pubDate>Sun, 02 Apr 2017 00:00:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-18</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[User_1]]></dc:creator>
        <description><![CDATA[
            <p>The enhanced permissions also do not facilitate two-way writing in the shared folder.</p>
<p>Indeed, I have been looking at SELinux and I’m already feeling the pains.</p>
<p>I should also note the the above noted boot failure is relieved by moving the shared folder out of /home. I relocated it to /srv (<a href="https://forums.whonix.org/t/disable-selinux-for-kvm-share-folder/1927">disable-selinux-for-kvm-share-folder</a>) and the boot failure resolves. Just for the hell of it I reverted again to /home and it fails again.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/17</link>
        <pubDate>Thu, 23 Mar 2017 06:19:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-17</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for the heads up. I have to adjust instructions.</p>
<p>With Fedora you have SELinux permissions to sort out which are another source of endless headaches.</p>
<p>Try this and I’ll document it if it works:</p>
<p>sudo chmod -R a+rwX /home/yourusername/shared &amp;&amp; sudo chmod 777 -R /home/yourusername/shared</p>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="https://unix.stackexchange.com/questions/101073/how-to-change-permissions-from-root-user-to-all-users/101085#101085" target="_blank" rel="nofollow noopener">unix.stackexchange.com</a>
  </header>
  <article class="onebox-body">
      <a href="https://unix.stackexchange.com/users/26909/joseph-r" target="_blank" rel="nofollow noopener">
    <img alt="Joseph R." src="https://i.stack.imgur.com/5yIFS.jpg?s=128&amp;g=1" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="https://unix.stackexchange.com/questions/101073/how-to-change-permissions-from-root-user-to-all-users/101085#101085" target="_blank" rel="nofollow noopener">How to change permissions from root user to all users?</a>
</h4>

<div class="tags">
  <strong>linux, shell, permissions, terminal</strong>
</div>

<div class="date">
  
  answered by
  <a href="https://unix.stackexchange.com/users/26909/joseph-r" target="_blank" rel="nofollow noopener">
    Joseph R.
  </a>
  on <a href="https://unix.stackexchange.com/questions/101073/how-to-change-permissions-from-root-user-to-all-users/101085#101085" target="_blank" rel="nofollow noopener">08:31PM - 13 Nov 13</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/16</link>
        <pubDate>Wed, 22 Mar 2017 01:11:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-16</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[User_1]]></dc:creator>
        <description><![CDATA[
            <p>OKay, so my comment above refers to a test that I ran installing Whonix on KVM in Debian – after your suggestion about switching distros.</p>
<p>I did a fresh test today installing KVM and Whonix on a new Fedora 25 install and Workstation completely fails to boot, giving the following error:</p>
<blockquote>
<p>Error starting domain: internal error: process exited while connecting to monitor: 2017-03-21T06:30:18.197966Z qemu-system-x86_64: -device virtio-9p-pci,id=fs0,fsdev=fsdev-fs0,mount_tag=shared,bus=pci.0,addr=0x9: 9pfs Failed to initialize fs-driver with id:fsdev-fs0 and export path:/home/u1/shared</p>
</blockquote>
<blockquote>
<p>Traceback (most recent call last):<br>
File “/usr/share/virt-manager/virtManager/asyncjob.py”, line 88, in cb_wrapper<br>
callback(asyncjob, *args, **kwargs)<br>
File “/usr/share/virt-manager/virtManager/asyncjob.py”, line 124, in tmpcb<br>
callback(*args, **kwargs)<br>
File “/usr/share/virt-manager/virtManager/libvirtobject.py”, line 83, in newfn<br>
ret = fn(self, *args, **kwargs)<br>
File “/usr/share/virt-manager/virtManager/domain.py”, line 1479, in startup<br>
self._backend.create()<br>
File “/usr/lib64/python2.7/site-packages/libvirt.py”, line 1035, in create<br>
if ret == -1: raise libvirtError (‘virDomainCreate() failed’, dom=self)<br>
libvirtError: internal error: process exited while connecting to monitor: 2017-03-21T06:30:18.197966Z qemu-system-x86_64: -device virtio-9p-pci,id=fs0,fsdev=fsdev-fs0,mount_tag=shared,bus=pci.0,addr=0x9: 9pfs Failed to initialize fs-driver with id:fsdev-fs0 and export path:/home/u1/shared</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/15</link>
        <pubDate>Tue, 21 Mar 2017 06:41:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-15</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[User_1]]></dc:creator>
        <description><![CDATA[
            <p>Thanks. KVM now mounts shared folders in the boot up and the folders now appear in the guest.</p>
<p>I note that the instructions for configuring the shared folder have now been revised on the Whonix KVM web page. In that regard, the instruction below to configure ownership via the host would seem to make it impossible to have write access to the shared folder and its content. In fact, this is indeed the case, write permission is  denied via the guest.</p>
<p>“<code>sudo chown -R yourusername /home/yourusername/shared &amp;&amp; sudo chmod 777 -R /home/yourusername/shared</code>”</p>
<p>Can you recommend an ownership configuration that would permit two-way traffic in the shared folder?</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/14</link>
        <pubDate>Sat, 18 Mar 2017 07:03:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-14</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
      <item>
        <title>Problems with File-Sharing between Host and Guest</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>kdesudo kwrite /lib/systemd/system/mnt-shared-kvm.service</p>
<p>Replace the contents with:<br>
<a href="https://raw.githubusercontent.com/Whonix/shared-folder-help/master/lib/systemd/system/mnt-shared-kvm.service" class="onebox" target="_blank">https://raw.githubusercontent.com/Whonix/shared-folder-help/master/lib/systemd/system/mnt-shared-kvm.service</a></p>
<p>Save and restart.</p>
<hr>
<p>Whonix 14 release will take a while since it depends Stretch stabilizing.</p>
          <p><a href="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558/13</link>
        <pubDate>Wed, 15 Mar 2017 17:04:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3558-13</guid>
        <source url="http://forums.whonix.org/t/problems-with-file-sharing-between-host-and-guest/3558.rss">Problems with File-Sharing between Host and Guest</source>
      </item>
  </channel>
</rss>
