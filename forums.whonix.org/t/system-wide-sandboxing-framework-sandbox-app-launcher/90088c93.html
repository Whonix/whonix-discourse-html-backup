<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>System-wide sandboxing framework - sandbox-app-launcher - Development - Whonix Forum</title>
    <meta name="description" content="We’re currently working on a full system apparmor policy to confine all userspace processes but this has 2 issues: 


It doesn’t use more restrictive profiles for user applications. A PDF viewer shouldn’t have the same p&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="90088c93.html?page=13" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;System-wide sandboxing framework - sandbox-app-launcher&#39;" href="9008.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/system-wide-sandboxing-framework-sandbox-app-launcher/9008?page=13" />
<meta name="twitter:url" content="https://forums.whonix.org/t/system-wide-sandboxing-framework-sandbox-app-launcher/9008?page=13" />
<meta property="og:title" content="System-wide sandboxing framework - sandbox-app-launcher" />
<meta name="twitter:title" content="System-wide sandboxing framework - sandbox-app-launcher" />
<meta property="og:description" content="Unrelated to the current topic but gVisor would be a good idea to further strengthen the sandbox in the far future.  https://gvisor.dev/" />
<meta name="twitter:description" content="Unrelated to the current topic but gVisor would be a good idea to further strengthen the sandbox in the far future.  https://gvisor.dev/" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="84 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="347 ❤" />
<meta property="article:published_time" content="2020-11-01T02:19:55+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="9008ce37.html?page=12">
        <link rel="next" href="9008a7f1.html?page=14">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="9008.html">System-wide sandboxing framework - sandbox-app-launcher</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/component_security.html' class='discourse-tag' rel="tag">component_security</a>, 
            <a href='../../tag/status_open_issue_todo.html' class='discourse-tag' rel="tag">status_open_issue_todo</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-01T02:19:55Z' class='post-time'>
                November 1, 2020,  2:19am
              </time>
              <meta itemprop='dateModified' content='2020-11-01T02:19:55Z'>
          <span itemprop='position'>#241</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Unrelated to the current topic but gVisor would be a good idea to further strengthen the sandbox in the far future.</p>
<p><a href="../../../external.html?link=https://gvisor.dev/" class="onebox" target="_blank" rel="nofollow noopener">https://gvisor.dev/</a></p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://github.com/google/gvisor" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/388;"><img src="../../../external.html?link=https://repository-images.githubusercontent.com/131212638/d7841f80-6864-11ea-9f75-0b8613326c2b" class="thumbnail" width="690" height="388"></div>

<h3><a href="../../../external.html?link=https://github.com/google/gvisor" target="_blank" rel="nofollow noopener">google/gvisor</a></h3>

<p>Application Kernel for Containers. Contribute to google/gvisor development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox wikipedia">
  <header class="source">
      <a href="../../../external.html?link=https://en.wikipedia.org/wiki/GVisor" target="_blank" rel="nofollow noopener">en.wikipedia.org</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:220/75;"><img src="../../../external.html?link=http://upload.wikimedia.org/wikipedia/commons/thumb/d/d8/Gvisor-logo.png/220px-Gvisor-logo.png" class="thumbnail" width="220" height="75"></div>

<h3><a href="../../../external.html?link=https://en.wikipedia.org/wiki/GVisor" target="_blank" rel="nofollow noopener">gVisor</a></h3>

<p>
gVisor is a container sandbox developed by Google that focuses on security, efficiency and ease of use released on May 2018. gVisor implements around 200 of the Linux system calls in userspace, for additional security compared to Docker containers that run directly on top of the Linux kernel and are isolated with namespaces. Contrary to the Linux kernel the project is written in the memory-safe programming language Go to prevent common pitfalls which frequently occur with software wr gVisor is b...</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>
          <meta itemprop='keywords' content='component_security, status_open_issue_todo'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/FrozenCat'><span itemprop='name'>FrozenCat</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-01T02:21:46Z' class='post-time'>
                November 1, 2020,  2:21am
              </time>
              <meta itemprop='dateModified' content='2020-11-01T02:21:46Z'>
          <span itemprop='position'>#242</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I will look into ways to restrict user namespace to root.</p>
<p>I don’t know any other place where I can really talk about my small project, so I talk here.</p>
<p>What do you recommend for compiling seccomp bpf for bubblewrap? Should I just create a binding to libseccomp and create a wrapper around bubblewrap and libseccomp?</p>
<p>I’m currently playing with the idea of creating a cryptocurrency signing device out of a single board computer with a USB OTG port that gets power from USB and also serves as an ethernet port.</p>
<p>Basically, single board computer’s USB OTG port &lt;–SSH–&gt; desktop computer or laptop</p>
<p>I send unsigned transaction over ssh to single board computer, sign unsigned transaction on single board computer in ssh session, and send signed transaction back via SSH.</p>
<p>In order to prevent private keys and public keys from leaking over SSH or USB ethernet, I may use AppArmor, setuid bubblewrap, and nftables.</p>
<ul>
<li>nftables makes sure that the USB ethernet connection is not routed to the internet and is strictly between the single board computer and the machine on the other side of USB cable.</li>
<li>AppArmor and bubblewrap make it so that only cryptocurrency wallet softwares have access to cryptocurrency wallets on an encrypted file system and only openssh has access to USB ethernet.</li>
</ul>
<p>A cold signing device is simple, low tech, easy, and far securer, but I want to at least play with my above idea. What do you think of security of my single board computer cryptocurrency signing device?</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-01T02:33:19Z' class='post-time'>
                November 1, 2020,  2:33am
              </time>
              <meta itemprop='dateModified' content='2020-11-01T02:33:19Z'>
          <span itemprop='position'>#243</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="FrozenCat" data-post="242" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/f/90db22/40.png" class="avatar"> FrozenCat:</div>
<blockquote>
<p>I don’t know any other place where I can really talk about my small project, so I talk here.</p>
</blockquote>
</aside>
<p>You should create your own thread in the general section of the forum.</p>
<aside class="quote no-group" data-username="FrozenCat" data-post="242" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/f/90db22/40.png" class="avatar"> FrozenCat:</div>
<blockquote>
<p>What do you recommend for compiling seccomp bpf for bubblewrap?</p>
</blockquote>
</aside>
<p>We have a shell script to automatically generate complete seccomp filters from simple rules that you can use: <a href="../../../external.html?link=https://github.com/Whonix/sandbox-app-launcher/blob/master/usr/share/sandbox-app-launcher/autogen-seccomp" rel="nofollow noopener">https://github.com/Whonix/sandbox-app-launcher/blob/master/usr/share/sandbox-app-launcher/autogen-seccomp</a></p>
<p>You can see the whitelist we use here: <a href="../../../external.html?link=https://github.com/Whonix/sandbox-app-launcher/blob/master/usr/share/sandbox-app-launcher/seccomp-whitelist" rel="nofollow noopener">https://github.com/Whonix/sandbox-app-launcher/blob/master/usr/share/sandbox-app-launcher/seccomp-whitelist</a></p>
<p>It will spit out the source code so you can pipe it to a file and compile it: <a href="../../../external.html?link=https://github.com/Whonix/sandbox-app-launcher/blob/e8291d6884c2bf4c022b01f0056ffdf0b639e629/usr/bin/sandbox-app-launcher#L123-L130" rel="nofollow noopener">https://github.com/Whonix/sandbox-app-launcher/blob/e8291d6884c2bf4c022b01f0056ffdf0b639e629/usr/bin/sandbox-app-launcher#L123-L130</a></p>
<p>We used to just keep the raw source code but it can be hard to maintain / review. <a href="../../../external.html?link=https://github.com/Whonix/sandbox-app-launcher/blob/589d5ccd3496483255c43985db0bbe4d15f21d58/usr/share/sandbox-app-launcher/seccomp.c" rel="nofollow noopener">https://github.com/Whonix/sandbox-app-launcher/blob/589d5ccd3496483255c43985db0bbe4d15f21d58/usr/share/sandbox-app-launcher/seccomp.c</a> (outdated version)</p>
<aside class="quote no-group" data-username="FrozenCat" data-post="242" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/f/90db22/40.png" class="avatar"> FrozenCat:</div>
<blockquote>
<p>What do you think of security of my single board computer cryptocurrency signing device?</p>
</blockquote>
</aside>
<p>I can’t really say. Crypto isn’t my forte.</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/FrozenCat'><span itemprop='name'>FrozenCat</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-01T03:34:53Z' class='post-time'>
                November 1, 2020,  3:34am
              </time>
              <meta itemprop='dateModified' content='2020-11-01T03:34:53Z'>
          <span itemprop='position'>#244</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="madaidan" data-post="243" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>You should create your own thread in the general section of the forum.</p>
</blockquote>
</aside>
<p>General section is locked. I better look for somewhere else.</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/FrozenCat'><span itemprop='name'>FrozenCat</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-01T06:06:59Z' class='post-time'>
                November 1, 2020,  6:06am
              </time>
              <meta itemprop='dateModified' content='2020-11-01T06:06:59Z'>
          <span itemprop='position'>#245</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I can see that you created a sandbox framework around bubblewrap and libseccomp.<br>
One problem with your sandbox framework is that it’s not designed to be re-useable outside whonix.</p>
<p>I may create</p>
<ul>
<li>A thin wrapper around libseccomp in a scripting language.</li>
<li>Perhaps, a general-purpose sandbox framework in the future?</li>
</ul>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-01T13:05:27Z' class='post-time'>
                November 1, 2020,  1:05pm
              </time>
              <meta itemprop='dateModified' content='2020-11-01T13:05:27Z'>
          <span itemprop='position'>#246</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="FrozenCat" data-post="245" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/f/90db22/40.png" class="avatar"> FrozenCat:</div>
<blockquote>
<p>One problem with your sandbox framework is that it’s not designed to be re-useable outside whonix.</p>
</blockquote>
</aside>
<p>Why do you think that?<br>
I think a lot people assume many things are Whonix-only even though these have been designed with compatibility in mind. And certainly no artificial restrictions on purpose. At very least since Whonix is based on Debian, it’s actually hard and rare to add corner cases which make it Whonix-only.</p>
<p><a href="../../../external.html?link=https://www.whonix.org/wiki/Why_Whonix_is_Freedom_Software#no_intentional_user_freedom_restrictions">https://www.whonix.org/wiki/Why_Whonix_is_Freedom_Software#no_intentional_user_freedom_restrictions</a></p>
<p>But what can we do? Invent a new identity for every component invented within Whonix community?</p>
<p>Put it in <code>github.com/Sandbox-App-Launcher-Project/sandbox-app-launcher</code>?</p>
<aside class="quote no-group" data-username="madaidan" data-post="228" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>and sandbox-app-launcher isn’t just for Debian/X11 systems).</p>
</blockquote>
</aside>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-01T13:36:53Z' class='post-time'>
                November 1, 2020,  1:36pm
              </time>
              <meta itemprop='dateModified' content='2020-11-01T13:36:53Z'>
          <span itemprop='position'>#247</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="madaidan" data-post="228" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>The entire script does not need to be run as root. I think it would be best to split up the <code>setup()</code> and <code>run_program()</code> functions into different command line arguments. So the user would have to run:</p>
<pre><code class="lang-auto">sudo sandbox-app-launcher setup app
sandbox-app-launcher run app
</code></pre>
</blockquote>
</aside>
<p>Very good.<br>
How about a wrapper that allows to run <code>sal program-name</code>? As a short wrapper. To avoid having to type a lot and to be able to drop the <code>run</code> parameter.</p>
<aside class="quote no-group" data-username="madaidan" data-post="228" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>We could add sudoers exceptions only for switching to the sandbox users and not the entire script.</p>
</blockquote>
</aside>
<p>Sounds great!</p>
<aside class="quote no-group" data-username="madaidan" data-post="240" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Would <code>/etc/sudoers.d/sandbox-app-launcher</code> with the contents:</p>
<pre><code class="lang-auto">user ALL=NOPASSWD: /usr/bin/sudo -H -u sandbox-*
</code></pre>
<p>suffice?</p>
</blockquote>
</aside>
<p>Didn’t test but looks good in principle.</p>
<p>To be more generic, less Whonix / Kicksecure specific…<br>
Could be improved by allowing only the linux user group of <code>sandboxers</code> doing that. Therefore <code>user</code> could be replaced with <code>%sandboxers</code>.<br>
(Then I would add linux user <code>user</code> by default to group <code>sandboxers</code>.)</p>
<aside class="quote no-group" data-username="madaidan" data-post="240" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>It would require using <code>sudo sudo -H -u sandbox-example</code> but I’m not aware of a better alternative.</p>
</blockquote>
</aside>
<p>That is OK too. To avoid typing a long and complicated line, another wrapper could be added?</p>
<aside class="quote no-group" data-username="madaidan" data-post="240" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>We can’t allow all users to do this because having e.g. a compromised <code>sdwdate</code> user being able to access app data isn’t good.</p>
</blockquote>
</aside>
<p>Makes sense. Please add as a comment in the source code somewhere.</p>
<aside class="quote no-group" data-username="madaidan" data-post="240" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Also, <code>sandbox-example</code> may be too generic. Should we change the prefix to <code>sandbox-app-launcher-example</code> ?</p>
</blockquote>
</aside>
<p>Good question. Not sure. Maximum length for linux user account names is what?<br>
The latter is quite long. Perhaps better an acronym such as <code>sal</code>?<br>
By looking at /etc/groups and /etc/passwd examples I guess we shouldn’t use a too long name.</p>
<aside class="quote no-group" data-username="madaidan" data-post="231" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p><a href="../../../external.html?link=https://github.com/Whonix/sandbox-app-launcher/pull/46">Various improvements</a></p>
</blockquote>
</aside>
<blockquote>
<ul>
<li>Sets <code>wrapper_script</code> at the top of the file like every other variable</li>
</ul>
</blockquote>
<p>This is cool. I wanted this too. Did that previously too. But by doing that I actually introduced a bug. Therefore set <code>wrapper_script</code> further below. Added an inline comment:</p>
<p><a href="../../../external.html?link=https://github.com/Whonix/sandbox-app-launcher/pull/46/files#r515621359">https://github.com/Whonix/sandbox-app-launcher/pull/46/files#r515621359</a></p>
<p>Could you please have a look and check this works as intended?</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-01T18:06:27Z' class='post-time'>
                November 1, 2020,  6:06pm
              </time>
              <meta itemprop='dateModified' content='2020-11-01T18:06:27Z'>
          <span itemprop='position'>#248</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="247" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>How about a wrapper that allows to run <code>sal program-name</code> ? As a short wrapper. To avoid having to type a lot and to be able to drop the <code>run</code> parameter.</p>
</blockquote>
</aside>
<p>That would be a good idea.</p>
<aside class="quote no-group" data-username="Patrick" data-post="247" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>To avoid typing a long and complicated line, another wrapper could be added?</p>
</blockquote>
</aside>
<p>This will usually only be used internally by the script - not by the user. A wrapper wouldn’t be needed.</p>
<aside class="quote no-group" data-username="Patrick" data-post="247" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Maximum length for linux user account names is what?<br>
The latter is quite long. Perhaps better an acronym such as <code>sal</code> ?</p>
</blockquote>
</aside>
<p><a href="../../../external.html?link=https://linux.die.net/man/8/useradd" class="onebox" target="_blank" rel="nofollow noopener">https://linux.die.net/man/8/useradd</a></p>
<blockquote>
<p>Usernames may only be up to 32 characters long.</p>
</blockquote>
<p>That would definitely be an issue. <code>sal</code> is much better.</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-01T18:19:35Z' class='post-time'>
                November 1, 2020,  6:19pm
              </time>
              <meta itemprop='dateModified' content='2020-11-01T18:37:17Z'>
          <span itemprop='position'>#249</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Actually, having the name of the application as part of the user name might be an issue too. Long file names would break it. E.g. <code>monero-blockchain-mark-spent-outputs</code> (random file I found in <code>/usr/bin</code>, not necessarily important) would exceed the limit by far.</p>
<p>Instead, we could give them totally unrelated user names e.g. <code>sal1</code>, <code>sal2</code>, <code>sal3</code>, etc. The only way this could exceed the limit is if the user has used sandbox-app-launcher for an exorbitant amount of programs.</p>
<p>Or this issue could be deemed too niche to be acted on and we could keep the user names we currently have.</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-01T18:36:08Z' class='post-time'>
                November 1, 2020,  6:36pm
              </time>
              <meta itemprop='dateModified' content='2020-11-01T18:36:08Z'>
          <span itemprop='position'>#250</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Should sandbox-app-launcher have multi-user support? Someone asked for this a while ago: <a href="../../../external.html?link=https://github.com/madaidan/sandbox-app-launcher/issues/7" rel="nofollow noopener">https://github.com/madaidan/sandbox-app-launcher/issues/7</a></p>
<p>The sudoers exceptions would complicate this more too.</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-02T08:38:04Z' class='post-time'>
                November 2, 2020,  8:38am
              </time>
              <meta itemprop='dateModified' content='2020-11-02T08:38:04Z'>
          <span itemprop='position'>#252</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="madaidan" data-post="249" data-topic="9008" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Actually, having the name of the application as part of the user name might be an issue too. Long file names would break it. E.g. <code>monero-blockchain-mark-spent-outputs</code> (random file I found in <code>/usr/bin</code> , not necessarily important) would exceed the limit by far.</p>
<p>Instead, we could give them totally unrelated user names e.g. <code>sal1</code> , <code>sal2</code> , <code>sal3</code> , etc. The only way this could exceed the limit is if the user has used sandbox-app-launcher for an exorbitant amount of programs.</p>
<p>Or this issue could be deemed too niche to be acted on and we could keep the user names we currently have.</p>
</blockquote>
</aside>
<p>For now we have a somewhat beautiful application home folder (<code>app_homedir</code>):<br>
<code>/home/sandbox-app-launcher-appdata/${app_name}</code></p>
<p>app_user is also nice: <code>app_user="sandbox-${app_name}"</code>.</p>
<p>Thereby we have reproducible/deterministic/predictable application home folder and application user names. <code>app_homedir</code> and <code>app_user</code> are also connected through <code>adduser --home "${app_homedir}"</code>. When manually examining <code>/home/sandbox-app-launcher-appdata</code> or <code>sudo ps aux</code> things look very clean and self-explanatory.</p>
<p>By using random hashes or an increasing number (<code>sal1</code>, <code>sal2</code>, …) we would introduce some issues.</p>
<p>When restoring backups the mapping of <code>app_homedir</code> and <code>app_user</code> might break. In Non-Qubes-Whonix imagine sandbox-app-launcher being run (perhaps auto-run by pre-wrapped applications) before restoring any backups or in Qubes(-Whonix) TemplateBased AppVMs <code>app_homedir</code> persists while <code>app_user</code> needs to be re-created at every reboot.</p>
<p>It makes it also harder to manually run under such a user account (such as development / debugging) since it would no longer be clear from the user name alone to which application it is referring.</p>
<p>As a simple solution for now sandbox-app-launcher setup could:</p>
<ul>
<li>Use shorter prefixes, i.e. <code>sal-</code>.</li>
<li>Check after setting the <code>app_user</code> if the <code>app_user</code> variable is too long, echo error to stderr and exit non-zero.</li>
</ul>
<p>To handle very long user names, perhaps that could be handled through config, command line parameter and/or environment variables?</p>
<p><code>monero-blockchain-mark-spent-outputs</code> is actually an interesting case because while the binary is a different one, one would like to run all of the following:</p>
<ul>
<li><code>monero-wallet-gui</code></li>
<li><code>monero-wallet-cli</code></li>
<li>
<code>monero-blockchain-mark-spent-outputs</code>,</li>
<li>other <code>monero-...</code> tools</li>
</ul>
<p>probably all under the same <code>sal-monero</code> user account (<code>app_user</code>) and app home folder <code>/home/sandbox-app-launcher-appdata/monero</code> (<code>app_homedir</code>).</p>
<p>Handing these two special cases (very long application names; running applications with different names under same <code>app_user</code> / <code>app_homedir</code>) seems low priority to me, could be done later as future work or patches welcome.</p>
<aside class="quote no-group" data-username="madaidan" data-post="250" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Should sandbox-app-launcher have multi-user support?</p>
</blockquote>
</aside>
<p>For me, since I will use this primarily with Whonix and Kicksecure, this would be nice to have / low priority / patches welcome. Good feature though if you’d like Debian, Ubuntu and other users use it too standalone.</p>
<p>Perhaps at least one thing should be implemented soonish for multi-user support? <code>appdata_dir="/home/sandbox-app-launcher-appdata"</code> is bad for that.</p>
<p>There was a reason for not using <code>/home/</code>user<code>/sandbox-app-launcher-appdata</code>. Could you add a script comment please?</p>
<p>How about</p>
<ul>
<li><code>appdata_dir="/home/sandbox-app-launcher-appdata/user"</code></li>
<li><code>appdata_dir="/home/sandbox-app-launcher-appdata/another-user"</code></li>
<li>…</li>
</ul>
<p>That would make future multi-user support easier? (Wondering what else would be missing after implementing the following…)</p>
<p>In case someone wondering… How would the script know under which <code>/user/</code> it should create <code>appdata_dir</code>?</p>
<ul>
<li>
<code>sandbox-app-launcher setup</code> could demand to be run under <code>sudo</code>, i.e. <code>sudo sandbox-app-launcher setup</code>.</li>
<li>
<code>sandbox-app-launcher setup</code> could refuse to directly run as user <code>root</code> (because then it doesn’t know for who user to setup).</li>
<li>The <code>SUDO_USER</code> environment variable could be tested for this purpose. Ie. <code>appdata_dir="/home/sandbox-app-launcher-appdata/${detected_user_name}"</code>
</li>
<li>If <code>sandbox-app-launcher setup</code> is run and environment variable <code>SUDO_USER = ""</code>, abort running (not running under <code>sudo</code>).</li>
<li>When <code>sandbox-app-launcher run</code> is run under <code>sudo</code>, exit error.</li>
<li>When <code>sandbox-app-launcher run</code> is run as user <code>root</code>, exit error.</li>
<li>When <code>sandbox-app-launcher run</code> is run, set <code>detected_user_name</code> to always existing environment variable <code>USER</code>. (Environment variable <code>USER</code> might be prone to manipulation by unprivileged user but that should be OK due to linux user access rights?)</li>
<li>When <code>sudo sandbox-app-launcher setup</code> is run, set <code>detected_user_name</code> to environment variable <code>SUDO_USER</code>.</li>
</ul>
<p>How does that sound?</p>
<aside class="quote no-group" data-username="madaidan" data-post="250" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>The sudoers exceptions would complicate this more too.</p>
</blockquote>
</aside>
<p>For non-Whonix / non-Kicksecure…<br>
The sudoers exception(s) can use group <code>%sandboxers</code>. It would need to be documented in installation instructions and the postinst script could point out that no user is a member of the <code>sandboxers</code> group yet as a usability feature (with hint how to add or link to documentation).</p>
<p>I don’t see any disadvantage of using group <code>%sandboxers</code> instead of hardcoded user name <code>user</code>. Plain Debian mostly does not use username <code>user</code> anyhow. Similar issues often arise for Linux distributions without pre-configured user name with the need for the user to add oneself to <code>audio</code>, <code>lpadmin</code>, <code>scanner</code>, <code>plugdev</code>, <code>audio</code>, <code>sudo</code>, <code>vboxusers</code> among <a href="../../../external.html?link=https://wiki.debian.org/SystemGroups">other examples</a>. A major usability issue, complication for single user systems, which are most popular nowadays. But this isn’t a new disadvantage and I don’t see any solution for other than what I already described.</p>
<p>(Btw <code>%sandboxers</code>, not <code>%sandbox</code> since group <code>%sandbox</code> could be something else perhaps in future. Maybe all <code>app_user</code> would be useful to all be in group <code>sandbox</code> but that would be something to carefully think thought.)</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/FrozenCat'><span itemprop='name'>FrozenCat</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-02T13:28:01Z' class='post-time'>
                November 2, 2020,  1:28pm
              </time>
              <meta itemprop='dateModified' content='2020-11-02T13:38:02Z'>
          <span itemprop='position'>#253</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Let’s say I sandboxed <a href="../../../external.html?link=https://swaywm.org/" rel="nofollow noopener">https://swaywm.org/</a></p>
<p>To send notifications to a sway session, you need to know $DBUS_SESSION_BUS_ADDRESS.<br>
How can I send a notification from a user cronjob to a sway session?<br>
For now, I extract $DBUS_SESSION_BUS_ADDRESS from <code>/proc/sway's_pid/environ</code>.</p>
<p>Perhaps, should I create a user cronjob for sandbox-username-sway user?<br>
When you sandbox every application in its own home directory, IPC can become really difficult.</p>
<p>What about communicating with sandboxed pulseaudio?</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-02T19:49:25Z' class='post-time'>
                November 2, 2020,  7:49pm
              </time>
              <meta itemprop='dateModified' content='2020-11-02T19:49:25Z'>
          <span itemprop='position'>#254</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="252" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>By using random hashes or an increasing number ( <code>sal1</code> , <code>sal2</code> , …) we would introduce some issues.</p>
</blockquote>
</aside>
<p>We could keep the home directory names the same - home directories don’t have to be named the same as the user. We could also have a “translator” for the user names. E.g. <code>/etc/sandbox-app-launcher/users</code> with the contents:</p>
<pre><code class="lang-auto">sal1 torbrowser
sal2 hexchat
sal3 xpdf
...
</code></pre>
<aside class="quote no-group" data-username="Patrick" data-post="252" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>running applications with different names under same <code>app_user</code> / <code>app_homedir</code></p>
</blockquote>
</aside>
<p>We could handle this similar to <code>app_path</code>. i.e.</p>
<pre><code class="lang-auto">: ${app_user:="sal-${app_name}"}
</code></pre>
<p>So if the user wants to run e.g. <code>monero-blockchain-mark-spent-outputs</code> as <code>sal-monero</code>, they can execute:</p>
<pre><code class="lang-auto">app_user="sal-monero" sandbox-app-launcher run monero-blockchain-mark-spent-outputs
</code></pre>
<aside class="quote no-group" data-username="Patrick" data-post="252" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>How does that sound?</p>
</blockquote>
</aside>
<p>Seems like the best way to handle this.</p>
<aside class="quote no-group" data-username="Patrick" data-post="252" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The sudoers exception(s) can use group <code>%sandboxers</code> .</p>
</blockquote>
</aside>
<p>That would allow any users in the <code>%sandboxers</code> group to access app data from other users. There would be no isolation between users.</p>
<p>We can dynamically append the exact user and sandbox they’re allowed to use to the sudoers file. Something like this in setup:</p>
<pre><code class="lang-auto">echo "${SUDO_USER} ALL=NOPASSWD: /usr/bin/sudo -H -u ${app_user}" &gt;&gt; /etc/sudoers.d/sandbox-app-launcher
</code></pre>
<p>Another issue with multi-user support would be, again, the user names. If a user has already setup a sandbox for Firefox, the <code>sal-firefox</code> user will be taken and other users won’t be able to sandbox Firefox. We could set:</p>
<pre><code class="lang-auto">app_user="sal-${SUDO_USER}-${app_name}"
</code></pre>
<p>but this would further worsen the issue of the user name length limit.</p>
<p>Is there a way to somehow increase the limit?</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-02T19:54:14Z' class='post-time'>
                November 2, 2020,  7:54pm
              </time>
              <meta itemprop='dateModified' content='2020-11-02T19:54:14Z'>
          <span itemprop='position'>#255</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>D-Bus / PulseAudio are fully isolated. D-Bus is restricted to each user and PulseAudio is blacklisted entirely.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/sandbox-app-launcher" target="_blank" rel="nofollow noopener" title="05:39PM - 29 October 2020">Whonix – 29 Oct 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:129/73;"><img src="../../../external.html?link=https://www.whonix.org/w/images/6/60/Sandboxing123123.png" class="thumbnail" width="129" height="73"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/sandbox-app-launcher" target="_blank" rel="nofollow noopener">sandbox-app-launcher - Sandboxed Application Launcher</a></h3>

<p>sandbox-app-launcher is an application launcher that starts each app inside its own restrictive sandbox. It runs each app as its own user, in a bubblewrap sandbox and confined by AppArmor.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>This could be relaxed in the future if we add a way to manage them safely (D-Bus filtering, PipeWire, etc.) but for now, allowing them would allow easy sandbox escapes so we can’t do that.</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-02T20:11:07Z' class='post-time'>
                November 2, 2020,  8:11pm
              </time>
              <meta itemprop='dateModified' content='2020-11-02T20:11:07Z'>
          <span itemprop='position'>#256</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="madaidan" data-post="254" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Is there a way to somehow increase the limit?</p>
</blockquote>
</aside>
<p>Seems like this is hard coded in glibc. <code>/usr/include/x86_64-linux-gnu/bits/local_lim.h</code> contains:</p>
<pre><code class="lang-auto">/* Maximum login name length.  This is arbitrary.  */
#define LOGIN_NAME_MAX		256
</code></pre>
<p>(256 bits = 32 bytes)</p>
<p>We could probably change this by editing the file but I wouldn’t trust it enough to not crash and burn.</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-02T20:51:01Z' class='post-time'>
                November 2, 2020,  8:51pm
              </time>
              <meta itemprop='dateModified' content='2020-11-02T20:51:01Z'>
          <span itemprop='position'>#257</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubpullrequest">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/sandbox-app-launcher/pull/47" target="_blank" rel="nofollow noopener">github.com/Whonix/sandbox-app-launcher</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Whonix/sandbox-app-launcher/pull/47" target="_blank" rel="nofollow noopener">Shorten usernames</a>
    </h4>

    <div class="branches">
      <code>Whonix:master</code> ← <code>madaidan:username</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2020-11-02" data-time="20:50:52" data-timezone="UTC">08:50PM - 02 Nov 20 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/madaidan" target="_blank" rel="nofollow noopener">
          <img alt="madaidan" src="../../../external.html?link=https://avatars0.githubusercontent.com/u/50278627?v=4" class="onebox-avatar-inline" width="20" height="20">
          madaidan
        </a>
      </div>

      <div class="lines" title="1 commits changed 1 files with 1 additions and 1 deletions">
        <a href="../../../external.html?link=https://github.com/Whonix/sandbox-app-launcher/pull/47/files" target="_blank" rel="nofollow noopener">
          <span class="added">+1</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>

  </div>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/FrozenCat'><span itemprop='name'>FrozenCat</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-03T01:56:40Z' class='post-time'>
                November 3, 2020,  1:56am
              </time>
              <meta itemprop='dateModified' content='2020-11-03T02:49:13Z'>
          <span itemprop='position'>#258</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="madaidan" data-post="255" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>This could be relaxed in the future if we add a way to manage them safely (D-Bus filtering, PipeWire, etc.)</p>
</blockquote>
</aside>
<p>I want to be able to send notifications from a user cronjob to a sandboxed sway session with its own dbus session. Have you thought of a way other than setting up a passwordless sudo command for each command? Perhaps, I should start a cron daemon from sway?</p>
<p>What about using ALSA in a sandbox?</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-03T14:27:05Z' class='post-time'>
                November 3, 2020,  2:27pm
              </time>
              <meta itemprop='dateModified' content='2020-11-03T14:27:05Z'>
          <span itemprop='position'>#259</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="FrozenCat" data-post="258" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/f/90db22/40.png" class="avatar"> FrozenCat:</div>
<blockquote>
<p>What about using ALSA in a sandbox?</p>
</blockquote>
</aside>
<p>How is an older codebase than pulseaudio supposed to be a better idea?</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/FrozenCat'><span itemprop='name'>FrozenCat</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-03T22:29:47Z' class='post-time'>
                November 3, 2020, 10:29pm
              </time>
              <meta itemprop='dateModified' content='2020-11-03T22:29:47Z'>
          <span itemprop='position'>#260</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="HulaHoop" data-post="259" data-topic="9008">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>How is an older codebase than pulseaudio supposed to be a better idea?</p>
</blockquote>
</aside>
<p>I prefer ALSA to PulseAudio after using both. ALSA is simpler. I can plug PipeWire into ALSA.</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/FrozenCat'><span itemprop='name'>FrozenCat</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="9008.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-04T06:06:08Z' class='post-time'>
                November 4, 2020,  6:06am
              </time>
              <meta itemprop='dateModified' content='2020-11-04T06:06:08Z'>
          <span itemprop='position'>#261</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <pre><code class="lang-auto">$ echo $DBUS_SESSION_BUS_ADDRESS
unix:abstract=/tmp/dbus-HSBQCNgTjD,guid=2429fa577f9384ff718d3ba25fa1fa63
</code></pre>
<p>An abstract unix socket doesn’t have file permission. Thus, anything that has dbus session bus address can access it. Fortunately, <code>/proc/PID/environ</code> can only be read by the owner of PID.</p>
        </div>

        <meta itemprop='headline' content='System-wide sandboxing framework - sandbox-app-launcher'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="9008ce37.html?page=12">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="9008a7f1.html?page=14">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
