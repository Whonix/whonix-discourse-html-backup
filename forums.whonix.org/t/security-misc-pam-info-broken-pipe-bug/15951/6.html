<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>security-misc pam-info broken pipe bug - #6 by Patrick - Support - Whonix Forum</title>
    <meta name="description" content="Clean Kicksecure morphed to Debian, on the login screen I see: 
/usr/libexec/security-misc/pam-info: line 91: echo: write error: Broken pipe. 
Happens when closing the lid without locking the screen first.">
    <meta name="generator" content="Discourse 2.8.10 - https://github.com/discourse/discourse version ce28fd2e1d75162dc7dd78bacbe1233dcad9ff1d">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#f9fcff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../15951.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_63af439a4add29d24ee8db0a8975a03942e16bfd.css_%3b%20filename_%3dUTF-8%27%27desktop_63af439a4add29d24ee8db0a8975a03942e16bfdd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_10_3aaa177025d43c870086d9d1e2b7c24242d79345.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_10_3aaa177025d43c870086d9d1e2b7c24242d79345d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="10" data-theme-name="discourse clickable topic"/>
<link href="../../../stylesheets/desktop_theme_9_d17a82d9063beac6199d5f5b6058eb31be8a93c7.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_9_d17a82d9063beac6199d5f5b6058eb31be8a93c7d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="9" data-theme-name="discourse loading slider"/>
<link href="../../../stylesheets/desktop_theme_11_a4432e6b524de47d5b6be38a05008b3cf204da12.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_11_a4432e6b524de47d5b6be38a05008b3cf204da12d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="11" data-theme-name="discourse-search-banner"/>
<link href="../../../stylesheets/desktop_theme_8_eb2fda98a48e7a39093a62612a9336ea5f3fabf4.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_8_eb2fda98a48e7a39093a62612a9336ea5f3fabf4d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8" data-theme-name="modern category + group boxes"/>
<link href="../../../stylesheets/desktop_theme_7_8e83b4927ff24d6368194831de62281b78928948.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_7_8e83b4927ff24d6368194831de62281b78928948d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="7" data-theme-name="air theme"/>
<link href="../../../stylesheets/desktop_theme_3_2d8e220bdda9771b9c05e06fc6e29aa74a553a22.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_2d8e220bdda9771b9c05e06fc6e29aa74a553a22d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
    <!--
START custom CSS / JS

Configured here:
https://forums.whonix.org/admin/customize/themes/3/common/head_tag/edit
-->

<!-- START : Determine wiki url -->



<!-- END : Determine wiki url -->


<!-- START End of Year Banner -->

<link rel="stylesheet" href="../../../mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="../../../mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="../../../mw-autogen/src-copy/Sitenotice_EndOfYear.css">

<script type="text/javascript" src="../../../mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" src="../../../mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" src="../../../mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: -10px 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!-- START : Enrich Header with links  -->

<style type="text/css">
    .below-site-header-outlet.search-banner .custom-search-banner-wrap > p a {
        color: white;
        text-decoration: underline;
    }
    .below-site-header-outlet.search-banner .custom-search-banner-wrap > p a:hover {
        color: #def;
    }
</style>



<!-- END : Enrich Header with links  -->

<!--
END custom CSS / JS
-->
<script src="../../../theme-javascripts/4fefea1f92e8cff4be612a10444139af0765b4c0.js_%3b%20filename_%3dUTF-8%27%274fefea1f92e8cff4be612a10444139af0765b4c0d2c8.js?__ws=forums.whonix.org"></script>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;security-misc pam-info broken pipe bug&#39;" href="../15951.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/security-misc-pam-info-broken-pipe-bug/15951/6" />
<meta name="twitter:url" content="https://forums.whonix.org/t/security-misc-pam-info-broken-pipe-bug/15951/6" />
<meta property="og:title" content="security-misc pam-info broken pipe bug" />
<meta name="twitter:title" content="security-misc pam-info broken pipe bug" />
<meta property="og:description" content="Added a debug option to the script just now:     May or may not be related:" />
<meta name="twitter:description" content="Added a debug option to the script just now:     May or may not be related:" />
<meta property="article:published_time" content="2022-11-15T17:43:24+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    <div class="background-container"></div>

<div class="header-brand-nav">
    <a class="home" href="../../../../external.html?link=https://www.whonix.org/">Whonix Wiki</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">Download</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">Docs</a>
    <a href="../../../c/news/21.html">News</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">Support</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">Contribute</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>
</div>

    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../15951.html">security-misc pam-info broken pipe bug</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/grass'><span itemprop='name'>grass</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-14T12:03:12Z' class='post-time'>
                November 14, 2022, 12:03pm
              </time>
              <meta itemprop='dateModified' content='2022-11-28T12:39:36Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Clean Kicksecure morphed to Debian, on the login screen I see:</p>
<p><code>/usr/libexec/security-misc/pam-info: line 91: echo: write error: Broken pipe</code>.</p>
<p>Happens when closing the lid without locking the screen first.</p>
<aside class="onebox githubblob" data-onebox-src="../../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info#L78">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info#L78" target="_blank" rel="noopener nofollow ugc">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info#L78" target="_blank" rel="noopener nofollow ugc">Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info#L78</a></h4>



    <pre class="onebox">      <code class="lang-">
        <ol class="start lines" start="68" style="counter-reset: li-counter 67 ;">
            <li>      fi</li>
            <li>   fi</li>
            <li>fi</li>
            <li>
            <li>## https://forums.whonix.org/t/how-strong-do-linux-user-account-passwords-have-to-be-when-using-full-disk-encryption-fde-too/7698</li>
            <li>
            <li>## Does not work (yet) for login, pam_securetty runs before and aborts.</li>
            <li>## Also this should only run for login since securetty covers only login.</li>
            <li># if [ "$PAM_USER" = "root" ]; then</li>
            <li>#    if [ -f /etc/securetty ]; then</li>
            <li class="selected">#       grep_result="$(grep "^[^#]" /etc/securetty)"</li>
            <li>#       if [ "$grep_result" = "" ]; then</li>
            <li>#          echo "\</li>
            <li># $0: ERROR: Root login is disabled.</li>
            <li># ERROR: This is because /etc/securetty is empty.</li>
            <li># See also:</li>
            <li># https://www.kicksecure.com/wiki/root#login</li>
            <li># " &gt;&amp;2</li>
            <li>#          exit 0</li>
            <li>#       fi</li>
            <li>#    fi</li>
        </ol>
      </code>
    </pre>



  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<aside class="onebox githubblob" data-onebox-src="../../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info#L91">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info#L91" target="_blank" rel="noopener nofollow ugc">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info#L91" target="_blank" rel="noopener nofollow ugc">Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info#L91</a></h4>



    <pre class="onebox">      <code class="lang-">
        <ol class="start lines" start="81" style="counter-reset: li-counter 80 ;">
            <li># $0: ERROR: Root login is disabled.</li>
            <li># ERROR: This is because /etc/securetty is empty.</li>
            <li># See also:</li>
            <li># https://www.kicksecure.com/wiki/root#login</li>
            <li># " &gt;&amp;2</li>
            <li>#          exit 0</li>
            <li>#       fi</li>
            <li>#    fi</li>
            <li># fi</li>
            <li>
            <li class="selected">## as user "user"</li>
            <li>## /usr/sbin/faillock -u user</li>
            <li>## faillock: Error opening /var/log/tallylog for update: Permission denied</li>
            <li>## /usr/sbin/faillock: Authentication error</li>
            <li>##</li>
            <li>## xscreensaver runs as user "user", therefore pam_faillock cannot function.</li>
            <li>## xscreensaver has its own failed login counter.</li>
            <li>##</li>
            <li>## https://askubuntu.com/questions/983183/how-lock-the-unlock-screen-after-wrong-password-attempts</li>
            <li>##</li>
            <li>## https://www.whonix.org/pipermail/whonix-devel/2019-September/001439.html</li>
        </ol>
      </code>
    </pre>



  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../whonix-16-0-9-0-for-virtualbox-point-release/16035.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../whonix-16-0-9-0-for-virtualbox-point-release/16035.html'>
                      <span itemprop='name'>Whonix 16.0.9.0 - for VirtualBox - Point Release!</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-15T15:39:45Z' class='post-time'>
                November 15, 2022,  3:39pm
              </time>
              <meta itemprop='dateModified' content='2022-11-15T15:39:45Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The only bad effect so far is the textual output (which is considered a bug)?<br>
But login otherwise functional?</p>
<p>I wonder how this can happen.</p>
<p>Is faillock installed? To check:</p>
<pre><code>sudo which faillock
</code></pre>
<aside class="quote no-group" data-username="grass" data-post="1" data-topic="15951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/g/96bed5/40.png" class="avatar"> grass:</div>
<blockquote>
<p>Clean Kicksecure morphed to Debian,</p>
</blockquote>
</aside>
<p>Which Kicksecure meta package did you install?</p>
        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/grass'><span itemprop='name'>grass</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-15T15:46:37Z' class='post-time'>
                November 15, 2022,  3:46pm
              </time>
              <meta itemprop='dateModified' content='2022-11-15T15:46:37Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="15951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The only bad effect so far is the textual output (which is considered a bug)?<br>
But login otherwise functional?</p>
</blockquote>
</aside>
<p>Yes and yes.</p>
<aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="15951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Is faillock installed? To check:</p>
</blockquote>
</aside>
<p>Yes, installed.</p>
<p>/usr/sbin/faillock.</p>
<aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="15951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Which Kicksecure meta package did you install?</p>
</blockquote>
</aside>
<p>Solely <code>kicksecure-cli-host</code></p>
<p>Perhaps <code>kicksecure-xfce-host</code> is required?</p>
        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/grass'><span itemprop='name'>grass</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-15T16:34:37Z' class='post-time'>
                November 15, 2022,  4:34pm
              </time>
              <meta itemprop='dateModified' content='2022-11-15T16:34:37Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>please change name from <code>pip</code> to <code>pipe</code> for search reasons.<br>
Can’t edit anymore.</p>
        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-15T16:59:14Z' class='post-time'>
                November 15, 2022,  4:59pm
              </time>
              <meta itemprop='dateModified' content='2022-11-15T16:59:14Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I’ll be adding more debug information to the script.</p>
<aside class="quote no-group" data-username="grass" data-post="3" data-topic="15951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/g/96bed5/40.png" class="avatar"> grass:</div>
<blockquote>
<p>Solely <code>kicksecure-cli-host</code></p>
</blockquote>
</aside>
<p>Ok.</p>
<aside class="quote no-group" data-username="grass" data-post="3" data-topic="15951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/g/96bed5/40.png" class="avatar"> grass:</div>
<blockquote>
<p>Perhaps <code>kicksecure-xfce-host</code> is required?</p>
</blockquote>
</aside>
<p>Nope. If it was, that would be confusing and a bug.</p>
        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-15T17:43:24Z' class='post-time'>
                November 15, 2022,  5:43pm
              </time>
              <meta itemprop='dateModified' content='2022-11-15T17:43:24Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Added a debug option to the script just now:</p>
<aside class="onebox githubblob" data-onebox-src="../../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info" target="_blank" rel="noopener">Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info</a></h4>


      <pre><code class="lang-">#!/bin/bash

## Copyright (C) 2019 - 2022 ENCRYPTED SUPPORT LP &lt;adrelanos@whonix.org&gt;
## See the file COPYING for copying conditions.

## To enable debug log, run:
## /etc/pam-info-debug
##
## Debug log if enabled can be found in file:
## /root/pam-info-debug.txt

true "$0: START PHASE 1"

if test -f /etc/pam-info-debug || test -f /usr/local/etc/pam-info-debug ; then
   set -x
   exec 5&gt;&amp;1 1&gt;&gt; ~/pam-info-debug.txt
   exec 6&gt;&amp;2 2&gt;&gt; ~/pam-info-debug.txt
fi

true "$0: START PHASE 2"
</code></pre>



  This file has been truncated. <a href="../../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/master/usr/libexec/security-misc/pam-info" target="_blank" rel="noopener">show original</a>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<hr>
<p>May or may not be related:</p>
<aside class="quote" data-post="1" data-topic="15950">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/m/b19c9b/40.png" class="avatar">
    <a href="../../line-78-faillock-command-not-found-anyone-got-any-ideas/15950.html">"line 78 faillock: command not found" anyone got any ideas?</a> <a class="badge-wrapper  bullet" href="../../../c/support/5.html"><span class="badge-category-bg" style="background-color: #8C6238;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="User support for the Whonix operating system. (devs)">Support</span></a>
  </div>
  <blockquote>
    I upgraded whonix from terminal and now I can not start the workstation. 
Gateway starts fine, but workstation starts with username and password (which it has never asked for before). 
Any ideas on how to fix this would be greatly appreciated. 
I have tried user and changeme, but it does not seem to work. 
See picture here:
  </blockquote>
</aside>

        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/grass'><span itemprop='name'>grass</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-15T20:45:19Z' class='post-time'>
                November 15, 2022,  8:45pm
              </time>
              <meta itemprop='dateModified' content='2022-11-15T20:45:19Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <pre><code class="lang-auto">++ grep accessfile=/etc/security/access-security-misc.conf /etc/pam.d/common-acc
ount
+ grep_result=
+ '[' '!' '' = '' ']'
++ id -u
+ '[' '!' 0 = 0 ']'
++ faillock --user user
+ pam_faillock_output='user:
When                Type  Source                                           Valid
'
+ '[' 'user:
When                Type  Source                                           Valid
' = '' ']'
++ head -1
++ echo 'user:
When                Type  Source                                           Valid
'
/usr/libexec/security-misc/pam-info: line 97: echo: write error: Broken pipe
+ pam_faillock_output_first_line=user:
++ LANG=C
++ str_replace : ''
++ echo user:
+ user_name=user
++ echo 'user:
When                Type  Source                                           Valid'
++ wc -l
+ pam_faillock_output_count=2
+ failed_login_counter=0
+ '[' '!' user = user ']'
+ '[' 0 = 0 ']'
+ true '/usr/libexec/security-misc/pam-info: INFO: Failed login counter is 0, ok.'
+ exit 0
</code></pre>
        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-16T13:59:44Z' class='post-time'>
                November 16, 2022,  1:59pm
              </time>
              <meta itemprop='dateModified' content='2022-11-16T13:59:44Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I cannot reproduce this bash error when I copy/paste that. Perhaps some invisible character such as a tab.</p>
<p>However that might be, I refactored above script. Using a different method to get the first line now. Could you try please?</p>
        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/grass'><span itemprop='name'>grass</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-16T14:04:50Z' class='post-time'>
                November 16, 2022,  2:04pm
              </time>
              <meta itemprop='dateModified' content='2022-11-16T14:04:50Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Is this the last commit from 7h ago?<br>
<a href="../../../../external.html?link=https://github.com/Kicksecure/security-misc/commit/09e6af5c080f776d56d7e2390f88c4ae7e01bdb7" rel="noopener nofollow ugc">09e6af5c080f776d56d7e2390f88c4ae7e01bdb7</a></p>
        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-16T14:29:21Z' class='post-time'>
                November 16, 2022,  2:29pm
              </time>
              <meta itemprop='dateModified' content='2022-11-16T14:29:21Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes.</p>
        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-16T14:29:52Z' class='post-time'>
                November 16, 2022,  2:29pm
              </time>
              <meta itemprop='dateModified' content='2022-11-16T14:29:52Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>(But there have been a number of commits. Not only that one.)</p>
        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/grass'><span itemprop='name'>grass</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-17T09:43:12Z' class='post-time'>
                November 17, 2022,  9:43am
              </time>
              <meta itemprop='dateModified' content='2022-11-17T09:43:12Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Couldn’t reproduce again, so made a test.</p>
<p>How to reproduce <code>broken pipe</code>:</p>
<pre><code class="lang-auto">$ set -o pipefail
$ v=$(cat /usr/share/keyrings/derivative.asc)
$ echo "$v" | head -1
-----BEGIN PGP PUBLIC KEY BLOCK-----
$ echo $?
141
$ echo 141-128 | bc
13
$ kill -l 13
PIPE
</code></pre>
<p>Shell exiting with unhandle signal returns exit code 128+signum.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../../external.html?link=https://tldp.org/LDP/lpg/node20.html">
  <header class="source">

      <a href="../../../../external.html?link=https://tldp.org/LDP/lpg/node20.html" target="_blank" rel="noopener nofollow ugc">tldp.org</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="../../../../external.html?link=https://tldp.org/LDP/lpg/node20.html" target="_blank" rel="noopener nofollow ugc">6.3.5 The Infamous SIGPIPE Signal</a></h3>

  <p>6.3.5 The Infamous SIGPIPE Signal</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<blockquote>
<p>On a last note, pipes must have a reader and a writer. If a process tries to write to a pipe that has no reader, it will be sent the SIGPIPE signal from the kernel. This is imperative when more than two processes are involved in a pipeline.</p>
</blockquote>
<p>The reader <code>head</code> closes when it founds its first match, but <code>echo</code> continues to <code>write</code> data to a pipe that doesn’t have a <code>reader</code> anymore, so the kernel sends the pipe signal for the command to stop.</p>
<p>The above bug does not affect the program, just the visual.<br>
I believe: <code>/usr/libexec/security-misc/pam-info: line 97: echo: write error: Broken pipe</code>  came from an ERR trap because <code>pipefail</code> is set. If pipefail is not set, the error doesn’t appear.</p>
<p>If you want to keep pipefail but avoid sig pipe on individual cases, you can do so by not closing the reader (this can be a long process when dealing with a large enough data sent by the writer):</p>
<pre><code class="lang-auto">$ echo "$v" | while IFS=\n read -r user; do [ ! $i ] &amp;&amp; echo $user; i=1; done
</code></pre>
<p>or in the script case:</p>
<pre><code class="lang-auto">$ pam_faillock_output_first_line="$(echo "$pam_faillock_output" | while IFS=\n read -r line; do [ ! $i ] &amp;&amp; echo $line; i=1; done)"
</code></pre>
<p>I know it doesn’t look pretty, but it solves the  individual case while keeping pipefail for other reasons.</p>
        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/grass'><span itemprop='name'>grass</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15951.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-17T10:08:22Z' class='post-time'>
                November 17, 2022, 10:08am
              </time>
              <meta itemprop='dateModified' content='2022-11-17T10:08:22Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I haven’t encountered problems with <a href="../../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/09e6af5c080f776d56d7e2390f88c4ae7e01bdb7/usr/libexec/security-misc/pam-info#L127-L129" class="inline-onebox" rel="noopener nofollow ugc">security-misc/pam-info at 09e6af5c080f776d56d7e2390f88c4ae7e01bdb7 · Kicksecure/security-misc · GitHub</a> though.</p>
        </div>

        <meta itemprop='headline' content='security-misc pam-info broken pipe bug'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>
        </div>
    </div>
    
    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
        /* This is a bugfix for the Air Theme when JS is deactivated */
        body > .background-container {
            display: none !important;
        }
    </style>
</noscript>
  </body>
  
</html>
