<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>UnicodeDecodeError when trying to update</title>
    <link>http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305</link>
    <description>Hey all,

Trying to update my workstation to the lastest version, but I am getting this error and not sure how to resolve it?
Thanks for any assistance in advance.

Traceback (most recent call last):
  File &quot;/usr/lib/cnf-update-db&quot;, line 26, in &lt;module&gt;
    col.create(db)
  File &quot;/usr/share/command-not-found/CommandNotFound/db/creator.py&quot;, line 94, in create
    self._fill_commands(con)
  File &quot;/usr/share/command-not-found/CommandNotFound/db/creator.py&quot;, line 132, in _fill_commands
    self._parse_single_contents_file(con, f, fp.stdout)
  File &quot;/usr/share/command-not-found/CommandNotFound/db/creator.py&quot;, line 228, in _parse_single_contents_file
    l = l.decode(&quot;utf-8&quot;)
UnicodeDecodeError: &#39;utf-8&#39; codec can&#39;t decode byte 0xed in position 15: invalid continuation byte
Fetched 218 kB in 7s (31.2 kB/s)
Reading package lists...
E: Problem executing scripts APT::Update::Post-Invoke-Success &#39;if /usr/bin/test -w /var/lib/command-not-found/ -a -e /usr/lib/cnf-update-db; then /usr/lib/cnf-update-db &gt; /dev/null; fi&#39;
E: Sub-process returned an error code</description>
    <language>en</language>
    <lastBuildDate>Sat, 19 Oct 2019 13:48:32 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>UnicodeDecodeError when trying to update</title>
        <dc:creator><![CDATA[JezzerF]]></dc:creator>
        <description><![CDATA[
            <p>Perfect, thanks <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a>. Removed the ubuntu.list file and the update  worked perfectly.</p>
          <p><a href="http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305/5</link>
        <pubDate>Sat, 19 Oct 2019 13:48:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8305-5</guid>
        <source url="http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305.rss">UnicodeDecodeError when trying to update</source>
      </item>
      <item>
        <title>UnicodeDecodeError when trying to update</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="3" data-topic="8305">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/j/e99b99/40.png" class="avatar"> JezzerF:</div>
<blockquote>
<p>Hit:1 <a href="http://uk.archive.ubuntu.com/ubuntu" rel="nofollow noopener">http://uk.archive.ubuntu.com/ubuntu</a> xenial InRelease</p>
</blockquote>
</aside>
<p>Mixing with third party repositories can break the system in various ways. That is mentioned here:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Install_Software" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    

<h3><a href="https://www.whonix.org/wiki/Install_Software" target="_blank" rel="nofollow noopener">Install Software</a></h3>

<p>Installing additional Software on Whonix ™. Safety considerations.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>This might be done such event.</p>
<p>You could try to live without <code>command-not-found</code> in that VM.</p>
<pre><code>sudo rm /etc/apt/apt.conf.d/50command-not-found
</code></pre>
<p>If that does not help, review other files in folder <code>/etc/apt/apt.conf.d</code> on subject of <code>command-not-found</code>.</p>
          <p><a href="http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305/4</link>
        <pubDate>Fri, 18 Oct 2019 10:35:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8305-4</guid>
        <source url="http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305.rss">UnicodeDecodeError when trying to update</source>
      </item>
      <item>
        <title>UnicodeDecodeError when trying to update</title>
        <dc:creator><![CDATA[JezzerF]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for the reply and the welcome Patrick <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Unfortunately though, when I run the update command I get the exact same error as above?</p>
<p>I got “No such file or directory” for the var/cache line, and nothing for the lib/cache.</p>
<p>Not sure if it assists at all, but this is the full echo from “sudo apt-get-update-plus dist-upgrade”</p>
<pre><code>user@host:~$ sudo apt-get-update-plus dist-upgrade
Hit:1 http://uk.archive.ubuntu.com/ubuntu xenial InRelease
Get:2 http://uk.archive.ubuntu.com/ubuntu xenial-security InRelease [109 kB]
Hit:3 tor+https://deb.whonix.org buster InRelease
Get:4 http://uk.archive.ubuntu.com/ubuntu xenial-updates InRelease [109 kB]
Get:5 http://uk.archive.ubuntu.com/ubuntu xenial-security/main amd64 Packages [761 kB]
Get:8 http://uk.archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages [1,046 kB]
Get:6 tor+https://cdn-aws.deb.debian.org/debian-security buster/updates InRelease [39.1 kB]
Hit:7 tor+https://cdn-aws.deb.debian.org/debian buster InRelease
Traceback (most recent call last):
  File "/usr/lib/cnf-update-db", line 26, in &lt;module&gt;
    col.create(db)
  File "/usr/share/command-not-found/CommandNotFound/db/creator.py", line 94, in create
    self._fill_commands(con)
  File "/usr/share/command-not-found/CommandNotFound/db/creator.py", line 132, in _fill_commands
    self._parse_single_contents_file(con, f, fp.stdout)
  File "/usr/share/command-not-found/CommandNotFound/db/creator.py", line 228, in _parse_single_contents_file
    l = l.decode("utf-8")
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xed in position 15: invalid continuation byte
Fetched 2,064 kB in 12s (170 kB/s)
Reading package lists...
E: Problem executing scripts APT::Update::Post-Invoke-Success 'if /usr/bin/test -w /var/lib/command-not-found/ -a -e /usr/lib/cnf-update-db; then /usr/lib/cnf-update-db &gt; /dev/null; fi'
E: Sub-process returned an error code</code></pre>
          <p><a href="http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305/3</link>
        <pubDate>Fri, 18 Oct 2019 09:56:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8305-3</guid>
        <source url="http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305.rss">UnicodeDecodeError when trying to update</source>
      </item>
      <item>
        <title>UnicodeDecodeError when trying to update</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Hello and welcome!</p>
<p>This might help:</p>
<pre><code>sudo rm /var/cache/command-not-found/*
sudo rm /var/lib/command-not-found/*
sudo update-command-not-found
</code></pre>
<hr>
<p>Technical references for developers:</p>
<ul>
<li><code>/etc/apt/apt.conf.d/50command-not-found</code></li>
</ul>
          <p><a href="http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305/2</link>
        <pubDate>Thu, 17 Oct 2019 17:07:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8305-2</guid>
        <source url="http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305.rss">UnicodeDecodeError when trying to update</source>
      </item>
      <item>
        <title>UnicodeDecodeError when trying to update</title>
        <dc:creator><![CDATA[JezzerF]]></dc:creator>
        <description><![CDATA[
            <p>Hey all,</p>
<p>Trying to update my workstation to the lastest version, but I am getting this error and not sure how to resolve it?<br>
Thanks for any assistance in advance.</p>
<p>Traceback (most recent call last):<br>
File “/usr/lib/cnf-update-db”, line 26, in <br>
col.create(db)<br>
File “/usr/share/command-not-found/CommandNotFound/db/creator.py”, line 94, in create<br>
self._fill_commands(con)<br>
File “/usr/share/command-not-found/CommandNotFound/db/creator.py”, line 132, in _fill_commands<br>
self._parse_single_contents_file(con, f, fp.stdout)<br>
File “/usr/share/command-not-found/CommandNotFound/db/creator.py”, line 228, in _parse_single_contents_file<br>
l = l.decode(“utf-8”)<br>
UnicodeDecodeError: ‘utf-8’ codec can’t decode byte 0xed in position 15: invalid continuation byte<br>
Fetched 218 kB in 7s (31.2 kB/s)<br>
Reading package lists…<br>
E: Problem executing scripts APT::Update::Post-Invoke-Success ‘if /usr/bin/test -w /var/lib/command-not-found/ -a -e /usr/lib/cnf-update-db; then /usr/lib/cnf-update-db &gt; /dev/null; fi’<br>
E: Sub-process returned an error code</p>
          <p><a href="http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305/1</link>
        <pubDate>Wed, 16 Oct 2019 20:30:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8305-1</guid>
        <source url="http://forums.whonix.org/t/unicodedecodeerror-when-trying-to-update/8305.rss">UnicodeDecodeError when trying to update</source>
      </item>
  </channel>
</rss>
