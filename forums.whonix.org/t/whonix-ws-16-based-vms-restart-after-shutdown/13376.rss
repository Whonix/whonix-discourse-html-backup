<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix-ws-16 based vms restart after shutdown</title>
    <link>http://forums.whonix.org/t/whonix-ws-16-based-vms-restart-after-shutdown/13376</link>
    <description>A lot of people have been having issues with this as seen in a qubes forum post and a qubes reddit post (I can&#39;t include links)


I am also having this issue. It started a few days ago after using the qubes update tool.

```
all VMs or only specific one (e.g. sys-net, sys-firewall)?
```

All whonix-ws-16 based appVMs besides disposables

```
how long did those VM run before you try to shutdown?
```

Any length of time, it does not matter. The issue always occurs.

```
how do you shut them down?
```

Use the upper right blue Q button, hover over the vm, and then click shutdown

```
what template are they based on?
```

whonix-ws-16 (but disposables are able to shut down)

```
how do you know they restart / are running?
```

I get a notification that the vm is shutting down, and then right away I get a notification that the vm is starting up.

```
are you using any testing repositories?
```

Security testing only.

```
which Qubes OS release are you using (R4.0 or R4.1)?
```

4.0

I saw some people have suggested that a vm could be requiring these whonix-ws-16 based vms, which is why they restart after shutdown. But that can’t be the case, because then they would be started right away. And I can run just sys-whonix, sys-firewall, and sys-net. Nothing auto starts. But when I open a whonix-ws-16 vm, I can not shut it down after. So I think that proves no other vm is using it?</description>
    <language>en</language>
    <lastBuildDate>Tue, 22 Feb 2022 10:44:12 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/whonix-ws-16-based-vms-restart-after-shutdown/13376.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix-ws-16 based vms restart after shutdown</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox allowlistedgeneric" data-onebox-src="https://forum.qubes-os.org/t/whonix-qube-restarts-after-being-killed/1760/28">
  <header class="source">
      <img src="https://forum.qubes-os.org/uploads/db3820/optimized/2X/5/55de5eaf64516902429c411f66491cc9db06c464_2_32x32.png" class="site-icon" width="32" height="32">

      <a href="https://forum.qubes-os.org/t/whonix-qube-restarts-after-being-killed/1760/28" target="_blank" rel="noopener" title="01:38PM - 20 February 2022">Qubes OS Forum – 20 Feb 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:472/471;"><img src="https://forum.qubes-os.org/uploads/db3820/original/1X/10549f9dff8a289d117f083e9f5155231c452db2.png" class="thumbnail" width="472" height="471"></div>

<h3><a href="https://forum.qubes-os.org/t/whonix-qube-restarts-after-being-killed/1760/28" target="_blank" rel="noopener">Whonix Qube restarts after being killed</a></h3>

  <p>If (timely) answers and potential fixes are desired, please use Whonix forums.  Quite likely this:</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubissue" data-onebox-src="https://github.com/QubesOS/qubes-issues/issues/7169">
  <header class="source">

      <a href="https://github.com/QubesOS/qubes-issues/issues/7169" target="_blank" rel="noopener">github.com/QubesOS/qubes-issues</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/QubesOS/qubes-issues/issues/7169" target="_blank" rel="noopener">qubes-core-admin-addon-whonix sdwdate-gui qrexec service should use autostart=no</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-12-31" data-time="15:38:10" data-timezone="UTC">03:38PM - 31 Dec 21 UTC</span>
      </div>

        <div class="date">
          closed <span class="discourse-local-date" data-format="ll" data-date="2022-02-15" data-time="00:36:02" data-timezone="UTC">12:36AM - 15 Feb 22 UTC</span>
        </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>

    <div class="labels">
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          T: bug
        </span>
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          C: core
        </span>
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          C: Whonix
        </span>
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          r4.1-dom0-cur-test
        </span>
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          P: default
        </span>
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          diagnosed
        </span>
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          pr submitted
        </span>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">* https://github.com/QubesOS/qubes-core-admin-addon-whonix/blob/master/qubes-rpc<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">-policy/whonix.GatewayCommand.policy
* https://github.com/QubesOS/qubes-core-admin-addon-whonix/blob/master/qubes-rpc-policy/whonix.NewStatus.policy
* https://github.com/QubesOS/qubes-core-admin-addon-whonix/blob/master/qubes-rpc-policy/whonix.SdwdateStatus.policy

To test, I would just have to append `,autostart=no`, right? I.e.

`allow`
-&gt;
`allow,autostart=no`
?

related:
https://github.com/QubesOS/qubes-issues/issues/5952</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubpullrequest" data-onebox-src="https://github.com/QubesOS/qubes-core-admin-addon-whonix/pull/13">
  <header class="source">

      <a href="https://github.com/QubesOS/qubes-core-admin-addon-whonix/pull/13" target="_blank" rel="noopener">github.com/QubesOS/qubes-core-admin-addon-whonix</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/QubesOS/qubes-core-admin-addon-whonix/pull/13" target="_blank" rel="noopener">qrexec autostart=no and new policy format</a>
    </h4>

    <div class="branches">
      <code>QubesOS:master</code> ← <code>adrelanos:master</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-02-09" data-time="09:22:13" data-timezone="UTC">09:22AM - 09 Feb 22 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="2 commits changed 6 files with 24 additions and 9 deletions">
        <a href="https://github.com/QubesOS/qubes-core-admin-addon-whonix/pull/13/files" target="_blank" rel="noopener">
          <span class="added">+24</span>
          <span class="removed">-9</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/whonix-ws-16-based-vms-restart-after-shutdown/13376/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-ws-16-based-vms-restart-after-shutdown/13376/2</link>
        <pubDate>Tue, 22 Feb 2022 10:44:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-13376-2</guid>
        <source url="http://forums.whonix.org/t/whonix-ws-16-based-vms-restart-after-shutdown/13376.rss">Whonix-ws-16 based vms restart after shutdown</source>
      </item>
      <item>
        <title>Whonix-ws-16 based vms restart after shutdown</title>
        <dc:creator><![CDATA[Character_Iron_3468]]></dc:creator>
        <description><![CDATA[
            <p>A lot of people have been having issues with this as seen in a qubes forum post and a qubes reddit post (I can’t include links)</p>
<p>I am also having this issue. It started a few days ago after using the qubes update tool.</p>
<pre><code class="lang-auto">all VMs or only specific one (e.g. sys-net, sys-firewall)?
</code></pre>
<p>All whonix-ws-16 based appVMs besides disposables</p>
<pre><code class="lang-auto">how long did those VM run before you try to shutdown?
</code></pre>
<p>Any length of time, it does not matter. The issue always occurs.</p>
<pre><code class="lang-auto">how do you shut them down?
</code></pre>
<p>Use the upper right blue Q button, hover over the vm, and then click shutdown</p>
<pre><code class="lang-auto">what template are they based on?
</code></pre>
<p>whonix-ws-16 (but disposables are able to shut down)</p>
<pre><code class="lang-auto">how do you know they restart / are running?
</code></pre>
<p>I get a notification that the vm is shutting down, and then right away I get a notification that the vm is starting up.</p>
<pre><code class="lang-auto">are you using any testing repositories?
</code></pre>
<p>Security testing only.</p>
<pre><code class="lang-auto">which Qubes OS release are you using (R4.0 or R4.1)?
</code></pre>
<p>4.0</p>
<p>I saw some people have suggested that a vm could be requiring these whonix-ws-16 based vms, which is why they restart after shutdown. But that can’t be the case, because then they would be started right away. And I can run just sys-whonix, sys-firewall, and sys-net. Nothing auto starts. But when I open a whonix-ws-16 vm, I can not shut it down after. So I think that proves no other vm is using it?</p>
          <p><a href="http://forums.whonix.org/t/whonix-ws-16-based-vms-restart-after-shutdown/13376/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-ws-16-based-vms-restart-after-shutdown/13376/1</link>
        <pubDate>Mon, 21 Feb 2022 19:30:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-13376-1</guid>
        <source url="http://forums.whonix.org/t/whonix-ws-16-based-vms-restart-after-shutdown/13376.rss">Whonix-ws-16 based vms restart after shutdown</source>
      </item>
  </channel>
</rss>
