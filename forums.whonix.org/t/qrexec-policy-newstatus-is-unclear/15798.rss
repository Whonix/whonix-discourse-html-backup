<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>qrexec policy NewStatus is unclear</title>
    <link>http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798</link>
    <description>grepping new status shows that anon-vm will target anon-gateway.
```sh
$ cd /etc/qubes/policy.d
$ grep -R NewStatus
80-whonix.policy:whonix.NewStatus     *         @tag:anon-vm      @tag:anon-gateway allow  autostart=no
80-whonix.policy:whonix.NewStatus     *         @anyvm            @anyvm            deny
```

But `qrexec-policy-graph` shows that a Workstation `anon-whonix-example` that has a separate Gateway `sys-whonix-example` uses `sys-whonix` for `whonix.NewStatus`.

```sh
$ qrexec-policy-graph --source anon-whonix-example --target sys-whonix
digraph g {
  &quot;anon-whonix-example&quot; -&gt; &quot;sys-whonix&quot; [label=&quot;whonix.NewStatus&quot; color=red];
}
```

Is this something that should be added to the Multiple Gw intructions?</description>
    <language>en</language>
    <lastBuildDate>Thu, 13 Oct 2022 10:22:57 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>qrexec policy NewStatus is unclear</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>Adding to this, they first have to prohibit a <code>anon-vm</code> to have a NetVM that is not <code>anon-gateway</code>. Then this second part would be closer to foreseeable.</p>
          <p><a href="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/9</link>
        <pubDate>Thu, 13 Oct 2022 10:22:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15798-9</guid>
        <source url="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798.rss">qrexec policy NewStatus is unclear</source>
      </item>
      <item>
        <title>qrexec policy NewStatus is unclear</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>An additional tag perhaps. The existing ones are/might be re-used for other purposes already. Or some other qrexec feature. “Qrexec only to the Net Qube I am connected to.”</p>
<p>In any case, this is too complex. I cannot even foresee when this would happen unless contributed by a volunteer. Would have to be discussed upstream at Qubes.</p>
          <p><a href="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/8</link>
        <pubDate>Thu, 13 Oct 2022 08:19:28 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15798-8</guid>
        <source url="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798.rss">qrexec policy NewStatus is unclear</source>
      </item>
      <item>
        <title>qrexec policy NewStatus is unclear</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>Yes, it still requires editing the policy with the above tag response.</p>
<p>But anyway, I don’t have other idea on how to keep Workstations not connecting to other Gateways via qrexec without dom0 policy.</p>
          <p><a href="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/7</link>
        <pubDate>Wed, 12 Oct 2022 17:11:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15798-7</guid>
        <source url="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798.rss">qrexec policy NewStatus is unclear</source>
      </item>
      <item>
        <title>qrexec policy NewStatus is unclear</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>Maybe Qubes should tag Workstations according to gateway, this makes much easier to enforce the policies via <code>@tag:something</code>.</p>
<p>For example, Gateway is created, names <code>sys-whonix-test</code>, receives tag <code>anon-gateway-sys-whonix-test</code>. Every Workstation that assigns the above Gateway to be its NetVM will receive the tag <code>anon-vm-gateway-sys-whonix-test</code>.</p>
<p>Of course the tags should have a better name, but putting the name according to the domain name makes it easier to locate.</p>
<p>Qubes already puts tags <code>anon-vm</code> and <code>anon-gateway</code> when the AppVMs are created anyway.</p>
          <p><a href="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/6</link>
        <pubDate>Wed, 12 Oct 2022 17:09:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15798-6</guid>
        <source url="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798.rss">qrexec policy NewStatus is unclear</source>
      </item>
      <item>
        <title>qrexec policy NewStatus is unclear</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Anything that requires manual edits by the user in the VM or in dom0 is a bad design anyhow.</p>
<p>Not sure if the re-design proposal in <a href="https://phabricator.whonix.org/T930" class="inline-onebox">⚓ T930 whonix.SdwdateStatus service starts VMs that were killed</a> would fix it.</p>
<p>Various discussions in various tickets such as <a href="https://github.com/QubesOS/qubes-core-admin-addon-whonix/pull/13#issuecomment-1035269706" class="inline-onebox">qrexec autostart=no and new policy format by adrelanos · Pull Request #13 · QubesOS/qubes-core-admin-addon-whonix · GitHub</a></p>
<p>So this needs probably more work than just more manual dom0 editing documentation.</p>
          <p><a href="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/5</link>
        <pubDate>Wed, 12 Oct 2022 16:59:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15798-5</guid>
        <source url="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798.rss">qrexec policy NewStatus is unclear</source>
      </item>
      <item>
        <title>qrexec policy NewStatus is unclear</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>I’ve already done that, but that is in VM.<br>
The dom0 policy should command it.<br>
Any workstation can use any gateway for sdwdate if they wish…</p>
          <p><a href="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/4</link>
        <pubDate>Wed, 12 Oct 2022 15:58:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15798-4</guid>
        <source url="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798.rss">qrexec policy NewStatus is unclear</source>
      </item>
      <item>
        <title>qrexec policy NewStatus is unclear</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Currently mentioned under</p>
<p><a href="https://www.whonix.org/wiki/Multiple_Whonix-Workstation#How-to:_Use_more_than_One_Whonix-Workstation_.E2.84.A2_-_Easy">https://www.whonix.org/wiki/Multiple_Whonix-Workstation#How-to:<em>Use_more_than_One_Whonix-Workstation</em>.E2.84.A2_-_Easy</a></p>
<p>?</p>
          <p><a href="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/3</link>
        <pubDate>Wed, 12 Oct 2022 15:34:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15798-3</guid>
        <source url="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798.rss">qrexec policy NewStatus is unclear</source>
      </item>
      <item>
        <title>qrexec policy NewStatus is unclear</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <pre><code class="lang-auto">"sys-whonix" -&gt; "anon-whonix-example" [label="whonix.GatewayCommand" color=red];
"sys-whonix" -&gt; "anon-whonix-example" [label="whonix.SdwdateStatus" color=red];
</code></pre>
          <p><a href="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/2</link>
        <pubDate>Wed, 12 Oct 2022 15:29:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15798-2</guid>
        <source url="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798.rss">qrexec policy NewStatus is unclear</source>
      </item>
      <item>
        <title>qrexec policy NewStatus is unclear</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>grepping new status shows that anon-vm will target anon-gateway.</p>
<pre><code class="lang-auto">$ cd /etc/qubes/policy.d
$ grep -R NewStatus
80-whonix.policy:whonix.NewStatus     *         @tag:anon-vm      @tag:anon-gateway allow  autostart=no
80-whonix.policy:whonix.NewStatus     *         @anyvm            @anyvm            deny
</code></pre>
<p>But <code>qrexec-policy-graph</code> shows that a Workstation <code>anon-whonix-example</code> that has a separate Gateway <code>sys-whonix-example</code> uses <code>sys-whonix</code> for <code>whonix.NewStatus</code>.</p>
<pre><code class="lang-auto">$ qrexec-policy-graph --source anon-whonix-example --target sys-whonix
digraph g {
  "anon-whonix-example" -&gt; "sys-whonix" [label="whonix.NewStatus" color=red];
}
</code></pre>
<p>Is this something that should be added to the Multiple Gw intructions?</p>
          <p><a href="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798/1</link>
        <pubDate>Wed, 12 Oct 2022 14:36:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15798-1</guid>
        <source url="http://forums.whonix.org/t/qrexec-policy-newstatus-is-unclear/15798.rss">qrexec policy NewStatus is unclear</source>
      </item>
  </channel>
</rss>
