<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics - Development - Whonix Forum</title>
    <meta name="description" content="Is there any interest in running whonix in live mode? 
I came across this (Raspbian with Read-only Root - Raspberry Pi Forums) a while ago and tested it on a debian vm. 
It only requires a small patch to the initramfs an&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="3894235c.html?page=7" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics&#39;" href="3894.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-live-mode-amnesia-amnesic-non-persistent-anti-forensics/3894?page=7" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-live-mode-amnesia-amnesic-non-persistent-anti-forensics/3894?page=7" />
<meta property="og:title" content="Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics" />
<meta name="twitter:title" content="Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="59 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="141 ❤" />
<meta property="article:published_time" content="2019-04-18T10:59:10+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="3894c575.html?page=6">
        <link rel="next" href="3894fdfa.html?page=8">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="3894.html">Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-18T10:59:10Z' class='post-time'>
                April 18, 2019, 10:59am
              </time>
              <meta itemprop='dateModified' content='2019-04-18T10:59:10Z'>
          <span itemprop='position'>#121</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote quote-modified" data-post="14" data-topic="7148">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="../tails-whonix-its-doable-heres-how-can-we-offer-it-as-a-variant-like-qubes-whonix/7148/14c5ab.html?u=patrick">Tails-Whonix: It's doable, here's how. Can we offer it as a variant like Qubes-Whonix?</a> <a class="badge-wrapper  bullet" href="../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    But now I am wondering why not use <a href="../../../external.html?link=https://github.com/Whonix/grub-live" rel="nofollow noopener">https://github.com/Whonix/grub-live</a> ( similar <a href="../../../external.html?link=https://www.whonix.org/wiki/Whonix_Live" rel="nofollow noopener">https://www.whonix.org/wiki/Whonix_Live</a> ) on Debian hosts? 
I think testing grub-live on Debian hosts as per <a href="../../../external.html?link=https://www.whonix.org/wiki/Whonix_Packages_for_Debian_Hosts" rel="nofollow noopener">https://www.whonix.org/wiki/Whonix_Packages_for_Debian_Hosts</a> and testing for forensic leftovers would be very much worth it. Maybe with grub-live on the host, Whonix could become almost as good as or even as good as Tails regarding anti forensics. I need to elaborate on this. Will create a wiki page comparing…
  </blockquote>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../whonix-host-operating-system/3931/38.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../whonix-host-operating-system/3931/38.html'>
                      <span itemprop='name'>Whonix host operating system</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-18T11:17:37Z' class='post-time'>
                April 18, 2019, 11:17am
              </time>
              <meta itemprop='dateModified' content='2019-04-18T11:17:37Z'>
          <span itemprop='position'>#122</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubissue">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/QubesOS/qubes-issues/issues/4982" target="_blank" rel="nofollow noopener">github.com/QubesOS/qubes-issues</a>
  </header>
  <article class="onebox-body">
    <a href="../../../external.html?link=https://github.com/adrelanos" rel="nofollow noopener">
<img src="../../../external.html?link=https://avatars1.githubusercontent.com/u/1985040?v=2&amp;s=96" class="thumbnail onebox-avatar" width="60" height="60">
</a>

<h4><a href="../../../external.html?link=https://github.com/QubesOS/qubes-issues/issues/4982" target="_blank" rel="nofollow noopener">Issue: implement live boot by porting grub-live to Qubes - amnesia / non-persistent boot / anti-forensics</a></h4>

<div class="date" style="margin-top:10px;">
	<div class="user" style="margin-top:10px;">
	opened by <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
	on <a href="../../../external.html?link=https://github.com/QubesOS/qubes-issues/issues/4982" target="_blank" rel="nofollow noopener">2019-04-18</a>
	</div>
	<div class="user">
	</div>
</div>

<pre class="content" style="white-space: pre-wrap;">https://github.com/Whonix/grub-live [0] is a tiny, simple package with a few dependencies (available from packages.debian.org) that can be installed on Debian [1]...</pre>

<div class="labels">
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">P: default</span>
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">T: enhancement</span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-18T12:17:22Z' class='post-time'>
                April 18, 2019, 12:17pm
              </time>
              <meta itemprop='dateModified' content='2019-04-18T12:17:22Z'>
          <span itemprop='position'>#123</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Please critically review: <a href="../../../external.html?link=https://www.whonix.org/wiki/Grub-live#Forensics_Comparison" rel="nofollow noopener">https://www.whonix.org/wiki/Grub-live#Forensics_Comparison</a></p>
<p>Could you test please for anti-forensics as per <a href="../../../external.html?link=https://www.whonix.org/wiki/FAQ#Anti-forensic_Claims" rel="nofollow noopener">https://www.whonix.org/wiki/FAQ#Anti-forensic_Claims</a>?</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-18T19:57:14Z' class='post-time'>
                April 18, 2019,  7:57pm
              </time>
              <meta itemprop='dateModified' content='2019-04-18T20:02:07Z'>
          <span itemprop='position'>#124</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Tails documentation comments that swap may be the biggest threat to anti-forensics on Linux when running in a VM:</p>
<p><a href="../../../external.html?link=https://tails.boum.org/doc/advanced_topics/virtualization/index.en.html#security" class="onebox" target="_blank" rel="nofollow noopener">https://tails.boum.org/doc/advanced_topics/virtualization/index.en.html#security</a></p>
<hr>
<p>Choices for dealing with swap:</p>
<p>Linux does use swapping despite having apparent “free” memory. The kernel tends to swap out long-inactive and memory -consuming processes. This frees up RAM for caches, thus improves responsiveness.</p>
<p><em><strong>vm.swappiness = 0</strong></em> does not completely prevent swapping.</p>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../external.html?link=https://superuser.com/questions/760102/why-do-i-get-swapping-even-if-i-set-vm-swappiness-to-0" target="_blank" rel="nofollow noopener">superuser.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://superuser.com/users/190944/horatiu" target="_blank" rel="nofollow noopener">
    <img alt="Horatiu" src="../../../external.html?link=https://www.gravatar.com/avatar/2c4d0cb1dd090403f0581d7da036d956?s=128&amp;d=identicon&amp;r=PG" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="../../../external.html?link=https://superuser.com/questions/760102/why-do-i-get-swapping-even-if-i-set-vm-swappiness-to-0" target="_blank" rel="nofollow noopener">Why do I get swapping even if I set vm.swappiness to 0?</a>
</h4>

<div class="tags">
  <strong>memory, virtual-machine, swap, linux-kvm</strong>
</div>

<div class="date">
  asked by
  
  <a href="../../../external.html?link=https://superuser.com/users/190944/horatiu" target="_blank" rel="nofollow noopener">
    Horatiu
  </a>
  on <a href="../../../external.html?link=https://superuser.com/questions/760102/why-do-i-get-swapping-even-if-i-set-vm-swappiness-to-0" target="_blank" rel="nofollow noopener">08:52AM - 29 May 14 UTC</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Turning off for the whole system is not recommended because hitting the hard limit might cause a system crash. However it may be worth it for some usecases. It can be done by running <em><strong>sudo swapoff -a</strong></em> and rebooting.</p>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../external.html?link=https://superuser.com/questions/243357/how-to-prevent-a-specific-program-from-swapping" target="_blank" rel="nofollow noopener">superuser.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://superuser.com/users/66142/alexei-averchenko" target="_blank" rel="nofollow noopener">
    <img alt="Alexei Averchenko" src="../../../external.html?link=https://www.gravatar.com/avatar/4535212e0091c28607319e01fbef96f8?s=128&amp;d=identicon&amp;r=PG" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="../../../external.html?link=https://superuser.com/questions/243357/how-to-prevent-a-specific-program-from-swapping" target="_blank" rel="nofollow noopener">How to prevent a specific program from swapping?</a>
</h4>

<div class="tags">
  <strong>linux</strong>
</div>

<div class="date">
  asked by
  
  <a href="../../../external.html?link=https://superuser.com/users/66142/alexei-averchenko" target="_blank" rel="nofollow noopener">
    Alexei Averchenko
  </a>
  on <a href="../../../external.html?link=https://superuser.com/questions/243357/how-to-prevent-a-specific-program-from-swapping" target="_blank" rel="nofollow noopener">01:44AM - 09 Feb 11 UTC</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>An alternative libvirt only solution is to set guest memory pages to being locked:</p>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../external.html?link=https://serverfault.com/questions/561446/how-can-i-keep-important-vms-in-memory-without-disabling-swap" target="_blank" rel="nofollow noopener">serverfault.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://serverfault.com/users/202577/user2970347" target="_blank" rel="nofollow noopener">
    <img alt="user2970347" src="../../../external.html?link=https://www.gravatar.com/avatar/868d2f0ff6cba9288b564c01bee82f68?s=128&amp;d=identicon&amp;r=PG&amp;f=1" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="../../../external.html?link=https://serverfault.com/questions/561446/how-can-i-keep-important-vms-in-memory-without-disabling-swap" target="_blank" rel="nofollow noopener">How can I keep important VMs in memory without disabling swap?</a>
</h4>

<div class="tags">
  <strong>virtual-machines, kvm-virtualization, centos6, swap</strong>
</div>

<div class="date">
  asked by
  
  <a href="../../../external.html?link=https://serverfault.com/users/202577/user2970347" target="_blank" rel="nofollow noopener">
    user2970347
  </a>
  on <a href="../../../external.html?link=https://serverfault.com/questions/561446/how-can-i-keep-important-vms-in-memory-without-disabling-swap" target="_blank" rel="nofollow noopener">10:01AM - 15 Dec 13 UTC</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p><a href="../../../external.html?link=https://libvirt.org/formatdomain.html#elementsMemoryBacking" class="onebox" target="_blank" rel="nofollow noopener">https://libvirt.org/formatdomain.html#elementsMemoryBacking</a></p>
<p><code>&lt;memoryBacking&gt;&lt;locked/&gt;&lt;/memoryBacking&gt;</code></p>
<blockquote>
<p>When set and supported by the hypervisor, memory pages belonging to the domain will be locked in host’s memory and the host will not be allowed to swap them out, which might be required for some workloads such as real-time. For QEMU/KVM guests, the memory used by the QEMU process itself will be locked too: unlike guest memory, this is an amount libvirt has no way of figuring out in advance, so it has to remove the limit on locked memory altogether. Thus, enabling this option opens up to a potential security risk: the host will be unable to reclaim the locked memory back from the guest when it’s running out of memory, which means a malicious guest allocating large amounts of locked memory could cause a denial-of-service attack on the host. Because of this, using this option is discouraged unless your workload demands it; even then, it’s highly recommended to set a <code>hard_limit</code> (see <a href="../../../external.html?link=https://libvirt.org/formatdomain.html#elementsMemoryTuning" rel="nofollow noopener">memory tuning</a>) on memory allocation suitable for the specific environment at the same time to mitigate the risks described above.</p>
</blockquote>
<p>Which of these techniques should be recommended on the wiki?</p>
<hr>
<p>Offtopic:</p>
<p>Should we recommend users run the live package on the GW too? I imagine there shouldn’t be any practical dangers after a guard node is set. However things like cached DNS requests or whatever else should be gone safely.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-18T19:58:36Z' class='post-time'>
                April 18, 2019,  7:58pm
              </time>
              <meta itemprop='dateModified' content='2019-04-18T19:58:36Z'>
          <span itemprop='position'>#125</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Where does ^ researched info go on the wiki? Let’s decide on that after you agree on what the best solution is.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-19T08:06:26Z' class='post-time'>
                April 19, 2019,  8:06am
              </time>
              <meta itemprop='dateModified' content='2019-04-19T08:06:26Z'>
          <span itemprop='position'>#126</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Quote <a href="../../../external.html?link=https://tails.boum.org/contribute/design/" rel="nofollow noopener">https://tails.boum.org/contribute/design/</a></p>
<blockquote>
<h3>Host system disks and partitions</h3>
</blockquote>
<blockquote>
<p>Tails takes care not to use any filesystem that might exist on the host machine hard drive, unless explicitly told to do so by the user. The Debian Live persistence feature is disabled by passing <code>nopersistence</code> over the kernel command line to live-boot.</p>
</blockquote>
<p>Added to <a href="../../../external.html?link=https://www.whonix.org/wiki/Grub-live#Comparison" rel="nofollow noopener">https://www.whonix.org/wiki/Grub-live#Comparison</a></p>
<p>Should we also set kernel parameter <code>nopersistence</code>? It’s a live-boot feature, not a linux kernel or grub feature. grub-live depends on liveboot too but I don’t know if it makes a different for grub-live.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-19T08:24:59Z' class='post-time'>
                April 19, 2019,  8:24am
              </time>
              <meta itemprop='dateModified' content='2019-04-19T08:24:59Z'>
          <span itemprop='position'>#127</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="124" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v3/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>It can be done by running <em><strong>sudo swapoff -a</strong></em> and rebooting.</p>
</blockquote>
</aside>
<p>I think that setting is non-persistent, i.e. lost after reboot. Affects current session only.</p>
<p>Disabling swap permanently may involve changing some config file, perhaps /etc/fstab, might require a systemd unit file drop-in.</p>
<p>In case of grub-live on the host: Host operating system specific.</p>
<p>Also <code>sudo apt-get purge swap-file-creator</code> (if someone installed it or still having it installed after [multiple] release upgrade).</p>
<aside class="quote no-group" data-post="124" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v3/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Which of these techniques should be recommended on the wiki?</p>
</blockquote>
</aside>
<p>Don’t know yet.</p>
<p>grub-live on host: When we use grub-live currently - is swap even in use or not?</p>
<p>Whonix with grub-live: Is there even a swap partition or swap file by default in Non-Qubes-Whonix 15?</p>
<aside class="quote no-group" data-post="124" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v3/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Should we recommend users run the live package on the GW too? I imagine there shouldn’t be any practical dangers after a guard node is set. However things like cached DNS requests or whatever else should be gone safely.</p>
</blockquote>
</aside>
<p>Possible internet service provider fingerprinting risk for such users:<br>
Depends on how Tor guard changing process works. Tor might connect with old entry guard (supposed to be changed) since its previous change was not stored on the disk. Depends how that is implemented and if there are any bugs.</p>
<ul>
<li>Tor starts -&gt; notices any entry guard change is due -&gt; changes entry guard -&gt; connects: great</li>
<li>Tor starts -&gt; connects with old entry guard (bug) -&gt; notices any entry guard change is due -&gt; changes entry guard -&gt; connects: fingerprintable</li>
</ul>
<p>Internet service provider fingerprinting for such users:<br>
Tor consensus (since non-persistent) gets downloaded different (more often on reboot) compared to users who use persistence.</p>
<p>Related:<br>
<a href="../../../external.html?link=https://tails.boum.org/blueprint/persistent_Tor_state/" class="onebox" target="_blank" rel="nofollow noopener">https://tails.boum.org/blueprint/persistent_Tor_state/</a></p>
<p>^ in our case it wouldn’t be “completely non-persistent” but still different (caching an old version and then redownloading each time booted in live mode).</p>
<p>Related:<br>
<a href="../../../external.html?link=https://www.whonix.org/wiki/Comparison_with_Others#Fingerprint" rel="nofollow noopener">https://www.whonix.org/wiki/Comparison_with_Others#Fingerprint</a></p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-19T09:00:40Z' class='post-time'>
                April 19, 2019,  9:00am
              </time>
              <meta itemprop='dateModified' content='2019-04-19T09:00:40Z'>
          <span itemprop='position'>#128</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Tails <code>disables removable drives auto-mounting</code>.</p>
<p>Quote <a href="../../../external.html?link=https://tails.boum.org/contribute/design/" rel="nofollow noopener">https://tails.boum.org/contribute/design/</a></p>
<blockquote>
<p>Removable drives auto-mounting is disabled in Tails 0.7 and newer.</p>
</blockquote>
<blockquote>
<p><a href="../../../external.html?link=https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/etc/dconf/db/local.d/00_Tails_defaults" rel="nofollow noopener">https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/etc/dconf/db/local.d/00_Tails_defaults</a></p>
</blockquote>
<blockquote>
<p><a href="../../../external.html?link=https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/etc/dconf/db/local.d/00_Tails_defaults" rel="nofollow noopener">https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/etc/dconf/db/local.d/00_Tails_defaults</a> contains config for GNOME only, which is OK in context of Tails since Tails’ default desktop is GNOME and others are unsupported.</p>
</blockquote>
<p>Added to <a href="../../../external.html?link=https://www.whonix.org/wiki/Grub-live#Comparison" rel="nofollow noopener">https://www.whonix.org/wiki/Grub-live#Comparison</a></p>
<p>I wonder if <code>grub-live</code> should implement <code>disables removable drives auto-mounting</code> too? Either:</p>
<ul>
<li>By default, if <code>grub-live</code> is installed: might be easy to implement, though XFCE only. Supporting this for all kinds of host desktop environments and package selections might be difficult.</li>
<li>Same as above, but only when using live boot option in grub boot menu: might be more difficult to implement. (Some code, if live boot, drop disable auto mount config snippet; if persistent boot, delete auto mount config snippet.)</li>
</ul>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-19T10:56:54Z' class='post-time'>
                April 19, 2019, 10:56am
              </time>
              <meta itemprop='dateModified' content='2019-04-19T10:56:54Z'>
          <span itemprop='position'>#129</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I am looking at <a href="../../../external.html?link=https://tails.boum.org/contribute/design/" rel="nofollow noopener">Tails design document</a> and trying to figure out what Tails does in order to implement amnesia / non-persistence / anti-forensics so these features can be implemented in <code>grub-live</code> (or where appropriate) too.</p>
<p>This is what I found:</p>
<hr>
<ol>
<li>Debian live based</li>
</ol>
<hr>
<ol start="2">
<li>Host system disks and partitions</li>
</ol>
<blockquote>
<p>Tails takes care not to use any filesystem that might exist on the host machine hard drive, unless explicitly told to do so by the user. The Debian Live persistence feature is disabled by passing <code>nopersistence</code> over the kernel command line to live-boot.</p>
<ul>
<li><a href="../../../external.html?link=https://git-tails.immerda.ch/tails/plain/config/amnesia" rel="nofollow noopener">config/amnesia</a></li>
</ul>
</blockquote>
<hr>
<ol start="3">
<li>Filesystems stored on removable devices</li>
</ol>
<blockquote>
<p>Removable drives auto-mounting is disabled in Tails 0.7 and newer.</p>
<ul>
<li><a href="../../../external.html?link=https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/etc/dconf/db/local.d/00_Tails_defaults" rel="nofollow noopener">config/chroot local-includes/etc/dconf/db/local.d/00 Tails defaults</a></li>
</ul>
</blockquote>
<hr>
<p>4): wiperam</p>
<blockquote>
<p>Host system RAM</p>
</blockquote>
<blockquote>
<p>In order to protect against memory recovery such as cold boot attack, most of the system RAM is overwritten when Tails is being shutdown or when the boot medium is physically removed. Also, memory allocated to processes is erased upon process termination.</p>
</blockquote>
<p>(related: <a href="../is-ram-wipe-possible-inside-whonix-cold-boot-attack-defense/5596.html" class="inline-onebox">Is RAM Wipe possible inside Whonix?</a>)</p>
<hr>
<ol start="5">
<li>swap</li>
</ol>
<blockquote>
<p>Host system swap</p>
</blockquote>
<blockquote>
<p>Tails takes care not to use any swap filesystem that might exist on the host machine hard drive. Most of this is done at build time: the <code>/sbin/swapon</code> binary is replaced by a fake no-op script, and live-boot’s <code>swapon</code> option is not set.</p>
</blockquote>
<blockquote>
<ul>
<li><a href="../../../external.html?link=https://git-tails.immerda.ch/tails/plain/config/chroot_local-hooks/05-disable_swapon" rel="nofollow noopener">config/chroot local-hooks/05-disable swapon</a></li>
</ul>
</blockquote>
<hr>
<p>Did I miss any Tails amnesia features?</p>
<p>Could anyone please double check <a href="../../../external.html?link=https://tails.boum.org/contribute/design/" rel="nofollow noopener">https://tails.boum.org/contribute/design/</a> and/or research further on how Tails implements non-persistence?</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-19T11:05:52Z' class='post-time'>
                April 19, 2019, 11:05am
              </time>
              <meta itemprop='dateModified' content='2019-04-19T11:05:52Z'>
          <span itemprop='position'>#130</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group quote-modified" data-post="126" data-topic="3894" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Quote <a href="../../../external.html?link=https://tails.boum.org/contribute/design/" rel="nofollow noopener">https://tails.boum.org/contribute/design/</a></p>
<blockquote>
<h3>Host system disks and partitions</h3>
</blockquote>
<blockquote>
<p>Tails takes care not to use any filesystem that might exist on the host machine hard drive, unless explicitly told to do so by the user. The Debian Live persistence feature is disabled by passing <code>nopersistence</code> over the kernel command line to live-boot.</p>
</blockquote>
<p>Added to <a href="../../../external.html?link=https://www.whonix.org/wiki/Grub-live#Comparison" rel="nofollow noopener">https://www.whonix.org/wiki/Grub-live#Comparison</a></p>
<p>Should we also set kernel parameter <code>nopersistence</code> ? It’s a live-boot feature, not a linux kernel or grub feature. grub-live depends on liveboot too but I don’t know if it makes a different for grub-live.</p>
</blockquote>
</aside>
<p>More likely than not cannot hurt until we have a good reason to remove it.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/grub-live/commit/424e4aae13b1c936141af98784934090ec566022" target="_blank" rel="nofollow noopener">github.com/Whonix/grub-live</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/Whonix/grub-live/commit/424e4aae13b1c936141af98784934090ec566022" target="_blank" rel="nofollow noopener">set kernel parameter nopersistence</a>
</h4>

  <pre class="message" style="white-space: normal;">https://forums.whonix.org/t/whonix-live-mode-amnesia-amnesic-non-persistent-anti-forensics/3894/126</pre>

<div class="date">
  by <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../external.html?link=https://github.com/Whonix/grub-live/commit/424e4aae13b1c936141af98784934090ec566022" target="_blank" rel="nofollow noopener">11:04AM - 19 Apr 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-19T19:54:43Z' class='post-time'>
                April 19, 2019,  7:54pm
              </time>
              <meta itemprop='dateModified' content='2019-04-19T19:54:43Z'>
          <span itemprop='position'>#131</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="127" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I think that setting is non-persistent, i.e. lost after reboot. Affects current session only.</p>
<p>Disabling swap permanently may involve changing some config file, perhaps /etc/fstab, might require a systemd unit file drop-in.</p>
</blockquote>
</aside>
<p>Indeed. My solution was to include it in rc.local instead of messing with the fstab, but that’s just a simple hackish workaround not something suitable for a Whonix Host. Though for someone wanting to run a Whonix live VM it is doable and necessary to be certain no traces are left.</p>
<aside class="quote no-group" data-post="127" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>grub-live on host: When we use grub-live currently - is swap even in use or not?</p>
</blockquote>
</aside>
<p>Haven’t tried it, does it disable swap when running?</p>
<p>What concerns me at the moment is running on a default Linux host that is non-live to be as safe as possible for a Whonix-live VM.</p>
<aside class="quote no-group" data-post="127" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Whonix with grub-live: Is there even a swap partition or swap file by default in Non-Qubes-Whonix 15?</p>
</blockquote>
</aside>
<p>Nothing turns up under <code>cat /proc/swaps</code></p>
<aside class="quote no-group" data-post="127" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Possible internet service provider fingerprinting risk for such users:<br>
Depends on how Tor guard changing process works. Tor might connect with old entry guard (supposed to be changed) since its previous change was not stored on the disk. Depends how that is implemented and if there are any bugs.</p>
</blockquote>
</aside>
<p>You’re right such risks exist. It is already the case for people following the 1Guard/App advice anyhow or those who use snapshots to avoid storing state between different WS VM  trust levels. However I think the good still exceeds the fingerprinting disadvantages. Int that case - leaking destinations/DNS caced info about visited locations which could be just as bad as storing the state of the site/webpages itself on the disk in the WS.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-19T21:15:34Z' class='post-time'>
                April 19, 2019,  9:15pm
              </time>
              <meta itemprop='dateModified' content='2019-04-19T21:30:03Z'>
          <span itemprop='position'>#132</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="126" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Should we also set kernel parameter <code>nopersistence</code> ? It’s a live-boot feature, not a linux kernel or grub feature. grub-live depends on liveboot too but I don’t know if it makes a different for grub-live.</p>
</blockquote>
</aside>
<p>Seems necessary to prevent accidental use of host file systems when booted from a stick.</p>
<hr>
<aside class="quote no-group" data-post="129" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Filesystems stored on removable devices</p>
</blockquote>
</aside>
<p>Done for security against malicious device rather than for anti-forensics</p>
<blockquote>
<p>2.7.3 Mounting of filesystems stored on removable devices</p>
</blockquote>
<p>Some attacks recently put under the spotlights exploit vulnerabilities in the desktop software stack that triggers automatic mounting, display and files preview of filesystems stored on removable devices.</p>
<aside class="quote no-group" data-post="129" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Did I miss any Tails amnesia features?</p>
</blockquote>
</aside>
<p>Looks like you got them all.</p>
<p>Two features unrelated to live system that seem interesting and worth looking into:</p>
<h4>2.6.3.7 “Virtual” input system</h4>
<h3>2.7.2 (Disabling) HTTP keepalive</h3>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-19T22:02:32Z' class='post-time'>
                April 19, 2019, 10:02pm
              </time>
              <meta itemprop='dateModified' content='2019-04-19T22:02:32Z'>
          <span itemprop='position'>#133</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>New section added using yesterday’s info:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/Grub-live#Anti-Forensics_Precautions" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="../../../external.html?link=https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" class="thumbnail"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Grub-live#Anti-Forensics_Precautions" target="_blank" rel="nofollow noopener">Grub-live</a></h3>

<p>Boot your Debian installation into Live Mode. Read-only mode. Make all writes go to RAM instead of the hard disk. This is NOT - YET - an anti-forensic...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-20T04:46:02Z' class='post-time'>
                April 20, 2019,  4:46am
              </time>
              <meta itemprop='dateModified' content='2019-04-20T04:46:02Z'>
          <span itemprop='position'>#134</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="131" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v3/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Indeed. My solution was to include it in rc.local instead of messing with the fstab, but that’s just a simple hackish workaround not something suitable for a Whonix Host. Though for someone wanting to run a Whonix live VM it is doable and necessary to be certain no traces are left.</p>
</blockquote>
</aside>
<p>I don’t think it’s a good solution at all. First during boot swap file get used and then at a non-guaranteed time, swap will be disabled. By that time, encryption keys could have already leaked into it.</p>
<aside class="quote no-group" data-post="131" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v3/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Haven’t tried it, does it disable swap when running?</p>
</blockquote>
</aside>
<p>Yet to be checked.</p>
<aside class="quote no-group" data-post="131" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v3/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>However I think the good still exceeds the fingerprinting disadvantages.</p>
</blockquote>
</aside>
<p>Then we need to point out these fingerprinting disadvantages and let users decide.</p>
<p>Perhaps the perfect use (accepting fingerprinting disadvantages) would be: shut down all Whonix-Workstations, boot Whonix-Gateway into persistent mode (let Tor do its thing, update Tor state files (entry guards, Tor consensus) and then reboot Whonix-Gateway into live mode. Only then start Whonix-Workstations. To be repeated how often?</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-20T09:10:00Z' class='post-time'>
                April 20, 2019,  9:10am
              </time>
              <meta itemprop='dateModified' content='2019-04-20T09:10:00Z'>
          <span itemprop='position'>#135</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p>New section added using yesterday’s info:</p>
</blockquote>
<p>Partially doesn’t belong there.</p>
<ul>
<li>
<a href="../../../external.html?link=https://www.whonix.org/wiki/Grub-live" rel="nofollow noopener">https://www.whonix.org/wiki/Grub-live</a> talks about Debian hosts.</li>
<li>
<a href="../../../external.html?link=https://www.whonix.org/wiki/Whonix_Live" rel="nofollow noopener">https://www.whonix.org/wiki/Whonix_Live</a> talks about Whonix VMs.</li>
</ul>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-20T18:11:14Z' class='post-time'>
                April 20, 2019,  6:11pm
              </time>
              <meta itemprop='dateModified' content='2019-04-20T18:11:14Z'>
          <span itemprop='position'>#136</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="134" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I don’t think it’s a good solution at all.</p>
</blockquote>
</aside>
<p>OK then let’s figure out the proper way to do this even if it is a little longer and I’ll add it instead.</p>
<p>I think the only advantage of mitigating forensic leaks on a persistent host instead of just using grub-live is in a scenario where a user wants selective amnesia for some VMs but not all. Theoretically this can be addressed in grub-live by allowing the user to select which arbitrary directories and files they want to exempt. Which they can then choose the qcow2 of other VMs to keep their state.</p>
<p>In fact if this is easily doable I’d rather just point people to grub-live instead of all the precautions needed to protect them on a persistent host.</p>
<aside class="quote no-group" data-post="134" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Then we need to point out these fingerprinting disadvantages and let users decide.</p>
</blockquote>
</aside>
<p>Fair enough, but I think even the workaround is not enough since a user cannot predict exactly when Tor needs to renew its guard. It would increase complexity without guaranteed results.</p>
<hr>
<p>Besides swap there is the problem of disabling process memory dumping to disk.</p>
<p>A user has to go out of their way to configure the kernel to do this with kdump-tools on Debian:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.bentasker.co.uk/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.bentasker.co.uk/documentation/linux/312-installing-and-configuring-kdump-on-debian-jessie" target="_blank" title="10:25PM - 27 August 2015" rel="nofollow noopener">BenTasker.co.uk – 27 Aug 15</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://static1.bentasker.co.uk/images/eagle_black_large.png" class="thumbnail" width="" height="">

<h3><a href="../../../external.html?link=https://www.bentasker.co.uk/documentation/linux/312-installing-and-configuring-kdump-on-debian-jessie" target="_blank" rel="nofollow noopener">Installing and Configuring KDump on Debian Jessie</a></h3>

<p>Having kdump enabled on a server provides a number of benefits, not least that in the event of a kernel panic you can collect a core-dump to help investigations into the root cause.

This documentation details the simple steps required to get KDump...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>However systemd seems to do this for all userspace processes and needs this to be explicitly disabled in its own config files because it ignores sysctl options:</p>
<p><a href="../../../external.html?link=https://wiki.archlinux.org/index.php/Core_dump" class="onebox" target="_blank" rel="nofollow noopener">https://wiki.archlinux.org/index.php/Core_dump</a></p>
<hr>
<p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/algernon">@Algernon</a> since you maintain</p>
<ul>
<li>
<a href="../../../external.html?link=https://www.whonix.org/wiki/Whonix_Live" rel="nofollow noopener">https://www.whonix.org/wiki/Whonix_Live</a><br>
are you OK with me transferring over the precaution section in:</li>
<li>
<a href="../../../external.html?link=https://www.whonix.org/wiki/Grub-live#Anti-Forensics_Precautions" rel="nofollow noopener">https://www.whonix.org/wiki/Grub-live#Anti-Forensics_Precautions</a> ?</li>
</ul>
<p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/algernon">@Algernon</a> &amp; <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> Do you think it is valuable to document this at all?</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-21T12:42:00Z' class='post-time'>
                April 21, 2019, 12:42pm
              </time>
              <meta itemprop='dateModified' content='2019-04-21T12:42:00Z'>
          <span itemprop='position'>#137</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>HulaHoop via Whonix Forum:</p>
<blockquote>
<p>I think the only advantage of mitigating forensic leaks on a persistent host instead of just using grub-live is in a scenario where a user wants selective amnesia for some VMs but not all.</p>
</blockquote>
<blockquote>
<p>In fact if this is easily doable I’d rather just point people to<br>
grub-live instead of all the precautions needed to protect them on a<br>
persistent host.</p>
</blockquote>
<blockquote>
<p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> Do you think it is valuable to document this at all?</p>
</blockquote>
<p>Yes.</p>
<p>grub-live isn’t a set and forget just yet. Swap among other things are<br>
not yet researched.</p>
<p>That research related to “selective amnesia for some VMs but not all”<br>
might be useful anyhow.</p>
<ul>
<li>We might end up having to implement these things (such as disabling<br>
swap) in grub-live or other packages as appropriate.</li>
<li>Also “not using the disk” may translate to “requires less RAM, less<br>
likely to run out of RAM”.</li>
</ul>
<p>Previous research by you on <a href="../../../external.html?link=https://www.whonix.org/wiki/Encrypted_Images" rel="nofollow noopener">https://www.whonix.org/wiki/Encrypted_Images</a><br>
seems helpful here too. Perhaps we do have to disable core dumps or<br>
something. Perhaps these would leak to the disk. It depends on their<br>
storage locations (not yet researched) and if these folders are covered<br>
by grub-live.</p>
<blockquote>
<p>Theoretically this can be addressed in grub-live by allowing the user to select which arbitrary directories and files they want to exempt. Which they can then choose the qcow2 of other VMs to keep their state.</p>
<p>In fact if this is easily doable […]</p>
</blockquote>
<p>grub-live is a very simple (as in very few lines of code) implementation.</p>
<p>(I don’t indicate it was simple to invent. It took years until a<br>
contributor, namely Algernon, stepped up and implemented it.)</p>
<p>In essence only this file<br>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/grub-live/blob/master/etc/grub.d/11_linux_live" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../external.html?link=https://github.com/Whonix/grub-live/blob/master/etc/grub.d/11_linux_live" target="_blank" rel="nofollow noopener">Whonix/grub-live/blob/master/etc/grub.d/11_linux_live</a></h4>
<pre><code class="lang-d/11_linux_live">#! /bin/sh
set -e

GRUB_DEVICE="/dev/disk/by-uuid/${GRUB_DEVICE_UUID}"
unset GRUB_DEVICE_UUID
GRUB_CMDLINE_LINUX="$GRUB_CMDLINE_LINUX boot=live plainroot union=overlay ip=frommedia noeject nopersistence"
GRUB_DISTRIBUTOR="${GRUB_DISTRIBUTOR} Live-mode"

export \
   GRUB_DEVICE \
   GRUB_CMDLINE_LINUX \
   GRUB_DISTRIBUTOR

if test -x /etc/grub.d/10_linux ; then
	/etc/grub.d/10_linux
fi
</code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<ul>
<li>update-grub.</li>
</ul>
<p>No idea if selective persistence of specific folders (even if booting<br>
into live mode) will be a future feature. First of all, we have to<br>
research how to make (part of) the disk writeable after booting into<br>
live mode. May be possible to remount (some folders) as read/write.</p>
<blockquote>
<aside class="quote no-group" data-post="134" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Then we need to point out these fingerprinting disadvantages and let users decide.</p>
</blockquote>
</aside>
<p>Fair enough, but I think even the workaround is not enough since a user cannot predict exactly when Tor needs to renew its guard. It would increase complexity without guaranteed results.</p>
</blockquote>
<p>Results are guaranteed just the entry guard change happens a day later<br>
than planned. Better than never at all.</p>
<blockquote>
<hr>
<p>Besides swap there is the problem of disabling process memory dumping to disk.</p>
<p>A user has to go out of their way to configure the kernel to do this with kdump-tools on Debian:</p>
<p><a href="../../../external.html?link=https://www.bentasker.co.uk/documentation/linux/312-installing-and-configuring-kdump-on-debian-jessie" rel="nofollow noopener">https://www.bentasker.co.uk/documentation/linux/312-installing-and-configuring-kdump-on-debian-jessie</a></p>
<p>However systemd seems to do this for all userspace processes and needs this to be explicitly disabled in its own config files because it ignores sysctl options:</p>
<p><a href="../../../external.html?link=https://wiki.archlinux.org/index.php/Core_dump" rel="nofollow noopener">https://wiki.archlinux.org/index.php/Core_dump</a></p>
</blockquote>
<p>Good points.</p>
<p>My hope that hosts booted into persistent mode and selected VMs into<br>
live mode will end up in with amnesic VMs is rather low. Specifically if<br>
we try to create a package for all Debian users to gather all of these<br>
configs. There are too many kernel options, init systems, packages,<br>
application specific dumps and whatnot to claim having that all under<br>
control.</p>
<p>Much more realistically is to boot into live mode and then perhaps<br>
optionally let users selectively configure a few persistent folders.</p>
<p>grub-live may never be the perfect amnesic solution for all of Debian<br>
users: too many init systems, non-grub boot loaders, many more packages<br>
than we can know.</p>
<p>The only tested-by-us-sometimes amnesic system might be a Debian<br>
derivative that was build by us (because then we have bootloader, init<br>
system, package selection under control and it’s not “do whatever you<br>
want such as change of bootloader”, what is supported and unsupported<br>
has to be defined).</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-22T09:52:47Z' class='post-time'>
                April 22, 2019,  9:52am
              </time>
              <meta itemprop='dateModified' content='2019-04-22T09:52:47Z'>
          <span itemprop='position'>#138</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Another related Tails feature: emergency shutdown on USB removal.</p>
<p>(added to <a href="../../../external.html?link=https://www.whonix.org/wiki/Grub-live#Comparison" rel="nofollow noopener">https://www.whonix.org/wiki/Grub-live#Comparison</a>)</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Algernon'><span itemprop='name'>Algernon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-22T14:47:04Z' class='post-time'>
                April 22, 2019,  2:47pm
              </time>
              <meta itemprop='dateModified' content='2019-04-22T14:47:04Z'>
          <span itemprop='position'>#139</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="136" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v3/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>are you OK with me transferring over the precaution section in:</p>
</blockquote>
</aside>
<p>Sure.</p>
<aside class="quote no-group" data-post="137" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>No idea if selective persistence of specific folders (even if booting<br>
into live mode) will be a future feature. First of all, we have to<br>
research how to make (part of) the disk writeable after booting into<br>
live mode. May be possible to remount (some folders) as read/write.</p>
</blockquote>
</aside>
<p>It is recommended to use write protection at the hypervisor level (or host) so you can’t make specific folders on those disks writable.<br>
You could maybe use different partitions and mount some ro and others rw but this would complicate the whole setup and still the disk would need to be writable in general.<br>
imho you can only do this either via some shared folders or attaching some other writable disk.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-22T14:52:54Z' class='post-time'>
                April 22, 2019,  2:52pm
              </time>
              <meta itemprop='dateModified' content='2019-04-22T14:52:54Z'>
          <span itemprop='position'>#140</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>From grub-live comparison wiki:</p>
<blockquote>
<p>protects against malware persistence on hard drive after malware compromise</p>
</blockquote>
<p>Hm. Even with Tails, advanced malware can still flash the underlying firmware of the machine and persist. Perhaps the iso written to a ro disc will be clean (if it doesn’t figure out how to write itself quietly to it) but the USB as a medium is susceptible to malware modification.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="3894c575.html?page=6">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="3894fdfa.html?page=8">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
