<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics - Development - Whonix Forum</title>
    <meta name="description" content="Is there any interest in running whonix in live mode? 
I came across this (Raspbian with Read-only Root - Raspberry Pi Forums) a while ago and tested it on a debian vm. 
It only requires a small patch to the initramfs an&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="3894.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics&#39;" href="3894.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-live-mode-amnesia-amnesic-non-persistent-anti-forensics/3894" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-live-mode-amnesia-amnesic-non-persistent-anti-forensics/3894" />
<meta property="og:title" content="Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics" />
<meta name="twitter:title" content="Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics" />
<meta property="og:description" content="Is there any interest in running whonix in live mode?  I came across this (Raspbian with Read-only Root - Raspberry Pi Forums) a while ago and tested it on a debian vm.  It only requires a small patch to the initramfs and minor changes in the grub config.  With the setup you could run whonix always as a live system. Writes would go to RAM by default. But e.g. by choosing another boot option you could boot into an ‚Äúupdate-mode‚Äù where you install updates, new software or make other persistent chan..." />
<meta name="twitter:description" content="Is there any interest in running whonix in live mode?  I came across this (Raspbian with Read-only Root - Raspberry Pi Forums) a while ago and tested it on a debian vm.  It only requires a small patch to the initramfs and minor changes in the grub config.  With the setup you could run whonix always as a live system. Writes would go to RAM by default. But e.g. by choosing another boot option you could boot into an ‚Äúupdate-mode‚Äù where you install updates, new software or make other persistent chan..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="59 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="141 ‚ù§" />
<meta property="article:published_time" content="2017-05-18T19:51:12+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="38944658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="3894.html">Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Algernon'><span itemprop='name'>Algernon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-18T19:51:12Z' class='post-time'>
                May 18, 2017,  7:51pm
              </time>
              <meta itemprop='dateModified' content='2021-08-31T17:12:02Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Is there any interest in running whonix in live mode?<br>
I came across this (<a href="../../../external.html?link=https://www.raspberrypi.org/forums/viewtopic.php?f=63&amp;t=161416" class="inline-onebox" rel="noopener nofollow ugc">Raspbian with Read-only Root - Raspberry Pi Forums</a>) a while ago and tested it on a debian vm.<br>
It only requires a small patch to the initramfs and minor changes in the grub config.<br>
With the setup you could run whonix always as a live system. Writes would go to RAM by default. But e.g. by choosing another boot option you could boot into an ‚Äúupdate-mode‚Äù where you install updates, new software or make other persistent changes. After that you switch back to the live mode.<br>
In that way you could also have a persistent entry guard. Or boot multiple instances of whonix from the same image. Of course you could also always boot into persistent mode if you choose to do so.<br>
To be really sure that nothing is written to disk in live mode you should make the disk immutable or read only via the vm software.<br>
At the moment overlayfs is used for this but I hope this could also be implemented with dracut + device mapper (going to test it soon). Overlayfs has some issues with MAC and when editing large files which requires a lot of RAM depending on the file size.<br>
Something like this could also be interesting for a linux based host os with maybe a hardware write protection switch.</p>
<p>EDIT by Patrick:</p>
<p>                    <a href="../../../external.html?link=https://www.whonix.org/w/images/c/c6/Live_boot_cropped_more.png" target="_blank" rel="noopener nofollow ugc" class="onebox">
            <img src="../../../external.html?link=https://www.whonix.org/w/images/c/c6/Live_boot_cropped_more.png" width="446" height="86">
          </a>

</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">

      <a href="../../../external.html?link=https://www.whonix.org/wiki/VM_Live_Mode" target="_blank" rel="noopener nofollow ugc" title="03:47PM - 28 April 2021">Whonix ‚Äì 28 Apr 21</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/381;"><img src="../../../external.html?link=https://www.whonix.org/w/images/b/bf/Live_boot.png" class="thumbnail" width="690" height="381"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/VM_Live_Mode" target="_blank" rel="noopener nofollow ugc">VM Live Mode: Stop Persistent Malware</a></h3>

  <p>Read-only mode. Make all writes go to non-persistent memory (RAM) instead of the hard disk. This is NOT an anti-forensics feature! For anti-forensics, check out Host Live Mode.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>                    <a href="../../../external.html?link=https://www.whonix.org/w/images/d/d8/Grub-live_mode_indicator_in_debian.cleaned.png" target="_blank" rel="noopener nofollow ugc" class="onebox">
            <img src="../../../external.html?link=https://www.whonix.org/w/images/d/d8/Grub-live_mode_indicator_in_debian.cleaned.png" width="689" height="396">
          </a>

</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">

      <a href="../../../external.html?link=https://www.whonix.org/wiki/Host_Live_Mode" target="_blank" rel="noopener nofollow ugc" title="03:47PM - 28 April 2021">Whonix ‚Äì 28 Apr 21</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/494;"><img src="../../../external.html?link=https://www.whonix.org/w/images/b/b3/Hostlive.png" class="thumbnail" width="640" height="494"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Host_Live_Mode" target="_blank" rel="noopener nofollow ugc">Host Live Mode: Boot existing Host Operating System into Live Mode</a></h3>

  <p>Add a Live Mode entry to the grub boot menu on your existing Debian host platform. Stop Persistent Malware. Read-only mode. Make all writes go to non-persistent storage (RAM) instead of the hard disk.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">

      <a href="../../../external.html?link=https://www.whonix.org/wiki/Grub-live" target="_blank" rel="noopener nofollow ugc" title="02:59PM - 01 March 2021">Whonix ‚Äì 1 Mar 21</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/428;"><img src="../../../external.html?link=https://www.whonix.org/w/images/a/a6/Grublive123123.jpg" class="thumbnail" width="640" height="428"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Grub-live" target="_blank" rel="noopener nofollow ugc">grub-live: Boot existing Host Operating System or VM into Live Mode</a></h3>

  <p>Add a Live Mode entry to the grub boot menu on your existing Debian host platform. Stop Persistent Malware. Read-only mode. Make all writes go to non-persistent storage (RAM) instead of the hard disk.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../whonix-live-testers-wanted/6291.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../whonix-live-testers-wanted/6291.html'>
                      <span itemprop='name'>Whonix LIVE - Testers Wanted!</span>
                    </a>
                    <meta itemprop='position' content='7'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../whonix-host-operating-system/3931/36.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../whonix-host-operating-system/3931/36.html'>
                      <span itemprop='name'>Whonix host operating system</span>
                    </a>
                    <meta itemprop='position' content='8'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../long-wiki-edits-thread/3477/1114.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../long-wiki-edits-thread/3477/1114.html'>
                      <span itemprop='name'>Long Wiki Edits Thread</span>
                    </a>
                    <meta itemprop='position' content='9'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-18T23:45:15Z' class='post-time'>
                May 18, 2017, 11:45pm
              </time>
              <meta itemprop='dateModified' content='2017-05-18T23:45:15Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sure, that‚Äôs super interesting! Has been asked many times here. There is just a shortage of developer time. If you would like to step up to <a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute#Maintainer_Responsibilities">maintain</a> this functionality, you‚Äôre most welcome to!</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-20T04:09:48Z' class='post-time'>
                May 20, 2017,  4:09am
              </time>
              <meta itemprop='dateModified' content='2017-05-20T04:09:48Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thats an incredible feature to have. Might act as a second line of defense against forensics if the FDE is bypassed. Its also the best of both worlds selective amnesia while allowing users to backup files they wan to keep via shared folders</p>
<p>Knoppix has/had a toram boot option that did all that. <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/algernon">@Algernon</a> can you find a similar feature or package that can make Debian do this?</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-21T11:02:18Z' class='post-time'>
                May 21, 2017, 11:02am
              </time>
              <meta itemprop='dateModified' content='2017-05-21T11:02:18Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Seems that Debian has such a tool. <em>debirf</em>:</p>
<blockquote>
<p>build a kernel and initrd to run Debian from RAM</p>
</blockquote>
<blockquote>
<p>debirf (DEBian on Initial Ram Filesystem) is a set of tools designed to create and prepare a kernel and initial ram filesystem that can run a full-blown Debian environment entirely from RAM.</p>
</blockquote>
<blockquote>
<p>The kernel and initramfs pair created by debirf can be used for a myriad of purposes, from quick-and-easy system repair to diskless thin clients. The kernel and initrd can be placed in your system boot partition, burnt to read-only media, or supplied by a netboot server.</p>
</blockquote>
<blockquote>
<p>The debirf tools use a module architecture which allows you to customize debirf for any possible purpose by specifying what components are included in the generated image.</p>
</blockquote>
<p><aside class="onebox wikipedia">
  <header class="source">
      <a href="../../../external.html?link=https://en.wikipedia.org/wiki/List_of_Linux_distributions_that_run_from_RAM" target="_blank" rel="nofollow noopener">en.wikipedia.org</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:250/156;"><img src="../../../external.html?link=http://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Puppy_Linux_5.1.0.png/250px-Puppy_Linux_5.1.0.png" class="thumbnail"></div>

<h3><a href="../../../external.html?link=https://en.wikipedia.org/wiki/List_of_Linux_distributions_that_run_from_RAM" target="_blank" rel="nofollow noopener">List of Linux distributions that run from RAM</a></h3>

<p>This is a list of Linux distributions that can be run entirely from the computer's RAM. That ability allows them to be very fast, since reading and writing data from/to RAM is much faster than on a hard disk drive. Many of these operating systems will load from a removable media such as a Live CD or a Live USB stick. A "frugal" install can also often be completed, allowing boot up from a hard disk drive instead. This feature is implemented in live-initramfs and allows the user to run a live distr...</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<a href="../../../external.html?link=http://cmrg.fifthhorseman.net/wiki/debirf" class="onebox" target="_blank">http://cmrg.fifthhorseman.net/wiki/debirf</a><br>
<a href="../../../external.html?link=https://packages.debian.org/stretch/debirf" class="onebox" target="_blank">https://packages.debian.org/stretch/debirf</a></p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Algernon'><span itemprop='name'>Algernon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-22T11:52:42Z' class='post-time'>
                May 22, 2017, 11:52am
              </time>
              <meta itemprop='dateModified' content='2017-05-22T11:52:42Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
<p>Afaik most of debian live cds like Tails, Knoppix ‚Ä¶ support running from RAM if you append ‚Äútoram‚Äù to the boot options. There is also some kind of persistence possible but not in the way as described here since the iso files have a squashed filesystem which is always read only.<br>
I haven‚Äôt heard of debirf before but I don‚Äôt see any advantages over the ‚Äústandard‚Äù debian live mode. Instead of an additional filesystem.squashfs you have everything in the initrd. Instead of overlayfs +tmpfs only tmpfs seems to be used.</p>
<p>In case anyone wants to test the selective amnesia with dracut:</p>
<p>I started with the whonix 14 workstation kvm image.<br>
Then did:<br>
sudo apt-get update<br>
sudo apt-get install dracut</p>
<p>Dracut will be installed and initramfs-tools will be removed. Don‚Äôt do ‚Äúapt-get autoremove‚Äù afterwards or you will remove half of whonix. A lot of whonix packages seem to depend on initramfs-tools, so that would need to be fixed.<br>
Make /etc/dracut.conf.d/10-debian.conf look like:</p>
<p>do_prelink=no<br>
hostonly=no<br>
add_dracutmodules+=" dmsquash-live "</p>
<p>edit  (/usr)/lib/dracut/modules.d/90dmsquash-live/dmsquash-live-root.sh:</p>
<p>change overlay_size=512 to overlay_size=32768</p>
<p>after line 266 add:</p>
<p>else<br>
BASE_LOOPDEV=$( losetup -f )<br>
umount /run/initramfs/live<br>
losetup -r $BASE_LOOPDEV $livedev<br>
do_live_from_base_loop</p>
<p>Save file. Then do:</p>
<p>sudo dracut</p>
<p>A new initramfs will be generated under /boot/initramfs-4.9.0-1-amd64.img<br>
Now either change grub manually at next boot or to make it permanent edit<br>
/boot/grub/grub.cfg<br>
Copy and paste the first menuentry, keep the old one. Edit the first entry (rename it to live mode or something).<br>
Change ‚Äúroot=UUID=‚Ä¶‚Äù to "root=live:UUID=‚Ä¶"<br>
change ‚Äúinitrd   /boot/initrd.img-4.9.0-1-amd64‚Äù to ‚Äúinitrd  /boot/initramfs-4.9.0-1-amd64.img‚Äù</p>
<p>Save the file and shutdown the vm. Make the hd read only and boot the vm. It should automatically boot in live mode. During booting it likes to drop to emergency mode but just press ctrl +d and it will boot to the desktop. This does not happen always but i don‚Äôt know if it is related to whonix or due to the development version. Other debian stretch vm‚Äôs boot normally.<br>
You can create files etc which should be gone after a reboot. Be aware, currently, if you delete files you don‚Äôt get the RAM back. Hopefully this can be fixed in future. So if you download large files you might run out of RAM and the system will become read only or crash even if you delete large files from time to time.<br>
When you reboot and disable the write protection and choose the normal whonix boot mode you can install updates and create persistent files as always.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-22T13:25:56Z' class='post-time'>
                May 22, 2017,  1:25pm
              </time>
              <meta itemprop='dateModified' content='2017-05-22T13:25:56Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Dependency on <code>initramfs-tools</code> is declared here.</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/anon-meta-packages/blob/92c70963ed34953a81f8e53273453926b738ea18/debian/control#L15-L25" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../external.html?link=https://github.com/Whonix/anon-meta-packages/blob/92c70963ed34953a81f8e53273453926b738ea18/debian/control#L15-L25" target="_blank" rel="nofollow noopener">Whonix/anon-meta-packages/blob/92c70963ed34953a81f8e53273453926b738ea18/debian/control#L15-L25</a></h4>
<pre class="onebox"><code class="lang-"><ol class="start lines" start="15" style="counter-reset: li-counter 14 ;">
<li>Package: non-qubes-vm-enhancements</li>
<li>Architecture: all</li>
<li>Depends: power-savings-disable-in-vms, rads,</li>
<li>shared-folder-help, swap-file-creator, swappiness-lowest,</li>
<li>keyboard-configuration, kbd, acpi-support,</li>
<li>console-common, console-setup, initramfs-tools, os-prober,</li>
<li>libasound2, alsa-utils, pulseaudio, ${misc:Depends}</li>
<li>Description: Recommended packages for VMs other than Qubes VMs</li>
<li>A metapackage, which includes recommended packages which are useful within</li>
<li>non-Qubes virtual machines. These are not useful in Qubes, since Qubes already</li>
<li>has native implementations for those.</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>I wonder if we could remove it? VirtualBox guest additions probably needs <code>update-initramfs</code> (dunno if it works with dracut equivalent if ther is any? Might be better to make initramfs-tools a <code>weak recommended package</code>. (Meaning we apt-get install it during Whonix build, but don‚Äôt have some Whonix meta package depend on it.)</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-22T13:56:41Z' class='post-time'>
                May 22, 2017,  1:56pm
              </time>
              <meta itemprop='dateModified' content='2017-05-22T13:56:41Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>To prevent the autoremoval‚Ä¶</p>
<pre><code>sudo aptitude keep-all
</code></pre>
<p>(As per <a href="../../../external.html?link=https://www.whonix.org/wiki/Whonix_Debian_Packages.)">https://www.whonix.org/wiki/Whonix_Debian_Packages.)</a></p>
<hr>
<p>There is one issue here‚Ä¶? The VM images being amnesic does not help if the host is not amnesic, right? So instead of doing this inside Whonix VMs, it should be done on the host operating system?</p>
<hr>
<p>What‚Äôs next here? Do you wish to research / test this more? Or jump right into documenting this in the wiki and maintaining this?</p>
<p><a href="../../../external.html?link=https://www.whonix.org/wiki/Whonix_Live">https://www.whonix.org/wiki/Whonix_Live</a></p>
<p>(page name can be changed of course.)</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-22T15:35:40Z' class='post-time'>
                May 22, 2017,  3:35pm
              </time>
              <meta itemprop='dateModified' content='2017-05-22T15:35:40Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="5" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/a/a183cd/40.png" class="avatar"> Algernon:</div>
<blockquote>
<p>Be aware, currently, if you delete files you don‚Äôt get the RAM back.</p>
</blockquote>
</aside>
<p>What about ram wiping tools or secure-delete that can wipe files in RAM?</p>
<p><a href="../../../external.html?link=https://packages.debian.org/jessie/secure-delete" class="onebox" target="_blank">https://packages.debian.org/jessie/secure-delete</a></p>
<aside class="quote" data-post="5" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/a/a183cd/40.png" class="avatar"> Algernon:</div>
<blockquote>
<p>Make the hd read only and boot the vm.</p>
</blockquote>
</aside>
<p>Why is this needed? I thought live mode would ensure an in-RAM boot?</p>
<p>All hypervisors have an immutable disk mode where changes are redirected to an ephemeral snapshot that is discarded on shutdown but I assumed that live mode wouldn‚Äôt touch the disk in the first place‚Ä¶</p>
<aside class="quote" data-post="7" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>There is one issue here‚Ä¶? The VM images being amnesic does not help if the host is not amnesic, right? So instead of doing this inside Whonix VMs, it should be done on the host operating system?</p>
</blockquote>
</aside>
<p>That is the big question.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-22T17:36:57Z' class='post-time'>
                May 22, 2017,  5:36pm
              </time>
              <meta itemprop='dateModified' content='2017-05-22T17:36:57Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Did some more research on encrypting VMs.</p>
<p>Modern OSs zero RAM pages once they are no longer used by a program. Disabling swap and hibernation ensures that no data is leaked to disk. In theory a luks volume containing VM images can protect the disk images on-disk with a couple of simple steps ensure that no data leakage occurs once a VM is shut down. For efficiency, the kernel tries to give back memory to the same process that the page belonged to and blanks otherwise. While the idea is good as a second line of defense it leaves users open to rubberhose cryptanalysis. Live modes are the answer but they require some configuring. If live mode is ever automated/simplified it would be a killer feature for plausible deniability.</p>
<p><aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../external.html?link=https://security.stackexchange.com/questions/29535/full-disk-encryption-within-a-vm-how-secure-is-it" target="_blank" rel="nofollow noopener">security.stackexchange.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://security.stackexchange.com/users/19941/bluefinger" target="_blank" rel="nofollow noopener">
    <img alt="bluefinger" src="../../../external.html?link=https://www.gravatar.com/avatar/6e4ae53e03c32135dab7f2acec9caacc?s=128&amp;d=identicon&amp;r=PG" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="../../../external.html?link=https://security.stackexchange.com/questions/29535/full-disk-encryption-within-a-vm-how-secure-is-it" target="_blank" rel="nofollow noopener">Full Disk Encryption within a VM, how secure is it?</a>
</h4>

<div class="tags">
  <strong>virtualization, disk-encryption</strong>
</div>

<div class="date">
  asked by
  
  <a href="../../../external.html?link=https://security.stackexchange.com/users/19941/bluefinger" target="_blank" rel="nofollow noopener">
    bluefinger
  </a>
  on <a href="../../../external.html?link=https://security.stackexchange.com/questions/29535/full-disk-encryption-within-a-vm-how-secure-is-it" target="_blank" rel="nofollow noopener">07:48PM - 22 Jan 13</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../external.html?link=https://security.stackexchange.com/questions/29019/are-passwords-stored-in-memory-safe" target="_blank" rel="nofollow noopener">security.stackexchange.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://security.stackexchange.com/users/19660/antoine-pinsard" target="_blank" rel="nofollow noopener">
    <img alt="Antoine Pinsard" src="../../../external.html?link=https://i.stack.imgur.com/HPzU4.jpg?s=128&amp;g=1" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="../../../external.html?link=https://security.stackexchange.com/questions/29019/are-passwords-stored-in-memory-safe" target="_blank" rel="nofollow noopener">Are passwords stored in memory safe?</a>
</h4>

<div class="tags">
  <strong>passwords, operating-systems, memory</strong>
</div>

<div class="date">
  asked by
  
  <a href="../../../external.html?link=https://security.stackexchange.com/users/19660/antoine-pinsard" target="_blank" rel="nofollow noopener">
    Antoine Pinsard
  </a>
  on <a href="../../../external.html?link=https://security.stackexchange.com/questions/29019/are-passwords-stored-in-memory-safe" target="_blank" rel="nofollow noopener">07:30PM - 14 Jan 13</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../external.html?link=https://softwareengineering.stackexchange.com/questions/181577/is-it-possible-to-read-memory-from-another-program-by-allocating-all-the-empty-s/181580#181580" target="_blank" rel="nofollow noopener">softwareengineering.stackexchange.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://softwareengineering.stackexchange.com/users/3965/karl-bielefeldt" target="_blank" rel="nofollow noopener">
    <img alt="Karl Bielefeldt" src="../../../external.html?link=https://i.stack.imgur.com/zGYUq.jpg?s=128&amp;g=1" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="../../../external.html?link=https://softwareengineering.stackexchange.com/questions/181577/is-it-possible-to-read-memory-from-another-program-by-allocating-all-the-empty-s/181580#181580" target="_blank" rel="nofollow noopener">Is it possible to read memory from another program by allocating all the empty space on a system?</a>
</h4>

<div class="tags">
  <strong>security, operating-systems, memory</strong>
</div>

<div class="date">
  
  answered by
  <a href="../../../external.html?link=https://softwareengineering.stackexchange.com/users/3965/karl-bielefeldt" target="_blank" rel="nofollow noopener">
    Karl Bielefeldt
  </a>
  on <a href="../../../external.html?link=https://softwareengineering.stackexchange.com/questions/181577/is-it-possible-to-read-memory-from-another-program-by-allocating-all-the-empty-s/181580#181580" target="_blank" rel="nofollow noopener">09:48PM - 04 Jan 13</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Hexagon'><span itemprop='name'>Hexagon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-22T20:01:35Z' class='post-time'>
                May 22, 2017,  8:01pm
              </time>
              <meta itemprop='dateModified' content='2017-05-22T20:01:35Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I‚Äôm also interested in this, but preferably as a live host.</p>
<p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a> I think loading everything to RAM would require to much resources (I guess at least 10 GB for all files and running processes), but might be nice as an optional feature for users with enough RAM to increase performance.<br>
I‚Äôd suggest using <a href="../../../external.html?link=https://packages.debian.org/stretch/bilibop" rel="nofollow noopener">bilibop</a> (<a href="../../../external.html?link=https://manpages.debian.org/stretch/bilibop-common/bilibop.7.en.html" rel="nofollow noopener">manpage</a>), which is AFAIK also used by Tails and turns the system to read-only mode (if it was installed on writable media) and stores just written files in RAM.<br>
Maybe we could also just use Tails as a base and modify it a bit to prevent tor-over-tor instead of reinventing everything,</p>
<p>We might be able to fit everything on a dual-layer DVD (8.5 GB) if we use a <a href="../../../external.html?link=https://kashyapc.fedorapeople.org/virt/lc-2012/snapshots-handout.html" rel="nofollow noopener">backing image</a> for common files in both VMs. Persistence (optional) could be achieved by storing a snapshot on writable encrypted media:</p>
<pre><code>[base] ------- [  gateway  ] ------- [ volatile gw ]
       \                     \
        \                     \----- [persistent gw]
         \
          \--- [workstation] ------- [ volatile ws ]
                             \
                              \----- [persistent ws]</code></pre>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Algernon'><span itemprop='name'>Algernon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-23T22:22:27Z' class='post-time'>
                May 23, 2017, 10:22pm
              </time>
              <meta itemprop='dateModified' content='2017-05-23T22:35:56Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="7" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>There is one issue here‚Ä¶? The VM images being amnesic does not help if the host is not amnesic, right? So instead of doing this inside Whonix VMs, it should be done on the host operating system?</p>
</blockquote>
</aside>
<p>Depends on if and what the vm writes to the host.<br>
I don‚Äôt know if there is a official definition regarding amnesia for live systems. Imho, the most important part is that the base system remains untouched and writes go to RAM. More or less each live iso does that. The other part is wiping of RAM when the machine gets shut down (afaik only implemented by tails).<br>
I‚Äôm thinking mostly about persistent malware and to a smaller extend about reading out RAM.<br>
I‚Äôm certain tails implemented the RAM wipe for a reason, but I still consider cold boot attacks rather unlikely. I did not yet see such a attack in the wild and if someone gets hold of your machine while it‚Äôs running he can read out RAM anyways. But I guess a RAM wipe could also be implemented.<br>
If, as HulaHoop mentions, RAM is zeroed when not in use anymore then it also would not matter. More research on this is required.<br>
Of course if you want complete amnesia then the live mode should be implemented on the host. I don‚Äôt see a reason why this would not work on e.g. a qubes or a non-qubes host. Qubes already uses dracut and 3.2 also have a live iso. Some hardware with correctly implemented write protection switch would be needed if you want to be really sure that nothing gets written to the disk.</p>
<p>I will certainly take a closer look at this and do some testing + wiki editing. I‚Äôm confident that the live-mode can be implemented.</p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>What about ram wiping tools or secure-delete that can wipe files in RAM?</p>
</blockquote>
</aside>
<p>What you quoted is not directly related to that but could also be implemented. Dracut uses device mapper snapshots (or, if you want, overlayfs in newer versions). It is not possible to get memory back once some file was written there even if you delete the file. I does not work like tmpfs.<br>
If you want to test it just boot the live vm with 1-2 GB RAM and then create a large file, say 500 MB. Delete it, create it again, delete it ‚Ä¶ . At some point the snapshot will overflow and the system will crash or become read only.<br>
I was under the impression that thin snapshots would be the solution but either I was wrong or there are some bugs.<br>
Using overlayfs would be a solution too but only when used for the virtual machines. On the host you would require large amount of RAM since overlayfs copies everything to RAM when it does some changes i.e. also big vm disk images. I‚Äôm also not sure how mature overlayfs in dracut is at the moment. It is also not in the dracut version for stretch.</p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Why is this needed? I thought live mode would ensure an in-RAM boot?</p>
</blockquote>
</aside>
<p>Live mode and in-RAM boot are not the same. Live mode is basically not making writes to the underlying system. In-RAM boot = live mode + copying the whole filesystem to RAM. Copying to RAM takes a while depending on what you boot from but after it is finished the system will be really fast. You can then also remove the usb stick, disc, dvd and it will continue to run. You can also have this with dracut, just append rd.live.ram. I did not test it with the live mode approach described here since RAM requirements would be even bigger (we don‚Äôt boot from a compressed filesystem as e.g. a normal live iso).<br>
A live iso for the whonix vms would also be possible, I did this before with the normal debian live stuff but this would also work with dracut. It is not that easy to update an iso, however</p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>All hypervisors have an immutable disk mode where changes are redirected<br>
to an ephemeral snapshot that is discarded on shutdown but I assumed<br>
that live mode wouldn‚Äôt touch the disk in the first place‚Ä¶</p>
</blockquote>
</aside>
<p>Sort of true. Ext3 and ext4 have e.g. journaling therefore this applies: <a href="../../../external.html?link=https://github.com/msuhanov/Linux-write-blocker" rel="nofollow noopener">https://github.com/msuhanov/Linux-write-blocker</a><br>
When you use the system in the way as described on the rpi forum you will see that the hash sum of the vm images changes except if you use ext2. This did not happen to me with dracut + device mapper even with ext3 or ext4 under normal usage but after a VM crash the value was also different. If you make the vm read only via the vm software this should not happen and also did not happen in the many cases I tested it.<br>
Also some malware could mount the disk rw when there is no write protection via the vm software. So I think you need to break out of the vm to make the image rw.</p>
<p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/hexagon">@Hexagon</a></p>
<p>I was also thinking about a (switchable) live host os but this requires some broader discussion (going to start a thread ‚Ä¶) e.g. what OS to use, some kind of installation tutorial or just a usb image ‚Ä¶ . The latter one would probably be the easiest for novice end users. Also qubes is of course an option.<br>
Quite a while back I tested some whonix ws + gw on a debian host iso. Everything fit on a normal DVD.</p>
<p>In the end, the question is what kind of live system is desired (iso or uncompressed/plain filesystem). Imho, the most useful option would the system described here (so no iso) since you can have FDE + updates. You can have FDE for iso based systems too but it is not that useful. Hardware write protection for the host os is the only bigger issue I see at the moment.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Hexagon'><span itemprop='name'>Hexagon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-24T09:40:56Z' class='post-time'>
                May 24, 2017,  9:40am
              </time>
              <meta itemprop='dateModified' content='2017-05-24T09:40:56Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="11" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/a/a183cd/40.png" class="avatar"> Algernon:</div>
<blockquote>
<p>Using overlayfs would be a solution too but only when used for the virtual machines. On the host you would require large amount of RAM since overlayfs copies everything to RAM when it does some changes i.e. also big vm disk images.</p>
</blockquote>
</aside>
<p>You can avoid that at least for the VM images if you use backing images (as shown in my post above) because the large base VM images wont be changed, only changed made within the VM would be written to the volatile VM snapshot in RAM.</p>
<aside class="quote" data-post="11" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/a/a183cd/40.png" class="avatar"> Algernon:</div>
<blockquote>
<p>what OS to use, [‚Ä¶]. Also qubes is of course an option.</p>
</blockquote>
</aside>
<p>I think Debian (or a derivative) would be a good choice to be consistent with the rest of Whonix. Qubes would be great security wise and they offer already a live USB (though alpha and currently unsupported / unmaintained) but usability wise maybe not so, it might not work everywhere because of hardware requirements.</p>
<aside class="quote" data-post="11" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/a/a183cd/40.png" class="avatar"> Algernon:</div>
<blockquote>
<p>In the end, the question is what kind of live system is desired (iso or uncompressed/plain filesystem). Imho, the most useful option would the system described here (so no iso) since you can have FDE + updates. You can have FDE for iso based systems too but it is not that useful. Hardware write protection for the host os is the only bigger issue I see at the moment.</p>
</blockquote>
</aside>
<p>I guess it depends on the use case.</p>
<p>Read-only media like DVD would be the best in terms of write protection and wouldn‚Äôt even need FDE for the base system. But updating would be a bit painful: either store updates on encrypted writable media and install them when the system starts, similar to <a href="../../../external.html?link=https://tails.boum.org/doc/advanced_topics/additional_software/index.en.html" rel="nofollow noopener">how Tails handles additional software</a> or burn a new DVD every time you change your system, which may be required for certain updates.<br>
Another disadvantage is that many computers have only one DVD drive (some even have none), so downloading and burning an (updated) image might not be possible without additional hardware (external DVD drive) and since DVDs are moving they may make too much noise if you have to be stealthy.</p>
<p>USB flash drives would be better usability wise: you could boot in a writable mode to make any updates/changes and reboot back in read-only mode once you‚Äôre done, some USB drives even have a physical write protection switch. FDE would be required also for the base system to prevent others with physical access from tampering with the USB drive or reading the change you made to it, so the initial setup would be a bit harder for the user and require either a tutorial or an installer to setup FDE.</p>
<aside class="quote" data-post="11" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/a/a183cd/40.png" class="avatar"> Algernon:</div>
<blockquote>
<p>whonix ws + gw on a debian host iso. Everything fit on a normal DVD.</p>
</blockquote>
</aside>
<p>How did you manage to fit the VM images and a host system on a DVD? I guess you used some compression, but then how did you work with compressed VM images?</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Algernon'><span itemprop='name'>Algernon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-24T12:33:01Z' class='post-time'>
                May 24, 2017, 12:33pm
              </time>
              <meta itemprop='dateModified' content='2017-05-24T12:33:01Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="12" data-topic="3894" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/848f3c/40.png" class="avatar"> Hexagon:</div>
<blockquote>
<p>You can avoid that at least for the VM images if you use backing images (as shown in my post above) because the large base VM images wont be changed, only changed made within the VM would be written to the volatile VM snapshot in RAM.</p>
</blockquote>
</aside>
<p>I‚Äôm not 100% sure about overlayfs in this case. When I tested I think I also had the vm hd write protected but it still was copied to RAM. I have to recheck that. Still, if you use one vm hard disk as backing image you could of course spare some RAM (or hd/ DVD space) since you don‚Äôt need one image per vm.</p>
<aside class="quote" data-post="12" data-topic="3894" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/848f3c/40.png" class="avatar"> Hexagon:</div>
<blockquote>
<p>Another disadvantage is that many computers have only one DVD drive (some even have none), so downloading and burning an (updated) image might not be possible without additional hardware (external DVD drive) and since DVDs are moving they may make too much noise if you have to be stealthy.</p>
</blockquote>
</aside>
<p>You can get around that (no noise and slow file system) if you use ‚Äútoram‚Äù or ‚Äúrd.live.ram‚Äù for dracut. Depending on the iso size you of course need a lot of RAM but then you can unplug the drive or download a new iso (needs even more RAM ‚Ä¶) and burn it to the DVD.</p>
<aside class="quote" data-post="12" data-topic="3894" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/848f3c/40.png" class="avatar"> Hexagon:</div>
<blockquote>
<p>How did you manage to fit the VM images and a host system on a DVD? I guess you used some compression, but then how did you work with compressed VM images?</p>
</blockquote>
</aside>
<p>You can either make iso files from the vm images which requires some scripting, installing debian live tools etc. Or you make a debian system and copy the vm images (or iso files) to it. The images are fairly small ~1-2GB. Then you make an iso from this debian system. Use xz compression for creating the squashfs images. The qcow2 files can also be compressed to some extend with virt-sparsify but it is not as good as xz compression. Since I tested it quite a while back the whonix images might be larger now and so the created iso file(s). But in general a standard debian iso with lots of software for general usability, networking, browser and vm software is not much bigger than 1 GB (see the tails iso).</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-24T16:12:30Z' class='post-time'>
                May 24, 2017,  4:12pm
              </time>
              <meta itemprop='dateModified' content='2017-05-24T16:12:30Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Do you want to do this for Non-Qubes-Whonix or Qubes-Whonix or both?</p>
<p>Yes, there are various goals possible here.</p>
<ul>
<li>full Live Mode, a host operating system Whonix booting from Live USB and/or Live DVD (nothing is written to the disk except when using selective persistence)</li>
<li>just Whonix VMs booting without persistent write access. This would be similar to a Qubes AppVM. Sometimes I apt-get install packages in a Qubes AppVM well knowing that these will be lost after reboot. Still useful when just learning / trying stuff.</li>
</ul>
<p>I like the idea about USB with physical write switch where you could sometimes boot in persistent mode to apply upgrades or customizations.</p>
<p>It‚Äôs your project. Whatever you wish to develop/maintain.</p>
<aside class="quote" data-post="10" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/848f3c/40.png" class="avatar"> Hexagon:</div>
<blockquote>
<p>Maybe we could also just use Tails as a base and modify it a bit to prevent tor-over-tor instead of reinventing everything,</p>
</blockquote>
</aside>
<p>Maybe. Last time I looked into the Tails build process over a year ago it uses a binary vagrant basebox. And the vargrant basebox build from source was broken. I didn‚Äôt manage to build Tails fully only from source code.</p>
<p>Sure, feel free to look into it. They have a lot useful stuff such as RAM wipe on shutdown, selective persistence, unsafe browser for hotspot registration, and whatnot. Did you suggest to run the Whonix VirtualBox images on top there? That would be interesting.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Hexagon'><span itemprop='name'>Hexagon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-24T16:31:49Z' class='post-time'>
                May 24, 2017,  4:31pm
              </time>
              <meta itemprop='dateModified' content='2017-05-24T16:31:49Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="14" data-topic="3894">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Did you suggest to run the Whonix VirtualBox images on top there?</p>
</blockquote>
</aside>
<p>I intended to use KVM, but yes. Basically a volatile Whonix VM on top of Tails with optional persistence and maybe corridor or something similar to modify <a href="../../../external.html?link=https://tails.boum.org/contribute/design/Tor_enforcement/Network_filter/" rel="nofollow noopener">Tails‚Äô network filter</a> so that the VM can only connect to the Tor network (Tor over Tor doesn‚Äôt seem to be the issue here).</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Algernon'><span itemprop='name'>Algernon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-24T19:18:08Z' class='post-time'>
                May 24, 2017,  7:18pm
              </time>
              <meta itemprop='dateModified' content='2017-05-24T19:48:48Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/hexagon">@Hexagon</a></p>
<p>I retested it with iso, raw and qcow2 files. With overlayfs it should also work  as long as the vm images are set to read-only (isos are ro anyways). With rw you will run out of RAM. It is also important that the right permissions are set for iso or vm image files otherwise virt-manager tries to change that meaning it copies the whole iso/image to RAM ‚Ä¶<br>
So either set them manually (in persistent mode) or import the image/create the vm and then restart into live mode. Only drawback for overlayfs would still be MAC but this might not matter for everyone.</p>
<aside class="quote" data-post="14" data-topic="3894" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Do you want to do this for Non-Qubes-Whonix or Qubes-Whonix or both?</p>
</blockquote>
</aside>
<p>For Qubes-Whonix there are already disposable VMs though they are a little bit different. With non-qubes-whonix it already works in principle but I did not do a lot of testing. For other debian based VMs it works fine for me, generally. Imho, it also doesn‚Äôt look like a feature which requires major changes to Whonix and a lot of maintenance, but I could be wrong :D. I don‚Äôt know if there are relevant differences to qubes-whonix. I guess as long as the boot process is the same it should also work.<br>
I probably would go from non-qubes-whonix-kvm to non-qubes-whonix-vbox to qubes-whonix and then maybe a whonix-host-os or qubes in general.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-24T20:51:04Z' class='post-time'>
                May 24, 2017,  8:51pm
              </time>
              <meta itemprop='dateModified' content='2017-05-24T20:51:04Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Maintenance and work required: Depends. If it‚Äôs instructions only, then it‚Äôs not that much work. If it‚Äôs downloadable iso image, that‚Äôs more work to maintain. And more work if features such as ram wipe on shutdown are added</p>
<p>Qubes DisposableVMs are not amnesic yet. Reference:<br>
<a href="../../../external.html?link=https://www.whonix.org/wiki/Qubes/DisposableVM#Warning:_DisposableVMs_are_not_Amnesic">https://www.whonix.org/wiki/Qubes/DisposableVM#Warning:_DisposableVMs_are_not_Amnesic</a></p>
<p>Qubes could be different, because it‚Äôs based on Xen and Fedora.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Algernon'><span itemprop='name'>Algernon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-24T21:11:03Z' class='post-time'>
                May 24, 2017,  9:11pm
              </time>
              <meta itemprop='dateModified' content='2017-05-24T21:11:03Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I would at first go just for the VM images (qcow2 or vbox). So there is no iso file to create and no special setup. I guess most of the changes to be made are already in my second post in this thread. Sure, there needs to be some testing if initramfs-tools can be removed without problems e.g. for virtualbox guest additions, changing dependencies ‚Ä¶<br>
I need to think some more about the RAM wipe features<br>
Imho iso files don‚Äôt make sense for the VMs, maybe for a host OS but a hd image might be better there (see other thread).<br>
Since Qubes is based on Fedora it already uses dracut, the Qubes (and Fedora) Live isos use also dracut + device mapper. Not sure about the VMs, going to test it.</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-05-24T21:51:45Z' class='post-time'>
                May 24, 2017,  9:51pm
              </time>
              <meta itemprop='dateModified' content='2017-05-24T21:51:45Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Related to VM image encryption and amnesia:</p>
<p><a href="../../../external.html?link=https://www.whonix.org/wiki/Advanced_Security_Guide#Encrypted_Guest_Images">https://www.whonix.org/wiki/Advanced_Security_Guide#Encrypted_Guest_Images</a></p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3894.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-06-16T16:21:18Z' class='post-time'>
                June 16, 2017,  4:21pm
              </time>
              <meta itemprop='dateModified' content='2017-06-16T16:21:18Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Is this still on?</p>
        </div>

        <meta itemprop='headline' content='Whonix live mode / amnesia / amnesic / non-persistent / anti-forensics'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="38944658.html?page=2">next page ‚Üí</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
