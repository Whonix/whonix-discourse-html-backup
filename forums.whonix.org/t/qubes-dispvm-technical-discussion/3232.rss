<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Qubes DispVM technical discussion</title>
    <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232</link>
    <description>For a better understanding on DispVMs, today and future. First interesting read...

https://github.com/QubesOS/qubes-issues/issues/1335</description>
    <language>en</language>
    <lastBuildDate>Mon, 10 Sep 2018 08:48:47 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/QubesOS/qubes-issues/issues/4296" target="_blank" rel="nofollow noopener">github.com/QubesOS/qubes-issues</a>
  </header>
  <article class="onebox-body">
    <a href="https://github.com/adrelanos" rel="nofollow noopener">
<img src="//forums.whonix.org/uploads/default/original/2X/7/770a15f475a1de4a6ba4d68ffb96bd85c7274aa0.jpg" class="thumbnail onebox-avatar" width="96" height="96">
</a>

<h4><a href="https://github.com/QubesOS/qubes-issues/issues/4296" target="_blank" rel="nofollow noopener">Issue: some DVM Templates should be non-networked by default for better security?</a></h4>

<div class="date" style="margin-top:10px;">
	<div class="user" style="margin-top:10px;">
	opened by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
	on <a href="https://github.com/QubesOS/qubes-issues/issues/4296" target="_blank" rel="nofollow noopener">2018-09-10</a>
	</div>
	<div class="user">
	closed by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
	on <a href="https://github.com/QubesOS/qubes-issues/issues/4296" target="_blank" rel="nofollow noopener">2018-09-10</a>
	</div>
</div>

<pre class="content" style="white-space: pre-wrap;">Should some DVM Templates should be non-networked by default?
Perhaps default DVM Templates should be non-networked by default?
Reasoning: similar reasoning like for...</pre>

<div class="labels">
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">duplicate</span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/66">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/66</link>
        <pubDate>Mon, 10 Sep 2018 08:48:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-66</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Major update of documentation for DispVMs for Qubes R4 with Qubes-Whonix 14.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="" height="">
      <a href="https://www.whonix.org/wiki/Qubes/Disposable_VM" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:200/215;"><img src="//forums.whonix.org/uploads/default/original/2X/e/e2461eab72ca4919cde74fadee7f466018729977.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Qubes/Disposable_VM" target="_blank" rel="nofollow noopener">Qubes/DisposableVM</a></h3>

<p>How to use DisposableVMs in Qubes-Whonix.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Has still quite some <code>TODO</code>s. Help welcome.</p>
<p>Bold changes. Lots of purges. If anything got missing in action it can be recovered from <a href="https://www.whonix.org/wiki/Deprecated#Qubes_DisposableVM" rel="nofollow noopener">https://www.whonix.org/wiki/Deprecated#Qubes_DisposableVM</a> or from wiki history.</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/65">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/65</link>
        <pubDate>Fri, 24 Aug 2018 16:32:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-65</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="1" data-topic="5757">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar">
    <a href="https://forums.whonix.org/t/is-anyone-interested-in-using-multiple-dvm-templates-based-on-whonix-ws-14/5757">Is anyone interested in using multiple DVM Templates based on whonix-ws-14?</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/qubes-whonix"><span class="badge-category-bg" style="background-color: #63a0ff;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Everything specific to Qubes-Whonix. (devs)">Qubes-Whonix</span></a>
  </div>
  <blockquote>
    Is anyone interested in using multiple DVM Templates based on whonix-ws-14? What’s your use case? 
Or as far as multiple DVM Templates are concerned, is everyone only interested in different DVMs based on different templates such as having a single DVM Template based on whonix-ws-14 and another one on debian-9 or so? 
I am asking since <a href="https://www.whonix.org/wiki/Qubes/Disposable_VM">https://www.whonix.org/wiki/Qubes/Disposable_VM</a> may or may not include instructions on how to archive that. 
//cc <a class="mention" href="http://forums.whonix.org/u/tatertot">@tatertot</a>
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/64">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/64</link>
        <pubDate>Fri, 24 Aug 2018 16:30:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-64</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://github.com/QubesOS/qubes-issues/issues/4175" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/QubesOS/qubes-issues/issues/4175</a></p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/63">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/63</link>
        <pubDate>Fri, 03 Aug 2018 10:05:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-63</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="58" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Could you please add the table to Whonix or Qubes wiki?</p>
</blockquote>
</aside>
<p>Yay!</p>
<p><a href="https://www.whonix.org/w/index.php?title=Qubes/DisposableVM&amp;oldid=34035&amp;diff=cur">https://www.whonix.org/w/index.php?title=Qubes/DisposableVM&amp;oldid=34035&amp;diff=cur</a></p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/62">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/62</link>
        <pubDate>Fri, 15 Jun 2018 00:57:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-62</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>In short: in Qubes-Whonix 14 after upgrades new AppVMs and DispVMs are created with a copy of the latest version of Tor Browser after <code>tb-updater</code> in <code>whonix-ws</code> TemplateVM was upgraded.</p>
<ul>
<li>
<a href="https://phabricator.whonix.org/T726#14833">https://phabricator.whonix.org/T726#14833</a> is resolved in Qubes-Whonix 14 after upgrades</li>
<li><a href="https://www.whonix.org/wiki/Tor_Browser#In_Qubes-Whonix">https://www.whonix.org/wiki/Tor_Browser#In_Qubes-Whonix</a></li>
<li><a href="https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#tb-updater_in_Qubes_DVM_Template">https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#tb-updater_in_Qubes_DVM_Template</a></li>
</ul>
<p>tb-updater and /usr/bin/torbrowser will refuse to start in Qubes DVM Template. (Advanced users could overwrite the function easily using a config snippet but I doubt there is a use case.)</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/61">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/61</link>
        <pubDate>Thu, 14 Jun 2018 06:56:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-61</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <ul>
<li><a href="https://phabricator.whonix.org/T726#14833">https://phabricator.whonix.org/T726#14833</a></li>
<li>Qubes R4: How to start the DispVM Template another time for reconfiguration? - <a href="https://groups.google.com/forum/#!topic/qubes-users/jdGs4aXA1xs">https://groups.google.com/forum/#!topic/qubes-users/jdGs4aXA1xs</a>
</li>
<li>Qubes R4: DispVM Template vs DispVM initial startup vs startup usability bug? - <a href="https://groups.google.com/forum/#!topic/qubes-users/8V4CzVqxCUk">https://groups.google.com/forum/#!topic/qubes-users/8V4CzVqxCUk</a>
</li>
</ul>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/60">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/60</link>
        <pubDate>Mon, 04 Dec 2017 10:38:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-60</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Awesome, in Qubes R4, we can have a <code>whonix-ws</code> based disposable AppVM acting as UpdateVM as <a class="mention" href="http://forums.whonix.org/u/marmarek">@marmarek</a> pointed out. Sounds not too difficult, but I haven’t tried it yet.</p>
<p><a href="https://phabricator.whonix.org/T725#14729" class="onebox" target="_blank">https://phabricator.whonix.org/T725#14729</a></p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/59">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/59</link>
        <pubDate>Fri, 03 Nov 2017 15:01:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-59</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>//cc <a class="mention" href="http://forums.whonix.org/u/marmarek">@marmarek</a> Please have a look the post above mine.</p>
<p>It’s a nice table! <a class="mention" href="http://forums.whonix.org/u/entr0py">@entr0py</a>  Perhaps add DispVM template or is it the same as TemplateBasedVM?</p>
<p>Could you please add the table to Whonix or Qubes wiki? (The latter would be better since it specific to Qubes, not Whonix. However having this table anywhere for reference would help a lot.)</p>
<p>Questions:</p>
<ul>
<li>
<p>When trying to start a DispVM for the first time, it actually starts the DispVM template such as <code>whonix-ws-dvm</code>. After shut down, using the very same shortcut to start the DispVM, it starts an actual DispVM starting <code>Disp[...]</code>. The user may be confusing the DispVM template for the actual DispVM since there is no graphical explanation what is happening. Is that right? If so, shall we open a usability bug?</p>
</li>
<li>
<p>How to start the DispVM Template (such as <code>whonix-ws-dvm</code>) for a second or subsequent time?</p>
</li>
</ul>
<aside class="quote" data-post="57" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>set updateVM to sys-whonix-dispVM;</p>
</blockquote>
</aside>
<p>It’s maybe not ideal to introduce <code>sys-whonix-dispVM</code> as <code>UpdateVM</code>. That would hopefully only be an intermediary solution if anything. (<a href="https://github.com/QubesOS/qubes-issues/issues/3201#issuecomment-338646742">As per this</a>)</p>
<p>Could a <code>whonix-ws</code> based DispVM act as UpdateVM? Does that even require development on the Whonix side? (UpdateVM might work out of the box? Qubes updates proxy likely not?)</p>
<aside class="quote" data-post="57" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>tb-updater needs to copy new TBB to /etc/skel/ instead of /home/user</p>
</blockquote>
</aside>
<p>Hm. Good question. Still trying to wrap my head around it.</p>
<p>Related:</p>
<ul>
<li><a href="https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#tb-updater_in_Qubes_TemplateVM">https://www.whonix.org/wiki/Tor_Browser/Advanced_Users#tb-updater_in_Qubes_TemplateVM</a></li>
<li><a href="https://github.com/Whonix/tb-updater/blob/master/lib/systemd/system/tb-updater-first-boot.service">https://github.com/Whonix/tb-updater/blob/master/lib/systemd/system/tb-updater-first-boot.service</a></li>
<li><a href="https://github.com/Whonix/tb-updater/blob/master/usr/lib/tb-updater/first-boot-home-population">https://github.com/Whonix/tb-updater/blob/master/usr/lib/tb-updater/first-boot-home-population</a></li>
</ul>
<p>Based on that, what about the following implementation?</p>
<ul>
<li>
<ol>
<li>Don’t run <code>tb-updater-first-boot.service</code> in TemplateVM. (Already implemented.)</li>
</ol>
</li>
<li>
<ol start="2">
<li>Don’t run <code>tb-updater-first-boot.service</code> in DispVM Template. How could being run inside DispVM Template be detected from within the <code>first-boot-home-population</code> script? <a class="mention" href="http://forums.whonix.org/u/marmarek">@marmarek</a>
</li>
</ol>
</li>
<li>
<ol start="3">
<li>Copy from <code>/var/cache/tb-binary</code> to user home. (Already implemented.)</li>
</ol>
</li>
<li>
<p>–&gt; That would result in <code>whonix-ws-dvm</code> based DispVMs inheriting upgraded versions of Tor Browser if the <code>tb-updater</code> package in <code>whonix-ws</code> TemplateVM gets upgraded. That would spare the user from having to run <code>tb-updater</code> inside <code>whonix-ws-dvm</code>, which really wouldn’t be great to require (one VM more to update, one more complication).</p>
</li>
</ul>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/58">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/58</link>
        <pubDate>Tue, 24 Oct 2017 21:08:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-58</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>Things are “starting” to get confusing <img src="//forums.whonix.org/images/emoji/twitter/grinning.png?v=5" title=":grinning:" class="emoji" alt=":grinning:"></p>
<pre><code class="lang-auto">                     inheritance (on create)     persistence (on poweroff)
TemplateVM           n/a                         everything
TemplateBasedVM      /etc/skel/ to /home/        /rw/ (includes /home/ and bind-dirs)
DispVM               /home/                      nothing
</code></pre>
<p>Conceptually, dispVM is now more flexible/convenient than before but <strong>potentially</strong> less anonymous since they are based on <strong>templateBasedVM</strong> and not templateVM - meaning there are more opportunities to configure them badly.</p>
<p>Potential tickets:</p>
<ul>
<li>tb-updater needs to copy new TBB to <code>/etc/skel/</code> instead of <code>/home/user</code>
</li>
<li>set updateVM to <code>sys-whonix-dispVM</code>;<br>
or better but less usable: create new disposable-serviceVM to handle updates &amp; non-random clockVM; attach to netVM: <code>sys-whonix</code>; disable update proxy in <code>sys-whonix</code><br>
<a href="https://github.com/QubesOS/qubes-issues/issues/3201">https://github.com/QubesOS/qubes-issues/issues/3201</a>
</li>
</ul>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/57">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/57</link>
        <pubDate>Tue, 24 Oct 2017 17:49:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-57</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>For Qubes R4 there have been quite some changes that need catching up:</p>
<ul>
<li><a href="https://github.com/QubesOS/qubes-issues/issues/1335#issuecomment-338809353">https://github.com/QubesOS/qubes-issues/issues/1335#issuecomment-338809353</a></li>
<li><a href="https://github.com/QubesOS/qubes-issues/issues/1335#issuecomment-338809353">https://github.com/QubesOS/qubes-issues/issues/1335#issuecomment-338809353</a></li>
<li><a href="https://github.com/QubesOS/qubes-issues/issues/2801#issuecomment-338815811">https://github.com/QubesOS/qubes-issues/issues/2801#issuecomment-338815811</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/56">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/56</link>
        <pubDate>Tue, 24 Oct 2017 08:02:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-56</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>We should test these Qubes instructions for DispVM customization and then replace the existing (untested) instructions we have for DispVM menu customization.</p>
<p>I presume everything is the same as below, except references for usr/share/applications is replaced by ~/.local/share/applications for Disp Whonix-Workstation VMs (?)</p>
<p><a href="https://www.qubes-os.org/doc/dispvm-customization/">https://www.qubes-os.org/doc/dispvm-customization/</a></p>
<p><strong>Adding arbitrary programs to Disposable VM Application Menu</strong></p>
<p>For added convenience, arbitrary programs can be added to the Application Menu of the Disposable VM. In order to do that <em>arbitrary.desktop</em> file has to be created in <em>/usr/share/applications</em> in Dom0. That file will point to the desired program. Use following template when creating a .desktop file:</p>
<blockquote>
<p>[Desktop Entry]<br>
Version=1.0<br>
Type=Application<br>
Exec=sh -c 'echo arbitrary | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red<br>
Icon=dispvm-red<br>
Terminal=false<br>
Name=DispVM: Arbitrary Name<br>
GenericName=DispVM: Arbitrary Generic Name<br>
StartupNotify=false<br>
Categories=Network;X-Qubes-VM;</p>
</blockquote>
<p>Next, the <em>/etc/xdg/menus/applications-merged/qubes-dispvm.menu</em> file has to be modified so that it points to our newly-created .desktop file.</p>
<p>Add <em>arbitrary.desktop</em> line to the  block. The modified file should look like this:</p>
<blockquote>

qubes-dispvm-firefox.desktop
qubes-dispvm-xterm.desktop
arbitrary.desktop

</blockquote>
<p>After saving the changes our program should appear under the Disposable VM Applications menu.</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/55">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/55</link>
        <pubDate>Tue, 18 Apr 2017 06:07:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-55</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>How timely… if anyone is looking to become an expert in Qubes appmenus… <a href="https://groups.google.com/d/msg/qubes-devel/nR_VRLX6FPc/JDoWwKkBDgAJ">https://groups.google.com/d/msg/qubes-devel/nR_VRLX6FPc/JDoWwKkBDgAJ</a></p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/54">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/54</link>
        <pubDate>Thu, 22 Dec 2016 05:09:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-54</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Thanks to both of you. I’ll play around with this and see if I can work it out.</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/53">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/53</link>
        <pubDate>Wed, 21 Dec 2016 13:28:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-53</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>XFCE follows the freedesktop standard. The <code>DefaultDirs</code> are explained here: <a href="https://specifications.freedesktop.org/menu-spec/menu-spec-latest.html#paths">https://specifications.freedesktop.org/menu-spec/menu-spec-latest.html#paths</a>. These Dirs specifiy locations to look for .menu (MergeDir), .directory (DirectoryDir), and .desktop (AppDir) files.</p>
<aside class="quote" data-post="51" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>DefaultMergeDirs to me implies it may be possible to extend the start menu without having to directly edit ~/.config/menus/xfce-applications.menu (by editing some other file).</p>
</blockquote>
</aside>
<p>I decided to stop being an idiot and went to look for the Qubes .menu file. From this: <a href="https://github.com/QubesOS/qubes-desktop-linux-xfce4/blob/release3.2/garcon/garcon-0.2.0-qubes-menus.patch">https://github.com/QubesOS/qubes-desktop-linux-xfce4/blob/release3.2/garcon/garcon-0.2.0-qubes-menus.patch</a>, it looks like Qubes is pulling in .menu files from some <code>applications.d</code> directory. Best guess for location would be one of <code>$XDG_DATA_DIRS</code>, so maybe <code>/usr/local/share/applications.d/</code>. That must be where each VM has its own .menu file. If you can locate the DispVM-like.menu, then it should just be a matter of adding custom .desktop to the <code>&lt;Include&gt;</code> section.</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/52">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/52</link>
        <pubDate>Wed, 21 Dec 2016 05:53:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-52</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="50" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>What if you cp /etc/xdg/menus/xfce-applications.menu ~/.config/menus/ first?</p>
</blockquote>
</aside>
<p>That restored my system settings Qubes start menu entry.</p>
<p><code>/etc/xdg/menus/xfce-applications.menu</code> mentions <code>DefaultMergeDirs</code>. That may be a lead for investigation. <code>DefaultMergeDirs</code> to me implies it may be possible to extend the start menu without having to directly edit <code>~/.config/menus/xfce-applications.menu</code> (by editing some other file).</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/51">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/51</link>
        <pubDate>Tue, 20 Dec 2016 21:55:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-51</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="49" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>A word of caution: I managed to loose my system settings Qubes start menu entry by just adding a new desktop file to .local/share/applications/.</p>
</blockquote>
</aside>
<p>What if you <code>cp /etc/xdg/menus/xfce-applications.menu ~/.config/menus/</code> first?</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/50">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/50</link>
        <pubDate>Tue, 20 Dec 2016 21:48:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-50</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>All in dom0 <code>/home/user</code>.</p>
<p>Seems like some <code>.desktop</code> file is required in <code>.local/share/applications</code>. Example:<br>
<code>.local/share/applications/qubes-dispvm-firefox.desktop</code></p>
<p>And <code>qubes-dispvm-firefox.desktop</code> is referenced in:<br>
<code>.config/menus/xfce-applications.menu</code></p>
<p>I guess these are the files to edit by emulating how its done with the two above files. A word of caution: I managed to loose my system settings Qubes start menu entry by just adding a new desktop file to <code>.local/share/applications/</code>.</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/49">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/49</link>
        <pubDate>Tue, 20 Dec 2016 21:28:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-49</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="45" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>I have not attempted the menulibre option, as I don’t want to bork my menu as per other people’s recent experiences.</p>
</blockquote>
</aside>
<p>If you get comfortable with git (and virtual consoles, was not even required for me), you can easily rewind any changes by non-root applications such as menulibre that are only writing into the home folder.</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/48">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/48</link>
        <pubDate>Tue, 20 Dec 2016 17:03:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-48</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="45" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>“effect” still needed to be changed to “affect” in that blog post <img src="//forums.whonix.org/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
</blockquote>
</aside>
<p>Fixed.</p>
<aside class="quote" data-post="45" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>Anyway, I have tested Option#1 of generating a non-customized DisposableVM-Template which works.</p>
<p>So, you can remove the “untested” tag from the wiki here:</p>
</blockquote>
</aside>
<p>Done.</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/47">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/47</link>
        <pubDate>Tue, 20 Dec 2016 16:58:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-47</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="45" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>There is NO xfce-applications.menu entry anywhere in the <strong>template</strong>.</p>
</blockquote>
</aside>
<p>You mean dom0 right?</p>
<p>This is the reference I used for instructions: <a href="https://wiki.xfce.org/howto/customize-menu">https://wiki.xfce.org/howto/customize-menu</a></p>
<p>Things to try:</p>
<ul>
<li><code>sudo find / -name *.menu</code></li>
<li><code>echo $XDG_CONFIG_HOME</code></li>
<li>looks like default install location is <code>/etc/xdg/menus/xfce-applications.menu</code><br>
Instructions say to make a copy in <code>~/.config/menus</code> for customization</li>
</ul>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/46">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/46</link>
        <pubDate>Tue, 20 Dec 2016 15:35:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-46</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>“effect” still needed to be changed to “affect” in that blog post <img src="//forums.whonix.org/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p>Anyway, I have tested Option#1 of generating a non-customized DisposableVM-Template which works.</p>
<p>So, you can remove the “untested” tag from the wiki here:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Qubes/Disposable_VM" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:200/215;"><img src="https://www.whonix.org/w/images/5/55/Qubes-logo-icon.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Qubes/Disposable_VM" target="_blank" rel="nofollow noopener">Qubes/DisposableVM</a></h3>

<p>How to use DisposableVM with Qubes-Whonix</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<blockquote>
<p>Option <span class="hashtag">#1:</span> Use a non-customized DisposableVM-Template. <strong>(untested)</strong> This template will use a stock image based on whonix-ws and will not preserve any changes that are made to it.</p>
</blockquote>
<p>Re: <em>“Adding shortcuts to applications menus”</em>, which is also untested in Qubes 3.2, I have followed the steps up to this point:</p>
<blockquote>
<p>Once the .desktop files have been created, they need to be added to your Applications menu. Use a text editor to edit the following file.</p>
</blockquote>
<blockquote>
<p>kwrite ~/.config/menus/xfce-applications.menu</p>
</blockquote>
<p><strong>Note:</strong> There is NO xfce-applications.menu entry anywhere in the template. I have searched using find and ls to no avail. Using kwrite as above just creates a new (empty) file.</p>
<p>Surely Marek knows where this (.menu file) is stored for dispVM template in the Qubes architecture? After all, the entry for the original DispVM menu can be edited to replace Firefox with the Tor Browser entry instead via Alt F3 in dom0.</p>
<p>So where is it? Adding the additional .desktop entries should be simple enough. Maybe he can give us some pointers.</p>
<p>I have not attempted the menulibre option, as I don’t want to bork my menu as per other people’s recent experiences.</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/45">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/45</link>
        <pubDate>Tue, 20 Dec 2016 14:11:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-45</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox whitelistedgeneric">
  <header class="source">
      <a href="https://www.whonix.org/blog/qubes-whonix-dispvm" target="_blank" title="10:55PM - 15 December 2016" rel="nofollow noopener">Whonix – 15 Dec 16</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="https://www.whonix.org/blog/wp-content/uploads/2016/06/Whonix_Facebook-Social-Share.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/blog/qubes-whonix-dispvm" target="_blank" rel="nofollow noopener">Qubes-Whonix DisposableVM documentation created - Whonix</a></h3>

<p>How to use Qubes-Whonix Disposable VMs</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/44">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/44</link>
        <pubDate>Thu, 15 Dec 2016 22:56:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-44</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Thanks entr0py. Agree with your changes. My old English teacher will kill me if they saw effect and affect mixed up again <img src="//forums.whonix.org/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p><a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a>, I was referring to steps for changes to the Qubes menu as ‘working’ i.e. Qubes Blue/Gray Button -&gt; DisposableVM -&gt; (new) Tor Browser entry</p>
<p>That is, replacing the instance of ‘Firefox’ from the DispVM menu with Tor Browser instead.</p>
<p>Sorry, I didn’t get around to trying the the menulibre entry as I had promised earlier. So that is still ‘untested’, unless you have it working. I’d still like to try those untested steps sometime over the next week, so that ‘untested’ can be removed from the wiki entry.</p>
<p>But please go ahead and put up your blog post if you are happy with everything else.</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/43">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/43</link>
        <pubDate>Thu, 15 Dec 2016 03:26:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-43</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
      <item>
        <title>Qubes DispVM technical discussion</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="39" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>Importantly, the Whonix-Workstation DisposableVM will inherit the netVM and firewall settings of the <strong>ancestor VM</strong> by default, meaning the Whonix-Gateway will be safely used.</p>
</blockquote>
</aside>
<p>Careful here lest users ignore the warning in the wiki. Ancestor VM if called from dom0; Calling VM if spawned from domU. This is actually a weakness of current implementation.</p>
<p>Looks good!</p>
<p>A couple conservative wording changes:</p>
<blockquote>
<p>The major benefit of this approach is that the Whonix-Workstation DisposableVM can be created in order to host a single application – usually the Tor Browser – <strong>without any risk</strong> that a compromise of the browser will effect any of your other VMs.</p>
</blockquote>
<p>“without any risk” &gt; “mitigating the risk”</p>
<blockquote>
<p>Critically, a Tor Browser exploit will not <strong>effect</strong> (poison) later instances of the Tor Browser running in a subsequent DisposableVM session, because the DisposableVM is always started in a clean state.</p>
</blockquote>
<p>“effect” &gt; “affect”</p>
<aside class="quote" data-post="39" data-topic="3232">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>Critically, a Tor Browser exploit will not effect (poison) later instances of the Tor Browser running in a subsequent DisposableVM session, because the DisposableVM is always started <strong>in a clean state</strong>.</p>
</blockquote>
</aside>
<p>“in a clean state” &gt; “in its original state”</p>
          <p><a href="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/42">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232/42</link>
        <pubDate>Sun, 11 Dec 2016 23:14:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3232-42</guid>
        <source url="http://forums.whonix.org/t/qubes-dispvm-technical-discussion/3232.rss">Qubes DispVM technical discussion</source>
      </item>
  </channel>
</rss>
