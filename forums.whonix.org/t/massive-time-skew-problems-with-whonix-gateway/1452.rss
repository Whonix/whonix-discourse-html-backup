<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Massive time skew problems with Whonix-Gateway</title>
    <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452</link>
    <description>Whonix11 VirtualBox running on a Linux host.

For some reason my Whonix Gateway machine seems to be constantly losing the correct time.   It doesn&#39;t happen as a sudden change, it seems to just drift over time, so the longer I leave the machine running the more out of sync the time gets.  Eventually the system time becomes so inaccurate that my Tor circuits begin failing.  When things get to that point I can&#39;t even seem to run Timesync command any more, and the only way that I can correct things is to manually edit the system time.

I&#39;ve just run the Timesync command twice on the Gateway machine, the first time to set a baseline, and the second time  approx 10 minutes later.  In that 10 minutes the time skew was already more than 100 seconds.
It continues to get worse over time, so if I leave the Gateway running for a couple of days the time will end up being incorrect by several HOURS.  

My Workstation machines (running on the same physical host) don&#39;t seem to be having the same problem either.

Any ideas why this might be happening, or (more importantly) how I can try and prevent it?

edit - Same test again with approx 30 minute interval, and the time skew was already 300 seconds.  I&#39;ll continue to keep an eye on it, but it actually seems to be scaling fairly accurately at around 100 seconds every 10 minutes.</description>
    <language>en</language>
    <lastBuildDate>Tue, 20 Oct 2015 15:41:57 +0000</lastBuildDate>
    <category>VirtualBox</category>
    <atom:link href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I could not reproduce this neither in VirtualBox nor Qubes. sclockadj is capable of setting back the clock.</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/15</link>
        <pubDate>Tue, 20 Oct 2015 15:41:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-15</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Moving this to the VirtualBox sub forum for now as long as it does not happen for other virtualizers.</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/14</link>
        <pubDate>Mon, 19 Oct 2015 17:45:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-14</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>sclockadj2 ( <a href="https://www.whonix.org/wiki/Dev/TimeSync#sclockadj2">https://www.whonix.org/wiki/Dev/TimeSync#sclockadj2</a> ) might also fix this, but who knows if/when it gets finished.</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/13</link>
        <pubDate>Mon, 19 Oct 2015 17:43:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-13</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Debugging this could become a bit hairy. Let’s check first if something from the outside interferes with timesync.</p>
<p>First of all, please stop sdwdate on the gateway [in a working state if you prefer].</p>
<pre><code class="lang-auto"></code></pre>
<p>Then compare Whonix-Gateway clock with the host clock. To begin the test, the clocks should not match. There should be at least 10 seconds or so difference.</p>
<p>Can you leave Whonix-Gateway run &gt;=24 hour and check that the time difference does not change? (There should not be more than one or two seconds drift.)</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/12</link>
        <pubDate>Wed, 07 Oct 2015 12:27:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-12</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[WhoMe]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“Patrick, post:9, topic:1452”]Thanks.</p>
<p>The same doesn’t happen on the workstation?[/quote]</p>
<p>Once the time on my gateway becomes so far out of sync that my Tor circuits begin failing, then of course the  timesync process begins failing on my workstation machines as well.</p>
<p>However, for some reason the time on my workstations never seems to be nearly as far out of date.</p>
<p>As an example I rebooted a my workstation and gateway machine at the same time, performed an initial timesync on both [verifying that the time was correct at this stage], and then left them both running together.<br>
I checked them again a little bit under 24 hours later, and this was the result:</p>
<p>Actual UTC time: 07:15<br>
Workstation time : 07:00<br>
Gateway time: 05:53</p>
<p>I realise that 15 minutes time skew [over approx 24 hours] still represents a problem, however it never seems to be nearly as bad as my gateway.</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/11</link>
        <pubDate>Wed, 07 Oct 2015 07:22:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-11</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[troubadour]]></dc:creator>
        <description><![CDATA[
            <p>Nothing seems wrong with sdwdate, or sclockadj. Must have something to do with VirtualBox. I made a quick search but could not find anything mentioning such an important skew.</p>
<p>Assuming that the drift is real [it must be if Tor fails, but you could still run “date” in a terminal right after an sdwdate cycle has completed, to compare], the only option that comes to mind at the moment is to re-install a fresh Gateway, keeping that one for investigation, if the issue does not replicate in the new one.</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/10</link>
        <pubDate>Tue, 06 Oct 2015 20:32:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-10</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Thanks.</p>
<p>The same doesn’t happen on the workstation?</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/9</link>
        <pubDate>Tue, 06 Oct 2015 10:00:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-9</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[WhoMe]]></dc:creator>
        <description><![CDATA[
            <p>Thanks Patrick.</p>
<p>Here is my complete log file after clearing and restarting the machine.</p>
<p><a href="http://m.uploadedit.com/ba3k/1444112936909.txt" class="onebox" target="_blank" rel="nofollow noopener">http://m.uploadedit.com/ba3k/1444112936909.txt</a></p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/8</link>
        <pubDate>Tue, 06 Oct 2015 06:29:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-8</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Right.</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/7</link>
        <pubDate>Mon, 05 Oct 2015 17:59:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-7</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[WhoMe]]></dc:creator>
        <description><![CDATA[
            <p>Thank you Patrick.  I have just cleared the log and rebooted, so I shall wait until my Tor circuits start failing again and then post the complete log file.</p>
<p>Just to make sure that I’m clear, there shouldn’t be anything ‘sensitive’ in that log which I might want to alter/remove before posting it?</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/6</link>
        <pubDate>Mon, 05 Oct 2015 08:21:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-6</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>No. Further debug information required.</p>
<p>Stop sdwdate.</p>
<pre><code class="lang-auto"></code></pre>
<p>Empty the whole log.</p>
<pre><code class="lang-auto"></code></pre>
<p>(Mark all. Delete. Safe.)</p>
<p>Reboot.</p>
<p>Share the full sdwdate log.</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/5</link>
        <pubDate>Sun, 04 Oct 2015 10:26:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-5</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[WhoMe]]></dc:creator>
        <description><![CDATA[
            <p>Any thoughts?</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/4</link>
        <pubDate>Sat, 03 Oct 2015 07:22:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-4</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[WhoMe]]></dc:creator>
        <description><![CDATA[
            <p>The logs initially show success, but then things quickly start going south.</p>
<p><a href="http://pastebin.com/Tdqj5gKf" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/Tdqj5gKf</a></p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/3</link>
        <pubDate>Wed, 30 Sep 2015 12:05:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-3</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Check out sdwdate log.</p>
<pre><code class="lang-auto"></code></pre>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/2</link>
        <pubDate>Wed, 30 Sep 2015 11:06:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-2</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
      <item>
        <title>Massive time skew problems with Whonix-Gateway</title>
        <dc:creator><![CDATA[WhoMe]]></dc:creator>
        <description><![CDATA[
            <p>Whonix11 VirtualBox running on a Linux host.</p>
<p>For some reason my Whonix Gateway machine seems to be constantly losing the correct time.   It doesn’t happen as a sudden change, it seems to just drift over time, so the longer I leave the machine running the more out of sync the time gets.  Eventually the system time becomes so inaccurate that my Tor circuits begin failing.  When things get to that point I can’t even seem to run Timesync command any more, and the only way that I can correct things is to manually edit the system time.</p>
<p>I’ve just run the Timesync command twice on the Gateway machine, the first time to set a baseline, and the second time  approx 10 minutes later.  In that 10 minutes the time skew was already more than 100 seconds.<br>
It continues to get worse over time, so if I leave the Gateway running for a couple of days the time will end up being incorrect by several HOURS.</p>
<p>My Workstation machines (running on the same physical host) don’t seem to be having the same problem either.</p>
<p>Any ideas why this might be happening, or (more importantly) how I can try and prevent it?</p>
<p>edit - Same test again with approx 30 minute interval, and the time skew was already 300 seconds.  I’ll continue to keep an eye on it, but it actually seems to be scaling fairly accurately at around 100 seconds every 10 minutes.</p>
          <p><a href="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452/1</link>
        <pubDate>Wed, 30 Sep 2015 04:31:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1452-1</guid>
        <source url="http://forums.whonix.org/t/massive-time-skew-problems-with-whonix-gateway/1452.rss">Massive time skew problems with Whonix-Gateway</source>
      </item>
  </channel>
</rss>
