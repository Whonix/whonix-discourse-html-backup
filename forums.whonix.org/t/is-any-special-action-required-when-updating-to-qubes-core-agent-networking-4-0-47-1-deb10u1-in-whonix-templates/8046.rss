<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Is any special action required when updating to qubes-core-agent-networking (4.0.47-1+deb10u1) in Whonix templates?</title>
    <link>http://forums.whonix.org/t/is-any-special-action-required-when-updating-to-qubes-core-agent-networking-4-0-47-1-deb10u1-in-whonix-templates/8046</link>
    <description>When recently updating to `qubes-core-agent-networking (4.0.47-1+deb10u1)` in `whonix-gw-15` and `whonix-ws-15`, I noticed the following output, which I don&#39;t recall ever seeing before:

```plain
Setting up qubes-core-agent-networking (4.0.47-1+deb10u1) ...
Installing new version of config file /etc/udev/rules.d/99-qubes-network.rules ...
[qubes-core-agent-linux.conf:1] Line references path below legacy directory /var/run/, updating /var/run/tinyproxy-updates → /run/tinyproxy-updates; please update the tmpfiles.d/ drop-in file accordingly.
Warning: The unit file, source configuration file or drop-ins of qubes-network.service changed on disk. Run &#39;systemctl daemon-reload&#39; to reload units.
```

I&#39;m being instructed to do two things:

(1) &quot;update the tmpfiles.d/ drop-in file accordingly&quot;
(2) &quot;Run &#39;systemctl daemon-reload&#39; to reload units&quot;

I had no idea what (1) meant, so I searched online and found that it appears to be an upstream issue. [1][2] However, I still don&#39;t know whether I, as a Qubes-Whonix user, should take any action here. What, if anything, should I do?

I also wasn&#39;t sure about (2). I knew I could simply execute that command as instructed, but I&#39;m not sure if I should. After searching online, (2) appears to be a pretty general mechanism that also isn&#39;t specific to Qubes-Whonix. [3] In this case, I&#39;m wondering whether simply restarting the TemplateVM once is enough, or whether any further action is required (or recommended) on my part here. Any thoughts?


[1] https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=902413
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1658487
[3] https://unix.stackexchange.com/q/364782</description>
    <language>en</language>
    <lastBuildDate>Tue, 10 Sep 2019 04:23:21 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/is-any-special-action-required-when-updating-to-qubes-core-agent-networking-4-0-47-1-deb10u1-in-whonix-templates/8046.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Is any special action required when updating to qubes-core-agent-networking (4.0.47-1+deb10u1) in Whonix templates?</title>
        <dc:creator><![CDATA[adw]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="2" data-topic="8046">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Qubes is responsible for that package.</p>
</blockquote>
</aside>
<p>Agreed! <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote no-group" data-post="2" data-topic="8046">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes.<br>
Even just shutdown is sufficient.</p>
</blockquote>
</aside>
<p>Excellent. Thank you.</p>
<aside class="quote no-group" data-post="2" data-topic="8046">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I understand the mess and user confusion, but I can’t fix it all. Linux desktop distributions are very unorganized…</p>
</blockquote>
</aside>
<p>Completely understandable! I certainly didn’t mean to suggest that it’s on you to fix it all. <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote no-group" data-post="2" data-topic="8046">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><a href="https://www.whonix.org/wiki/Reporting_Bugs#Linux_User_Experience_versus_Commercial_Operating_Systems" rel="nofollow noopener">https://www.whonix.org/wiki/Reporting_Bugs#Linux_User_Experience_versus_Commercial_Operating_Systems</a></p>
</blockquote>
</aside>
<p>For what it’s worth, I’ve experienced so many weird bugs in commercial OSes that should have never passed testing that I consider this gap to be fairly small now.</p>
          <p><a href="http://forums.whonix.org/t/is-any-special-action-required-when-updating-to-qubes-core-agent-networking-4-0-47-1-deb10u1-in-whonix-templates/8046/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/is-any-special-action-required-when-updating-to-qubes-core-agent-networking-4-0-47-1-deb10u1-in-whonix-templates/8046/3</link>
        <pubDate>Tue, 10 Sep 2019 04:23:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8046-3</guid>
        <source url="http://forums.whonix.org/t/is-any-special-action-required-when-updating-to-qubes-core-agent-networking-4-0-47-1-deb10u1-in-whonix-templates/8046.rss">Is any special action required when updating to qubes-core-agent-networking (4.0.47-1+deb10u1) in Whonix templates?</source>
      </item>
      <item>
        <title>Is any special action required when updating to qubes-core-agent-networking (4.0.47-1+deb10u1) in Whonix templates?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-post="1" data-topic="8046">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/adw/40/686_2.png" class="avatar"> adw:</div>
<blockquote>
<p>Setting up qubes-core-agent-networking (4.0.47-1+deb10u1) …</p>
</blockquote>
</aside>
<p>Qubes is responsible for that package.</p>
<aside class="quote no-group" data-post="1" data-topic="8046">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/adw/40/686_2.png" class="avatar"> adw:</div>
<blockquote>
<p>[qubes-core-agent-linux.conf:1] Line references path below legacy directory /var/run/, updating /var/run/tinyproxy-updates → /run/tinyproxy-updates; please update the tmpfiles.d/ drop-in file accordingly.</p>
</blockquote>
</aside>
<p>Change <a href="https://github.com/QubesOS/qubes-core-agent-linux/blob/master/vm-systemd/qubes-core-agent-linux.tmpfiles" rel="nofollow noopener">https://github.com/QubesOS/qubes-core-agent-linux/blob/master/vm-systemd/qubes-core-agent-linux.tmpfiles</a> from</p>
<pre><code>d /var/run/tinyproxy-updates 0755 tinyproxy tinyproxy
</code></pre>
<p>to</p>
<pre><code>d /run/tinyproxy-updates 0755 tinyproxy tinyproxy
</code></pre>
<p>The same should be do anywhere in Qubes source code where it references <code>/var/run/</code>. Replace with <code>/run/</code>.</p>
<aside class="quote no-group" data-post="1" data-topic="8046">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/adw/40/686_2.png" class="avatar"> adw:</div>
<blockquote>
<p>In this case, I’m wondering whether simply restarting the TemplateVM once is enough</p>
</blockquote>
</aside>
<p>Yes.<br>
Even just shutdown is sufficient.</p>
<p>I understand the mess and user confusion, but I can’t fix it all. Linux desktop distributions are very unorganized…</p>
<p><a href="https://www.whonix.org/wiki/Reporting_Bugs#Linux_User_Experience_versus_Commercial_Operating_Systems" rel="nofollow noopener">https://www.whonix.org/wiki/Reporting_Bugs#Linux_User_Experience_versus_Commercial_Operating_Systems</a></p>
          <p><a href="http://forums.whonix.org/t/is-any-special-action-required-when-updating-to-qubes-core-agent-networking-4-0-47-1-deb10u1-in-whonix-templates/8046/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/is-any-special-action-required-when-updating-to-qubes-core-agent-networking-4-0-47-1-deb10u1-in-whonix-templates/8046/2</link>
        <pubDate>Mon, 09 Sep 2019 11:17:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8046-2</guid>
        <source url="http://forums.whonix.org/t/is-any-special-action-required-when-updating-to-qubes-core-agent-networking-4-0-47-1-deb10u1-in-whonix-templates/8046.rss">Is any special action required when updating to qubes-core-agent-networking (4.0.47-1+deb10u1) in Whonix templates?</source>
      </item>
      <item>
        <title>Is any special action required when updating to qubes-core-agent-networking (4.0.47-1+deb10u1) in Whonix templates?</title>
        <dc:creator><![CDATA[adw]]></dc:creator>
        <description><![CDATA[
            <p>When recently updating to <code>qubes-core-agent-networking (4.0.47-1+deb10u1)</code> in <code>whonix-gw-15</code> and <code>whonix-ws-15</code>, I noticed the following output, which I don’t recall ever seeing before:</p>
<pre><code class="lang-nohighlight">Setting up qubes-core-agent-networking (4.0.47-1+deb10u1) ...
Installing new version of config file /etc/udev/rules.d/99-qubes-network.rules ...
[qubes-core-agent-linux.conf:1] Line references path below legacy directory /var/run/, updating /var/run/tinyproxy-updates → /run/tinyproxy-updates; please update the tmpfiles.d/ drop-in file accordingly.
Warning: The unit file, source configuration file or drop-ins of qubes-network.service changed on disk. Run 'systemctl daemon-reload' to reload units.
</code></pre>
<p>I’m being instructed to do two things:</p>
<p>(1) “update the tmpfiles.d/ drop-in file accordingly”<br>
(2) “Run ‘systemctl daemon-reload’ to reload units”</p>
<p>I had no idea what (1) meant, so I searched online and found that it appears to be an upstream issue. [1][2] However, I still don’t know whether I, as a Qubes-Whonix user, should take any action here. What, if anything, should I do?</p>
<p>I also wasn’t sure about (2). I knew I could simply execute that command as instructed, but I’m not sure if I should. After searching online, (2) appears to be a pretty general mechanism that also isn’t specific to Qubes-Whonix. [3] In this case, I’m wondering whether simply restarting the TemplateVM once is enough, or whether any further action is required (or recommended) on my part here. Any thoughts?</p>
<p>[1] <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=902413" rel="nofollow noopener">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=902413</a><br>
[2] <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1658487" rel="nofollow noopener">https://bugzilla.redhat.com/show_bug.cgi?id=1658487</a><br>
[3] <a href="https://unix.stackexchange.com/q/364782" rel="nofollow noopener">https://unix.stackexchange.com/q/364782</a></p>
          <p><a href="http://forums.whonix.org/t/is-any-special-action-required-when-updating-to-qubes-core-agent-networking-4-0-47-1-deb10u1-in-whonix-templates/8046/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/is-any-special-action-required-when-updating-to-qubes-core-agent-networking-4-0-47-1-deb10u1-in-whonix-templates/8046/1</link>
        <pubDate>Sat, 07 Sep 2019 18:01:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8046-1</guid>
        <source url="http://forums.whonix.org/t/is-any-special-action-required-when-updating-to-qubes-core-agent-networking-4-0-47-1-deb10u1-in-whonix-templates/8046.rss">Is any special action required when updating to qubes-core-agent-networking (4.0.47-1+deb10u1) in Whonix templates?</source>
      </item>
  </channel>
</rss>
