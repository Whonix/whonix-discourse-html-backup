<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Building From Source Issues</title>
    <link>http://forums.whonix.org/t/building-from-source-issues/6236</link>
    <description>I had another topic here mentioning a build issue where the username &quot;user&quot; was hard coded into the build script. I am not building my Whonix VM modules under that username. Hence in attempting to build from source I have again run into a step where the process attempts to create files in /home/user.  Here is the recent error:
/usr/share/genmkfile/makefile-full:68 recipe for target deb-icup failed.

It&#39;s trying to create /home/user/whonix_binary because line 68 of makefile-full refers to make-helper.bsh. Inside that file there are two lines hard coded for username &quot;user&quot; at lines 366 and 367 of the file. This comes during build step 1200_create-debian-packages The make-helper.bsh file originates at https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper.bsh if that helps.

Is the username &quot;user&quot; hard coded into much of the build scripts for Whonix 14?  I think I will take a look at the rest of the build steps to see how much more the username is hard coded. I am hoping once the hard coded username issues get resolved it will build successfully.

Sorry if I placed this in the wrong section. I am trying to build for target qcow2 (KVM), but I imagine username &quot;user&quot; is hard coded for all build targets?

Edit:  I checked the rest of the build step scripts and none of the others have username &quot;user&quot; hard coded in. So hopefully if make-helper.bsh can be fixed maybe I can get a successful build?

Edit 2: I tried changing the value of lines 366 and 367 in make-helper.bsh, but they keep getting overwritten to the hard coded username value. Where is this coming from? I&#39;m trying to dig into the code, but lost at this point.</description>
    <language>en</language>
    <lastBuildDate>Fri, 02 Nov 2018 15:24:22 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/building-from-source-issues/6236.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Building From Source Issues</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Whonix 13 is deprecated.</p>
<aside class="quote" data-post="2" data-topic="5772">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v2/letter/e/977dab/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/whonix-13-approaching-eol-end-of-life-2018-september-30-all-users-must-upgrade/5772/2">Whonix 13 approaching EOL (End of Life) - 2018 September 30 - all users must upgrade!</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/news"><span class="badge-category-bg" style="background-color: #AB9364;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="News posted by Whonix staff.">News</span></a>
  </div>
  <blockquote>
    Dear Patrick. Thank you for Information! 
ef86
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/building-from-source-issues/6236/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/building-from-source-issues/6236/6</link>
        <pubDate>Fri, 02 Nov 2018 15:24:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6236-6</guid>
        <source url="http://forums.whonix.org/t/building-from-source-issues/6236.rss">Building From Source Issues</source>
      </item>
      <item>
        <title>Building From Source Issues</title>
        <dc:creator><![CDATA[glass]]></dc:creator>
        <description><![CDATA[
            <p>First <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> thank you for replying regarding my concern.</p>
<p>I was able to successfully build Whonix 13 Gateway and Workstation on my host Debian system at the time under a different username other than “user”. So it was possible to have a dynamic username for successfully building the Whonix 13 Gateway and Workstation. I don’t know why that changed for Whonix 14, but OK.</p>
<p>.</p>
          <p><a href="http://forums.whonix.org/t/building-from-source-issues/6236/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/building-from-source-issues/6236/5</link>
        <pubDate>Fri, 02 Nov 2018 11:54:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6236-5</guid>
        <source url="http://forums.whonix.org/t/building-from-source-issues/6236.rss">Building From Source Issues</source>
      </item>
      <item>
        <title>Building From Source Issues</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>When you find a fix, I am happy to consider a pull request.</p>
<p>There’s a lot cases to cover.</p>
<ul>
<li>runs from Whonix/Whonix</li>
<li>runs standalone</li>
<li>runs as root</li>
<li>runs as non-root</li>
</ul>
<p>Therefore hard to have dynamically set username.</p>
<p>Maybe genmkfile should use the same logic as function<br>
<code>user_name_detection</code> in Whonix/Whonix help-steps/variables.</p>
          <p><a href="http://forums.whonix.org/t/building-from-source-issues/6236/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/building-from-source-issues/6236/4</link>
        <pubDate>Fri, 02 Nov 2018 08:58:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6236-4</guid>
        <source url="http://forums.whonix.org/t/building-from-source-issues/6236.rss">Building From Source Issues</source>
      </item>
      <item>
        <title>Building From Source Issues</title>
        <dc:creator><![CDATA[glass]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="http://forums.whonix.org/u/hulahoop">@HulaHoop</a> thanks for your reply. I am fine with the Whonix Gateway and Workstation modules having “user” as the default username. Patrick had changed some of the build script files to allow one to build the Whonix modules on the host system under any arbitrarily chosen username. The make-helper.bsh file in question that I mentioned above seems to be overwritten by deb-icup? That is referenced in build step 1200_create-debian-packages on lines 193 - 195 :</p>
<p>pushd “$WHONIX_SOURCE_FOLDER/packages/anon-shared-build-apt-sources.tpo”<br>
sudo $SUDO_OPTS -E make deb-icup<br>
popd</p>
<p>and then again in makefile-full on line 68 where it appears to be used in part for adding contents into the make-helper.bsh file if I’m reading it correctly. The build script points to line 68 as the point where the build process failed and said it involved deb-icup.</p>
<p>When I look at anon-shared-build-apt-sources.tpo directory, I don’t see any reference to a hard coded username value. I’ll keep looking about though. I even tried using the allow-uncommitted and allow-untagged switches for building, but the make-helper.bsh file referenced above keeps getting overwritten to hard coded values of /home/user for where to create the “whonix_binary” directory. Again though, thank you for replying.</p>
          <p><a href="http://forums.whonix.org/t/building-from-source-issues/6236/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/building-from-source-issues/6236/3</link>
        <pubDate>Fri, 02 Nov 2018 04:34:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6236-3</guid>
        <source url="http://forums.whonix.org/t/building-from-source-issues/6236.rss">Building From Source Issues</source>
      </item>
      <item>
        <title>Building From Source Issues</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1" data-topic="6236">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/g/ac8455/40.png" class="avatar"> glass:</div>
<blockquote>
<p>Sorry if I placed this in the wrong section. I am trying to build for target qcow2 (KVM), but I imagine username “user” is hard coded for all build targets?</p>
</blockquote>
</aside>
<p>No worries. I think it is a hardcoded value indeed. Reason is we think a generic widely used username ensures no private info leaks by mistake in logs or file metadata. Nonetheless if you want to make customizations like this it should be possible depending on how much work changing the buildscript on our end.</p>
<p><a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> your thoughts?</p>
          <p><a href="http://forums.whonix.org/t/building-from-source-issues/6236/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/building-from-source-issues/6236/2</link>
        <pubDate>Thu, 01 Nov 2018 23:02:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6236-2</guid>
        <source url="http://forums.whonix.org/t/building-from-source-issues/6236.rss">Building From Source Issues</source>
      </item>
      <item>
        <title>Building From Source Issues</title>
        <dc:creator><![CDATA[glass]]></dc:creator>
        <description><![CDATA[
            <p>I had another topic here mentioning a build issue where the username “user” was hard coded into the build script. I am not building my Whonix VM modules under that username. Hence in attempting to build from source I have again run into a step where the process attempts to create files in /home/user.  Here is the recent error:<br>
/usr/share/genmkfile/makefile-full:68 recipe for target deb-icup failed.</p>
<p>It’s trying to create /home/user/whonix_binary because line 68 of makefile-full refers to make-helper.bsh. Inside that file there are two lines hard coded for username “user” at lines 366 and 367 of the file. This comes during build step 1200_create-debian-packages The make-helper.bsh file originates at <a href="https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper.bsh" rel="nofollow noopener">https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper.bsh</a> if that helps.</p>
<p>Is the username “user” hard coded into much of the build scripts for Whonix 14?  I think I will take a look at the rest of the build steps to see how much more the username is hard coded. I am hoping once the hard coded username issues get resolved it will build successfully.</p>
<p>Sorry if I placed this in the wrong section. I am trying to build for target qcow2 (KVM), but I imagine username “user” is hard coded for all build targets?</p>
<p>Edit:  I checked the rest of the build step scripts and none of the others have username “user” hard coded in. So hopefully if make-helper.bsh can be fixed maybe I can get a successful build?</p>
<p>Edit 2: I tried changing the value of lines 366 and 367 in make-helper.bsh, but they keep getting overwritten to the hard coded username value. Where is this coming from? I’m trying to dig into the code, but lost at this point.</p>
          <p><a href="http://forums.whonix.org/t/building-from-source-issues/6236/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/building-from-source-issues/6236/1</link>
        <pubDate>Thu, 01 Nov 2018 10:41:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6236-1</guid>
        <source url="http://forums.whonix.org/t/building-from-source-issues/6236.rss">Building From Source Issues</source>
      </item>
  </channel>
</rss>
