<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Disabling TCP SACK, DSACK, FACK</title>
    <link>http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109</link>
    <description>https://www.suse.com/c/sles-1112-network-cpu-tuning-optimization-part-2/

&gt; Disabling selective TCP acknowledgments mandates also to disable corresponding related parameter, which is **tcp_dsack** and **tcp_fack** for specific packet type.

Maybe we should disable DSACK and FACK as well as SACK?</description>
    <language>en</language>
    <lastBuildDate>Sun, 03 Jul 2022 10:51:52 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Disabling TCP SACK, DSACK, FACK</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubissue" data-onebox-src="https://github.com/Kicksecure/security-misc/issues/107">
  <header class="source">

      <a href="https://github.com/Kicksecure/security-misc/issues/107" target="_blank" rel="noopener">github.com/Kicksecure/security-misc</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Kicksecure/security-misc/issues/107" target="_blank" rel="noopener">The claim about DSACK causing security issues is not actually backed by evidence</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-07-01" data-time="13:31:02" data-timezone="UTC">01:31PM - 01 Jul 22 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/mikkorantalainen" target="_blank" rel="noopener">
          <img alt="mikkorantalainen" src="https://avatars.githubusercontent.com/u/259482?v=4" class="onebox-avatar-inline" width="20" height="20">
          mikkorantalainen
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">The comment here

https://github.com/Kicksecure/security-misc/blob/c19942f72b8<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">d74056dd8da8c3cd9ac7e0fbe8991/etc/sysctl.d/tcp_sack.conf#L1-L2

makes it appear as if using DSACK would be a security problem. However, the discussion linked doesn't seem to provide any evidence for this. The linked SUSE material only speaks about disabling DSACK in 10 Gbit networks to reduce CPU usage.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/10</link>
        <pubDate>Sun, 03 Jul 2022 10:51:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8109-10</guid>
        <source url="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109.rss">Disabling TCP SACK, DSACK, FACK</source>
      </item>
      <item>
        <title>Disabling TCP SACK, DSACK, FACK</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="8" data-topic="8109">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>It would be better to keep the file but have those lines commented out by default. If a user wants to disable SACK, they can just comment out that file and it can be documented in <a href="https://www.whonix.org/wiki/Whonix-Workstation_Security_Hardening" rel="nofollow noopener">https://www.whonix.org/wiki/Whonix-Workstation_Security_Hardening</a> and the readme like the hardware info restrictions.</p>
</blockquote>
</aside>
<p>Sure. Done in git master.</p>
<aside class="quote no-group" data-post="8" data-topic="8109">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>We can probably make our own test suite, rent a few VPSes and test them after each change. VPSes are rather cheap nowadays.</p>
</blockquote>
</aside>
<p>That would be cool. Patches welcome.</p>
<p>Unfortunately nobody ever was interested in contributing in test suite / creating tests:</p>
<aside class="quote" data-post="1" data-topic="5942">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="https://forums.whonix.org/t/looking-for-contributor-automated-test-suite/5942">[looking for contributor] automated test suite</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Not written in stone, means, we can discuss this further. 
Tails has an automated test suite: 
<a href="https://tails.boum.org/contribute/release_process/test/automated_tests/" class="onebox" target="_blank" rel="nofollow noopener">https://tails.boum.org/contribute/release_process/test/automated_tests/</a> 
Whonix needs an automated test suite as well. 

Check, if <a href="https://github.com/Whonix/Whonix/blob/master/CONTRIBUTING.md" rel="nofollow noopener">https://github.com/Whonix/Whonix/blob/master/CONTRIBUTING.md</a> is acceptable.
Create an automated test suite and/or adapt whatever is useful from the Tails’ automated test suite.
Share it on git(hub).
Optional: package as .deb.
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/9</link>
        <pubDate>Sat, 05 Oct 2019 13:17:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8109-9</guid>
        <source url="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109.rss">Disabling TCP SACK, DSACK, FACK</source>
      </item>
      <item>
        <title>Disabling TCP SACK, DSACK, FACK</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="5" data-topic="8109">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Even just <code>net.ipv4.tcp_sack=0</code> causes grave issues with my clearnet connectivity. A usually 2 seconds page load time goes up to 10 seconds or so.</p>
</blockquote>
</aside>
<p>For me, there isn’t a difference in speed.</p>
<aside class="quote no-group" data-post="5" data-topic="8109">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The problem is out style of development is rather early stage. We don’t have a testing farm of various computers in various configurations such as in globally distributed locations using different ISPs, different hardware, different routers, different configurations, running various automated connectivity and performance tests.</p>
<p>I am not calling it amateur because not even commercial operating systems might have that level of testing. However, without that level of testing we are flipping settings with very limited testing. Mostly just in our own configuration. With our computer, our ISP, our setup, etc. We’re kinda walking blind so to speak.</p>
</blockquote>
</aside>
<p>We can probably make our own test suite, rent a few VPSes and test them after each change. VPSes are rather cheap nowadays.</p>
<aside class="quote no-group" data-post="5" data-topic="8109">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Therefore this change is too experimental to be applied by default for all users. Note: security-misc is a general, non-Whonix specific page.</p>
<p>I will merge this change to have it inside the git history and then undo it by deleting file <code>/etc/sysctl.d/tcp_sack.conf</code> .</p>
</blockquote>
</aside>
<p>It would be better to keep the file but have those lines commented out by default. If a user wants to disable SACK, they can just comment out that file and it can be documented in <a href="https://www.whonix.org/wiki/Whonix-Workstation_Security_Hardening" rel="nofollow noopener">https://www.whonix.org/wiki/Whonix-Workstation_Security_Hardening</a> and the readme like the hardware info restrictions.</p>
          <p><a href="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/8</link>
        <pubDate>Sat, 05 Oct 2019 12:48:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8109-8</guid>
        <source url="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109.rss">Disabling TCP SACK, DSACK, FACK</source>
      </item>
      <item>
        <title>Disabling TCP SACK, DSACK, FACK</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/security-misc/commit/5fb4eb8e561e7c37cea977072944501fc32ee883" target="_blank" rel="nofollow noopener">github.com/Whonix/security-misc</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/security-misc/commit/5fb4eb8e561e7c37cea977072944501fc32ee883" target="_blank" rel="nofollow noopener">undo Disabling TCP SACK, DSACK, FACK</a>
</h4>

  <pre class="message" style="white-space: normal;">https://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/5</pre>

<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/security-misc/commit/5fb4eb8e561e7c37cea977072944501fc32ee883" target="_blank" rel="nofollow noopener">11:00AM - 05 Oct 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>3 files</strong>
  with <strong>3 additions</strong>
  and <strong>7 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/7</link>
        <pubDate>Sat, 05 Oct 2019 11:01:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8109-7</guid>
        <source url="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109.rss">Disabling TCP SACK, DSACK, FACK</source>
      </item>
      <item>
        <title>Disabling TCP SACK, DSACK, FACK</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>For reference, latest file before deletion:</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/security-misc/blob/c19942f72b8d74056dd8da8c3cd9ac7e0fbe8991/etc/sysctl.d/tcp_sack.conf" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/security-misc/blob/c19942f72b8d74056dd8da8c3cd9ac7e0fbe8991/etc/sysctl.d/tcp_sack.conf" target="_blank" rel="nofollow noopener">Whonix/security-misc/blob/c19942f72b8d74056dd8da8c3cd9ac7e0fbe8991/etc/sysctl.d/tcp_sack.conf</a></h4>
<pre><code class="lang-conf"># Disables SACK as it is commonly exploited and likely not needed.
# https://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109
net.ipv4.tcp_sack=0
net.ipv4.tcp_dsack=0
net.ipv4.tcp_fack=0
</code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/6</link>
        <pubDate>Sat, 05 Oct 2019 10:59:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8109-6</guid>
        <source url="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109.rss">Disabling TCP SACK, DSACK, FACK</source>
      </item>
      <item>
        <title>Disabling TCP SACK, DSACK, FACK</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Even just <code>net.ipv4.tcp_sack=0</code> causes grave issues with my clearnet connectivity. A usually 2 seconds page load time goes up to 10 seconds or so.</p>
<p>The problem is out style of development is rather early stage. We don’t have a testing farm of various computers in various configurations such as in globally distributed locations using different ISPs, different hardware, different routers, different configurations, running various automated connectivity and performance tests.</p>
<p>I am not calling it amateur because not even commercial operating systems might have that level of testing. However, without that level of testing we are flipping settings with very limited testing. Mostly just in our own configuration. With our computer, our ISP, our setup, etc. We’re kinda walking blind so to speak.</p>
<p>Therefore this change is too experimental to be applied by default for all users. Note: security-misc is a general, non-Whonix specific page.</p>
<p>I will merge this change to have it inside the git history and then undo it by deleting file <code>/etc/sysctl.d/tcp_sack.conf</code>.</p>
<p>If you like, this could be implemented on an opt-in basis. I.e. all files by default and the user only has to pull the trigger (run some command) to enable all of this.</p>
<p>Another alternative could be creating a package <code>security-extra</code> or so which I am happy to maintain in sense of hosting on github, adding to Whonix repository, review/merge etc. but not installed by default in Whonix or Kicksecure. This would however allow easy activation of this using <code>sudo apt install security-extra</code> or so and may also get installed by default when using some opt-in Whonix custom build parameter.</p>
          <p><a href="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/5</link>
        <pubDate>Sat, 05 Oct 2019 10:57:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8109-5</guid>
        <source url="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109.rss">Disabling TCP SACK, DSACK, FACK</source>
      </item>
      <item>
        <title>Disabling TCP SACK, DSACK, FACK</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubpullrequest">
  <header class="source">
      <a href="https://github.com/Whonix/security-misc/pull/32" target="_blank" rel="nofollow noopener">github.com/Whonix/security-misc</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/madaidan" target="_blank" rel="nofollow noopener">
    <img alt="madaidan" src="https://avatars0.githubusercontent.com/u/50278627?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/security-misc/pull/32" target="_blank" rel="nofollow noopener">Disable TCP DSACK and FACK</a>
</h4>

<div class="date">
  by <a href="https://github.com/madaidan" target="_blank" rel="nofollow noopener">madaidan</a>
  on <a href="https://github.com/Whonix/security-misc/pull/32" target="_blank" rel="nofollow noopener">05:36PM - 04 Oct 19 UTC</a>
</div>

<div class="github-commit-stats">
  <strong>1 commits</strong>
  changed <strong>1 files</strong>
  with <strong>3 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/4</link>
        <pubDate>Fri, 04 Oct 2019 17:36:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8109-4</guid>
        <source url="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109.rss">Disabling TCP SACK, DSACK, FACK</source>
      </item>
      <item>
        <title>Disabling TCP SACK, DSACK, FACK</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="2" data-topic="8109">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>How liekly is ti these other ACK types can be induced anyway?</p>
</blockquote>
</aside>
<p>They all seem to be some form of SACK or depend on SACK.</p>
<p>DSACK seems to stand for Duplicate Selective Acknowledgement (duplicate SACK).</p>
<p><a href="https://tools.ietf.org/html/rfc3708" class="onebox" target="_blank" rel="nofollow noopener">https://tools.ietf.org/html/rfc3708</a></p>
<p><a href="https://dl.acm.org/citation.cfm?id=248181" class="onebox" target="_blank" rel="nofollow noopener">https://dl.acm.org/citation.cfm?id=248181</a></p>
<blockquote>
<p>We have developed a Forward Acknowledgment (FACK) congestion control algorithm which addresses many of the performance problems recently observed in the Internet. The FACK algorithm is based on first principles of congestion control and <strong>is designed to be used with the proposed TCP SACK option.</strong></p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/3</link>
        <pubDate>Tue, 17 Sep 2019 16:08:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8109-3</guid>
        <source url="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109.rss">Disabling TCP SACK, DSACK, FACK</source>
      </item>
      <item>
        <title>Disabling TCP SACK, DSACK, FACK</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>We’ve discussed SACK before:</p>
<p><a href="http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/kernel-hardening/7296/55" class="onebox" target="_blank" rel="nofollow noopener">http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/kernel-hardening/7296/55</a></p>
<p>How liekly is ti these other ACK types can be induced anyway?</p>
          <p><a href="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/2</link>
        <pubDate>Mon, 16 Sep 2019 23:57:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8109-2</guid>
        <source url="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109.rss">Disabling TCP SACK, DSACK, FACK</source>
      </item>
      <item>
        <title>Disabling TCP SACK, DSACK, FACK</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.suse.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.suse.com/c/sles-1112-network-cpu-tuning-optimization-part-2/" target="_blank" title="09:28AM - 30 June 2015" rel="nofollow noopener">SUSE Communities – 30 Jun 15</a>
  </header>
  <article class="onebox-body">
    

<h3><a href="https://www.suse.com/c/sles-1112-network-cpu-tuning-optimization-part-2/" target="_blank" rel="nofollow noopener">SLES 11/12: Network, CPU Tuning and Optimization - Part 2 - SUSE Communities</a></h3>

<p>This document is a basic SLES tuning guide for Network and CPU tuning and optimization. Many of the parameters and settings discussed are Linux generic and can be applied. Refer to IHV/ISV Application tuning guides or documentation before you...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<blockquote>
<p>Disabling selective TCP acknowledgments mandates also to disable corresponding related parameter, which is <strong>tcp_dsack</strong> and <strong>tcp_fack</strong> for specific packet type.</p>
</blockquote>
<p>Maybe we should disable DSACK and FACK as well as SACK?</p>
          <p><a href="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109/1</link>
        <pubDate>Fri, 13 Sep 2019 21:10:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8109-1</guid>
        <source url="http://forums.whonix.org/t/disabling-tcp-sack-dsack-fack/8109.rss">Disabling TCP SACK, DSACK, FACK</source>
      </item>
  </channel>
</rss>
