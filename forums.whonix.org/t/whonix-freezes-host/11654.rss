<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix freezes host</title>
    <link>http://forums.whonix.org/t/whonix-freezes-host/11654</link>
    <description>Hello,

I am running Kubuntu 21.04, and the latest official version of virtualbox and whonix as of wrting.

This issue has been occuring the past 2 months or so, and I&#39;ve been trying to diagnose it myself but when I have both the gateway and workstation (gateway-cli and workstation-xfce) running, it seems anywhere from 5 mins to an hour after launch and it&#39;ll freeze the host. The mouse moves, but nothing is responsive within the vm, or host. I&#39;ve let it sit for upwards to 30 minutes before and it never resumed. I&#39;ve got swap disabled on my host, i did enable it for testing with no luck. Both gateway and workstation have 2GB ram allowed by virtualbox. I&#39;ve tried with all default settings, then again with my custom settings. I&#39;ve tried using on different hdd&#39;s, and ssd&#39;s. This January 2021, i switched to a new computer where I started sometime after notcing this where it didn&#39;t occur on my last pc, however I&#39;m not sure if this is just a conicidence or not, can&#39;t test it now. My pc, if it helps is a Lenovo Legion 15-ARH05 released around mid 2020.

This issue doesn&#39;t occur when using a windows 10 vm, which i&#39;ve used for 3 hours straight for testing. So I do not believe it is over using system resources or a virtualbox bug.

I do not know how to check dmsg for any issues as they seem to get erased or reset every restart of linux, and I can&#39;t check it when the host locks up on me (When it does a hard shutdown is needed).

Anyway to figure out whats going on?

Thank you</description>
    <language>en</language>
    <lastBuildDate>Mon, 17 May 2021 06:43:26 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/whonix-freezes-host/11654.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix freezes host</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="dhammel" data-post="3" data-topic="11654">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/dhammel/40/2693_2.png" class="avatar"> dhammel:</div>
<blockquote>
<p>Result Code: NS_ERROR_FAILURE (0x80004005)</p>
</blockquote>
</aside>
<p><a href="https://www.whonix.org/wiki/VirtualBox/Troubleshooting#Failed_to_open_a_session_for_the_virtual_machine">https://www.whonix.org/wiki/VirtualBox/Troubleshooting#Failed_to_open_a_session_for_the_virtual_machine</a></p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Stay_Tuned" target="_blank" rel="noopener" title="02:14PM - 30 March 2021">Whonix – 30 Mar 21</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:131/87;"><img src="https://www.whonix.org/w/images/0/04/Carriage-clock-797833640.jpg" class="thumbnail" width="131" height="87"></div>

<h3><a href="https://www.whonix.org/wiki/Stay_Tuned" target="_blank" rel="noopener">Stay Tuned</a></h3>

<p>It is absolutely crucial to subscribe to and read the latest Whonix ™ news category 'important-news' to stay in touch with ongoing developments. This way users benefit from notifications concerning important security advisories, potential upgrade...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-username="dhammel" data-post="4" data-topic="11654">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/dhammel/40/2693_2.png" class="avatar"> dhammel:</div>
<blockquote>
<p>The issue still persist, after about 15 minutes or so the host entirely froze again</p>
</blockquote>
</aside>
<p><a href="https://www.whonix.org/wiki/VirtualBox/Troubleshooting#Host_Crash">https://www.whonix.org/wiki/VirtualBox/Troubleshooting#Host_Crash</a> applies. Which says</p>
<blockquote>
<p>Same as below <a href="https://www.whonix.org/wiki/VirtualBox/Troubleshooting#Aborted_Status">Aborted Status</a>.</p>
</blockquote>
<p>If step 1. and 2. listed there don’t help, the only option remains is 3.</p>
          <p><a href="http://forums.whonix.org/t/whonix-freezes-host/11654/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-freezes-host/11654/5</link>
        <pubDate>Mon, 17 May 2021 06:43:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11654-5</guid>
        <source url="http://forums.whonix.org/t/whonix-freezes-host/11654.rss">Whonix freezes host</source>
      </item>
      <item>
        <title>Whonix freezes host</title>
        <dc:creator><![CDATA[dhammel]]></dc:creator>
        <description><![CDATA[
            <p>Well, after some further testing I managed to get it booted (on recomended virtualbox version 6.1.20) by switching both gateway and workstation storage types (storage controller) to AHCI from LsiLogic SAS.</p>
<p>The issue still persist, after about 15 minutes or so the host entirely froze again and a hard reboot was requried. First thing I did afterwards was grab the full log from each vm and saved them. They contain certain sensitive things in them so I will post the last bit in log which seems to resemble an error that might reflect it.</p>
<p>00:00:36.397568 GUI: UISession::sltAdditionsChange: GA state change event came, notifying listeners<br>
00:00:36.397590 GUI: UIMachineLogicNormal::sltCheckForRequestedVisualStateType: Requested-state=0, Machine-state=5<br>
00:00:36.397799 VMMDev: Guest Log: 05:55:32.706906 main     vbglR3GuestCtrlDetectPeekGetCancelSupport: Supported (<span class="hashtag">#1</span>)<br>
00:00:36.397989 Guest Control: GUEST_MSG_REPORT_FEATURES: 0x7, 0x8000000000000000<br>
00:00:36.405342 VMMDev: Guest Log: 05:55:32.714388 timesync Error: vgsvcTimeSyncWorker: VbglR3GetHostTime failed; rc2=VERR_NOT_SUPPORTED<br>
00:00:36.409631 GUI: UISession::sltAdditionsChange: GA state really changed, notifying listeners<br>
00:00:36.409657 GUI: UIMachineViewNormal::adjustGuestScreenSize: Adjust guest-screen size if necessary<br>
00:00:36.409684 GUI: UIMachineView::sltPerformGuestResize: Sending guest size-hint to screen 0 as 1024x768 if necessary<br>
00:00:36.409698 GUI: UISession::sltAdditionsChange: GA state change event came, notifying listeners<br>
00:00:36.409703 GUI: UIMachineLogicNormal::sltCheckForRequestedVisualStateType: Requested-state=0, Machine-state=5<br>
00:00:46.410513 VMMDev: Guest Log: 05:55:42.714600 timesync Error: vgsvcTimeSyncWorker: VbglR3GetHostTime failed; rc2=VERR_NOT_SUPPORTED<br>
00:00:56.420499 VMMDev: Guest Log: 05:55:52.719582 timesync Error: vgsvcTimeSyncWorker: VbglR3GetHostTime failed; rc2=VERR_NOT_SUPPORTED<br>
00:01:06.425854 VMMDev: Guest Log: 05:56:02.720015 timesync Error: vgsvcTimeSyncWorker: VbglR3GetHostTime failed; rc2=VERR_NOT_SUPPORTED<br>
00:01:16.431222 VMMDev: Guest Log: 05:56:12.720444 timesync Error: vgsvcTimeSyncWorker: VbglR3GetHostTime failed; rc2=VERR_NOT_SUPPORTED<br>
00:01:26.469384 VMMDev: Guest Log: 05:56:22.753518 timesync Error: vgsvcTimeSyncWorker: VbglR3GetHostTime failed; rc2=VERR_NOT_SUPPORTED<br>
00:01:36.474789 VMMDev: Guest Log: 05:56:32.753963 timesync Error: vgsvcTimeSyncWorker: VbglR3GetHostTime failed; rc2=VERR_NOT_SUPPORTED<br>
00:01:46.480130 VMMDev: Guest Log: 05:56:42.754371 timesync Error: vgsvcTimeSyncWorker: VbglR3GetHostTime failed; rc2=VERR_NOT_SUPPORTED<br>
00:01:56.486240 VMMDev: Guest Log: 05:56:52.755445 timesync Error: vgsvcTimeSyncWorker: VbglR3GetHostTime failed; rc2=VERR_NOT_SUPPORTED<br>
00:02:06.491450 VMMDev: Guest Log: 05:57:02.755731 timesync Error: vgsvcTimeSyncWorker: VbglR3GetHostTime failed; rc2=VERR_NOT_SUPPORTED</p>
          <p><a href="http://forums.whonix.org/t/whonix-freezes-host/11654/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-freezes-host/11654/4</link>
        <pubDate>Mon, 17 May 2021 06:22:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11654-4</guid>
        <source url="http://forums.whonix.org/t/whonix-freezes-host/11654.rss">Whonix freezes host</source>
      </item>
      <item>
        <title>Whonix freezes host</title>
        <dc:creator><![CDATA[dhammel]]></dc:creator>
        <description><![CDATA[
            <p>I have looked at the troubleshooting guides before with no luck.</p>
<p>As for the reccomended version, I missed that. However when trying to downgrade from 6.1.22 to 6.1.20, when starting vm on 6.1.20 it results in an error:</p>
<p>Failed to open a session for the virtual machine Whonix-Gateway.</p>
<p>The VM session was aborted.</p>
<p>Result Code: NS_ERROR_FAILURE (0x80004005)<br>
Component: SessionMachine<br>
Interface: ISession {c0447716-ff5a-4795-b57a-ecd5fffa18a4}</p>
<p>Is there a special way to downgrade?</p>
<p>I have the official virtualbox repo added to my sources. So what I did was kept the source for now, uninstalled virtualbox-6.1 (sudo apt purge virtualbox-6.1), downloaded the package for ubuntu from virtualbox download section for older builds, as well as extension pack. Installed the deb (sudo dpkg -i virtualbox-6.1_6.1.20-143896~Ubuntu~eoan_amd64.deb) and extension pack (sudo vboxmanage extpack install Oracle_VM_VirtualBox_Extension_Pack-6.1.20.vbox-extpack). Then comment out the line in Virtualbox.list to prevent apt from updating it.</p>
<p>This error occurs for each attempted start of gateway and workstation.</p>
<p>In case it comes up, I do have AMD SVM Virtualization Technology enabled in BIOS, as well as secure boot disabled.booted in UEFI mode.</p>
          <p><a href="http://forums.whonix.org/t/whonix-freezes-host/11654/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-freezes-host/11654/3</link>
        <pubDate>Mon, 17 May 2021 05:26:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11654-3</guid>
        <source url="http://forums.whonix.org/t/whonix-freezes-host/11654.rss">Whonix freezes host</source>
      </item>
      <item>
        <title>Whonix freezes host</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>See these:</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Troubleshooting" target="_blank" rel="noopener" title="03:47PM - 28 April 2021">Whonix – 28 Apr 21</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:131/87;"><img src="https://www.whonix.org/w/images/8/81/Troubleshooting-114197640.jpg" class="thumbnail" width="131" height="87"></div>

<h3><a href="https://www.whonix.org/wiki/Troubleshooting" target="_blank" rel="noopener">Troubleshooting</a></h3>

<p>Troubleshooting Installation and Network Issues with Whonix ™</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/VirtualBox/Troubleshooting" target="_blank" rel="noopener" title="11:39AM - 30 April 2021">Whonix – 30 Apr 21</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:131/87;"><img src="https://www.whonix.org/w/images/8/81/Troubleshooting-114197640.jpg" class="thumbnail" width="131" height="87"></div>

<h3><a href="https://www.whonix.org/wiki/VirtualBox/Troubleshooting" target="_blank" rel="noopener">VirtualBox/Troubleshooting</a></h3>

<p>VT-x is disabled in the BIOS. / VERR_VMX_MSR_VMXON_DISABLED / VERR_SSM_FIELD_NOT_CONSECUTIVE / supR3HardenedWinReSpawn / Enable VT-x in BIOS / Aborted Status / Guru Mediation</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<ul>
<li><a href="https://www.whonix.org/wiki/VirtualBox/Troubleshooting#Host_Crash">https://www.whonix.org/wiki/VirtualBox/Troubleshooting#Host_Crash</a></li>
</ul>
<aside class="quote no-group" data-username="dhammel" data-post="1" data-topic="11654">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/dhammel/40/2693_2.png" class="avatar"> dhammel:</div>
<blockquote>
<p>latest official version of virtualbox</p>
</blockquote>
</aside>
<p>random guess:</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/VirtualBox/Recommended_Version" target="_blank" rel="noopener" title="03:46PM - 28 April 2021">Whonix – 28 Apr 21</a>
  </header>
  <article class="onebox-body">
    <img src="https://www.whonix.org/w/images/b/bc/Recommendedvboxversion1231231234.png" class="thumbnail onebox-avatar" width="60" height="60">

<h3><a href="https://www.whonix.org/wiki/VirtualBox/Recommended_Version" target="_blank" rel="noopener">VirtualBox/Recommended Version</a></h3>

<p>It is highly recommended to use the recommended VirtualBox version for use with Whonix ™. Otherwise there can be issues.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/whonix-freezes-host/11654/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-freezes-host/11654/2</link>
        <pubDate>Sat, 15 May 2021 11:14:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11654-2</guid>
        <source url="http://forums.whonix.org/t/whonix-freezes-host/11654.rss">Whonix freezes host</source>
      </item>
      <item>
        <title>Whonix freezes host</title>
        <dc:creator><![CDATA[dhammel]]></dc:creator>
        <description><![CDATA[
            <p>Hello,</p>
<p>I am running Kubuntu 21.04, and the latest official version of virtualbox and whonix as of wrting.</p>
<p>This issue has been occuring the past 2 months or so, and I’ve been trying to diagnose it myself but when I have both the gateway and workstation (gateway-cli and workstation-xfce) running, it seems anywhere from 5 mins to an hour after launch and it’ll freeze the host. The mouse moves, but nothing is responsive within the vm, or host. I’ve let it sit for upwards to 30 minutes before and it never resumed. I’ve got swap disabled on my host, i did enable it for testing with no luck. Both gateway and workstation have 2GB ram allowed by virtualbox. I’ve tried with all default settings, then again with my custom settings. I’ve tried using on different hdd’s, and ssd’s. This January 2021, i switched to a new computer where I started sometime after notcing this where it didn’t occur on my last pc, however I’m not sure if this is just a conicidence or not, can’t test it now. My pc, if it helps is a Lenovo Legion 15-ARH05 released around mid 2020.</p>
<p>This issue doesn’t occur when using a windows 10 vm, which i’ve used for 3 hours straight for testing. So I do not believe it is over using system resources or a virtualbox bug.</p>
<p>I do not know how to check dmsg for any issues as they seem to get erased or reset every restart of linux, and I can’t check it when the host locks up on me (When it does a hard shutdown is needed).</p>
<p>Anyway to figure out whats going on?</p>
<p>Thank you</p>
          <p><a href="http://forums.whonix.org/t/whonix-freezes-host/11654/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-freezes-host/11654/1</link>
        <pubDate>Fri, 14 May 2021 23:11:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-11654-1</guid>
        <source url="http://forums.whonix.org/t/whonix-freezes-host/11654.rss">Whonix freezes host</source>
      </item>
  </channel>
</rss>
