<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</title>
    <link>http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092</link>
    <description>Hey everyone,

I am a long-time user of Whonix and Qubes 3.2. The following issues are specific to the Whonix Workstation on Qubes 3.2.

Firstly, I should start by saying that I ran into the updating problems with the onion repositories. I fixed those by commenting out the onion addresses in the Whonix Workstation TemplateVM (I didn&#39;t have to do this with the Gateway TemplateVM, which didn&#39;t cause me any problems for some reason).

Unfortunately, I am still unable to access the internet from any of my Whonix-ws-14-based AppVMs, and this has been a problem I have been having since the last update. Here’s what happens:

When I first open the Tor Browser, I receive a warning that my activities may be linked if the Tor Browser is already running. I have gotten this sort of warning in the past when I already have an instance of the TB running, but that’s not the case here.

I click “yes” to get rid of the warning box and the Tor Browser proceeds to open. The first sign that something is (still) not right is that it’s unable to find the local Whonix splash page file that always pops up when the browser first starts. Weird, but certainly not a huge issue.

Then, when I try to do a random search (I use DDG’s Onion service to conduct searches), I’m told that the server has reloaded while the request was being made (or something to that effect; it’s a super-common error message). Whatever the cause may be, the result is that I’m unable to visit any website; Google, DDG Onion, DDG Clearnet, and so on all give me the same error.

It occurred to me that this might be a Tor Browser problem, so I opened up the Electrum bitcoin client in the same AppVM to see if that works. Unfortunately, Electrum doesn’t connect either.

Then—again in the same AppVM—I open up konsole and ping google (both google.com and 8.8.8.8): Interestingly, when I ping google.com the terminal shows me the site’s corresponding numerical IPv4 address, so there must be some sort of DNS access at the very least, right? Anyway, aside from seeing the IPv4 address I get no feedback whatsoever for the next 20-30 seconds, so I finally Ctrl-C the process and see a packet loss of 100%.

Finally, I open Firefox in my “Untrusted” AppVM, which uses **Fedora 28** as its template and **sys-whonix as its NetVM**. It takes me to Google without the slightest problem.

Any ideas? Is this just a bad update I’m going to have to wait out, or are there steps I can take to remedy the situation in the meantime? 90% of my Qubes work is done on Whonix, so this has been a major hit to my productivity. 

Any help would be greatly appreciated!</description>
    <language>en</language>
    <lastBuildDate>Thu, 04 Oct 2018 00:06:54 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</title>
        <dc:creator><![CDATA[FiddlerOnAHotTinRoof]]></dc:creator>
        <description><![CDATA[
            <p>That was the problem. The <code>qubes-whonix-workstation</code> package wasn’t installed. I’m able to connect to the internet again, and the splash page has returned as well.</p>
          <p><a href="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/7</link>
        <pubDate>Thu, 04 Oct 2018 00:06:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6092-7</guid>
        <source url="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092.rss">Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</source>
      </item>
      <item>
        <title>Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</title>
        <dc:creator><![CDATA[FiddlerOnAHotTinRoof]]></dc:creator>
        <description><![CDATA[
            <p>Indeed, <code>dpkg -l | grep qubes-whonix-workstation</code> returned nothing. I’m installing it right now. Will update as soon as it goes through.</p>
          <p><a href="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/6</link>
        <pubDate>Tue, 02 Oct 2018 20:07:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6092-6</guid>
        <source url="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092.rss">Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</source>
      </item>
      <item>
        <title>Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Could be. In anon-whonix / whonix-ws-14:</p>
<pre><code>dpkg -l | grep qubes-whonix-workstation
</code></pre>
<p>Should include:</p>
<blockquote>
<p>ii  qubes-whonix-workstation                       3:7.9-1                                    all          Default packages for Qubes-Whonix-Workstation</p>
</blockquote>
<p>If it’s not there would explain why whonixcheck is missing.</p>
<p>autoremove:<br>
Easiest, non-experts: On Qubes-Whonix-Workstation package <code>qubes-whonix-workstation</code> should stay installed. See also:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Whonix_Debian_Packages" target="_blank">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:120/97;"><img src="https://www.whonix.org/w/images/a/aa/Box-158523640.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Whonix_Debian_Packages" target="_blank">Whonix Debian Packages</a></h3>

<p>Which Whonix Debian packages are safe to remove? What is a meta package? What other packages do Whonix meta packages install? Which packages should ne...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>You might have been hit by this bug which lead to excessive autoremove:</p>
<aside class="quote quote-modified" data-post="1" data-topic="5968">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar">
    <a href="https://forums.whonix.org/t/sudo-apt-get-dist-upgrade-the-following-packages-will-be-removed-enigmail/5968">sudo apt-get dist-upgrade - The following packages will be REMOVED: enigmail</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/support"><span class="badge-category-bg" style="background-color: #8C6238;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="User support for the Whonix operating system. (devs)">Support</span></a>
  </div>
  <blockquote>
    This is happening on a Qubes debian-9 VM for me. So this could be a Debian issue. By extension, Whonix would be affected as well. 
user@debian-9:~$ sudo apt-get dist-upgrade
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Calculating upgrade... Done
The following packages will be REMOVED:
  enigmail
The following packages will be upgraded:
  ghostscript icedove libgs9 libgs9-common libmarkdown2 lightning thunderbird
7 upgraded, 0 newly installed, 1…
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/5</link>
        <pubDate>Tue, 02 Oct 2018 20:02:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6092-5</guid>
        <source url="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092.rss">Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</source>
      </item>
      <item>
        <title>Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</title>
        <dc:creator><![CDATA[FiddlerOnAHotTinRoof]]></dc:creator>
        <description><![CDATA[
            <p>Okay, so <code>cat /etc/whonix_version</code> returns <code>14</code> on both sys-whonix and anon-whonix, which is great.</p>
<p>I don’t see anything out of the ordinary when I run <code>whonixcheck --verbose</code> on sys-whonix. <em>BUT</em> when I try running it on anon-whonix, I get <code>bash: command not found</code>.</p>
<p>I remember a lot of stuff got autoremoved after updating to Whonix 14. Could it be that stuff that shouldn’t have been removed went with it?</p>
          <p><a href="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/4</link>
        <pubDate>Tue, 02 Oct 2018 19:20:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6092-4</guid>
        <source url="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092.rss">Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</source>
      </item>
      <item>
        <title>Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</title>
        <dc:creator><![CDATA[FiddlerOnAHotTinRoof]]></dc:creator>
        <description><![CDATA[
            <p>Yes, I have. I downloaded entirely new templates rather than upgrade from within the TemplateVMs. My Workstation and Gateway TemplateVMs are called “whonix-ws-14” and “whonix-gw-14,” respectively. I’ll post the exact output in just a sec (I’m typing this from a different machine).</p>
          <p><a href="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/3</link>
        <pubDate>Tue, 02 Oct 2018 18:37:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6092-3</guid>
        <source url="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092.rss">Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</source>
      </item>
      <item>
        <title>Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Have you upgraded to Whonix 14?</p>
<blockquote>
<p>cat /etc/whonix_version</p>
</blockquote>
<p>(should show 14)</p>
<p>What does whonixcheck say in sys-whonix and anon-whonix?</p>
<p>Might want to run with:</p>
<blockquote>
<p>whonixcheck --verbose</p>
</blockquote>
<p>in Konsole for detailed output.</p>
          <p><a href="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/2</link>
        <pubDate>Tue, 02 Oct 2018 08:48:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6092-2</guid>
        <source url="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092.rss">Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</source>
      </item>
      <item>
        <title>Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</title>
        <dc:creator><![CDATA[FiddlerOnAHotTinRoof]]></dc:creator>
        <description><![CDATA[
            <p>Hey everyone,</p>
<p>I am a long-time user of Whonix and Qubes 3.2. The following issues are specific to the Whonix Workstation on Qubes 3.2.</p>
<p>Firstly, I should start by saying that I ran into the updating problems with the onion repositories. I fixed those by commenting out the onion addresses in the Whonix Workstation TemplateVM (I didn’t have to do this with the Gateway TemplateVM, which didn’t cause me any problems for some reason).</p>
<p>Unfortunately, I am still unable to access the internet from any of my Whonix-ws-14-based AppVMs, and this has been a problem I have been having since the last update. Here’s what happens:</p>
<p>When I first open the Tor Browser, I receive a warning that my activities may be linked if the Tor Browser is already running. I have gotten this sort of warning in the past when I already have an instance of the TB running, but that’s not the case here.</p>
<p>I click “yes” to get rid of the warning box and the Tor Browser proceeds to open. The first sign that something is (still) not right is that it’s unable to find the local Whonix splash page file that always pops up when the browser first starts. Weird, but certainly not a huge issue.</p>
<p>Then, when I try to do a random search (I use DDG’s Onion service to conduct searches), I’m told that the server has reloaded while the request was being made (or something to that effect; it’s a super-common error message). Whatever the cause may be, the result is that I’m unable to visit any website; Google, DDG Onion, DDG Clearnet, and so on all give me the same error.</p>
<p>It occurred to me that this might be a Tor Browser problem, so I opened up the Electrum bitcoin client in the same AppVM to see if that works. Unfortunately, Electrum doesn’t connect either.</p>
<p>Then—again in the same AppVM—I open up konsole and ping google (both <a href="http://google.com" rel="nofollow noopener">google.com</a> and 8.8.8.8): Interestingly, when I ping <a href="http://google.com" rel="nofollow noopener">google.com</a> the terminal shows me the site’s corresponding numerical IPv4 address, so there must be some sort of DNS access at the very least, right? Anyway, aside from seeing the IPv4 address I get no feedback whatsoever for the next 20-30 seconds, so I finally Ctrl-C the process and see a packet loss of 100%.</p>
<p>Finally, I open Firefox in my “Untrusted” AppVM, which uses <strong>Fedora 28</strong> as its template and <strong>sys-whonix as its NetVM</strong>. It takes me to Google without the slightest problem.</p>
<p>Any ideas? Is this just a bad update I’m going to have to wait out, or are there steps I can take to remedy the situation in the meantime? 90% of my Qubes work is done on Whonix, so this has been a major hit to my productivity.</p>
<p>Any help would be greatly appreciated!</p>
          <p><a href="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092/1</link>
        <pubDate>Mon, 01 Oct 2018 23:29:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6092-1</guid>
        <source url="http://forums.whonix.org/t/unable-to-connect-to-internet-from-within-whonix-workstation-based-appvms-qubes-3-2/6092.rss">Unable to connect to internet from within Whonix-Workstation-based AppVMs [Qubes 3.2]</source>
      </item>
  </channel>
</rss>
