<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>VPN over TOR issue</title>
    <link>http://forums.whonix.org/t/vpn-over-tor-issue/9373</link>
    <description>Hi everyone,

I&#39;m trying to use a VPN through TOR [NordVPN - TCP Protocol] as follow: Tor Browser in Whonix-Workstation -&gt; sys-VPN -&gt; sys-whonix [whonix-gateway] -&gt; Internet. My goal is connect to my VPN after the TOR routing (Bypass the tor censorpship in some websites). But I lack the ability to achieve that goal (I&#39;m noob)

1 - When I use the Tor Browser (whonix-ws) connected directly to whonix-gw, it works fine

2 - When I use a AppVM with my sys-VPN (configured with Qubes-vpn-support to connect to my VPN provider with TCP protocol), it works fine

3 - When I set my sys-VPN to connect to my VPN over Whonix-gateway, it works fine and I see the LINK IS UP popup.

4 - When I use my AppVM to connect to my sys-VPN over whonix-gateway it connects!

The problem is, when I set mt whonix-workstation to connect to sys-VPN over whonix-gw, My Tor Browser do not work anymore. If I disconnect the VPN inside sys-VPN, the Tor Browser start working as usual, but when my VPN is connected, it stops.

I&#39;m assuming that is some kind of incompatibility of the Tor Browser with the VPN link (again, i&#39;m already using TCP protocol), but I&#39;m can&#39;t figure how to fix this. Any ideas?

Is it possible to somehow make TOR Browser to access clearnet using a VPN connection after the TOR routing? Do I have to do some special config in the TOR Browser to allow that

I&#39;m aware of the risks, but I really want to try such possibility</description>
    <language>en</language>
    <lastBuildDate>Wed, 22 Apr 2020 13:08:34 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/vpn-over-tor-issue/9373.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>VPN over TOR issue</title>
        <dc:creator><![CDATA[Tantalus]]></dc:creator>
        <description><![CDATA[
            <p>Thank you. I’ll try that</p>
          <p><a href="http://forums.whonix.org/t/vpn-over-tor-issue/9373/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/vpn-over-tor-issue/9373/5</link>
        <pubDate>Wed, 22 Apr 2020 13:08:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9373-5</guid>
        <source url="http://forums.whonix.org/t/vpn-over-tor-issue/9373.rss">VPN over TOR issue</source>
      </item>
      <item>
        <title>VPN over TOR issue</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Tantalus" data-post="3" data-topic="9373">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/t/2acd7d/40.png" class="avatar"> Tantalus:</div>
<blockquote>
<p>TOR_TRANSPROXY=1</p>
</blockquote>
</aside>
<p>That feature might have been broken (in newer releases of Tor Browser) (depending on configuration) by Tor Browser.</p>
<aside class="quote no-group" data-username="Tantalus" data-post="3" data-topic="9373">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/t/2acd7d/40.png" class="avatar"> Tantalus:</div>
<blockquote>
<p>Any ideas if any other configuration needs to be done in the TOR Browser?</p>
</blockquote>
</aside>
<p>Remove the Whonix specific part of the question. Reproduce this issue on Debian without involving Whonix. Try make Tor Browser use system default networking (TOR_TRANSPROXY=1) and not Tor SocksPort. By doing so, you’ll be able to contact upstream, the developers of Tor Browser, the <a href="http://torproject.org">torproject.org</a> as per <a href="https://www.whonix.org/wiki/Free_Support_Principle">https://www.whonix.org/wiki/Free_Support_Principle</a></p>
          <p><a href="http://forums.whonix.org/t/vpn-over-tor-issue/9373/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/vpn-over-tor-issue/9373/4</link>
        <pubDate>Wed, 22 Apr 2020 12:09:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9373-4</guid>
        <source url="http://forums.whonix.org/t/vpn-over-tor-issue/9373.rss">VPN over TOR issue</source>
      </item>
      <item>
        <title>VPN over TOR issue</title>
        <dc:creator><![CDATA[Tantalus]]></dc:creator>
        <description><![CDATA[
            <p>Hey, Patrick, Thank you for reply.</p>
<p>I set the configs as explained in ‘Connecting to Tor before a VPN’ tutorial. As I am using QubesOS, so I did the steps provided in ’ Prevent Bypassing of the Tunnel-Link’ and the steps provided in Method 1 ‘Separate VPN-Gateway’ in my proxyVM.</p>
<p>I also did the Leak test as below and it did return my VPN IP. The only thing not working is the TOR Browser. I tried setting environment variable TOR_TRANSPROXY=1, no good. And (in a new VM) exporting as export TOR_TRANSPROXY=1, no good. TOR Browser always says Secure Connection Failed.</p>
<p>UWT_DEV_PASSTHROUGH=1 curl --silent --tlsv1.2 --proto =https (tor project link that is not allowed posting) | grep IP</p>
<p>Any ideas if any other configuration needs to be done in the TOR Browser?</p>
          <p><a href="http://forums.whonix.org/t/vpn-over-tor-issue/9373/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/vpn-over-tor-issue/9373/3</link>
        <pubDate>Tue, 21 Apr 2020 20:21:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9373-3</guid>
        <source url="http://forums.whonix.org/t/vpn-over-tor-issue/9373.rss">VPN over TOR issue</source>
      </item>
      <item>
        <title>VPN over TOR issue</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>It’s mentioned in documentation.</p>
<p>Recommended reading first:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Tunnels/Introduction" target="_blank" title="10:04AM - 08 April 2020">whonix.org – 8 Apr 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:86/60;"><img src="https://www.whonix.org/w/images/8/86/Beyond-1087922640.jpg" class="thumbnail" width="86" height="60"></div>

<h3><a href="https://www.whonix.org/wiki/Tunnels/Introduction" target="_blank">Combining Tunnels with Tor - Whonix</a></h3>

<p>Information on whether Tor gets more or less secure when combining Tor with tunnels such as VPN, SSH, proxies. (User → Tor → proxy/VPN/SSH → Internet) (User → proxy/VPN/SSH → Tor → Internet)</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>And then it’s here:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN" target="_blank" title="10:16AM - 27 May 2019">whonix.org – 27 May 19</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:86/60;"><img src="https://www.whonix.org/w/images/1/15/Ball-443853640.jpg" class="thumbnail" width="86" height="60"></div>

<h3><a href="https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN" target="_blank">Connecting to Tor before a VPN - Whonix</a></h3>

<p>Instructions on how to connect to Tor before a VPN (User → Tor → VPN → Internet)</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/vpn-over-tor-issue/9373/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/vpn-over-tor-issue/9373/2</link>
        <pubDate>Sat, 18 Apr 2020 22:13:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9373-2</guid>
        <source url="http://forums.whonix.org/t/vpn-over-tor-issue/9373.rss">VPN over TOR issue</source>
      </item>
      <item>
        <title>VPN over TOR issue</title>
        <dc:creator><![CDATA[Tantalus]]></dc:creator>
        <description><![CDATA[
            <p>Hi everyone,</p>
<p>I’m trying to use a VPN through TOR [NordVPN - TCP Protocol] as follow: Tor Browser in Whonix-Workstation -&gt; sys-VPN -&gt; sys-whonix [whonix-gateway] -&gt; Internet. My goal is connect to my VPN after the TOR routing (Bypass the tor censorpship in some websites). But I lack the ability to achieve that goal (I’m noob)</p>
<p>1 - When I use the Tor Browser (whonix-ws) connected directly to whonix-gw, it works fine</p>
<p>2 - When I use a AppVM with my sys-VPN (configured with Qubes-vpn-support to connect to my VPN provider with TCP protocol), it works fine</p>
<p>3 - When I set my sys-VPN to connect to my VPN over Whonix-gateway, it works fine and I see the LINK IS UP popup.</p>
<p>4 - When I use my AppVM to connect to my sys-VPN over whonix-gateway it connects!</p>
<p>The problem is, when I set mt whonix-workstation to connect to sys-VPN over whonix-gw, My Tor Browser do not work anymore. If I disconnect the VPN inside sys-VPN, the Tor Browser start working as usual, but when my VPN is connected, it stops.</p>
<p>I’m assuming that is some kind of incompatibility of the Tor Browser with the VPN link (again, i’m already using TCP protocol), but I’m can’t figure how to fix this. Any ideas?</p>
<p>Is it possible to somehow make TOR Browser to access clearnet using a VPN connection after the TOR routing? Do I have to do some special config in the TOR Browser to allow that</p>
<p>I’m aware of the risks, but I really want to try such possibility</p>
          <p><a href="http://forums.whonix.org/t/vpn-over-tor-issue/9373/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/vpn-over-tor-issue/9373/1</link>
        <pubDate>Sat, 18 Apr 2020 20:55:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9373-1</guid>
        <source url="http://forums.whonix.org/t/vpn-over-tor-issue/9373.rss">VPN over TOR issue</source>
      </item>
  </channel>
</rss>
