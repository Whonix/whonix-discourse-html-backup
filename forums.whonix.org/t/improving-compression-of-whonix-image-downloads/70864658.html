<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>improving compression of Whonix image downloads - Development - Whonix Forum</title>
    <meta name="description" content="7z a -t7z -m0=lzma2 -mx=3 -mfb=32 -md=1m -ms=on archive.7z Whonix-Gateway-XFCE-14.0.1.4.4.raw Whonix-Workstation-XFCE-14.0.1.4.4.raw   du -sh archive.7z  1.3G archive.7z">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="70864658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;improving compression of Whonix image downloads&#39;" href="7086.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/improving-compression-of-whonix-image-downloads/7086?page=2" />
<meta name="twitter:url" content="https://forums.whonix.org/t/improving-compression-of-whonix-image-downloads/7086?page=2" />
<meta property="og:title" content="improving compression of Whonix image downloads" />
<meta name="twitter:title" content="improving compression of Whonix image downloads" />
<meta property="og:description" content="7z a -t7z -m0=lzma2 -mx=3 -mfb=32 -md=1m -ms=on archive.7z Whonix-Gateway-XFCE-14.0.1.4.4.raw Whonix-Workstation-XFCE-14.0.1.4.4.raw   du -sh archive.7z  1.3G archive.7z" />
<meta name="twitter:description" content="7z a -t7z -m0=lzma2 -mx=3 -mfb=32 -md=1m -ms=on archive.7z Whonix-Gateway-XFCE-14.0.1.4.4.raw Whonix-Workstation-XFCE-14.0.1.4.4.raw   du -sh archive.7z  1.3G archive.7z" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="16 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="32 ❤" />
<meta property="article:published_time" content="2019-04-04T09:22:25+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="7086.html">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="7086.html">improving compression of Whonix image downloads</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-04T09:22:25Z' class='post-time'>
                April 4, 2019,  9:22am
              </time>
              <meta itemprop='dateModified' content='2019-04-04T09:22:25Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <pre><code>7z a -t7z -m0=lzma2 -mx=3 -mfb=32 -md=1m -ms=on archive.7z Whonix-Gateway-XFCE-14.0.1.4.4.raw Whonix-Workstation-XFCE-14.0.1.4.4.raw
</code></pre>
<blockquote>
<p><code>du -sh archive.7z</code><br>
<code>1.3G archive.7z</code></p>
</blockquote>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Firefox'><span itemprop='name'>Firefox</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-04T10:42:18Z' class='post-time'>
                April 4, 2019, 10:42am
              </time>
              <meta itemprop='dateModified' content='2019-04-04T10:52:03Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="20" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Rather than “just import the<br>
ova using virtualbox” it’s “extract, make the script executable, run the<br>
script” (or in case of Windows perhaps an installer). Possible but no<br>
development resources for that.</p>
</blockquote>
</aside>
<p>Yes, that’s the drawback and probably the price to pay for having much smaller download sizes.</p>
<aside class="quote no-group">
<blockquote>
<p>Whonix packages using genmkfile also support setting DESTDIR. However,<br>
<code>make install</code> is only used during the package creation process.<br>
Software by Whonix is installed through packages. These are using the<br>
default paths as per FHS. Packages install to / as per usual.</p>
</blockquote>
</aside>
<p>I know, but it’s really no big work changing the default path from /usr to /opt for a deb package.<br>
Creating deb packages is rather simple and straightforward.<br>
The installation path change for the makefile is required for the binary, because the binary executable is searching for its libs and files in paths compiled into the binary. If that is done, the rest, packing them in a deb archive isn’t much work.<br>
Especially if these are only a small amount of Tor or Whonix specific packages.</p>
<p>Just a question, how many Tor or Whonix specific packages that are not Debian packages are in Whonix gateway and workstation at the moment?</p>
<aside class="quote no-group">
<blockquote>
<p>These are using the<br>
default paths as per FHS. Packages install to / as per usual.  No package<br>
/ just using <code>make install</code> -&gt; no good upgrade path. Packages provide a<br>
very good upgrade path.</p>
</blockquote>
</aside>
<p>I know that. I did use that as an example because the rest, creating the deb isn’t a real problem.<br>
deb packages work just fine with having files in another path like /opt as long as the executable was created for the new path. In other words, the work is in the Makefiles and compiling, the rest is only packaging the files to a deb package.</p>
<aside class="quote no-group">
<blockquote>
<p>Also package installation<br>
requires their dependencies being installed already.</p>
</blockquote>
</aside>
<p>Dependencies are not an issue, because a program that is installed to /opt by its deb package can easily search for its required libs in /usr. This is all done in the Makefile process.<br>
And thus this can also be worked out for dependencies. There is really no big change in that.</p>
<p>The only exception is, when you have to <strong>replace</strong> a Debian package with a Whonix specific package and having other still Debian deb packages be dependent on this replaced Debian package.<br>
Only then you have a small problem. Because the programs of these other Debian deb packages will search in /usr, not in /opt.<br>
But that’s why symlinks are there for.<br>
So it’s still solvable. the Whonix package,which replaces the Debian package has just to also provide and create the symbolic links in /usr for the files in /opt.</p>
<aside class="quote no-group">
<blockquote>
<p>(To resolve<br>
dependencies, to install in right order, a local apt repository would be<br>
required.)</p>
</blockquote>
</aside>
<p>Well most Debian packages that depend on another Debian package just do this, because they need some specific files in the path which is provided by the other Debian package. Only very view Debian packages are shipped with some sort of script, that change some configuration information in a file, that was provided by the other package it depends on.<br>
Thus you can in most times just overwrite the dependency checking for this step, because it is solved anyway as soon as the missing packages are installed after the first boot.<br>
Only if you have some script, that change a config, you need to reinstall it after installing the Whonix package.<br>
But this can be solved too, by just providing the Debian package in the /var/apt/cache/apt/archives/  directory and installing it, after the other Whonix specific packages are installed.<br>
The only drawback of this approach is, that you will have some deb packages as duplicates in gateway and workstation.</p>
<aside class="quote no-group">
<blockquote>
<p>In theory it’s all doable but super complex and error prone. I would<br>
veto such changes and suggest to fork Whonix instead if this is desired.</p>
</blockquote>
</aside>
<p>That’s sad to hear.</p>
<aside class="quote no-group">
<blockquote>
<p>So<br>
someone must have sorted out deduplication and compression of VM images<br>
in a generic way already.</p>
</blockquote>
</aside>
<p>I agree on that a generic way by using a compression tool is an easier approach with less work, but i highly doubt that this can fight all duplicates.<br>
I also agree on that it is a good idea to do more tests with different compression tools and other compression settings to find a better solution.</p>
<p>But on the other side i also doubt that a generic compression tool can solve the principle problem.<br>
The actual problem is, that the compression tool must or should be clever enough and be able to understand file-systems and vm images, only when this is the case, the duplicates can really be sorted out. But generic compression tools can’t do that.<br>
Maybe we should also take a look into backup tools. They understand that on a filesystem level or use at least the filesystem support of the system for that.</p>
<p>With a generic approach, you will always have duplicates in two vm images, but the byte sequence differs because block arrangement or meta information is different. Especially when the vm image does use compression too.</p>
<h1>New suggestion 4:</h1>
<p>I have a new idea for a new approach that will simplify a lot and be able to fight all duplicate problems.<br>
You could provide two vm starter images for Whonix workstation and Whonix gatewith with the absolute minimum just to boot a kernel and be able to install deb packages.</p>
<p>And additional to this, we provide a big data vm image which contains ALL deb packages that are required for whonix workstation or whonix gateway.</p>
<p>The user loads a VM configuration file that knows about mounting the initial starter vm image and the data image. Also to mention, the data image is only mounted read only.<br>
Then he boots both Whonix systems, workstation and gateway.</p>
<p>And on workstation and gateway a script runs at first boot time and installes all deb packages that are required for workstation or gateway from the data partition provided with the data vm img.<br>
If that is done, the user does have his Whonix workstation and gateway system.<br>
The data img can be removed from the VM after that and deleted from the disk.</p>
<p>By doing it this way, you don’t have to hassle about /opt or /usr, or a /usr partition, you can use any compression tool and you can still fight most duplication files, because all the deb files that are duplicates at the moment are uniq on the data partition, with a small amount of exceptions in the small bare starter images. They will still have the same kernel and thus some duplicates, but the amount is very small.</p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Firefox'><span itemprop='name'>Firefox</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-04T11:51:31Z' class='post-time'>
                April 4, 2019, 11:51am
              </time>
              <meta itemprop='dateModified' content='2019-04-04T11:51:31Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <h1>Suggestion 5</h1>
<p>Thinking about my suggestion 4, which  i personally like the best at the moment, i am wondering if a installer image wouldn’t be the best solution of all.<br>
With a installer image the user would download just one image and when the installer image boots up it allows to select between installing a Whonix Gateway or a Whonix Workstation system.<br>
With the installer, all problems with duplicates are gone and a installer is also much more versatile than VM images. You could for example use an installer image to install Whonix Workstation or Gateway on real hardware.<br>
With other architecture specific deb files, the installer image could also be used to provide a solution for non x86 hardware, like for example an arm based Raspberry Pi.<br>
I am also wondering why Whonix isn’t using an installer in the first place like other distributions do?</p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-04T14:00:25Z' class='post-time'>
                April 4, 2019,  2:00pm
              </time>
              <meta itemprop='dateModified' content='2019-04-04T14:00:25Z'>
          <span itemprop='position'>#24</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="22" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/f/9de053/40.png" class="avatar"> Firefox:</div>
<blockquote>
<p>it’s really no big work</p>
</blockquote>
</aside>
<aside class="quote no-group" data-post="22" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/f/9de053/40.png" class="avatar"> Firefox:</div>
<blockquote>
<p>isn’t much work.</p>
</blockquote>
</aside>
<p>For you it may be simple but for me it’s a high mountain to climb. That’s why I call it unrealistic. If I saw an implementation of this, I might change my mind. But unless you intent to fork Whonix, this isn’t a great exercise (unless it costs you very, very little time). I estimate this this will introduce way too much extra complexity for relatively small gains. There are few people who told me that they looked into the build script, understood it or let alone contributed major things to it. So I wouldn’t want to make it even more difficult than it already is.</p>
<aside class="quote no-group" data-post="22" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/f/9de053/40.png" class="avatar"> Firefox:</div>
<blockquote>
<p>But that’s why symlinks are there for.</p>
</blockquote>
</aside>
<p>More and more complexity which then leads to follow up issues such as symlinks vs apparmor.</p>
<aside class="quote no-group" data-post="22" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/f/9de053/40.png" class="avatar"> Firefox:</div>
<blockquote>
<p>Thus you can in most times just overwrite the dependency checking for this step, because it is solved anyway as soon as the missing packages are installed after the first boot.</p>
</blockquote>
</aside>
<aside class="quote no-group" data-post="22" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/f/9de053/40.png" class="avatar"> Firefox:</div>
<blockquote>
<p>That’s sad to hear.</p>
</blockquote>
</aside>
<p>May be possible but extra source code, extra complexity.</p>
<p>Perhaps you’re more clever than me. However, the volunteer workforce contributing to Whonix is rather small. So while me being scared by he extra complexity I am still useful. (Unless, you fork Whonix and do everything better. I wouldn’t mind about that either. I could be a contributor and also I am sure I’d find other fun things in life too.)</p>
<p>I concentrate on something easy and yet impact such as <a href="../kloak-keystroke-anonymization-tool/7089/6.html">kloak</a>. I would encourage you to contribute. Perhaps you could implement something that fixes <a href="../../../external.html?link=https://www.whonix.org/wiki/Advanced_Deanonymization_Attacks" rel="nofollow noopener">https://www.whonix.org/wiki/Advanced_Deanonymization_Attacks</a> or some of the open tickets <a href="../../../external.html?link=https://phabricator.whonix.org/maniphest/query/open/" rel="nofollow noopener">https://phabricator.whonix.org/maniphest/query/open/</a>?</p>
<aside class="quote no-group" data-post="22" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/f/9de053/40.png" class="avatar"> Firefox:</div>
<blockquote>
<p>Just a question, how many Tor or Whonix specific packages that are not Debian packages are in Whonix gateway and workstation at the moment?</p>
</blockquote>
</aside>
<p><a href="../../../external.html?link=https://github.com/Whonix" rel="nofollow noopener">https://github.com/Whonix</a></p>
<aside class="quote no-group" data-post="23" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/f/9de053/40.png" class="avatar"> Firefox:</div>
<blockquote>
<p>I am also wondering why Whonix isn’t using an installer in the first place like other distributions do?</p>
</blockquote>
</aside>
<ul>
<li>Historic growth. Limited time. Flood of issues.</li>
<li>Lack of source code contributors.</li>
<li>Requires development work.</li>
<li>Whonix is the only distribution that specialized on deploying VMs for end-users that I am aware of. Build script, deployment methods (platform independent ova’s), it’s maintainable. During Whonix’s total lifetime 2012 to time of writing in 2019, I managed to keep up with all underlying changes (Debian, Tor, virtzalizers).</li>
</ul>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-04T22:41:05Z' class='post-time'>
                April 4, 2019, 10:41pm
              </time>
              <meta itemprop='dateModified' content='2019-04-04T22:41:05Z'>
          <span itemprop='position'>#25</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Very interesting read, thank you <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/firefox">@Firefox</a> for the amazing efforts you put into this well-thought reflection.</p>
<p>But while it’s always nice to have smaller images to download, I agree that the amount of work needed for what would eventually a rather small gain is probably not worth it. If you look at the standard Linux distributions, Whonix is actually on the lighter side regarding the size of the downloadable image files. Ubuntu is 1.8 GB, Tails 1.2 GB, any other distro probably somewhere in-between, if not more. As a matter of fact, Whonix images size has already been greatly reduced since 2018 (going from 2 files of 1.7 and 2 GB to one single file of 1.6 GB for the ova file, 1.1 GB for the libvirt file).</p>
<p>IMHO anything that adds complexity for the end-users must be avoided at all costs if possible, especially for a vanilla install and first use. It may be seem absurdly easy to you, but many people already struggle with the basic task of downloading and setting up VirtualBox and importing two simple .ova files (I am not mentioning KVM on purpose as its users are probably more tech savvy). I couldn’t imagine how it would be if they had to run some kind of script on top of that. Not even mentioning all the extra work for the already understaffed Whonix team and the many many inevitable bugs to solve.</p>
<p>Speaking of which, judging by your level of knowledge and commitment, I think the Whonix project would greatly benefit from your help and contributions! <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Firefox'><span itemprop='name'>Firefox</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-05T09:57:47Z' class='post-time'>
                April 5, 2019,  9:57am
              </time>
              <meta itemprop='dateModified' content='2019-04-05T09:57:47Z'>
          <span itemprop='position'>#26</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Okay, i understand.</p>
<p>What about the Debian installer?<br>
Have you ever thought about adapting it for Whonix?</p>
<aside class="quote no-group">
<blockquote>
<p><a href="../../../external.html?link=https://github.com/Whonix" rel="nofollow noopener">https://github.com/Whonix</a></p>
</blockquote>
</aside>
<p>That’s more packages than i have expected.</p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-05T11:22:56Z' class='post-time'>
                April 5, 2019, 11:22am
              </time>
              <meta itemprop='dateModified' content='2019-04-05T11:22:56Z'>
          <span itemprop='position'>#27</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="26" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/f/9de053/40.png" class="avatar"> Firefox:</div>
<blockquote>
<p>What about the Debian installer?<br>
Have you ever thought about adapting it for Whonix?</p>
</blockquote>
</aside>
<p>Yes. Complex thing. A ton of work.</p>
<p>Whonix 0.2 or so build process was based on automating (preseeding) Ubuntu installer. Fragile, messy.</p>
<aside class="quote no-group" data-post="26" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/f/9de053/40.png" class="avatar"> Firefox:</div>
<blockquote>
<p>That’s more packages than i have expected.</p>
</blockquote>
</aside>
<p>Yeah. Some stuff should be merged. anon-mixmaster fits into anon-apps-config and more. Long time ago, I acted on bad advice and overdid the split.</p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-14T05:56:13Z' class='post-time'>
                September 14, 2019,  5:56am
              </time>
              <meta itemprop='dateModified' content='2019-09-14T05:56:13Z'>
          <span itemprop='position'>#28</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="26" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/f/9de053/40.png" class="avatar"> Firefox:</div>
<blockquote>
<p>What about the Debian installer?</p>
</blockquote>
</aside>
<p>Progress on that was made. Calamares based. Search the forums for <code>Whonix Host</code> or <code>Calamares</code>.</p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-14T06:13:45Z' class='post-time'>
                September 14, 2019,  6:13am
              </time>
              <meta itemprop='dateModified' content='2019-09-14T06:40:49Z'>
          <span itemprop='position'>#29</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <pre><code>du -h whonix_binary/*
</code></pre>
<p>(Dropping unimportant files such as signatures.)</p>
<blockquote>
<p>522M    whonix_binary/Kicksecure-XFCE-15.0.0.5.4.libvirt.xz<br>
813M    whonix_binary/Kicksecure-XFCE-15.0.0.5.4.ova<br>
2.6G    whonix_binary/Kicksecure-XFCE-15.0.0.5.4.qcow2<br>
3.9G    whonix_binary/Kicksecure-XFCE-15.0.0.5.4.raw</p>
</blockquote>
<pre><code>du -h /home/user/VirtualBox\ VMs/Kicksecure-XFCE/Kicksecure-XFCE.vdi 
</code></pre>
<blockquote>
<p>2.9G    /home/user/VirtualBox VMs/Kicksecure-XFCE/Kicksecure-XFCE.vdi</p>
</blockquote>
<p>The <code>libvirt.xz</code> is a lot smaller than the <code>ova</code>.</p>
<p>How can we improve compression of the <code>ova</code>?</p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-14T06:25:15Z' class='post-time'>
                September 14, 2019,  6:25am
              </time>
              <meta itemprop='dateModified' content='2019-09-14T06:25:15Z'>
          <span itemprop='position'>#30</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This might not have any effect since we are already <a href="../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/2350_zerofree-raw" rel="nofollow noopener">using zerofree</a>.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/Whonix/commit/e4a86cd9315ded19164fbac339411bba53c31f07" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/Whonix/Whonix/commit/e4a86cd9315ded19164fbac339411bba53c31f07" target="_blank" rel="nofollow noopener">VBoxManage modifymedium --compact</a>
</h4>

  <pre class="message" style="white-space: normal;">https://forums.whonix.org/t/improving-compression-of-whonix-image-downloads/7086/29</pre>

<div class="date">
  by <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../external.html?link=https://github.com/Whonix/Whonix/commit/e4a86cd9315ded19164fbac339411bba53c31f07" target="_blank" rel="nofollow noopener">06:23AM - 14 Sep 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>9 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-14T06:40:32Z' class='post-time'>
                September 14, 2019,  6:40am
              </time>
              <meta itemprop='dateModified' content='2019-09-14T06:40:32Z'>
          <span itemprop='position'>#31</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Could <code>fstrim</code> be of any use?</p>
<p><a href="../../../external.html?link=https://manpages.debian.org/buster/util-linux/fstrim.8.en.html" class="onebox" target="_blank" rel="nofollow noopener">https://manpages.debian.org/buster/util-linux/fstrim.8.en.html</a></p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-14T07:18:18Z' class='post-time'>
                September 14, 2019,  7:18am
              </time>
              <meta itemprop='dateModified' content='2019-09-14T07:18:18Z'>
          <span itemprop='position'>#32</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <pre><code>VBoxManage convertfromraw whonix_binary/Kicksecure-XFCE-15.0.0.5.4.raw whonix_binary/Kicksecure-XFCE-15.0.0.5.4-convertfromraw-variant-stream.vmkd --format vmdk --variant Stream
</code></pre>
<p>That did not go a long way.</p>
<blockquote>
<p>813M    Kicksecure-XFCE-15.0.0.5.4-convertfromraw-variant-stream.vmkd</p>
</blockquote>
<p>That is what is already happening.</p>
<blockquote>
<p>813M    Kicksecure-XFCE-15.0.0.5.4.ova</p>
</blockquote>
<p>I figured out we might speed up the build process. Even though vmdk is not VirtualBox’s own / best supported file format, it’s defined in the OVA standard.</p>
<p>Current Whonix VirtualBox build process: raw image creation -&gt; create vdi from raw -&gt; create VirtualBox VM -&gt; stop here for most users -&gt; prepare_release script can create ova (which makes VirtualBox convert the vdi to vmdk)</p>
<p>(And when user imports the ova, VirtualBox will convert back to vdi by default nowadays. A waste of time. But unfixable until/if OVA supports vdi. Maybe the ova could be manually created without use of vboxmange but that could be more prone to bugs during VM import.)</p>
<p>Whonix VirtualBox build process could be speed up by skipping the convert to vdi step but that would require different build <code>--target</code>s being implemented. Perhaps <code>--target virtualbox-vdi</code> (handy for use after build) and <code>--virtualbox-vmdk</code> (handy for ova creation). But convert form raw to vdi is taking only two minutes so maybe not worth the hassle.</p>
<p>When using installers (<a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Whonix-Windows-Installer" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/Whonix-Windows-Installer</a>) these might improve compression on top of it.</p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Algernon'><span itemprop='name'>Algernon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-15T08:33:24Z' class='post-time'>
                September 15, 2019,  8:33am
              </time>
              <meta itemprop='dateModified' content='2019-09-15T08:33:24Z'>
          <span itemprop='position'>#33</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>What happens when you xz compress the ova? If it doesn’t go down to approximately the same size as the libvirt file there must be more data in there.</p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-15T09:02:21Z' class='post-time'>
                September 15, 2019,  9:02am
              </time>
              <meta itemprop='dateModified' content='2019-09-15T09:02:21Z'>
          <span itemprop='position'>#34</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="33" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/a/a183cd/40.png" class="avatar"> Algernon:</div>
<blockquote>
<p>What happens when you xz compress the ova?</p>
</blockquote>
</aside>
<p>I didn’t try that as this would complicate VM import instructions.</p>
<aside class="quote no-group" data-post="33" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/a/a183cd/40.png" class="avatar"> Algernon:</div>
<blockquote>
<p>If it doesn’t go down to approximately the same size as the libvirt file there must be more data in there.</p>
</blockquote>
</aside>
<p>Not necessarily. Compressing already compressed data might not be as compressible as plain data. Or let’s say, a compressor works best with what a compressor is designed to handle.</p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Algernon'><span itemprop='name'>Algernon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7086.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-16T09:24:42Z' class='post-time'>
                September 16, 2019,  9:24am
              </time>
              <meta itemprop='dateModified' content='2019-09-16T09:24:42Z'>
          <span itemprop='position'>#35</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="34" data-topic="7086">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I didn’t try that as this would complicate VM import instructions.</p>
</blockquote>
</aside>
<p>Sure, but you would know if it is (maybe) related to the compression algorithm.</p>
        </div>

        <meta itemprop='headline' content='improving compression of Whonix image downloads'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="7086.html">← previous page</a></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
