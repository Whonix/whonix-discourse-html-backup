<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[SOLVED] Whonix 8 Broke the SSHFS Instructions - Support - Whonix Forum</title>
    <meta name="description" content="I consistently rely upon the SSHFS instructions and just upgraded my Whonix install from version 7 to 8. Everything in the instructions worked well under Whonix 7. Under Whonix 8 the instructions don&amp;#39;t seem to be compati&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="205.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[SOLVED] Whonix 8 Broke the SSHFS Instructions&#39;" href="205.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/solved-whonix-8-broke-the-sshfs-instructions/205" />
<meta name="twitter:url" content="https://forums.whonix.org/t/solved-whonix-8-broke-the-sshfs-instructions/205" />
<meta property="og:title" content="[SOLVED] Whonix 8 Broke the SSHFS Instructions" />
<meta name="twitter:title" content="[SOLVED] Whonix 8 Broke the SSHFS Instructions" />
<meta property="og:description" content="I consistently rely upon the SSHFS instructions and just upgraded my Whonix install from version 7 to 8. Everything in the instructions worked well under Whonix 7. Under Whonix 8 the instructions don’t seem to be compatible anymore. Also the two following pages have conflicting instructions in them.  http://kkkkkkkkkk63ava6.onion/wiki/File_Transfer#SSH_into_Whonix-Gateway  http://kkkkkkkkkk63ava6.onion/wiki/Sshfs_into_Whonix-Workstation  “Look at the /etc/whonix_firewall.d/30_default config file..." />
<meta name="twitter:description" content="I consistently rely upon the SSHFS instructions and just upgraded my Whonix install from version 7 to 8. Everything in the instructions worked well under Whonix 7. Under Whonix 8 the instructions don’t seem to be compatible anymore. Also the two following pages have conflicting instructions in them.  http://kkkkkkkkkk63ava6.onion/wiki/File_Transfer#SSH_into_Whonix-Gateway  http://kkkkkkkkkk63ava6.onion/wiki/Sshfs_into_Whonix-Workstation  “Look at the /etc/whonix_firewall.d/30_default config file..." />
<meta property="article:published_time" content="2014-03-27T19:25:13+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="205.html">[SOLVED] Whonix 8 Broke the SSHFS Instructions</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/GregGlue'><span itemprop='name'>GregGlue</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="205.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-27T19:25:13Z' class='post-time'>
                March 27, 2014,  7:25pm
              </time>
              <meta itemprop='dateModified' content='2014-03-27T19:25:13Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I consistently rely upon the SSHFS instructions and just upgraded my Whonix install from version 7 to 8. Everything in the instructions worked well under Whonix 7. Under Whonix 8 the instructions don’t seem to be compatible anymore. Also the two following pages have conflicting instructions in them.</p>
<p><a href="../../../external.html?link=http://kkkkkkkkkk63ava6.onion/wiki/File_Transfer#SSH_into_Whonix-Gateway" class="onebox" target="_blank" rel="nofollow noopener">http://kkkkkkkkkk63ava6.onion/wiki/File_Transfer#SSH_into_Whonix-Gateway</a></p>
<p><a href="../../../external.html?link=http://kkkkkkkkkk63ava6.onion/wiki/Sshfs_into_Whonix-Workstation" class="onebox" target="_blank" rel="nofollow noopener">http://kkkkkkkkkk63ava6.onion/wiki/Sshfs_into_Whonix-Workstation</a></p>
<p>“Look at the /etc/whonix_firewall.d/30_default config file.”</p>
<p>vs.</p>
<p>“echo “GATEWAY_ALLOW_INCOMING_SSH=1” | sudo tee -a “/etc/whonix_firewall.d/50_user””</p>
<p>In Whonix 8, I modified the 30_default file, which seems to be the right one. Host to Gateway SSH working this way.</p>
<p>“/usr/bin/ssh.real <a href="mailto:user@192.168.0.11">user@192.168.0.11</a>”</p>
<p>vs.</p>
<p>“ssh.real 192.168.0.11”</p>
<p>In Whonix 8, with “/usr/bin/ssh.real <a href="mailto:user@192.168.0.11">user@192.168.0.11</a>” I get the following error:</p>
<p>“bash: /usr/bin/ssh.real: No such file or directory”</p>
<p>In Whonix 8, with “ssh.real 192.168.0.11” I get the following error:</p>
<p>“libtorsocks(12021): connect: Connection is to a local address (192.168.0.11), may be a TCP DNS request to a local DNS server so have to reject to be safe. Please report a bug to <a href="../../../external.html?link=http://code.google.com/p/torsocks/issues/entry" rel="nofollow noopener">http://code.google.com/p/torsocks/issues/entry</a> if this is preventing a program from working properly with torsocks<br>
ssh: connect to host 192.168.0.11 port 22: No such file or directory”</p>
<p>I’m blocked at the “ssh.real” step not working with the libtorsocks error.</p>
<p>I can SSH and SSHFS into the Gateway fine, but the hop to the Workstation is not working yet.</p>
<p>I’ve been using SSHFS successfully on a daily basis with Whonix 7, so could the SSHFS instructions be updated to work with Whonix 8, please?</p>
<p>Thanks!</p>
        </div>

        <meta itemprop='headline' content='[SOLVED] Whonix 8 Broke the SSHFS Instructions'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="205.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-28T17:20:41Z' class='post-time'>
                March 28, 2014,  5:20pm
              </time>
              <meta itemprop='dateModified' content='2014-03-28T17:20:41Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="GregGlue" data-post="1" data-topic="205">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/g/779978/40.png" class="avatar"> GregGlue:</div>
<blockquote>
<p>I consistently rely upon the SSHFS instructions and just upgraded my Whonix install from version 7 to 8. Everything in the instructions worked well under Whonix 7. Under Whonix 8 the instructions don’t seem to be compatible anymore. Also the two following pages have conflicting instructions in them.</p>
</blockquote>
</aside>
<p>ssh.real changed to ssh.whonix-orig. Updated the articles.</p>
<blockquote>"Look at the /etc/whonix_firewall.d/30_default config file."</blockquote>
Look at means, please read the file. Then the conflict between 30_ and 50_ becomes a non-conflict.
<blockquote>In Whonix 8, I modified the 30_default file, which seems to be the right one.</blockquote>
Both works. Generally, it is better to modify "50_" files. Reason for this and background knowledge is a bit better documented here:
https://www.whonix.org/wiki/Whonix_Configuration_Files
<blockquote>"bash: /usr/bin/ssh.real: No such file or directory"</blockquote>
ssh.real changed to ssh.whonix-orig. Updated the articles.
<blockquote>libtorsocks(12021): connect: Connection is to a local address (192.168.0.11), may be a TCP DNS request to a local DNS server so have to reject to be safe. Please report a bug to http://code.google.com/p/torsocks/issues/entry if this is preventing a program from working properly with torsocks</blockquote>
The usual "ssh" command is socksified by default (for stream isolation https://www.whonix.org/wiki/Stream_Isolation). The non-socksified version must be used.
<p>It should be fixed now. But I haven’t tested it.</p>
<p>This is a quite common misconception when using default-socksified applications for local connections. I opened a github issue:<br>
<a href="../../../external.html?link=https://github.com/Whonix/Whonix/issues/164" class="onebox" target="_blank">https://github.com/Whonix/Whonix/issues/164</a></p>
        </div>

        <meta itemprop='headline' content='[SOLVED] Whonix 8 Broke the SSHFS Instructions'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/GregGlue'><span itemprop='name'>GregGlue</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="205.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-28T17:53:29Z' class='post-time'>
                March 28, 2014,  5:53pm
              </time>
              <meta itemprop='dateModified' content='2014-03-28T17:53:29Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank you for the assistance…</p>
<p>Okay, after reviewing the updated instructions, with the ssh.whonix-orig command…</p>
<p>ssh -t <a href="mailto:user@127.0.0.1">user@127.0.0.1</a> -p 2200 “ssh.whonix-orig <a href="mailto:user@192.168.0.11">user@192.168.0.11</a>”</p>
<p>Normal SSHing from Host to Gateway to Workstation is now working.</p>
<p>However, SSHFS is not working.</p>
<p>ssh -f <a href="mailto:user@127.0.0.1">user@127.0.0.1</a> -p 2200 -L 2222:192.168.0.11:22 -N<br>
sshfs -p 2222 <a href="mailto:user@127.0.0.1">user@127.0.0.1</a><img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"> ~/mountworkstation</p>
<p>I get the following error after the second command:</p>
<p>“channel 2: open failed: administratively prohibited: open failed"<br>
read: Connection reset by peer”</p>
<p>Maybe this is due to the “ssh” command being replaced by the “ssh.whonix-orig” command?</p>
<p>In the SSHFS instructions, there is no input of the “ssh.whonix-orig” command, since the host machine does not use “ssh.whonix-orig”, but the Whonix-Gateway needs it.</p>
        </div>

        <meta itemprop='headline' content='[SOLVED] Whonix 8 Broke the SSHFS Instructions'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="205.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-28T18:14:45Z' class='post-time'>
                March 28, 2014,  6:14pm
              </time>
              <meta itemprop='dateModified' content='2014-03-28T18:14:45Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <pre><code class="lang-auto">Unlikely. It was a simple rename. And when you use ssh.whonix-orig, you're using the real ssh command.

(You can also entirely uninstall this uwt wrapper, see: https://www.whonix.org/wiki/Stream_Isolation#Deactivating_an_uwt_wrapper But I don't think this is required or the root of this issue.)

&lt;blockquote&gt;In the SSHFS instructions, there is no input of the "ssh.whonix-orig" command, since the host machine does not use "ssh.whonix-orig", but the Whonix-Gateway needs it.&lt;/blockquote&gt;
There is no need for sshfs.whonix-orig, because there is no sshfs uwt wrapper. On the host you never need this ".whonix-org", because there is not yet a Whonix host operating system, therefore there won't be any uwt wrappers on the host, therefore normal "ssh" / "sshfs" commands can be used on the host.

&lt;blockquote&gt;"channel 2: open failed: administratively prohibited: open failed"
read: Connection reset by peer"&lt;/blockquote&gt;
I experienced this bug in Whonix 7 already sometimes. It is a bug in ssh or sshfs. It has to do with what fingerprints ssh(fs) is (not) trusting, I think. Search engines are full with it. This issue can be very difficult to fix. I wasted some hours on it already. Hence, this sshfs thing is unfortunately for frustration tollerant / advanced users only. Sorry to say.

On the host. Try this if you are having problems. This might not be neccessary.

For troubleshooting, the article contains these changes.

## THINK FIRST!
killall ssh
killall sshfs

On the host. Try this if you are having problems. This might not be neccessary. There seems to be a bug with existing ssh known_hosts files.

## THINK FIRST!
## or "rm" if you know what you are doing
trash-put ~/.ssh/known_hosts
trash-put ~/.ssh/known_hosts.old

#rm ~/.ssh/known_hosts
#rm ~/.ssh/known_hosts.old

If you don't have trash-put installed, comment out "rm" and try this. When having these files deleted, you may be lucky and able to fix this issue.</code></pre>
<p>Unlikely. It was a simple rename. And when you use ssh.whonix-orig, you’re using the real ssh command.</p>
<p>(You can also entirely uninstall this uwt wrapper, see: <a href="../../../external.html?link=https://www.whonix.org/wiki/Stream_Isolation#Deactivating_an_uwt_wrapper">https://www.whonix.org/wiki/Stream_Isolation#Deactivating_an_uwt_wrapper</a> But I don’t think this is required or the root of this issue.)</p>
<blockquote>In the SSHFS instructions, there is no input of the "ssh.whonix-orig" command, since the host machine does not use "ssh.whonix-orig", but the Whonix-Gateway needs it.</blockquote>
There is no need for sshfs.whonix-orig, because there is no sshfs uwt wrapper. On the host you never need this ".whonix-org", because there is not yet a Whonix host operating system, therefore there won't be any uwt wrappers on the host, therefore normal "ssh" / "sshfs" commands can be used on the host.
<blockquote>"channel 2: open failed: administratively prohibited: open failed"
read: Connection reset by peer"</blockquote>
I experienced this bug in Whonix 7 already sometimes. It is a bug in ssh or sshfs. It has to do with what fingerprints ssh(fs) is (not) trusting, I think. Search engines are full with it. This issue can be very difficult to fix. I wasted some hours on it already. Hence, this sshfs thing is unfortunately for frustration tollerant / advanced users only. Sorry to say.
<p>On the host. Try this if you are having problems. This might not be neccessary.</p>
<p>For troubleshooting, the article contains these changes.</p>
<h2>THINK FIRST!</h2>
<p>killall ssh<br>
killall sshfs</p>
<p>On the host. Try this if you are having problems. This might not be neccessary. There seems to be a bug with existing ssh known_hosts files.</p>
<h2>THINK FIRST!</h2>
<h2>or “rm” if you know what you are doing</h2>
<p>trash-put ~/.ssh/known_hosts<br>
trash-put ~/.ssh/known_hosts.old</p>
<p><span class="hashtag">#rm</span> ~/.ssh/known_hosts<br>
<span class="hashtag">#rm</span> ~/.ssh/known_hosts.old</p>
<p>If you don’t have trash-put installed, comment out “rm” and try this. When having these files deleted, you may be lucky and able to fix this issue.</p>
        </div>

        <meta itemprop='headline' content='[SOLVED] Whonix 8 Broke the SSHFS Instructions'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/GregGlue'><span itemprop='name'>GregGlue</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="205.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-28T18:55:27Z' class='post-time'>
                March 28, 2014,  6:55pm
              </time>
              <meta itemprop='dateModified' content='2014-03-28T18:55:27Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank you for the follow up, Patrick…</p>
<blockquote>On the host you never need this ".whonix-org", because there is not yet a Whonix host operating system,</blockquote>
<p>Correct. I do realize this distinction. My host operating system is generic Debian Wheezy.</p>
<blockquote>I experienced this bug in Whonix 7 already sometimes. It is a bug in ssh or sshfs. It has to do with what fingerprints ssh(fs) is (not) trusting, I think. Search engines are full with it. This issue can be very difficult to fix. I wasted some hours on it already. Hence, this sshfs thing is unfortunately for frustration tollerant / advanced users only. Sorry to say.</blockquote>
<p>Correct. I too, originally spent many many hours dealing with this in Whonix 7 to get SSH/SSHFS hopping to work for me.</p>
<blockquote>On the host. Try this if you are having problems. This might not be neccessary.
<p>For troubleshooting, the article contains these changes.</p>
<h2>THINK FIRST!</h2>
<p>killall ssh<br>
killall sshfs</p>
<p>On the host. Try this if you are having problems. This might not be neccessary. There seems to be a bug with existing ssh known_hosts files.</p>
<h2>THINK FIRST!</h2>
<h2>or “rm” if you know what you are doing</h2>
<p>trash-put ~/.ssh/known_hosts<br>
trash-put ~/.ssh/known_hosts.old</p>
<p><span class="hashtag">#rm</span> ~/.ssh/known_hosts<br>
<span class="hashtag">#rm</span> ~/.ssh/known_hosts.old</p>
<p>If you don’t have trash-put installed, comment out “rm” and try this. When having these files deleted, you may be lucky and able to fix this issue.</p>
</blockquote>
<p>Correct. I had originally done these steps, as I’ve always done them with my Whonix 7 SSHFS setup as well. No current SSH/SSHFS processes existed (killed them). No current known_hosts files existed (rm’d them).</p>
<p>Here’s my thinking about the SSH/SSHFS commands…</p>
<p>Currently, in Whonix 8, I can successfully SSH hop from Host to Gateway to Workstation. SSH hopping is working fine, if I include the “ssh.whonix-orig” command into the hop statement for the Gateway to Workstation step…</p>
<pre><code class="lang-auto">ssh -t user@127.0.0.1 -p 2200 "ssh.whonix-orig user@192.168.0.11"</code></pre>
<p>However, let’s examine the first ssh part of the SSHFS hop command…</p>
<pre><code class="lang-auto">ssh -f user@127.0.0.1 -p 2200 -L 2222:192.168.0.11:22 -N</code></pre>
<p>On the Host to Gateway step, this “ssh” command should work fine, as you mentioned.</p>
<p>However, once this hop statement gets to the Gateway to Workstation step, isn’t it just going to repeat another “ssh” command inside the Gateway, instead of the now renamed “ssh.whonix-orig”?</p>
<p>There seems to be nothing here telling the Gateway to use the renamed “ssh.whonix-orig” statement.</p>
<p>In the normal SSH (non-SSHFS) hop command, the “ssh.whonix-orig” statement gets put into the second part of the command…</p>
<pre><code class="lang-auto">ssh -t user@127.0.0.1 -p 2200 "ssh.whonix-orig user@192.168.0.11"</code></pre>
<p>So, why wouldn’t the SSHFS hop command also need to be instructed of this renamed “ssh.whonix-orig” command once it gets to the second Gateway to Workstation hopping step?</p>
<p>It just seems like the Gateway to Workstation step can no longer use the “ssh” command, but somehow needs to be instructed to use the renamed “ssh.whonix-orig” command.</p>
        </div>

        <meta itemprop='headline' content='[SOLVED] Whonix 8 Broke the SSHFS Instructions'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="205.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-28T19:16:39Z' class='post-time'>
                March 28, 2014,  7:16pm
              </time>
              <meta itemprop='dateModified' content='2014-03-28T19:16:39Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“GregGlue, post:5, topic:205”]However, let’s examine the first ssh part of the SSHFS hop command…</p>
<pre><code class="lang-auto">ssh -f user@127.0.0.1 -p 2200 -L 2222:192.168.0.11:22 -N</code></pre>
<p>On the Host to Gateway step, this “ssh” command should work fine, as you mentioned.</p>
<p>However, once this hop statement gets to the Gateway to Workstation step, isn’t it just going to repeat another “ssh” command inside the Gateway, instead of the now renamed “ssh.whonix-orig”?</p>
<p>There seems to be nothing here telling the Gateway to use the renamed “ssh.whonix-orig” statement.[/quote]<br>
As far I understand “ssh -f <a href="mailto:user@127.0.0.1">user@127.0.0.1</a> -p 2200 -L 2222:192.168.0.11:22 -N” uses ssh from the host. It doesn’t need the ssh binary from Whonix-Gateway. The binary required in memory for ssh’ing has already been loaded on the host. Another reason why I think this is not the case is that these instructions worked for Whonix 7 as well. The only changed part was the “.whonix-org part”. The ssh/sshfs commands are unchanged.</p>
<p>But since seeing is beveling and since your idea is not unreasonable, feel free to restore the original ssh command. See:<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/Stream_Isolation#Deactivating_an_uwt_wrapper" target="_blank" title="11:57AM - 07 May 2020">Whonix – 7 May 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:386/500;"><img src="../../../external.html?link=https://www.whonix.org/w/images/e/eb/Streamisolationme.jpg" class="thumbnail" width="386" height="500"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Stream_Isolation#Deactivating_an_uwt_wrapper" target="_blank">Stream Isolation</a></h3>

<p>Prevent Identity Correlation through Circuit Sharing by using Tor Stream Isolation</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>After applying this, there will be no more Whonix specific additions to that ssh command. And when you run “ssh 192.168.0.10” in Whonix-Gateway for testing, it won’t show that torsocks error anymore. Then you removed all Whonix specific changes and are back to a basic sshfs problem.</p>
        </div>

        <meta itemprop='headline' content='[SOLVED] Whonix 8 Broke the SSHFS Instructions'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/GregGlue'><span itemprop='name'>GregGlue</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="205.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-28T19:36:33Z' class='post-time'>
                March 28, 2014,  7:36pm
              </time>
              <meta itemprop='dateModified' content='2014-03-28T19:36:33Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>The only changed part was the ".whonix-org part". The ssh/sshfs commands are unchanged.</blockquote>
<p>Correct. Yet, it’s funny that the normal SSH hop statement does currently require passing in the “ssh.whonix-orig” command name in order to successfully complete a second hop from Gateway to Workstation.</p>
<pre><code class="lang-auto">ssh -t user@127.0.0.1 -p 2200 "ssh.whonix-orig user@192.168.0.11"</code></pre>
<blockquote>As far I understand "ssh -f user@127.0.0.1 -p 2200 -L 2222:192.168.0.11:22 -N" uses ssh from the host. It doesn't need the ssh binary from Whonix-Gateway.</blockquote>
<p>Ok, then this would nullify my theory, if that is the case.</p>
<p>Has been a while since I looked at the man page for the inner mechanics of the SSHFS hop statement, so I’m not currently sure.</p>
<blockquote>But since seeing is beveling and since your idea is not unreasonable, feel free to restore the original ssh command. See:
https://www.whonix.org/wiki/Stream_Isolation#Deactivating_an_uwt_wrapper</blockquote>
<p>Looks like I might have to go this route next in order to get it working again. Thank you.</p>
<p>It would be nice if someone could at least confirm a successful attempt to SSHFS into Whonix-Workstation with a stock Whonix 8 install, so that we can know that the “ssh” rename to “ssh.whonix-orig” does not break the SSHFS File Transfer instructions.</p>
        </div>

        <meta itemprop='headline' content='[SOLVED] Whonix 8 Broke the SSHFS Instructions'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="205.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-28T20:07:17Z' class='post-time'>
                March 28, 2014,  8:07pm
              </time>
              <meta itemprop='dateModified' content='2014-03-28T20:07:17Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="../../../external.html?link=https://www.whonix.org/wiki/Sshfs_into_Whonix-Workstation">https://www.whonix.org/wiki/Sshfs_into_Whonix-Workstation</a> instructions are working for me with Whonix 8. Some notes:</p>
<ul>
<li>i needed to add myself to the fuse group, though (I extended the instructions)</li>
<li>i run into a “read: Connection reset by peer”, which I could fix by<br>
– killall ssh<br>
– killall sshfs<br>
– mv ~/.ssh ~/__.ssh</li>
</ul>
<p>sshfs is urgently waiting for someone to report this bug. Countless work hours worldwide must have been wasted on this already.</p>
        </div>

        <meta itemprop='headline' content='[SOLVED] Whonix 8 Broke the SSHFS Instructions'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/GregGlue'><span itemprop='name'>GregGlue</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="205.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-29T00:06:17Z' class='post-time'>
                March 29, 2014, 12:06am
              </time>
              <meta itemprop='dateModified' content='2014-03-29T00:06:17Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank you.</p>
<p>I’ve got it working now on stock Whonix 8.</p>
<p>Beyond the “ssh.whonix-orig” change, issues were likely to do with my personal configuration.</p>
<p>Reset everything to clean state on host, imported new Whonix 8 VMs, and got it working with updated instructions.</p>
<p>Thanks again, Patrick!</p>
        </div>

        <meta itemprop='headline' content='[SOLVED] Whonix 8 Broke the SSHFS Instructions'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
