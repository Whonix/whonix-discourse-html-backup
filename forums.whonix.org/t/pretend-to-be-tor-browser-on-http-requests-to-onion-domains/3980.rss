<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Pretend to be Tor Browser on HTTP Requests to .onion Domains?</title>
    <link>http://forums.whonix.org/t/pretend-to-be-tor-browser-on-http-requests-to-onion-domains/3980</link>
    <description>I had a look at sdwdate for T650 and noticed that you make a simple HTTP 1.0 HEAD request (which saves bandwidth).

Would it make sense for such applications that send HTTP requests to .onion domains to pretend to be the Tor Browser by sending the same headers as it?

For Tor Browser 7.0a4 the request would look like:

    GET / HTTP/1.1
    Host: 0123456789abcedf.onion
    User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:52.0) Gecko/20100101 Firefox/52.0
    Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
    Accept-Language: en-US,en;q=0.5
    Accept-Encoding: gzip, deflate
    Connection: keep-alive
    Upgrade-Insecure-Requests: 1

(on HTTPS connections brotli compression is also supported in TB 7, so that header would become `Accept-Encoding: gzip, deflate, br`)

For Tor Browser 6.5.2:

    GET / HTTP/1.1
    Host: 0123456789abcedf.onion
    User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:45.0) Gecko/20100101 Firefox/45.0
    Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
    Accept-Language: en-US,en;q=0.5
    Accept-Encoding: gzip, deflate
    Connection: keep-alive</description>
    <language>en</language>
    <lastBuildDate>Fri, 02 Jun 2017 06:07:26 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/pretend-to-be-tor-browser-on-http-requests-to-onion-domains/3980.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Pretend to be Tor Browser on HTTP Requests to .onion Domains?</title>
        <dc:creator><![CDATA[Hexagon]]></dc:creator>
        <description><![CDATA[
            <p>I thought at least in cases where only a single request is made (file download, sdwdate, etc.) this might be useful, as an adversary has only header information on the first request to determine what client is connecting and would have to trust that and thus treat us the same way as a regular TB user.<br>
Of course if a regular web page is requested the adversary may notice later that no other resources were fetched by the client, but at that point our initial request is already completed and we got what we were interested in.<br>
Emulating the entire Tor Browser would introduce way too much unnecessary complexity, but sending the same header information would be a minor modification with little maintenance (update when TB uses a newer Firefox version).</p>
          <p><a href="http://forums.whonix.org/t/pretend-to-be-tor-browser-on-http-requests-to-onion-domains/3980/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/pretend-to-be-tor-browser-on-http-requests-to-onion-domains/3980/3</link>
        <pubDate>Fri, 02 Jun 2017 06:07:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3980-3</guid>
        <source url="http://forums.whonix.org/t/pretend-to-be-tor-browser-on-http-requests-to-onion-domains/3980.rss">Pretend to be Tor Browser on HTTP Requests to .onion Domains?</source>
      </item>
      <item>
        <title>Pretend to be Tor Browser on HTTP Requests to .onion Domains?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Maybe to fool someone not even remotely looking it would work.</p>
<p>No way to emulate Tor Browser or any browser without actually using that<br>
browser. (They fetch more than just that page.) The only way to do that<br>
would be using browser automation, which is not simple and that may also<br>
be less secure. Not sure thatâ€™s worth it.</p>
          <p><a href="http://forums.whonix.org/t/pretend-to-be-tor-browser-on-http-requests-to-onion-domains/3980/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/pretend-to-be-tor-browser-on-http-requests-to-onion-domains/3980/2</link>
        <pubDate>Thu, 01 Jun 2017 17:14:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3980-2</guid>
        <source url="http://forums.whonix.org/t/pretend-to-be-tor-browser-on-http-requests-to-onion-domains/3980.rss">Pretend to be Tor Browser on HTTP Requests to .onion Domains?</source>
      </item>
      <item>
        <title>Pretend to be Tor Browser on HTTP Requests to .onion Domains?</title>
        <dc:creator><![CDATA[Hexagon]]></dc:creator>
        <description><![CDATA[
            <p>I had a look at sdwdate for T650 and noticed that you make a simple HTTP 1.0 HEAD request (which saves bandwidth).</p>
<p>Would it make sense for such applications that send HTTP requests to .onion domains to pretend to be the Tor Browser by sending the same headers as it?</p>
<p>For Tor Browser 7.0a4 the request would look like:</p>
<pre><code>GET / HTTP/1.1
Host: 0123456789abcedf.onion
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:52.0) Gecko/20100101 Firefox/52.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Connection: keep-alive
Upgrade-Insecure-Requests: 1
</code></pre>
<p>(on HTTPS connections brotli compression is also supported in TB 7, so that header would become <code>Accept-Encoding: gzip, deflate, br</code>)</p>
<p>For Tor Browser 6.5.2:</p>
<pre><code>GET / HTTP/1.1
Host: 0123456789abcedf.onion
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:45.0) Gecko/20100101 Firefox/45.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Connection: keep-alive</code></pre>
          <p><a href="http://forums.whonix.org/t/pretend-to-be-tor-browser-on-http-requests-to-onion-domains/3980/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/pretend-to-be-tor-browser-on-http-requests-to-onion-domains/3980/1</link>
        <pubDate>Thu, 01 Jun 2017 16:00:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3980-1</guid>
        <source url="http://forums.whonix.org/t/pretend-to-be-tor-browser-on-http-requests-to-onion-domains/3980.rss">Pretend to be Tor Browser on HTTP Requests to .onion Domains?</source>
      </item>
  </channel>
</rss>
