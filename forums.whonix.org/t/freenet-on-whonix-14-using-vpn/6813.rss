<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Freenet on Whonix 14 using VPN</title>
    <link>http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813</link>
    <description>Hello.

I am currently running Freenet on Whonix 13. This requires me to use a VPN inside the Workstation. I always set this up by adding uwtwrapper_global=&quot;0&quot; to /etc/uwt.d/50_user.conf and TOR_TRANSPROXY=1 to /etc/environment (i.e. the first two steps on https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN). I would then be able to connect to my VPN using the official client from the VPN provider (which has a specific option for connecting to the VPN over Tor) and Freenet would just work.
I can&#39;t get the same to work on Whonix 14.
When trying to log in on the client on Whonix 14 with the same setting I use on Whonix 13 (Host: 127.0.0.1, Port: 9150, Tor Control Port: 9151) I get the error message &quot;Cannot login. (curl: (7) Unable to receive initial SOCKS5 response. - with &#39;tor&#39; (always) proxy and &#39;none&#39; auth). I can log in on the client using no proxy setting, however this doesn&#39;t work to establish a connection either and changing back to Tor proxy when logged in I get another error message very similar to the one above except that it says &quot;Authorization failed&quot; instead of &quot;Cannot login&quot;. It also says it&#39;s &quot;Unable to find IP address of Tor first node of an established circuit&quot;.
I tried downloading config files for openvpn from the provider and using one with proxy &#39;none&#39; and TCP I am actually able to connect to the VPN using openvpn from the command line. The VPN is also used on Tor Browser as evident by the &quot;Something went wrong&quot; message and websites reporting the VPN IP. A connection to Freenet is however never established.
The config file doesn&#39;t modify /etc/resolv.conf, and installing package resolvconf and adding
script-security 2
up /etc/openvpn-update-resolv-conf
down /etc/openvpn/update-resolv-conf
to the config file causes the connection to still be established, but makes it impossible to connect to any websites anymore. Even ending the openvpn process doesn&#39;t restore the ability to connect to websites, as it doesn&#39;t restore /etc/resolv.conf to its original state, which instead ends up without any nameserver specified at all.
However, using the exact same config file (without the update-resolv-conf) on Whonix 13, I am able to use Freenet without problems, so I&#39;m assuming Freenet doesn&#39;t actually care what nameserver is used (maybe it doesn&#39;t even use the nameserver).

I already saw (and read) this thread https://forums.whonix.org/t/whonix-14-and-torguard-vpn/6433 which seems to be about a similar issue, but I&#39;m still lost.
I also followed the guide on https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN to the end many times, but never had good results (I always ended up with a system that couldn&#39;t connect to the internet at all).

Any help please?</description>
    <language>en</language>
    <lastBuildDate>Tue, 12 Feb 2019 18:35:59 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Freenet on Whonix 14 using VPN</title>
        <dc:creator><![CDATA[patoko]]></dc:creator>
        <description><![CDATA[
            <p>Ok, I got the graphical client to work now, I had to set it to proxy ‘none’ plus TCP instead of the proxy ‘Tor’ setting I used on Whonix 13.</p>
          <p><a href="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/8</link>
        <pubDate>Tue, 12 Feb 2019 18:35:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6813-8</guid>
        <source url="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813.rss">Freenet on Whonix 14 using VPN</source>
      </item>
      <item>
        <title>Freenet on Whonix 14 using VPN</title>
        <dc:creator><![CDATA[patoko]]></dc:creator>
        <description><![CDATA[
            <p>Thank you very much for your help.<br>
I applied the script from <a href="https://www.whonix.org/wiki/Dev/Firewall_Unload" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/Firewall_Unload</a> and can connect to Freenet now. However, trying to connect to the VPN using the graphical client still gives the same error message as before (Cannot login. (curl: (7) Unable to receive initial SOCKS5 response. - with ‘tor’ (always) proxy and ‘none’ auth) / Unable to find IP address of Tor first node of an established circuit.)<br>
Any idea why that would be?<br>
I guess it’s not the end of the world if I can’t get that to work though, it’s mainly useful to see the load on the different available servers and up / down speed, as I often have to try several servers before finding one that gives decent speeds. Maybe I’ll have to look for another application to monitor the speed.</p>
          <p><a href="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/7</link>
        <pubDate>Mon, 11 Feb 2019 21:34:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6813-7</guid>
        <source url="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813.rss">Freenet on Whonix 14 using VPN</source>
      </item>
      <item>
        <title>Freenet on Whonix 14 using VPN</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Nice. I’ll try them and see what gives.</p>
          <p><a href="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/6</link>
        <pubDate>Mon, 11 Feb 2019 16:34:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6813-6</guid>
        <source url="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813.rss">Freenet on Whonix 14 using VPN</source>
      </item>
      <item>
        <title>Freenet on Whonix 14 using VPN</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="3" data-topic="6813">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>You need to disable Whonix firewall on the Workstation for OpenVPN to work on Whonix 14+</p>
</blockquote>
</aside>
<p>I would hope that disabling it entirely isn’t required. All that matters should be configurable. VPN instructions have chapters on firewall settings.</p>
          <p><a href="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/5</link>
        <pubDate>Mon, 11 Feb 2019 09:21:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6813-5</guid>
        <source url="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813.rss">Freenet on Whonix 14 using VPN</source>
      </item>
      <item>
        <title>Freenet on Whonix 14 using VPN</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="3" data-topic="6813">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Actually we should make a note of that on the wiki but I don’t have the exct code snippet in front of me.</p>
</blockquote>
</aside>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Dev/Firewall_Unload" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <img src="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" class="thumbnail onebox-avatar" width="24" height="24">

<h3><a href="https://www.whonix.org/wiki/Dev/Firewall_Unload" target="_blank" rel="nofollow noopener">Dev/Firewall Unload</a></h3>

<p>How to unload / remove each and every iptables rule.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/4</link>
        <pubDate>Mon, 11 Feb 2019 02:53:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6813-4</guid>
        <source url="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813.rss">Freenet on Whonix 14 using VPN</source>
      </item>
      <item>
        <title>Freenet on Whonix 14 using VPN</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1" data-topic="6813">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/p/4bbf92/40.png" class="avatar"> patoko:</div>
<blockquote>
<p>I am currently running Freenet on Whonix 13.</p>
</blockquote>
</aside>
<p>Please, for the love of all that is Holy, upgrade.</p>
<aside class="quote no-group" data-post="1" data-topic="6813">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/p/4bbf92/40.png" class="avatar"> patoko:</div>
<blockquote>
<p>I can’t get the same to work on Whonix 14.</p>
</blockquote>
</aside>
<p>You need to disable Whonix firewall on the Workstation for OpenVPN to work on Whonix 14+</p>
<p>Actually we should make a note of that on the wiki but I don’t have the exct code snippet in front of me.</p>
          <p><a href="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/3</link>
        <pubDate>Mon, 11 Feb 2019 02:49:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6813-3</guid>
        <source url="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813.rss">Freenet on Whonix 14 using VPN</source>
      </item>
      <item>
        <title>Freenet on Whonix 14 using VPN</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <p>Hi <code>Hello</code></p>
<p>You’re going to have to pic what to troubleshoot.</p>
<p><strong>1.</strong> Freenet login troubles (VPN providers “official” client)</p>
<p><a href="https://whonix.org/wiki/Freenet#Freenet_inside_the_Whonix-Workstation_-_Freenet_over_Tor_.28Preferred.29" rel="nofollow noopener">https://whonix.org/wiki/Freenet#Freenet_inside_the_Whonix-Workstation_-<em>Freenet_over_Tor</em>.28Preferred.29</a></p>
<p><strong>2.</strong> Whonix wiki VPN instructions troubleshoot.  Logs and steps to reproduce. See:</p>
<p><a href="https://whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#How_to_Submit_a_Support_Request" rel="nofollow noopener">https://whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN#How_to_Submit_a_Support_Request</a></p>
          <p><a href="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/2</link>
        <pubDate>Mon, 11 Feb 2019 00:16:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6813-2</guid>
        <source url="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813.rss">Freenet on Whonix 14 using VPN</source>
      </item>
      <item>
        <title>Freenet on Whonix 14 using VPN</title>
        <dc:creator><![CDATA[patoko]]></dc:creator>
        <description><![CDATA[
            <p>Hello.</p>
<p>I am currently running Freenet on Whonix 13. This requires me to use a VPN inside the Workstation. I always set this up by adding uwtwrapper_global=“0” to /etc/uwt.d/50_user.conf and TOR_TRANSPROXY=1 to /etc/environment (i.e. the first two steps on <a href="https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN" rel="nofollow noopener">https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN</a>). I would then be able to connect to my VPN using the official client from the VPN provider (which has a specific option for connecting to the VPN over Tor) and Freenet would just work.<br>
I can’t get the same to work on Whonix 14.<br>
When trying to log in on the client on Whonix 14 with the same setting I use on Whonix 13 (Host: 127.0.0.1, Port: 9150, Tor Control Port: 9151) I get the error message "Cannot login. (curl: (7) Unable to receive initial SOCKS5 response. - with ‘tor’ (always) proxy and ‘none’ auth). I can log in on the client using no proxy setting, however this doesn’t work to establish a connection either and changing back to Tor proxy when logged in I get another error message very similar to the one above except that it says “Authorization failed” instead of “Cannot login”. It also says it’s “Unable to find IP address of Tor first node of an established circuit”.<br>
I tried downloading config files for openvpn from the provider and using one with proxy ‘none’ and TCP I am actually able to connect to the VPN using openvpn from the command line. The VPN is also used on Tor Browser as evident by the “Something went wrong” message and websites reporting the VPN IP. A connection to Freenet is however never established.<br>
The config file doesn’t modify /etc/resolv.conf, and installing package resolvconf and adding<br>
script-security 2<br>
up /etc/openvpn-update-resolv-conf<br>
down /etc/openvpn/update-resolv-conf<br>
to the config file causes the connection to still be established, but makes it impossible to connect to any websites anymore. Even ending the openvpn process doesn’t restore the ability to connect to websites, as it doesn’t restore /etc/resolv.conf to its original state, which instead ends up without any nameserver specified at all.<br>
However, using the exact same config file (without the update-resolv-conf) on Whonix 13, I am able to use Freenet without problems, so I’m assuming Freenet doesn’t actually care what nameserver is used (maybe it doesn’t even use the nameserver).</p>
<p>I already saw (and read) this thread <a href="https://forums.whonix.org/t/whonix-14-and-torguard-vpn/6433" class="inline-onebox">Whonix 14 and TorGuard VPN</a> which seems to be about a similar issue, but I’m still lost.<br>
I also followed the guide on <a href="https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN" rel="nofollow noopener">https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_VPN</a> to the end many times, but never had good results (I always ended up with a system that couldn’t connect to the internet at all).</p>
<p>Any help please?</p>
          <p><a href="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813/1</link>
        <pubDate>Sun, 10 Feb 2019 22:40:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6813-1</guid>
        <source url="http://forums.whonix.org/t/freenet-on-whonix-14-using-vpn/6813.rss">Freenet on Whonix 14 using VPN</source>
      </item>
  </channel>
</rss>
