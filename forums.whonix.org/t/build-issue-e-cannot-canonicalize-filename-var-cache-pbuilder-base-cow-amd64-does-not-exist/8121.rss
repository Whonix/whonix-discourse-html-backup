<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
    <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121</link>
    <description>No, I didnt.

**Added these options, now it fails with:** 

```
+ make_cowbuilder_distribution=stretch
+ &#39;[&#39; &#39;!&#39; http : //HTTPS// /deb. debian. org/debian = &#39;&#39; &#39;]&#39;
+ &#39;[&#39; -n http : //HTTPS/ //deb. debian. org/debian &#39;]&#39;
+ &#39;[&#39; all = all &#39;]&#39;
+ cow_folder=/var/cache/pbuilder/cow.cow_amd64
+ base_folder=/var/cache/pbuilder/base.cow_amd64
+ &#39;[&#39; all = all &#39;]&#39;
+ true
+ sudo env http_proxy=http : // 127. 0.0.1 : 3142 cowbuilder --build /home/debian/whonix_binary/genmkfile-packages-result/anon-apps-config_2.9-1.dsc --basepath /var/cache/pbuilder/base.cow_amd64 --buildplace /var/cache/pbuilder/cow.cow_amd64 --distribution stretch --mirror http : //HTTPS ///deb . debian . org/debian --extrapackages &#39; debhelper  genmkfile config-package-dev&#39; --buildresult /home/debian/whonix_binary/genmkfile-packages-result
**E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist**
/usr/share/genmkfile/makefile-full:59: recipe for target &#39;deb-pkg&#39; failed
make: *** [deb-pkg] Error 1
++ retry_last_failed_bash_command_exit_code=2
++ true
++ &#39;[&#39; 2 = 0 &#39;]&#39;
++ true &#39;INFO: Retry failed. exit code of last_failed_bash_command: 2 &#39;
++ last_failed_exit_code=2
++ last_failed_bash_command=&#39;sudo $SUDO_OPTS -E make -f &quot;$make_file&quot; deb-pkg&#39;
++ &#39;[&#39; &#39;!&#39; &#39;&#39; = &#39;&#39; &#39;]&#39;
++ true &#39;INFO: Skipping whonix_build_dispatch_after_retry (--retry-after), because empty, ok.&#39;
++ &#39;[&#39; 2 = 0 &#39;]&#39;
++ errorhandlerprocessshared &#39;NONE_(called_by_errorhandlerretry)&#39;
++ last_script=././build-steps.d/1200_create-debian-packages
++ trap_signal_type_previous=ERR
++ &#39;[&#39; ERR = &#39;&#39; &#39;]&#39;
++ trap_signal_type_last=&#39;NONE_(called_by_errorhandlerretry)&#39;
++ whonix_build_error_counter=2
+++ benchmarktimeend 1568538197
++++ date +%s
+++ benchmarktimeend=1568538205
+++ benchmark_took_seconds=8
++++ convertsecs 8
++++ local h m s
++++ (( h=8/3600 ))
++++ true
++++ (( m=(8%3600)/60 ))
++++ true
++++ (( s=8%60 ))
++++ printf &#39;%02d:%02d:%02d\n&#39; 0 0 8
+++ echo 00:00:08
++ benchmark_took_time=00:00:08
++ processbacktracefunction
++ true &#39;INFO: BEGIN: processbacktracefunction&#39;
++ &#39;[&#39; -o xtrace &#39;]&#39;
++ set +x
++ true &#39;INFO: END  : processbacktracefunction&#39;
++ functiontracefunction
++ true &#39;INFO: BEGIN: functiontracefunction&#39;
++ &#39;[&#39; -o xtrace &#39;]&#39;
++ set +x
++ true &#39;INFO: END  : functiontracefunction&#39;
++ output_cmd_set
++ &#39;[&#39; -o xtrace &#39;]&#39;
++ output_cmd=true
++ true &#39;
############################################################
ERROR in ././build-steps.d/1200_create-debian-packages detected!
anon_dist_build_version: 15.0.0.3.3
(whonix_build_error_counter: 2)
(benchmark: 00:00:08)
trap_signal_type_previous: ERR
trap_signal_type_last    : NONE_(called_by_errorhandlerretry)
process_backtrace_result:
1: : /sbin/init 
2: : xfce4-terminal 
3: : bash 
4: : sudo ./whonix_build --target raw --flavor whonix-gateway-rpi --build --arch arm64 --kernel linux-image-arm64 --headers linux-headers-arm64 --allow-untagged true --allow-uncommitted true 
5: : /bin/bash ./whonix_build --target raw --flavor whonix-gateway-rpi --build --arch arm64 --kernel linux-image-arm64 --headers linux-headers-arm64 --allow-untagged true --allow-uncommitted true 
6: : /bin/bash ././build-steps.d/1200_create-debian-packages 
function_trace_result:
main (line number: 212)
main (line number: 208)
create-debian-packages (line number: 200)
create_whonix_debian_packages (line number: 172)
errorhandlergeneral (line number: 334)
errorhandlerprocessshared (line number: 220)
errorhandlerretry (line number: 154)
errorhandlerprocessshared (line number: 169)
errorhandlerprocessshared (line number: 169)
errorhandlergeneral (line number: 334)
create_whonix_debian_packages (line number: 172)
create-debian-packages (line number: 200)
main (line number: 208)
main (line number: 212)
last_failed_bash_command: sudo $SUDO_OPTS -E make -f &quot;$make_file&quot; deb-pkg
last_failed_exit_code: 2
ERROR in ././build-steps.d/1200_create-debian-packages detected!
############################################################
&#39;
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = INT &#39;]&#39;
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = TERM &#39;]&#39;
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = ERR &#39;]&#39;
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = &#39;NONE_(called_by_errorhandlerretry)&#39; &#39;]&#39;
++ true &#39;INFO: trap_signal_type_last: NONE_(called_by_errorhandlerretry), considering auto retry...&#39;
++ &#39;[&#39; &#39;!&#39; 1 = 0 &#39;]&#39;
++ &#39;[&#39; 2 = &#39;&#39; &#39;]&#39;
++ &#39;[&#39; -n 1 &#39;]&#39;
++ &#39;[&#39; -n 5 &#39;]&#39;
++ local first
++ read -r first _
++ &#39;[&#39; sudo = error_ &#39;]&#39;
++ &#39;[&#39; 2 -gt 1 &#39;]&#39;
++ true &#39;INFO: Auto retried (--retry-max) already 1 times. No more auto retry. &#39;
++ unset whonix_build_auto_retry_counter
++ true
++ ignore_error=false
++ answer=
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = ERR &#39;]&#39;
++ &#39;[&#39; &#39;NONE_(called_by_errorhandlerretry)&#39; = &#39;NONE_(called_by_errorhandlerretry)&#39; &#39;]&#39;
++ true &#39;INFO: whonix_build_non_interactive: &#39;
++ &#39;[&#39; &#39;&#39; = true &#39;]&#39;
++ &#39;[&#39; -t 0 &#39;]&#39;
++ true &#39;INFO: stdin connected to terminal, using interactive error handler.&#39;
++ true &#39;   ERROR in ././build-steps.d/1200_create-debian-packages detected!
   Please have a look above (the block within ###...), note the command that failed, last_failed_exit_code and its output (further above).
   - Please enter c and press enter to ignore the error and continue building. (Recommended against!)
   - Please press r and enter to retry.
   - Please press s and enter to open an chroot interactive shell.
   - Please press a and enter to abort.&#39;
```</description>
    <language>en</language>
    <lastBuildDate>Wed, 13 Nov 2019 18:16:16 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="23" data-topic="8121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>On the very issue of using the wrong cowbuilder chroot folder.</p>
</blockquote>
</aside>
<aside class="quote no-group" data-post="23" data-topic="8121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Maybe fixed in git master.</p>
</blockquote>
</aside>
<p>That very issue is fixed. But more to do. Watch the (non-)progress here: <a href="https://forums.whonix.org/t/whonix-for-arm64-raspberry-pi-rpi/1788/139" class="inline-onebox">Whonix for arm64 / Raspberry Pi ( RPi )</a></p>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/24</link>
        <pubDate>Fri, 20 Sep 2019 10:13:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-24</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>On the very issue of using the wrong cowbuilder chroot folder.</p>
<aside class="quote no-group" data-post="6" data-topic="8121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>This got probably broken when implementing support for building packages for multiple platforms at the same time.</p>
</blockquote>
</aside>
<p>Maybe fixed in git master.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/genmkfile/commit/5ea1b0f013de993ee184ed1794889a2172ce2ee6" target="_blank" rel="nofollow noopener">github.com/Whonix/genmkfile</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/genmkfile/commit/5ea1b0f013de993ee184ed1794889a2172ce2ee6" target="_blank" rel="nofollow noopener">multi arch build fixes</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/genmkfile/commit/5ea1b0f013de993ee184ed1794889a2172ce2ee6" target="_blank" rel="nofollow noopener">02:01PM - 19 Sep 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>3 files</strong>
  with <strong>43 additions</strong>
  and <strong>34 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Will test later.</p>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/23</link>
        <pubDate>Thu, 19 Sep 2019 14:03:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-23</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick_mobile]]></dc:creator>
        <description><![CDATA[
            <p>The permission issue: I suggest to re-download Whonix source code. If permissions of random files fail, something is wrong.</p>
<p>Try to download a specific git tag rather than master</p>
<p>Or run <code>git status</code> and delete superfluous folders.</p>
<aside class="quote no-group quote-modified" data-post="21" data-topic="8121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/d/e274bd/40.png" class="avatar"> dondow17:</div>
<blockquote>
<p>E: Package ‘grub-pc’ has no installation candidate</p>
</blockquote>
</aside>
<p>This one I don’t know. Image likely won’t boot. Bootloader issue.</p>
<p>See Whonix arm64 forum thread. (Link above already.) It’s unmaintained.</p>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/22</link>
        <pubDate>Wed, 18 Sep 2019 03:52:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-22</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Actually it’s correct in the source code already. Dunno why the file is not executable for you.</p>
<p>Did you mount /home with <code>noexec</code>?</p>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/20</link>
        <pubDate>Tue, 17 Sep 2019 16:23:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-20</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>New lintian warning that didn’t happen to me before. Wondering if Debian introduces new ones in stable releases.</p>
<p>This one can be safely ignored. Continue as offered by the build script.</p>
<p>Will fix in next git tag.</p>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/19</link>
        <pubDate>Tue, 17 Sep 2019 16:21:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-19</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick_mobile]]></dc:creator>
        <description><![CDATA[
            <p>Did you reboot?</p>
<p>Forgot to mention. Required to get rid of previous mount.</p>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/17</link>
        <pubDate>Tue, 17 Sep 2019 12:04:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-17</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Emulate that commit that I linked to in my previous post.</p>
<p>Before:</p>
<pre><code>  if mount | grep /var/cache/pbuilder | grep tmpfs ; then
     true "INFO: /var/cache/pbuilder already tmpfs."
  else
     mount -t tmpfs -o size=2G none /var/cache/pbuilder
  fi
</code></pre>
<p>After:</p>
<pre><code>   if [ "$whonix_build_unsafe_io" = "true" ]; then
      if mount | grep /var/cache/pbuilder | grep tmpfs ; then
         true "INFO: /var/cache/pbuilder already tmpfs."
      else
         mount -t tmpfs -o size=2G none /var/cache/pbuilder
      fi
   fi</code></pre>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/15</link>
        <pubDate>Tue, 17 Sep 2019 07:56:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-15</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Probably a low disk space issue in cowbuilder chroot.</p>
<p>I suggest the manually add that change.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/Whonix/commit/80852842123d63f094728837c4b1be767c989ed5" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/Whonix/commit/80852842123d63f094728837c4b1be767c989ed5" target="_blank" rel="nofollow noopener">mount cowbuilder chroot only as tmpfs (ramdisk) when using --unsafe-io true</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/Whonix/commit/80852842123d63f094728837c4b1be767c989ed5" target="_blank" rel="nofollow noopener">10:55AM - 16 Sep 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>6 additions</strong>
  and <strong>4 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>And then use</p>
<pre><code>--allow-uncommitted true</code></pre>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/13</link>
        <pubDate>Mon, 16 Sep 2019 10:57:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-13</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Algernon]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="6" data-topic="8121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<h4><a href="https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper-one.bsh#L883-L889" rel="nofollow noopener">Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper-one.bsh#L883-L889</a></h4>
<pre><code class="lang-auto">if [ "$architecture" = "all" ]; then
   cow_folder="/var/cache/pbuilder/cow.cow_${dpkg_print_architecture}"
   base_folder="/var/cache/pbuilder/base.cow_${dpkg_print_architecture}"
else
   cow_folder="/var/cache/pbuilder/cow.cow_${architecture}"
   base_folder="/var/cache/pbuilder/base.cow_${architecture}"
fi
</code></pre>
</blockquote>
</aside>
<p>I’m not 100% sure, but I think those changes have been made after my latest rpi builds, so these probably need some rpi related fixes.</p>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/12</link>
        <pubDate>Mon, 16 Sep 2019 09:24:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-12</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick_mobile]]></dc:creator>
        <description><![CDATA[
            <p>Low RAM issue.<br>
4 GB RAM works for me.</p>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/10</link>
        <pubDate>Sun, 15 Sep 2019 20:08:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-10</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>As a workaround meanwhile try building a amd64 cowbuilder chroot.</p>
<pre><code>sudo ./build-steps.d/1130_cowbuilder-setup --target raw --flavor whonix-gateway-rpi --build --arch amd64</code></pre>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/8</link>
        <pubDate>Sun, 15 Sep 2019 16:40:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-8</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This got probably broken when implementing support for building packages for multiple platforms at the same time.</p>
<p>There is no amd64 cowfolder. To no big surprise since trying to build for arm64.<br>
I assume there is a arm64 cowfolder.</p>
<aside class="quote no-group quote-modified" data-post="1" data-topic="8121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/d/e274bd/40.png" class="avatar"> dondow17:</div>
<blockquote>
<ul>
<li>‘[’ all = all ‘]’ + cow_folder=/var/cache/pbuilder/cow.cow_amd64 + base_folder=/var/cache/pbuilder/base.cow_amd64</li>
</ul>
</blockquote>
</aside>
<p>Architecture is “<code>all</code>” since that package is not a compiled package.</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper-one.bsh#L883-L889" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper-one.bsh#L883-L889" target="_blank" rel="nofollow noopener">Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper-one.bsh#L883-L889</a></h4>
<pre class="onebox"><code class="lang-bsh"><ol class="start lines" start="883" style="counter-reset: li-counter 882 ;">
<li>if [ "$architecture" = "all" ]; then</li>
<li>   cow_folder="/var/cache/pbuilder/cow.cow_${dpkg_print_architecture}"</li>
<li>   base_folder="/var/cache/pbuilder/base.cow_${dpkg_print_architecture}"</li>
<li>else</li>
<li>   cow_folder="/var/cache/pbuilder/cow.cow_${architecture}"</li>
<li>   base_folder="/var/cache/pbuilder/base.cow_${architecture}"</li>
<li>fi</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>I wonder why I wrote that back then. For architecture independent packages it shouldn’t matter what cowbuilder folder is being used build host (amd64) vs target platform (arm64). I wonder why I thought these would be better created in the cowbuilder folder of the build host.</p>
<hr>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/shared.bsh" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/shared.bsh" target="_blank" rel="nofollow noopener">Whonix/genmkfile/blob/master/usr/share/genmkfile/shared.bsh</a></h4>
<pre><code class="lang-bsh">#!/bin/bash

make_shared_function() {
   make_debian_control_file_relative_path="debian/control"
   make_debian_control_file_absolute_path="$(realpath "$make_debian_control_file_relative_path")"
   test -f "$make_debian_control_file_absolute_path"

   dpkg_print_architecture="$(dpkg --print-architecture)"

   ## debian/control:
   ## Script packages (example: sdwdate):
   ## Architecture: all
   ## Compiled packages (example: kloak):
   ## Architecture: any

   local architecture_keyword architecture_setting architecture_grep

   architecture_grep="$(cat "$make_debian_control_file_absolute_path" | grep "Architecture:")"
   read -r architecture_keyword architecture_setting _ &lt;&lt;&lt; "$architecture_grep"

</code></pre>

  This file has been truncated. <a href="https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/shared.bsh" target="_blank" rel="nofollow noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<hr>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper.bsh" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper.bsh" target="_blank" rel="nofollow noopener">Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper.bsh</a></h4>
<pre><code class="lang-bsh">#!/bin/bash

## Copyright (C) 2012 - 2018 ENCRYPTED SUPPORT LP &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

set -x

if [ "$GENMKFILE_DEBUG" = "1" ]; then
   set -x
fi

set -e

true "$0: 1: $1"
true "$0: make_cross_build_platform_list: $make_cross_build_platform_list"

if [ -f /usr/lib/helper-scripts/pre.bsh ]; then
   no_disable_echo=true
   ## pre.bsh would `source` the following folders:
   ## /etc/make-helper-one.bsh_pre.d/*.conf
</code></pre>

  This file has been truncated. <a href="https://github.com/Whonix/genmkfile/blob/master/usr/share/genmkfile/make-helper.bsh" target="_blank" rel="nofollow noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/6</link>
        <pubDate>Sun, 15 Sep 2019 14:31:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-6</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-post="1" data-topic="8121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/d/e274bd/40.png" class="avatar"> dondow17:</div>
<blockquote>
<p>–arch arm64</p>
</blockquote>
</aside>
<aside class="quote no-group" data-post="1" data-topic="8121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/d/e274bd/40.png" class="avatar"> dondow17:</div>
<blockquote>
<p>E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</p>
</blockquote>
</aside>
<p>Some bug. Architecture variable does not propagate to <a href="https://github.com/Whonix/genmkfile" rel="nofollow noopener">https://github.com/Whonix/genmkfile</a></p>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/5</link>
        <pubDate>Sun, 15 Sep 2019 14:17:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-5</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-username="dondow17" data-post="1" data-topic="8121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/d/e274bd/40.png" class="avatar"> dondow17:</div>
<blockquote>
<p>–flavor whonix-gateway-rpi</p>
</blockquote>
</aside>
<p><a href="https://forums.whonix.org/t/whonix-for-arm64-raspberry-pi-rpi/1788/126">https://forums.whonix.org/t/whonix-for-arm64-raspberry-pi-rpi/1788/126?u=patrick</a></p>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/4</link>
        <pubDate>Sun, 15 Sep 2019 13:53:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-4</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1" data-topic="8121">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/d/e274bd/40.png" class="avatar"> dondow17:</div>
<blockquote>
<ul>
<li>make_cowbuilder_distribution=stretch</li>
</ul>
</blockquote>
</aside>
<p>Building on Debian <code>stretch</code> is unsupported.</p>
<p>As per build documentation, building on Debian <code>buster</code> is required.</p>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/2</link>
        <pubDate>Sun, 15 Sep 2019 11:59:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-2</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
      <item>
        <title>build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</title>
        <dc:creator><![CDATA[dondow17]]></dc:creator>
        <description><![CDATA[
            <p>No, I didnt.</p>
<p><strong>Added these options, now it fails with:</strong></p>
<pre><code class="lang-auto">+ make_cowbuilder_distribution=stretch
+ '[' '!' http : //HTTPS// /deb. debian. org/debian = '' ']'
+ '[' -n http : //HTTPS/ //deb. debian. org/debian ']'
+ '[' all = all ']'
+ cow_folder=/var/cache/pbuilder/cow.cow_amd64
+ base_folder=/var/cache/pbuilder/base.cow_amd64
+ '[' all = all ']'
+ true
+ sudo env http_proxy=http : // 127. 0.0.1 : 3142 cowbuilder --build /home/debian/whonix_binary/genmkfile-packages-result/anon-apps-config_2.9-1.dsc --basepath /var/cache/pbuilder/base.cow_amd64 --buildplace /var/cache/pbuilder/cow.cow_amd64 --distribution stretch --mirror http : //HTTPS ///deb . debian . org/debian --extrapackages ' debhelper  genmkfile config-package-dev' --buildresult /home/debian/whonix_binary/genmkfile-packages-result
**E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist**
/usr/share/genmkfile/makefile-full:59: recipe for target 'deb-pkg' failed
make: *** [deb-pkg] Error 1
++ retry_last_failed_bash_command_exit_code=2
++ true
++ '[' 2 = 0 ']'
++ true 'INFO: Retry failed. exit code of last_failed_bash_command: 2 '
++ last_failed_exit_code=2
++ last_failed_bash_command='sudo $SUDO_OPTS -E make -f "$make_file" deb-pkg'
++ '[' '!' '' = '' ']'
++ true 'INFO: Skipping whonix_build_dispatch_after_retry (--retry-after), because empty, ok.'
++ '[' 2 = 0 ']'
++ errorhandlerprocessshared 'NONE_(called_by_errorhandlerretry)'
++ last_script=././build-steps.d/1200_create-debian-packages
++ trap_signal_type_previous=ERR
++ '[' ERR = '' ']'
++ trap_signal_type_last='NONE_(called_by_errorhandlerretry)'
++ whonix_build_error_counter=2
+++ benchmarktimeend 1568538197
++++ date +%s
+++ benchmarktimeend=1568538205
+++ benchmark_took_seconds=8
++++ convertsecs 8
++++ local h m s
++++ (( h=8/3600 ))
++++ true
++++ (( m=(8%3600)/60 ))
++++ true
++++ (( s=8%60 ))
++++ printf '%02d:%02d:%02d\n' 0 0 8
+++ echo 00:00:08
++ benchmark_took_time=00:00:08
++ processbacktracefunction
++ true 'INFO: BEGIN: processbacktracefunction'
++ '[' -o xtrace ']'
++ set +x
++ true 'INFO: END  : processbacktracefunction'
++ functiontracefunction
++ true 'INFO: BEGIN: functiontracefunction'
++ '[' -o xtrace ']'
++ set +x
++ true 'INFO: END  : functiontracefunction'
++ output_cmd_set
++ '[' -o xtrace ']'
++ output_cmd=true
++ true '
############################################################
ERROR in ././build-steps.d/1200_create-debian-packages detected!
anon_dist_build_version: 15.0.0.3.3
(whonix_build_error_counter: 2)
(benchmark: 00:00:08)
trap_signal_type_previous: ERR
trap_signal_type_last    : NONE_(called_by_errorhandlerretry)
process_backtrace_result:
1: : /sbin/init 
2: : xfce4-terminal 
3: : bash 
4: : sudo ./whonix_build --target raw --flavor whonix-gateway-rpi --build --arch arm64 --kernel linux-image-arm64 --headers linux-headers-arm64 --allow-untagged true --allow-uncommitted true 
5: : /bin/bash ./whonix_build --target raw --flavor whonix-gateway-rpi --build --arch arm64 --kernel linux-image-arm64 --headers linux-headers-arm64 --allow-untagged true --allow-uncommitted true 
6: : /bin/bash ././build-steps.d/1200_create-debian-packages 
function_trace_result:
main (line number: 212)
main (line number: 208)
create-debian-packages (line number: 200)
create_whonix_debian_packages (line number: 172)
errorhandlergeneral (line number: 334)
errorhandlerprocessshared (line number: 220)
errorhandlerretry (line number: 154)
errorhandlerprocessshared (line number: 169)
errorhandlerprocessshared (line number: 169)
errorhandlergeneral (line number: 334)
create_whonix_debian_packages (line number: 172)
create-debian-packages (line number: 200)
main (line number: 208)
main (line number: 212)
last_failed_bash_command: sudo $SUDO_OPTS -E make -f "$make_file" deb-pkg
last_failed_exit_code: 2
ERROR in ././build-steps.d/1200_create-debian-packages detected!
############################################################
'
++ '[' 'NONE_(called_by_errorhandlerretry)' = INT ']'
++ '[' 'NONE_(called_by_errorhandlerretry)' = TERM ']'
++ '[' 'NONE_(called_by_errorhandlerretry)' = ERR ']'
++ '[' 'NONE_(called_by_errorhandlerretry)' = 'NONE_(called_by_errorhandlerretry)' ']'
++ true 'INFO: trap_signal_type_last: NONE_(called_by_errorhandlerretry), considering auto retry...'
++ '[' '!' 1 = 0 ']'
++ '[' 2 = '' ']'
++ '[' -n 1 ']'
++ '[' -n 5 ']'
++ local first
++ read -r first _
++ '[' sudo = error_ ']'
++ '[' 2 -gt 1 ']'
++ true 'INFO: Auto retried (--retry-max) already 1 times. No more auto retry. '
++ unset whonix_build_auto_retry_counter
++ true
++ ignore_error=false
++ answer=
++ '[' 'NONE_(called_by_errorhandlerretry)' = ERR ']'
++ '[' 'NONE_(called_by_errorhandlerretry)' = 'NONE_(called_by_errorhandlerretry)' ']'
++ true 'INFO: whonix_build_non_interactive: '
++ '[' '' = true ']'
++ '[' -t 0 ']'
++ true 'INFO: stdin connected to terminal, using interactive error handler.'
++ true '   ERROR in ././build-steps.d/1200_create-debian-packages detected!
   Please have a look above (the block within ###...), note the command that failed, last_failed_exit_code and its output (further above).
   - Please enter c and press enter to ignore the error and continue building. (Recommended against!)
   - Please press r and enter to retry.
   - Please press s and enter to open an chroot interactive shell.
   - Please press a and enter to abort.'
</code></pre>
          <p><a href="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121/1</link>
        <pubDate>Sun, 15 Sep 2019 09:14:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8121-1</guid>
        <source url="http://forums.whonix.org/t/build-issue-e-cannot-canonicalize-filename-var-cache-pbuilder-base-cow-amd64-does-not-exist/8121.rss">build issue E: cannot canonicalize filename /var/cache/pbuilder/base.cow_amd64, does not exist</source>
      </item>
  </channel>
</rss>
