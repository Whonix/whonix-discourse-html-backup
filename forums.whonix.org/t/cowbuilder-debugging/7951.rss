<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>cowbuilder debugging</title>
    <link>http://forums.whonix.org/t/cowbuilder-debugging/7951</link>
    <description>(In response to https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/132)

    whonix_build_multiarch_package_item=&quot;amd64&quot;
    cow_folder=&quot;/var/cache/pbuilder/cow.cow_${whonix_build_multiarch_package_item}&quot;
    base_folder=&quot;/var/cache/pbuilder/base.cow_${whonix_build_multiarch_package_item}&quot;
    whonix_build_pbuilder_config_file=&quot;/home/user/whonix_binary/pbuilder.conf&quot;
    sudo cowbuilder \
       --execute &quot;/bin/bash&quot; \
       --basepath &quot;$base_folder&quot; \
       --buildplace &quot;$cow_folder&quot; \
       --configfile &quot;$whonix_build_pbuilder_config_file&quot;

Should show `root@host:/#` which is then a root shell inside the chroot.

Since not using

    --save-after-login

changes will not be permanent.

Probably worth adding a script into Whonix `help-steps` folder to simplify invocation?

Then try for example:

    sudo apt-get install clang-tidy

Or.

    sudo apt-get install debhelper genmkfile clang llvm-7-dev clang-tidy

To leave the chroot, just type:

    exit</description>
    <language>en</language>
    <lastBuildDate>Tue, 17 Sep 2019 05:53:37 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="30" data-topic="7951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Can you please add signify-openbsd as a buildtime dep</p>
</blockquote>
</aside>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/Whonix/blob/master/buildconfig.d/30_dependencies.conf#L128" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/Whonix/blob/master/buildconfig.d/30_dependencies.conf#L128" target="_blank" rel="nofollow noopener">Whonix/Whonix/blob/master/buildconfig.d/30_dependencies.conf#L128</a></h4>
<pre class="onebox"><code class="lang-conf"><ol class="start lines" start="118" style="counter-reset: li-counter 117 ;">
<li>#whonix_build_script_build_dependency+=" mmdebstrap "</li>
<li>
</li>
<li>## required for cross platform package builds such as when building on amd64</li>
<li>## and using build config variable:</li>
<li>## make_cross_build_platform_list="i386 amd64"</li>
<li>whonix_build_script_build_dependency+=" binfmt-support "</li>
<li>whonix_build_script_build_dependency+=" qemu "</li>
<li>whonix_build_script_build_dependency+=" qemu-user-static "</li>
<li>
</li>
<li>## required by ~/Whonix/packages/whonix-developer-meta-files/release/prepare_release</li>
<li class="selected">whonix_build_script_build_dependency+=" signify-openbsd "</li>
<li>whonix_build_script_build_dependency+=" codecrypt "</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/31">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/31</link>
        <pubDate>Tue, 17 Sep 2019 05:53:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-31</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="29" data-topic="7951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/p/898d66/40.png" class="avatar"> Patrick_mobile:</div>
<blockquote>
<p>Likely a low RAM issue. I managed to reproduce this using a Whonix VM with default 2 GB RAM.</p>
</blockquote>
</aside>
<p>Can you please add signify-openbsd as a buildtime dep and  also state the min resource requirements on thie build guide page?</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/30">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/30</link>
        <pubDate>Tue, 17 Sep 2019 00:00:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-30</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick_mobile]]></dc:creator>
        <description><![CDATA[
            <p>Likely a low RAM issue. I managed to reproduce this using a Whonix VM with default 2 GB RAM.</p>
<p>While trying to debug kswapd0 process had high CPU and system responded in time lapse.</p>
<p>Increasing VM RAM to 4 GB RAM and I am past that build bug.</p>
<p>root cause - maybe: cowbuilder or something using aptitude. And then aptitude, dpkg or postinst showing obscure error messages and no out of RAM error.</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/29">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/29</link>
        <pubDate>Tue, 10 Sep 2019 08:48:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-29</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I would hope that would work, but I don’t know. Worth trying in fresh VM.</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/28">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/28</link>
        <pubDate>Tue, 27 Aug 2019 11:36:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-28</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>Yes</p>
<p>Should I retry with a new VM from scratch? Maybe we are losing time debugging some weird bug when I could try anew with a fresh VM?</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/27">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/27</link>
        <pubDate>Tue, 27 Aug 2019 11:34:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-27</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-post="132" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"><a href="//forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/132">Whonix Desktop Installer with Calamares - field report</a>
</div>
<blockquote>
<p>Unpacking llvm-7-dev (1:7.0.1-8) …<br>
E: Sub-process /usr/bin/dpkg exited unexpectedly</p>
</blockquote>
</aside>
<p>Same issue as in original report.</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/26">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/26</link>
        <pubDate>Tue, 27 Aug 2019 11:33:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-26</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="20" data-topic="7951" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Success also meaning… Packages are build and can be found in this folder…?</p>
<pre><code class="lang-auto">~/genmkfile-packages-result
</code></pre>
</blockquote>
</aside>
<p>Yes</p>
<pre><code>ls ~/genmkfile-packages-result/
hardened-malloc_0.6-1.debian.tar.xz  hardened-malloc_0.6.orig.tar.xz  helper-scripts_6.5-1_amd64.buildinfo  helper-scripts_6.5-1.debian.tar.xz  helper-scripts_6.5.orig.tar.xz
hardened-malloc_0.6-1.dsc            helper-scripts_6.5-1_all.deb     helper-scripts_6.5-1_amd64.changes    helper-scripts_6.5-1.dsc</code></pre>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/25</link>
        <pubDate>Tue, 27 Aug 2019 11:15:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-25</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>hardened_malloc failed</p>
<pre><code>Unpacking llvm-7-dev (1:7.0.1-8) ...
E: Sub-process /usr/bin/dpkg exited unexpectedly
Setting up libncurses-dev:amd64 (6.1+20181013-2) ...
Setting up libgc1c2:amd64 (1:7.6.4-0.4) ...
Setting up libyaml-0-2:amd64 (0.2.1-1) ...
Setting up libedit2:amd64 (3.1-20181209-1) ...
Setting up libobjc4:amd64 (8.3.0-6) ...
Setting up libffi-dev:amd64 (3.2.1-9) ...
Setting up libobjc-8-dev:amd64 (8.3.0-6) ...
Setting up binfmt-support (2.2.0-2) ...
Created symlink /etc/systemd/system/multi-user.target.wants/binfmt-support.service -&gt; /lib/systemd/system/binfmt-support.service.
Running in chroot, ignoring request.
invoke-rc.d: policy-rc.d denied execution of start.
Setting up libc6-i386 (2.28-10) ...
Setting up libllvm7:amd64 (1:7.0.1-8) ...
Setting up python-yaml (3.13-2) ...
Setting up libclang1-7 (1:7.0.1-8) ...
Setting up libtinfo-dev:amd64 (6.1+20181013-2) ...
Setting up llvm-7-runtime (1:7.0.1-8) ...
Setting up llvm-7 (1:7.0.1-8) ...
Setting up lib32gcc1 (1:8.3.0-6) ...
Setting up lib32stdc++6 (8.3.0-6) ...
Setting up libclang-common-7-dev (1:7.0.1-8) ...
Setting up clang-7 (1:7.0.1-8) ...
Setting up clang-tools-7 (1:7.0.1-8) ...
Setting up clang (1:7.0-47) ...
Setting up clang-tidy-7 (1:7.0.1-8) ...
Setting up clang-tidy (1:7.0-47) ...
Processing triggers for systemd (241-5) ...
Processing triggers for man-db (2.8.5-2) ...
Processing triggers for libc-bin (2.28-10) ...
[ ERR] Writing extended state information
[ ERR] Building tag database

Current status: 0 (-1) broken, 1 (+1) upgradable.
E: Failed to fork process for dpkg selections.
E: failed to save selections to dpkg database
E: pbuilder-satisfydepends failed.
I: Copying back the cached apt archive contents
I: new cache content 'llvm-7-dev_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'llvm-7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'llvm-7-runtime_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'libtinfo-dev_6.1+20181013-2_amd64.deb' added
I: new cache content 'libncurses-dev_6.1+20181013-2_amd64.deb' added
I: new cache content 'libffi-dev_3.2.1-9_amd64.deb' added
I: new cache content 'clang-tidy_1%3a7.0-47_amd64.deb' added
I: new cache content 'clang-tidy-7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'python-yaml_3.13-2_amd64.deb' added
I: new cache content 'clang-tools-7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'clang_1%3a7.0-47_amd64.deb' added
I: new cache content 'clang-7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'libclang1-7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'libclang-common-7-dev_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'lib32stdc++6_8.3.0-6_amd64.deb' added
I: new cache content 'lib32gcc1_1%3a8.3.0-6_amd64.deb' added
I: new cache content 'libc6-i386_2.28-10_amd64.deb' added
I: new cache content 'libobjc-8-dev_8.3.0-6_amd64.deb' added
I: new cache content 'libobjc4_8.3.0-6_amd64.deb' added
I: new cache content 'libgc1c2_1%3a7.6.4-0.4_amd64.deb' added
I: new cache content 'libllvm7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'libedit2_3.1-20181209-1_amd64.deb' added
I: new cache content 'binfmt-support_2.2.0-2_amd64.deb' added
I: unmounting dev/ptmx filesystem
I: unmounting dev/pts filesystem
I: unmounting dev/shm filesystem
I: unmounting proc filesystem
I: unmounting sys filesystem
I: Cleaning COW directory
I: forking: rm -rf /var/cache/pbuilder/cow.cow_amd64/cow.2017
++ error_handler_pre
++ local exit_code=1
++ local 'last_err=sudo $COWBUILDER_PREFIX cowbuilder --build "$make_main_dsc_file" $make_cowbuilder_arch_opt --basepath "$base_folder" --buildplace "$cow_folder" --distribution "$make_cowbuilder_distribution" --mirror "$make_cowbuilder_mirror" --extrapackages "$make_deb_build_dependencies" --buildresult "$DISTDIR"'
++ '[' '!' 1 = 1 ']'
++ '[' '' = '' ']'
++ output='## See above.'
++ force_echo '
####################################################################
## BEGIN ERROR in /usr/share/genmkfile/make-helper-one.bsh detected!
##
## ERROR LOG:
## See above.
##
## BASH_COMMAND: sudo $COWBUILDER_PREFIX cowbuilder --build "$make_main_dsc_file" $make_cowbuilder_arch_opt --basepath "$base_folder" --buildplace "$cow_folder" --distribution "$make_cowbuilder_distribution" --mirror "$make_cowbuilder_mirror" --extrapackages "$make_deb_build_dependencies" --buildresult "$DISTDIR"
## EXIT_CODE: 1
##
## END ERROR in /usr/share/genmkfile/make-helper-one.bsh detected!
## Please report this bug!
####################################################################
'</code></pre>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/24</link>
        <pubDate>Tue, 27 Aug 2019 11:14:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-24</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="21" data-topic="7951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>What is the exact command here for hardened_malloc?</p>
</blockquote>
</aside>
<p>Always same.</p>
<pre><code class="lang-auto">make_cowbuilder_dist_folder=~/genmkfile-packages-result make_use_cowbuilder=true make deb-pkg
</code></pre>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/23</link>
        <pubDate>Tue, 27 Aug 2019 11:13:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-23</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="18" data-topic="7951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Everything seems OK, maybe I should try to build Whonix-Host 15.0.0.4.5?</p>
</blockquote>
</aside>
<p>Can’t hurt but I wouldn’t be surprised if you run into same original issue <a href="https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/132" class="inline-onebox">Whonix Desktop Installer with Calamares - field report</a>.</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/22</link>
        <pubDate>Tue, 27 Aug 2019 11:12:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-22</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>What is the exact command here for hardened_malloc?</p>
<pre><code>cd  hardened_malloc
make_cowbuilder_dist_folder=~/genmkfile-packages-result make_use_cowbuilder=true make hardened_malloc
make: *** No rule to make target 'hardened_malloc'.  Stop.</code></pre>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/21</link>
        <pubDate>Tue, 27 Aug 2019 11:12:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-21</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Success also meaning… Packages are build and can be found in this folder…?</p>
<pre><code>~/genmkfile-packages-result</code></pre>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/20</link>
        <pubDate>Tue, 27 Aug 2019 11:11:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-20</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>So both helper-scripts as well as hardened malloc could be build using cowbuilder successfully?</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/19</link>
        <pubDate>Tue, 27 Aug 2019 11:10:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-19</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="15" data-topic="7951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<pre><code class="lang-auto">make_cowbuilder_dist_folder=~/genmkfile-packages-result make_use_cowbuilder=true make deb-pkg
</code></pre>
</blockquote>
</aside>
<p>OK this exited with 0 status <code>make_cowbuilder_dist_folder=~/genmkfile-packages-result make_use_cowbuilder=true make deb-pkg</code></p>
<p>Everything seems OK, maybe I should try to build Whonix-Host 15.0.0.4.5?</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/18</link>
        <pubDate>Tue, 27 Aug 2019 11:10:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-18</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Btw if you <code>git clone</code>d Whonix (to build Whonix images) then all sources of all packages are already on the disk in folder</p>
<pre><code>~/Whonix/packages</code></pre>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/17</link>
        <pubDate>Tue, 27 Aug 2019 11:08:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-17</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>And if helper-scripts can be build successfully using cowbuilder, try building hardened malloc with it.</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/16</link>
        <pubDate>Tue, 27 Aug 2019 11:07:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-16</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Alright. Strange but… Let’s see.</p>
<p>cd into helper-scripts</p>
<pre><code>cd helper-scripts
</code></pre>
<p>Folder ~/genmkfile-packages-result needs to exist.</p>
<pre><code>mkdir ~/genmkfile-packages-result
</code></pre>
<p>Build using cowbuilder.</p>
<pre><code>make_cowbuilder_dist_folder=~/genmkfile-packages-result make_use_cowbuilder=true make deb-pkg</code></pre>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/15</link>
        <pubDate>Tue, 27 Aug 2019 11:06:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-15</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>Yes</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/14</link>
        <pubDate>Tue, 27 Aug 2019 11:05:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-14</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Installation finishes without error?</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/13</link>
        <pubDate>Tue, 27 Aug 2019 11:04:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-13</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>Yes<br>
sudo apt install clang-tidy<br>
Reading package lists… Done<br>
Building dependency tree<br>
Reading state information… Done<br>
The following additional packages will be installed:<br>
clang-7 clang-tidy-7 clang-tools-7 lib32gcc1 lib32stdc++6 libc6-i386 libclang-common-7-dev libclang1-7 libedit2 libgc1c2 libllvm7 libobjc-8-dev libobjc4 libyaml-0-2 python-yaml<br>
Suggested packages:<br>
clang-7-doc<br>
Recommended packages:<br>
llvm-7-dev libomp-7-dev<br>
The following NEW packages will be installed:<br>
clang-7 clang-tidy clang-tidy-7 clang-tools-7 lib32gcc1 lib32stdc++6 libc6-i386 libclang-common-7-dev libclang1-7 libedit2 libgc1c2 libllvm7 libobjc-8-dev libobjc4 libyaml-0-2 python-yaml<br>
0 upgraded, 16 newly installed, 0 to remove and 0 not upgraded.<br>
Need to get 95.2 MB of archives.<br>
After this operation, 430 MB of additional disk space will be used.<br>
Do you want to continue? [Y/n]</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/12</link>
        <pubDate>Tue, 27 Aug 2019 11:04:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-12</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1" data-topic="7951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Then try for example:</p>
<pre><code class="lang-auto">sudo apt-get install clang-tidy
</code></pre>
<p>Or.</p>
<pre><code class="lang-auto">sudo apt-get install debhelper genmkfile clang llvm-7-dev clang-tidy
</code></pre>
</blockquote>
</aside>
<p>Did that also work?</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/11</link>
        <pubDate>Tue, 27 Aug 2019 11:03:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-11</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>Works</p>
<pre><code>I: Copying COW directory
I: forking: rm -rf /var/cache/pbuilder/cow.cow_amd64/cow.30970
I: forking: cp -al /var/cache/pbuilder/base.cow_amd64 /var/cache/pbuilder/cow.cow_amd64/cow.30970
I: removed stale ilistfile /var/cache/pbuilder/cow.cow_amd64/cow.30970/.ilist
I: Invoking pbuilder
I: forking: pbuilder execute --configfile /home/user/whonix_binary/pbuilder.conf --buildplace /var/cache/pbuilder/cow.cow_amd64/cow.30970 --mirror http://ftp.de.debian.org/debian/ --distribution sid --no-targz --internal-chrootexec 'chroot /var/cache/pbuilder/cow.cow_amd64/cow.30970 cow-shell' /bin/bash
W: /root/.pbuilderrc does not exist
I: Running in no-targz mode
I: copying local configuration
W: --override-config is not set; not updating apt.conf Read the manpage for details.
I: mounting /proc filesystem
I: mounting /sys filesystem
I: creating /{dev,run}/shm
I: mounting /dev/pts filesystem
I: redirecting /dev/ptmx to /dev/pts/ptmx
I: mounting /dev/pts/0 over /dev/console
I: policy-rc.d already exists
I: Obtaining the cached apt archive contents
</code></pre>
<p>Ends up with a root shell</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/10</link>
        <pubDate>Tue, 27 Aug 2019 11:03:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-10</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Now try original post please</p>
<aside class="quote quote-modified" data-post="1" data-topic="7951">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="https://forums.whonix.org/t/cowbuilder-debugging/7951">cowbuilder debugging</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    (In response to <a href="https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/132" class="inline-onebox">Whonix Desktop Installer with Calamares - field report</a>) 
whonix_build_multiarch_package_item="amd64"
cow_folder="/var/cache/pbuilder/cow.cow_${whonix_build_multiarch_package_item}"
base_folder="/var/cache/pbuilder/base.cow_${whonix_build_multiarch_package_item}"
whonix_build_pbuilder_config_file="/home/user/whonix_binary/pbuilder.conf"
sudo cowbuilder \
   --execute "/bin/bash" \
   --basepath "$base_folder" \
   --buildplace "$cow_folder" \
   --configfile "$whonix_build_pbuilde…
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/9</link>
        <pubDate>Tue, 27 Aug 2019 10:13:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-9</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>The three scripts ran successfuly.</p>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/8</link>
        <pubDate>Tue, 27 Aug 2019 10:05:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-8</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
      <item>
        <title>cowbuilder debugging</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="6" data-topic="7951">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I by mistake expected this test to be run in a VM that was previously used to try to build Whonix. Then cowbuilder chroot would already exist. Since it was probably done in a fresh VM (not bad) I missed to explain how to actually create the cowbuilder chroot.</p>
</blockquote>
</aside>
<p>You are right, this is done in a VM previously used to build Whonix.</p>
<p>I am trying now</p>
<aside class="quote no-group" data-post="5" data-topic="7951" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Try <code>15.0.0.4.5-developers-only</code></p>
<pre><code class="lang-auto">sudo -E ./build-steps.d/1100_sanity-tests --build --redistribute --internalrun --target qcow2 --target iso

sudo -E ./build-steps.d/1120_prepare-build-machine --build --redistribute --internalrun --target qcow2 --target iso

sudo -E ./build-steps.d/1130_cowbuilder-setup --build --redistribute --internalrun --target qcow2 --target iso
</code></pre>
</blockquote>
</aside>
          <p><a href="http://forums.whonix.org/t/cowbuilder-debugging/7951/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cowbuilder-debugging/7951/7</link>
        <pubDate>Tue, 27 Aug 2019 09:59:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7951-7</guid>
        <source url="http://forums.whonix.org/t/cowbuilder-debugging/7951.rss">cowbuilder debugging</source>
      </item>
  </channel>
</rss>
