<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Configuring Whonix connection to Tor through a *single* trusted entry guard</title>
    <link>http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443</link>
    <description>Hello,

In the aftermath of the relay early attack and in order to significantly reduce one&#39;s exposure to traffic confirmation attacks in general, one can restrict entry access to Tor through a *single* trusted entry guard. 

Assume I have a Tor relay &quot;SweetRelay&quot; set up somewhere that has earned the guard flag, that I trust it, and that I want to use it as my sole entry guard.

Normally, I would just go to my client Tor config file (/etc/tor/torrc) and add: 
EntryNodes SweetRelay
NumEntryGuards 1

MY QUESTION IS: Can I make this same modification to /etc/tor/torrc on Whonix gateway and achieve the same result (i.e. Whonix only connecs through my trusted entry guard)?

Thanks in advance for input.</description>
    <language>en</language>
    <lastBuildDate>Sun, 24 Aug 2014 01:57:12 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Configuring Whonix connection to Tor through a *single* trusted entry guard</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This is most likely also possible in other ways, by using Tor Control Protocol or maybe even other methods.</p>
<p>You’ll find out by reading<br>
<a href="https://gitweb.torproject.org/torspec.git?a=blob_plain;hb=HEAD;f=control-spec.txt" class="onebox" target="_blank">https://gitweb.torproject.org/torspec.git?a=blob_plain;hb=HEAD;f=control-spec.txt</a><br>
and/or<br>
this would also be a good general non-Whonix specific Tor question for<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://cdn.sstatic.net/Sites/tor/Img/favicon.ico?v=c458f47eb8b8" class="site-icon" width="32" height="32">
      <a href="https://tor.stackexchange.com/" target="_blank">Tor Stack Exchange</a>
  </header>
  <article class="onebox-body">
    <img src="https://cdn.sstatic.net/Sites/tor/Img/apple-touch-icon@2.png?v=5dd36d51c7c3" class="thumbnail onebox-avatar" width="316" height="316">

<h3><a href="https://tor.stackexchange.com/" target="_blank">Tor Stack Exchange</a></h3>

<p>Q&amp;A for researchers, developers, and users of Tor</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
and/o<br>
tor-talk mailing list (<a href="https://lists.torproject.org/pipermail/tor-talk/">https://lists.torproject.org/pipermail/tor-talk/</a>).<p></p>
          <p><a href="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/8</link>
        <pubDate>Sun, 24 Aug 2014 01:57:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-443-8</guid>
        <source url="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443.rss">Configuring Whonix connection to Tor through a *single* trusted entry guard</source>
      </item>
      <item>
        <title>Configuring Whonix connection to Tor through a *single* trusted entry guard</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I just now added this information to the wiki so everyone can read it:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Advanced_Security_Guide#Fresh_Tor_Entry_Guards_by_regenerating_Tor_State_File" target="_blank" title="03:23AM - 18 June 2019">Whonix – 18 Jun 19</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.whonix.org/w/images/4/4e/Padlocks337569640.jpg" class="thumbnail" width="640" height="426"></div>

<h3><a href="https://www.whonix.org/wiki/Advanced_Security_Guide#Fresh_Tor_Entry_Guards_by_regenerating_Tor_State_File" target="_blank">Advanced Security Guide - Whonix</a></h3>

<p>THIS WIKI PAGE IS DEPRECATED AND OUTDATED. PLEASE REFER TO THE ADVANCED SECURITY GUIDE SECTION - https://www.whonix.org/wiki/Documentation</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<p>(Also isn’t Whonix specific.)</p>
          <p><a href="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/7</link>
        <pubDate>Sun, 24 Aug 2014 01:48:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-443-7</guid>
        <source url="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443.rss">Configuring Whonix connection to Tor through a *single* trusted entry guard</source>
      </item>
      <item>
        <title>Configuring Whonix connection to Tor through a *single* trusted entry guard</title>
        <dc:creator><![CDATA[whonixn00b]]></dc:creator>
        <description><![CDATA[
            <p>Another question.</p>
<p>I was attempting to change my entry guards by deleting /var/lib/tor/state as per the advice for using whonix (in conjunction with changing MAC address) on a open public network (see <a href="https://www.whonix.org/wiki/Pre_Install_Advice#MAC_Address" rel="nofollow noopener">https://www.whonix.org/wiki/Pre_Install_Advice#MAC_Address</a>).</p>
<p>After I did so, I re-started TOR, cat /var/lib/tor/state and the same set of guards were selected. Deleted the file again, rebooted, and still got same guard selection set.</p>
<p>Is there something I am doing in correctly in order to properly cause TOR to select new entry guards for Whonix gateway?</p>
          <p><a href="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/6</link>
        <pubDate>Sat, 23 Aug 2014 17:57:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-443-6</guid>
        <source url="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443.rss">Configuring Whonix connection to Tor through a *single* trusted entry guard</source>
      </item>
      <item>
        <title>Configuring Whonix connection to Tor through a *single* trusted entry guard</title>
        <dc:creator><![CDATA[whonixn00b]]></dc:creator>
        <description><![CDATA[
            <p>Thank you for all of the insight and resources. Doing my research. Have a great weekend.</p>
          <p><a href="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/5</link>
        <pubDate>Fri, 22 Aug 2014 23:20:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-443-5</guid>
        <source url="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443.rss">Configuring Whonix connection to Tor through a *single* trusted entry guard</source>
      </item>
      <item>
        <title>Configuring Whonix connection to Tor through a *single* trusted entry guard</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="whonixn00b" data-post="3" data-topic="443">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/w/90db22/40.png" class="avatar"> whonixn00b:</div>
<blockquote>
<p>Theoretically, assuming this setup “works”, wouldn’t permanently routing through a trusted guard prevent my torrified Whonix traffic from getting correlated (unless up against a global adversary)?</p>
</blockquote>
</aside>
<p>If I understand this right, just having one trustworthy entry guard doesn’t defeat all attacks. A compromised entry guard is able to try a traffic confirmation attack, so the consideration to only use 1 entry guard and hope it isn’t compromised, may be indeed a good idea. But that only covers entry guard level attacks. The problem is, ISPs are also “permanent entry guards” and malicious/compromised ISP’s might still be able to try such attacks.</p>
<aside class="quote no-group" data-username="whonixn00b" data-post="3" data-topic="443">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/w/90db22/40.png" class="avatar"> whonixn00b:</div>
<blockquote>
<p>It seems to me that even with persistent guards, that if Whonix picks one or more bad ones and sticks with them, I’m hosed.</p>
</blockquote>
</aside>
<p>Tor picks them and Whonix doesn’t interfere. So you might be better off getting assurance from the official Tor support channels.</p>
<aside class="quote no-group" data-username="whonixn00b" data-post="3" data-topic="443">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/w/90db22/40.png" class="avatar"> whonixn00b:</div>
<blockquote>
<p>Conversely, if I am constantly mobile and spoofing my MAC address from public wifi hotspots, would it not be to my advantage to choose a new set of guards from each new connection location (i.e. delete my tor state file as per recommendation in the advanced security guide)? In this scenario, my MAC address is not geographically trackable nor can I be profiled from my repetitive use of same set of guards as a Unique Identifier.</p>
</blockquote>
</aside>
<p>Using just 1 guard node also is a pretty non-standard thing to do what probably not many users are doing (I guess), so it would be also kinda a unique identifier.</p>
<p>This is a good question. We don’t have documentation for that yet. Best you can find is this:<br>
</p><aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/Whonix/Whonix/issues/246" target="_blank">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/Whonix/issues/246" target="_blank">optional non-persistent entry guards</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2014-07-31" data-time="16:58:02" data-timezone="UTC">04:58PM - 31 Jul 14 UTC</span>
      </div>

        <div class="date">
          closed <span class="discourse-local-date" data-format="ll" data-date="2015-01-16" data-time="20:02:05" data-timezone="UTC">08:02PM - 16 Jan 15 UTC</span>
        </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>
  </div>
</div>

<div class="github-row">
  <p class="github-content">Especially for mobile users this could be interesting. See:
https://tor.stackexchange.com/questions/698/tracking-user-location-using-entry-guards
(http://www.webcitation.org/6RTwwSWvw)
https://tor.stackexchange.com/questions/636/is-it-dangerous-to-use-tails-without-persistent-entry-guards (http://www.webcitation.org/6RTwx8bil)
Adding DataDirectory /var/run/tor to /etc/tor/torrc could do the trick. After every reboot,...</p>
</div>

<div class="labels">
    <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">enhancement</span>
    <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">security</span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<p>You might be interested as well (because using a single bridge <em>might</em> be less non-standard then a single entry guard at this time):<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Hide_Tor_and_Whonix_from_your_ISP" target="_blank" title="09:07AM - 28 March 2020">Whonix – 28 Mar 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.whonix.org/w/images/c/c4/Cat-1040815640.jpg" class="thumbnail" width="640" height="426"></div>

<h3><a href="https://www.whonix.org/wiki/Hide_Tor_and_Whonix_from_your_ISP" target="_blank">Hide Tor use from the Internet Service Provider</a></h3>

<p>Prevent the Internet Service Provider from discovering you are a Tor user.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/4</link>
        <pubDate>Fri, 22 Aug 2014 21:29:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-443-4</guid>
        <source url="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443.rss">Configuring Whonix connection to Tor through a *single* trusted entry guard</source>
      </item>
      <item>
        <title>Configuring Whonix connection to Tor through a *single* trusted entry guard</title>
        <dc:creator><![CDATA[whonixn00b]]></dc:creator>
        <description><![CDATA[
            <p>Patrick, thanks for your very prompt and informative response.</p>
<p>Theoretically, assuming this setup “works”, wouldn’t permanently routing through a trusted guard prevent my torrified Whonix traffic from getting correlated (unless up against a global adversary)?</p>
<p>It seems to me that even with persistent guards, that if Whonix picks one or more bad ones and sticks with them, I’m hosed.</p>
<p>Conversely, if I am constantly mobile and spoofing my MAC address from public wifi hotspots, would it not be to my advantage to choose a new set of guards from each new connection location (i.e. delete my tor state file as per recommendation in the advanced security guide)? In this scenario, my MAC address is not geographically trackable nor can I be profiled from my repetitive use of same set of guards as a Unique Identifier.</p>
<p>Sorry…I realize these are two completely different questions. Any further insight is appreciated</p>
          <p><a href="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/3</link>
        <pubDate>Fri, 22 Aug 2014 21:17:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-443-3</guid>
        <source url="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443.rss">Configuring Whonix connection to Tor through a *single* trusted entry guard</source>
      </item>
      <item>
        <title>Configuring Whonix connection to Tor through a *single* trusted entry guard</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I haven’t tested this config. Check using arm (<a href="https://www.whonix.org/wiki/Arm">https://www.whonix.org/wiki/Arm</a>) if it worked.</p>
<p>As per,</p>
<ul>
<li><a href="https://www.whonix.org/wiki/About#Based_on_Debian">https://www.whonix.org/wiki/About#Based_on_Debian</a></li>
<li>
<a href="https://www.whonix.org/wiki/FAQ#Does_Whonix_modify_Tor.3F">https://www.whonix.org/wiki/FAQ#Does_Whonix_modify_Tor.3F</a><br>
anything that works with system Tor (or TBB’s Tor) should work with Tor in Whonix as well.</li>
</ul>
<p>Nevertheless, I wouldn’t recommend these changes on your own. I’d wait until this becomes the official setting to share the same anonymity set as everyone else. But that is up to you.</p>
          <p><a href="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/2</link>
        <pubDate>Fri, 22 Aug 2014 20:51:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-443-2</guid>
        <source url="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443.rss">Configuring Whonix connection to Tor through a *single* trusted entry guard</source>
      </item>
      <item>
        <title>Configuring Whonix connection to Tor through a *single* trusted entry guard</title>
        <dc:creator><![CDATA[whonixn00b]]></dc:creator>
        <description><![CDATA[
            <p>Hello,</p>
<p>In the aftermath of the relay early attack and in order to significantly reduce one’s exposure to traffic confirmation attacks in general, one can restrict entry access to Tor through a <em>single</em> trusted entry guard.</p>
<p>Assume I have a Tor relay “SweetRelay” set up somewhere that has earned the guard flag, that I trust it, and that I want to use it as my sole entry guard.</p>
<p>Normally, I would just go to my client Tor config file (/etc/tor/torrc) and add:<br>
EntryNodes SweetRelay<br>
NumEntryGuards 1</p>
<p>MY QUESTION IS: Can I make this same modification to /etc/tor/torrc on Whonix gateway and achieve the same result (i.e. Whonix only connecs through my trusted entry guard)?</p>
<p>Thanks in advance for input.</p>
          <p><a href="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443/1</link>
        <pubDate>Fri, 22 Aug 2014 20:43:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-443-1</guid>
        <source url="http://forums.whonix.org/t/configuring-whonix-connection-to-tor-through-a-single-trusted-entry-guard/443.rss">Configuring Whonix connection to Tor through a *single* trusted entry guard</source>
      </item>
  </channel>
</rss>
