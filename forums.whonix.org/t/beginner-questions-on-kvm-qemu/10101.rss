<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Beginner questions on KVM &amp; QEMU</title>
    <link>http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101</link>
    <description>I recently came to enjoy and use QEMU instead of Virtualbox. The Whonix documentation states &quot;QEMU support has been deprecated in favor of KVM. The slow performance of pure emulation makes it impractical for the majority of Linux users.&quot;.

Not yet being very experienced with QEMU/KVM, this has me confused: Isn&#39;t QEMU using KVM anyway when invoking `qemu` with `-enable-kvm`? Is there still a speed difference in that case?

My second question: Is translating the provided libvirt xml files into raw QEMU commands all I have to do to use QEMU instead? Could someone maybe point me in the right direction on where I can read about how to do that correctly?</description>
    <language>en</language>
    <lastBuildDate>Mon, 16 Nov 2020 14:48:09 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Beginner questions on KVM &amp; QEMU</title>
        <dc:creator><![CDATA[vmman]]></dc:creator>
        <description><![CDATA[
            <p>The fact that libvirt tools require root privileges for tasks that could be done without root is one of the reasons why I dislike it so much. I’ll try the plain Qemu commands, thanks.</p>
          <p><a href="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/10</link>
        <pubDate>Sun, 18 Oct 2020 09:12:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10101-10</guid>
        <source url="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101.rss">Beginner questions on KVM &amp; QEMU</source>
      </item>
      <item>
        <title>Beginner questions on KVM &amp; QEMU</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="jhhjhh" data-post="8" data-topic="10101">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/j/b5e925/40.png" class="avatar"> jhhjhh:</div>
<blockquote>
<p>However does this require that you first create the libvirt VMs or do those commands work straight away with the xml files that come with the Whonix KVM package?</p>
</blockquote>
</aside>
<p>Straight away. There is no concept of saved VM settings for QEMU. You would run the translated command every time to start it up</p>
<aside class="quote no-group" data-username="jhhjhh" data-post="8" data-topic="10101">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/j/b5e925/40.png" class="avatar"> jhhjhh:</div>
<blockquote>
<p>Also virsh wants root privileges, maybe it’s OK but it sounds little weird to me. :o</p>
</blockquote>
</aside>
<p>The libvirt daemon is privileged to carry out duties like networking/applying appamor, while the VMs themselves are not.</p>
          <p><a href="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/9</link>
        <pubDate>Sat, 26 Sep 2020 17:59:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10101-9</guid>
        <source url="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101.rss">Beginner questions on KVM &amp; QEMU</source>
      </item>
      <item>
        <title>Beginner questions on KVM &amp; QEMU</title>
        <dc:creator><![CDATA[jhhjhh]]></dc:creator>
        <description><![CDATA[
            <p>Cool, thank you. However does this require that you first create the libvirt VMs or do those commands work straight away with the xml files that come with the Whonix KVM package?</p>
<p>Also virsh wants root privileges, maybe it’s OK but it sounds little weird to me. :o</p>
          <p><a href="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/8</link>
        <pubDate>Sat, 26 Sep 2020 17:49:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10101-8</guid>
        <source url="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101.rss">Beginner questions on KVM &amp; QEMU</source>
      </item>
      <item>
        <title>Beginner questions on KVM &amp; QEMU</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>You can easily do that with these two commands. Added a new section:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/KVM#Convert_Libvirt_Templates_to_QEMU_Commands" target="_blank" title="03:03PM - 05 September 2020">Whonix – 5 Sep 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:82/25;"><img src="https://www.whonix.org/w/images/b/be/234234234236kvm.png" class="thumbnail" width="82" height="25"></div>

<h3><a href="https://www.whonix.org/wiki/KVM#Convert_Libvirt_Templates_to_QEMU_Commands" target="_blank">Whonix ™ for KVM</a></h3>

<p>Using Whonix ™ with KVM (Kernel Virtual Machine)</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Try it and let us know if the resulting command boots up the VM.</p>
          <p><a href="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/7</link>
        <pubDate>Sat, 05 Sep 2020 15:05:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10101-7</guid>
        <source url="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101.rss">Beginner questions on KVM &amp; QEMU</source>
      </item>
      <item>
        <title>Beginner questions on KVM &amp; QEMU</title>
        <dc:creator><![CDATA[bbaabbb]]></dc:creator>
        <description><![CDATA[
            <p>I also think that it would be very cool if QEMU startup script templates would be provided at Whonix site. I don’t like virt-manager because it’s complex. I use QEMU and KVM with Tails etc and it works like charm. Virtualbox quality also does not impress me.</p>
          <p><a href="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/6</link>
        <pubDate>Fri, 04 Sep 2020 15:41:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10101-6</guid>
        <source url="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101.rss">Beginner questions on KVM &amp; QEMU</source>
      </item>
      <item>
        <title>Beginner questions on KVM &amp; QEMU</title>
        <dc:creator><![CDATA[gastauch]]></dc:creator>
        <description><![CDATA[
            <p>I think I understand, thank you very much for the explanation <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
So the main benefit of not using QEMU directly (with KVM enabled) is to make full use of the all the advantages libvirt provides.</p>
          <p><a href="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/5</link>
        <pubDate>Thu, 13 Aug 2020 15:17:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10101-5</guid>
        <source url="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101.rss">Beginner questions on KVM &amp; QEMU</source>
      </item>
      <item>
        <title>Beginner questions on KVM &amp; QEMU</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="gastauch" data-post="3" data-topic="10101">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/g/ecd19e/40.png" class="avatar"> gastauch:</div>
<blockquote>
<p>But isn’t that only the case when <code>-enable-kvm</code> is not used, while using it activates that too, as you described? In the QEMU documentation the <code>-enable-kvm</code> option is described like this:</p>
</blockquote>
</aside>
<p>Sure</p>
<aside class="quote no-group" data-username="gastauch" data-post="3" data-topic="10101">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/g/ecd19e/40.png" class="avatar"> gastauch:</div>
<blockquote>
<p>Can <code>libvirt</code> in general be seen as an expansion/layer on top of KVM and QEMU?</p>
</blockquote>
</aside>
<p>Yes</p>
          <p><a href="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/4</link>
        <pubDate>Thu, 13 Aug 2020 14:46:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10101-4</guid>
        <source url="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101.rss">Beginner questions on KVM &amp; QEMU</source>
      </item>
      <item>
        <title>Beginner questions on KVM &amp; QEMU</title>
        <dc:creator><![CDATA[gastauch]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for your answer!</p>
<blockquote>
<p>No. QEMU Is a pure machinehardware emulator by itself. Everything is emulated in software in userspace if not used with KVM which is what makes it slow</p>
</blockquote>
<p>But isn’t that only the case when <code>-enable-kvm</code> is not used, while using it activates that too, as you described? In the QEMU documentation the <code>-enable-kvm</code> option is described like this:</p>
<pre><code class="lang-auto">-enable-kvm

    Enable KVM full virtualization support. 
</code></pre>
<p>This being the option which enables QEMU to use KVM to use hardware accelerated virtualization.</p>
<blockquote>
<p>qemu-kvm and qemu could both be used from commandline if you choose to do so. You will be missing out on things like Apparmor isolation of VMs since you are bypassing libvirt however. Also libvirt acts as an abstraction layer for VM settings which means you can theoretically switch to a different hypervisor with minimal xml editing.</p>
</blockquote>
<p>I see, that of course sounds like an important feature to retain.</p>
<p>Can <code>libvirt</code> in general be seen as an expansion/layer on top of KVM and QEMU?</p>
          <p><a href="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/3</link>
        <pubDate>Thu, 13 Aug 2020 14:41:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10101-3</guid>
        <source url="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101.rss">Beginner questions on KVM &amp; QEMU</source>
      </item>
      <item>
        <title>Beginner questions on KVM &amp; QEMU</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="gastauch" data-post="1" data-topic="10101">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/g/ecd19e/40.png" class="avatar"> gastauch:</div>
<blockquote>
<p>Isn’t QEMU using KVM anyway when invoking <code>qemu</code> with <code>-enable-kvm</code> ? Is there still a speed difference in that case?</p>
</blockquote>
</aside>
<p>No. QEMU Is a pure machinehardware emulator by itself. Everything is emulated in software in userspace if not used with KVM which is what makes it slow, but it allows you to run software for another hardware platform like ARM on x86. KVM is the kernel extension and heavily accelerates CPUs by passing the instructions directly to the real CPU if it supports virtualization. In context of KVM, QEMU Is used to emulate everything else (I/O devices) safely by trapping the instructions and not passing them to the real disk, network card and so on.</p>
<aside class="quote no-group" data-username="gastauch" data-post="1" data-topic="10101">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/g/ecd19e/40.png" class="avatar"> gastauch:</div>
<blockquote>
<p>Is translating the provided libvirt xml files into raw QEMU commands all I have to do to use QEMU instead?</p>
</blockquote>
</aside>
<p>qemu-kvm and qemu could  both be used from commandline if you choose to do so. You will be missing out on things like Apparmor isolation of VMs since you are bypassing libvirt however. Also libvirt acts as an abstraction layer for VM settings which means you can theoretically switch to a different hypervisor with minimal xml editing.</p>
          <p><a href="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/2</link>
        <pubDate>Thu, 13 Aug 2020 13:33:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10101-2</guid>
        <source url="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101.rss">Beginner questions on KVM &amp; QEMU</source>
      </item>
      <item>
        <title>Beginner questions on KVM &amp; QEMU</title>
        <dc:creator><![CDATA[gastauch]]></dc:creator>
        <description><![CDATA[
            <p>I recently came to enjoy and use QEMU instead of Virtualbox. The Whonix documentation states “QEMU support has been deprecated in favor of KVM. The slow performance of pure emulation makes it impractical for the majority of Linux users.”.</p>
<p>Not yet being very experienced with QEMU/KVM, this has me confused: Isn’t QEMU using KVM anyway when invoking <code>qemu</code> with <code>-enable-kvm</code>? Is there still a speed difference in that case?</p>
<p>My second question: Is translating the provided libvirt xml files into raw QEMU commands all I have to do to use QEMU instead? Could someone maybe point me in the right direction on where I can read about how to do that correctly?</p>
          <p><a href="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101/1</link>
        <pubDate>Thu, 13 Aug 2020 08:36:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10101-1</guid>
        <source url="http://forums.whonix.org/t/beginner-questions-on-kvm-qemu/10101.rss">Beginner questions on KVM &amp; QEMU</source>
      </item>
  </channel>
</rss>
