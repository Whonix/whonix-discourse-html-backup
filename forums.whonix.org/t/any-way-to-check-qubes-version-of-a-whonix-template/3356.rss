<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Any way to check QUBES version of a Whonix template?</title>
    <link>http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356</link>
    <description>For example, I just downloaded GW and WS templates version 13. How can I know whether these are already set for Qubes version 3.2, or still stuck at 3.1 and need to be manually upgraded to 3.2?

Thanks.</description>
    <language>en</language>
    <lastBuildDate>Tue, 03 Jan 2017 23:14:13 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Any way to check QUBES version of a Whonix template?</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <p>qubes-template-* version is based on template builder version (<code>version</code><br>
file in linux-template-builder component). Since introduction of builder<br>
plugins, this is basically some arbitrary (rather meaningless) number.<br>
There are too much variables to include all of them in package version<br>
(target Qubes version, Whonix version, etc). Template package release<br>
(that timestamp) is also quite meaningless - it only uniquely identify<br>
particular template, but doesn’t bring much information.</p>
<p>While theoretically we could try to have those numbers some more<br>
meaningful, I think it doesn’t worth it - in any case this will be only<br>
about <em>initial</em> state of the template. User is free to modify template<br>
freely (for example perform in-place upgrade to newer Qubes version, or<br>
Whonix version).</p>
<p>Also, currently VM have no way to learn that number.</p>
<p>Checking target Qubes version (in template) - check qubes-core-agent<br>
package version.<br>
Checking Whonix version - probably very similar using some other<br>
package.</p>
          <p><a href="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/10</link>
        <pubDate>Tue, 03 Jan 2017 23:14:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3356-10</guid>
        <source url="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356.rss">Any way to check QUBES version of a Whonix template?</source>
      </item>
      <item>
        <title>Any way to check QUBES version of a Whonix template?</title>
        <dc:creator><![CDATA[adw]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="8" data-topic="3356">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>What to list there? Build versions and/or package versions?</p>
</blockquote>
</aside>
<p>We could just list both.</p>
<aside class="quote" data-post="8" data-topic="3356">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Some better way to set anon_dist_build_version. Setting that for Qubes-Whonix to anon-base-files package version was clearly a bad idea by me. (Implementation was simple and robust, though.) Not such a big issue since users mostly don’t need to know about these details. Mostly used internally to detect and abandon no longer supported versions should that ever be required. (Obviously hopefully never.)<br>
Perhaps anon_dist_build_version should be exported and set to qubes-template-whonix version. (git describe --always --abbrev=1000000000)</p>
<p>Why do qubes-template-whonix-gw / qubes-template-whonix-ws use package version 3.0.6-…? That is up for Marek to decide. I don’t know where he configures that. Perhaps package version should be rather Whonix like 13… 14… etc.?</p>
</blockquote>
</aside>
<p><a class="mention" href="http://forums.whonix.org/u/marmarek">@marmarek</a>, what are your thoughts?</p>
          <p><a href="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/9</link>
        <pubDate>Tue, 03 Jan 2017 05:00:48 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3356-9</guid>
        <source url="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356.rss">Any way to check QUBES version of a Whonix template?</source>
      </item>
      <item>
        <title>Any way to check QUBES version of a Whonix template?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="4" data-topic="3356">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/adw/40/686_1.png" class="avatar"> adw:</div>
<blockquote>
<p>Would it be helpful if we added a “Whonix” column or section to this page?<br>
<a href="https://www.qubes-os.org/doc/supported-versions/">https://www.qubes-os.org/doc/supported-versions/</a></p>
</blockquote>
</aside>
<p>Yes, but we should sort out a few issues first to make all of this less confusing.</p>
<ul>
<li>
<p>What to list there? Build versions and/or package versions?</p>
</li>
<li>
<p><s>From inside VMs it should be possible to detect their dom0 package versions. Probably won’t work, because there is no such version for clones.</s></p>
</li>
<li>
<p>Some better way to set <code>anon_dist_build_version</code>. Setting that for Qubes-Whonix to anon-base-files package version was clearly a bad idea by me. (Implementation was simple and robust, though.) Not such a big issue since users mostly don’t need to know about these details. Mostly used internally to detect and abandon no longer supported versions should that ever be required. (Obviously hopefully never.)</p>
</li>
<li>
<p>Perhaps <code>anon_dist_build_version</code> should be <code>export</code>ed and set to qubes-template-whonix version. (<code>git describe --always --abbrev=1000000000</code>)</p>
</li>
<li>
<p>Why do qubes-template-whonix-gw / qubes-template-whonix-ws use package version 3.0.6-…? That is up for Marek to decide. I don’t know where he configures that. Perhaps package version should be rather Whonix like 13… 14… etc.?</p>
</li>
</ul>
          <p><a href="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/8</link>
        <pubDate>Sun, 01 Jan 2017 19:43:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3356-8</guid>
        <source url="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356.rss">Any way to check QUBES version of a Whonix template?</source>
      </item>
      <item>
        <title>Any way to check QUBES version of a Whonix template?</title>
        <dc:creator><![CDATA[Otto_Kratik]]></dc:creator>
        <description><![CDATA[
            <p>Thanks. I actually noticed that when I downloaded brand new whonix-gw (v13) template and then just changed existing sys-whonix VM to use new template as its backing template, trying to start that old sys-whonix failed with errors about TORRC file having errors needing correction. Being too afraid to try such manual fixes, I instead just created a new fresh ProxyVM called sys-whonix-13 and made its template the new whonix-gw (v13) and that seemed to work okay. I presume nothing else additional is needed to configure new ProxyVM, other than set its template as the new one.</p>
          <p><a href="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/7</link>
        <pubDate>Sun, 01 Jan 2017 19:43:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3356-7</guid>
        <source url="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356.rss">Any way to check QUBES version of a Whonix template?</source>
      </item>
      <item>
        <title>Any way to check QUBES version of a Whonix template?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="5" data-topic="3356">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/o/f9ae1b/40.png" class="avatar"> Otto_Kratik:</div>
<blockquote>
<p>Why does the older build show Whonix version properly (“12”) but newer one reference (presumably) Qubes version (“3:2”) ?</p>
</blockquote>
</aside>
<p>Because Qubes-Whonix 13 was build without Whonix’s build script. (Just using Qubes Builder and qubes-template-whonix.) There is no <code>anon_dist_build_version</code>, so version number of the <code>anon-base-files</code> package is used as build version.</p>
<p>When it says up to date, it probably is, because it has to be manually added to the <a href="https://github.com/Whonix/whonix-developer-meta-files/tree/master/release/news">Whonix News Files</a>.</p>
<p>If you are using the latest stable repository (at time of writing: <code>jessie</code>), there is virtually no way to end up with outdated package versions. Whonix APT repository need to be constantly resigned to refresh the latest signature time. Otherwise apt-get would show an error. So there is (presumed apt-get doesn’t have a security bug) no way to not catch a stale mirror attack.</p>
<hr>
<p>Freshly downloaded (new installations or reinstallations) of templates do at the moment not require any manual fixups (besides usual apt-get upgrading). Templates for R3.2 come with Qubes R3.2 packages included.</p>
<p>(In theory if you just reinstall whonix-gw / whonix-ws but keep existing sys-whonix / anon-whonix there might be need a manual fixup in sys-whonix / anon-whonix but at the moment fortunately no such thing is required.)</p>
          <p><a href="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/6</link>
        <pubDate>Sun, 01 Jan 2017 19:32:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3356-6</guid>
        <source url="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356.rss">Any way to check QUBES version of a Whonix template?</source>
      </item>
      <item>
        <title>Any way to check QUBES version of a Whonix template?</title>
        <dc:creator><![CDATA[Otto_Kratik]]></dc:creator>
        <description><![CDATA[
            <p>When I do either of these command I get:</p>
<p>√ Up to date: whonix-workstation-packages-dependencies 3.4.2-1<br>
√ Up to date: Whonix Build Version: 12.0.0.3.2</p>
<p>…in my older template, but in the newly downloaded one:</p>
<p>√ Up to date: whonix-workstation-packages-dependencies 3.4.2-1<br>
√ Up to date: Whonix Build Version: 3:2.0-1</p>
<p>Why does the older build show Whonix version properly (“12”) but newer one reference (presumably) Qubes version (“3:2”) ?</p>
<p>What I meant primarily in my question about “Qubes Version” of the template, is that here in this guide for updating Qubes from R3.1 to R3.2:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.qubes-os.org/attachment/icons/512x512/apps/qubes-logo-icon.png" class="site-icon" width="500" height="500">
      <a href="https://www.qubes-os.org/doc/upgrade-to-r3.2/#upgrade-all-template-and-standalone-vms" target="_blank" rel="nofollow noopener">Qubes OS</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="https://www.qubes-os.org/attachment/icons/qubes-logo-icon-name-slogan-fb.png" class="thumbnail"></div>

<h3><a href="https://www.qubes-os.org/doc/upgrade-to-r3.2/#upgrade-all-template-and-standalone-vms" target="_blank" rel="nofollow noopener">Upgrading to R3.2</a></h3>

<p>Upgrading Qubes R3.1 to R3.2  Before attempting either an in-place upgrade or a clean installation, we strongly recommend that users back up their systems.  Current Qubes R3.1 systems can be upgrad...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>…It describes multiple steps for upgrading Debian/Whonix templates, and I wanted to know whether those steps have in theory already been “done” in newly downloaded Whonix 13 template, or whether they are still in an older R3.1 state and need to have these steps done. Specifically for example:</p>
<p>sudo cp /etc/apt/sources.list.d/qubes-r3.list /etc/apt/sources.list.d/qubes-r3-upgrade.list<br>
sudo sed -i ‘s/r3.1/r3.2/’ /etc/apt/sources.list.d/qubes-r3-upgrade.list</p>
<p>Have those repos/sources already been updated in newly downloaded template, to reflect the changes above? Or does this need to be done manually after download?</p>
          <p><a href="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/5</link>
        <pubDate>Sun, 01 Jan 2017 19:15:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3356-5</guid>
        <source url="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356.rss">Any way to check QUBES version of a Whonix template?</source>
      </item>
      <item>
        <title>Any way to check QUBES version of a Whonix template?</title>
        <dc:creator><![CDATA[adw]]></dc:creator>
        <description><![CDATA[
            <p>Would it be helpful if we added a “Whonix” column or section to this page?</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.qubes-os.org/attachment/icons/512x512/apps/qubes-logo-icon.png" class="site-icon" width="500" height="500">
      <a href="https://www.qubes-os.org/doc/supported-versions/" target="_blank" rel="nofollow noopener">Qubes OS</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="https://www.qubes-os.org/attachment/icons/qubes-logo-icon-name-slogan-fb.png" class="thumbnail"></div>

<h3><a href="https://www.qubes-os.org/doc/supported-versions/" target="_blank" rel="nofollow noopener">Supported Versions</a></h3>

<p>Supported Versions  Qubes OS Qubes OS releases are supported for six months after each subsequent major or minor release (see Version Scheme). The current release and past major releases are always...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/4</link>
        <pubDate>Sun, 01 Jan 2017 15:22:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3356-4</guid>
        <source url="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356.rss">Any way to check QUBES version of a Whonix template?</source>
      </item>
      <item>
        <title>Any way to check QUBES version of a Whonix template?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>That’s actually not that simple indeed.</p>
<pre><code>whonixcheck --verbose --function download_whonix_news                                                                                                        
</code></pre>
<p>Ignore most. The interesting part.</p>
<blockquote>
<p>√ Up to date: whonix-workstation-packages-dependencies 3.4.2-1<br>
√ Up to date: Whonix Build Version: 3:2.0-1</p>
</blockquote>
<hr>
<p>Or if not an old build…</p>
<pre><code>cat /var/lib/anon-dist/build_version
</code></pre>
<blockquote>
<p>3:2.0-1</p>
</blockquote>
<hr>
<p>R3.2:</p>
<ul>
<li><code>qubes-template-whonix-gw-3.0.6-201612182342</code></li>
<li><code>qubes-template-whonix-ws-3.0.6-201612190628</code></li>
</ul>
<hr>
<p>If you reinstall the template, you should get the most recent stable. And if you are using currently the <code>jessie</code> repository, you should end up with latest stable packages.</p>
          <p><a href="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/3</link>
        <pubDate>Sat, 31 Dec 2016 23:58:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3356-3</guid>
        <source url="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356.rss">Any way to check QUBES version of a Whonix template?</source>
      </item>
      <item>
        <title>Any way to check QUBES version of a Whonix template?</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>There is not a 1:1 correspondence between Whonix &amp; Qubes versions nor are Whonix templates customized for individual Qubes versions. I believe the Whonix policy is to support all Qubes supported versions, so Whonix 13 currently supports R3.2 and R3.1.</p>
          <p><a href="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/2</link>
        <pubDate>Sat, 31 Dec 2016 22:59:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3356-2</guid>
        <source url="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356.rss">Any way to check QUBES version of a Whonix template?</source>
      </item>
      <item>
        <title>Any way to check QUBES version of a Whonix template?</title>
        <dc:creator><![CDATA[Otto_Kratik]]></dc:creator>
        <description><![CDATA[
            <p>For example, I just downloaded GW and WS templates version 13. How can I know whether these are already set for Qubes version 3.2, or still stuck at 3.1 and need to be manually upgraded to 3.2?</p>
<p>Thanks.</p>
          <p><a href="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356/1</link>
        <pubDate>Sat, 31 Dec 2016 22:16:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3356-1</guid>
        <source url="http://forums.whonix.org/t/any-way-to-check-qubes-version-of-a-whonix-template/3356.rss">Any way to check QUBES version of a Whonix template?</source>
      </item>
  </channel>
</rss>
