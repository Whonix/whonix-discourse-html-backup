<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>OpenVpn issue Linux ip link set failed: external program exited with error status: 2 - Support - Whonix Forum</title>
    <meta name="description" content="hi,  

Since I updated whonx 13, the vpn is not working. So I take a new virtual image for the gateway (virtual box)  and I followed the tutorial ‚Äúhttps://www.whonix.org/wiki/Tunnels/Connecting_to_a_VPN_before_Tor‚Äù 

And&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2544.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;OpenVpn issue Linux ip link set failed: external program exited with error status: 2&#39;" href="2544.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/openvpn-issue-linux-ip-link-set-failed-external-program-exited-with-error-status-2/2544" />
<meta name="twitter:url" content="https://forums.whonix.org/t/openvpn-issue-linux-ip-link-set-failed-external-program-exited-with-error-status-2/2544" />
<meta property="og:title" content="OpenVpn issue Linux ip link set failed: external program exited with error status: 2" />
<meta name="twitter:title" content="OpenVpn issue Linux ip link set failed: external program exited with error status: 2" />
<meta property="og:description" content="hi,  Since I updated whonx 13, the vpn is not working. So I take a new virtual image for the gateway (virtual box)  and I followed the tutorial ‚Äúhttps://www.whonix.org/wiki/Tunnels/Connecting_to_a_VPN_before_Tor‚Äù  And I receive  an error message in debug mode( as described in the documentation)   sudo -u tunnel openvpn /etc/openvpn/openvpn.conf   user@host:/etc/openvpn$ sudo -u tunnel openvpn /etc/openvpn/openvpn.conf  Sat Jun  4 14:21:28 2016 OpenVPN 2.3.4 i586-pc-linux-gnu [SSL (OpenSSL)] [LZO..." />
<meta name="twitter:description" content="hi,  Since I updated whonx 13, the vpn is not working. So I take a new virtual image for the gateway (virtual box)  and I followed the tutorial ‚Äúhttps://www.whonix.org/wiki/Tunnels/Connecting_to_a_VPN_before_Tor‚Äù  And I receive  an error message in debug mode( as described in the documentation)   sudo -u tunnel openvpn /etc/openvpn/openvpn.conf   user@host:/etc/openvpn$ sudo -u tunnel openvpn /etc/openvpn/openvpn.conf  Sat Jun  4 14:21:28 2016 OpenVPN 2.3.4 i586-pc-linux-gnu [SSL (OpenSSL)] [LZO..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ‚ù§" />
<meta property="article:published_time" content="2016-06-04T14:26:30+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="2544.html">OpenVpn issue Linux ip link set failed: external program exited with error status: 2</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zoltix'><span itemprop='name'>zoltix</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2544.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-06-04T14:26:30Z' class='post-time'>
                June 4, 2016,  2:26pm
              </time>
              <meta itemprop='dateModified' content='2016-06-04T14:35:52Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>hi,</p>
<p>Since I updated whonx 13, the vpn is not working. So I take a new virtual image for the gateway (virtual box)  and I followed the tutorial ‚Äú<a href="../../../external.html?link=https://www.whonix.org/wiki/Tunnels/Connecting_to_a_VPN_before_Tor‚Äù" rel="nofollow noopener">https://www.whonix.org/wiki/Tunnels/Connecting_to_a_VPN_before_Tor‚Äù</a></p>
<p>And I receive  an error message in debug mode( as described in the documentation)</p>
<hr>
<p>sudo -u tunnel openvpn /etc/openvpn/openvpn.conf</p>
<hr>
<p>user@host:/etc/openvpn$ sudo -u tunnel openvpn /etc/openvpn/openvpn.conf<br>
Sat Jun  4 14:21:28 2016 OpenVPN 2.3.4 i586-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [MH] [IPv6] built on Nov 19 2015<br>
Sat Jun  4 14:21:28 2016 library versions: OpenSSL 1.0.1k 8 Jan 2015, LZO 2.08<br>
Enter Auth Username: ****<br>
Enter Auth Password: ********<br>
Sat Jun  4 14:21:32 2016 Socket Buffers: R=[87380-&gt;131072] S=[16384-&gt;131072]<br>
Sat Jun  4 14:21:32 2016 Attempting to establish TCP connection with [AF_INET]185.7.33.21:80 [nonblock]<br>
Sat Jun  4 14:21:33 2016 TCP connection established with [AF_INET]185.7.33.21:80<br>
Sat Jun  4 14:21:33 2016 TCPv4_CLIENT link local: [undef]<br>
Sat Jun  4 14:21:33 2016 TCPv4_CLIENT link remote: [AF_INET]185.7.33.21:80<br>
Sat Jun  4 14:21:33 2016 TLS: Initial packet from [AF_INET]185.7.33.21:80, sid=8510eb3c 52b05311<br>
Sat Jun  4 14:21:33 2016 VERIFY OK: depth=2, C=BE, O=GlobalSign nv-sa, OU=Root CA, CN=GlobalSign Root CA<br>
Sat Jun  4 14:21:33 2016 VERIFY OK: depth=1, O=AlphaSSL, CN=AlphaSSL CA - G2<br>
Sat Jun  4 14:21:33 2016 Validating certificate key usage<br>
Sat Jun  4 14:21:33 2016 ++ Certificate has key usage  00a0, expects 00a0<br>
Sat Jun  4 14:21:33 2016 VERIFY KU OK<br>
Sat Jun  4 14:21:33 2016 Validating certificate extended key usage<br>
Sat Jun  4 14:21:33 2016 ++ Certificate has EKU (str) TLS Web Server Authentication, expects TLS Web Server Authentication<br>
Sat Jun  4 14:21:33 2016 VERIFY EKU OK<br>
Sat Jun  4 14:21:33 2016 VERIFY OK: depth=0, OU=Domain Control Validated, CN=<em>.earthvpn.com<br>
Sat Jun  4 14:21:33 2016 Data Channel Encrypt: Cipher ‚ÄòAES-256-CBC‚Äô initialized with 256 bit key<br>
Sat Jun  4 14:21:33 2016 Data Channel Encrypt: Using 160 bit message hash ‚ÄòSHA1‚Äô for HMAC authentication<br>
Sat Jun  4 14:21:33 2016 Data Channel Decrypt: Cipher ‚ÄòAES-256-CBC‚Äô initialized with 256 bit key<br>
Sat Jun  4 14:21:33 2016 Data Channel Decrypt: Using 160 bit message hash ‚ÄòSHA1‚Äô for HMAC authentication<br>
Sat Jun  4 14:21:33 2016 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA<br>
Sat Jun  4 14:21:33 2016 [</em>.earthvpn.com] Peer Connection Initiated with [AF_INET]185.7.33.21:80<br>
Sat Jun  4 14:21:35 2016 SENT CONTROL [*.earthvpn.com]: ‚ÄòPUSH_REQUEST‚Äô (status=1)<br>
Sat Jun  4 14:21:37 2016 PUSH: Received control message: 'PUSH_REPLY,ping 3,ping-restart 10,ifconfig 192.168.179.29 192.168.179.30,dhcp-option DOMAIN <a href="../../../external.html?link=http://earthvpn.com/" rel="nofollow noopener">earthvpn.com</a>,dhcp-option DNS 8.8.8.8,dhcp-option DNS 8.8.4.4,route-gateway 192.168.179.30,redirect-gateway def1‚Äô<br>
Sat Jun  4 14:21:37 2016 OPTIONS IMPORT: timers and/or timeouts modified<br>
Sat Jun  4 14:21:37 2016 OPTIONS IMPORT: --ifconfig/up options modified<br>
Sat Jun  4 14:21:37 2016 OPTIONS IMPORT: route options modified<br>
Sat Jun  4 14:21:37 2016 OPTIONS IMPORT: route-related options modified<br>
Sat Jun  4 14:21:37 2016 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified<br>
Sat Jun  4 14:21:37 2016 ROUTE_GATEWAY 10.0.2.2/255.255.255.0 IFACE=eth0 HWADDR=08:00:27:b7:49:35<br>
Sat Jun  4 14:21:37 2016 TUN/TAP device tun0 opened<br>
Sat Jun  4 14:21:37 2016 Note: Cannot set tx queue length on tun0: Operation not permitted (errno=1)<br>
Sat Jun  4 14:21:37 2016 do_ifconfig, tt-&gt;ipv6=0, tt-&gt;did_ifconfig_ipv6_setup=0<br>
Sat Jun  4 14:21:37 2016 /sbin/ip link set dev tun0 up mtu 1500<br>
RTNETLINK answers: Operation not permitted<br>
Sat Jun  4 14:21:37 2016 Linux ip link set failed: external program exited with error status: 2<br>
Sat Jun  4 14:21:37 2016 Exiting due to fatal error</p>
<hr>
<p>In troubleshooting, the documentation said ‚ÄúUse ip_unpriv as documented above‚Äù.  But I don‚Äôt understand, it‚Äôs not clear for me. what should I do with this instruction</p>
<pre><code>ip_unpriv vs ip-unpriv[edit]
Note:
Whonix TUNNEL_FIREWALL uses ip_unpriv (underscore)
Standalone VPN-FIREWALL uses ip-unpriv (hyphen)
</code></pre>
<p>Do you have more instruction or d√©tails?<br>
Thank you for your help.</p>
<p>details openvpn.conf</p>
<p>client<br>
dev tun0<br>
proto tcp<br>
remote 185.7.33.21 80<br>
resolv-retry infinite<br>
nobind<br>
persist-key<br>
persist-tun<br>
ca /etc/openvpn/earthvpn.crt<br>
auth-user-pass<br>
auth-nocache<br>
remote-cert-tls server<br>
reneg-sec 0<br>
verb 3<br>
auth SHA1<br>
cipher AES-256-CBC</p>
<hr>
<p>50_user.conf</p>
<p><code>###########################</code>## VPN-Firewall Settings ##<br>
`###########################</p>
<p><code>## Make sure Tor always connects through the VPN.</code>## Enable: 1<br>
<code>## Disable: 0</code>## DISABELD BY DEFAULT, because it requires a VPN provider.`<br>
VPN_FIREWALL=1</p>
<p><code>## For OpenVPN.</code>#VPN_INTERFACE=tun0</p>
<p><code>## Destinations you don not want routed through the VPN.</code>## 10.0.2.2-10.0.2.24: VirtualBox DHCP<br>
<code># LOCAL_NET="\</code>#         127.0.0.0-127.0.0.24 <br>
<code># 192.168.0.0-192.168.0.24 \</code>#         192.168.1.0-192.168.1.24 <br>
<code># 10.152.152.0-10.152.152.24 \</code>#         10.0.2.2-10.0.2.24 <br>
`#      "</p>
<hr>
<p>/etc/sudoers.d/tunnel_unpriv</p>
<p><code>## This file is part of Whonix.</code>## Copyright ¬© 2012 - 2014 Patrick Schleizer <a href="mailto:adrelanos@riseup.net">adrelanos@riseup.net</a><br>
`## See the file COPYING for copying conditions.</p>
<p>tunnel ALL=(ALL) NOPASSWD: /bin/ip<br>
tunnel ALL=(ALL) NOPASSWD: /usr/sbin/openvpn *<br>
Defaults:tunnel !requiretty<br>
~<br>
~<br>
~</p>
        </div>

        <meta itemprop='headline' content='OpenVpn issue Linux ip link set failed: external program exited with error status: 2'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2544.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-06-04T20:07:39Z' class='post-time'>
                June 4, 2016,  8:07pm
              </time>
              <meta itemprop='dateModified' content='2016-06-04T20:07:39Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Search the wiki page for <code>ip_unpriv</code> to see what is missing in your openvpn.conf.</p>
        </div>

        <meta itemprop='headline' content='OpenVpn issue Linux ip link set failed: external program exited with error status: 2'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zoltix'><span itemprop='name'>zoltix</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2544.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-06-05T17:50:07Z' class='post-time'>
                June 5, 2016,  5:50pm
              </time>
              <meta itemprop='dateModified' content='2016-06-05T17:50:07Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I found my issue, I needed to add ‚Äúiproute /usr/bin/ip_unpriv‚Äù without forgetting to modify ‚Äúdev tun‚Äù to ‚Äúdev tun0‚Äù and add the Unprivileged mode "iproute /usr/bin/ip_unpriv " in /etc/openvpn/openvpn.conf.</p>
<p>In fact, I thought that I could just do a copy the config from my vpn provider to /etc/openvpn/openvpn.conf‚Äù.  it was my mistake.</p>
<p>Perhaps, you should add remark about that in documentation that will easier.</p>
        </div>

        <meta itemprop='headline' content='OpenVpn issue Linux ip link set failed: external program exited with error status: 2'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/entr0py'><span itemprop='name'>entr0py</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2544.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-06-05T21:39:07Z' class='post-time'>
                June 5, 2016,  9:39pm
              </time>
              <meta itemprop='dateModified' content='2016-06-05T21:39:07Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="3" data-topic="2544">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/z/258eb7/40.png" class="avatar"> zoltix:</div>
<blockquote>
<p>Perhaps, you should add remark about that in documentation that will easier.</p>
</blockquote>
</aside>
<p>Ok.<br>
Outline:</p>
<ol>
<li>Configure Firewall</li>
<li>Configure User: tunnel</li>
<li>Configure OpenVPN &amp; DNS<br>
(Same as usual plus these changes. Sample config at the end.)</li>
<li>Running OpenVPN<br>
(1. systemd, 2. command-line)</li>
<li>Troubleshooting</li>
<li>Sample Config</li>
<li>Sample Scripts</li>
</ol>
<p>Also, the entire tunnel section needs to provide the option of using ProxyVMs for Qubes users.</p>
        </div>

        <meta itemprop='headline' content='OpenVpn issue Linux ip link set failed: external program exited with error status: 2'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2544.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-06-05T21:47:03Z' class='post-time'>
                June 5, 2016,  9:47pm
              </time>
              <meta itemprop='dateModified' content='2016-06-05T21:47:03Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Zoltix:</p>
<blockquote>
<p>Perhaps, you should add remark about that in documentation that will easier.</p>
</blockquote>
<p>Where? Can you just edit it?</p>
        </div>

        <meta itemprop='headline' content='OpenVpn issue Linux ip link set failed: external program exited with error status: 2'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2544.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-06-05T22:32:30Z' class='post-time'>
                June 5, 2016, 10:32pm
              </time>
              <meta itemprop='dateModified' content='2016-06-05T22:32:30Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="4" data-topic="2544">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Outline:</p>
</blockquote>
</aside>
<aside class="quote" data-post="4" data-topic="2544">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Sample Config</p>
</blockquote>
</aside>
<p>Isn‚Äôt the current approach where the whole walkthrough is an example already not good?</p>
<aside class="quote" data-post="4" data-topic="2544">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Also, the entire tunnel section needs to provide the option of using ProxyVMs for Qubes users.</p>
</blockquote>
</aside>
<p>I don‚Äôt understand. Turning anon-whonix AppVM into a ProxyVM? I guess that is a bigger discussion. And non-trivial.</p>
        </div>

        <meta itemprop='headline' content='OpenVpn issue Linux ip link set failed: external program exited with error status: 2'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/entr0py'><span itemprop='name'>entr0py</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2544.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-06-06T04:12:18Z' class='post-time'>
                June 6, 2016,  4:12am
              </time>
              <meta itemprop='dateModified' content='2016-06-06T04:12:18Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="6" data-topic="2544">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Isn‚Äôt the current approach where the whole walkthrough is an example already not good?</p>
</blockquote>
</aside>
<p>I think <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/zoltix">@Zoltix</a>‚Äôs point is that users who are already familiar with openvpn will skip the vpn configuration section not realizing that there are tunnel-specific requirements in the .conf file. Might make more sense to provide Whonix-specific VPN configuration and leave the <a href="../../../external.html?link=http://riseup.net/">riseup.net</a> example in a collapsed section. VPN configs are so provider-specific that users really should be directed to their provider for config assistance. As the intro says, ‚Äúget it working in debian then put it in whonix and make these changes‚Ä¶‚Äù</p>
<aside class="quote" data-post="6" data-topic="2544">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I don‚Äôt understand. Turning anon-whonix AppVM into a ProxyVM? I guess that is a bigger discussion. And non-trivial.</p>
</blockquote>
</aside>
<p>No, not that involved. Just letting Whonix users know that tunneling scenarios can be replicated in Qubes by using non-Whonix ProxyVMs and then pointing them to appropriate docs on Qubes side. Advantage of using separate proxyVM: easily tunnel multiple whonix vm‚Äôs through one proxy. Advantage of not using proxyVM: less chance of de-anonymization through user error, especially for proxies intended for dedicated use with 1 vm.</p>
        </div>

        <meta itemprop='headline' content='OpenVpn issue Linux ip link set failed: external program exited with error status: 2'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2544.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-06-06T12:28:16Z' class='post-time'>
                June 6, 2016, 12:28pm
              </time>
              <meta itemprop='dateModified' content='2016-06-06T12:28:16Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="7" data-topic="2544">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>No, not that involved. Just letting Whonix users know that tunneling scenarios can be replicated in Qubes by using non-Whonix ProxyVMs and then pointing them to appropriate docs on Qubes side. Advantage of using separate proxyVM: easily tunnel multiple whonix vm‚Äôs through one proxy. Advantage of not using proxyVM: less chance of de-anonymization through user error, especially for proxies intended for dedicated use with 1 vm.</p>
</blockquote>
</aside>
<p>Yes, that would be useful.</p>
<aside class="quote" data-post="7" data-topic="2544">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>I think <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/zoltix">@Zoltix</a>‚Äôs point is that users who are already familiar with openvpn will skip the vpn configuration section not realizing that there are tunnel-specific requirements in the .conf file. Might make more sense to provide Whonix-specific VPN configuration and leave the <a href="../../../external.html?link=http://riseup.net/">riseup.net</a> example in a collapsed section. VPN configs are so provider-specific that users really should be directed to their provider for config assistance. As the intro says, ‚Äúget it working in debian then put it in whonix and make these changes‚Ä¶‚Äù</p>
</blockquote>
</aside>
<p>I see. I think the walkthrough currently using a a specific example, riseup, is fine. In my experience, most users have more difficult times with abstract walkthroughs followed by examples to a point where the abstract gets negligible.</p>
<p>As for skipping the VPN configuration chapter, perhaps there just should be an explanation or own chapter with a distinctive name that the VPN configuration chapter should not be totally skipped as it contains required changes.</p>
<p>I‚Äôve improved <a href="../../../external.html?link=https://www.whonix.org/wiki/Template:VPN-Firewall/Troubleshooting#ip_unpriv_vs_ip-unpriv">https://www.whonix.org/wiki/Template:VPN-Firewall/Troubleshooting#ip_unpriv_vs_ip-unpriv</a> for more clarity.</p>
        </div>

        <meta itemprop='headline' content='OpenVpn issue Linux ip link set failed: external program exited with error status: 2'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2544.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-11-12T23:36:10Z' class='post-time'>
                November 12, 2016, 11:36pm
              </time>
              <meta itemprop='dateModified' content='2016-11-12T23:36:10Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="9" data-topic="2544">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/z/258eb7/40.png" class="avatar"> zoltix:</div>
<blockquote>
<p>config for ‚Ä¶</p>
</blockquote>
</aside>
<p>I deleted that config, because you posted your private key. A bad mistake. Nevertheless you should now consider that vpn account compromised, since this is a public forum.</p>
        </div>

        <meta itemprop='headline' content='OpenVpn issue Linux ip link set failed: external program exited with error status: 2'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
