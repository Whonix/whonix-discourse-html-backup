<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>DispVM Whonix WS creation</title>
    <link>http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441</link>
    <description>Hi,

I seem to be having a similar problem that Patrick posted here &amp; in qubes-issues when creating a whonix disposableVM. I always get:

Failed to save to domain whonix-ws-dvm to /var/lib.....
error: internal error: Failed to save domain &#39;xx&#39; with libxenlight

The strange thing is that if I try to create a non-whonix-based dispvm - even straight after this error - it works. It only fails for my whonix-ws &amp; any other whonix based template.

I am trying this on a laptop with only 4GB RAM - on my own laptop what has 12GB - it works. But as I said - if it was a memory issue - why does it work for any non-whonix based template? 

Seems strange. 

Patrick - you seems to have the same error before - did you overcome it??</description>
    <language>en</language>
    <lastBuildDate>Wed, 25 Jan 2017 13:49:56 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>DispVM Whonix WS creation</title>
        <dc:creator><![CDATA[techquest]]></dc:creator>
        <description><![CDATA[
            <p>Just to update  - as soon as I updated the RAM from 4GB to 8GB - the whonix DispVM was created without any problem.</p>
<p>But it’s strange that larger templates could be used for dispvms with only 4GB.</p>
<p>Anyway - it’s working fine now.</p>
          <p><a href="http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441/5</link>
        <pubDate>Wed, 25 Jan 2017 13:49:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3441-5</guid>
        <source url="http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441.rss">DispVM Whonix WS creation</source>
      </item>
      <item>
        <title>DispVM Whonix WS creation</title>
        <dc:creator><![CDATA[techquest]]></dc:creator>
        <description><![CDATA[
            <p>I’ll try on the Qubes mailing list (I wish they had a forum!!).</p>
<p>Torjunkie - there’s another 8GB on order to add to the 4GB - it’s a colleague’s laptop actually, I run Qubes with 12GB without any problems. The strange thing is - the 4GB laptop can create a dvm from any other non-whonix template - even a very large customised fedora-24 template that’s 2x the size of whonix-ws.</p>
          <p><a href="http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441/4</link>
        <pubDate>Thu, 19 Jan 2017 14:46:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3441-4</guid>
        <source url="http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441.rss">DispVM Whonix WS creation</source>
      </item>
      <item>
        <title>DispVM Whonix WS creation</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>If I understand it correctly, it is probably a low memory error. See here - although this was ‘starting’ not ‘creating’ dispVM I think (?):</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/QubesOS/qubes-issues/issues/2482" target="_blank" rel="nofollow noopener">github.com/QubesOS/qubes-issues</a>
  </header>
  <article class="onebox-body">
    <a href="https://github.com/adrelanos" rel="nofollow noopener">
<img src="https://avatars1.githubusercontent.com/u/1985040?v=2&amp;s=96" class="thumbnail onebox-avatar" width="96" height="96">
</a>

<h4><a href="https://github.com/QubesOS/qubes-issues/issues/2482" target="_blank" rel="nofollow noopener">Issue: DispVM start error - error: internal error: Failed to save domain '30' with libxenlight</a></h4>

<div class="date" style="margin-top:10px;">
	<div class="user" style="margin-top:10px;">
	opened by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
	on <a href="https://github.com/QubesOS/qubes-issues/issues/2482" target="_blank" rel="nofollow noopener">2016-12-04</a>
	</div>
	<div class="user">
	</div>
</div>

<pre class="content" style="white-space: pre-wrap;">Qubes OS version (e.g., R3.2):
R3.2 with testing repository.
Affected TemplateVMs (e.g., fedora-23, if applicable):
whonix-ws (but probably not a template issue)
Actual behavior:
/usr/lib/qubes/qfile-daemon-dvm qubes.VMShell...</pre>

<div class="labels">
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">C: core</span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>So, based on Marek’s advice and Patrick’s eventual successful DispVM generation, you could probably:</p>
<p>a) First try shutting down every VM that is not needed before creation of the DispVM i.e. all of them before this step in dom0:</p>
<pre><code>qvm-create-default-dvm whonix-ws
</code></pre>
<p>b) If that doesn’t work, try leaving the laptop idle for a period of time before re-trying, since that appears to have worked for Patrick (?)</p>
<p>4GB is not a lot of memory for Qubes. If you have sys-net, sys-firewall, sys-whonix, dom-0 and sys-usb running already, then understandably the system is probably on the verge of dying with a couple more VMs. But yeah, strange if a standard DispVM works.</p>
<p>Qubes should probably be run with 12-16 GB as desirable, with 8GB the bare minimum for normal functional use, even though the docs say 4 GB is okay.</p>
          <p><a href="http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441/3</link>
        <pubDate>Mon, 16 Jan 2017 14:41:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3441-3</guid>
        <source url="http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441.rss">DispVM Whonix WS creation</source>
      </item>
      <item>
        <title>DispVM Whonix WS creation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This actually belongs to the Qubes help channels, because the issue is happening in dom0, not inside Qubes-Whonix.</p>
          <p><a href="http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441/2</link>
        <pubDate>Mon, 16 Jan 2017 14:05:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3441-2</guid>
        <source url="http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441.rss">DispVM Whonix WS creation</source>
      </item>
      <item>
        <title>DispVM Whonix WS creation</title>
        <dc:creator><![CDATA[techquest]]></dc:creator>
        <description><![CDATA[
            <p>Hi,</p>
<p>I seem to be having a similar problem that Patrick posted here &amp; in qubes-issues when creating a whonix disposableVM. I always get:</p>
<p>Failed to save to domain whonix-ws-dvm to /var/lib…<br>
error: internal error: Failed to save domain ‘xx’ with libxenlight</p>
<p>The strange thing is that if I try to create a non-whonix-based dispvm - even straight after this error - it works. It only fails for my whonix-ws &amp; any other whonix based template.</p>
<p>I am trying this on a laptop with only 4GB RAM - on my own laptop what has 12GB - it works. But as I said - if it was a memory issue - why does it work for any non-whonix based template?</p>
<p>Seems strange.</p>
<p>Patrick - you seems to have the same error before - did you overcome it??</p>
          <p><a href="http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441/1</link>
        <pubDate>Mon, 16 Jan 2017 13:47:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3441-1</guid>
        <source url="http://forums.whonix.org/t/dispvm-whonix-ws-creation/3441.rss">DispVM Whonix WS creation</source>
      </item>
  </channel>
</rss>
