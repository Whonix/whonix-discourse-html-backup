<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Tor Exit DNS Harms Privacy - General Tor and Anonymity Talk - Whonix Forum</title>
    <meta name="description" content="Turns out using google-meek made users especially vulnerable to this type of attack. Where should warnings about this be included? in the vpn endpoint warning page? the bridges page? https://nymity.ch/tor-dns/tor-dns.pdf &amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="3009.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Tor Exit DNS Harms Privacy&#39;" href="3009.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/tor-exit-dns-harms-privacy/3009?u=ego" />
<meta name="twitter:url" content="https://forums.whonix.org/t/tor-exit-dns-harms-privacy/3009?u=ego" />
<meta property="og:title" content="Tor Exit DNS Harms Privacy" />
<meta name="twitter:title" content="Tor Exit DNS Harms Privacy" />
<meta property="og:description" content="Turns out using google-meek made users especially vulnerable to this type of attack. Where should warnings about this be included? in the vpn endpoint warning page? the bridges page?" />
<meta name="twitter:description" content="Turns out using google-meek made users especially vulnerable to this type of attack. Where should warnings about this be included? in the vpn endpoint warning page? the bridges page?" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="4 ‚ù§" />
<meta property="article:published_time" content="2016-09-29T00:31:48+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="3009.html">Tor Exit DNS Harms Privacy</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/general-tor-and-anonymity-talk/10.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #92278F'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>General Tor and Anonymity Talk</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3009.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-09-29T00:31:48Z' class='post-time'>
                September 29, 2016, 12:31am
              </time>
              <meta itemprop='dateModified' content='2016-09-29T00:31:48Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Turns out using google-meek made users especially vulnerable to this type of attack. Where should warnings about this be included? in the vpn endpoint warning page? the bridges page?<br>
<aside class="onebox pdf">
  <header class="source">
      <a href="../../../external.html?link=https://nymity.ch/tor-dns/tor-dns.pdf" target="_blank" rel="nofollow noopener">nymity.ch</a>
  </header>
  <article class="onebox-body">
    <a href="../../../external.html?link=https://nymity.ch/tor-dns/tor-dns.pdf" target="_blank" rel="nofollow noopener"><span class="pdf-onebox-logo"></span></a>
<h3><a href="../../../external.html?link=https://nymity.ch/tor-dns/tor-dns.pdf" target="_blank" rel="nofollow noopener">tor-dns.pdf</a></h3>

<p class="filesize">423.83 KB</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
        </div>

        <meta itemprop='headline' content='Tor Exit DNS Harms Privacy'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../the-effect-of-dns-on-tors-anonymity/3030/2.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../the-effect-of-dns-on-tors-anonymity/3030/2.html'>
                      <span itemprop='name'>The Effect of DNS on Tor&#39;s Anonymity</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3009.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-01T19:05:08Z' class='post-time'>
                October 1, 2016,  7:05pm
              </time>
              <meta itemprop='dateModified' content='2016-10-01T19:05:08Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Good question. I see you already added it here:</p>
<p><a href="../../../external.html?link=https://www.whonix.org/w/index.php?title=Bridges&amp;type=revision&amp;diff=25825&amp;oldid=25214">https://www.whonix.org/w/index.php?title=Bridges&amp;type=revision&amp;diff=25825&amp;oldid=25214</a></p>
<p>Should suffice?</p>
        </div>

        <meta itemprop='headline' content='Tor Exit DNS Harms Privacy'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3009.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-01T21:04:50Z' class='post-time'>
                October 1, 2016,  9:04pm
              </time>
              <meta itemprop='dateModified' content='2016-10-01T21:04:50Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Tor Exit DNS Harms Privacy'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/torjunkie'><span itemprop='name'>torjunkie</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3009.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-05T20:01:28Z' class='post-time'>
                October 5, 2016,  8:01pm
              </time>
              <meta itemprop='dateModified' content='2016-10-05T20:01:28Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox pdf">
  <header class="source">
      <a href="../../../external.html?link=https://nymity.ch/tor-dns/tor-dns.pdf" target="_blank" rel="nofollow noopener">nymity.ch</a>
  </header>
  <article class="onebox-body">
    <a href="../../../external.html?link=https://nymity.ch/tor-dns/tor-dns.pdf" target="_blank" rel="nofollow noopener"><span class="pdf-onebox-logo"></span></a>
<h3><a href="../../../external.html?link=https://nymity.ch/tor-dns/tor-dns.pdf" target="_blank" rel="nofollow noopener">tor-dns.pdf</a></h3>

<p class="filesize">423.83 KB</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p><strong>Abstract</strong> (my emphasis throughout)</p>
<blockquote>
<p>Previous attacks that link the sender and receiver of traffic in the Tor network (‚Äúcorrelation attacks‚Äù) have generally relied  on  analyzing  traffic  from  TCP  connections.  The  TCP connections  of  a  typical  client  application,  however,  are  often accompanied  by  DNS  requests  and  responses.  This  additional traffic  presents  more  opportunities  for  correlation  attacks.</p>
</blockquote>
<blockquote>
<p>This paper quantifies how DNS traffic can make Tor users more vulnerable to correlation attacks. <strong>We investigate how incorporating DNS traffic can make existing correlation attacks more powerful and  how  DNS  lookups  can  leak  information  to  third  parties about  anonymous  communication.</strong>  We (i) develop  a  method  to identify  the  DNS  resolvers  of  Tor  exit  relays; (ii) develop  a  new set of correlation attacks (DefecTor attacks) that incorporate DNS traffic to improve precision; (iii) analyze the Internet-scale effects of  these  new  attacks  on  Tor  users;  and  (iv)  develop  improved methods to evaluate correlation attacks. First, we find that there exist adversaries who can mount DefecTor attacks: for example, <strong>Google‚Äôs DNS resolver observes almost 40% of all DNS requests exiting  the  Tor  network.</strong></p>
</blockquote>
<blockquote>
<p>We  also  find  that  DNS  requests  often traverse  ASes  that  the  corresponding  TCP  connections  do  not transit,  enabling  additional  ASes  to  gain  information  about  Tor users‚Äô traffic. <strong>We then show that an adversary who can mount a DefecTor attack can often determine the website that a Tor user is  visiting  with  perfect  precision,  particularly  for  less  popular websites where the set of DNS names associated with that website may  be  unique  to  the  site.</strong>  We  also  use  the  Tor  Path  Simulator (TorPS) in combination with traceroute data from vantage points co-located with Tor exit relays to estimate the power of AS-level adversaries  who  might  mount  DefecTor  attacks  in  practice.</p>
</blockquote>
<p><strong>Key Take Home Messages</strong></p>
<p>I‚Äôll save you reading the academic paper if you are time-poor:</p>
<p><strong>1.</strong> Correlation Attacks using TCP flows are greatly enhanced by also doing DNS request traffic correlation.<br>
<strong>2.</strong> Attackers observing occasional DNS requests may still be able to link both ends of the communication, even if they can‚Äôt observe TCP traffic between the Tor exit and the server.<br>
<strong>3.</strong> Loading a single webpage can generate hundreds of DNS requests to many different domains.<br>
<strong>4.</strong> The way Tor exit relays are currently configured means that Google (yes, your good friend Google) are in a central position to deanonymize Tor users if they so wished, as 40% of the Tor bandwidth uses Google‚Äôs public DNS servers to resolve DNS queries.<br>
<strong>5.</strong> Note: simply increasing the scale of the Tor network itself is not much of a defense against this fingerprinting technique.<br>
<strong>6.</strong> Less frequently visited websites - the kind that privacy-conscious people like to visit e.g. Wikileaks, Whonix etc. - are more prone to deanonymization.<br>
<strong>7.</strong> Not all Tor client (browser) locations are equal. The data suggests you will be de-anonymized in a shorter average period due to network effects in France, Germany and Russia than in (ironically) the US or UK.<br>
<strong>8.</strong> Website Tor fingerprinting defenses are needed now more than ever, due to the increased precision possible with this attack. That is, Tor developers need to ASAP implement padding as per Torspec <span class="hashtag">#254</span>. See:<br>
<a href="../../../external.html?link=https://gitweb.torproject.org/torspec.git/tree/proposals/254-padding-negotiation.txt*" class="onebox" target="_blank">https://gitweb.torproject.org/torspec.git/tree/proposals/254-padding-negotiation.txt*</a></p>
<p>*This comes with significant network overhead and requires specific fine-tuning, which is why it hasn‚Äôt yet been implemented.</p>
<p><strong>Short-term solutions for Tor developers and Tor exit relay operators:</strong></p>
<blockquote>
<p><strong>Exit relay operators should avoid public resolvers such as Google and OpenDNS.</strong> Instead, they should either use the resolvers provided by their ISP, or run their own, particularly if the operator‚Äôs ISP already  hosts  many  other  exit  relays.  Local  resolvers  can  further  be optimized to minimize information leakage, by (for example) enabling QNAME minimization.</p>
</blockquote>
<blockquote>
<p>In addition to making recommendations to exit relay operators, we can remotely influence the cache of each exit relay‚Äôs resolver.  For  example,  using exitmap,  we  can  continuously resolve potentially sensitive domains over each exit relay, right before its TTL is about to expire. In such a setup, an attacker gains no advantage from observing DNS traffic from the exit relays  because  the  domain  is  always  in  every  exit  relay‚Äôs resolver  cache.  This  approach  scales  poorly,  considering  the potentially large number of domain names that would need to be cached (recall that the long tail of unpopular sites are most vulnerable  to  DefecTor  attacks),  but  it  allows  us  to  eliminate DNS-based correlation attacks for a select number of sites.</p>
</blockquote>
<blockquote>
<p>Finally,  Tor  can  fix  the  Tor  clipping  bug  we  discovered and  consider  significantly  increasing  the  minimum  TTL  for the  DNS  cache  at  exit  relays  to  make  DefecTor  attacks  less precise. This adjustment requires finding the longest acceptable TTL  that  does  not  have  a  notable  negative  detriment  to  user experience.  Further,  as  soon  as  the  clipping  bug  is  fixed,website operators of sensitive websites can opt to increase the TTL of their DNS records.</p>
</blockquote>
<p><strong>Long-term solutions for Tor developers:</strong></p>
<blockquote>
<p><strong>Zhu et  al. proposed  T-DNS,  which  employs several TCP optimizations to transport the DNS protocol over  TLS  and  TCP.</strong>  The  TLS  layer  provides  confidentiality between exit relays and their resolvers. <strong>Finally, site operators whose  users  are  particularly  concerned  about  safety  should</strong><br>
<strong>offer an onion service as an alternative.</strong> Facebook, for example, set  up facebookcorewwwi.onion.  When  connecting  to  the onion service, Tor users never leave the Tor network, and hence do not need DNS (as long as the onion service does not embed non-onion service content).</p>
</blockquote>
<blockquote>
<p><strong>Deploying  defenses  against  website  fingerprinting  attacks in  Tor [noted in point 8 above] should  be  an  important  long-term  goal,  as  well.</strong>  Although  growing  the  Tor  network  will  help  defend  against DefecTor  attacks  to  some  degree,  the  most  important  change is  to  deploy  defenses  against  these  attacks  in  the  first  place. Since   DefecTor   attacks   significantly   increase   precision   of website fingerprinting attacks, defenses should be designed to significantly reduce the recall of website fingerprinting attacks, even  when  the  website  fingerprinting  attack  is  configured  to sacrifice precision for recall.</p>
</blockquote>
        </div>

        <meta itemprop='headline' content='Tor Exit DNS Harms Privacy'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/entr0py'><span itemprop='name'>entr0py</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3009.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-05T19:55:30Z' class='post-time'>
                October 5, 2016,  7:55pm
              </time>
              <meta itemprop='dateModified' content='2016-10-05T19:55:30Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I read the parts of the paper I could understand (meaning: not so much). Here‚Äôs what I took away as an end-user:</p>
<p>For a Tor user to be de-anonymized with a traffic correlation attack, we usually assume that an adversary has to have visibility on both endpoints (or related ISPs). According to the paper, it is sufficient for the adversary to have visibility on entry and visibility on some of the DNS traffic. Exit TCP traffic is not necessary.</p>
<p>In specific, real-world terms, this means that a US-based Tor user has a frighteningly high chance of being de-anonymized by an American intelligence agency who has cooperation from a large national ISP as well as a large public DNS provider, like Google. Where it might have been difficult for said intelligency agency to obtain cooperation from foreign ISPs or to capture a significant percentage of exit nodes to observe TCP traffic, the paper (if correct) would render that effort unneccessary. With just Google &amp; OpenDNS cooperation, the agency would have visibility on 50% of the DNS requests coming from the Tor network. And the entry visibility could easily be provided by ISPs that have cooperated with the NSA in the past (ie PRISM).</p>
<aside class="quote" data-post="1" data-topic="3030">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"><a href="../the-effect-of-dns-on-tors-anonymity/3030/1">The Effect of DNS on Tor's Anonymity</a>
</div>
<blockquote>
<p>solutions for Tor developers and Tor exit relay operators</p>
</blockquote>
</aside>
<p>What about Tor clients?</p>
<p>Is it possible to route DnsPort traffic to a personal hidden service hosting a DNS server? Of course, it‚Äôs possible for this server to come under surveillance. The idea is to avoid lookups via Google, OpenDNS, OVH, as mentioned in the paper - the big targets. If an adversary has the means to observe every packet everywhere, they could just as easily mount a TCP correlation attack.</p>
        </div>

        <meta itemprop='headline' content='Tor Exit DNS Harms Privacy'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Ego'><span itemprop='name'>Ego</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3009.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-05T20:00:41Z' class='post-time'>
                October 5, 2016,  8:00pm
              </time>
              <meta itemprop='dateModified' content='2016-10-05T20:00:41Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Good day,</p>
<p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a> actually already made a thread for this: <a href="30093017.html?u=ego">Tor Exit DNS Harms Privacy</a></p>
<p>Therefore, I merged the two.</p>
<p>Have a nice day,</p>
<p>Ego</p>
        </div>

        <meta itemprop='headline' content='Tor Exit DNS Harms Privacy'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/torjunkie'><span itemprop='name'>torjunkie</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3009.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-13T15:25:13Z' class='post-time'>
                October 13, 2016,  3:25pm
              </time>
              <meta itemprop='dateModified' content='2016-10-13T15:25:13Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/ego">@Ego</a> <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
<p>Apologies! Don‚Äôt know how I missed it <img src="../../images/emoji/twitter/grinningae52.png?v=5" title=":grinning:" class="emoji" alt=":grinning:"> Just delete the other thread if you like.</p>
<p>In reply to <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/entr0py">@entr0py</a>  above re: safer Tor browser (client) use, the smarties out there suggest identifying the IPs directly for your favorite websites and avoiding DNS look-ups altogether.</p>
<ul>
<li>For instance, with <a href="../../../external.html?link=http://whonix.org/">whonix.org</a>, you can run the following in a terminal:</li>
</ul>
<blockquote>
<p>host -t a <a href="../../../external.html?link=http://whonix.org/">whonix.org</a></p>
</blockquote>
<p>Which provides the following output:</p>
<blockquote>
<p><a href="../../../external.html?link=http://whonix.org/">whonix.org</a> has address 94.23.250.81</p>
</blockquote>
<ul>
<li>Now, either bookmark this IP address or directly input it into the Tor browser to avoid DNS lookups (try it - it will resolve to <a href="../../../external.html?link=https://whonix.org/">https://whonix.org</a>). Your hosts file can also be used in this manner.</li>
</ul>
<p>I‚Äôll also quote Mirimir to summarize (hi buddy!), since he/she appears to know their shit. He/she suggests:</p>
<blockquote>
<p>They [researchers] posit an adversary that can 1) see your traffic to the Tor entry guard, 2) get (not just intercept) DNS requests from the Tor exit relay for websites that you visit, and 3) see what websites the Tor exit hits for you.</p>
</blockquote>
<blockquote>
<p>Apparently, the DNS lookup information enhances website fingerprinting,  where adversaries correlate packet patterns of website loading between  exit-relay and entry-guard traffic. <strong>Each website has a more-or-less  unique packet pattern over time, as various scripts run on each end, and  various resources are downloaded.</strong> Consider <a href="../../../external.html?link=http://hubblesite.org/gallery/wallpaper/">http://hubblesite.org/gallery/wallpaper/</a> for example. There are many images, with different sizes, that get downloaded in a particular order.</p>
</blockquote>
<p>Longer term, .onions need to proliferate, DNS resolution needs to be done entirely within the Tor network somehow and 3rd party resolvers need to be ditched altogether.</p>
<p>Letting Google have this kind of (potential) influence is like entrusting your 10 year old with a child molester while you enjoy a leisurely movie and  dinner. <img src="../../images/emoji/twitter/unamusedae52.png?v=5" title=":unamused:" class="emoji" alt=":unamused:"></p>
        </div>

        <meta itemprop='headline' content='Tor Exit DNS Harms Privacy'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3009.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-13T17:37:30Z' class='post-time'>
                October 13, 2016,  5:37pm
              </time>
              <meta itemprop='dateModified' content='2016-10-13T17:37:30Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Even if you manually resolve DNS to a website. That alone cannot be a big help. Since once you visit a webpage, far most websites will instruct your websever to fetch content from other sources which requires dns resolution. So you‚Äôd have to disable DNS resolution in your browser somehow. [Or as a strange workaround,</p>
<ul>
<li>remove proxy settings ( <a href="../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser#Remove_Proxy_Settings">https://www.whonix.org/wiki/Tor_Browser#Remove_Proxy_Settings</a> )</li>
<li>and disable Tor transparent DNS resolution ( <a href="../../../external.html?link=https://www.whonix.org/wiki/Stream_Isolation#Better_Protection">https://www.whonix.org/wiki/Stream_Isolation#Better_Protection</a> )</li>
</ul>
<p>But even if you had all of this sorted out somehow, in this case unfortunately it does not help if you are one of a few super secure people. For one, you stand out more than other users. But let‚Äôs ignore this. Worse so, everyone else could be deanonymized easier. And with all of them not secure, there would be no crowd to hide within (as per <a href="../../../external.html?link=http://freehaven.net/doc/wupss04/usability.pdf">anonymity loves company</a>).</p>
<p>//cc <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/mirimir">@mirimir</a> since mentioned above.</p>
        </div>

        <meta itemprop='headline' content='Tor Exit DNS Harms Privacy'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
