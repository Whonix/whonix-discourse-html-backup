<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix 11 on Qubes R3.0 - Taking ~50mins to establish Tor circuits</title>
    <link>http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465</link>
    <description>Hi,

I have a clean install of Qubes R3.0 and I have installed and updated the whonix-gw and whonix-ws templates and created their respective virtual machines, all as described in https://www.whonix.org/wiki/Qubes/Binary_Install#Next_Steps . I have not messed with any other settings and am not using AppArmor. 

When I start my whonix-gw based proxyVM it seems to take a VERY long time to connect to Tor. I have left arm open and documented the messages in the following screenshots

[img]http://anonmgur.com/up/e16b77be4a04f30cda2639dd753b0455.png[/img]

[img]http://anonmgur.com/up/34c7eab4304b6a163b96dbcc85d08a89.png[/img]

[img]http://anonmgur.com/up/5624d09cbb3bf6b8914c37446ade34f9.png[/img]

Once it finally manages to complete bootstrap timesync does it&#39;s thing and whonixcheck is happy and everything seems to work fine from then on. 

The whonix gateway is using the qubes default sys-firewall as it&#39;s netVM same as all the other appVMs on the system and these all have consistant internet access. Running the Tor browser bundle independently of whonix connects fine and takes ~12sec to establish a circuit which is why I am confused. I have not changed any settings and I am not using any bridges.

I have run multiple searches for information, looked through the wiki and the forums but I have not found anything that mirrors this particular problem. Maybe I am missing something obvious? I would appreciate any pointers on how to diagnose this issue. 

Regards,
Arene 

:EDIT: Apologies for the big ass images I should have just posted the log. Must be temporary brain damage :-/</description>
    <language>en</language>
    <lastBuildDate>Fri, 02 Oct 2015 22:22:44 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix 11 on Qubes R3.0 - Taking ~50mins to establish Tor circuits</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<p>sorry, if this may seem like a very rudimentary tip, but did you try installing the Gateway and Workstation a second time? Maybe something simply went wrong there, because your times seem really far longer than any scenario would justify. Furthermore, have you verified the images? Maybe they are simply faulty. Furthermore, does restarting and or reloading TOR in the Gateway show any kind of change on the logs?</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465/4</link>
        <pubDate>Fri, 02 Oct 2015 22:22:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1465-4</guid>
        <source url="http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465.rss">Whonix 11 on Qubes R3.0 - Taking ~50mins to establish Tor circuits</source>
      </item>
      <item>
        <title>Whonix 11 on Qubes R3.0 - Taking ~50mins to establish Tor circuits</title>
        <dc:creator><![CDATA[Arene]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for the reply Patrick.</p>
<p>My area is not censored as far as I know (although I don’t trust my ISP). I am writing this from Tor browser bundle in an appVM which connects without bridges in a matter of seconds. This is why I am confused by the behaviour of whonix Tor as they are both using the name clearnet proxyVM.</p>
<p>This problem has been going on for days and appears to be getting worse. The other day I was able to stay connected in irc long enough to have an argument with someone :-s but now it drops out before whonixcheck can finish. This last attempt took tor 1.5 hours to bootstrap 100% and whonixcheck passed but timesync failed (log shows requests timing out). Checking the second page in arm has shown 6 different guard nodes in the last 15 minutes and now it appears to have dropped all circuits. Would it be cycling through different entry guards due to communication issues?</p>
<p>:EDIT: Typos</p>
          <p><a href="http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465/3</link>
        <pubDate>Fri, 02 Oct 2015 12:37:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1465-3</guid>
        <source url="http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465.rss">Whonix 11 on Qubes R3.0 - Taking ~50mins to establish Tor circuits</source>
      </item>
      <item>
        <title>Whonix 11 on Qubes R3.0 - Taking ~50mins to establish Tor circuits</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Your Tor might have chosen a Tor entry guard, that is very slow. Although that is unlikely, because in order to get the entry guard flag, the relay has to be quite ‘good’.</p>
<p>Are you living in a censored area?</p>
<p>You could try using bridges, if that works better.</p>
<p>Let’s see if we get further such reports.</p>
          <p><a href="http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465/2</link>
        <pubDate>Fri, 02 Oct 2015 11:13:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1465-2</guid>
        <source url="http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465.rss">Whonix 11 on Qubes R3.0 - Taking ~50mins to establish Tor circuits</source>
      </item>
      <item>
        <title>Whonix 11 on Qubes R3.0 - Taking ~50mins to establish Tor circuits</title>
        <dc:creator><![CDATA[Arene]]></dc:creator>
        <description><![CDATA[
            <p>Hi,</p>
<p>I have a clean install of Qubes R3.0 and I have installed and updated the whonix-gw and whonix-ws templates and created their respective virtual machines, all as described in <a href="https://www.whonix.org/wiki/Qubes/Binary_Install#Next_Steps" rel="nofollow noopener">https://www.whonix.org/wiki/Qubes/Binary_Install#Next_Steps</a> . I have not messed with any other settings and am not using AppArmor.</p>
<p>When I start my whonix-gw based proxyVM it seems to take a VERY long time to connect to Tor. I have left arm open and documented the messages in the following screenshots</p>
<p><img src="http://anonmgur.com/up/e16b77be4a04f30cda2639dd753b0455.png" alt=""></p>
<p><img src="http://anonmgur.com/up/34c7eab4304b6a163b96dbcc85d08a89.png" alt=""></p>
<p><img src="http://anonmgur.com/up/5624d09cbb3bf6b8914c37446ade34f9.png" alt=""></p>
<p>Once it finally manages to complete bootstrap timesync does it’s thing and whonixcheck is happy and everything seems to work fine from then on.</p>
<p>The whonix gateway is using the qubes default sys-firewall as it’s netVM same as all the other appVMs on the system and these all have consistant internet access. Running the Tor browser bundle independently of whonix connects fine and takes ~12sec to establish a circuit which is why I am confused. I have not changed any settings and I am not using any bridges.</p>
<p>I have run multiple searches for information, looked through the wiki and the forums but I have not found anything that mirrors this particular problem. Maybe I am missing something obvious? I would appreciate any pointers on how to diagnose this issue.</p>
<p>Regards,<br>
Arene</p>
<p>:EDIT: Apologies for the big ass images I should have just posted the log. Must be temporary brain damage :-/</p>
          <p><a href="http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465/1</link>
        <pubDate>Fri, 02 Oct 2015 03:35:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1465-1</guid>
        <source url="http://forums.whonix.org/t/whonix-11-on-qubes-r3-0-taking-50mins-to-establish-tor-circuits/1465.rss">Whonix 11 on Qubes R3.0 - Taking ~50mins to establish Tor circuits</source>
      </item>
  </channel>
</rss>
