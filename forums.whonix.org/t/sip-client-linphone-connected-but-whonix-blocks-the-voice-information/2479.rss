<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>SIP client (Linphone) connected, but Whonix blocks the voice information.</title>
    <link>http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479</link>
    <description>Hello! Please, help me. I have troubles with SIP on Whonix.
Using Linphone client.  
I can connect to my sip-provider, and calls working ok - I can make outgoing and accept incoming 
calls. 

But in dialogue I can&#39;t hear anything, and my friend don&#39;t hears me. 
Microphone and headphones are working in Whonix. 
I think troubles in network. 

Using TCP (with UDP I can&#39;t connect to server).
Sorry for bad english.</description>
    <language>en</language>
    <lastBuildDate>Sun, 22 May 2016 23:43:51 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>SIP client (Linphone) connected, but Whonix blocks the voice information.</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>Really not a useful issue to solve but I can’t seem to let go cause it should be doable…</p>
<p>Best description and tips here: <a href="http://www.voip-info.org/wiki/view/NAT+and+VOIP">http://www.voip-info.org/wiki/view/NAT+and+VOIP</a></p>
<blockquote>
<p><strong>The Trouble with NAT and VOIP</strong><br>
In addition, the way in which conventional VoIP protocols are designed is also posing a problem to VoIP traffic passing through NAT. Conventional VoIP protocols only deal with the signalling of a telephone connection. The audio traffic is handled by another protocol and to make matters worse, the port on which the audio traffic is sent is random. The NAT router may be able to handle the signalling traffic, but it has no way of knowing that the audio traffic is related to the signalling and should hence be passed to the same device the signalling traffic is passed to. As a result, the audio traffic is not translated properly between the address spaces.</p>
</blockquote>
<blockquote>
<p>At first, for both the calling and the called party everything will appear just fine. The called party will see the calling party’s Caller ID and the telephone will ring while the calling party will hear a ringing feedback tone at the other end. When the called party picks up the telephone, both the ringing and the associated ringing feedback tone at the other end will stop as one would expect. However, the calling party will not hear the called party (one way audio) and the called party may not hear the calling party either (no audio).</p>
</blockquote>
<blockquote>
<p>The issue of NAT Traversal is a major problem for the widespread deployment of VOIP. Yet, the issue is non-trivial and there are no simple solutions.</p>
</blockquote>
<p><em>If you cannot avoid NAT, use IP Tunneling between VoIP devices on different LANs</em></p>
<p>Whonix wiki method via OnionCat.</p>
<p><em>Set up two forwarding entries the “Port Forwarding” (or similar) configuration form on the NAT configuration interface, each of which cause the NAT device to forward all traffic destined for the designated range of port numbers to the fixed IP address of the SIP phone:</em><br>
<em>SIP signaling: Ports 5060 to 5070</em><br>
<em>RTP audio: Ports 8766 to 35000</em></p>
<p>The challenge for Tor users is being able to tunnel UDP + forward all those ports. Obviously, public VPN is not going to work.</p>
<p>2 Options,</p>
<ol>
<li>host app locally and tunnel through a private vps</li>
<li>connect to vps normally over tcp and host linphone on the vps. forward audio.</li>
</ol>
<p>Not gonna test but marking it [solved] <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/7</link>
        <pubDate>Sun, 22 May 2016 23:43:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2479-7</guid>
        <source url="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479.rss">SIP client (Linphone) connected, but Whonix blocks the voice information.</source>
      </item>
      <item>
        <title>SIP client (Linphone) connected, but Whonix blocks the voice information.</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>OP wasn’t specific but description sounds like he’s trying to VOIP to a PSTN-connected SIP service provider (for calls to real phone numbers) and not voip-client to voip-client. So OnionCat is not applicable.</p>
<aside class="quote" data-post="1" data-topic="2479">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/d/4af34b/40.png" class="avatar"> dig:</div>
<blockquote>
<p>Using TCP (with UDP I can’t connect to server).</p>
</blockquote>
</aside>
<p>You can’t connect via UDP because Tor doesn’t support it.<br>
TCP doesn’t work because all major SIP providers require UDP.<br>
But even if you tunnnel UDP over a VPN as I’ve tried, it still won’t work.</p>
<p>Problem isn’t SIP protocol. You can connect, even transfer DTMF tones. But you won’t get any audio because that’s transferred over RTP. RTP ports are not hard defined so you can’t forward ports through your vpn (if that’s necessary - might not be). And to be technical, it’s a dumb protocol (IIUC) and doesn’t route very smoothly.</p>
<p>If you’re willing to take some risks and/or spend some money, try Skype ( <a href="https://www.whonix.org/wiki/VoIP#Skype">https://www.whonix.org/wiki/VoIP#Skype</a> ). Haven’t tested but apparently it’s like a gopher when it comes to finding it’s way through firewalls. IIRC even Google Voice needs UDP. Just brainstorming, you could put linphone on a vps and route from there - but now we’re really reaching. Lots of easier, safer ways to communicate.</p>
          <p><a href="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/6</link>
        <pubDate>Sun, 22 May 2016 21:55:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2479-6</guid>
        <source url="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479.rss">SIP client (Linphone) connected, but Whonix blocks the voice information.</source>
      </item>
      <item>
        <title>SIP client (Linphone) connected, but Whonix blocks the voice information.</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Did you follow the detailed linphone instructions in the Whonix wiki step by step with onioncat and whatnot?</p>
          <p><a href="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/5</link>
        <pubDate>Sun, 22 May 2016 17:49:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2479-5</guid>
        <source url="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479.rss">SIP client (Linphone) connected, but Whonix blocks the voice information.</source>
      </item>
      <item>
        <title>SIP client (Linphone) connected, but Whonix blocks the voice information.</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>Haven’t tried in a while…</p>
<p>Not Whonix-specific issue - most likely your issue is SIP (RTP) over NAT:</p>
<p><a href="http://www.voip-info.org/wiki/view/NAT+and+VOIP" class="onebox" target="_blank">http://www.voip-info.org/wiki/view/NAT+and+VOIP</a></p>
<p>This sounds interesting:</p>
<blockquote>
<p>Linux kernel: Netfilter seems to have got a conntrack patch for sip/rtp nat/firewall traversal: Iptables sip conntrack</p>
</blockquote>
<p>It would have to be on every NAT server though. Good luck!</p>
          <p><a href="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/4</link>
        <pubDate>Sun, 22 May 2016 17:34:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2479-4</guid>
        <source url="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479.rss">SIP client (Linphone) connected, but Whonix blocks the voice information.</source>
      </item>
      <item>
        <title>SIP client (Linphone) connected, but Whonix blocks the voice information.</title>
        <dc:creator><![CDATA[dig]]></dc:creator>
        <description><![CDATA[
            <p>Thanks. I read that article few times, it doesnt’ helps me <img src="//forums.whonix.org/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
          <p><a href="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/3</link>
        <pubDate>Sun, 22 May 2016 16:44:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2479-3</guid>
        <source url="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479.rss">SIP client (Linphone) connected, but Whonix blocks the voice information.</source>
      </item>
      <item>
        <title>SIP client (Linphone) connected, but Whonix blocks the voice information.</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Please next time use a search engine, because if you search for “Whonix<br>
linphone” or “Whonix voip”, you would find this:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/VoIP" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/360;"><img src="https://www.whonix.org/w/images/f/f9/Sound-856771640.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/VoIP" target="_blank" rel="nofollow noopener">VoIP</a></h3>

<p>Anonymous Voice over IP (VOIP). Encrypted anonymous phone calls using the Tor Anonymity Network.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/2</link>
        <pubDate>Sun, 22 May 2016 16:36:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2479-2</guid>
        <source url="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479.rss">SIP client (Linphone) connected, but Whonix blocks the voice information.</source>
      </item>
      <item>
        <title>SIP client (Linphone) connected, but Whonix blocks the voice information.</title>
        <dc:creator><![CDATA[dig]]></dc:creator>
        <description><![CDATA[
            <p>Hello! Please, help me. I have troubles with SIP on Whonix.<br>
Using Linphone client.<br>
I can connect to my sip-provider, and calls working ok - I can make outgoing and accept incoming<br>
calls.</p>
<p>But in dialogue I can’t hear anything, and my friend don’t hears me.<br>
Microphone and headphones are working in Whonix.<br>
I think troubles in network.</p>
<p>Using TCP (with UDP I can’t connect to server).<br>
Sorry for bad english.</p>
          <p><a href="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479/1</link>
        <pubDate>Sun, 22 May 2016 16:15:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2479-1</guid>
        <source url="http://forums.whonix.org/t/sip-client-linphone-connected-but-whonix-blocks-the-voice-information/2479.rss">SIP client (Linphone) connected, but Whonix blocks the voice information.</source>
      </item>
  </channel>
</rss>
