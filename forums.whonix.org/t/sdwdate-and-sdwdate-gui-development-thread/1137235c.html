<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>sdwdate and sdwdate-gui development thread - Development - Whonix Forum</title>
    <meta name="description" content="There is a modified standalone url_to_unixtime at https://github.com/troubadoour/url_to_unixtime-asynchronous. 
The idea is to get the time from the pool’s remotes asynchronously, using some of the Python gevent magic. B&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1137235c.html?page=7" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;sdwdate and sdwdate-gui development thread&#39;" href="1137.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/sdwdate-and-sdwdate-gui-development-thread/1137?page=7" />
<meta name="twitter:url" content="https://forums.whonix.org/t/sdwdate-and-sdwdate-gui-development-thread/1137?page=7" />
<meta property="og:title" content="sdwdate and sdwdate-gui development thread" />
<meta name="twitter:title" content="sdwdate and sdwdate-gui development thread" />
<meta property="og:description" content="Please cherry pick the two following ones. (Last one first.)  [code]commit a39e5780b39a1d3d317337b2e05994c0c1000455  Author: Patrick Schleizer adrelanos@riseup.net  Date:   Wed Sep 9 17:26:17 2015 +0000  comment[/code]  [code]commit 6e11cfd12662cf576268b4bc047c7e4f46e0fd05  Author: Patrick Schleizer adrelanos@riseup.net  Date:   Wed Sep 9 17:16:40 2015 +0000  timedatectl set-ntp false &gt;/dev/null 2&gt;&amp;1 || true[/code]" />
<meta name="twitter:description" content="Please cherry pick the two following ones. (Last one first.)  [code]commit a39e5780b39a1d3d317337b2e05994c0c1000455  Author: Patrick Schleizer adrelanos@riseup.net  Date:   Wed Sep 9 17:26:17 2015 +0000  comment[/code]  [code]commit 6e11cfd12662cf576268b4bc047c7e4f46e0fd05  Author: Patrick Schleizer adrelanos@riseup.net  Date:   Wed Sep 9 17:16:40 2015 +0000  timedatectl set-ntp false &gt;/dev/null 2&gt;&amp;1 || true[/code]" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="77 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="48 ❤" />
<meta property="article:published_time" content="2015-09-10T23:58:27+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="1137c575.html?page=6">
        <link rel="next" href="1137fdfa.html?page=8">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1137.html">sdwdate and sdwdate-gui development thread</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-10T23:58:27Z' class='post-time'>
                September 10, 2015, 11:58pm
              </time>
              <meta itemprop='dateModified' content='2015-09-10T23:58:27Z'>
          <span itemprop='position'>#121</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Please cherry pick the two following ones. (Last one first.)</p>
<p>[code]commit a39e5780b39a1d3d317337b2e05994c0c1000455<br>
Author: Patrick Schleizer <a href="mailto:adrelanos@riseup.net">adrelanos@riseup.net</a><br>
Date:   Wed Sep 9 17:26:17 2015 +0000</p>
<pre><code>comment[/code]
</code></pre>
<p>[code]commit 6e11cfd12662cf576268b4bc047c7e4f46e0fd05<br>
Author: Patrick Schleizer <a href="mailto:adrelanos@riseup.net">adrelanos@riseup.net</a><br>
Date:   Wed Sep 9 17:16:40 2015 +0000</p>
<pre><code>timedatectl set-ntp false &gt;/dev/null 2&gt;&amp;1 || true[/code]</code></pre>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-11T00:18:20Z' class='post-time'>
                September 11, 2015, 12:18am
              </time>
              <meta itemprop='dateModified' content='2015-09-11T00:18:20Z'>
          <span itemprop='position'>#122</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Gui looks good.</p>
<p>Now, that log has been improved, it gets visible, that there seems to be a bug. Bad url dtsxnd3ykn32ywv6.onion wasn’t remembered. Tried twice.</p>
<pre><code class="lang-auto">2015-09-10 23:59:15,813 - sdwdate_log - INFO - Signal SIGTERM received. Exiting.
2015-09-10 23:59:16,066 - sdwdate_log - INFO - Fetching remote times, start 1441929556.07
2015-09-10 23:59:16,068 - sdwdate_log - INFO - The clock is sane&lt;br&gt; Current time "Thu Sep 10 23:59:16 UTC 2015"
2015-09-10 23:59:16,068 - sdwdate_log - INFO - Running sdwdate loop, iteration 1
2015-09-10 23:59:16,068 - sdwdate_log - INFO - Requested urls ['dtsxnd3ykn32ywv6.onion', 'w6csjytbrl273che.onion', 'msydqstlz2kzerdg.onion']
2015-09-10 23:59:23,094 - sdwdate_log - INFO - Returned urls "['msydqstlz2kzerdg.onion', 'w6csjytbrl273che.onion', 'dtsxnd3ykn32ywv6.onion']"
2015-09-10 23:59:23,094 - sdwdate_log - INFO - Remote status "msydqstlz2kzerdg.onion", True
2015-09-10 23:59:23,094 - sdwdate_log - INFO - Remote status "w6csjytbrl273che.onion", True
2015-09-10 23:59:23,094 - sdwdate_log - INFO - Remote status "dtsxnd3ykn32ywv6.onion", False: 0x04: Host unreachable
2015-09-10 23:59:23,094 - sdwdate_log - INFO - Pool two: last_url w6csjytbrl273che.onion, web_time 1441929055
2015-09-10 23:59:23,094 - sdwdate_log - INFO - Pool three: last_url msydqstlz2kzerdg.onion, web_time 1441929556
2015-09-10 23:59:23,094 - sdwdate_log - INFO - Running sdwdate loop, iteration 2
2015-09-10 23:59:23,095 - sdwdate_log - INFO - Requested urls ['swdi5ymnwmrqhycl.onion']
2015-09-10 23:59:26,071 - sdwdate_log - INFO - Returned urls "['swdi5ymnwmrqhycl.onion']"
2015-09-10 23:59:26,071 - sdwdate_log - INFO - Remote status "swdi5ymnwmrqhycl.onion", False: Timeout
2015-09-10 23:59:26,071 - sdwdate_log - INFO - Running sdwdate loop, iteration 3
2015-09-10 23:59:26,071 - sdwdate_log - INFO - Requested urls ['dtsxnd3ykn32ywv6.onion']
2015-09-10 23:59:26,072 - sdwdate_log - INFO - Returned urls "['dtsxnd3ykn32ywv6.onion']"
2015-09-10 23:59:26,072 - sdwdate_log - INFO - Remote status "dtsxnd3ykn32ywv6.onion", False: Timeout
2015-09-10 23:59:26,072 - sdwdate_log - INFO - Running sdwdate loop, iteration 4
2015-09-10 23:59:26,072 - sdwdate_log - INFO - Requested urls ['poulsensqiv6ocq4.onion']
2015-09-10 23:59:26,939 - sdwdate_log - INFO - Returned urls "['poulsensqiv6ocq4.onion']"
2015-09-10 23:59:26,939 - sdwdate_log - INFO - Remote status "poulsensqiv6ocq4.onion", True
2015-09-10 23:59:26,939 - sdwdate_log - INFO - Pool one: last_url poulsensqiv6ocq4.onion, web_time 1441929565
2015-09-10 23:59:26,939 - sdwdate_log - INFO - Valid urls:
msydqstlz2kzerdg.onion: "https://ahmia.fi/address/msydqstlz2kzerdg"
w6csjytbrl273che.onion: "Ljost[24][25]  2012-September-30       Transparency Activism   w6csjytbrl273che.onion  https://w6csjytbrl273che.tor2web.org/   Iceland"
poulsensqiv6ocq4.onion: "Wired's Kevin Poulsen  https://pressfreedomfoundation.org/about/tech/kevin-poulsen     poulsensqiv6ocq4.onion"
2015-09-10 23:59:26,939 - sdwdate_log - INFO - Bad urls:
dtsxnd3ykn32ywv6.onion: "BalkanLeaks    https://www.balkanleaks.eu      dtsxnd3ykn32ywv6.onion"
swdi5ymnwmrqhycl.onion: "NRKbeta        https://nrkbeta.no/tips swdi5ymnwmrqhycl.onion"
dtsxnd3ykn32ywv6.onion: "BalkanLeaks    https://www.balkanleaks.eu      dtsxnd3ykn32ywv6.onion"
2015-09-10 23:59:26,939 - sdwdate_log - INFO - Fetching remote times, end 1441929566.94
2015-09-10 23:59:26,944 - sdwdate_log - INFO - Pool differences, sorted: [-508, -7, -1]
2015-09-10 23:59:26,945 - sdwdate_log - INFO - Median time difference: -7
2015-09-10 23:59:26,945 - sdwdate_log - INFO - Seconds to add: + 0.491922837
2015-09-10 23:59:26,945 - sdwdate_log - INFO - New time difference: -6.508077163
2015-09-10 23:59:26,949 - sdwdate_log - INFO - Running sclockaj, PID=8662
2015-09-10 23:59:26,950 - sdwdate_log - INFO - Sleeping for 10 minutes</code></pre>
<p>[hr]</p>
<p>Some thoughts on making the gui correspondent with the logs.</p>
<pre><code class="lang-auto"></code></pre>
<p>–&gt;</p>
<pre><code class="lang-auto"></code></pre>
<p>[hr]</p>
<pre><code class="lang-auto"></code></pre>
<p>–&gt;</p>
<pre><code class="lang-auto"></code></pre>
<p>“date” must sound confusing to readers. Those who don’t know that it’s a unix command line utility. What do you think about logging the whole cmd? (Refering to… “cmd = ‘sudo /bin/date --set @’ + str(new_unixtime)” Moving the logging down after variable cmd has been set.)</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-11T00:19:41Z' class='post-time'>
                September 11, 2015, 12:19am
              </time>
              <meta itemprop='dateModified' content='2015-09-11T00:19:41Z'>
          <span itemprop='position'>#123</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><br> is ending up in logs and passive popups.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-11T00:26:20Z' class='post-time'>
                September 11, 2015, 12:26am
              </time>
              <meta itemprop='dateModified' content='2015-09-11T00:26:20Z'>
          <span itemprop='position'>#124</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <ol>
<li>have sdwdate + sdwdate-gui running</li>
<li>sudo service sdwdate stop</li>
<li>sudo rm /var/run/sdwdate/*</li>
<li>sudo service sdwdate start</li>
</ol>
<p>From now, sdwdate-gui will no longer update. Stay in the “sdwdate stopped, signal SIGTERM received” state.</p>
<p><code>Traceback (most recent call last):
  File "/usr/lib/python2.7/dist-packages/sdwdate_gui/sdwdate_gui.py", line 147, in status_changed
    with open(self.status_path, 'rb') as f:
IOError: [Errno 2] No such file or directory: '/var/run/sdwdate/status'</code></p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-11T00:53:13Z' class='post-time'>
                September 11, 2015, 12:53am
              </time>
              <meta itemprop='dateModified' content='2015-09-11T00:53:13Z'>
          <span itemprop='position'>#125</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The timeout is too short. Getting a lot timeouts. But during development, it’s actually very good for testing.</p>
<p>[hr]</p>
<p>The following log has some problems.</p>
<pre><code class="lang-auto">2015-09-11 00:20:27,220 - sdwdate_log - INFO - Signal SIGTERM received. Exiting.
2015-09-11 00:20:43,074 - sdwdate_log - INFO - Fetching remote times, start 1441930843.07
2015-09-11 00:20:43,076 - sdwdate_log - INFO - The clock is sane&lt;br&gt; Current time "Fri Sep 11 00:20:43 UTC 2015"
2015-09-11 00:20:43,076 - sdwdate_log - INFO - Running sdwdate loop, iteration 1
2015-09-11 00:20:43,076 - sdwdate_log - INFO - Requested urls ['33y6fjyhs3phzfjj.onion', 'abkjckdgoabr7bmm.onion', 'bitmailendavkbec.onion']
2015-09-11 00:20:47,646 - sdwdate_log - INFO - Returned urls "['abkjckdgoabr7bmm.onion', 'bitmailendavkbec.onion', '33y6fjyhs3phzfjj.onion']"
2015-09-11 00:20:47,646 - sdwdate_log - INFO - Remote status "abkjckdgoabr7bmm.onion", True
2015-09-11 00:20:47,646 - sdwdate_log - INFO - Remote status "bitmailendavkbec.onion", True
2015-09-11 00:20:47,646 - sdwdate_log - INFO - Remote status "33y6fjyhs3phzfjj.onion", False: 0x04: Host unreachable
2015-09-11 00:20:47,646 - sdwdate_log - INFO - Pool two: last_url abkjckdgoabr7bmm.onion, web_time 1441930850
2015-09-11 00:20:47,646 - sdwdate_log - INFO - Pool three: last_url bitmailendavkbec.onion, web_time 1441930849
2015-09-11 00:20:47,646 - sdwdate_log - INFO - Running sdwdate loop, iteration 2
2015-09-11 00:20:47,647 - sdwdate_log - INFO - Requested urls ['y6xjgkgwj47us5ca.onion']
2015-09-11 00:20:53,081 - sdwdate_log - INFO - Returned urls "['y6xjgkgwj47us5ca.onion']"
2015-09-11 00:20:53,081 - sdwdate_log - INFO - Remote status "y6xjgkgwj47us5ca.onion", False: Timeout
2015-09-11 00:20:53,081 - sdwdate_log - INFO - Running sdwdate loop, iteration 3
2015-09-11 00:20:53,081 - sdwdate_log - INFO - Requested urls ['v6gdwmm7ed4oifvd.onion']
2015-09-11 00:20:53,081 - sdwdate_log - INFO - Returned urls "['v6gdwmm7ed4oifvd.onion']"
2015-09-11 00:20:53,082 - sdwdate_log - INFO - Remote status "v6gdwmm7ed4oifvd.onion", False: Timeout
2015-09-11 00:20:53,082 - sdwdate_log - INFO - Running sdwdate loop, iteration 4
2015-09-11 00:20:53,082 - sdwdate_log - INFO - Requested urls ['33y6fjyhs3phzfjj.onion']
2015-09-11 00:20:57,825 - sdwdate_log - INFO - Returned urls "['33y6fjyhs3phzfjj.onion']"
2015-09-11 00:20:57,826 - sdwdate_log - INFO - Remote status "33y6fjyhs3phzfjj.onion", False: 0x04: Host unreachable
2015-09-11 00:20:57,826 - sdwdate_log - INFO - Running sdwdate loop, iteration 5
2015-09-11 00:20:57,826 - sdwdate_log - INFO - Requested urls ['hkjpnjbvhrxjvikd.onion']
2015-09-11 00:21:07,836 - sdwdate_log - WARNING - No values returned from url_to_unixtime.&lt;br&gt; Retrying...
2015-09-11 00:21:07,837 - sdwdate_log - INFO - Sleeping for 0.1 minutes
2015-09-11 00:21:13,846 - sdwdate_log - INFO - Fetching remote times, start 1441930873.85
2015-09-11 00:21:13,847 - sdwdate_log - INFO - The clock is sane&lt;br&gt; Current time "Fri Sep 11 00:21:13 UTC 2015"
2015-09-11 00:21:13,847 - sdwdate_log - INFO - Running sdwdate loop, iteration 1
2015-09-11 00:21:13,847 - sdwdate_log - INFO - Requested urls ['znig4bc5rlwyj4mz.onion', '5r4bjnjug3apqdii.onion', 'timaq4ygg2iegci7.onion']
2015-09-11 00:21:18,870 - sdwdate_log - INFO - Returned urls "['znig4bc5rlwyj4mz.onion', 'timaq4ygg2iegci7.onion', '5r4bjnjug3apqdii.onion']"
2015-09-11 00:21:18,871 - sdwdate_log - INFO - Remote status "znig4bc5rlwyj4mz.onion", True
2015-09-11 00:21:18,876 - sdwdate_log - INFO - Remote status "timaq4ygg2iegci7.onion", True
2015-09-11 00:21:18,876 - sdwdate_log - INFO - Remote status "5r4bjnjug3apqdii.onion", True
2015-09-11 00:21:18,877 - sdwdate_log - INFO - Pool one: last_url znig4bc5rlwyj4mz.onion, web_time 1441930879
2015-09-11 00:21:18,877 - sdwdate_log - INFO - Pool two: last_url 5r4bjnjug3apqdii.onion, web_time 1441930883
2015-09-11 00:21:18,877 - sdwdate_log - INFO - Pool three: last_url timaq4ygg2iegci7.onion, web_time 1441930879
2015-09-11 00:21:18,878 - sdwdate_log - INFO - Valid urls:
znig4bc5rlwyj4mz.onion: "ExposeFacts    https://exposefacts.org znig4bc5rlwyj4mz.onion"
timaq4ygg2iegci7.onion: "https://github.com/meejah/txtorcon http://txtorcon.readthedocs.org"
5r4bjnjug3apqdii.onion: "Irpileaks[29][30]      2013-October-7  Investigative Journalism        5r4bjnjug3apqdii.onion  https://5r4bjnjug3apqdii.tor2web.org/   Italy"
2015-09-11 00:21:18,878 - sdwdate_log - INFO - Bad urls:
2015-09-11 00:21:18,878 - sdwdate_log - INFO - Fetching remote times, end 1441930878.88
2015-09-11 00:21:18,896 - sdwdate_log - INFO - Pool differences, sorted: [1, 1, 5]
2015-09-11 00:21:18,897 - sdwdate_log - INFO - Median time difference: 1
2015-09-11 00:21:18,897 - sdwdate_log - INFO - Seconds to add: - 0.573118188
2015-09-11 00:21:18,897 - sdwdate_log - INFO - New time difference: 0.426881812
2015-09-11 00:21:18,897 - sdwdate_log - INFO - Setting time using date.
2015-09-11 00:21:18,897 - sdwdate_log - INFO - Old unixttime: 1441930878.9
2015-09-11 00:21:18,897 - sdwdate_log - INFO - New unixtime 1441930879.32
2015-09-11 00:21:19,321 - sdwdate_log - INFO - Sleeping for 10 minutes</code></pre>
<ul>
<li>“WARNING - No values returned from url_to_unixtime.” - How can this happen?</li>
<li>It already had two of three valid ones. But then gave up, started fresh and got three fresh ones.</li>
<li>Didn’t list any bad urls. But that’s probably just a follow up error.</li>
</ul>
<p>Other issues:</p>
<ul>
<li>no way to see which time server returned which time diff</li>
</ul>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-11T03:49:16Z' class='post-time'>
                September 11, 2015,  3:49am
              </time>
              <meta itemprop='dateModified' content='2015-09-11T03:49:16Z'>
          <span itemprop='position'>#126</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Currently the code flow in url_to_unixtime.py is difficult to grasp and follow.</p>
<p>It was a lot nicer, when there was a main function like in the old ur_to_unixtime. See highlighted code:<br>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/b015142d64f31d849991d9d1794110baaab1c19b/usr/lib/sdwdate/url_to_unixtime#L140-L147" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/b015142d64f31d849991d9d1794110baaab1c19b/usr/lib/sdwdate/url_to_unixtime#L140-L147" target="_blank" rel="nofollow noopener">Whonix/sdwdate/blob/b015142d64f31d849991d9d1794110baaab1c19b/usr/lib/sdwdate/url_to_unixtime#L140-L147</a></h4>
<pre class="onebox"><code class="lang-"><ol class="start lines" start="140" style="counter-reset: li-counter 139 ;">
<li>def main():</li>
<li>socket_ip, socket_port, url, remote_port, verbosity = parse_command_line_parameters()</li>
<li>data = request_data_from_remote_server(socket_ip, socket_port, url, remote_port)</li>
<li>date_string_start_position = data_to_date_string_start_position(data)</li>
<li>http_time = data_to_http_time(data, date_string_start_position)</li>
<li>parsed_unixtime = http_time_to_parsed_unixtime(data, http_time)</li>
<li>unixtime = unixtime_sanity_check(data, http_time, parsed_unixtime)</li>
<li>output_unixtime(data, http_time, parsed_unixtime, unixtime, verbosity)</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Worked on this…</p>
<blockquote>work on refactoring and passing back errors in url_to_unixtime.py back to sdwdate</blockquote>
https://github.com/adrelanos/sdwdate/commit/c1d756bd1e3f9cd902a45e840fde0dfd8f753857
<p>What do you think about that approach generally?</p>
<p>I guess this would also solve the “WARNING - No values returned from url_to_unixtime.” case. And be a lot nicer, because issues with time servers would end up in the sdwdate log.</p>
<p>There are still issues to be sorted out.</p>
<ul>
<li>“raise” - I am not happy with that yet. It’s just a shortcut for “exit this thread”.</li>
<li>“print &gt;&gt; sys.stderr” is not very useful. Should be converted to “error =”, passed to “raise” so it gets passed back to sdwdate and logging.</li>
<li>Needs testing. Yet to be tested if the failure if each and every functions would be correctly passed back.</li>
</ul>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-11T08:20:33Z' class='post-time'>
                September 11, 2015,  8:20am
              </time>
              <meta itemprop='dateModified' content='2015-09-11T08:20:33Z'>
          <span itemprop='position'>#127</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“Patrick, post:126, topic:1137”]Currently the code flow in url_to_unixtime.py is difficult to grasp and follow.</p>
<p>It was a lot nicer, when there was a main function like in the old ur_to_unixtime. See highlighted code:<br>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/b015142d64f31d849991d9d1794110baaab1c19b/usr/lib/sdwdate/url_to_unixtime#L140-L147" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/b015142d64f31d849991d9d1794110baaab1c19b/usr/lib/sdwdate/url_to_unixtime#L140-L147" target="_blank" rel="nofollow noopener">Whonix/sdwdate/blob/b015142d64f31d849991d9d1794110baaab1c19b/usr/lib/sdwdate/url_to_unixtime#L140-L147</a></h4>
<pre class="onebox"><code class="lang-"><ol class="start lines" start="140" style="counter-reset: li-counter 139 ;">
<li>def main():</li>
<li>socket_ip, socket_port, url, remote_port, verbosity = parse_command_line_parameters()</li>
<li>data = request_data_from_remote_server(socket_ip, socket_port, url, remote_port)</li>
<li>date_string_start_position = data_to_date_string_start_position(data)</li>
<li>http_time = data_to_http_time(data, date_string_start_position)</li>
<li>parsed_unixtime = http_time_to_parsed_unixtime(data, http_time)</li>
<li>unixtime = unixtime_sanity_check(data, http_time, parsed_unixtime)</li>
<li>output_unixtime(data, http_time, parsed_unixtime, unixtime, verbosity)</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Worked on this…</p>
<aside class="quote">
<blockquote>
<p>work on refactoring and passing back errors in url_to_unixtime.py back to sdwdate</p>
</blockquote>
</aside>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/adrelanos/sdwdate/commit/c1d756bd1e3f9cd902a45e840fde0dfd8f753857" target="_blank" rel="nofollow noopener">github.com/adrelanos/sdwdate</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/adrelanos/sdwdate/commit/c1d756bd1e3f9cd902a45e840fde0dfd8f753857" target="_blank" rel="nofollow noopener">work on refactoring and passing back errors in url_to_unixtime.py back to sdwdate</a>
</h4>


<div class="date">
  by <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../external.html?link=https://github.com/adrelanos/sdwdate/commit/c1d756bd1e3f9cd902a45e840fde0dfd8f753857" target="_blank" rel="nofollow noopener">03:38AM - 11 Sep 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>39 additions</strong>
  and <strong>23 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>What do you think about that approach generally?</p>
<p>I guess this would also solve the “WARNING - No values returned from url_to_unixtime.” case. And be a lot nicer, because issues with time servers would end up in the sdwdate log.[/quote]<br>
Yes, the next big thing is to find a way to pass back url_to_unixtime errors to sdwdate. It cannot be left as is. Your approach is one step ahead.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-11T11:03:56Z' class='post-time'>
                September 11, 2015, 11:03am
              </time>
              <meta itemprop='dateModified' content='2015-09-11T11:03:56Z'>
          <span itemprop='position'>#128</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Also, while we are at it, the plan is to detach url_to_unixtime, making it an executable, so that we can AppArmor it separately, and perhaps apply furher hardening with seccomp, pypy.sandbox or whatever becomes available.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-11T12:38:16Z' class='post-time'>
                September 11, 2015, 12:38pm
              </time>
              <meta itemprop='dateModified' content='2015-09-11T12:38:16Z'>
          <span itemprop='position'>#129</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sounds good!</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-11T13:07:57Z' class='post-time'>
                September 11, 2015,  1:07pm
              </time>
              <meta itemprop='dateModified' content='2015-09-11T13:07:57Z'>
          <span itemprop='position'>#130</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>In that case, we can reuse the old single threaded url_to_unixtime.py cli version? Restore this one?<br>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/b015142d64f31d849991d9d1794110baaab1c19b/usr/lib/sdwdate/url_to_unixtime" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/b015142d64f31d849991d9d1794110baaab1c19b/usr/lib/sdwdate/url_to_unixtime" target="_blank" rel="nofollow noopener">Whonix/sdwdate/blob/b015142d64f31d849991d9d1794110baaab1c19b/usr/lib/sdwdate/url_to_unixtime</a></h4>
<pre><code class="lang-">#!/usr/bin/python

## Copyright (C) 2015 troubadour &lt;trobador@riseup.net&gt;
## Copyright (C) 2015 Patrick Schleizer &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

## Usage:
## /usr/lib/sdwdate/url_to_unixtime socket_ip socket_port url remote_port verbosity

## Example:
## /usr/lib/sdwdate/url_to_unixtime 127.0.0.1 9050 check.torproject.org 80 true

import sys, socks
from dateutil.parser import parse

def data_to_date_string_start_position(data):
    date_string_start_position = data.find('Date:')

    if date_string_start_position == -1:
        ## not found, check if lowercase.
</code></pre>

  This file has been truncated. <a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/b015142d64f31d849991d9d1794110baaab1c19b/usr/lib/sdwdate/url_to_unixtime" target="_blank" rel="nofollow noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>It does everything right. Writes errors to stderr and exits non-zero. Otherwise writes to stdout and exits zero.</p>
<p>And transform usr/lib/python2.7/dist-packages/sdwdate/url_to_unixtime.py into a small python gevent wrapper (Perhaps rename.) that runs the single threaded url_to_unixtime.py cli version?</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-12T16:03:13Z' class='post-time'>
                September 12, 2015,  4:03pm
              </time>
              <meta itemprop='dateModified' content='2015-09-12T16:03:13Z'>
          <span itemprop='position'>#131</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>There are still issues to be sorted out.
- "raise" - I am not happy with that yet. It's just a shortcut for "exit this thread".
- "print &gt;&gt; sys.stderr" is not very useful. Should be converted to "error =", passed to "raise" so it gets passed back to sdwdate and logging.
- Needs testing. Yet to be tested if the failure if each and every functions would be correctly passed back.</blockquote>
"raise" is not required. By keeping the structure without the utu_main function, url is written in ulr[] list, the error in unix_times[] list, followed by return. This is what has been done from the beginning in  request_data_from_remote_server. No change in sdwdate, errors are logged like timeout or "Host unreachable".
https://github.com/troubadoour/sdwdate/commit/d4e6b015cd4c59d87747f781b9ac867e40bbd86b
<p>At the moment, only the general error is logged, but we can make it as verbose as necessary.</p>
<p>Added some commented out lines for testing each function (tested OK).</p>
<p>“No values returned from url_to_unixtime.” is still popping once in a while without any error reported. First it looked like it was linked to a specific url, but that was a coincidence.</p>
<blockquote>And transform usr/lib/python2.7/dist-packages/sdwdate/url_to_unixtime.py into a small python gevent wrapper (Perhaps rename.) that runs the single threaded url_to_unixtime.py cli version?</blockquote>
That would be nice, leaving url_to_unixtime working by its name exclusively. However, not sure gevent can handle threads with external calls.
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-12T18:18:26Z' class='post-time'>
                September 12, 2015,  6:18pm
              </time>
              <meta itemprop='dateModified' content='2015-09-12T18:18:26Z'>
          <span itemprop='position'>#132</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Without utu_main [or better name] the code is difficult to grasp. Bad overview in which order functions are called / calling themselves. The functions don’t just do what they say, but also some “extra”.</p>
<p>I think ‘raise’ is one way to exit the thread.</p>
<p>We need proper exception handling in the main thread anyhow. Because for example “s.recv” could fail. Perhaps also “s.send” could fail? Or something else could also fail? In these cases, it’s best if the main thread handles the exceptions, passed back to sdwdate, so it gets logged there.</p>
<p>Logging the full error has value. I think something can be learned of this. Otherwise analysis exactly what went wrong, attack analysis and reporting issues to servers operators gets more cumbersome.</p>
<p>We can kill two births with one stone. Fix all of these issues at once… If we can make gevent run the old external standalone url_to_unixtime.py. A quick search engine research didn’t indicate that gevent can’t do it. On the contrary.<br>
<a href="../../../external.html?link=http://www.gevent.org/gevent.subprocess.html" class="onebox" target="_blank">http://www.gevent.org/gevent.subprocess.html</a></p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-12T21:01:12Z' class='post-time'>
                September 12, 2015,  9:01pm
              </time>
              <meta itemprop='dateModified' content='2015-09-12T21:01:12Z'>
          <span itemprop='position'>#133</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Without utu_main [or better name] the code is difficult to grasp. Bad overview in which order functions are called / calling themselves. The functions don't just do what they say, but also some "extra".</blockquote>
Without utu_main, each function is calling the one above itself. Not sure it's harder to grasp than all the functions called from a main(). But the issue is not there. I do not remember the exact reason for changing the structure of the script, but if we use utu_main as in https://github.com/adrelanos/sdwdate/commit/c1d756bd1e3f9cd902a45e840fde0dfd8f753857, some of the function tests work (suprisingly), some don't. Where they do not,  the cycle ends with "No values returned from url_to_unixtime." or "Time is not set: no valid time returned from pool".
<p>“raise” without argument should raise the last exception in the python exception stack and leave the thread. In the script we have some home made errors and some python exceptions. I guess we should raise a proper custom exeption in each case and catch it in sdwdate. It seems overkill when we have a smooth pass-through system which can reuse the same mechanics for everything, including “s.send” or “s.recv”. An exception/error in any function stops there and returns to the original calling function url_to_unixtime.</p>
<blockquote>We can kill two births with one stone. Fix all of these issues at once... If we can make gevent run the old external standalone url_to_unixtime.py. A quick search engine research didn't indicate that gevent can't do it. On the contrary.
http://www.gevent.org/gevent.subprocess.html</blockquote>
Loking into it. But the old external standalone url_to_unixtime.py is only writing to stdout (for sdwdate bash) or stderr. I guess we would still have to modify it to return the data, as well as the errors.
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-12T22:56:22Z' class='post-time'>
                September 12, 2015, 10:56pm
              </time>
              <meta itemprop='dateModified' content='2015-09-12T22:56:22Z'>
          <span itemprop='position'>#134</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="133" data-topic="1137">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/d9b06d/40.png" class="avatar"> troubadour:</div>
<blockquote>
<p>Loking into it. But the old external standalone url_to_unixtime.py is only writing to stdout (for sdwdate bash) or stderr. I guess we would still have to modify it to return the data, as well as the errors.</p>
</blockquote>
</aside>
<p>The old external standalone url_to_unixtime.py writes only unixtime to stdout. Everything else it writes to stderr are only errors. [Or when using verbosity.]</p>
<p>So if it exits 0, just use stdout as data. Otherwise, if it exits non-zero, use the stderr as error message.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-14T15:32:21Z' class='post-time'>
                September 14, 2015,  3:32pm
              </time>
              <meta itemprop='dateModified' content='2015-09-14T15:32:21Z'>
          <span itemprop='position'>#135</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I was slightly behind your reasoning but i have catched up, eventually <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>url_to_unixtime is detached as an exectutable in /usr/lib/sdwdate.</p>
<p>A new script “remote_times” runs the url_to_unixtime threads (gevent wrapper).</p>
<p>Reusing the old standalone url_to_unixtime, with two changes:</p>
<ul>
<li>evreything including errors is written to stdout.</li>
<li>the errors exit normally.</li>
</ul>
<p>The reason is the use of Popen with gevent. It does not check the exit code and there is no need to discriminate data from errors since everything is passed back to sdwdate (verbosely for the errors).</p>
<p>Have implemented the functions tests in url_to_unixtime. Tested OK.</p>
<p>Bonus: no more “No values returned from url_to_unixtime”. So this setup seems more robust, and faster too (but that could be my imagination).</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/c34494ecdbba5a0dd8c71a9460d9393034ece91e" target="_blank" rel="nofollow noopener">github.com/troubadoour/sdwdate</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/troubadoour" target="_blank" rel="nofollow noopener">
    <img alt="troubadoour" src="../../../external.html?link=https://avatars0.githubusercontent.com/u/7442918?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/c34494ecdbba5a0dd8c71a9460d9393034ece91e" target="_blank" rel="nofollow noopener">detach url_to_unixtime (executable), new remote_times.py to get sever times asynchronously</a>
</h4>


<div class="date">
  by <a href="../../../external.html?link=https://github.com/troubadoour" target="_blank" rel="nofollow noopener">troubadoour</a>
  on <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/c34494ecdbba5a0dd8c71a9460d9393034ece91e" target="_blank" rel="nofollow noopener">02:55PM - 14 Sep 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>4 files</strong>
  with <strong>207 additions</strong>
  and <strong>194 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-14T21:00:57Z' class='post-time'>
                September 14, 2015,  9:00pm
              </time>
              <meta itemprop='dateModified' content='2015-09-14T21:00:57Z'>
          <span itemprop='position'>#136</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Comit <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/becab9fc52676fa274509f39c7aa269dd926e18d" rel="nofollow noopener">https://github.com/troubadoour/sdwdate/commit/becab9fc52676fa274509f39c7aa269dd926e18d</a></p>
<p>Reorganize logging in main loop, with HTML stripping.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-15T10:31:29Z' class='post-time'>
                September 15, 2015, 10:31am
              </time>
              <meta itemprop='dateModified' content='2015-09-15T10:31:29Z'>
          <span itemprop='position'>#137</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Still missing in your branch.</p>
<p>[quote=“Patrick, post:121, topic:1137”]Please cherry pick the two following ones. (Last one first.)</p>
<p>[code]commit a39e5780b39a1d3d317337b2e05994c0c1000455<br>
Author: Patrick Schleizer <a href="mailto:adrelanos@riseup.net">adrelanos@riseup.net</a><br>
Date:   Wed Sep 9 17:26:17 2015 +0000</p>
<pre><code>comment[/code]
</code></pre>
<p>[code]commit 6e11cfd12662cf576268b4bc047c7e4f46e0fd05<br>
Author: Patrick Schleizer <a href="mailto:adrelanos@riseup.net">adrelanos@riseup.net</a><br>
Date:   Wed Sep 9 17:16:40 2015 +0000</p>
<pre><code>timedatectl set-ntp false &gt;/dev/null 2&gt;&amp;1 || true[/code][/quote]</code></pre>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-15T10:52:44Z' class='post-time'>
                September 15, 2015, 10:52am
              </time>
              <meta itemprop='dateModified' content='2015-09-15T10:52:44Z'>
          <span itemprop='position'>#138</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Due to etc/xdg/autostart/sdwdate-gui.desktop using 'sudo -u sdwdate, sdwdate-gui needs to ‘Depends:’ on sdwdate.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-16T20:35:19Z' class='post-time'>
                September 16, 2015,  8:35pm
              </time>
              <meta itemprop='dateModified' content='2015-09-16T20:35:19Z'>
          <span itemprop='position'>#139</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Your commits were cherry picked and pushed a few days ago:<br>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/888b3bea48c87ce2722576c77dcf3cfbf2cf3020" target="_blank" rel="nofollow noopener">github.com/troubadoour/sdwdate</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/888b3bea48c87ce2722576c77dcf3cfbf2cf3020" target="_blank" rel="nofollow noopener">comment</a>
</h4>


<div class="date">
  by <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/888b3bea48c87ce2722576c77dcf3cfbf2cf3020" target="_blank" rel="nofollow noopener">05:26PM - 09 Sep 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>2 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/3e6afc9c236fddf5adb23fbbd6185a33c2505d56" target="_blank" rel="nofollow noopener">github.com/troubadoour/sdwdate</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/3e6afc9c236fddf5adb23fbbd6185a33c2505d56" target="_blank" rel="nofollow noopener">timedatectl set-ntp false &gt;/dev/null 2&gt;&amp;1 || true</a>
</h4>


<div class="date">
  by <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/3e6afc9c236fddf5adb23fbbd6185a33c2505d56" target="_blank" rel="nofollow noopener">05:16PM - 09 Sep 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>2 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Some commits.</p>
<p>Logging:</p>
<ul>
<li>reorganized the logging and icon status in sdwdate main loop. <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/becab9fc52676fa274509f39c7aa269dd926e18d" rel="nofollow noopener">https://github.com/troubadoour/sdwdate/commit/becab9fc52676fa274509f39c7aa269dd926e18d</a>
</li>
<li>strip HTML in sdwdate_loop time sanity check for the tool tip . <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/d55196a1ed85c7f88e4b94d7d2a5b99c0895dc8e" rel="nofollow noopener">https://github.com/troubadoour/sdwdate/commit/d55196a1ed85c7f88e4b94d7d2a5b99c0895dc8e</a>
</li>
<li>readable date beside unixtime and webtime-oldtime difference in the pool results.  <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/7fcf959452a35e909e595791683bac4fd5122dfa" rel="nofollow noopener">https://github.com/troubadoour/sdwdate/commit/7fcf959452a35e909e595791683bac4fd5122dfa</a>
</li>
<li>readable date in “Fetching remote times start/end”  <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/82e989090b5edaa646a0b0fa0ac76e965497c4be" rel="nofollow noopener">https://github.com/troubadoour/sdwdate/commit/82e989090b5edaa646a0b0fa0ac76e965497c4be</a>
</li>
<li>more verbose when setting time with date or sclockadj  <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/f24cdf57c29525b327e1ff7ee8b5830e6202ddd4" rel="nofollow noopener">https://github.com/troubadoour/sdwdate/commit/f24cdf57c29525b327e1ff7ee8b5830e6202ddd4</a>
</li>
</ul>
<p>Misc:</p>
<ul>
<li>double quotes in messages messing up argument parsing in swdate-gui popup (discovered when timesanitycheck would fail) <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/2d738b987274a48e1e0e8e16305005d33fd58641" rel="nofollow noopener">https://github.com/troubadoour/sdwdate/commit/2d738b987274a48e1e0e8e16305005d33fd58641</a>
</li>
<li>the issue when restarting sdwdate after removing the files in /var/run/sdwdate was addressed earlier.</li>
</ul>
<p>url_to_unixtime AppArmor profile (one abstraction, one line, the shortest so far). <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/608f9c06d60b0c8d0e91ae13ceaa9bf5e0111bf1" rel="nofollow noopener">https://github.com/troubadoour/sdwdate/commit/608f9c06d60b0c8d0e91ae13ceaa9bf5e0111bf1</a></p>
<p>Now that the ‘No values returned from url_to_unixtime’ error has gone, the retry loop is no longer required. I think it can be replaced by a standard error in case nothing is returned (probably asking to report a bug).</p>
<p>With the new setup, when internet is down, all the connections time out. Will implement the detection.</p>
<p>Added sdwdate to “Depends” in sdwdate-gui.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-17T00:36:37Z' class='post-time'>
                September 17, 2015, 12:36am
              </time>
              <meta itemprop='dateModified' content='2015-09-17T00:36:37Z'>
          <span itemprop='position'>#140</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Works for me.</p>
<p>[hr]</p>
<pre><code class="lang-auto"></code></pre>
<p>-&gt;</p>
<pre><code class="lang-auto"></code></pre>
<p>[hr]</p>
<pre><code class="lang-auto"></code></pre>
<p>-&gt;</p>
<pre><code class="lang-auto"></code></pre>
<p>(So it can be easier compared to old unixtime.)</p>
<p>[hr]</p>
<p>(Removing value statements about urls that might be misunderstood.)</p>
<pre><code class="lang-auto"></code></pre>
<p>-&gt;</p>
<pre><code class="lang-auto"></code></pre>
<p>[hr]</p>
<pre><code class="lang-auto"></code></pre>
<p>-&gt;</p>
<pre><code class="lang-auto"></code></pre>
<p>I am not happy with “unreachable”. But “bad” implies “should not trust/visit that page”.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="1137c575.html?page=6">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="1137fdfa.html?page=8">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
