<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>sdwdate and sdwdate-gui development thread - Development - Whonix Forum</title>
    <meta name="description" content="There is a modified standalone url_to_unixtime at https://github.com/troubadoour/url_to_unixtime-asynchronous. 
The idea is to get the time from the pool‚Äôs remotes asynchronously, using some of the Python gevent magic. B&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1137c575.html?page=6" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;sdwdate and sdwdate-gui development thread&#39;" href="1137.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/sdwdate-and-sdwdate-gui-development-thread/1137?page=6" />
<meta name="twitter:url" content="https://forums.whonix.org/t/sdwdate-and-sdwdate-gui-development-thread/1137?page=6" />
<meta property="og:title" content="sdwdate and sdwdate-gui development thread" />
<meta name="twitter:title" content="sdwdate and sdwdate-gui development thread" />
<meta property="og:description" content="Did you ‚Äúgit fetch‚Äù beforehand?" />
<meta name="twitter:description" content="Did you ‚Äúgit fetch‚Äù beforehand?" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="77 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="48 ‚ù§" />
<meta property="article:published_time" content="2015-08-20T19:33:42+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="1137af4d.html?page=5">
        <link rel="next" href="1137235c.html?page=7">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1137.html">sdwdate and sdwdate-gui development thread</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-20T19:33:42Z' class='post-time'>
                August 20, 2015,  7:33pm
              </time>
              <meta itemprop='dateModified' content='2015-08-20T19:33:42Z'>
          <span itemprop='position'>#101</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Did you ‚Äúgit fetch‚Äù beforehand?</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-21T22:55:23Z' class='post-time'>
                August 21, 2015, 10:55pm
              </time>
              <meta itemprop='dateModified' content='2015-08-21T22:55:23Z'>
          <span itemprop='position'>#102</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-22T00:22:24Z' class='post-time'>
                August 22, 2015, 12:22am
              </time>
              <meta itemprop='dateModified' content='2015-08-22T00:22:24Z'>
          <span itemprop='position'>#103</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Worked for me this way.</p>
<pre><code class="lang-auto"></code></pre>
<pre><code class="lang-auto"></code></pre>
<pre><code class="lang-auto"></code></pre>
<pre><code class="lang-auto"></code></pre>
<pre><code class="lang-auto"></code></pre>
<p>If not‚Ä¶</p>
<pre><code class="lang-auto"></code></pre>
<p>Should show.</p>
<pre><code class="lang-auto">commit b66ca854ea1d2be60b738582723acc849921c830
Author: Patrick Schleizer &lt;adrelanos@riseup.net&gt;
Date:   Wed Aug 19 23:37:06 2015 +0000

    workaround for 'dh_installinit should run systemd-tmpfiles if a /usr/lib/tmpfiles.d/ snippet gets shipped for systemd-only packages also' - http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=795519</code></pre>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-23T18:56:38Z' class='post-time'>
                August 23, 2015,  6:56pm
              </time>
              <meta itemprop='dateModified' content='2015-08-23T18:56:38Z'>
          <span itemprop='position'>#104</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Done, thanks.</p>
<p>Some commits.</p>
<ul>
<li>
<p>sdwdate<br>
Create a success file along first_success. Checked every cycle, it allows  to show the proper icon and message when sdwdate is restarted ‚Äúfresh‚Äù. first_success is created on the first cycle after boot.</p>
</li>
<li>
<p>sdwdate-gui<br>
After confusing myself with tmpfiles.d and sudoers.d, sdwdate-gui is run as user sdwdate. The sdwdate tmpfiles.d can be reused and more important, to remove /var/run/sdwdate/success, ‚Äúsudo rm‚Äù has to be allowed passwordless, and it seems safe to restrict it to sdwdate.</p>
</li>
</ul>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-23T20:36:42Z' class='post-time'>
                August 23, 2015,  8:36pm
              </time>
              <meta itemprop='dateModified' content='2015-08-23T20:36:42Z'>
          <span itemprop='position'>#105</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Running sdwdate-gui as user sdwdate is an interesting idea.</p>
<p>In that case, we have to add Pre-Depends in sdwdate-gui‚Äôs debian/control.</p>
<pre><code class="lang-auto"></code></pre>
<p>Because sdwdate keeps care of creating the user sdwdate and the folder /var/run/sdwdate.</p>
<p>[hr]</p>
<p>So at the moment we have  <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/blob/python/usr/lib/tmpfiles.d/sdwdate.conf">https://github.com/troubadoour/sdwdate/blob/python/usr/lib/tmpfiles.d/sdwdate.conf</a></p>
<pre><code class="lang-auto"></code></pre>
<p>vs</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate-gui/blob/master/usr/lib/tmpfiles.d/sdwdate-gui.conf" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../external.html?link=https://github.com/troubadoour/sdwdate-gui/blob/master/usr/lib/tmpfiles.d/sdwdate-gui.conf" target="_blank" rel="nofollow noopener">troubadoour/sdwdate-gui/blob/master/usr/lib/tmpfiles.d/sdwdate-gui.conf</a></h4>
<pre><code class="lang-conf">d /var/run/sdwdate-gui 0775 sdwdate-gui sdwdate-gui
f /var/run/sdwdate-gui/anon-status 0775 sdwdate-gui sdwdate-gui
</code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<pre><code class="lang-auto"></code></pre>
<p>I guess that‚Äôs a conflict and going to break.</p>
<p>As per <a href="../../../external.html?link=http://www.freedesktop.org/software/systemd/man/tmpfiles.d.html:">http://www.freedesktop.org/software/systemd/man/tmpfiles.d.html:</a></p>
<pre><code class="lang-auto"></code></pre>
<p>So it cannot be both. So <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate-gui/blob/master/usr/lib/tmpfiles.d/sdwdate-gui.conf">https://github.com/troubadoour/sdwdate-gui/blob/master/usr/lib/tmpfiles.d/sdwdate-gui.conf</a> should be removed.</p>
<p>When sdwdate-gui runs as user sdwdate, then it does neither require sudo nor sudoers.d exceptions, because user sdwdate is allowed to create/delete any file inside /var/run/sdwdate so or so. Just make sure when manually running sdwdate-gui to start it as user sdwdate using ‚Äúsudo -u sdwdate sdwdate-gui‚Äù.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-23T21:26:03Z' class='post-time'>
                August 23, 2015,  9:26pm
              </time>
              <meta itemprop='dateModified' content='2015-08-23T21:26:03Z'>
          <span itemprop='position'>#106</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>In that case, we have to add Pre-Depends in sdwdate-gui's debian/control.</blockquote>
Done.
<blockquote>So it cannot be both. So https://github.com/troubadoour/sdwdate-gui/blob/master/usr/lib/tmpfiles.d/sdwdate-gui.conf should be removed.</blockquote>
My mistake, I thought it was removed in a previous commit. Done.
<blockquote>When sdwdate-gui runs as user sdwdate, then it does neither require sudo nor sudoers.d exceptions, because user sdwdate is allowed to create/delete any file inside /var/run/sdwdate so or so. Just make sure when manually running sdwdate-gui to start it as user sdwdate using "sudo -u sdwdate sdwdate-gui".</blockquote>
I did test it earlier. Removing any exception in /etc//sudoers.d/sdwdate-gui  breaks it, even 
[code]ALL ALL=NOPASSWD: /usr/sbin/service sdwdate *[/code]
which is declared in /etc/sudoers.d/sdwdate. Still breaking now.
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-23T21:36:57Z' class='post-time'>
                August 23, 2015,  9:36pm
              </time>
              <meta itemprop='dateModified' content='2015-08-23T21:36:57Z'>
          <span itemprop='position'>#107</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Fixed a lintian warning (stronger-dependency-implies-weaker).<br>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate-gui/commit/e17214b39bb338444c5a904b0150f31cc34c397e" target="_blank" rel="nofollow noopener">github.com/troubadoour/sdwdate-gui</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/troubadoour" target="_blank" rel="nofollow noopener">
    <img alt="troubadoour" src="../../../external.html?link=https://avatars0.githubusercontent.com/u/7442918?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate-gui/commit/e17214b39bb338444c5a904b0150f31cc34c397e" target="_blank" rel="nofollow noopener">lintian warning predends - depends swdate</a>
</h4>


<div class="date">
  by <a href="../../../external.html?link=https://github.com/troubadoour" target="_blank" rel="nofollow noopener">troubadoour</a>
  on <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate-gui/commit/e17214b39bb338444c5a904b0150f31cc34c397e" target="_blank" rel="nofollow noopener">09:31PM - 23 Aug 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-23T23:09:14Z' class='post-time'>
                August 23, 2015, 11:09pm
              </time>
              <meta itemprop='dateModified' content='2015-08-23T23:09:14Z'>
          <span itemprop='position'>#108</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes, the ‚Äúsudo service‚Äù commands will still require sudoers.d exceptions. My mistake pointing this out earlier. Just ‚Äúrm‚Äù should work without sudo.</p>
<p>On a second thought, maybe I was wrong about Pre-Depends. Even if sdwdate is just a normal Depends. There should be no way for sdwdate-gui to start before sdwdate has also been installed, because sdwdate-gui is not automatically started during package installation [such as though a systemd service]. It‚Äôs only automatically started a next [or first] boot or manually after installation.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-28T19:16:32Z' class='post-time'>
                August 28, 2015,  7:16pm
              </time>
              <meta itemprop='dateModified' content='2015-08-28T19:16:32Z'>
          <span itemprop='position'>#109</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes, removed the sdwdate dependencies in sdwdate-gui. Being started in /etc/xdg/autostart, If swdate is not installed or not running, an error icon is displayed in system tray, reporting so.</p>
<p>Some commits.</p>
<p>sdwdate-gui:</p>
<ul>
<li>open sdwdate log. It opens a konsole with command ‚Äútail -f -n 100 /var/log/sdwdate.log‚Äù. That‚Äôs open to discussion.</li>
</ul>
<p>sdwdate:</p>
<ul>
<li>timesanitycheck. A separate module, check at the beginning of every sdwdate_loop cycle. If slow or fast, report and restart a normal sleep period. No retry.</li>
</ul>
<p>Note: expiration time is hardcoded in the script. If necessary, we can recreate /etc/default/sdwdate (it‚Äôs no longer timesantycheck).</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-29T02:29:32Z' class='post-time'>
                August 29, 2015,  2:29am
              </time>
              <meta itemprop='dateModified' content='2015-08-29T02:29:32Z'>
          <span itemprop='position'>#110</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hardcoded is fine.</p>
<pre><code class="lang-auto"></code></pre>
<p>This is expected. You probably mean ‚Äúgreater than expiration timestamp‚Äù.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-29T10:16:42Z' class='post-time'>
                August 29, 2015, 10:16am
              </time>
              <meta itemprop='dateModified' content='2015-08-29T10:16:42Z'>
          <span itemprop='position'>#111</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>eaxh -&gt; each<br>
teturned -&gt; returned</p>
<p>[hr]</p>
<p>I think this can be refactored a bit.</p>
<pre><code class="lang-auto">            if sdwdate.success:
                if sdwdate.set_new_time():
                    sdwdate.add_subtract_nanoseconds()
                    sdwdate.run_sclockadj()
            else:
                if not sdwdate.first_success:
                    f = open(sdwdate.first_success_path, 'w')
                    f.close()
                f = open(sdwdate.success_path, 'w')
                f.close()

                if sdwdate.set_new_time():
                    sdwdate.add_subtract_nanoseconds()
                    sdwdate.set_time_using_date()

            message = sdwdate.message + '\nSleeping.'
            sdwdate.write_status(icon, message)
            sleep_time = 10</code></pre>
<p>-&gt;</p>
<pre><code class="lang-auto">        if status == 'success':
            sdwdate.build_median()
            sdwdate.add_subtract_nanoseconds()
            if sdwdate.set_new_time():
                if sdwdate.success:
                    sdwdate.run_sclockadj()
                else:
                    sdwdate.set_time_using_date()
                    if not sdwdate.first_success:
                        f = open(sdwdate.first_success_path, 'w')
                        f.close()

            f = open(sdwdate.success_path, 'w')
            f.close()</code></pre>
<p>Running sdwdate.set_time_using_date() earlier so the status files get the right timestamp. (And because in corner cases it could fai: hdd failure, damaged <code>date</code> binary.)</p>
<p>And putting<br>
f = open(sdwdate.success_path, ‚Äòw‚Äô)<br>
f.close()<br>
outside the if. Should also happen in case of sclockadj.</p>
<p>Theoretically‚Ä¶ Unsure‚Ä¶ Also<br>
if not sdwdate.first_success:<br>
f = open(sdwdate.first_success_path, ‚Äòw‚Äô)<br>
f.close()<br>
could be put outside the if. Does not matter as long as date vs sclockadj is not configurable. But somehow looks more correct?</p>
<p>[hr]</p>
<p>Can you also run timesanitycheck as a check for results from remote?</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-29T11:01:04Z' class='post-time'>
                August 29, 2015, 11:01am
              </time>
              <meta itemprop='dateModified' content='2015-08-29T11:01:04Z'>
          <span itemprop='position'>#112</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <ul>
<li>Extraneous space.</li>
</ul>
<pre><code class="lang-auto"></code></pre>
<ul>
<li>sdwdate: Please remove usr/share/icons/anon-icon-pack folder.</li>
<li>sdwdate-gui: Wrong icon path. It‚Äôs just inside usr/share/icons folder. Misses sub folder. Move to usr/share/icons/sdwdate-gui. (Right in the code, but wrong location in the source folder.)</li>
<li>‚ÄúNo internet. Fetching remote times‚Ä¶‚Äù -&gt; ‚ÄòNo internet‚Äô sounds like no internet access is available at all for anything. We need a more causal mental connection. ‚ÄúOutgoing internet access is still restricted because initial time fetching is not done yet. Fetching remote times‚Ä¶‚Äù Or something like that.</li>
<li>I like the log viewer, this encourages scrutiny.</li>
</ul>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-29T11:20:34Z' class='post-time'>
                August 29, 2015, 11:20am
              </time>
              <meta itemprop='dateModified' content='2015-08-29T11:20:34Z'>
          <span itemprop='position'>#113</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Expiration timestamp is much too young. In 2014. You probably left that in for testing, I guess.</p>
<p>If timesanitycheck before running sdwdate [not after fetching remotes] failed,  the messages:<br>
"The clock is %s. Current time ‚Äú%s‚Äù is less than the build timestamp ‚Äú%s‚Äù‚Äô or<br>
"The clock is %s. Current time ‚Äú%s‚Äù is greater than the expriration timestamp"<br>
are technically correct, but does not provide any insight to the user on what the cause could be [bios clock failure, host clock attack succeeded, user set clock wrong on host for some reason either on purpose or by mistake] or how to fix the situation [power off, fix host clock, power on again or manually set clock in VM + restart tor, most likely].</p>
<p>Unsure, what about a right click ‚Äúmanually set the time‚Äù menu?</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-02T20:28:51Z' class='post-time'>
                September 2, 2015,  8:28pm
              </time>
              <meta itemprop='dateModified' content='2015-09-02T20:28:51Z'>
          <span itemprop='position'>#114</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Some of the messages were written on the corner of a table, without much care. We‚Äôll have to improve the verbose. The messages should end in a yaml file eventually, same mechanics as whonix-setup-wizard. sdwdate could pass short messages to sdwate-gui, which would translate them into something unserstandable. Looks like a good approach to me, because it would wipe the code from most of the text, and for possible future translations, whatever we might use (yaml or gettext), it would be ready.</p>
<p>I‚Äôll fix the other mistakes. In the meantime, have replaced the default left click message by a simple gui that mimics (roughly) the original. It updates itself on status changes. The text is copyable but it has to be closed by the user. It‚Äôs basic in the view of keeping it as little intrusive as possible.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate-gui/commit/d682e627d6aac2855da321cabcbf1879f4c17452" target="_blank" rel="nofollow noopener">github.com/troubadoour/sdwdate-gui</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/troubadoour" target="_blank" rel="nofollow noopener">
    <img alt="troubadoour" src="../../../external.html?link=https://avatars0.githubusercontent.com/u/7442918?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate-gui/commit/d682e627d6aac2855da321cabcbf1879f4c17452" target="_blank" rel="nofollow noopener">replace default show_message by a popup gui, samish appearance, closed by user, text copyable.</a>
</h4>


<div class="date">
  by <a href="../../../external.html?link=https://github.com/troubadoour" target="_blank" rel="nofollow noopener">troubadoour</a>
  on <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate-gui/commit/d682e627d6aac2855da321cabcbf1879f4c17452" target="_blank" rel="nofollow noopener">07:45PM - 02 Sep 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>3 files</strong>
  with <strong>133 additions</strong>
  and <strong>42 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-03T04:02:11Z' class='post-time'>
                September 3, 2015,  4:02am
              </time>
              <meta itemprop='dateModified' content='2015-09-03T04:02:11Z'>
          <span itemprop='position'>#115</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Forget the last commit. One piece is miising and the message is popping on every status change.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-06T15:41:46Z' class='post-time'>
                September 6, 2015,  3:41pm
              </time>
              <meta itemprop='dateModified' content='2015-09-06T15:41:46Z'>
          <span itemprop='position'>#116</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>A digest of the latest commits.</p>
<p>sdwdate</p>
<ul>
<li>fixed typos.</li>
<li>fixed expiration times (was a test value left).</li>
<li>HTML provisionally in sdwdate, because the new popup message requires it.</li>
<li>removed usr/share/icons/anon-icon-pack folder.</li>
<li>changed icon folder in source.</li>
<li>improved main loop as per <a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,1301.msg9831.html#msg9831" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,1301.msg9831.html#msg9831</a>. first_succes check is outside ‚Äúif sdwdate.set_new_time()‚Äù.</li>
</ul>
<p>[code]        if status == ‚Äòsuccess‚Äô:<br>
sdwdate.build_median()<br>
sdwdate.add_subtract_nanoseconds()<br>
if sdwdate.set_new_time():<br>
if sdwdate.success:<br>
sdwdate.run_sclockadj()<br>
else:<br>
sdwdate.set_time_using_date()<br>
if not sdwdate.first_success:<br>
f = open(sdwdate.first_success_path, ‚Äòw‚Äô)<br>
f.close()</p>
<pre><code>        f = open(sdwdate.success_path, 'w')
        f.close()[/code]
</code></pre>
<p>Much better, I must admit.</p>
<p>sdwdate-gui. The last three commits are relevant.</p>
<ul>
<li>the gui message is stripped from anything fancy, only the message in richtext format, copyable. It is shown/hidden by left mouse action, updated if status change while it‚Äôs open.</li>
<li>all the icons from sdwdate and sdwadte-gui are in /usr/share/icons/sdwdate-gui.</li>
</ul>
<blockquote>If timesanitycheck before running sdwdate [not after fetching remotes] failed,  the messages:
"The clock is %s. Current time "%s" is less than the build timestamp "%s"' or
"The clock is %s. Current time "%s" is greater than the expriration timestamp"
are technically correct, but does not provide any insight to the user on what the cause could be [bios clock failure, host clock attack succeeded, user set clock wrong on host for some reason either on purpose or by mistake] or how to fix the situation [power off, fix host clock, power on again or manually set clock in VM + restart tor, most likely].</blockquote>
Yes. We could run timesanitycheck after fetching remotes too, although the likeliness of having three remotes failing the check is quite low.
<blockquote>Unsure, what about a right click "manually set the time" menu?</blockquote>
Will look into it. If it'feasible, why not?
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-07T19:54:11Z' class='post-time'>
                September 7, 2015,  7:54pm
              </time>
              <meta itemprop='dateModified' content='2015-09-07T19:54:11Z'>
          <span itemprop='position'>#117</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="114" data-topic="1137">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/d9b06d/40.png" class="avatar"> troubadour:</div>
<blockquote>
<p>The messages should end in a yaml file eventually, same mechanics as whonix-setup-wizard. sdwdate could pass short messages to sdwate-gui</p>
</blockquote>
</aside>
<p>Probably not. The messages have to be written to the log too. If it‚Äôs still technically possible to fetch the messages and strip the HTML before writing them, It does not look the correct way for a daemon to depend on an external file for its logging.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-07T22:33:06Z' class='post-time'>
                September 7, 2015, 10:33pm
              </time>
              <meta itemprop='dateModified' content='2015-09-07T22:33:06Z'>
          <span itemprop='position'>#118</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>calcuations -&gt; calculations</p>
<blockquote>        Should we use sclockadj_debug_helper?</blockquote>
Probably no need. The permission issues are gone for a while now. The maintainer script / command line parameters have been sorted out. So that comment can be deleted. Won't hurt though keeping the commented out sclockadj debug helper code in for some more time. (Should be logged rather than echo'ed.)
<p>[hr]</p>
<p>Looks good.</p>
<p>The window title for the left click action however ‚Äúshow_message‚Äù is not good.</p>
<p>I don‚Äôt see a problem with depending on python-guimessages or having an external file containing the messages. The status file could contain content with full html, which is stripped before adding that to the log. However, I think for now translations are low priority. Generating quite some effort accepting those. I guess we would need more contributors. Or more time.  <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<blockquote>Yes. We could run timesanitycheck after fetching remotes too, although the likeliness of having three remotes failing the check is quite low.</blockquote>
Yes, three servers would have to freak out and report bogus results. Filtering out every single bogus result however seems worthwhile.
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-08T14:53:17Z' class='post-time'>
                September 8, 2015,  2:53pm
              </time>
              <meta itemprop='dateModified' content='2015-09-08T14:53:17Z'>
          <span itemprop='position'>#119</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Please git cherry-pick the following commit in the python branch.</p>
<blockquote>disable systemd-timesyncd by default as it conflicts with sdwdate - https://phabricator.whonix.org/T336</blockquote>
https://github.com/Whonix/sdwdate/commit/83ef0068cb7c0287d6f2d6feab2d8d4961f8a260
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-09-10T20:13:00Z' class='post-time'>
                September 10, 2015,  8:13pm
              </time>
              <meta itemprop='dateModified' content='2015-09-10T20:13:00Z'>
          <span itemprop='position'>#120</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Please git cherry-pick the following commit in the python branch.</blockquote>
Done.
<blockquote>The window title for the left click action however "show_message" is not good.</blockquote>
Now the window is a full GUI (with a proper title). I was reluctant to do it that way because it becomes resizable, it can be mximized / minmized, bur on the whole, it looks better. 
<p>Have added the url comments in the log. <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/64b86856b3af22480f497b31fbbc5c7f8e1b7dd9" rel="nofollow noopener">https://github.com/troubadoour/sdwdate/commit/64b86856b3af22480f497b31fbbc5c7f8e1b7dd9</a><br>
Will add human readable time beside every unixtime entry.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="1137af4d.html?page=5">‚Üê previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="1137235c.html?page=7">next page ‚Üí</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
