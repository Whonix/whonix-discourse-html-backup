<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>sdwdate and sdwdate-gui development thread - Development - Whonix Forum</title>
    <meta name="description" content="There is a modified standalone url_to_unixtime at https://github.com/troubadoour/url_to_unixtime-asynchronous. 
The idea is to get the time from the pool’s remotes asynchronously, using some of the Python gevent magic. B&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1137.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;sdwdate and sdwdate-gui development thread&#39;" href="1137.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/sdwdate-and-sdwdate-gui-development-thread/1137" />
<meta name="twitter:url" content="https://forums.whonix.org/t/sdwdate-and-sdwdate-gui-development-thread/1137" />
<meta property="og:title" content="sdwdate and sdwdate-gui development thread" />
<meta name="twitter:title" content="sdwdate and sdwdate-gui development thread" />
<meta property="og:description" content="There is a modified standalone url_to_unixtime at https://github.com/troubadoour/url_to_unixtime-asynchronous.  The idea is to get the time from the pool’s remotes asynchronously, using some of the Python gevent magic. Besides an improved transparency of timesync, the rationale is that if we want to implement https://phabricator.whonix.org/T300 and block internet access after boot as long as the time synchronization has not finished, the shorter it takes, the better for the user.  In the script,..." />
<meta name="twitter:description" content="There is a modified standalone url_to_unixtime at https://github.com/troubadoour/url_to_unixtime-asynchronous.  The idea is to get the time from the pool’s remotes asynchronously, using some of the Python gevent magic. Besides an improved transparency of timesync, the rationale is that if we want to implement https://phabricator.whonix.org/T300 and block internet access after boot as long as the time synchronization has not finished, the shorter it takes, the better for the user.  In the script,..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="77 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="48 ❤" />
<meta property="article:published_time" content="2015-06-13T16:06:50+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="11374658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1137.html">sdwdate and sdwdate-gui development thread</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-13T16:06:50Z' class='post-time'>
                June 13, 2015,  4:06pm
              </time>
              <meta itemprop='dateModified' content='2018-01-30T12:54:45Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>There is a modified standalone url_to_unixtime at <a href="../../../external.html?link=https://github.com/troubadoour/url_to_unixtime-asynchronous" rel="nofollow noopener">https://github.com/troubadoour/url_to_unixtime-asynchronous</a>.</p>
<p>The idea is to get the time from the pool’s remotes asynchronously, using some of the Python gevent magic. Besides an improved transparency of timesync, the rationale is that if we want to implement <a href="../../../external.html?link=https://phabricator.whonix.org/T300" rel="nofollow noopener">https://phabricator.whonix.org/T300</a> and block internet access after boot as long as the time synchronization has not finished, the shorter it takes, the better for the user.</p>
<p>In the script, for the sake of demonstration, the three pools are concatenated into a single one. After running it a sufficient number of times, you should have seen many combinations of errors (connect error, timeout, header parsing…). In all the cases, the duration of the acquisition is reduced drastically.</p>
<p>I do not know if this approach looks sound, but it would require some major changes in sdwdate. The pools being moved in url_to_unixtime, all the logic from sdwdate_pick and above (sdwdate_loop, sdwdate_get_time_from_remote and even sdwdate_build_median) would be done in the new module(s). Perhaps a starting point to port sdwdate to Python.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/166.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../whonix-on-mac-m1-arm-user-support-still-unsupported-at-time-of-writing/11310/166.html'>
                      <span itemprop='name'>Whonix on Mac M1 (ARM) - User Support (still unsupported at time of writing)</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../suggest-trustworthy-tor-hidden-services-as-time-sources-for-sdwdate/856/201.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../suggest-trustworthy-tor-hidden-services-as-time-sources-for-sdwdate/856/201.html'>
                      <span itemprop='name'>Suggest Trustworthy Tor Hidden Services as Time Sources for sdwdate</span>
                    </a>
                    <meta itemprop='position' content='4'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../sdwdate-time-sources-criteria/11035/17.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../sdwdate-time-sources-criteria/11035/17.html'>
                      <span itemprop='name'>sdwdate Time Sources Criteria</span>
                    </a>
                    <meta itemprop='position' content='5'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-13T17:04:13Z' class='post-time'>
                June 13, 2015,  5:04pm
              </time>
              <meta itemprop='dateModified' content='2015-06-13T17:04:13Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Btw the pool members are outdated. Check bottom of  /etc/sdwdate.d/30_sdwdate_default.</p>
<p>A separate branch in the sdwdate repository might be sufficient/better.</p>
<p>Maybe we should keep url_to_unixtime a separate tool as is? Would make it easier to contain security wise? The time required to fork a child process should be negligible?</p>
<p>The question is how many tasks would remain in sdwdate? Perhaps while doing these extensive changes, we could abolish the remaining bash parts. A few features that we don’t use could be removed from sdwdate. Some thoughts…</p>
<ul>
<li>
<p>drop environment variable support</p>
</li>
<li>
<p>drop command line parsing support</p>
</li>
<li>
<p>perhaps drop SYSTOHTC support</p>
</li>
<li>
<p>drop DEBUG=, USER=, DONT_SET_DATE=</p>
</li>
<li>
<p>drop SDWDATE_SCLOCKADJ_* -&gt; hardcode</p>
</li>
<li>
<p>drop ECHO_UNIX_TIME</p>
</li>
<li>
<p>drop --quiet, --cache-dir, --temp-dir</p>
</li>
<li>
<p>drop --(done|success|first_success)_file support (just create those, but not configurable paths)</p>
</li>
<li>
<p>drop built-in (hardcoded) pools, just refuse to work if config file does not exist?</p>
</li>
<li>
<p>config folder parsing only</p>
</li>
<li>
<p>keep the pool, retry, ALLOWED_PER_POOL_FAILURE_RATIO design</p>
</li>
<li>
<p>keep unit test that uses common functions to check all the hidden services for reachability that devs can run every now and then to see which should be removed</p>
</li>
</ul>
<p>Should we keep the current plugin / dispatcher structure?</p>
<p>current plugins:</p>
<ul>
<li>
<a href="../../../external.html?link=https://github.com/Whonix/sdwdate-plugin-anon-shared-streamiso">https://github.com/Whonix/sdwdate-plugin-anon-shared-streamiso</a> : just a setting</li>
<li>
<a href="../../../external.html?link=https://github.com/Whonix/sdwdate-plugin-anon-shared-con-check">https://github.com/Whonix/sdwdate-plugin-anon-shared-con-check</a> : essentially makes sdwdate work until Tor is enabled in torrc + no package manager running anymore + Tor fully bootstrapped</li>
<li>
<a href="../../../external.html?link=https://github.com/Whonix/timesync">https://github.com/Whonix/timesync</a> : gui</li>
</ul>
<p>The idea is to have a strong separation between anonymity distribution vs regular distribution as well as a strong separation between terminal and gui parts. And therefore to keep sdwdate simpler. Also keeping sclockadj out of it.</p>
<p>We could go through sdwdate functions and features one by one. See what we use now, what we require in future. Then sketch a rough high level overview how new python functions could be called and what they should basically do.</p>
<p>Should we create a wiki page for that sketch?</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-13T19:30:44Z' class='post-time'>
                June 13, 2015,  7:30pm
              </time>
              <meta itemprop='dateModified' content='2015-06-13T19:30:44Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="2" data-topic="1137">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>A separate branch in the sdwdate repository might be sufficient/better.</p>
</blockquote>
</aside>
<p>Yes.</p>
<blockquote>Maybe we should keep url_to_unixtime a separate tool as is? Would make it easier to contain security wise? The time required to fork a child process should be negligible?</blockquote>
Yes, in its own module, reading its configuration from /etc/sdwdate.d. 
<blockquote>The question is how many tasks would remain in sdwdate? Perhaps while doing these extensive changes, we could abolish the remaining bash parts. A few features that we don't use could be removed from sdwdate. Some thoughts...
<ul>
<li>drop environment variable support</li>
<li>drop command line parsing support</li>
<li>perhaps drop SYSTOHTC support</li>
<li>drop DEBUG=, USER=, DONT_SET_DATE=</li>
<li>drop SDWDATE_SCLOCKADJ_* -&gt; hardcode</li>
<li>drop ECHO_UNIX_TIME</li>
<li>drop --quiet, --cache-dir, --temp-dir</li>
<li>drop --(done|success|first_success)_file support (just create those, but not configurable paths)</li>
</ul>
</blockquote><br>
That would make sense, and life easier <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:">

<blockquote>- config folder parsing only
- keep the pool, retry, ALLOWED_PER_POOL_FAILURE_RATIO design
- keep unit test that uses common functions to check all the hidden services for reachability that devs can run every now and then to see which should be removed</blockquote>
Yes. The unit test could be as simple as running url_to_unixtime with an argument "--sdout" or something, outputting the values to the terminal instead of returning them to the calling module.
<blockquote>Should we keep the current plugin / dispatcher structure?
<p>current plugins:</p>
<ul>
<li>
<a href="../../../external.html?link=https://github.com/Whonix/sdwdate-plugin-anon-shared-streamiso" rel="nofollow noopener">https://github.com/Whonix/sdwdate-plugin-anon-shared-streamiso</a> : just a setting</li>
<li>
<a href="../../../external.html?link=https://github.com/Whonix/sdwdate-plugin-anon-shared-con-check" rel="nofollow noopener">https://github.com/Whonix/sdwdate-plugin-anon-shared-con-check</a> : essentially makes sdwdate work until Tor is enabled in torrc + no package manager running anymore + Tor fully bootstrapped</li>
</ul>
</blockquote><br>
Probably keep them, still early to tell.

<blockquote>- https://github.com/Whonix/timesync : gui</blockquote>
Probably keep it for the time being. It will become obsolete at some stage of the development, but I'm not familiar enough yet with the intricacies of timesync / sdwdate to be able tot tell when.
<blockquote>We could go through sdwdate functions and features one by one. See what we use now, what we require in future. Then sketch a rough high level overview how new python functions could be called and what they should basically do.</blockquote>
Sounds good.
<blockquote>Should we create a wiki page for that sketch?</blockquote>
Do you mean we would discuss the details in the forum, and outline the results in the wiki?
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-13T19:44:25Z' class='post-time'>
                June 13, 2015,  7:44pm
              </time>
              <meta itemprop='dateModified' content='2015-06-13T19:44:25Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“troubadour, post:3, topic:1137”][quote]<br>
Maybe we should keep url_to_unixtime a separate tool as is? Would make it easier to contain security wise? The time required to fork a child process should be negligible?<br>
[/quote]<br>
Yes, in its own module, reading its configuration from /etc/sdwdate.d.[/quote]<br>
Minor…<br>
I recommend to keep config reading and calling to url_to_unixtime to sdwdate(-python). [I don’t want to imply a new package name, just rewrite of sdwdate-bash to sdwdate-python.)<br>
url_to_unixtime would just be the url to unixtime tool. That way file access and whatnot could be limited to a minimum.</p>
<blockquote>Yes. The unit test could be as simple as running url_to_unixtime with an argument "--sdout" or something, outputting the values to the terminal instead of returning them to the calling module.</blockquote>
Yes.
<blockquote>Do you mean we would discuss the details in the forum, and outline the results in the wiki?</blockquote>
Yes. It's just an idea. Making a high level overview in human speech what functions such as sdwdate_build_median are doing, what other functions etc.
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-13T20:20:38Z' class='post-time'>
                June 13, 2015,  8:20pm
              </time>
              <meta itemprop='dateModified' content='2015-06-13T20:20:38Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>I recommend to keep config reading and calling to url_to_unixtime to sdwdate(-python). [I don't want to imply a new package name, just rewrite of sdwdate-bash to sdwdate-python.)
url_to_unixtime would just be the url to unixtime tool. That way file access and whatnot could be limited to a minimum.</blockquote>
Yes, I was still in sdwdate-bash, where I would not know how to pass a list. 
<blockquote>[quote]Do you mean we would discuss the details in the forum, and outline the results in the wiki?[/quote]
Yes. It's just an idea. Making a high level overview in human speech what functions such as sdwdate_build_median are doing, what other functions etc.</blockquote>
Good idea. It might help us clarifying our work too.
<p>A couple of questions to start with.</p>
<ul>
<li>
<p>Do we use use only onion sites, or we must be able to revert to clearnet sites?</p>
</li>
<li>
<p>Do we want to daemonize sdwdate the same way we did in control-port-filter=python, which finally is declared as service (not fork) in the systemd unit file? It seems overkill because systemd takes care of the daemonization, and python-daemon looks redundant. A “while true” loop could do the job. There is sd_notify … have not looked into it yet.</p>
</li>
</ul>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-13T20:34:00Z' class='post-time'>
                June 13, 2015,  8:34pm
              </time>
              <meta itemprop='dateModified' content='2015-06-13T20:34:00Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>- Do we use use only onion sites, or we must be able to revert to clearnet sites?</blockquote>
I hope we don't have to ever revert to clearnet with ssl insecurities and such.
<blockquote>Do we want to daemonize sdwdate the same way we did in control-port-filter=python, which finally is declared as service (not fork) in the systemd unit file? It seems overkill because systemd takes care of the daemonization, and python-daemon looks redundant. A "while true" loop could do the job. There is sd_notify ... have not looked into it yet.</blockquote>
The simpler way without python-daemon looks fine to me.
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-14T15:03:06Z' class='post-time'>
                June 14, 2015,  3:03pm
              </time>
              <meta itemprop='dateModified' content='2015-06-14T15:03:06Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <ul>
<li>drop built-in (hardcoded) pools, just refuse to work if config file does not exist?</li>
</ul>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-14T16:54:47Z' class='post-time'>
                June 14, 2015,  4:54pm
              </time>
              <meta itemprop='dateModified' content='2015-06-14T16:54:47Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Not sure what you mean. Added the onion sites, hardcoded in the script, from the pools in 30_sdwdate_ default.<br>
<a href="../../../external.html?link=https://github.com/troubadoour/url_to_unixtime-asynchronous/commit/cb5faa8a0de29e8a42467eb2f1595bcbafb5dd2c" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/troubadoour/url_to_unixtime-asynchronous/commit/cb5faa8a0de29e8a42467eb2f1595bcbafb5dd2c</a></p>
<p>Will start on the configuration files. May be a separate file for the pools?</p>
<p>The provisional plan:</p>
<ul>
<li>define the format for the pools file.</li>
<li>write / test the parsing function in url_to_unixtime.</li>
<li>move it in a separate module, because it should be used by both sdwdate and url_to_unixtime in standalone mode (check the sites in the pools).</li>
</ul>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-14T18:54:29Z' class='post-time'>
                June 14, 2015,  6:54pm
              </time>
              <meta itemprop='dateModified' content='2015-06-14T18:54:29Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="7" data-topic="1137">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>- drop built-in (hardcoded) pools, just refuse to work if config file does not exist?</p>
</blockquote>
</aside>
<p>In other words…</p>
<p>Drop:</p>
<ul>
<li><a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/9abcf123f57cc9412b5e3552246223b242f732b3/usr/lib/sdwdate/modules.d/sdwdate#L255-322">https://github.com/Whonix/sdwdate/blob/9abcf123f57cc9412b5e3552246223b242f732b3/usr/lib/sdwdate/modules.d/sdwdate#L255-322</a></li>
<li><a href="../../../external.html?link=https://github.com/troubadoour/url_to_unixtime-asynchronous/blob/cb5faa8a0de29e8a42467eb2f1595bcbafb5dd2c/url_to_unixtime#L132-176">https://github.com/troubadoour/url_to_unixtime-asynchronous/blob/cb5faa8a0de29e8a42467eb2f1595bcbafb5dd2c/url_to_unixtime#L132-176</a></li>
</ul>
<p>Keep:</p>
<ul>
<li><a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/9abcf123f57cc9412b5e3552246223b242f732b3/etc/sdwdate.d/30_sdwdate_default#L213-328">https://github.com/Whonix/sdwdate/blob/9abcf123f57cc9412b5e3552246223b242f732b3/etc/sdwdate.d/30_sdwdate_default#L213-328</a></li>
</ul>
<p>[hr]</p>
<blockquote>Will start on the configuration files. May be a separate file for the pools?</blockquote>
I would like to keep it in one. .d-style parsing as with cpfpy.
<blockquote>- define the format for the pools file.</blockquote>
<p>The current pool syntax is.</p>
<pre><code class="lang-auto">"url.onion[:port]#comment"
"
url.onion[:port]#comment
[url.onion[:port]#comment]
[url.onion[:port]#comment]
[...]
"
"url.onion[:port]#comment"
[...]</code></pre>
<p>Some explanation. Same in other words…</p>
<ul>
<li>
<p>Most lines are single lines such as: “url.onion[:port]<span class="hashtag">#comment</span>”<br>
– I.e. onion url optionally followed by a :port, for example some.onion:443<br>
– Everything behind the # is the comment field.</p>
</li>
<li>
<p>What are the comments good for? For example 33y6fjyhs3phzfjj.onion is hosted by The Guardian. Anyone auditing the sdwdate log would wonder what 33y6fjyhs3phzfjj.onion is, who hosts that. If there was no comment, it would be super tedious to figure that out. The comment field also contains where the information about the existence of that .onion domain come from. Somewhat “proof of inheritance”. Full example: “33y6fjyhs3phzfjj.onion#The Guardian <a href="../../../external.html?link=https://securedrop.theguardian.com/">https://securedrop.theguardian.com</a> 33y6fjyhs3phzfjj.onion”</p>
</li>
<li>
<p>Sometimes multiple .onion domains are hosted by the same entity/individual. In that case, those are grouped within quotes. Full example.</p>
</li>
</ul>
<p>“<br>
atlas777hhh7mcs7.onion:80#Hosted by Thomas White. <a href="../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2015-February/000297.html">https://www.whonix.org/pipermail/whonix-devel/2015-February/000297.html</a><br>
compass6vpxj32p3.onion:80#Hosted by Thomas White. <a href="../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2015-February/000297.html">https://www.whonix.org/pipermail/whonix-devel/2015-February/000297.html</a><br>
globe223ezvh6bps.onion:80#Hosted by Thomas White. <a href="../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2015-February/000297.html">https://www.whonix.org/pipermail/whonix-devel/2015-February/000297.html</a><br>
bbbbbb6qtmqg65g6.onion:80#Hosted by Thomas White. <a href="../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2015-February/000297.html">https://www.whonix.org/pipermail/whonix-devel/2015-February/000297.html</a><br>
pppppptkftqqnfsq.onion:80#Hosted by Thomas White. <a href="../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2015-February/000297.html">https://www.whonix.org/pipermail/whonix-devel/2015-February/000297.html</a><br>
”</p>
<p>sdwdate sees them as “one”. Not as many. Should that entity be picked, a random one (in the above example number x of 5 total) is picked from that group.</p>
<ul>
<li>current pools: <a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/9abcf123f57cc9412b5e3552246223b242f732b3/etc/sdwdate.d/30_sdwdate_default#L224-328">https://github.com/Whonix/sdwdate/blob/9abcf123f57cc9412b5e3552246223b242f732b3/etc/sdwdate.d/30_sdwdate_default#L224-328</a>
</li>
</ul>
<p>We can change the format if that makes parsing easier, but I would like to keep the features.</p>
<blockquote>- write / test the parsing function in url_to_unixtime.</blockquote>
<p>Let’s keep parsing out of url_to_unixtime, let sdwdate do that? url_to_unixtime could stay as simple as is in current version of sdwdate. sdwdate would just call url_to_unixtime as it currently does.</p>
<p>Otherwise if we make url_to_unixtime a module, not forking system calls, the module also should stay simple so it can be re-used elsewhere (sdwdate, unit test).</p>
<blockquote>- move it in a separate module, because it should be used by both sdwdate and url_to_unixtime in standalone mode (check the sites in the pools).</blockquote>
sdwdate
url_to_unixtime
unit_test
<p>sdwdate and unit_test would both be users of the url_to_unixtime module.</p>
<p>Config parsing, pools parsing could be separate modules.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-15T06:38:57Z' class='post-time'>
                June 15, 2015,  6:38am
              </time>
              <meta itemprop='dateModified' content='2015-06-15T06:38:57Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“Patrick, post:9, topic:1137”][quote author=Patrick link=topic=1301.msg8494#msg8494 date=1434294186]</p>
<ul>
<li>drop built-in (hardcoded) pools, just refuse to work if config file does not exist?<br>
[/quote]</li>
</ul>
<p>In other words…</p>
<p>Drop:</p>
<ul>
<li><a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/9abcf123f57cc9412b5e3552246223b242f732b3/usr/lib/sdwdate/modules.d/sdwdate#L255-322" rel="nofollow noopener">https://github.com/Whonix/sdwdate/blob/9abcf123f57cc9412b5e3552246223b242f732b3/usr/lib/sdwdate/modules.d/sdwdate#L255-322</a></li>
<li><a href="../../../external.html?link=https://github.com/troubadoour/url_to_unixtime-asynchronous/blob/cb5faa8a0de29e8a42467eb2f1595bcbafb5dd2c/url_to_unixtime#L132-176" rel="nofollow noopener">https://github.com/troubadoour/url_to_unixtime-asynchronous/blob/cb5faa8a0de29e8a42467eb2f1595bcbafb5dd2c/url_to_unixtime#L132-176</a></li>
</ul>
<p>Keep:</p>
<ul>
<li>
<a href="../../../external.html?link=https://github.com/Whonix/sdwdate/blob/9abcf123f57cc9412b5e3552246223b242f732b3/etc/sdwdate.d/30_sdwdate_default#L213-328%5B/quote%5D" rel="nofollow noopener">https://github.com/Whonix/sdwdate/blob/9abcf123f57cc9412b5e3552246223b242f732b3/etc/sdwdate.d/30_sdwdate_default#L213-328[/quote]</a><br>
That’s where sdwdate_loop becomes obsolete. At the moment, it passes the urls one by one, waiting for the reply from url_to_unixtime before passing the next one.</li>
</ul>
<p>In its threaded version, url_to_unixtime expects a url list in a single parameter and returns unixtimes one by one in random order.<br>
[That should be modified so that it returns only a list with valid times.]</p>
<p>In bash, sdwdate should build the url list (in the loop), pass it to url_to_unixtime, wait for the unixtime list and perform the existing checks and calculations.</p>
<p>In python, the list can be passed as a single argument (list type), but I guess that in bash, it’s possible to create a comma separated list of strings, that could be parsed in url_to_unixtime.</p>
<p>The explanation about the config file makes it clearer. Will try to keep it d-style.</p>
<blockquote>Let's keep parsing out of url_to_unixtime, let sdwdate do that? url_to_unixtime could stay as simple as is in current version of sdwdate. sdwdate would just call url_to_unixtime as it currently does.</blockquote>
In the final version, url_to_unixtime should be stripped of any system call, stay as simple as the current version.
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-15T15:02:18Z' class='post-time'>
                June 15, 2015,  3:02pm
              </time>
              <meta itemprop='dateModified' content='2015-06-15T15:02:18Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Asynchronous is really worth doing, now that with systemd the boot times are so fast, time sync would be the major time sunk.</p>
<p>So we want to keep bash in the first iteration or kick it out from start? I assume we make it python-only from start for my following words. If we do it python-only and without forking system calls, then url_to_unixtime does no longer need a command line interface either.</p>
<p>It’s 3 threads and 3 pools. url_to_unixtime should really be just be url to unixtime. Really just fetch 1 unixtime from 1 onion domain. Not 3_url_to_3_unixtime. There could be a 3_url_to_3_unixtime module that uses url_to_unixtime. 3_url_to_3_unixtime would do the threading and calling of url_to_unixtime. No need to call it 3_url_to_3_unixtime, though, it could just be done in sdwdate.</p>
<p>sdwdate_loop currently picks a random entity from a pool. $random_x from $total_pool_members. Asks sdwdate_get_time_from_remote to try fetching the time. If it works… Fine. Done. Otherwise the entity is remembered for that run and ignored. Another $random_x from $total_pool_members gets chosen. (Should it be an already remembered one, another attempt to pick a random one will be made.)</p>
<p>If too many pool members were unreachable, the pool is considered broken and sdwdate aborts. That means, time will not be set. Will be logged. Then sdwdate returns back to the waiting loop and tries again when the random sleep period (see sdwdate_sleep).</p>
<p>Getting that logic done right is non-trivial, but doable. Test cases need to involve no pool members, many pool members, various values for ALLOWED_PER_POOL_FAILURE_RATIO.</p>
<p>When doing asynchronous requests, it could happen that 1, 2 or 3 pools are unreachlable. Either pool one, two and/or three could be down. As soon this is recognized, should all fetches be aborted or should sdwdate wait for all three threads to return?</p>
<p>off-topic: mailed you a while ago.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-16T16:28:54Z' class='post-time'>
                June 16, 2015,  4:28pm
              </time>
              <meta itemprop='dateModified' content='2015-06-16T16:28:54Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>So we want to keep bash in the first iteration or kick it out from start? I assume we make it python-only from start for my following words.</blockquote>
Yes, python only would be easier.
<blockquote>If we do it python-only and without forking system calls, then url_to_unixtime does no longer need a command line interface either.</blockquote>
Yes, see below.
<p>I believe that we could make sdwdate logic simpler, with the help of python-gevent.</p>
<p>There are two files in <a href="../../../external.html?link=https://github.com/troubadoour/url_to_unixtime-asynchronous" rel="nofollow noopener">https://github.com/troubadoour/url_to_unixtime-asynchronous</a>. You should create them in the same directory, for the import.</p>
<ul>
<li>the structure of url_to_unixtime should be more or less final.</li>
<li>in test.py, we just pass the url list from the pool to url_to_unixtime and wait for the returned list of valid unixtimes.</li>
</ul>
<p>python-gevent opens the sockets concurrently, and the the fetching order is random (the sockets are not open as ordered in the list).</p>
<p>So with this figure, sdwdate_loop is not required any longer, as well as the randomization. which is done by gevent. The “remember bad url” does not look necessary at that point, as gevent uses some sort of brute force, and the acquisition time penalty is minimal, providing that not too many remotes are down. We could probably create a log for the bad sites.</p>
<p>Then, from the returned list, we could start building up the sdwate remaining checks and functions.</p>
<p>A question: what is the reason to separate the remotes in three pools? From what I understand from sdwdate code, all the remotes are fetched.</p>
<p>Note. commenting lines 57-58 in test.py let us display only the failing remotes. When run successively several times, some of them are consistently down, with a different error, though.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-16T19:31:35Z' class='post-time'>
                June 16, 2015,  7:31pm
              </time>
              <meta itemprop='dateModified' content='2015-06-16T19:31:35Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Note, the ‘remembering’ is only in place during an iteration. Not during the whole lifetime of the daemon. (That would be bad in case of network issues, all would be remembered as down, even though they are not. No more time sync therefore.)</p>
<blockquote>python-gevent opens the sockets concurrently, and the the fetching order is random (the sockets are not open as ordered in the list).
<p>So with this figure, sdwdate_loop is not required any longer, as well as the randomization. which is done by gevent. The “remember bad url” does not look necessary at that point, as gevent uses some sort of brute force, and the acquisition time penalty is minimal, providing that not too many remotes are down. We could probably create a log for the bad sites. </p>
</blockquote><br>
But you’re not planing to try to connect to all entities of one pool at once? That would cause lots of extra traffic for all servers and clients if you think this for whole Whonix distribution users.
<blockquote>A question: what is the reason to separate the remotes in three pools? From what I understand from sdwdate code, all the remotes are fetched.</blockquote>
1 member from each pool is fetched per iteration. (Unless a member is down, then others are tried.)
<p>Pools are split for better security. Those are supposed to be run by diverse entities. Split into groups, that ideally won’t ever collaborate in an attack.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-17T18:26:46Z' class='post-time'>
                June 17, 2015,  6:26pm
              </time>
              <meta itemprop='dateModified' content='2015-06-17T18:26:46Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I was slightly confused. getting clearer. Back to the drawing board.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-19T23:33:13Z' class='post-time'>
                June 19, 2015, 11:33pm
              </time>
              <meta itemprop='dateModified' content='2015-06-19T23:33:13Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Pushed a new test script in <a href="../../../external.html?link=https://github.com/troubadoour/url_to_unixtime-asynchronous" rel="nofollow noopener">https://github.com/troubadoour/url_to_unixtime-asynchronous</a>.<br>
[If the logic is sound, will create a new package, or a branch in sdwdate]</p>
<p>Both files are modified.</p>
<p>“test.py” is the first attempt to a python sdwdate_loop. It fetches one unique remote from each pool. Most of the debugging print statements are left, so that you can follow the internals.</p>
<p>The process is fast, and with timeout implemented in url_to_unixtime, does not seem to hang (for one minute or so), but there is one small issue with gevent timeout. Looking into it.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-21T12:05:40Z' class='post-time'>
                June 21, 2015, 12:05pm
              </time>
              <meta itemprop='dateModified' content='2015-06-21T12:05:40Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Will test this soon.</p>
<p>Could you please superficially look through the open sdwdate tickets?</p>
<p><a href="../../../external.html?link=https://phabricator.whonix.org/maniphest/?statuses=open%28%29&amp;projects=PHID-PROJ-25ql66l3fo7il6prq6so#R" class="onebox" target="_blank">https://phabricator.whonix.org/maniphest/?statuses=open()&amp;projects=PHID-PROJ-25ql66l3fo7il6prq6so#R</a></p>
<p>New plugins are planned. One day.</p>
<p>It’s nothing that should be done right now. Probably nothing important to consider for now. Just to avoid coming up with a design that would later make it difficult to add these stuff (holes for the plugins).</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-21T15:25:26Z' class='post-time'>
                June 21, 2015,  3:25pm
              </time>
              <meta itemprop='dateModified' content='2015-06-21T15:25:26Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I guess it’s a good start, but needs more work with logging and etc.</p>
<p>Median. Not average. Average is a bug, because then one pool being very much off would still have a huge impact.</p>
<p>Can you keep the metadata in the pools?</p>
<p>A good test case if having the gateway shut down. (Or Tor shut down or else…) test.py never exits then.</p>
<p>Issue: duplicates are added to the remembered list.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-21T15:26:56Z' class='post-time'>
                June 21, 2015,  3:26pm
              </time>
              <meta itemprop='dateModified' content='2015-06-21T15:26:56Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="17" data-topic="1137">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>A good test case if having the gateway shut down. (Or Tor shut down or else…) test.py never exits then.</p>
</blockquote>
</aside>
<p>And causes high cpu then due to the endless loop.</p>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-22T18:13:28Z' class='post-time'>
                June 22, 2015,  6:13pm
              </time>
              <meta itemprop='dateModified' content='2015-06-22T18:13:28Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Created a new branch in sdwdate. <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/tree/python" rel="nofollow noopener">https://github.com/troubadoour/sdwdate/tree/python</a></p>
<p>Waiting for their proper location, the files are in /usr/lib/sdwdate-python.</p>
<aside class="quote" data-post="17" data-topic="1137">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Median. Not average. Average is a bug, because then one pool being very much off would still have a huge impact.</p>
</blockquote>
</aside>
<p>Yes, I remember <a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,267.msg1845.html#msg1845" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,267.msg1845.html#msg1845</a></p>
<blockquote>Can you keep the metadata in the pools?</blockquote>
At this stage, the original file 30_sdwdate_default is parsed (not quite finished).
<blockquote>A good test case if having the gateway shut down. (Or Tor shut down or else...) test.py never exits then.</blockquote>
Fixed. Two additions with comments in url_to_unixtime.py (line 114) and sdwdate_python (line 142).
<blockquote>Issue: duplicates are added to the remembered list.</blockquote>
Could not see any duplicates. For me, the "pool n picked urls" contain unique members.
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1137.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-06-23T01:26:44Z' class='post-time'>
                June 23, 2015,  1:26am
              </time>
              <meta itemprop='dateModified' content='2015-06-23T01:26:44Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>(As per <a href="../../../external.html?link=https://github.com/troubadoour/sdwdate/commit/0e8fcd59cc3140cb31eb83ccec6d9425ebdddebf">https://github.com/troubadoour/sdwdate/commit/0e8fcd59cc3140cb31eb83ccec6d9425ebdddebf</a>…)</p>
<p>Still having endless loop issues.</p>
<p>For reproduction, use this test case als pool_one.</p>
<pre><code class="lang-auto">pool_one = ['a',
            'b',
            'c',
            'd',
            'e',
            'f',
            'g',
            'h',
            'i',
            'k',
            'l',
            'm',
            'n',
            'o',
            'p',
            'q']</code></pre>
        </div>

        <meta itemprop='headline' content='sdwdate and sdwdate-gui development thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="11374658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
