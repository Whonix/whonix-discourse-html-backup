<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Shared Folder Host-Side implementation</title>
    <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439</link>
    <description>This topic is to track tasks needed to implement host-side shared folders for KVM. 


1. Incron install and config for auto permission adjustment.
2. shared folder help package additions

***

1. Status: Incron policy for permission command application upon certain file actions testing and working.
 
2. Status:WIP

systemd service change to add a directory in the user&#39;s home folder if it detects non-virtual environment. Will need to distinguish between Whonix-Host and Whonix Physical builds on x64 and ARM somehow since that would be irrelevant. @Patrick what if set it to look for a certain &quot;this is Whonix-Host&quot; file that&#39;s only available in a Whonix Host build?

Two parts: 
*mkdir /home/$USER/shared
*Adding a shared folder device to Whonix-Workstation using virt-xml. DONE. User name needs to be variable scripted though.

`sudo virt-xml Whonix-Workstation --add-device --filesystem source=/home/user/shared,target=shared,type=mount,accessmode=mapped`</description>
    <language>en</language>
    <lastBuildDate>Tue, 04 Jun 2019 15:10:17 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>3 posts were split to a new topic: <a href="http://forums.whonix.org/t/question-on-shared-folder-host/7498">Question on shared folder host</a></p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/25</link>
        <pubDate>Tue, 04 Jun 2019 15:13:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-25</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/whonix-libvirt/pull/86/commits/ef1a6124dccecbe1e098ea141caf91ab973568fc" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-libvirt</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/HulaHoopWhonix" target="_blank" rel="nofollow noopener">
    <img alt="HulaHoopWhonix" src="https://avatars3.githubusercontent.com/u/7875239?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/whonix-libvirt/commit/ef1a6124dccecbe1e098ea141caf91ab973568fc" target="_blank" rel="nofollow noopener">Added Whonix Gateway shared folder</a>
</h4>


<div class="date">
  by <a href="https://github.com/HulaHoopWhonix" target="_blank" rel="nofollow noopener">HulaHoopWhonix</a>
  on <a href="https://github.com/Whonix/whonix-libvirt/commit/ef1a6124dccecbe1e098ea141caf91ab973568fc" target="_blank" rel="nofollow noopener">02:30AM - 02 Jun 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>6 additions</strong>
  and <strong>3 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/24</link>
        <pubDate>Sun, 02 Jun 2019 02:31:28 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-24</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>/mnt/gateway-shared</p>
<p>/mnt/workstation-shared</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/23</link>
        <pubDate>Sat, 01 Jun 2019 16:37:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-23</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="21" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Is <code>/mnt/shared</code> is too generic as name and GW would have to use a different folder?</p>
</blockquote>
</aside>
<p>It’s probably better for security. What name do you recommend?</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/22</link>
        <pubDate>Sat, 01 Jun 2019 14:45:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-22</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="20" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Do you think Whonix GW should have it added as well?</p>
</blockquote>
</aside>
<p>Yes. Doesn’t hurt.</p>
<p>Is <code>/mnt/shared</code> is too generic as name and GW would have to use a different folder?</p>
<aside class="quote no-group" data-post="20" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>I imagine this could be part of a usability tool on the GW where users want to backup/restore onion keys on demand.</p>
</blockquote>
</aside>
<p>Yes.</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/21</link>
        <pubDate>Sat, 01 Jun 2019 01:32:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-21</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Do you think Whonix GW should have it added as well? Or leaveit on   per user basis?</p>
<p>I imagine this could be part of a usability tool on the GW where users want to backup/restore onion keys on demand.</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/20</link>
        <pubDate>Sat, 01 Jun 2019 01:27:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-20</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Merged.</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/19</link>
        <pubDate>Sat, 01 Jun 2019 01:26:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-19</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Never mind I missed <a href="https://github.com/Whonix/whonix-libvirt/pull/85" rel="nofollow noopener">https://github.com/Whonix/whonix-libvirt/pull/85</a> which will work as usual.</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/18</link>
        <pubDate>Sat, 01 Jun 2019 01:24:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-18</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>I’m using the web interface right now and it seems to have messed things upat your end? I was commiting the patch to the master branch</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/17</link>
        <pubDate>Sat, 01 Jun 2019 01:24:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-17</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Did you use “directly commit to git” using github web? I have no idea how to use that or how to make use of such commits (without manual copy/paste which would be besides the point and loose authorship and commit messages).</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/16</link>
        <pubDate>Sat, 01 Jun 2019 01:23:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-16</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-post="10" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p><a href="https://github.com/Whonix/whonix-libvirt/pull/85/commits/25649bd7f16f8030a5c9d812146b53711c5e330f" rel="nofollow noopener">https://github.com/Whonix/whonix-libvirt/pull/85/commits/25649bd7f16f8030a5c9d812146b53711c5e330f</a></p>
</blockquote>
</aside>
<p>This commit does not show up in git master branch.</p>
<p><a href="https://github.com/Whonix/whonix-libvirt/commits/master" rel="nofollow noopener">https://github.com/Whonix/whonix-libvirt/commits/master</a></p>
<p>I also don’t see a new branch.</p>
<p>It also does not show up in <a href="https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install" rel="nofollow noopener">https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install</a></p>
<p><code>git fetch</code> followed by <code>git show</code> does not show commit <code>25649bd7f16f8030a5c9d812146b53711c5e330f</code> either.</p>
<p>Really strange.</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/15</link>
        <pubDate>Sat, 01 Jun 2019 01:22:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-15</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/HulaHoopWhonix/whonix-libvirt/commit/735c6fa9639fffa7bcbf13fb5cdf7d9e0d378ea0" target="_blank" rel="nofollow noopener">github.com/HulaHoopWhonix/whonix-libvirt</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/HulaHoopWhonix" target="_blank" rel="nofollow noopener">
    <img alt="HulaHoopWhonix" src="https://avatars3.githubusercontent.com/u/7875239?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/HulaHoopWhonix/whonix-libvirt/commit/735c6fa9639fffa7bcbf13fb5cdf7d9e0d378ea0" target="_blank" rel="nofollow noopener">Adjust permissions and create shared mount point</a>
</h4>


<div class="date">
  by <a href="https://github.com/HulaHoopWhonix" target="_blank" rel="nofollow noopener">HulaHoopWhonix</a>
  on <a href="https://github.com/HulaHoopWhonix/whonix-libvirt/commit/735c6fa9639fffa7bcbf13fb5cdf7d9e0d378ea0" target="_blank" rel="nofollow noopener">01:21AM - 01 Jun 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>5 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Done</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/14</link>
        <pubDate>Sat, 01 Jun 2019 01:21:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-14</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="12" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>OK Does it need to be in a if-then block?</p>
</blockquote>
</aside>
<p>No, since these commands are idempotent.</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/13</link>
        <pubDate>Sat, 01 Jun 2019 01:17:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-13</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="11" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Ok. Could you add too please?</p>
</blockquote>
</aside>
<p>OK Does it need to be in a if-then block?</p>
<aside class="quote no-group" data-post="11" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Does it need <code>-c qemu:///system</code> ?</p>
</blockquote>
</aside>
<p>No this is a dedicated tool that doesn’t use this notation</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/12</link>
        <pubDate>Sat, 01 Jun 2019 01:16:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-12</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Ok. Could you add too please?</p>
<blockquote>
<p>virt-xml “Whonix-Workstation” --add-device --filesystem source=/mnt/shared,target=shared,type=mount,accessmode=mapped` || true</p>
</blockquote>
<p>Does it need <code>-c qemu:///system</code>?</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/11</link>
        <pubDate>Sat, 01 Jun 2019 01:15:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-11</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/whonix-libvirt/pull/85/commits/25649bd7f16f8030a5c9d812146b53711c5e330f" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-libvirt</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/HulaHoopWhonix" target="_blank" rel="nofollow noopener">
    <img alt="HulaHoopWhonix" src="https://avatars3.githubusercontent.com/u/7875239?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/whonix-libvirt/commit/25649bd7f16f8030a5c9d812146b53711c5e330f" target="_blank" rel="nofollow noopener">Add share folder</a>
</h4>


<div class="date">
  by <a href="https://github.com/HulaHoopWhonix" target="_blank" rel="nofollow noopener">HulaHoopWhonix</a>
  on <a href="https://github.com/Whonix/whonix-libvirt/commit/25649bd7f16f8030a5c9d812146b53711c5e330f" target="_blank" rel="nofollow noopener">01:11AM - 01 Jun 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>OK  these two commands need to precede the virt-xml one or else it fails becuase the folder doesn;t exist</p>
<aside class="quote no-group" data-post="9" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Then this is fully implemented? No need for <code>ConditionVirtualization=false</code> or any other changes?</p>
</blockquote>
</aside>
<p>No need for service conditions now after this. incron can just go into the host package you mentioned.</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/10</link>
        <pubDate>Sat, 01 Jun 2019 01:13:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-10</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>And above, add</p>
<pre><code>mkdir --parents /mnt/shared
chmod 777 /mnt/shared
</code></pre>
<p>?</p>
<p>Then this is fully implemented? No need for <code>ConditionVirtualization=false</code> or any other changes?</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/9</link>
        <pubDate>Sat, 01 Jun 2019 01:10:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-9</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="7" data-topic="7439" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Should I add it now or when a full configuration is added?</p>
</blockquote>
</aside>
<p>Dunno. I don’t know what would speak about doing it now.</p>
<aside class="quote no-group quote-modified" data-post="1" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>`sudo virt-xml Whonix-Workstation --add-device --filesystem source=/home/user/shared,target=shared,type=mount,accessmode=mapped</p>
</blockquote>
</aside>
<p>add</p>
<pre><code>virt-xml "Whonix-Workstation" --add-device --filesystem source=/mnt/shared,target=shared,type=mount,accessmode=mapped`
</code></pre>
<p>below</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install#L69-L78" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install#L69-L78" target="_blank" rel="nofollow noopener">Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install#L69-L78</a></h4>
<pre class="onebox"><code class="lang-"><ol class="start lines" start="69" style="counter-reset: li-counter 68 ;">
<li>virsh -c qemu:///system net-autostart "default" || true</li>
<li>virsh -c qemu:///system net-start "default" || true</li>
<li>virsh -c qemu:///system net-define "/usr/share/whonix-libvirt/xml/Whonix-External.xml" || true</li>
<li>virsh -c qemu:///system net-define "/usr/share/whonix-libvirt/xml/Whonix-Internal.xml" || true</li>
<li>virsh -c qemu:///system net-autostart "Whonix-External" || true</li>
<li>virsh -c qemu:///system net-start "Whonix-External" || true</li>
<li>virsh -c qemu:///system net-autostart "Whonix-Internal" || true</li>
<li>virsh -c qemu:///system net-start "Whonix-Internal" || true</li>
<li>virsh -c qemu:///system define "$temp_dir/xml/Whonix-Gateway.xml" || true</li>
<li>virsh -c qemu:///system define "$temp_dir/xml/Whonix-Workstation.xml" || true</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>?</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/8</link>
        <pubDate>Sat, 01 Jun 2019 01:05:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-8</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Should I add it now or when a full configuration is added?</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/7</link>
        <pubDate>Sat, 01 Jun 2019 01:03:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-7</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-post="5" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Is it possible to control whether a dependency gets pulled depending on the environment?</p>
</blockquote>
</aside>
<p>Not that I know, but no need since the dependency could be added to the host package <a href="https://github.com/Whonix/anon-meta-packages/blob/master/debian/control" rel="nofollow noopener"><code>whonix-host-xfce-kvm-freedom</code></a> which only gets installed on Whonix Host Xfce KVM.</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/6</link>
        <pubDate>Sat, 01 Jun 2019 01:01:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-6</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Since the same directory location is readily available on host and guest this part of the package doesn’t need conditionals.</p>
<p>Only the part about pulling/sarting the incron package should be on the host. Is it possible to control whther a dependency gets pulled depending on the environment? Or maybe the incron daemon can be adjusted to only start when it detects it’s not virtualized.</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/5</link>
        <pubDate>Wed, 29 May 2019 20:58:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-5</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>Are /mnt/ permissions lenient or will they cause problems for files in /shared ?</p>
</blockquote>
<p>It’s whatever we make them. Worked well inside VMs. (See<br>
<code>shared-folder-help.postinst</code>.)</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/4</link>
        <pubDate>Wed, 29 May 2019 14:20:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-4</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="2" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>systemd supports <code>ConditionVirtualization=false</code> , does that help?</p>
</blockquote>
</aside>
<p>It should.</p>
<aside class="quote no-group" data-post="2" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>On host or in VM?</p>
</blockquote>
</aside>
<p>All host side.</p>
<aside class="quote no-group" data-post="2" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>What about the already established /mnt/shared folder by <a href="https://github.com/Whonix/shared-folder-help" rel="nofollow noopener">https://github.com/Whonix/shared-folder-help</a> package?</p>
</blockquote>
</aside>
<p>Good idea. Are /mnt/ permissions lenient or will they cause problems for files in /shared ?</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/3</link>
        <pubDate>Sun, 26 May 2019 16:43:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-3</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>systemd supports <code>ConditionVirtualization=false</code>, does that help?</p>
<aside class="quote no-group" data-post="1" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Incron install and config for auto permission adjustment.</p>
</blockquote>
</aside>
<p>On host or in VM?</p>
<aside class="quote no-group" data-post="1" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>*mkdir /home/$USER/shared</p>
</blockquote>
</aside>
<p>What about the already established /mnt/shared folder by <a href="https://github.com/Whonix/shared-folder-help" rel="nofollow noopener">https://github.com/Whonix/shared-folder-help</a> package?</p>
<aside class="quote no-group" data-post="1" data-topic="7439">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>“this is Whonix-Host” file that’s only available in a Whonix Host build?</p>
</blockquote>
</aside>
<p>Not yet, but will be implemented.</p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/2</link>
        <pubDate>Sun, 26 May 2019 13:22:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-2</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
      <item>
        <title>Shared Folder Host-Side implementation</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>This topic is to track tasks needed to implement host-side shared folders for KVM.</p>
<ol>
<li>Incron install and config for auto permission adjustment.</li>
<li>shared folder help package additions</li>
</ol>
<hr>
<ol>
<li>
<p>Status: Incron policy for permission command application upon certain file actions testing and working.</p>
</li>
<li>
<p>Status:WIP</p>
</li>
</ol>
<p>systemd service change to add a directory in the user’s home folder if it detects non-virtual environment. Will need to distinguish between Whonix-Host and Whonix Physical builds on x64 and ARM somehow since that would be irrelevant. <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> what if set it to look for a certain “this is Whonix-Host” file that’s only available in a Whonix Host build?</p>
<p>Two parts:<br>
*mkdir /home/$USER/shared<br>
*Adding a shared folder device to Whonix-Workstation using virt-xml. DONE. User name needs to be variable scripted though.</p>
<p><code>sudo virt-xml Whonix-Workstation --add-device --filesystem source=/home/user/shared,target=shared,type=mount,accessmode=mapped</code></p>
          <p><a href="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/shared-folder-host-side-implementation/7439/1</link>
        <pubDate>Sat, 25 May 2019 20:25:46 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7439-1</guid>
        <source url="http://forums.whonix.org/t/shared-folder-host-side-implementation/7439.rss">Shared Folder Host-Side implementation</source>
      </item>
  </channel>
</rss>
