<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>cwtch messaging - Development - Whonix Forum</title>
    <meta name="description" content="Sarah Lewis built an asynchronous and group messaging solution on top of the Ricochet protocol written in Go. 
This would be an interesting major addition to Whonix if there are enough resources to package it independent&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="5353.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;cwtch messaging&#39;" href="5353.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/7/79dfdbe79e360da41f8c4fa17f276ae572dd35de.png" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/7/79dfdbe79e360da41f8c4fa17f276ae572dd35de.png" />
<meta property="og:url" content="https://forums.whonix.org/t/cwtch-messaging/5353" />
<meta name="twitter:url" content="https://forums.whonix.org/t/cwtch-messaging/5353" />
<meta property="og:title" content="cwtch messaging" />
<meta name="twitter:title" content="cwtch messaging" />
<meta property="og:description" content="Sarah Lewis built an asynchronous and group messaging solution on top of the Ricochet protocol written in Go.  This would be an interesting major addition to Whonix if there are enough resources to package it independently. I will open a ticket depending on feasibility.      https://cwtch.im/  /cc @iry because you are interested in Ricochet." />
<meta name="twitter:description" content="Sarah Lewis built an asynchronous and group messaging solution on top of the Ricochet protocol written in Go.  This would be an interesting major addition to Whonix if there are enough resources to package it independently. I will open a ticket depending on feasibility.      https://cwtch.im/  /cc @iry because you are interested in Ricochet." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="6 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="19 ❤" />
<meta property="article:published_time" content="2018-06-20T03:38:31+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="53534658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="5353.html">cwtch messaging</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">

            <link itemprop="image" href="../../uploads/default/original/2X/7/79dfdbe79e360da41f8c4fa17f276ae572dd35de.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-06-20T03:38:31Z' class='post-time'>
                June 20, 2018,  3:38am
              </time>
              <meta itemprop='dateModified' content='2018-06-20T03:38:31Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sarah Lewis built an asynchronous and group messaging solution on top of the Ricochet protocol written in Go.</p>
<p>This would be an interesting major addition to Whonix if there are enough resources to package it independently. I will open a ticket depending on feasibility.</p>
<p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../uploads/default/original/2X/7/79dfdbe79e360da41f8c4fa17f276ae572dd35de.png" class="site-icon" width="32" height="32">
      <a href="../../../external.html?link=https://openprivacy.ca/" target="_blank" rel="nofollow noopener">openprivacy.ca</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:627/500;"><img src="../../uploads/default/original/2X/5/5387ccbd828da019e25ce74329c9b150a88ada6c.png" class="thumbnail"></div>

<h3><a href="../../../external.html?link=https://openprivacy.ca/" target="_blank" rel="nofollow noopener">Open Privacy Research Society</a></h3>

<p>The Open Privacy Research Society is a non-profit Canadian group based in Vancouver, British Columbia. We believe that moral systems enable consent. Our society exists to invent, create, build, test, publish, deploy, promote, and to encourage the...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<a href="../../../external.html?link=https://cwtch.im/" class="onebox" target="_blank" rel="nofollow noopener">https://cwtch.im/</a></p>
<p>/cc <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/iry">@iry</a> because you are interested in Ricochet.</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../streamlining-dev-collaboration/14733/12.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../streamlining-dev-collaboration/14733/12.html'>
                      <span itemprop='name'>Streamlining Dev Collaboration</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-02-16T18:24:11Z' class='post-time'>
                February 16, 2019,  6:24pm
              </time>
              <meta itemprop='dateModified' content='2019-02-16T18:33:00Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Cwtch alpha debuts a couple of days ago</p>
<aside class="onebox twitterstatus">
  <header class="source">
      <a href="../../../external.html?link=https://twitter.com/SarahJamieLewis/status/1096081773212004355" target="_blank" rel="nofollow noopener">twitter.com</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://pbs.twimg.com/profile_images/1091174026649583616/qyAjyiOO_400x400.jpg" class="thumbnail onebox-avatar" width="400" height="400">
<h4>
  <a href="../../../external.html?link=https://twitter.com/SarahJamieLewis/status/1096081773212004355" target="_blank" rel="nofollow noopener">
    Sarah Jamie Lewis (SarahJamieLewis)
  </a>
</h4>

<div class="tweet">If you would like to test out Cwtch today, I'll be running at:

sarah~g4rdu7cajgb444minvsk2bii7lkne6cmlhiibtx3pnozbiszjp55qvid <a target="_blank" href="../../../external.html?link=https://twitter.com/OpenPriv/status/1096077069920788480" rel="nofollow noopener">twitter.com/OpenPriv/statu…</a>
</div>

<div class="date">
  <a href="../../../external.html?link=https://twitter.com/SarahJamieLewis/status/1096081773212004355" target="_blank" rel="nofollow noopener">4:20 PM - 14 Feb 2019</a>
    <span class="like">
      <svg viewbox="0 0 512 512" width="14px" height="16px" aria-hidden="true">
        <path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"></path>
      </svg> 27
    </span>
    <span class="retweet">
      <svg viewbox="0 0 640 512" width="14px" height="16px" aria-hidden="true">
        <path d="M629.657 343.598L528.971 444.284c-9.373 9.372-24.568 9.372-33.941 0L394.343 343.598c-9.373-9.373-9.373-24.569 0-33.941l10.823-10.823c9.562-9.562 25.133-9.34 34.419.492L480 342.118V160H292.451a24.005 24.005 0 0 1-16.971-7.029l-16-16C244.361 121.851 255.069 96 276.451 96H520c13.255 0 24 10.745 24 24v222.118l40.416-42.792c9.285-9.831 24.856-10.054 34.419-.492l10.823 10.823c9.372 9.372 9.372 24.569-.001 33.941zm-265.138 15.431A23.999 23.999 0 0 0 347.548 352H160V169.881l40.416 42.792c9.286 9.831 24.856 10.054 34.419.491l10.822-10.822c9.373-9.373 9.373-24.569 0-33.941L144.971 67.716c-9.373-9.373-24.569-9.373-33.941 0L10.343 168.402c-9.373 9.373-9.373 24.569 0 33.941l10.822 10.822c9.562 9.562 25.133 9.34 34.419-.491L96 169.881V392c0 13.255 10.745 24 24 24h243.549c21.382 0 32.09-25.851 16.971-40.971l-16.001-16z"></path>
      </svg> 9
    </span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Includes Android prototype:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://openprivacy.ca/images/privacy_eye.png" class="site-icon" width="32" height="32">
      <a href="../../../external.html?link=https://openprivacy.ca/blog/2019/02/14/cwtch-alpha/" target="_blank" rel="nofollow noopener">openprivacy.ca</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/475;"><img src="../../../external.html?link=https://openprivacy.ca/images/cwtch-screenshot-1.png" class="thumbnail"></div>

<h3><a href="../../../external.html?link=https://openprivacy.ca/blog/2019/02/14/cwtch-alpha/" target="_blank" rel="nofollow noopener">Happy Valentine's Day&amp;colon; Announcing Cwtch Alpha, A Start to Building...</a></h3>

<p>The Open Privacy Research Society is a non-profit Canadian group based in Vancouver, British Columbia. We believe that moral systems enable consent. Our society exists to invent, create, build, test, publish, deploy, promote, and to encourage the...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/huwaqu'><span itemprop='name'>huwaqu</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-19T04:25:50Z' class='post-time'>
                January 19, 2022,  4:25am
              </time>
              <meta itemprop='dateModified' content='2022-01-19T04:25:50Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Any tips on running this on whonix 16?<br>
Cwtch is stuck at the loading splash screen for me.<br>
Iv tried it previous and had this problem and still have the same problem now with the nightly builds. I gave it a try because the nightly builds have improvements to work on tor systems!</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/huwaqu'><span itemprop='name'>huwaqu</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-20T00:54:46Z' class='post-time'>
                January 20, 2022, 12:54am
              </time>
              <meta itemprop='dateModified' content='2022-01-20T00:54:46Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hello.</p>
<p>Using the latest  flwtch / linux nightlies (g5e8f) from buildDOTopenprivacyDOTca/files/ cwtch is stuck at the splash screen.</p>
<p>is there anything whonix can do to get this working?<br>
Getting stuck at “[DBUG] checking if we can run system installed tor or bundled tor”</p>
<p>An issue has been opened for this on their issue tracker.<br>
gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqdDOT onion/cwtch.im/cwtch-ui/issues/324</p>
<p>cwtchim3z2gdsyb27acfc26lup5aqbegjrjsqulzrnkuoalq5h4gmcidDOTonion</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-11T15:06:33Z' class='post-time'>
                October 11, 2022,  3:06pm
              </time>
              <meta itemprop='dateModified' content='2022-10-11T15:06:33Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="../../../external.html?link=http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch-ui/issues/324" class="onebox" target="_blank" rel="noopener">http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch-ui/issues/324</a></p>
<p>Can I assume you are one of the developers because you opened this thread on the same day it was opened upstream by the devs. I am asking this because then I will adapt my explanation according to the listener.</p>
<blockquote>
<p>Likely need to add a configuration / other option that either allows cwtch to use Tor OR allows cwtch to be started without invoking <code>tor</code> cmd.</p>
</blockquote>
<p>Use tor’s control protocol, do not start tor, it is running on the Gateway, not on the Workstation.</p>
<aside class="onebox githubblob" data-onebox-src="../../../external.html?link=https://github.com/Whonix/onion-grater/blob/master/usr/share/doc/onion-grater-merger/examples/40_onionshare.yml">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/Whonix/onion-grater/blob/master/usr/share/doc/onion-grater-merger/examples/40_onionshare.yml" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../external.html?link=https://github.com/Whonix/onion-grater/blob/master/usr/share/doc/onion-grater-merger/examples/40_onionshare.yml" target="_blank" rel="noopener">Whonix/onion-grater/blob/master/usr/share/doc/onion-grater-merger/examples/40_onionshare.yml</a></h4>


      <pre><code class="lang-yml">## Copyright (C) 2016 - 2022 ENCRYPTED SUPPORT LP &lt;adrelanos@whonix.org&gt;
## See the file COPYING for copying conditions

#### meta start
#### project Whonix
#### category tor-control
#### description
## Shipped but not enabled by default onion-grater profile.
#### meta end

## tested with onionshare v0.9.2-67-g12acb89
## tested with tor 0.2.9.8-2~d80.jessie+1

## Tor's reply ClientAuth
## 250-ClientAuth=onionshare:xxxKEYBLOBxxxxxxxxxxxx
## is left intact because onionshare's button 'Copy HidServAuth' coppies the
## following into the clipboard, which is a usability feature.
## HidServAuth xxxdomainxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.onion xxxKEYBLOBxxxxxxxxxxxx
## Otherwise the user would have to extract it from onion-grater
## logs.
</code></pre>



  This file has been truncated. <a href="../../../external.html?link=https://github.com/Whonix/onion-grater/blob/master/usr/share/doc/onion-grater-merger/examples/40_onionshare.yml" target="_blank" rel="noopener">show original</a>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>See how this is done for OnionShare above, where there is a filter called onion-grater running on the Gateway. If cwtch uses the controller, then we can add an option to whitelist its commands to ADD_ONION.</p>
<p>If still following with the built in tor, maybe try to not use the built-in binary as was done for Bisq <a href="../../../external.html?link=https://www.whonix.org/wiki/Bisq#Tor_over_Tor_Prevention" class="inline-onebox">Bisq: The P2P Exchange Network</a></p>
<p>Possibly merge these threads together <a href="5353/7.html" class="inline-onebox">cwtch messaging - #7 by huwaqu</a></p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-11T17:10:36Z' class='post-time'>
                October 11, 2022,  5:10pm
              </time>
              <meta itemprop='dateModified' content='2022-10-11T17:10:36Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="nyxnor" data-post="9" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>Possibly merge these threads together <a href="5353/7.html">cwtch messaging - #7 by huwaqu</a></p>
</blockquote>
</aside>
<p>Done.</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-12T17:26:07Z' class='post-time'>
                October 12, 2022,  5:26pm
              </time>
              <meta itemprop='dateModified' content='2022-10-12T17:26:07Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="nyxnor" data-post="9" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p><a href="../../../external.html?link=http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch-ui/issues/324">http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch-ui/issues/324</a></p>
</blockquote>
</aside>
<p><a href="../../../external.html?link=https://git.openprivacy.ca/cwtch.im/cwtch-ui/issues/324#issuecomment-15165" class="inline-onebox">#324 - Whonix: Cwtch halts on Splash Screen when attempting to Start Tor - cwtch-ui - Open Privacy Gitea</a></p>
<p>Notified them about this thread.</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-13T20:22:37Z' class='post-time'>
                October 13, 2022,  8:22pm
              </time>
              <meta itemprop='dateModified' content='2022-10-13T20:22:37Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="../../../external.html?link=http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch/issues/392" class="onebox" target="_blank" rel="noopener">http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch/issues/392</a></p>
<p>Related to Cwtch on Whonix, maybe it is even close as per last comment on the above issue. Maybe it is already working if someone wants to try.</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/vpsgui'><span itemprop='name'>vpsgui</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-14T10:54:47Z' class='post-time'>
                October 14, 2022, 10:54am
              </time>
              <meta itemprop='dateModified' content='2022-10-14T10:54:47Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>There is an issue for the Cwtch docs to add Whonix and Tails instruction to the “Advanced Tor Configuration” section</p>
<p>[url I can’t post as a new user]/cwtch.im/docs.cwtch.im/issues/6</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-14T12:10:31Z' class='post-time'>
                October 14, 2022, 12:10pm
              </time>
              <meta itemprop='dateModified' content='2022-10-14T12:17:36Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="../../../external.html?link=http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/docs.cwtch.im/issues/6" class="onebox" target="_blank" rel="noopener">http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/docs.cwtch.im/issues/6</a></p>
<p>When using tor, use onion, because their plain domain <code>openprivacy.ca</code> blocks tor exits.</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-14T13:28:52Z' class='post-time'>
                October 14, 2022,  1:28pm
              </time>
              <meta itemprop='dateModified' content='2022-10-14T13:28:52Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Trying out cwtch.</p>
<p>Click on the <code>onion</code> on the top right corner &gt; Enable Advanced Tor Configuration &gt; Custom SOCKS Port 9101 &gt; Custom Control Port &gt; 9051.</p>
<p>Then on the gateway, enable onion-grater debug mode.<br>
Then see logs to allow what is required.</p>
<p>Currently trying it out, UI is much better than Briar and also has option to specify the aforementioned torrc parameters from the menu, which Briar and many other tor applications does not have.</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-14T14:06:25Z' class='post-time'>
                October 14, 2022,  2:06pm
              </time>
              <meta itemprop='dateModified' content='2022-10-14T14:34:51Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>It requires:</p>
<pre><code class="lang-auto">GETCONF DisableNetwork
GETINFO network-liveness
GETINFO status/bootstrap-phase
</code></pre>
<pre><code class="lang-auto">ADD_ONION ED25519-V3:ONIONPRIVKEY Flags=DiscardPK,Detach Port=9878,127.0.0.1:27954
</code></pre>
<p>I didn’t see the <code>ADD_ONION NEW</code>, maybe cwtch creates the onion keys instead of expecting some key from tor.</p>
<p>About the random target port, need to search the source code for the range or ports because cwtch can have multiple profiles.</p>
<p>The virtual port is probably fixed for cwtch and that is better for connections when the virtual port is known.</p>
<p>If someone wants to try later today, would be cool, else I would need to message myself with different disposable workstations.</p>
<p>Edit:</p>
<p>The target port does not seem to be capped, for me ranged more than 20k ports… bug upstream later</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-14T16:57:18Z' class='post-time'>
                October 14, 2022,  4:57pm
              </time>
              <meta itemprop='dateModified' content='2022-10-14T17:12:06Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>For some reason it still can’t connect.</p>
<pre><code class="lang-auto">$ LOG_LEVEL=debug ~/.local/bin/cwtch
...
2022/10/14 16:38:32 tor/BaseOnionService.go [DBUG] running garbage collection...
2022/10/14 16:38:39 plugins/networkCheck.go [DBUG] publishing network error for tdgwzcrk7rbwpjirwxxew5jy425cuvmvx7u4njcr4rl3ocfyykqqkvyd -- ActionTimedOutError
2022/10/14 16:38:39 utils/eventHandler.go [DBUG] New Profile Event to Handle: &amp;{{NetworkError 4233632878 map[Error:ActionTimedOutError Onion:tdgwzcrk7rbwpjirwxxew5jy425cuvmvx7u4njcr4rl3ocfyykqqkvyd Status:Error]} tdgwzcrk7rbwpjirwxxew5jy425cuvmvx7u4njcr4rl3ocfyykqqkvyd}
2022/10/14 16:38:43 plugins/networkCheck.go [DBUG] publishing network error for tdgwzcrk7rbwpjirwxxew5jy425cuvmvx7u4njcr4rl3ocfyykqqkvyd -- socks connect tcp 127.0.0.1:9150-&gt;tdgwzcrk7rbwpjirwxxew5jy425cuvmvx7u4njcr4rl3ocfyykqqkvyd.onion:9878: unknown error unknown code: 242
2022/10/14 16:38:43 utils/eventHandler.go [DBUG] New Profile Event to Handle: &amp;{{NetworkError 3428761036 map[Error:socks connect tcp 127.0.0.1:9150-&gt;tdgwzcrk7rbwpjirwxxew5jy425cuvmvx7u4njcr4rl3ocfyykqqkvyd.onion:9878: unknown error unknown code: 242 Onion:tdgwzcrk7rbwpjirwxxew5jy425cuvmvx7u4njcr4rl3ocfyykqqkvyd Status:Error]} tdgwzcrk7rbwpjirwxxew5jy425cuvmvx7u4njcr4rl3ocfyykqqkvyd}
2022/10/14 16:39:00 tor/BaseOnionService.go [DBUG] Error connecting to e5udu4awsqphjzyjjraikesqlcpqva6htbgdczudld34owbefidl2oyd socks connect tcp 127.0.0.1:9150-&gt;e5udu4awsqphjzyjjraikesqlcpqva6htbgdczudld34owbefidl2oyd.onion:9878: unknown error TTL expired
</code></pre>
<p>Another things is that onion-grater replies that the net/listeners/socks is <code>127.0.0.1:9150</code>, and cwtch tries to use it over the specified SocksPort.</p>
<pre><code class="lang-auto">tor/BaseOnionService.go [DBUG] Error connecting to e5udu4awsqphjzyjjraikesqlcpqva6htbgdczudld34owbefidl2oyd socks connect tcp 127.0.0.1:9150-&gt;e5udu4awsqphjzyjjraikesqlcpqva6htbgdczudld34owbefidl2oyd.onion:9878: unknown error unknown code: 242
</code></pre>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://git.openprivacy.ca/cwtch.im/cwtch-ui/issues/550">
  <header class="source">
      <img src="../../../external.html?link=https://git.openprivacy.ca/assets/img/favicon.svg" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://git.openprivacy.ca/cwtch.im/cwtch-ui/issues/550" target="_blank" rel="noopener">Open Privacy Gitea</a>
  </header>

  <article class="onebox-body">
    <img src="../../../external.html?link=https://git.openprivacy.ca/avatars/b0e4ab5e61cdbb4b5cc786c6bec6a915" class="thumbnail onebox-avatar" width="290" height="290">

<h3><a href="../../../external.html?link=https://git.openprivacy.ca/cwtch.im/cwtch-ui/issues/550" target="_blank" rel="noopener">cwtch overwrites custom torrc options with replies from controller</a></h3>

  <p>System: Whonix.

https://forums.whonix.org/t/cwtch-messaging/5353/17

Whonix has onion-grater, which is a tor controller proxy.
It rewrites requests as we desire. Currently, Whonix has many SocksPorts, that we configure per application to enforce...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-14T20:30:02Z' class='post-time'>
                October 14, 2022,  8:30pm
              </time>
              <meta itemprop='dateModified' content='2022-10-14T21:11:06Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I feel noob now, forgot to open port on the WS firewall.</p>
<p>Edit: still can’t connect <img src="../../images/emoji/twitter/frowninge5bf.png?v=12" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>Edit2: cwtch binds to 127.0.0.1, not 0.0.0.0</p>
<pre><code class="lang-auto">user@host:~$ curl 127.0.0.1:26469
curl: (1) Received HTTP/0.9 when not allowed

user@host:~$ qubesdb-read /qubes-ip
10.138.2.169
user@host:~$ curl.anondist-orig $(qubesdb-read /qubes-ip):26469
curl: (7) Failed to connect to 10.138.2.169 port 26469: Connection refused
</code></pre>
<p><a href="../../../external.html?link=http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch-ui/issues/553" class="onebox" target="_blank" rel="noopener">http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch-ui/issues/553</a></p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-14T21:25:33Z' class='post-time'>
                October 14, 2022,  9:25pm
              </time>
              <meta itemprop='dateModified' content='2022-10-14T21:25:33Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Their controller library is at <a href="../../../external.html?link=http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/openprivacy/bine">http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/openprivacy/bine</a></p>
<p>It will later be used by use to see which commands should be allowed.</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-15T10:20:53Z' class='post-time'>
                October 15, 2022, 10:20am
              </time>
              <meta itemprop='dateModified' content='2022-10-15T10:20:53Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><code>/etc/onion-grater-merger.d/30_whonix-default.yml</code></p>
<p>This is to avoid telling TB all the socks listener on Whonix-Gateway. Many. Not useful information.</p>
<pre><code class="lang-auto">      - pattern: 'net/listeners/socks'
        response:
        - pattern:     '250-net/listeners/socks=".*"'
          replacement: '250-net/listeners/socks="127.0.0.1:9150"'
</code></pre>
<p>So the SocksPort hiding feature isn’t built-in. It’s also just an onion-grater profile. Even though the default one.</p>
<p>But maybe not important enough. If it confuses cwtch, then feel free to remove that (if that works) or replace with something more suitable. Or maybe the cwtch onion-grater profile could overrule that as required.</p>
<hr>
<p>Also in case anyone doesn’t know yet, this might be useful to know…</p>
<ul>
<li>
<strong>A)</strong> <code>/etc/onion-grater-merger.d</code>
</li>
<li>
<strong>B)</strong> <code>/etc/onion-grater.d</code>
</li>
</ul>
<p>Might be useful to look at the profile which onion-grater is actually going to use. See file:</p>
<p><code>/etc/onion-grater.d/30_autogenerated.yml</code></p>
<hr>
<p>Generally, we shouldn’t require applications to suite Whonix if that is avoidable. Ideally onion-grater is modified instead. This is because by default, applications are unaware of Whonix and talk to Tor’s <code>ControlPort</code>. Whonix / Tails adding onion-grater in between as a proxy is another layer of complexity. But now if applications are adding their own logic to react different in case of anonymity distribution versus non-anonymity distribution, that makes his even more entangled.</p>
<hr>
<blockquote>
<blockquote>
<blockquote>
<p><a href="../../../external.html?link=https://git.openprivacy.ca/cwtch.im/cwtch-ui/issues/550#issuecomment-15175" class="inline-onebox">#550 - cwtch overwrites custom torrc options with replies from controller - cwtch-ui - Open Privacy Gitea</a></p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>Thanks for this information. Is there a standard way of discovering this this from Whonix?</p>
</blockquote>
</blockquote>
<blockquote>
<p>Not from the Workstation and that is the objective.</p>
</blockquote>
<p>Which information? About which Tor <code>SocksPort</code>s can be discovered through Tor control protocol? If yes, then Whonix would be better off having an optional cwtch onion-grater profile to show any ports which cwtch would be interested in.</p>
<p>cwtch (or similar applications) could also share Tor Browser’s default IP 127.0.0.1 port 9150. (If these are cwtch’s defaults. I didn’t check.) This is because Tor Browser sets a socks user name anyhow. (A different socks user name per top level domain at time of writing afaik.) Based on Tor’s <code>IsolateSOCKSAuth</code> feature. So sharing that port isn’t a big deal.</p>
<p>A feature which Tor friendly applications would be good would be to set their own socks user name to benefit from Tor’s <code>IsolateSOCKSAuth</code> feature. Ideally contextually a different Tor socks user name. The context be for example could be “connection to server 1 versus connection to server 2”. Then even in theory if Tor socks user name setting feature was broken, Tor still stream isolate the traffic.</p>
<p>These are features that can be required without needing to mention Whonix. These are for the benefit of any user anywhere. Unrelated to Whonix. Often this motivates some upstreams more.</p>
<p>Another common issue of Tor friendly applications versus Whonix is the listen interface. Does their web server (such as in case of OnionShare) (or other server for chat) listen on 127.0.0.1? That cannot work. It needs to listen on all interfaces. (Technical nitpick: on Whonix-Workstation external interface.)</p>
<ul>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices#Listen_Interface">Listen Interface</a></li>
</ul>
<hr>
<p>related wiki pages:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.whonix.org/wiki/Onion-grater">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://www.whonix.org/wiki/Onion-grater" target="_blank" rel="noopener" title="10:16PM - 11 October 2022">Whonix – 11 Oct 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="../../../external.html?link=https://www.whonix.org/w/images/6/6b/Oniongrater123123.jpg?version=60f1c4ac5cae4c6a2548441982f13222" class="thumbnail" width="640" height="426"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Onion-grater" target="_blank" rel="noopener">onion-grater: a Tor Control Port Filter Proxy</a></h3>

  <p>information about onion-grater</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.whonix.org/wiki/Dev/Control_Port_Filter_Proxy">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Control_Port_Filter_Proxy" target="_blank" rel="noopener" title="10:15AM - 18 August 2022">Whonix – 18 Aug 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/388;"><img src="../../../external.html?link=https://www.whonix.org/w/images/5/59/Whonix-twitter-post.jpg?version=54f067e87f7190deda500f4c79618b61" class="thumbnail" width="690" height="388"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Control_Port_Filter_Proxy" target="_blank" rel="noopener">onion-grater, a Tor Control Port Filter Proxy - filtering dangerous Tor...</a></h3>

  <p>onion-grater, a Tor Control Port Filter Proxy - filtering dangerous Tor Control Port commands - Design Documentation</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.whonix.org/wiki/Dev/anon-ws-disable-stacked-tor">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/anon-ws-disable-stacked-tor" target="_blank" rel="noopener" title="02:50PM - 12 August 2022">Whonix – 12 Aug 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/388;"><img src="../../../external.html?link=https://www.whonix.org/w/images/5/59/Whonix-twitter-post.jpg?version=54f067e87f7190deda500f4c79618b61" class="thumbnail" width="690" height="388"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/anon-ws-disable-stacked-tor" target="_blank" rel="noopener">Dev/anon-ws-disable-stacked-tor</a></h3>

  <p>Preventing Tor over Tor for Tor Browser, TorChat and others.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices" target="_blank" rel="noopener" title="07:30PM - 17 July 2022">Whonix – 17 Jul 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/388;"><img src="../../../external.html?link=https://www.whonix.org/w/images/5/59/Whonix-twitter-post.jpg?version=54f067e87f7190deda500f4c79618b61" class="thumbnail" width="690" height="388"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices" target="_blank" rel="noopener">Whonix ™ friendly applications best practices</a></h3>

  <p>Best practices on writing applications compatible with Whonix ™.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-15T14:59:48Z' class='post-time'>
                October 15, 2022,  2:59pm
              </time>
              <meta itemprop='dateModified' content='2022-10-15T14:59:48Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="20" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>But maybe not important enough. If it confuses cwtch, then feel free to remove that (if that works) or replace with something more suitable. Or maybe the cwtch onion-grater profile could overrule that as required.</p>
</blockquote>
</aside>
<p>It makes Cwtch uses the one replied by the controller, even if I specify for Cwtch another port, it will ignore because it thinks the controller has the most updated option.</p>
<aside class="quote no-group" data-username="Patrick" data-post="20" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Generally, we shouldn’t require applications to suite Whonix if that is avoidable. Ideally onion-grater is modified instead. This is because by default, applications are unaware of Whonix and talk to Tor’s <code>ControlPort</code>. Whonix / Tails adding onion-grater in between as a proxy is another layer of complexity. But now if applications are adding their own logic to react different in case of anonymity distribution versus non-anonymity distribution, that makes his even more entangled.</p>
</blockquote>
</aside>
<p>Yes but if we use an onion-grater profile for Cwtch, then it will be applied for every WS unless <code>host</code> is specified in the onion-grater profile. I don’t believe Whonix should display all SocksPorts and the let the Workstation choose, I believe the best method is to specify and the program follow the directions.</p>
<aside class="quote no-group" data-username="Patrick" data-post="20" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Which information? About which Tor <code>SocksPort</code>s can be discovered through Tor control protocol? If yes, then Whonix would be better off having an optional cwtch onion-grater profile to show any ports which cwtch would be interested in.</p>
</blockquote>
</aside>
<p>But then Which SocksPort will be used by Cwtch? The first it gets? The second? the last? It will probably use a SocksPort that another application is already using.</p>
<aside class="quote no-group" data-username="Patrick" data-post="20" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>cwtch (or similar applications) could also share Tor Browser’s default IP 127.0.0.1 port 9150. (If these are cwtch’s defaults. I didn’t check.) This is because Tor Browser sets a socks user name anyhow. (A different socks user name per top level domain at time of writing afaik.) Based on Tor’s <code>IsolateSOCKSAuth</code> feature. So sharing that port isn’t a big deal.</p>
</blockquote>
</aside>
<p>Ok, that is one point. Another point is that every other application that query  the controller will also use that port.</p>
<aside class="quote no-group" data-username="Patrick" data-post="20" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>A feature which Tor friendly applications would be good would be to set their own socks user name to benefit from Tor’s <code>IsolateSOCKSAuth</code> feature. Ideally contextually a different Tor socks user name. The context be for example could be “connection to server 1 versus connection to server 2”. Then even in theory if Tor socks user name setting feature was broken, Tor still stream isolate the traffic.</p>
</blockquote>
</aside>
<p>Cwtch does not have that yet as far as I know but could be a good feature request. Upstream are replying fast to my posts.<br>
And yes, SOCKSAuth is tor’s default isolation flag so it is best to use it then to hope another isolation flag has to be optionally specified.</p>
<aside class="quote no-group" data-username="Patrick" data-post="20" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>These are features that can be required without needing to mention Whonix. These are for the benefit of any user anywhere. Unrelated to Whonix. Often this motivates some upstreams more.</p>
</blockquote>
</aside>
<p>I tried… but some are quite Whonix specific like the listen interface.</p>
<aside class="quote no-group" data-username="Patrick" data-post="20" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Does their web server (such as in case of OnionShare) (or other server for chat) listen on 127.0.0.1? That cannot work. It needs to listen on all interfaces. (Technical nitpick: on Whonix-Workstation external interface.)</p>
</blockquote>
</aside>
<p>Yes as per mentioned here <a href="../../../external.html?link=http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch-ui/issues/553">http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch-ui/issues/553</a><br>
Asked them to make it a variable.<br>
But if they prefer <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices#Listen_Interface" class="inline-onebox">Whonix ™ friendly applications best practices</a> detecting Whonix, then that is also ok.</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-15T15:25:02Z' class='post-time'>
                October 15, 2022,  3:25pm
              </time>
              <meta itemprop='dateModified' content='2022-10-15T15:25:02Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group quote-modified" data-username="nyxnor" data-post="21" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="20" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Does their web server (such as in case of OnionShare) (or other server for chat) listen on 127.0.0.1? That cannot work. It needs to listen on all interfaces. (Technical nitpick: on Whonix-Workstation external interface.)</p>
</blockquote>
</aside>
<p>Yes as per mentioned here <a href="../../../external.html?link=http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch-ui/issues/553">http://gitopcybr57ris5iuivfz62gdwe2qk5pinnt2wplpwzicaybw73stjqd.onion/cwtch.im/cwtch-ui/issues/553</a><br>
Asked them to make it a variable.<br>
But if they prefer <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices#Listen_Interface">Whonix ™ friendly applications best practices</a> detecting Whonix, then that is also ok.</p>
</blockquote>
</aside>
<p>I don’t think upstream changing the UI (user interface) is the best solution. Then users always would have to do some manual settings.</p>
<p>Better would be to have this automated as much as possible. Better solutions would be:</p>
<ul>
<li>A) changing the listen interface depending on a status file similar as mentioned in * <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices#Listen_Interface">Listen Interface</a>
</li>
<li>B) <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices#config.d_support">config.d support</a>
</li>
<li>C) an environment variable</li>
</ul>
<p>Advantages:</p>
<ul>
<li>easier to implement for upstream</li>
<li>no upstream UI changes required</li>
<li>non-Whonix users cannot choose the wrong option in UI (more fail-safe, upstream might like that too)</li>
<li>could even be easy enough so a patch / pull request could be contributed</li>
</ul>
<hr>
<p>Until/if this gets implemented by upstream to change the listen interface from localhost to external interface a workaround might be possible using:</p>
<blockquote>
<p>bindp</p>
</blockquote>
<p>There might be discussions in the forums / examples in Whonix source code on how to use it.</p>
<aside class="quote no-group quote-modified" data-username="nyxnor" data-post="21" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="20" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Which information? About which Tor <code>SocksPort</code>s can be discovered through Tor control protocol? If yes, then Whonix would be better off having an optional cwtch onion-grater profile to show any ports which cwtch would be interested in.</p>
</blockquote>
</aside>
<p>But then Which SocksPort will be used by Cwtch? The first it gets? The second? the last? It will probably use a SocksPort that another application is already using.</p>
</blockquote>
</aside>
<p>Actually no SocksPort at all. Nowadays unix domain socket files should be preferred. Even for non-Whonix. Also Tor Browser nowadays is using unix domain socket files. In context of non-Whonix, it provides better protections from leaks. And then <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices#Tor_Settings_Autodetection">Tor Settings Autodetection</a>?</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-15T17:54:22Z' class='post-time'>
                October 15, 2022,  5:54pm
              </time>
              <meta itemprop='dateModified' content='2022-10-15T17:54:22Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="22" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I don’t think upstream changing the UI (user interface) is the best solution. Then users always would have to do some manual settings.</p>
<p>Better would be to have this automated as much as possible. Better solutions would be:</p>
<ul>
<li>A) changing the listen interface depending on a status file similar as mentioned in * <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices#Listen_Interface">Listen Interface</a>
</li>
<li>B) <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices#config.d_support">config.d support</a>
</li>
<li>C) an environment variable</li>
</ul>
<p>Advantages:</p>
<ul>
<li>easier to implement for upstream</li>
<li>no upstream UI changes required</li>
<li>non-Whonix users cannot choose the wrong option in UI (more fail-safe, upstream might like that too)</li>
<li>could even be easy enough so a patch / pull request could be contributed</li>
</ul>
</blockquote>
</aside>
<p>There is no Cwtch configuration file I could find…<br>
In the <code>~/.cwtch/tor/torrc</code>, we can change ControlPort and SocksPort.<br>
Updated upstream to automate the process to also be easier for them <a href="../../../external.html?link=https://git.openprivacy.ca/cwtch.im/cwtch-ui/issues/553#issuecomment-15182" class="inline-onebox">#553 - option to bind target port to 0.0.0.0 - cwtch-ui - Open Privacy Gitea</a></p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="22" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Until/if this gets implemented by upstream to change the listen interface from localhost to external interface a workaround might be possible using:</p>
<blockquote>
<p>bindp</p>
</blockquote>
<p>There might be discussions in the forums / examples in Whonix source code on how to use it.</p>
</blockquote>
</aside>
<p>I will try this but they need to limit the target ports first, because every time I have to do see which was the target port it binded to to open the firewall port.</p>
<aside class="quote no-group" data-username="Patrick" data-post="22" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Actually no SocksPort at all. Nowadays unix domain socket files should be preferred. Even for non-Whonix. Also Tor Browser nowadays is using unix domain socket files. In context of non-Whonix, it provides better protections from leaks. And then <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices#Tor_Settings_Autodetection">Tor Settings Autodetection</a>?</p>
</blockquote>
</aside>
<p>But that doesn’t solve the problem of Stream Isolation and also Cwtch is onion traffic only, their torrc has <code>SocksPort 9050 OnionTrafficOnly</code>.<br>
Cwtch has no problem using the one replied from the controller (9050), and I think mentiong unix domain sockets is only good if they are already using it, which I don’t think they are.</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="5353.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-15T22:09:34Z' class='post-time'>
                October 15, 2022, 10:09pm
              </time>
              <meta itemprop='dateModified' content='2022-10-15T22:09:34Z'>
          <span itemprop='position'>#24</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="nyxnor" data-post="23" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>every time I have to do see which was the target port it binded to to open the firewall port.</p>
</blockquote>
</aside>
<p><a href="../../../external.html?link=https://www.whonix.org/wiki/Whonix-Workstation_Firewall#How-to:_Open_All_Ports_in_Whonix-Workstation_%E2%84%A2_Firewall">How-to: Open All Ports in Whonix-Workstation ™ Firewall</a></p>
<aside class="quote no-group" data-username="nyxnor" data-post="23" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>Updated upstream to automate the process to also be easier for them <a href="../../../external.html?link=https://git.openprivacy.ca/cwtch.im/cwtch-ui/issues/553#issuecomment-15182">#553 - option to bind target port to 0.0.0.0 - cwtch-ui - Open Privacy Gitea</a></p>
</blockquote>
</aside>
<p>Great!</p>
<aside class="quote no-group quote-modified" data-username="nyxnor" data-post="23" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="22" data-topic="5353">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Actually no SocksPort at all. Nowadays unix domain socket files should be preferred. Even for non-Whonix. Also Tor Browser nowadays is using unix domain socket files. In context of non-Whonix, it provides better protections from leaks. And then <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Project_friendly_applications_best_practices#Tor_Settings_Autodetection">Tor Settings Autodetection</a>?</p>
</blockquote>
</aside>
<p>But that doesn’t solve the problem of Stream Isolation and also Cwtch is onion traffic only, their torrc has <code>SocksPort 9050 OnionTrafficOnly</code>.</p>
</blockquote>
</aside>
<p>Streams are going to be isolated even if using 127.0.0.1 9050 which should be unused by default. Except when there’s already a different custom installed application using the same port. Even 127.0.0.1 9151 would be stream isolated since Tor Browser uses IsolateSOCKSAuth. Surely non-ideal but a very good start.</p>
<p>Could you please make a feature request for the socks user name setting or perhaps better to not post too many tickets in a short time?</p>
        </div>

        <meta itemprop='headline' content='cwtch messaging'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="53534658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
