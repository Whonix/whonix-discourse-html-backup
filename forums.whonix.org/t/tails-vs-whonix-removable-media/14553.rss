<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Tails vs Whonix (Removable Media)</title>
    <link>http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553</link>
    <description>After spending time researching and figuring out how to pass through a device on KVM Whonix I have come to learn that this can be dangerous.


http://www.whonix.org/wiki/KVM#Device_Passthrough

Device Passthrough is on the list of things not to do but is necessary for some. I want to compare this to Tails and hear what someone more experienced has to say.

- On Tails mounting removable media is native and does not require extra configuration. Simply plug in the device and mount it. Is there a difference in security implications to this and to passing it through on a Virtual Machine? *

- Can the device mounted on the VM place malware on the host even if it is never mounted there or does it remain isolated in the VM? * 

Info: *on Tails the media would be removed before booting back to the main OS, on Whonix it would never be accessed on the Host.*

- Potentially a privilege escalation exploit could be used to access the internal drives on the Host or in this case other OS on Tails. In Whonix, could malware with or without root privileges access the host because of the Device Passthrough or only that device? * 

- Would malware created for the general population be an issue with Device Passthrough, or only targeted malware for Whonix or VM users? *

In short is Device Passthrough more harmful than mounting a device on Tails. 

If I have said something that does not apply please tell me so.</description>
    <language>en</language>
    <lastBuildDate>Sat, 20 Aug 2022 11:55:25 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Tails vs Whonix (Removable Media)</title>
        <dc:creator><![CDATA[enduser]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="nyxnor" data-post="2" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>Not against pci bus usb passtrhough, it is the same for both Tails running on USB and Whonix on virtualizers or usb itself.</p>
</blockquote>
</aside>
<p>I believe this is different from USB passthrough. This is done by going to the Storage tab on KVM. See my thread in the KVM section for more info if  interested.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="2" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>Not mounted, cannot run. My understanding</p>
</blockquote>
</aside>
<aside class="quote no-group" data-username="Patrick" data-post="3" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes, if the USB firmware is malicious.</p>
</blockquote>
</aside>
<p>Malicious firmware is not within my threat model, very unlikely to be a threat to me.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="2" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>Summary: Tails does not have more protection against malicious usb devices that whonix using usb passtrough.</p>
</blockquote>
</aside>
<aside class="quote no-group" data-username="Patrick" data-post="3" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>No, I doubt that.</p>
</blockquote>
</aside>
<p>Thank you both for taking the time. I believe the threats of Device Passthrough is outside the scope of my threat model.</p>
<p>This thread may be moved to a more appropriate section.</p>
          <p><a href="http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553/4</link>
        <pubDate>Sat, 20 Aug 2022 11:55:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14553-4</guid>
        <source url="http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553.rss">Tails vs Whonix (Removable Media)</source>
      </item>
      <item>
        <title>Tails vs Whonix (Removable Media)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <ul>
<li>most secure: don’t use any USB</li>
<li>less secure: use USB inside VMs only</li>
<li>least secure: connect USB directly to the host operating system (any, Debian, Tails, Kicksecure, …)</li>
</ul>
<p>It’s really very threat model specific.</p>
<p>So don’t use PCI passthrough is more about not exposing any hardware to the VM which could be potentially compromised by malware. Avoiding hardware compromise (malicious reflash of hardware).</p>
<p>On the other hand, the USB device itself could be infected with a malicious firmware.</p>
<aside class="quote no-group" data-username="enduser" data-post="1" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/e/f04885/40.png" class="avatar"> enduser:</div>
<blockquote>
<p>Can the device mounted on the VM place malware on the host even if it is never mounted there</p>
</blockquote>
</aside>
<p>Yes, if the USB firmware is malicious.</p>
<aside class="quote no-group" data-username="enduser" data-post="1" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/e/f04885/40.png" class="avatar"> enduser:</div>
<blockquote>
<p>In short is Device Passthrough more harmful than mounting a device on Tails.</p>
</blockquote>
</aside>
<p>No, I doubt that.</p>
<p>In theory, there could be a malicious USB firmware that can exploit device passthrough code but not the host kernel.</p>
<p>The right way to think about this probably to look where parsing of untrusted inputs are happening. And in any interaction, eventually all code is run by the CPU and the host kernel or even host hypervisor.</p>
<p>For example, if you have a malicious libre office document that can exploit libre office but don’t open it with libre office then the malicious code isn’t parsed by the hypothetically vulnerable parser (libre office) and hence in this theoretic example no compromise would happen.</p>
<p>See also rowhammer / nethammer.</p>
<p>Note, I don’t maintain Whonix KVM. This question should similarly apply to VirtualBox. Seems even unspecific to Whonix.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.whonix.org/wiki/Unspecific">
  <header class="source">
      <img src="https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="https://www.whonix.org/wiki/Unspecific" target="_blank" rel="noopener" title="07:49PM - 25 July 2022">Whonix – 25 Jul 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:250/500;"><img src="https://www.whonix.org/w/images/7/74/Booster132.png" class="thumbnail" width="250" height="500"></div>

<h3><a href="https://www.whonix.org/wiki/Unspecific" target="_blank" rel="noopener">Information Booster might be Available!</a></h3>

  <p>Utilizing other resources to help solve questions/issues unspecific to Whonix ™.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553/3</link>
        <pubDate>Fri, 19 Aug 2022 11:50:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14553-3</guid>
        <source url="http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553.rss">Tails vs Whonix (Removable Media)</source>
      </item>
      <item>
        <title>Tails vs Whonix (Removable Media)</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="enduser" data-post="1" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/e/f04885/40.png" class="avatar"> enduser:</div>
<blockquote>
<p>Is there a difference in security implications to this and to passing it through on a Virtual Machine? *</p>
</blockquote>
</aside>
<p>Not against pci bus usb passtrhough, it is the same for both Tails running on USB and Whonix on virtualizers or usb itself.</p>
<aside class="quote no-group" data-username="enduser" data-post="1" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/e/f04885/40.png" class="avatar"> enduser:</div>
<blockquote>
<p>Can the device mounted on the VM place malware on the host even if it is never mounted there or does it remain isolated in the VM? *</p>
</blockquote>
</aside>
<p>Not mounted, cannot run. My understanding</p>
<aside class="quote no-group" data-username="enduser" data-post="1" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/e/f04885/40.png" class="avatar"> enduser:</div>
<blockquote>
<p>Potentially a privilege escalation exploit could be used to access the internal drives on the Host or in this case other OS on Tails. In Whonix, could malware with or without root privileges access the host because of the Device Passthrough or only that device? *</p>
</blockquote>
</aside>
<p>Only if you allow those devices to be mounted. But it is not for Whonix, it is for Tails and every other OS.</p>
<aside class="quote no-group" data-username="enduser" data-post="1" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/e/f04885/40.png" class="avatar"> enduser:</div>
<blockquote>
<p>Would malware created for the general population be an issue with Device Passthrough, or only targeted malware for Whonix or VM users? *</p>
</blockquote>
</aside>
<p>Malware for the general population are phishing attacks, malicious downloads, not physically inserting a malicious usb to your computer.</p>
<p>Also, Device Passtrough is not “bad”, it is a mean for a vm to reach the host usb. On normal systems not virtualized like Tails, it is direct connection.</p>
<p>This also means that an infected host can attack the vm.</p>
<aside class="quote no-group" data-username="enduser" data-post="1" data-topic="14553">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/e/f04885/40.png" class="avatar"> enduser:</div>
<blockquote>
<p>In short is Device Passthrough more harmful than mounting a device on Tails.</p>
</blockquote>
</aside>
<p>Summary: Tails does not have more protection against malicious usb devices that whonix using usb passtrough.</p>
<p>Whonix with security-misc package (pre-installed) has disabled thunar automounting <a href="https://github.com/Kicksecure/security-misc/blob/ff8451469ad3b9cbd101ca4b93d72a2ac6cebe37/etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/thunar.xml#L18" rel="noopener nofollow ugc">https://github.com/Kicksecure/security-misc/blob/ff8451469ad3b9cbd101ca4b93d72a2ac6cebe37/etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/thunar.xml#L18</a>, I don’t know about tails.</p>
<p>QubesOS as host has some protections against a malicious usb, such as not parsing the partition table, using a separate usb qube, but nothing is perfect or course and most qubes security bulletins major issues reports problems about pci passtrough.</p>
<p>I suggest reading <a href="https://www.qubes-os.org/doc/device-handling-security/#pci-security" class="inline-onebox" rel="noopener nofollow ugc">Device handling security | Qubes OS</a></p>
<p>But that writing is very difficult, so read <a href="https://forums.whonix.org/t/kernel-deny-new-usb-sysctl-to-deny-new-usb-devices/8928" class="inline-onebox">kernel.deny_new_usb sysctl to deny new USB devices</a> this thread</p>
          <p><a href="http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553/2</link>
        <pubDate>Thu, 18 Aug 2022 20:53:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14553-2</guid>
        <source url="http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553.rss">Tails vs Whonix (Removable Media)</source>
      </item>
      <item>
        <title>Tails vs Whonix (Removable Media)</title>
        <dc:creator><![CDATA[enduser]]></dc:creator>
        <description><![CDATA[
            <p>After spending time researching and figuring out how to pass through a device on KVM Whonix I have come to learn that this can be dangerous.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.whonix.org/wiki/KVM">
  <header class="source">
      <img src="https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="https://www.whonix.org/wiki/KVM" target="_blank" rel="noopener nofollow ugc" title="02:47PM - 17 August 2022">Whonix – 17 Aug 22</a>
  </header>

  <article class="onebox-body">
    <img src="https://www.whonix.org/w/images/0/0f/Kvm-new-logo.png?version=60934fd6e6a249d039291ddd586d1200" class="thumbnail onebox-avatar" width="500" height="500">

<h3><a href="https://www.whonix.org/wiki/KVM" target="_blank" rel="noopener nofollow ugc">Whonix ™ for KVM</a></h3>

  <p>Using Whonix ™ with KVM (Kernel Virtual Machine)</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Device Passthrough is on the list of things not to do but is necessary for some. I want to compare this to Tails and hear what someone more experienced has to say.</p>
<ul>
<li>
<p>On Tails mounting removable media is native and does not require extra configuration. Simply plug in the device and mount it. Is there a difference in security implications to this and to passing it through on a Virtual Machine? *</p>
</li>
<li>
<p>Can the device mounted on the VM place malware on the host even if it is never mounted there or does it remain isolated in the VM? *</p>
</li>
</ul>
<p>Info: <em>on Tails the media would be removed before booting back to the main OS, on Whonix it would never be accessed on the Host.</em></p>
<ul>
<li>
<p>Potentially a privilege escalation exploit could be used to access the internal drives on the Host or in this case other OS on Tails. In Whonix, could malware with or without root privileges access the host because of the Device Passthrough or only that device? *</p>
</li>
<li>
<p>Would malware created for the general population be an issue with Device Passthrough, or only targeted malware for Whonix or VM users? *</p>
</li>
</ul>
<p>In short is Device Passthrough more harmful than mounting a device on Tails.</p>
<p>If I have said something that does not apply please tell me so.</p>
          <p><a href="http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553/1</link>
        <pubDate>Thu, 18 Aug 2022 15:29:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14553-1</guid>
        <source url="http://forums.whonix.org/t/tails-vs-whonix-removable-media/14553.rss">Tails vs Whonix (Removable Media)</source>
      </item>
  </channel>
</rss>
