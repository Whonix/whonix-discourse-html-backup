<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</title>
    <link>http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726</link>
    <description>I have long used [ipblock](http://iplist.sourceforge.net) (iplist) on Linux, subscribing to a number of ip lists and so ignoring much of the bozos of the net. e.g. Incoming WAN packets in the private address space, bogon ranges, and so on.

-- essentially it just adds/maintains rules in iptables.

It has been seamless for me for a very long time.

In essence it is [PeerGuardian](https://en.wikipedia.org/wiki/PeerGuardian), now [PeerBlock](http://peerblock.com/) for Linux.

I see there is now an actual [PeerGuardian for Linux](http://sourceforge.net/p/peerguardian/wiki/pgl-Main/) with a deb repository.

Are there any concerns or howtos surrounding installing it on whonix-gateway?
i.e. Incantations to chant for whonix to permit/integrate it, not on the mechanics of installing the package itself.</description>
    <language>en</language>
    <lastBuildDate>Sun, 13 Dec 2015 01:43:03 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Right. And please make that <code>TOR</code> -&gt;<code>Tor</code>.</p>
          <p><a href="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/9</link>
        <pubDate>Sun, 13 Dec 2015 01:43:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1726-9</guid>
        <source url="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726.rss">whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</source>
      </item>
      <item>
        <title>whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <p>Perhaps I have misphrased. And perhaps I misunderstand.</p>
<p>What I meant (and, agreed, whonix is using torbrowser, and this is a tor/torbrowser only, not whonix, thing) …<br>
er, torbrowser  uses tor, and only tor is relevant to this conversation … (?)</p>
<p>If I understand correctly, every 10 minutes, tor changes it’s path through the cloud. Different entry, middle, and/or exit nodes are chosen.</p>
<p>And, over time, good tor nodes will detect and refuse to connect to bad tor nodes.</p>
<p>So, in essence:</p>
<blockquote>
<p>I believe whonix already has defensive measure in place for protection from bad TOR nodes, effected at the next routing change</p>
</blockquote>
<p>To Patrick’s point … replace ‘whonix’ with ‘tor’, above.</p>
<p>IIUC.</p>
          <p><a href="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/8</link>
        <pubDate>Sat, 12 Dec 2015 23:34:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1726-8</guid>
        <source url="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726.rss">whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</source>
      </item>
      <item>
        <title>whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="6" data-topic="1726">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/rantocaudgb/40/135_1.png" class="avatar"> rAntOCauDgb:</div>
<blockquote>
<p>I believe whonix already has defensive measure in place for protection from bad TOR nodes, effected at the next routing change</p>
</blockquote>
</aside>
<p>No. See:<br>
<a href="https://www.whonix.org/wiki/FAQ#Does_Whonix_modify_Tor.3F">https://www.whonix.org/wiki/FAQ#Does_Whonix_modify_Tor.3F</a></p>
          <p><a href="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/7</link>
        <pubDate>Sat, 12 Dec 2015 18:22:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1726-7</guid>
        <source url="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726.rss">whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</source>
      </item>
      <item>
        <title>whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <p>pgl seems to be OK.</p>
<p>Seems to do exactly what it says to ip_tables - putting its rules in its own chains, and merely pre-pending those chains to everyone else’s. Documentation notes indicate that it delays starting until all other firewalls / ip_tables impacting services have.</p>
<p>It only rejects, based on given rules and block lists, or permits per whitelist (overriding its rules and block lists) - which is to say, permits evaluation to continue through the chains present if it wasn’t, and therefore permitting those chains to themselves reject traffic just as they did prior.</p>
<p>I can see it explicitly permits (doesn’t reject) local interface networks and whonix’s DNS (10.0.2.3), out of the box. i.e. By default should not break your environment.</p>
<p>It says it now includes a watchdog to restart upon blockage. (A problem with the Linux iplist project wherein a failure in fetching / processing shuts down all traffic. e.g. A parsing or website down error. Both are supposed to revert to the prior downloaded list in such cases, but a bug in iplist seems to regularly prevent that - leaving you mysteriously unable to communicate at all. [Simply restarting iplist resolves the issue - but you’re mysteriously incommunicado in the mean time.] Appears pgl has taken steps to try to address that.)</p>
<p>Good notes at:<br>
- <a href="https://sourceforge.net/p/peerguardian/wiki/pgl-Usage/" rel="nofollow noopener">https://sourceforge.net/p/peerguardian/wiki/pgl-Usage/</a><br>
- <a href="https://sourceforge.net/p/peerguardian/wiki/pgl-Technical/" rel="nofollow noopener">https://sourceforge.net/p/peerguardian/wiki/pgl-Technical/</a><br>
- (and) <a href="https://sourceforge.net/p/peerguardian/wiki/pgl-FAQ/" rel="nofollow noopener">https://sourceforge.net/p/peerguardian/wiki/pgl-FAQ/</a></p>
<p>Add repo to sources.d, e.g. /etc/apt/sources.list.d/pgl.list:<br>
deb <a href="http://moblock-deb.sourceforge.net/debian" rel="nofollow noopener">http://moblock-deb.sourceforge.net/debian</a> wheezy main<br>
deb-src <a href="http://moblock-deb.sourceforge.net/debian" rel="nofollow noopener">http://moblock-deb.sourceforge.net/debian</a> wheezy main</p>
<p>apt-get update ; apt-get install pglcmd pgld pglgui</p>
<p>Appears to do as intended / expected (you’re loading block lists, after all) / does no harm at install.</p>
<p>Be advised: YMMV - every situation is different. Check after install that your particular setup still works - e.g. if you are using non-standard ip’s in your virtual lan, you may find them blocked until you adjust pgl accordingly.</p>
<p>Although I am not specifically endorsing the package, here, I am explicitly not rejecting it. I can say that in my own experience, for my own situation and environment, it works for me. And probably will for you, if you are looking for and understand the nature of (blacklist) ip_tables blocking / management.</p>
<p>NOTE: As Patrick points out … pgl use will likely change your fingerprint - for the things that -aren’t- there vis a vis the rest of the internet. If this is not good / acceptable for your use case - don’t use it. The point of whonix is to keep as large a haystack as possible in which actors have to try and pinpoint a very small needle (you). pgl use will make the size of that haystack smaller. Perhaps much smaller, but personally I don’t expect so - unless your normal activity would make you a target of the most prevalent actors looking for such. (So bloggers, I’m guessing, likely have fewer actors worldwide looking for them.) Even if you thus put yourself in this smaller haystack, they still have to (want to) find you, and the whole point of whonix, or you wouldn’t be using it, or here to read this, is to diminish their ability to uniquely identify, target, and find you.</p>
<p>Mind you - one of the ways they might find you is to attack you (by diminishing your ability to access the internet) or try to infect you (perhaps with something that phones home flagging where you really are), and using such lists and rejecting such traffic will likely diminish the ability to, or efficacy of, such attacks.</p>
<p>Defence in depth may well apply here.</p>
<p>* Note: By default, whonix only permits TCP traffic to TOR. Using pgl can only degrade performance, since all traffic now goes through an additional pass/fail evaluation process. I believe whonix already has defensive measure in place for protection from bad TOR nodes, effected at the next routing change - by default every 10 minutes. If you use pgl, make sure you don’t block your TOR nodes, or you will be unhappy.</p>
<p>* Note: Similarly, if you are using a VPN or proxy, make sure pgl doesn’t block them, or you will be similarly unhappy. It is conceivable that pgl will prevent you from interacting with bad VPN or proxy IPs, but presumably you checked such out before making such settings in the first place.</p>
<p>YMMV. Use at your own risk. But works for me.</p>
          <p><a href="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/6</link>
        <pubDate>Sat, 12 Dec 2015 05:18:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1726-6</guid>
        <source url="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726.rss">whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</source>
      </item>
      <item>
        <title>whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <p>Ah! Thanks for that.</p>
<p>In essence, use of such is making it possible to indeed prove a negative.</p>
<p>Hadn’t thought of that. Thank you!</p>
          <p><a href="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/5</link>
        <pubDate>Mon, 07 Dec 2015 22:41:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1726-5</guid>
        <source url="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726.rss">whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</source>
      </item>
      <item>
        <title>whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="3" data-topic="1726">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/rantocaudgb/40/135_1.png" class="avatar"> rAntOCauDgb:</div>
<blockquote>
<p>I would not use it inside a VM that you also use for browsing.</p>
</blockquote>
</aside>
<aside class="quote" data-post="3" data-topic="1726">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/rantocaudgb/40/135_1.png" class="avatar"> rAntOCauDgb:</div>
<blockquote>
<p>I was assuming application at -gateway. (Catch any/all/multiple clients with one install.)</p>
</blockquote>
</aside>
<p>And I wouldn’t do this for the fingerprinting issues - unless you are using multiple Whonix-Gateways. ( <a href="https://www.whonix.org/wiki/Multiple_Whonix-Workstations#Multiple_Whonix-Gateways">https://www.whonix.org/wiki/Multiple_Whonix-Workstations#Multiple_Whonix-Gateways</a> )</p>
<aside class="quote" data-post="3" data-topic="1726">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/rantocaudgb/40/135_1.png" class="avatar"> rAntOCauDgb:</div>
<blockquote>
<p>How? The browser fingerprint is the browser (machine?) fingerprint. Traffic is either being denied, or permitted - the browser doesn’t know why something is/n’t going through - i.e. gets no response with denied traffic.</p>
</blockquote>
</aside>
<p>Because your browser will not be able to connect to lots of advertising/tracking websites that run on loads of websites in the background. Therefore you will stand out from other users. You will be the one that probably runs some filter software. That’s more pseudonymous than anonymous. ( <a href="https://www.whonix.org/wiki/DoNot#Do_not_confuse_Anonymity_with_Pseudonymity">https://www.whonix.org/wiki/DoNot#Do_not_confuse_Anonymity_with_Pseudonymity</a>. )</p>
          <p><a href="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/4</link>
        <pubDate>Mon, 07 Dec 2015 22:25:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1726-4</guid>
        <source url="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726.rss">whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</source>
      </item>
      <item>
        <title>whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="2" data-topic="1726" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I would have to look closely how the package actually works to say. Until someone did that, I recommend against installing it on the gateway.</p>
</blockquote>
</aside>
<p>It merely fetches iplists and munges iptables to deny traffic (except that which one whitelists). <em>Assume that for the purposes of this discussion - my investigations to date have proven that (to me), but should it / I detect it behaves differently, I will post a followup.</em></p>
<p>[quote]I would not use it inside a VM that you also use for browsing.[/quote]I was assuming application at -gateway. (Catch any/all/multiple clients with one install.)</p>
<p>[quote]It would mess up your browser fingerprint. ( <a href="https://www.whonix.org/wiki/Fingerprint" rel="nofollow noopener">https://www.whonix.org/wiki/Fingerprint</a> )[/quote] How? The browser fingerprint is the browser (machine?) fingerprint. Traffic is either being denied, or permitted - the browser doesn’t know why something is/n’t going through - i.e. gets no response with denied traffic.</p>
<aside class="quote">
<blockquote>
<p>Installing it on the gateway, I don’t know. It could interfere with Whonix-Gateway’s firewall.</p>
</blockquote>
</aside>
<p>Yep. Thus the question. A question inherent to anything that plays with iptables - especially if you have multiple disparate iptables playing pieces, all unaware of each other. Increasing the possibility of tripping over each other.</p>
<p>Mind you … my quick read of the sf site shows that they are now putting their rules into their own chains. So the interaction point is now only (and flow this chain too), not an inadvertent mingling of rules.</p>
<p>Guess I’ll have to play and report back. It seems, though, that the tests should be relatively simple, vs the complex it could be with intermingled rules.</p>
<p>i.e. (a) yes, chains processed packets in sequence without interfering with each other [or not], and (b) the new player didn’t accept a packet with no further examination, passing a packet that whonix by itself wouldn’t have [or not].</p>
<p>If each is confirmed generally, it feels like it is confirmed for all specific cases.</p>
<p>On the surface, it seems simple - (additional) restrictions on traffic, or not, but I take your point that it may not be that simple.</p>
<p>Thanks for your thoughts.</p>
<p>Now if I can only figure out how to install it on the -gateway, e.g. still not sure why apt-get works and not aptitude. Mind you, did now find ssh.anondist-orig, so making progress. Snapshots will be useful.</p>
          <p><a href="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/3</link>
        <pubDate>Mon, 07 Dec 2015 22:08:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1726-3</guid>
        <source url="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726.rss">whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</source>
      </item>
      <item>
        <title>whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I would not use it inside a VM that you also use for browsing. It would mess up your browser fingerprint. ( <a href="https://www.whonix.org/wiki/Fingerprint">https://www.whonix.org/wiki/Fingerprint</a> ) If you separate VMs however, installing this filter on the workstation should be fine. Installing it on the gateway, I don’t know. It could interfere with Whonix-Gateway’s firewall. I would have to look closely how the package actually works to say. Until someone did that, I recommend against installing it on the gateway.</p>
          <p><a href="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/2</link>
        <pubDate>Mon, 07 Dec 2015 09:53:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1726-2</guid>
        <source url="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726.rss">whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</source>
      </item>
      <item>
        <title>whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <p>I have long used <a href="http://iplist.sourceforge.net" rel="nofollow noopener">ipblock</a> (iplist) on Linux, subscribing to a number of ip lists and so ignoring much of the bozos of the net. e.g. Incoming WAN packets in the private address space, bogon ranges, and so on.</p>
<p>– essentially it just adds/maintains rules in iptables.</p>
<p>It has been seamless for me for a very long time.</p>
<p>In essence it is <a href="https://en.wikipedia.org/wiki/PeerGuardian" rel="nofollow noopener">PeerGuardian</a>, now <a href="http://peerblock.com/" rel="nofollow noopener">PeerBlock</a> for Linux.</p>
<p>I see there is now an actual <a href="http://sourceforge.net/p/peerguardian/wiki/pgl-Main/" rel="nofollow noopener">PeerGuardian for Linux</a> with a deb repository.</p>
<p>Are there any concerns or howtos surrounding installing it on whonix-gateway?<br>
i.e. Incantations to chant for whonix to permit/integrate it, not on the mechanics of installing the package itself.</p>
          <p><a href="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726/1</link>
        <pubDate>Mon, 07 Dec 2015 03:17:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1726-1</guid>
        <source url="http://forums.whonix.org/t/whonix-gateway-and-iplist-peerguardian-peerblock-for-linux/1726.rss">whonix-gateway and iplist? (PeerGuardian/PeerBlock for Linux)</source>
      </item>
  </channel>
</rss>
