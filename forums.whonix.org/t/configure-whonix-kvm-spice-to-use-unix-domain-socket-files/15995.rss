<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>configure Whonix KVM SPICE to use unix domain socket files</title>
    <link>http://forums.whonix.org/t/configure-whonix-kvm-spice-to-use-unix-domain-socket-files/15995</link>
    <description>https://forums.whonix.org/t/invalid-whonix-kvm-security-bug-report-spice-remote-desktop-protocol-listening-on-all-network-interfaces/15972 turned out to be a nothing burger but as a detail enhancement, for defense in deepth:

[quote=&quot;HulaHoop, post:11, topic:15972&quot;]
Additionally from the manual, you can completely disable listening forcing it to use file descriptors
[/quote]

Could you please consider using unix domain socket files instead of localhost listening ports?</description>
    <language>en</language>
    <lastBuildDate>Sun, 27 Nov 2022 14:36:21 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/configure-whonix-kvm-spice-to-use-unix-domain-socket-files/15995.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>configure Whonix KVM SPICE to use unix domain socket files</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Researched this more. It seems to have consequences for emulated sound hardware security access. It’s unclear to me how much this will have a negative impact and so I want to keep the defaults to be cautious.</p>
<p>Here’s commentary on the patchset:</p>
<p><a href="https://listman.redhat.com/archives/libvir-list/2016-March/msg01028.html" class="onebox" target="_blank" rel="noopener">https://listman.redhat.com/archives/libvir-list/2016-March/msg01028.html</a></p>
<pre><code class="lang-auto">+# Enable this option to have SPICE served over an automatically created
+# unix socket. This prevents unprivileged access from users on the
+# host machine.
+#
+# This will only be enabled for SPICE configurations that do not have
+# a hardcoded 'listen' or 'socket' value. This setting takes preference
+# over spice_listen.
+#
+#spice_auto_unix_socket = 1
+
+
 # By default, if no graphical front end is configured, libvirt will disable
 # QEMU audio output since directly talking to alsa/pulseaudio may not work
 # with various security settings. If you know what you're doing, enable
diff --git a/src/qemu/qemu_command.c b/src/qemu/qemu_command.c
index 8a5baf5..d2bfae6 100644
--- a/src/qemu/qemu_command.c
+++ b/src/qemu/qemu_command.c
@@ -7370,7 +7370,8 @@ static int
 qemuBuildGraphicsSPICECommandLine(virQEMUDriverConfigPtr cfg,
</code></pre>
          <p><a href="http://forums.whonix.org/t/configure-whonix-kvm-spice-to-use-unix-domain-socket-files/15995/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configure-whonix-kvm-spice-to-use-unix-domain-socket-files/15995/2</link>
        <pubDate>Sun, 27 Nov 2022 14:36:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15995-2</guid>
        <source url="http://forums.whonix.org/t/configure-whonix-kvm-spice-to-use-unix-domain-socket-files/15995.rss">configure Whonix KVM SPICE to use unix domain socket files</source>
      </item>
      <item>
        <title>configure Whonix KVM SPICE to use unix domain socket files</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://forums.whonix.org/t/invalid-whonix-kvm-security-bug-report-spice-remote-desktop-protocol-listening-on-all-network-interfaces/15972" class="inline-onebox">[INVALID] Whonix KVM Security Bug Report - SPICE remote desktop protocol listening on all network interfaces</a> turned out to be a nothing burger but as a detail enhancement, for defense in deepth:</p>
<aside class="quote no-group" data-username="HulaHoop" data-post="11" data-topic="15972">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"><a href="//forums.whonix.org/t/invalid-whonix-kvm-security-bug-report-spice-remote-desktop-protocol-listening-on-all-network-interfaces/15972/11">[INVALID] Whonix KVM Security Bug Report - SPICE remote desktop protocol listening on all network interfaces</a>
</div>
<blockquote>
<p>Additionally from the manual, you can completely disable listening forcing it to use file descriptors</p>
</blockquote>
</aside>
<p>Could you please consider using unix domain socket files instead of localhost listening ports?</p>
          <p><a href="http://forums.whonix.org/t/configure-whonix-kvm-spice-to-use-unix-domain-socket-files/15995/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configure-whonix-kvm-spice-to-use-unix-domain-socket-files/15995/1</link>
        <pubDate>Sun, 20 Nov 2022 15:01:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15995-1</guid>
        <source url="http://forums.whonix.org/t/configure-whonix-kvm-spice-to-use-unix-domain-socket-files/15995.rss">configure Whonix KVM SPICE to use unix domain socket files</source>
      </item>
  </channel>
</rss>
