<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Securely erasing free disk space and enabling trim inside whonix workstation - Support - Whonix Forum</title>
    <meta name="description" content="I ran photorec file recovery software inside whonix workstation and I was suprised with the amount of files it could retrieve.  

Wanted to counter this by installing scrub and running it with scrub -p fillzero -X dump a&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2877.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Securely erasing free disk space and enabling trim inside whonix workstation&#39;" href="2877.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/securely-erasing-free-disk-space-and-enabling-trim-inside-whonix-workstation/2877" />
<meta name="twitter:url" content="https://forums.whonix.org/t/securely-erasing-free-disk-space-and-enabling-trim-inside-whonix-workstation/2877" />
<meta property="og:title" content="Securely erasing free disk space and enabling trim inside whonix workstation" />
<meta name="twitter:title" content="Securely erasing free disk space and enabling trim inside whonix workstation" />
<meta property="og:description" content="I ran photorec file recovery software inside whonix workstation and I was suprised with the amount of files it could retrieve.  Wanted to counter this by installing scrub and running it with scrub -p fillzero -X dump and scrub -p dod -X dump to no avail. I could still retrieve roughly the same amount of files then when I first ran photorec before ‚Äòscrubbing‚Äô it.  Now I think it‚Äôs because it‚Äôs an ssd drive but I never knew that scrubbing on an ssd drive didn‚Äôt have any effect at all, is this norm..." />
<meta name="twitter:description" content="I ran photorec file recovery software inside whonix workstation and I was suprised with the amount of files it could retrieve.  Wanted to counter this by installing scrub and running it with scrub -p fillzero -X dump and scrub -p dod -X dump to no avail. I could still retrieve roughly the same amount of files then when I first ran photorec before ‚Äòscrubbing‚Äô it.  Now I think it‚Äôs because it‚Äôs an ssd drive but I never knew that scrubbing on an ssd drive didn‚Äôt have any effect at all, is this norm..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 ‚ù§" />
<meta property="article:published_time" content="2016-08-22T06:42:04+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="2877.html">Securely erasing free disk space and enabling trim inside whonix workstation</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Usernamer'><span itemprop='name'>Usernamer</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2877.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-08-22T06:42:04Z' class='post-time'>
                August 22, 2016,  6:42am
              </time>
              <meta itemprop='dateModified' content='2016-08-22T06:42:04Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I ran <a href="../../../external.html?link=http://www.cgsecurity.org/wiki/PhotoRec" rel="nofollow noopener">photorec</a> file recovery software inside whonix workstation and I was suprised with the amount of files it could retrieve.</p>
<p>Wanted to counter this by installing <a href="../../../external.html?link=https://github.com/chaos/scrub" rel="nofollow noopener">scrub</a> and running it with <code>scrub -p fillzero -X dump</code> and <code>scrub -p dod -X dump</code> to no avail. I could still retrieve roughly the same amount of files then when I first ran photorec before ‚Äòscrubbing‚Äô it.</p>
<p>Now I think it‚Äôs because it‚Äôs an ssd drive but I never knew that scrubbing on an ssd drive didn‚Äôt have any effect at all, is this normal?</p>
<p>This leads me to believe that my only option to securely erase files in the free space of the ssd drive is to trim it. Only problem is I need to enable trim inside whonix workstation.</p>
<p>I have read the following article which states that there are certain prerequisites for enabling trim inside virtualbox. Such as the use of the VDI disk format. Unfortunately the default disk format of whonix is .vmdk.<br>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../external.html?link=https://superuser.com/questions/646559/virtualbox-and-ssds-trim-command-support" target="_blank" rel="nofollow noopener">superuser.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://superuser.com/users/26302/qlf00n" target="_blank" rel="nofollow noopener">
    <img alt="qlf00n" src="../../../external.html?link=https://i.stack.imgur.com/cnf0K.jpg?s=128&amp;g=1" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="../../../external.html?link=https://superuser.com/questions/646559/virtualbox-and-ssds-trim-command-support" target="_blank" rel="nofollow noopener">VirtualBox and SSD's TRIM command support</a>
</h4>

<div class="tags">
  <strong>virtualbox, virtual-machine, ssd, trim</strong>
</div>

<div class="date">
  asked by
  
  <a href="../../../external.html?link=https://superuser.com/users/26302/qlf00n" target="_blank" rel="nofollow noopener">
    qlf00n
  </a>
  on <a href="../../../external.html?link=https://superuser.com/questions/646559/virtualbox-and-ssds-trim-command-support" target="_blank" rel="nofollow noopener">02:28PM - 17 Sep 13</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Is there a way to enable trim inside whonix workstation so it can securely erase the free space on the disk?</p>
        </div>

        <meta itemprop='headline' content='Securely erasing free disk space and enabling trim inside whonix workstation'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Ego'><span itemprop='name'>Ego</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2877.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-08-22T11:02:34Z' class='post-time'>
                August 22, 2016, 11:02am
              </time>
              <meta itemprop='dateModified' content='2016-08-22T11:02:34Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Good day,</p>
<p>Usually, the same which would apply to a Debian based VM applies to Whonix in this case.</p>
<p>Have a nice day,</p>
<p>Ego</p>
        </div>

        <meta itemprop='headline' content='Securely erasing free disk space and enabling trim inside whonix workstation'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2877.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-08-22T12:25:17Z' class='post-time'>
                August 22, 2016, 12:25pm
              </time>
              <meta itemprop='dateModified' content='2016-08-22T12:25:17Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="../../../external.html?link=https://www.whonix.org/wiki/Warning#Whonix_is_not_amnesic">https://www.whonix.org/wiki/Warning#Whonix_is_not_amnesic</a></p>
<p><a href="../../../external.html?link=https://www.whonix.org/wiki/FAQ#Is_there_a_substitute_for_Whonix.27s_lack_of_an_Amnesic_feature_.2F_Live_CD.2FDVD.3F_Forensics.3F">https://www.whonix.org/wiki/FAQ#Is_there_a_substitute_for_Whonix.27s_lack_of_an_Amnesic_feature_.2F_Live_CD.2FDVD.3F_Forensics.3F</a></p>
        </div>

        <meta itemprop='headline' content='Securely erasing free disk space and enabling trim inside whonix workstation'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2877.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-08-22T13:51:45Z' class='post-time'>
                August 22, 2016,  1:51pm
              </time>
              <meta itemprop='dateModified' content='2016-08-22T13:51:45Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/usernamer">@Usernamer</a></p>
<p>Interesting. Though I don‚Äôt know thedetails about VBox‚Äôs storage implementation, we know that non emulated storage has dangerous consequences in KVM:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#LVM_Storage" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/218;"><img src="../../../external.html?link=https://www.whonix.org/w/images/b/be/234234234236kvm.png" class="thumbnail"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#LVM_Storage" target="_blank" rel="nofollow noopener">KVM</a></h3>

<p>Using Whonix with KVM instead of VirtualBox</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>We also know that wear leveling techniques are mostly rubbish that won‚Äôt securely destroy sensitive data:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.google.com/s2/favicons?domain=www.infosecisland.com" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://archive.is/hxDac" target="_blank" title="10:11PM - 10 June 2014" rel="nofollow noopener">archive.is ‚Äì 10 Jun 14</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:666/500;"><img src="../../../external.html?link=https://archive.is/hxDac/7f4dd13934799d220951fcfc0925fd806e33350a/scr.png" class="thumbnail"></div>

<h3><a href="../../../external.html?link=https://archive.is/hxDac" target="_blank" rel="nofollow noopener">Data Remains on USB and SSDs After Secure Erase</a></h3>

<p>archived 10 Jun 2014 22:11:35 UTC</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Linux disables TRIM for encrypted installs by default because of several security consequences (reminder to add this on wiki)</p>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../external.html?link=https://askubuntu.com/questions/115823/trim-on-an-encrypted-ssd/115850#115850" target="_blank" rel="nofollow noopener">askubuntu.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://askubuntu.com/users/6969/lekensteyn" target="_blank" rel="nofollow noopener">
    <img alt="Lekensteyn" src="../../../external.html?link=https://www.gravatar.com/avatar/285b1f0f4caadc088a38c40aea22feba?s=128&amp;d=identicon&amp;r=PG" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="../../../external.html?link=https://askubuntu.com/questions/115823/trim-on-an-encrypted-ssd/115850#115850" target="_blank" rel="nofollow noopener">TRIM on an encrypted SSD</a>
</h4>

<div class="tags">
  <strong>encryption, ssd, trim</strong>
</div>

<div class="date">
  
  answered by
  <a href="../../../external.html?link=https://askubuntu.com/users/6969/lekensteyn" target="_blank" rel="nofollow noopener">
    Lekensteyn
  </a>
  on <a href="../../../external.html?link=https://askubuntu.com/questions/115823/trim-on-an-encrypted-ssd/115850#115850" target="_blank" rel="nofollow noopener">09:50AM - 25 Mar 12</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>‚ÄúWARNING: There are several security consequences, please read at least <a href="../../../external.html?link=http://asalor.blogspot.com/2011/08/trim-dm-crypt-problems.html">http://asalor.blogspot.com/2011/08/trim-dm-crypt-problems.html</a> before you enable it.‚Äù</p>
<hr>
<p>As to whether data on the encrypted host (on SSD) can leak into a virtual disk or vice versa - I don‚Äôt know. This is a good question and if you stick around and run some tests we can answer this.</p>
<p>The virtual disk should be able to control the low level view of blocks available to the guest.</p>
<blockquote>
<p>I ran photorec file recovery software inside whonix workstation and I was suprised with the amount of files it could retrieve.</p>
</blockquote>
<ul>
<li>Is this true for a fresh image?</li>
<li>What files can you recover? host files you deleted? guest files you deleted?</li>
<li>Do you get the same results when rolling back to a clean snapshot?</li>
</ul>
<p>What host are you using? If you are on Linux is it encrypted? Are you willing to test on a Linux system?</p>
        </div>

        <meta itemprop='headline' content='Securely erasing free disk space and enabling trim inside whonix workstation'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Usernamer'><span itemprop='name'>Usernamer</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2877.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-08-23T11:11:46Z' class='post-time'>
                August 23, 2016, 11:11am
              </time>
              <meta itemprop='dateModified' content='2016-08-23T11:11:46Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I know, but my problem is about the vmdk disk file format in which whonix is released.</p>
        </div>

        <meta itemprop='headline' content='Securely erasing free disk space and enabling trim inside whonix workstation'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Usernamer'><span itemprop='name'>Usernamer</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2877.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-08-23T11:18:55Z' class='post-time'>
                August 23, 2016, 11:18am
              </time>
              <meta itemprop='dateModified' content='2016-08-23T11:18:55Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I understand this, I have also encrypted the host but I am curious about trim in Whonix on a ssd drive specifically. As far as I have discovered the only thing that‚Äôs not making this possible is because the disk is released in .vmdk format and not in .vdi.</p>
<p>Can I build the whonix release in .vdi? How did you automate the installation of all the whonix features? Shell scripts? It would be nice to have the complete whonix build process automated and easily editable with <a href="../../../external.html?link=https://www.packer.io/" rel="nofollow noopener">packer</a> and <a href="../../../external.html?link=https://www.ansible.com/" rel="nofollow noopener">ansible</a>. I could help with this, it‚Äôs a nice way to learn about all the individual whonix features and give back at the same time.</p>
<p>Besides this I guess for now the only way to securely delete the data inside whonix is to start fresh. Snapshots is a good idea for this.</p>
        </div>

        <meta itemprop='headline' content='Securely erasing free disk space and enabling trim inside whonix workstation'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Usernamer'><span itemprop='name'>Usernamer</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2877.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-08-23T11:32:03Z' class='post-time'>
                August 23, 2016, 11:32am
              </time>
              <meta itemprop='dateModified' content='2016-08-23T11:32:03Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="4" data-topic="2877">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Interesting. Though I don‚Äôt know thedetails about VBox‚Äôs storage implementation, we know that non emulated storage has dangerous consequences in KVM:</p>
</blockquote>
</aside>
<p>I am using the virtualbox version but did not know this, thanks.</p>
<aside class="quote" data-post="4" data-topic="2877">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>We also know that wear leveling techniques are mostly rubbish that won‚Äôt securely destroy sensitive data:<br>
<a href="../../../external.html?link=https://archive.is/hxDac" rel="nofollow noopener">https://archive.is/hxDac</a></p>
</blockquote>
</aside>
<p>Yeah I have found out, it‚Äôs pretty bad. Good that I have tested this myself, now I know for sure.</p>
<aside class="quote" data-post="4" data-topic="2877">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Linux disables TRIM for encrypted installs by default because of several security consequences (reminder to add this on wiki)</p>
</blockquote>
</aside>
<p>That‚Äôs true, but you can manually enable it. I‚Äôm not concerned about the security consequences because I think it will be still hard to break the encryption even with a smaller surface to inspect.</p>
<aside class="quote" data-post="4" data-topic="2877">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Is this true for a fresh image?</p>
</blockquote>
</aside>
<p>I will have to find out, I‚Äôll report back.</p>
<aside class="quote" data-post="4" data-topic="2877">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>What files can you recover? host files you deleted? guest files you deleted?</p>
</blockquote>
</aside>
<p>20gb of system files so I didn‚Äôt look at everything. But I did discover my own deleted btc wallets with private/public keys out of coincidence because of the sheer size of the dataset. This was surprising, I want to find out if I can restore the wallet with the info in the file. I use electrum.</p>
<p>I don‚Äôt think I discovered host files, but I don‚Äôt know, haven‚Äôt looked into it that much.</p>
<aside class="quote" data-post="4" data-topic="2877">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Do you get the same results when rolling back to a clean snapshot?</p>
</blockquote>
</aside>
<p>I‚Äôll also have to test and report back.</p>
        </div>

        <meta itemprop='headline' content='Securely erasing free disk space and enabling trim inside whonix workstation'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2877.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-08-23T14:19:25Z' class='post-time'>
                August 23, 2016,  2:19pm
              </time>
              <meta itemprop='dateModified' content='2016-08-23T14:19:25Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="6" data-topic="2877">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/u/a87d85/40.png" class="avatar"> Usernamer:</div>
<blockquote>
<p>Can I build the whonix release in .vdi?</p>
</blockquote>
</aside>
<p>Using the Whonix build script, yes.</p>
<p>For redistributable / downloadable images this will not be possible due to VirtualBox limitations. ( <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Virtualization_Platform#VirtualBox">https://www.whonix.org/wiki/Dev/Virtualization_Platform#VirtualBox</a> )</p>
<p>During Whonix build, first a vdi is created. That you could use. Later, when an ova (for redistribution purposes only) is created, unfortunately (!!!) VirtualBox creates an ova that includes a vmdk. And that is really awful. However, the ova format is much more practical for redistribution purposes.</p>
<p>For downloaded builds, it is possible (but not convenient) to convert the vmdk to vdi before starting to use Whonix.</p>
<p>Overview of the build process is in this very chapter:<br>
<a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Source_Code_Intro#Introduction">https://www.whonix.org/wiki/Dev/Source_Code_Intro#Introduction</a></p>
<aside class="quote" data-post="6" data-topic="2877">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/u/a87d85/40.png" class="avatar"> Usernamer:</div>
<blockquote>
<p>It would be nice to have the complete whonix build process automated</p>
</blockquote>
</aside>
<p>Already is.</p>
<aside class="quote" data-post="6" data-topic="2877">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/u/a87d85/40.png" class="avatar"> Usernamer:</div>
<blockquote>
<p>easily editable with packer and ansible</p>
</blockquote>
</aside>
<p>That seems like quite some work.</p>
<aside class="quote" data-post="6" data-topic="2877">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/u/a87d85/40.png" class="avatar"> Usernamer:</div>
<blockquote>
<p>I could help with this, it‚Äôs a nice way to learn about all the individual whonix features and give back at the same time.</p>
</blockquote>
</aside>
<p>Please have a look how it is done currently. The Whonix build script can build VirtualBox, KVM and physical isolation builds. Also cli-only builds. Very configurable. Can also add custom scripts and whatnot. If you like to discuss this, please open a new thread in the Whonix development sub forum. Then let‚Äôs if you see any benefits of modifying this. Some stuff such as TravisCI automated builds would be desirable and help would be appreciated!</p>
<p><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Build_Documentation">https://www.whonix.org/wiki/Dev/Build_Documentation</a></p>
        </div>

        <meta itemprop='headline' content='Securely erasing free disk space and enabling trim inside whonix workstation'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
