<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</title>
    <link>http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038</link>
    <description>https://phabricator.whonix.org/T273 made me think. I am not sure it&#39;s worth trying to get a Whonix 10 based qubes-whonix ready. Because Whonix 10 is wheezy / sysvinit based and Whonix 11 will be jessie / systemd based.

Whonix 10:
https://phabricator.whonix.org/maniphest/?statuses=open&amp;allProjects=PHID-PROJ-azftsdqyk3mbrlzazoc6#R

And...

Whonix 11:
https://phabricator.whonix.org/maniphest/query/FAHipiL19o_a/#R

Have a very small task list.

Wheezy / systemd just doesn&#39;t work well together. Shipping the systemd unit files in the qubes-whonix package would likely lead to issues, when these unit files are later removed and moved to the appropriate specific packages (such as control-port-filter-python). Namely, the package manager would refuse upgrading, because the file is already owned by another package, unless we figure out using some complex - easy to get wrong - &#39;replaces&#39; (Debian packaging terminology) magic.

So options are, we maintain Whonix 9 with all it&#39;s issues (Tor Browser starter, updater broken and more) a little more and skip Whonix 10 [although non-Qubes versions are in RC and quite releaseable, looks like] or skip Whonix 10, get quickly Whonix 11 with full jessie / systemd support ready.

I guess if you want to get Whonix 10, originally wheezy / sysvinit to work for qubes-whonix (due to requirement on systemd) you&#39;ll be going in circles and there will still be weird [upgrading] issues.</description>
    <language>en</language>
    <lastBuildDate>Mon, 27 Apr 2015 02:42:17 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</title>
        <dc:creator><![CDATA[nrgaway]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“Patrick, post:7, topic:1038”]Yes, put any necessary systemd files required by the qubes-whonix package into /etc. Much better. Less chance for later conflicts.</p>
<p>Ok, let’s do it.</p>
<aside class="quote">
<blockquote>
<p>I also suggest you add a ‘–testing-current-sources’ option to your current builder so I can start building Whonix in Jessie <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>If I understand this right, you should be able to do this already.</p>
<p>git master and 11.0.0.0.1 and above:</p>
<ul>
<li>are totally jessie only. That is done. (<a href="https://phabricator.whonix.org/T270" rel="nofollow noopener">https://phabricator.whonix.org/T270</a>)</li>
<li>although using frozen sources</li>
<li>you should be able to use ‘–freshness current’ that would have the same effect (untested)</li>
<li>‘–testing-frozen-sources’ is currently broken, because Debian has not created the stretch repository yet, since jessie has not been released yet, but that does not matter and will fix itself when jessie has been released / Debian starts providing the stretch repository</li>
<li>please post a feature phabricator request if you want ‘–testing-current-sources’ (that option names are also somewhat non-ideal, and I am looking for something better)</li>
<li>for Whonix 11, I hope we can keep the default frozen sources, as per separate discussion: <a href="https://www.whonix.org/forum/index.php/topic,1052.0.html" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,1052.0.html</a>
</li>
<li>I guess (somewhat hope) you don’t need ‘–testing-current-sources’ for Whonix 10.</li>
</ul>
<p>Does this answer it?[/quote]</p>
<p>Yes, I think it does, thank you.</p>
<p>I think I was confused between current-sources and testing-current-sources, which I understand to be Jessie, and stretch respectively for a Jessie Whonix 11 build.</p>
          <p><a href="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/8</link>
        <pubDate>Mon, 27 Apr 2015 02:42:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1038-8</guid>
        <source url="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038.rss">Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</source>
      </item>
      <item>
        <title>Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Yes, put any necessary systemd files required by the qubes-whonix package into /etc. Much better. Less chance for later conflicts.</p>
<p>Ok, let’s do it.</p>
<aside class="quote" data-post="6" data-topic="1038">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/n/f17d59/40.png" class="avatar"> nrgaway:</div>
<blockquote>
<p>I also suggest you add a ‘–testing-current-sources’ option to your current builder so I can start building Whonix in Jessie <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>If I understand this right, you should be able to do this already.</p>
<p>git master and 11.0.0.0.1 and above:</p>
<ul>
<li>are totally jessie only. That is done. (<a href="https://phabricator.whonix.org/T270">https://phabricator.whonix.org/T270</a>)</li>
<li>although using frozen sources</li>
<li>you should be able to use ‘–freshness current’ that would have the same effect (untested)</li>
<li>‘–testing-frozen-sources’ is currently broken, because Debian has not created the stretch repository yet, since jessie has not been released yet, but that does not matter and will fix itself when jessie has been released / Debian starts providing the stretch repository</li>
<li>please post a feature phabricator request if you want ‘–testing-current-sources’ (that option names are also somewhat non-ideal, and I am looking for something better)</li>
<li>for Whonix 11, I hope we can keep the default frozen sources, as per separate discussion: <a href="https://www.whonix.org/forum/index.php/topic,1052.0.html">https://www.whonix.org/forum/index.php/topic,1052.0.html</a>
</li>
<li>I guess (somewhat hope) you don’t need ‘–testing-current-sources’ for Whonix 10.</li>
</ul>
<p>Does this answer it?</p>
          <p><a href="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/7</link>
        <pubDate>Sat, 25 Apr 2015 02:41:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1038-7</guid>
        <source url="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038.rss">Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</source>
      </item>
      <item>
        <title>Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</title>
        <dc:creator><![CDATA[nrgaway]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“Patrick, post:1, topic:1038”]<a href="https://phabricator.whonix.org/T273" rel="nofollow noopener">https://phabricator.whonix.org/T273</a> made me think. I am not sure it’s worth trying to get a Whonix 10 based qubes-whonix ready. Because Whonix 10 is wheezy / sysvinit based and Whonix 11 will be jessie / systemd based.</p>
<p>Whonix 10:<br>
<a href="https://phabricator.whonix.org/maniphest/?statuses=open&amp;allProjects=PHID-PROJ-azftsdqyk3mbrlzazoc6#R" class="onebox" target="_blank" rel="nofollow noopener">https://phabricator.whonix.org/maniphest/?statuses=open&amp;allProjects=PHID-PROJ-azftsdqyk3mbrlzazoc6#R</a></p>
<p>And…</p>
<p>Whonix 11:<br>
<a href="https://phabricator.whonix.org/maniphest/query/FAHipiL19o_a/#R" class="onebox" target="_blank" rel="nofollow noopener">https://phabricator.whonix.org/maniphest/query/FAHipiL19o_a/#R</a></p>
<p>Have a very small task list.</p>
<p>Wheezy / systemd just doesn’t work well together. Shipping the systemd unit files in the qubes-whonix package would likely lead to issues, when these unit files are later removed and moved to the appropriate specific packages (such as control-port-filter-python). Namely, the package manager would refuse upgrading, because the file is already owned by another package, unless we figure out using some complex - easy to get wrong - ‘replaces’ (Debian packaging terminology) magic.[/quote]</p>
<p>What ya mean Wheezy / systemd doesn’t work well together?  It pretty much works as expected.  As the ‘distributor’  of a package, you will be expected to place those unit files in ‘/lib/systemd/system’ for files such as ‘control-port-filter-python’.  Now, Tor on the other hand is not distributed by you, so you would then place the Whonix overriding unit file in ‘/etc/systemd/system’ as that is meant for local unit files.</p>
<p>Therefore qubes-whonix can create a ‘/etc/systemd/system/control-port-filter-python’ and ‘/etc/systemd/system/qubes-whonix-tor’ (which will can set a requires / conflict so as not to run when whonix provides its own).  This is pretty simple and standard and really only needs a bit of planing, which I think we just did <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<blockquote>So options are, we maintain Whonix 9 with all it's issues (Tor Browser starter, updater broken and more) a little more and skip Whonix 10 [although non-Qubes versions are in RC and quite releaseable, looks like] or skip Whonix 10, get quickly Whonix 11 with full jessie / systemd support ready.
<p>I guess if you want to get Whonix 10, originally wheezy / sysvinit to work for qubes-whonix (due to requirement on systemd) you’ll be going in circles and there will still be weird [upgrading] issues.</p>
</blockquote><br>
So, given that there is an easy solution to this issue, and that I have Whonix 10 ready to go, I would suggest I make the suggested changes and let it roll.
<p>I also suggest you add a ‘–testing-current-sources’ option to your current builder so I can start building Whonix in Jessie <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/6</link>
        <pubDate>Fri, 24 Apr 2015 16:25:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1038-6</guid>
        <source url="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038.rss">Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</source>
      </item>
      <item>
        <title>Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</title>
        <dc:creator><![CDATA[WhonixQubes]]></dc:creator>
        <description><![CDATA[
            <p>This issue is not a current expertise of mine, so I’ll let <a class="mention" href="http://forums.whonix.org/u/nrgaway">@nrgaway</a> decide on this one, since he is still the primary coder of the “qubes-whonix” module.</p>
<p>It looks like the latest is that <a class="mention" href="http://forums.whonix.org/u/nrgaway">@nrgaway</a> has a Whonix 10 compatible “qubes-whonix” package ready, and we have proposed a potential Whonix 10 release in the next few days. [1]</p>
<p>At least with Qubes, if something like this breaks, we have the ability to release an upgrade through a new RPM template package that overwrites a previous broken version through the Qubes YUM update interface, and people’s userland data/settings don’t get affected in their VMs, thanks to the Qubes TemplateVM partitioning scheme.</p>
<p>[1] <a href="https://phabricator.whonix.org/T275" rel="nofollow noopener">https://phabricator.whonix.org/T275</a></p>
          <p><a href="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/5</link>
        <pubDate>Fri, 24 Apr 2015 15:39:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1038-5</guid>
        <source url="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038.rss">Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</source>
      </item>
      <item>
        <title>Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="3" data-topic="1038">
<div class="title">
<div class="quote-controls"></div>
 z:</div>
<blockquote>
<p>could Devuan become an option?</p>
</blockquote>
</aside>
<p>For the purpose of this thread, no. Well, it’s not that bad. This isn’t systemd bashing. I might have forgotten to be clear that this is a qubes-whonix specific issue - that only happens because they want to use systemd on wheezy - before all Whonix work on jessie / systemd, i.e. Whonix 11 has been finished. I don’t think any of us hates systemd as much or at all as the work to switch to a new base distribution would be justified. There is probably no unsolvable issues for Whonix 11 that would justify that.</p>
          <p><a href="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/4</link>
        <pubDate>Fri, 24 Apr 2015 12:28:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1038-4</guid>
        <source url="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038.rss">Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</source>
      </item>
      <item>
        <title>Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</title>
        <dc:creator><![CDATA[z11]]></dc:creator>
        <description><![CDATA[
            <p>could Devuan become an option?</p>
          <p><a href="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/3</link>
        <pubDate>Fri, 24 Apr 2015 09:35:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1038-3</guid>
        <source url="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038.rss">Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</source>
      </item>
      <item>
        <title>Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</title>
        <dc:creator><![CDATA[bullabdomen]]></dc:creator>
        <description><![CDATA[
            <p>i can not wait to see the futur of the Whonix Qubes <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>keep up the good work!</p>
          <p><a href="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/2</link>
        <pubDate>Fri, 24 Apr 2015 04:44:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1038-2</guid>
        <source url="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038.rss">Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</source>
      </item>
      <item>
        <title>Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://phabricator.whonix.org/T273">https://phabricator.whonix.org/T273</a> made me think. I am not sure it’s worth trying to get a Whonix 10 based qubes-whonix ready. Because Whonix 10 is wheezy / sysvinit based and Whonix 11 will be jessie / systemd based.</p>
<p>Whonix 10:<br>
<a href="https://phabricator.whonix.org/maniphest/?statuses=open&amp;allProjects=PHID-PROJ-azftsdqyk3mbrlzazoc6#R" class="onebox" target="_blank">https://phabricator.whonix.org/maniphest/?statuses=open&amp;allProjects=PHID-PROJ-azftsdqyk3mbrlzazoc6#R</a></p>
<p>And…</p>
<p>Whonix 11:<br>
<a href="https://phabricator.whonix.org/maniphest/query/FAHipiL19o_a/#R" class="onebox" target="_blank">https://phabricator.whonix.org/maniphest/query/FAHipiL19o_a/#R</a></p>
<p>Have a very small task list.</p>
<p>Wheezy / systemd just doesn’t work well together. Shipping the systemd unit files in the qubes-whonix package would likely lead to issues, when these unit files are later removed and moved to the appropriate specific packages (such as control-port-filter-python). Namely, the package manager would refuse upgrading, because the file is already owned by another package, unless we figure out using some complex - easy to get wrong - ‘replaces’ (Debian packaging terminology) magic.</p>
<p>So options are, we maintain Whonix 9 with all it’s issues (Tor Browser starter, updater broken and more) a little more and skip Whonix 10 [although non-Qubes versions are in RC and quite releaseable, looks like] or skip Whonix 10, get quickly Whonix 11 with full jessie / systemd support ready.</p>
<p>I guess if you want to get Whonix 10, originally wheezy / sysvinit to work for qubes-whonix (due to requirement on systemd) you’ll be going in circles and there will still be weird [upgrading] issues.</p>
          <p><a href="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038/1</link>
        <pubDate>Thu, 23 Apr 2015 20:22:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1038-1</guid>
        <source url="http://forums.whonix.org/t/qubes-wheezy-vs-jessie-sysvinit-vs-systemd-10-vs-11/1038.rss">Qubes - wheezy vs jessie - sysvinit vs systemd - 10 vs 11</source>
      </item>
  </channel>
</rss>
