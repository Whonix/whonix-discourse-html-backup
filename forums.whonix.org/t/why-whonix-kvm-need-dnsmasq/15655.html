<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Why Whonix KVM need dnsmasq? - KVM - Whonix Forum</title>
    <meta name="description" content="Hello. 
I am using Whonix KVM. 
The host OS is Debian 11. 
I would like to set up DNS over TLS on my host OS, but dnsmasq occupying port 53 and is interfering with the set up. 
Is there any problem to disable the DNS ser&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.10 - https://github.com/discourse/discourse version ce28fd2e1d75162dc7dd78bacbe1233dcad9ff1d">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#f9fcff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="15655.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_63af439a4add29d24ee8db0a8975a03942e16bfd.css_%3b%20filename_%3dUTF-8%27%27desktop_63af439a4add29d24ee8db0a8975a03942e16bfdd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_10_3aaa177025d43c870086d9d1e2b7c24242d79345.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_10_3aaa177025d43c870086d9d1e2b7c24242d79345d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="10" data-theme-name="discourse clickable topic"/>
<link href="../../stylesheets/desktop_theme_9_d17a82d9063beac6199d5f5b6058eb31be8a93c7.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_9_d17a82d9063beac6199d5f5b6058eb31be8a93c7d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="9" data-theme-name="discourse loading slider"/>
<link href="../../stylesheets/desktop_theme_11_a4432e6b524de47d5b6be38a05008b3cf204da12.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_11_a4432e6b524de47d5b6be38a05008b3cf204da12d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="11" data-theme-name="discourse-search-banner"/>
<link href="../../stylesheets/desktop_theme_8_eb2fda98a48e7a39093a62612a9336ea5f3fabf4.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_8_eb2fda98a48e7a39093a62612a9336ea5f3fabf4d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8" data-theme-name="modern category + group boxes"/>
<link href="../../stylesheets/desktop_theme_7_8e83b4927ff24d6368194831de62281b78928948.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_7_8e83b4927ff24d6368194831de62281b78928948d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="7" data-theme-name="air theme"/>
<link href="../../stylesheets/desktop_theme_3_00b94086addd6c9539d8632eb5874321423ab1ce.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_00b94086addd6c9539d8632eb5874321423ab1ced2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Why Whonix KVM need dnsmasq?&#39;" href="15655.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/why-whonix-kvm-need-dnsmasq/15655" />
<meta name="twitter:url" content="https://forums.whonix.org/t/why-whonix-kvm-need-dnsmasq/15655" />
<meta property="og:title" content="Why Whonix KVM need dnsmasq?" />
<meta name="twitter:title" content="Why Whonix KVM need dnsmasq?" />
<meta property="og:description" content="Hello.  I am using Whonix KVM.  The host OS is Debian 11.  I would like to set up DNS over TLS on my host OS, but dnsmasq occupying port 53 and is interfering with the set up.  Is there any problem to disable the DNS server by setting port=0 in dnsmasq?  I am planning to set up DNS over TLS with systemd-resolved.  For now, I have set up DNS over TLS by forwarding to unbound with the following settings.  /etc/resolv.conf  nameserver 127.0.0.1  /etc/dnsmasq.conf  no-resolv server=127.0.0.1#5353  /..." />
<meta name="twitter:description" content="Hello.  I am using Whonix KVM.  The host OS is Debian 11.  I would like to set up DNS over TLS on my host OS, but dnsmasq occupying port 53 and is interfering with the set up.  Is there any problem to disable the DNS server by setting port=0 in dnsmasq?  I am planning to set up DNS over TLS with systemd-resolved.  For now, I have set up DNS over TLS by forwarding to unbound with the following settings.  /etc/resolv.conf  nameserver 127.0.0.1  /etc/dnsmasq.conf  no-resolv server=127.0.0.1#5353  /..." />
<meta property="article:published_time" content="2022-10-01T05:10:08+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    <div class="background-container"></div>

<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.whonix.org/">Whonix Wiki</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">Docs</a>
    <a href="../../c/news/21.html">News</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>
</div>
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="15655.html">Why Whonix KVM need dnsmasq?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/kvm/11.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #9EB83B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>KVM</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/kk221001'><span itemprop='name'>kk221001</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15655.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-01T05:10:08Z' class='post-time'>
                October 1, 2022,  5:10am
              </time>
              <meta itemprop='dateModified' content='2022-10-01T09:07:53Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hello.<br>
I am using Whonix KVM.<br>
The host OS is Debian 11.<br>
I would like to set up DNS over TLS on my host OS, but dnsmasq occupying port 53 and is interfering with the set up.<br>
Is there any problem to disable the DNS server by setting <code>port=0</code> in dnsmasq?<br>
I am planning to set up DNS over TLS with systemd-resolved.</p>
<p>For now, I have set up DNS over TLS by forwarding to unbound with the following settings.<br>
<strong>/etc/resolv.conf</strong></p>
<pre><code class="lang-auto">nameserver 127.0.0.1
</code></pre>
<p><strong>/etc/dnsmasq.conf</strong></p>
<pre><code class="lang-auto">no-resolv
server=127.0.0.1#5353
</code></pre>
<p><strong>/etc/unbound/unbound.conf</strong></p>
<pre><code class="lang-auto">server:
    interface: 127.0.0.1
    port: 5353
</code></pre>
        </div>

        <meta itemprop='headline' content='Why Whonix KVM need dnsmasq?'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../how-to-disable-dhcp-in-whonix-and-ensure-no-leaks/15912/4.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../how-to-disable-dhcp-in-whonix-and-ensure-no-leaks/15912/4.html'>
                      <span itemprop='name'>How to disable DHCP in Whonix and ensure no leaks</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/quantum445'><span itemprop='name'>quantum445</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15655.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-17T19:59:43Z' class='post-time'>
                October 17, 2022,  7:59pm
              </time>
              <meta itemprop='dateModified' content='2022-10-17T19:59:43Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>it is not recommend to use dns over tls system wide because you are putting all ur trust in one server to handle your dns</p>
        </div>

        <meta itemprop='headline' content='Why Whonix KVM need dnsmasq?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15655.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-18T00:46:04Z' class='post-time'>
                October 18, 2022, 12:46am
              </time>
              <meta itemprop='dateModified' content='2022-10-18T00:46:04Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Since this is about host DNS and DNS security, following might be interesting for you:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.kicksecure.com/wiki/DNS_Security">
  <header class="source">
      <img src="../../../external.html?link=https://www.kicksecure.com/w/images/4/45/Kicksecure-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DNS_Security" target="_blank" rel="noopener" title="09:34AM - 15 August 2022">Kicksecure â€“ 15 Aug 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="../../../external.html?link=https://www.kicksecure.com/w/images/b/ba/Connect-20333640.jpg?version=85aefe18de7b36da40c382e41b316fcb" class="thumbnail" width="640" height="426"></div>

<h3><a href="../../../external.html?link=https://www.kicksecure.com/wiki/DNS_Security" target="_blank" rel="noopener">DNS Security</a></h3>

  <p>Authenticated/Encrypted DNS, DNSSEC (over clearnet or Tor)</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Why Whonix KVM need dnsmasq?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15655.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-05T13:42:44Z' class='post-time'>
                November 5, 2022,  1:42pm
              </time>
              <meta itemprop='dateModified' content='2022-11-05T13:42:44Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Note: I am not a maintainer of Whonix KVM.</p>
        </div>

        <meta itemprop='headline' content='Why Whonix KVM need dnsmasq?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>
    </div>
</div>

<noscript>
    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
        /* This is a bugfix for the Air Theme when JS is deactivated */
        body > .background-container {
            display: none !important;
        }
    </style>
</noscript>
    
  </body>
  
</html>
