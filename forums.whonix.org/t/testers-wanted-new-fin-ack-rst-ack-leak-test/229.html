<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Testers wanted! New FIN ACK / RST ACK Leak Test - Development - Whonix Forum</title>
    <meta name="description" content="[html] Mike Perry recently discovered a leak bug in custom transparent proxies (not related to Whonix!) and published his findings on the tor-talk mailing list: 

https://lists.torproject.org/pipermail/tor-talk/2014-Marc&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="229.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Testers wanted! New FIN ACK / RST ACK Leak Test&#39;" href="229.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/testers-wanted-new-fin-ack-rst-ack-leak-test/229" />
<meta name="twitter:url" content="https://forums.whonix.org/t/testers-wanted-new-fin-ack-rst-ack-leak-test/229" />
<meta property="og:title" content="Testers wanted! New FIN ACK / RST ACK Leak Test" />
<meta name="twitter:title" content="Testers wanted! New FIN ACK / RST ACK Leak Test" />
<meta property="og:description" content="[html] Mike Perry recently discovered a leak bug in custom transparent proxies (not related to Whonix!) and published his findings on the tor-talk mailing list:  https://lists.torproject.org/pipermail/tor-talk/2014-March/032503.html  This leak test has been adapted for Whonix and documented here:  https://www.whonix.org/wiki/Dev/Leak_Tests#FIN_ACK_.2F_RST_ACK_-_Leak_Test  Fortunately, I wasn’t able to reproduce this leak using Whonix. Probably because the Linux version Whonix is using isn’t affe..." />
<meta name="twitter:description" content="[html] Mike Perry recently discovered a leak bug in custom transparent proxies (not related to Whonix!) and published his findings on the tor-talk mailing list:  https://lists.torproject.org/pipermail/tor-talk/2014-March/032503.html  This leak test has been adapted for Whonix and documented here:  https://www.whonix.org/wiki/Dev/Leak_Tests#FIN_ACK_.2F_RST_ACK_-_Leak_Test  Fortunately, I wasn’t able to reproduce this leak using Whonix. Probably because the Linux version Whonix is using isn’t affe..." />
<meta property="article:published_time" content="2014-04-11T15:20:57+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="2294658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="229.html">Testers wanted! New FIN ACK / RST ACK Leak Test</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-11T15:20:57Z' class='post-time'>
                April 11, 2014,  3:20pm
              </time>
              <meta itemprop='dateModified' content='2014-04-11T15:20:57Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[html]</p><p>Mike Perry recently discovered a leak bug in custom transparent proxies (not related to Whonix!) and published his findings on the tor-talk mailing list:</p>
<p><a href="../../../external.html?link=https://lists.torproject.org/pipermail/tor-talk/2014-March/032503.html">https://lists.torproject.org/pipermail/tor-talk/2014-March/032503.html</a></p>
<p>This leak test has been adapted for Whonix and documented here:
</p><p><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Leak_Tests#FIN_ACK_.2F_RST_ACK_-_Leak_Test">https://www.whonix.org/wiki/Dev/Leak_Tests#FIN_ACK_.2F_RST_ACK_-_Leak_Test</a></p>
<p>Fortunately, I wasn’t able to reproduce this leak using Whonix. Probably because the Linux version Whonix is using isn’t affected by this bug and/or because Whonix’s Firewall uses iptables default policy drop for input-, output-, fowardchain and only allows the Tor user to establish external connections. However, other users using different host operating systems and setups than I should repeat the test.</p>
<p>Please feel encouraged,
</p><p>– to comprehend the original thread on the tor-talk mailing list</p>
<p>– verify yourself that this leak test doesn’t find a leak and share your results</p>
<p>– check if upstream (Linux kernel / iptables) consider this a bug and if it has already been reported (<a href="../../../external.html?link=https://lists.torproject.org/pipermail/tor-talk/2014-April/032631.html">this is not clear yet</a>)</p><br>
[/html]
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-17T04:43:00Z' class='post-time'>
                April 17, 2014,  4:43am
              </time>
              <meta itemprop='dateModified' content='2014-04-17T04:43:00Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Bad news. Tried this with KVM and there is a leak. Here is what I did. I install and run tcpdump on gateway. Run the socket script in workstation and it shows the connections in tcpdump logs which is fine. Then I turn off Tor on gateway. After that I close the connection on workstation, but it still shows communication going on in the tcpdump log, although Tor is disabled beforehand.</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-18T04:38:46Z' class='post-time'>
                April 18, 2014,  4:38am
              </time>
              <meta itemprop='dateModified' content='2014-04-18T04:38:46Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Patrick, any comments or ideas on fixing this?</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-18T12:21:06Z' class='post-time'>
                April 18, 2014, 12:21pm
              </time>
              <meta itemprop='dateModified' content='2014-04-18T12:21:06Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>That depends on the exact commands you were running and the logs.</p>
<p>Does it show connections to that IP when you run tcpdump on the host?</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-18T17:09:29Z' class='post-time'>
                April 18, 2014,  5:09pm
              </time>
              <meta itemprop='dateModified' content='2014-04-18T17:09:29Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This time I followed the instructions exactly and ran tcpdump on the host instead of the gateway vm and I can still see connections to the google ip after Tor is shutdown.</p>
<p>How dangerous is this bug, can it be fixed by us or is it exclusively upstream’s to take care of?</p>
<p>I really don’t know how I can safely send the logs or if they need to be scrubbed to preserve anonymity.</p>
<p>How did the host tcpdump know that I was making a connection to Google, if its supposed to be routed through Tor first?</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-18T19:27:37Z' class='post-time'>
                April 18, 2014,  7:27pm
              </time>
              <meta itemprop='dateModified' content='2014-04-18T19:27:37Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="5" data-topic="229">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>This time I followed the instructions exactly and ran tcpdump on the host instead of the gateway vm and I can still see connections to the google ip after Tor is shutdown.</p>
</blockquote>
</aside>
<p>Are you sure you didn’t have a clearnet connection in a clearnet host browser to google for a a while?</p>
<p>Can you reliably reproduce this leak doing this leak test?</p>
<p>Having the host reliably see the connection to google ip even though it originated from Whonix-Workstation would be awful.</p>
<p>If you still can confirm, I would be wondering why I couldn’t reproduce this bug using VirtualBox, but you can using KVM.</p>
<aside class="quote" data-post="5" data-topic="229">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>How dangerous is this bug,</p>
</blockquote>
</aside>
<p>At least as dangerous as dns leak, I think.</p>
<aside class="quote" data-post="5" data-topic="229">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>can it be fixed by us or is it exclusively upstream’s to take care of?</p>
</blockquote>
</aside>
<p>Apparently we could use a workaround. Starting points:</p>
<ul>
<li><a href="../../../external.html?link=https://lists.torproject.org/pipermail/tor-talk/2014-March/032503.html">https://lists.torproject.org/pipermail/tor-talk/2014-March/032503.html</a></li>
<li><a href="../../../external.html?link=https://lists.torproject.org/pipermail/tor-talk/2014-March/032507.html">https://lists.torproject.org/pipermail/tor-talk/2014-March/032507.html</a></li>
</ul>
<p>Would require adjustment to work with Whonix, unfortunately.</p>
<aside class="quote" data-post="5" data-topic="229">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>How did the host tcpdump know that I was making a connection to Google, if its supposed to be routed through Tor first?</p>
</blockquote>
</aside>
<p>Perhaps because tcpdump saw it and because there maybe really is a leak.</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-19T00:29:03Z' class='post-time'>
                April 19, 2014, 12:29am
              </time>
              <meta itemprop='dateModified' content='2014-04-19T00:29:03Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Are you sure you didn't have a clearnet connection in a clearnet host browser to google for a a while?</blockquote>
Yes. I don't use the host for browsing.
<blockquote>Can you reliably reproduce this leak doing this leak test?</blockquote>
I have managed to reproduce it everytime. Did it twice on the host to confirm that I was getting valid results.
<blockquote>Having the host reliably see the connection to google ip even though it originated from Whonix-Workstation would be awful.</blockquote>
Its quite unsettling to see that, its our equivalent of Heartbleed to say the least. What I think is the most dangerous is the false sense of security this provided. But its good to catch it now than later or never.
<blockquote>If you still can confirm, I would be wondering why I couldn't reproduce this bug using VirtualBox, but you can using KVM.</blockquote>
KVM relies on iptables for everything concerning its networking setup and isolation. VirtualBox uses their own networking driers AFAIK.
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-19T18:10:41Z' class='post-time'>
                April 19, 2014,  6:10pm
              </time>
              <meta itemprop='dateModified' content='2014-04-19T18:10:41Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Really bad, looks like a new todo item for KVM.</p>
<aside class="quote" data-post="7" data-topic="229">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>KVM relies on iptables for everything concerning its networking setup and isolation. VirtualBox uses their own networking driers AFAIK.</p>
</blockquote>
</aside>
<p>I see. That could be a bug in KVM as well as in Linux. And perhaps a workaround in Whonix’s firewall could solve it.</p>
<p>To my knowledge, no one reported this bug yet against Linux, which is really bad.</p>
<p>To my knowledge, no one reported this bug yet against KVM, looks like even reporting a bug that upstream can reproduce with minimal steps will be difficult.</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-20T02:27:02Z' class='post-time'>
                April 20, 2014,  2:27am
              </time>
              <meta itemprop='dateModified' content='2014-04-20T02:27:02Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>After discussing this with the Tor devs on irc, they believe that the workaround is sufficient and should be tested thoroughly before judging this as an upstream bug.</p>
<p>Edit:<br>
I’m thinking, maybe we should switch to using nftables and run it through a battery of leaktests. Its new architecture is surely an improvement over what we have now.</p>
<aside class="onebox wikipedia">
  <header class="source">
      <a href="../../../external.html?link=https://en.wikipedia.org/wiki/Nftables#Overview" target="_blank">en.wikipedia.org</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:220/124;"><img src="../../../external.html?link=http://upload.wikimedia.org/wikipedia/commons/thumb/6/65/Simplified_Structure_of_the_Linux_Kernel.svg/220px-Simplified_Structure_of_the_Linux_Kernel.svg.png" class="thumbnail" width="220" height="124"></div>

<h3><a href="../../../external.html?link=https://en.wikipedia.org/wiki/Nftables#Overview" target="_blank">nftables | Overview</a></h3>

<p>The nftables kernel engine adds a simple virtual machine into the Linux kernel, which is able to execute bytecode to inspect a network packet and make decisions on how that packet should be handled. The operations implemented by this virtual machine are intentionally made basic. It can get data from the packet itself, have a look at the associated metadata (inbound interface, for example), and manage connection-tracking data. Arithmetic, bitwise and comparison operators can be used for making dec...</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<blockquote>* Now talking on #tor
* Topic for #tor is: Welcome to #tor, the discussion channel for Tor users and operators | https://www.torproject.org/ | https://www.torproject.org/docs/faq | https://tor.stackexchange.com/ | Developer discussion on #tor-dev | It's 'Tor', not 'TOR' | non-tor talk =&gt; #nottor
* Topic for #tor set by ChanServ!services@services.oftc.net at Sun Feb  2 13:56:09 2014
* Riastradh (~riastradh@82JAAD1W2.tor-irc.dnsbl.oftc.net) has joined #tor
 I am working on the Whonix KVM port and ran the leaktest for this bug reported here: https://lists.torproject.org/pipermail/tor-talk/2014-March/032503.html
 It turns out that this issue applies to us too and its an upstream bug
 i believe you
 upstream meaning what -- the kernel? iptables?
 I am thinking iptables
 You guys can probably get to them easier than we can
 is there a patch?
* drtor (~drtor@9YYAAK2T4.tor-irc.dnsbl.oftc.net) has joined #tor
 We are looking at some workaround in iptables but are not sure how well this will work
 but one thing for sure is it needs to be fixed upstream because it affects any Linux platform that uses Tor as a transproxy
 AFAIK Patrick  -Whoix leader- doesn't write kernel level code
 https://www.whonix.org/forum/index.php/topic,243.0.html
* realitygaps has quit (Remote host closed the connection)
 According to my findings, the leak can be seen in tcpdump running on the host, as direct communication to Google without going through any Tor node. Its a catastrophe by all means
 a kernel patch is not necessarily appropriate, and upstream might well not consider it a bug
 the iptables workaround i gave is in a followup post from mike in that thread
 it would appear that "it needs to be fixed upstream" is just false
 i only skimmed that forum page quickly, and i really don't want to wade through every bit of it
 it contains my workaround based on --state INVALID
 That's fine we will apply your advice, but are you sure that there is nothing fundamentally wrong with the kernel or iptables though?
 but it doesn't clearly seem to have been used
 apply it and test, a lot
 there is not yet any solid case made that there is something "fundamentally wrong"
 using iptables to redirect for transproxying relies on connection tracking
 i think the conclusion is "it is hard to use these things safely"
 which isn't really a bug in upstream so much as a challenge with the approach
 you have to test
 people don't test thoroughly
 they just read a man page or get some cookbook approach from some post, and run with it
 that is why something like this goes unnoticed for so long
 (gee, sounds like some other notable problems ...)
 Sorry to throw another link your way, but so far this is what we do when testing:
 https://www.whonix.org/wiki/Dev/Leak_Tests#FIN_ACK_.2F_RST_ACK_-_Leak_Test
 Any advice if this is enough or anything we should add to ensure its safe after a workaround?
* quiliro has quit (Quit: Leaving.)
 do violent tests with your networking connection
 You are very sharp btw. That bug was a great find
 interrupt it and restore it at various moments, for various periods
* blumenkraft (~eristisk@a1.networktest.34sp.com) has joined #tor
 well actually i never announced or reported the problem, so even though i fixed the problem for myself a couple years ago, mike appropriately gets credit for finding it. i just get credit for a better workaround.
* amiller has quit (Remote host closed the connection)
 y'all need to understand that connection tracking was never intended to be more than a loose fit around categories of traffic, not some leakproof box
 do you know if this applies to nftables too?
 Its gradually becoming the successor to iptables and was added in 3.13
 when the kernel's info on a connection is lost or dropped (timeout), it's gone forever, so subsequent traffic won't be redirected
 i haven't used it and don't know. unless there's been some massively radical re-architecting of connection tracking, it's unlikely to be totally different, though there could be minor differences in behavior.
 the tails approach is starting to look a bit smarter
* eristisk has quit (Ping timeout: 480 seconds)
 tails is robus but it has to secure an entire rich os stack to protect the user
 approach to torifying the traffic i mean
 ok
 i don't argue that wrapping stuff in vm's can make it harder for an attacker to break out
 in that tails doesn't rely on transproxy redirection, yes it's better
 what specifics are you talking about for torifying maybe we can replicate that?
 but torifying outgoing streams is harder to make safe than explicit proxy settings
* darkclown (~darkclown@p2011-ipbf7306marunouchi.tokyo.ocn.ne.jp) has joined #tor
* anong0 has quit (Ping timeout: 480 seconds)
 right, we've always warned that transproxying is not as great as it seems
 "set your proxy settings to use tor, only allow tor to use the network"
* Gentlecat has quit (Ping timeout: 480 seconds)
 so, implicitly, "don't allow anything that isn't configured to use tor to use the network"
 and most people just ignore the warnings about transproxying, because "just stuffing everything through tor" seems just what they want, and so simple. but not really.
* mdik is now known as Guest6988
* mdik (~mdik@brln-4d0c41d4.pool.mediaWays.net) has joined #tor
  the problem is when a box is rooted the software that is configured to use Tor can do things it shouldn't do
 but I get your point
* Guest6988 has quit (Ping timeout: 480 seconds)
 its those people who think stuffing flash through a transproxy pipe think their safe
 that problem only exists for you because you insist on running tor in isolation
* huseby has quit (Ping timeout: 480 seconds)
 "be sure to send unexpected traffic over tor so it can't hurt us"
 vs "be sure to drop unexpected traffic so it can't hurt us"
 option b sure seems wiser
 then a bad guy who breaks in can, at worst, generate traffic that looks expected so it goes through tor
 Useability wise, just having unique circuit per PID might be reasonable compromise.
* TheCthulhu1 has quit (Remote host closed the connection)
 i think that's a totally separate topic
 arma:  an important goal we are trying to achieve is for operators of hidden services to be able to have a fighting chance in case they are targeted.
 Trying to educate users "don't throw * at tor, but selectively firewall everything" seems like a losing battle though.
 it does? screw those users then.
 better to write software that works well
 and the ones who want to use the safe software will use it
 right, it can only be won or lost if you consider it to be a battle. users screw themselves, every day
 and we can't do much for the ones who choose to do it wrong
 a better analogy might be leading a horse to water
* Rym has quit (Ping timeout: 480 seconds)
 That sounds like somewhat elitist stance. "You dont deserve privacy because you're dumb" vs "Safe defaults built in."
 obviously better defaults are better, if they actually exist and are actually safer
 (I can see how it can go downhill from there if users are babysitted too much, though)
 but defaults never cover everything, because software is flexible, and people want it to be
 The less decisions that need to be made in security, the better everyone will be
 and hence why transproxy is an idea worth working towards
 so give them only the applications that you know behave well, with those applications configured to use tor correctly
 that principle is correct but the conclusion about transproxying is wrong
 letting them pick their own apps and hope they are safe is a recipe for surprises again and again
 we do, but we can't guarantee that nothing dangerous happens when these apps are compromised unless it *all* goes through Tor
 Ultimately the problem with transproxy is just that it's difficult to identify the source app.
* sd uses assigned source port ranges, but it is far from ideal
 Kgpg, TorBrowser and xchat come by default
 even if it all goes through tor, you can't guarantee that nothing dangerous happens, you only have considered the first layer of potential problems
 updated system and AppArmor are other layers we have
 that's all very nice and good
 but against a well funded adversary you must throuw everything in the toolbox and the toolbox itself to protect users
 actually it's just more and more desperate band-aiding
 the effort would be much better directed towards thoroughly auditing apps
 Auditing firefox is out of our league
 but we have verifiable builds for Whonix
 Velope, that goal is far from realistic when we're talking huge blobs of code such as web browser or libpurple.
 it's the true longterm challenge that people get scared away from all the time
* mttp_ (~mttp@9YYAAK2WG.tor-irc.dnsbl.oftc.net) has joined #tor
 and the "community" pays for it dearly with things like heartbleed</blockquote>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-20T11:42:20Z' class='post-time'>
                April 20, 2014, 11:42am
              </time>
              <meta itemprop='dateModified' content='2014-04-20T11:42:20Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Interesting!</p>
<p>[quote=“HulaHoop, post:9, topic:229”]Edit:<br>
I’m thinking, maybe we should switch to using nftables and run it through a battery of leaktests. Its new architecture is surely an improvement over what we have now.[/quote]<br>
nftables is not in Debian yet. Therefore difficult to implement (package, update).</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-10T23:30:12Z' class='post-time'>
                May 10, 2014, 11:30pm
              </time>
              <meta itemprop='dateModified' content='2014-05-10T23:30:12Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Patrick can you please make this bug a priority? IMO it counts as a security hole and while we don’t recommend the KVM version yet, its for other reasons than such a serious one.</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-11T12:29:43Z' class='post-time'>
                May 11, 2014, 12:29pm
              </time>
              <meta itemprop='dateModified' content='2014-05-11T12:29:43Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I am still working on splitting Whonix into multiple packages, which should make any form of contribution/cooperation easier.</p>
<p>I was hoping you are working on this.</p>
<p>“Solutions”:</p>
<ol>
<li>
<p>quick one, not really a solution:<br>
As a stopgap, you could test if deactivating Transparent Proxying (instructions here: <a href="../../../external.html?link=https://www.whonix.org/wiki/Stream_Isolation#Better_Protection">https://www.whonix.org/wiki/Stream_Isolation#Better_Protection</a>) stops the leak.</p>
</li>
<li>
<p>quick one, that needs testing:<br>
I quickly thrown together updated firewall rules. Try replacing /usr/bin/whonix_firewall on Whonix-Gateway with this file:<br>
<a href="../../../external.html?link=https://github.com/Whonix/Whonix/blob/7feecf40a4a41c91e10e18012fa0540ad267d9e0/whonix_gateway/usr/bin/whonix_firewall">https://github.com/Whonix/Whonix/blob/7feecf40a4a41c91e10e18012fa0540ad267d9e0/whonix_gateway/usr/bin/whonix_firewall</a></p>
</li>
</ol>
<p>Then reload Whonix firewall:<br>
sudo whonix_firewall</p>
<p>Then try again if you can still produce this leak.</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-12T03:10:20Z' class='post-time'>
                May 12, 2014,  3:10am
              </time>
              <meta itemprop='dateModified' content='2014-05-12T03:10:20Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>I am still working on splitting Whonix into multiple packages, which should make any form of contribution/cooperation easier.
<p>I was hoping you are working on this.</p>
</blockquote>
<p>Sounds good take your time. Just wanted to know where we are with respect to this vulnerability and that’s why I mentioned it.</p>
<p>I don’t know how to code anything and so couldn’t do anything to help in that regard. But I did test the first solution you proposed, and found that disabling the transparent proxy does not fix this. The second solution I couldn’t try out as moving data into a vm is an absolute pain in the arse. So I will wait when its pushed as part of an experimental update in Whonix repo.</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-13T11:57:05Z' class='post-time'>
                May 13, 2014, 11:57am
              </time>
              <meta itemprop='dateModified' content='2014-05-13T11:57:05Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="13" data-topic="229">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>But I did test the first solution you proposed, and found that disabling the transparent proxy does not fix this.</p>
</blockquote>
</aside>
<p>Have you tested, that transparent proxy really was disabled? When you run whonixcheck, it should tell you, that Tor’s TransPort Test failed.</p>
<p>I would be wondering how you can do this test when transparent proxy is disabled, because then ‘s = socket.create_connection((“74.125.28.104”, 80))’ should not be able to establish an connection at all.</p>
<aside class="quote" data-post="13" data-topic="229">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>The second solution I couldn’t try out as moving data into a vm is an absolute pain in the arse. So I will wait when its pushed as part of an experimental update in Whonix repo.</p>
</blockquote>
</aside>
<p>Done. Experimental 8.2.2 uploaded.</p>
<p>sudo whonix_repository</p>
<p>-&gt; developers repository</p>
<p>sudo apt-get update &amp;&amp; sudo apt-get --yes dist-upgrade</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-14T00:47:02Z' class='post-time'>
                May 14, 2014, 12:47am
              </time>
              <meta itemprop='dateModified' content='2014-05-14T00:47:02Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Have you tested, that transparent proxy really was disabled? When you run whonixcheck, it should tell you, that Tor's TransPort Test failed.
<p>I would be wondering how you can do this test when transparent proxy is disabled, because then ‘s = socket.create_connection((“74.125.28.104”, 80))’ should not be able to establish an connection at all.</p>
</blockquote>
<p>I can’t recall if it was this specific error, however there was clearly a message about whonix time sync not being able to connect tot the internet.</p>
<p>The browser wasn’t able to connect I am sure.</p>
<p>Now after . selecting the repo and performing an update, I rebooted then ran the test with the new firewall config file loaded and I still get the same leak result on tcpdump running on the host.</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-14T01:20:41Z' class='post-time'>
                May 14, 2014,  1:20am
              </time>
              <meta itemprop='dateModified' content='2014-05-14T01:20:41Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>I can't recall if it was this specific error, however there was clearly a message about whonix time sync not being able to connect tot the internet.</blockquote>
<blockquote>The browser wasn't able to connect I am sure.</blockquote>
Then something went wrong. That shouldn't happen. Disabling transparent proxying won't result in timesync / browser no longer being able to connect.
<blockquote>Now after . selecting the repo and performing an update, I rebooted then ran the test with the new firewall config file loaded and I still get the same leak result on tcpdump running on the host.</blockquote>
Do you see the added code from https://github.com/Whonix/Whonix/commit/7feecf40a4a41c91e10e18012fa0540ad267d9e0 in /usr/bin/whonix_firewall?
<p>By the way, reboot should not be required. “sudo /usr/bin/whonix_firewall” should suffice.</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-14T01:24:21Z' class='post-time'>
                May 14, 2014,  1:24am
              </time>
              <meta itemprop='dateModified' content='2014-05-14T01:24:21Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>If you got the added code from <a href="../../../external.html?link=https://github.com/Whonix/Whonix/commit/7feecf40a4a41c91e10e18012fa0540ad267d9e0">https://github.com/Whonix/Whonix/commit/7feecf40a4a41c91e10e18012fa0540ad267d9e0</a> and still have this leak…</p>
<p>Since you got the added code in your VM now, feel free to make some experiments.</p>
<pre><code class="lang-auto"></code></pre>
<p>Cut the new code block. And move it up. Look for.</p>
<p>[code]###########################</p>
<h2>IPv4 OUTPUT</h2>
<p>###########################[/code]</p>
<p>Which is a few lines above. Then add it right below it. Then reload Whonix’s firewall.</p>
<pre><code class="lang-auto"></code></pre>
<p>And try again.</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-14T03:47:01Z' class='post-time'>
                May 14, 2014,  3:47am
              </time>
              <meta itemprop='dateModified' content='2014-05-14T03:47:01Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Alright I will try experimenting but I need to solve this error first that prevents kwrite from appearing:</p>
<p>It says:</p>
<blockquote>kdesudo: cannot connect to X server :0</blockquote>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-14T13:28:34Z' class='post-time'>
                May 14, 2014,  1:28pm
              </time>
              <meta itemprop='dateModified' content='2014-05-14T13:28:34Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“HulaHoop, post:18, topic:229”]Alright I will try experimenting but I need to solve this error first that prevents kwrite from appearing:</p>
<p>It says:</p>
<p>[quote]<br>
kdesudo: cannot connect to X server :0[/quote][/quote]</p>
<p>You’re not using the graphical gateway? Well, if you’re in terminal, just replace “kdesudo” with “sudo” and replace “kwrite” with the editor of your preferences such as “nano”.</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="229.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-14T13:29:00Z' class='post-time'>
                May 14, 2014,  1:29pm
              </time>
              <meta itemprop='dateModified' content='2014-05-14T13:29:00Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I just wanted to say “edit that file with root rights”. How to get root and which editor to use is irrelevant.</p>
        </div>

        <meta itemprop='headline' content='Testers wanted! New FIN ACK / RST ACK Leak Test'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="2294658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
