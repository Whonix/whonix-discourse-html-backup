<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>FS-VERITY in Linux 5.4</title>
    <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911</link>
    <description>Is FS-VERITY any good for the desktop?

https://www.phoronix.com/scan.php?page=news_item&amp;px=FS-VERITY-Performance-Linux-5.6</description>
    <language>en</language>
    <lastBuildDate>Wed, 24 Jun 2020 14:01:04 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>I am talking about the ability of the user to get/create security updates for the proprietary firmware. I never claimed open was magically bug free.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/27">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/27</link>
        <pubDate>Wed, 24 Jun 2020 14:01:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-27</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>Proprietary or not is irrelevant. Free software is just as easily backdoored. For example, look at OpenSSL’s Heartbleed. There was a critical vulnerability introduced into a mostly useless part of the software that went undetected for years. Or the <a href="https://www.schneier.com/blog/archives/2008/05/random_number_b.html">Debian OpenSSL bug</a>. Or the hundreds of vulnerabilities in Linux found each month. etc.</p>
<p>You have no idea if any of these were backdoors or not. Backdoors are not going to be obvious. They are going to be obscure bugs that can be passed off as a simple mistake once found and software being open source will not save you.</p>
<p>Open source does not mean “unbackdoorable” or secure.</p>
<p>Even if you had FOSS hardware, you wouldn’t be able to verify that the hardware runs the code they give you anyway.</p>
<p>Some smartcard is also not as secure as a proper TPM.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/26">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/26</link>
        <pubDate>Wed, 24 Jun 2020 11:56:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-26</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="madaidan" data-post="24" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Everything has had vulnerabilities and I don’t see how TPMs are especially bad. Would you rather have your encryption keys be stored totally unprotected?</p>
</blockquote>
</aside>
<p>Never mind that you can never trust key material generated by the TPM as its RNG is closed and they can keep copies of it at the factory. However any storage feature defects caused by their firmware can never be patched by anyone but them. Assuming they care to invest in security patching and didn;’ go out of business. That’s the problem of designating a closed piece of hardware as your root of trust. A FLOSS smartcard is a much better option.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/25</link>
        <pubDate>Wed, 24 Jun 2020 10:53:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-25</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="HulaHoop" data-post="22" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Yubikey is a proprietary meme. non-libre TPMs are not much better</p>
</blockquote>
</aside>
<p>Most hardware is proprietary. Yubikey/TPMs aren’t any worse.</p>
<aside class="quote no-group" data-username="HulaHoop" data-post="22" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>and have a history of being vulnerable to divulging secrets.</p>
</blockquote>
</aside>
<p>Everything has had vulnerabilities and I don’t see how TPMs are especially bad. Would you rather have your encryption keys be stored totally unprotected?</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/24</link>
        <pubDate>Tue, 23 Jun 2020 18:41:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-24</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Interesting nonetheless. Would consider contributions. Not going to happen anytime soon due to many tasks.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/23</link>
        <pubDate>Tue, 23 Jun 2020 13:35:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-23</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Yubikey is a proprietary meme. non-libre TPMs are not much better and have a history of being vulnerable to divulging secrets.</p>
<p>I am interested to see how well this functions with KVM’s virtual TPM however.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/22</link>
        <pubDate>Mon, 22 Jun 2020 12:22:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-22</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://safeboot.dev/install/../images/favicon.ico" class="site-icon" width="64" height="74">
      <a href="https://safeboot.dev/install/" target="_blank">safeboot</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:666/500;"><img src="https://safeboot.dev/images/installation-header.jpg" class="thumbnail" width="666" height="500"></div>

<h3><a href="https://safeboot.dev/install/" target="_blank">Configuring safeboot to boot Linux more safely</a></h3>

<p>Instructions for configuring the safeboot package on Ubuntu 20.04 and setting up the hardware Yubikey, the TPM sealed disk encryption, and the System Integrity Protection Mode.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="16" height="16">
      <a href="https://github.com/osresearch/safeboot" target="_blank">GitHub</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:666/500;"><img src="https://repository-images.githubusercontent.com/261511812/21c0d480-92db-11ea-890c-099b5c997076" class="thumbnail" width="666" height="500"></div>

<h3><a href="https://github.com/osresearch/safeboot" target="_blank">osresearch/safeboot</a></h3>

<p>Scripts to slightly improve the security of the Linux boot process with UEFI Secure Boot and TPM support - osresearch/safeboot</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/21</link>
        <pubDate>Sun, 21 Jun 2020 20:44:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-21</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also how would we upgrade the base system image?</p>
</blockquote>
</aside>
<p>Instead of update_engine, we can look into the CLIP OS system updater.</p>
<p><a href="https://docs.clip-os.org/clipos/update.html" class="onebox" target="_blank">https://docs.clip-os.org/clipos/update.html</a></p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="16" height="16">
      <a href="https://github.com/clipos/src_platform_updater" target="_blank">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars0.githubusercontent.com/u/33755864?s=400&amp;v=4" class="thumbnail" width="" height="">

<h3><a href="https://github.com/clipos/src_platform_updater" target="_blank">clipos/src_platform_updater</a></h3>

<p>CLIP OS system update client. Contribute to clipos/src_platform_updater development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/20</link>
        <pubDate>Tue, 05 May 2020 23:07:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-20</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="madaidan" data-post="18" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>What do you think sandbox-app-launcher is?</p>
</blockquote>
</aside>
<p>Good stuff. I thought from this discussion that progress is contingent on getting ostree to work on Debian which can take a while.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/19</link>
        <pubDate>Mon, 30 Mar 2020 22:04:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-19</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="HulaHoop" data-post="17" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p><a class="mention" href="http://forums.whonix.org/u/madaidan">@madaidan</a> can you focus on getting a firejail alternative off the ground instead of extending scope too much?</p>
</blockquote>
</aside>
<p>What do you think sandbox-app-launcher is?</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://github.githubassets.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://github.com/Whonix/sandbox-app-launcher" target="_blank">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars3.githubusercontent.com/u/4500165?s=400&amp;v=4" class="thumbnail" width="" height="">

<h3><a href="https://github.com/Whonix/sandbox-app-launcher" target="_blank">Whonix/sandbox-app-launcher</a></h3>

<p>An app launcher to start apps in a restrictive sandbox - Whonix/sandbox-app-launcher</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/18</link>
        <pubDate>Mon, 30 Mar 2020 18:24:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-18</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="http://forums.whonix.org/u/madaidan">@madaidan</a> can you focus on getting a firejail alternative off the ground instead of extending scope too much? Perfect is enemy of the good.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/17</link>
        <pubDate>Mon, 30 Mar 2020 14:17:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-17</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Can we use ostree in Debian to accomplish the same?</p>
<ul>
<li><a href="https://packages.debian.org/buster/ostree">https://packages.debian.org/buster/ostree</a></li>
<li><a href="https://manpages.debian.org/stable/ostree/ostree.1.en.html">https://manpages.debian.org/stable/ostree/ostree.1.en.html</a></li>
<li><a href="https://ostree.readthedocs.io">https://ostree.readthedocs.io</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/16</link>
        <pubDate>Mon, 30 Mar 2020 14:07:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-16</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="madaidan" data-post="14" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Compiling our own packages</p>
</blockquote>
</aside>
<p>That’s why my last post was about, yes.</p>
<aside class="quote no-group" data-username="madaidan" data-post="14" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>dm-verity sounds pretty feasible.</p>
</blockquote>
</aside>
<p>That one might be doable indeed.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/15</link>
        <pubDate>Sat, 28 Mar 2020 17:25:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-15</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>Compiling our own packages or dm-verity? dm-verity sounds pretty feasible.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/14</link>
        <pubDate>Sat, 28 Mar 2020 17:23:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-14</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>For now, this is infeasible:</p>
<ul>
<li><a href="https://forums.whonix.org/t/linus-doesnt-scale-and-whonix-social-organization-structure-doesnt-scale-yet-either/9097" class="inline-onebox">Linus doesn't scale and Whonix social organization structure doesn't scale yet either</a></li>
<li><a href="https://forums.whonix.org/t/focus-on-low-effort-maintainability/9067" class="inline-onebox">Focus on low-effort maintainability</a></li>
<li><a href="https://www.whonix.org/wiki/Reporting_Bugs#Community_Feedback">https://www.whonix.org/wiki/Reporting_Bugs#Community_Feedback</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/13</link>
        <pubDate>Sat, 28 Mar 2020 11:12:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-13</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="11" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>How few are a few?</p>
</blockquote>
</aside>
<p>It could be anything. We can make a small list of commonly used packages. Especially packages that parse untrusted input e.g. a document viewer.</p>
<aside class="quote no-group" data-username="Patrick" data-post="11" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>How’s that possible?<br>
Use newer software from upstream as they release and package? Well, that’s not going to fly well due to dependency issues.</p>
</blockquote>
</aside>
<p>We can package the dependencies too but that might not work out well.</p>
<p>Even without the proper security updates, things like CFI alone would be great.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/12</link>
        <pubDate>Fri, 27 Mar 2020 20:22:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-12</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="madaidan" data-post="10" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>FYI AOSiP is a custom ROM, not official AOSP.</p>
</blockquote>
</aside>
<p>Yes, I took a lazy shortcut not looking at AOSP update_engine source code and assumed AOSiP wouldn’t be much different. Yes interesting to see the connection of <code>Chromium OS</code> with <code>update_engine</code>.</p>
<aside class="quote no-group" data-username="madaidan" data-post="10" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>What if we were to package a few “core” packages ourselves while still being based on Debian?</p>
</blockquote>
</aside>
<p>How few are a few?<br>
Also requires a solution for <a href="https://forums.whonix.org/t/selecting-secure-packages-from-packages-debian-org/9152" class="inline-onebox">Selecting Secure Packages from packages.debian.org</a> - i.e. objective, doable criteria for judging secure vs non-secure.</p>
<aside class="quote no-group" data-username="madaidan" data-post="10" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>with proper security updates.</p>
</blockquote>
</aside>
<p>How’s that possible?<br>
Use newer software from upstream as they release and package? Well, that’s not going to fly well due to dependency issues. New versions don’t work with Debian stable. Would be similar to mixing Debian testing with Debian stable which doesn’t work great.</p>
<ul>
<li>One could also argue in theory (<a href="https://www.debian.org/security/faq.html#testing">but not in practice</a>) Debian testing is more secure than Debian stable since Debian testing sticks closer to upstream releases. (That however doesn’t hold true during periods of Debian freeze.)</li>
<li>One could also argue in theory (<a href="https://www.debian.org/security/faq.html#unstable">but again not in practice</a>) that Debian sid is more secure than Debian stable since Debian sid sticks closer to upstream releases. (Ignoring that sid is unstable indeed.)</li>
<li>Debian rolling was an idea but it didn’t materialize.</li>
</ul>
<p>A rolling distribution - not “really” rolling but mostly rolling at long periods distribution - Debian testing - was unsuitable as base for Whonix, see <a href="https://www.whonix.org/wiki/Dev/Operating_System#Why_is_Whonix_.E2.84.A2_based_on_Debian_Stable.2C_not_Debian_Testing.3F">Why is Whonix ™ based on Debian Stable, not Debian Testing?</a></p>
<p>Therefore I don’t think this is feasible with the current project resources.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/11</link>
        <pubDate>Fri, 27 Mar 2020 20:14:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-11</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="9" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Make as few outside-chroot programs process any data inside-chroot for better isolation?</p>
</blockquote>
</aside>
<p>Apt isn’t going to be run inside sandbox-app-launcher as that’d break it so the only isolation would be the chroot which isn’t much isolation at all, especially for root processes.</p>
<p>We can harden chroots to make them give proper isolation like grsecurity’s chroot hardening. I could probably extract that and send it to linux-hardened but I don’t think there’d be much advantage.</p>
<p>There is apparmor-profile-everything’s apt-get profile (it needs more hardening though) for actual isolation but that’s not related to this.</p>
<aside class="quote no-group" data-username="Patrick" data-post="9" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I guess that needs the stackable wrappers?</p>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-username="Patrick" data-post="9" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Android update_engine changed license from BSD to Apache<br>
<a href="https://github.com/AOSiP/platform_system_update_engine/commit/aea4c1cea20dda7ae7e85fc8924a2d784f70d806">https://github.com/AOSiP/platform_system_update_engine/commit/aea4c1cea20dda7ae7e85fc8924a2d784f70d806</a> and <code>Copyright (c) 2010 The Chromium OS Authors.</code></p>
</blockquote>
</aside>
<p>FYI AOSiP is a custom ROM, not official AOSP.</p>
<aside class="quote no-group" data-username="Patrick" data-post="9" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>At the moment I am not trying to replace Debian / Fedora with a more-secure-by-default base distribution that packages its own wayland, firefox, and whatnot. That would require a complete re-focus. Totally different project. It’s also probably more of an organizational, social challenge. Would need to get a sufficiently big team to join, i.e. maintainers. And then somehow vet these maintainers. Have trusted people that likely won’t be adding backdoors. Before that I also probably would have to try to change Debian / Fedora from the inside first by contributing to them. Also talking to more people from there to see how such an organization works to learn how to build one.</p>
</blockquote>
</aside>
<p>What if we were to package a few “core” packages ourselves while still being based on Debian? i.e. <a href="http://whonix.org">whonix.org</a> can provide the base system compiled with clang for CFI, musl etc. with proper security updates.</p>
<p>We don’t need to replicate all of Debian’s packages but just a few main ones.</p>
<p>It’s a compromise for better security but not the best as that’s not currently maintainable.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/10</link>
        <pubDate>Fri, 27 Mar 2020 19:55:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-10</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-username="Patrick" data-post="7" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<blockquote>
<p>But then better use the inside-chroot’s APT?</p>
</blockquote>
<p>I don’t think there’s any real difference.</p>
</blockquote>
</aside>
<p>Make as few outside-chroot programs process any data inside-chroot for better isolation?</p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="7" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<blockquote>
<p>But then again, if user runs outside-chroot “sudo apt” how to translate that to sandboxed chrooted APT? And should this be done?</p>
</blockquote>
<p>A wrapper executes <code>chroot /apps apt $@</code> .</p>
</blockquote>
</aside>
<p>I guess that needs the stackable wrappers?</p>
<blockquote>
<p>A wrapper executes <code>chroot /apps apt $@</code> .</p>
</blockquote>
<p>That’s also better since it uses chroot’s apt.</p>
<aside class="quote no-group" data-username="madaidan" data-post="8" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>CoreOS has an “update_engine” but I don’t know if it’s the same.</p>
<p><img src="https://github.githubassets.com/favicon.ico" alt="" width="16" height="16"> <a href="https://github.com/coreos/update_engine">GitHub</a></p>
<p><img src="https://avatars2.githubusercontent.com/u/3730757?s=400&amp;v=4" alt="" width="" height=""></p>
<h3><a href="https://github.com/coreos/update_engine">coreos/update_engine</a></h3>
</blockquote>
</aside>
<p>Android update_engine changed license from BSD to Apache<br>
<a href="https://github.com/AOSiP/platform_system_update_engine/commit/aea4c1cea20dda7ae7e85fc8924a2d784f70d806">https://github.com/AOSiP/platform_system_update_engine/commit/aea4c1cea20dda7ae7e85fc8924a2d784f70d806</a> and <code>Copyright (c) 2010 The Chromium OS Authors.</code></p>
<p>And CoreOS update_engine also has <code>Copyright (c) 2010 The Chromium OS Authors.</code>.</p>
<aside class="quote no-group quote-modified" data-username="madaidan" data-post="8" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Someone mentioned Silverblue to Daniel and he responded:</p>
<blockquote>
<p>no<br>
it’s less bad<br>
it doesn’t do it the way that I’m saying and it probably makes systemd much harder to avoid<br>
I don’t think any of the existing OSes is a useful starting point beyond for use as a way to generate templates</p>
</blockquote>
<p>i.e. we have to do it ourselves.</p>
</blockquote>
</aside>
<p>At the moment I am not trying to replace Debian / Fedora with a more-secure-by-default base distribution that packages its own wayland, firefox, and whatnot. That would require a complete re-focus. Totally different project. It’s also probably more of an organizational, social challenge. Would need to get a sufficiently big team to join, i.e. maintainers. And then somehow vet these maintainers. Have trusted people that likely won’t be adding backdoors. Before that I also probably would have to try to change Debian / Fedora from the inside first by contributing to them. Also talking to more people from there to see how such an organization works to learn how to build one.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/9</link>
        <pubDate>Fri, 27 Mar 2020 19:14:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-9</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><code>sudo apt install -o Dir=/apps pkg-name</code> doesn’t work. Maye if /apps is already a complete chroot.</p>
</blockquote>
</aside>
<p>It does work as /apps is a complete chroot due to the mounting.</p>
<aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>But then better use the inside-chroot’s APT?</p>
</blockquote>
</aside>
<p>I don’t think there’s any real difference.</p>
<aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>But then again, if user runs outside-chroot “sudo apt” how to translate that to sandboxed chrooted APT? And should this be done?</p>
</blockquote>
</aside>
<p>A wrapper executes <code>chroot /apps apt $@</code>.</p>
<aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Seems difficult as I couldn’t find anyone who made use of this outside of Android yet, you?</p>
</blockquote>
</aside>
<p>CoreOS has an “update_engine” but I don’t know if it’s the same.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://github.githubassets.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://github.com/coreos/update_engine" target="_blank">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars2.githubusercontent.com/u/3730757?s=400&amp;v=4" class="thumbnail" width="" height="">

<h3><a href="https://github.com/coreos/update_engine" target="_blank">coreos/update_engine</a></h3>

<p>update daemon for Container Linux. Contribute to coreos/update_engine development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Then there’s also Fedora Silverblue? Stateless?</p>
</blockquote>
</aside>
<p>Someone mentioned Silverblue to Daniel and he responded:</p>
<blockquote>
<p>no<br>
it’s less bad<br>
it doesn’t do it the way that I’m saying and it probably makes systemd much harder to avoid<br>
I don’t think any of the existing OSes is a useful starting point beyond for use as a way to generate templates</p>
</blockquote>
<p>i.e. we have to do it ourselves.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/8</link>
        <pubDate>Fri, 27 Mar 2020 17:49:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-8</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Nice blog post on usefulness of dm-verity generally:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://s1.wp.com/i/favicon.ico" class="site-icon" width="32" height="32">
      <a href="https://blog.verbum.org/2017/06/12/on-dm-verity-and-operating-systems/" target="_blank" title="03:21PM - 12 June 2017">Colin Walters – 12 Jun 17</a>
  </header>
  <article class="onebox-body">
    <img src="https://s0.wp.com/i/blank.jpg" class="thumbnail onebox-avatar" width="200" height="200">

<h3><a href="https://blog.verbum.org/2017/06/12/on-dm-verity-and-operating-systems/" target="_blank">On dm-verity and operating systems</a></h3>

<p>TL;DR: I posit that dm-verity is most useful if one is making a true fixed purpose device that has extremely limited configuration. If one allows installing (unprivileged) software, the protection …</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>madaidan via Whonix Forum:</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>chroot’s aren’t secure. Research “chroot escape”.</p>
</blockquote>
</aside>
<p>I know, I’ve looked a lot into chroot escapes for other projects. That’s why I didn’t suggest to use chroots for isolating processes. It’s only to have the base system and app data on 2 different images.</p>
<p>sandbox-app-launcher is what would be used for isolating apps. We’d chroot, then run the app in sandbox-app-launcher.</p>
</blockquote>
<p>Ok, good.</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>User runs “sudo apt install pkg-name”. How to make install that to chroot?</p>
</blockquote>
</aside>
<p>Create a wrapper that runs <code>sudo apt install -o Dir=/apps pkg-name</code> or maybe we can add an apt configuration file.</p>
</blockquote>
<p><code>sudo apt install -o Dir=/apps pkg-name</code> doesn’t work. Maye if /apps is<br>
already a complete chroot. But then better use the inside-chroot’s APT?<br>
(Not the outside-chroot’s APT.)</p>
<p>But then again, if user runs outside-chroot “sudo apt” how to translate<br>
that to sandboxed chrooted APT? And should this be done?</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also how would we upgrade the base system image?</p>
</blockquote>
</aside>
<p>We should probably look into the update_engine thing Daniel Micay talked about.</p>
</blockquote>
<p>Seems difficult as I couldn’t find anyone who made use of this outside<br>
of Android yet, you?</p>
<p>Quote <a href="https://source.android.com/devices/tech/ota/ab">https://source.android.com/devices/tech/ota/ab</a></p>
<blockquote>
<p>OEMs not using Google’s OTA infrastructure will be able to reuse the<br>
AOSP system code but will need to supply their own client.</p>
</blockquote>
<p>(Fedora) CoreOS / Container Linux might be an alternative, had and<br>
likely still has dm-verity as per:</p>
<p><a href="https://coreos.com/blog/verifying-os-at-runtime.html" class="onebox" target="_blank">https://coreos.com/blog/verifying-os-at-runtime.html</a></p>
<p>CoreOS is also (somewhat)<br>
<a href="https://www.whonix.org/wiki/Dev/Stateless">stateless</a>?  <code>/etc</code>? But<br>
CoreOS might not work for hosts? (Whonix-Host) (I.e. both Whonix-Host<br>
and Whonix VMs couldn’t be both CoreOS based?)</p>
<p>Then there’s also Fedora Silverblue? Stateless?</p>
<p>While CoreOS and Fedora Silverblue are similar (rpm-ostree based), I<br>
haven’t found if Fedora Silverblue supports dm-verity yet. But since<br>
CoreOS had/has dm-verity, I guess it’s doable for Fedora Silverblue too<br>
and/or even coming somewhat soon supported by upstream Fedora?</p>
<p>Fedora seems more interesting now. Kinda the “holy grail” I am looking<br>
for. Stateless (at least more than Debian) + dm-verity (or fs-verity)<br>
within reach. Though, I am not sure of the other criteria for choosing a<br>
base distribution for Whonix. Wiki page for Fedora notes:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Dev/Fedora" target="_blank" title="06:02AM - 18 March 2020">whonix.org – 18 Mar 20</a>
  </header>
  <article class="onebox-body">
    <img src="" class="thumbnail" width="" height="">

<h3><a href="https://www.whonix.org/wiki/Dev/Fedora" target="_blank">Dev/Fedora - Whonix</a></h3>

<p>Development Notes about Fedora</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/7</link>
        <pubDate>Fri, 27 Mar 2020 08:12:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-7</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>chroot’s aren’t secure. Research “chroot escape”.</p>
</blockquote>
</aside>
<p>I know, I’ve looked a lot into chroot escapes for other projects. That’s why I didn’t suggest to use chroots for isolating processes. It’s only to have the base system and app data on 2 different images.</p>
<p>sandbox-app-launcher is what would be used for isolating apps. We’d chroot, then run the app in sandbox-app-launcher.</p>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>User runs “sudo apt install pkg-name”. How to make install that to chroot?</p>
</blockquote>
</aside>
<p>Create a wrapper that runs <code>sudo apt install -o Dir=/apps pkg-name</code> or maybe we can add an apt configuration file.</p>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>How to make install that to chroot? Maybe it shouldn’t?</p>
</blockquote>
</aside>
<p>It should, hence the <code>-o Dir=/apps</code>.</p>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Maybe after implementing that it would be a good time to invent new commands such as <code>apt-chroot</code>?</p>
</blockquote>
</aside>
<p>I think it might be good to allow the user to install their own programs but Debian has so much generic system stuff in the repos other than actual apps that might make this problematic.</p>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Sounds like a lot development work since nobody publicly implemented that with Debian yet or any Linux desktop distribution.</p>
</blockquote>
</aside>
<p>I haven’t seen full system MAC policies on desktop Linux either yet we have apparmor-profile-everything.</p>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also how would we upgrade the base system image?</p>
</blockquote>
</aside>
<p>We should probably look into the update_engine thing Daniel Micay talked about.</p>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Every app the same chroot or different chroots?</p>
</blockquote>
</aside>
<p>The same chroot.</p>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Could be same chroot but home folder isolation?</p>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>And yet a way to share files among apps through<br>
shared folders?</p>
</blockquote>
</aside>
<p>That would be trivial to implement. We just need to create <code>/shared-storage</code> or similar.</p>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="8911">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>That would execute the program as root</p>
</blockquote>
</aside>
<p>sandbox-app-launcher would drop privileges (<code>sudo -H -u "${app_user}"</code>).</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/6</link>
        <pubDate>Thu, 26 Mar 2020 15:40:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-6</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>chroot’s aren’t secure. Research “chroot escape”.</p>
<aside class="onebox pdf">
  <header class="source">
      <a href="https://deepsec.net/docs/Slides/2015/Chw00t_How_To_Break%20Out_from_Various_Chroot_Solutions_-_Bucsay_Balazs.pdf" target="_blank">deepsec.net</a>
  </header>
  <article class="onebox-body">
    <a href="https://deepsec.net/docs/Slides/2015/Chw00t_How_To_Break%20Out_from_Various_Chroot_Solutions_-_Bucsay_Balazs.pdf" target="_blank"><span class="pdf-onebox-logo"></span></a>
<h3><a href="https://deepsec.net/docs/Slides/2015/Chw00t_How_To_Break%20Out_from_Various_Chroot_Solutions_-_Bucsay_Balazs.pdf" target="_blank">Chw00t_How_To_Break%20Out_from_Various_Chroot_Solutions_-_Bucsay_Balazs.pdf</a></h3>

<p class="filesize">6.41 MB</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>A lot more of that. I don’t think chroots were invented with security in<br>
mind. I guess if chroot’s were secure, nobody would bother with VMs /<br>
containers.</p>
<p>Maybe that’s why CLIP OS uses containers?</p>
<p>madaidan via Whonix Forum:</p>
<blockquote>
<p>What if we install all user applications into a separate chroot?</p>
</blockquote>
<p>User runs “sudo apt install pkg-name”. How to make install that to chroot?</p>
<p>Another stackable wrappers issue?</p>
<p>At least the initial implementation could surely live without “sudo apt<br>
install pkg-name” replacement and this being an opt-in.</p>
<p>How to make install that to chroot? Maybe it shouldn’t?</p>
<p>Maybe after we have<br>
</p><aside class="quote quote-modified" data-post="1" data-topic="7708">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="https://forums.whonix.org/t/multiple-boot-modes-for-better-security-persistent-user-live-user-persistent-admin-persistent-superadmin-persistent-recovery-mode/7708">multiple boot modes for better security: persistent user | live user | persistent admin | persistent superadmin | persistent recovery mode</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Update: 
The plan solidified. See this post: 
<a href="https://forums.whonix.org/t/multiple-boot-modes-for-better-security-persistent-user-live-user-persistent-admin-persistent-superadmin-persistent-recovery-mode/7708/32" class="inline-onebox">multiple boot modes for better security: persistent user | live user | persistent admin | persistent superadmin | persistent recovery mode</a> 

Old post: 
Related: 

<a href="https://forums.whonix.org/t/restrict-root-access/7658/15" class="inline-onebox">Restrict root access</a>
<a href="https://forums.whonix.org/t/disable-suid-binaries/7706/5" class="inline-onebox">Disable SUID Binaries</a>
<a href="https://forums.whonix.org/t/re-mount-home-and-other-with-noexec-and-nosuid-among-other-useful-mount-options-for-better-security/7707" class="inline-onebox">(re-)mount home [and other?] with noexec (and nosuid [among other useful mount options]) for better security?</a>
<a href="https://forums.whonix.org/t/walled-garden-firewall-whitelisting-application-whitelisting-sudo-lockdown-superuser-mode-protected-mode/5725" class="inline-onebox">walled garden, firewall whitelisting, application whitelisting, sudo lockdown, superuser mode, protected mode</a>


What about more boot modes…
  </blockquote>
</aside>
<br>
user <code>user</code> can’t use APT anymore. Maybe after implementing that it<br>
would be a good time to invent new commands such as <code>apt-chroot</code>?<p></p>
<blockquote>
<p>So we have the base system image that’s verified with dm-verity.</p>
</blockquote>
<p>Sounds like a lot development work since nobody publicly implemented<br>
that with Debian yet or any Linux desktop distribution.</p>
<p>He has some examples that don’t look too difficult for non-encrypted<br>
(VM) setups.</p>
<aside class="onebox pdf">
  <header class="source">
      <a href="https://elinux.org/images/9/97/Protecting_your_system.pdf" target="_blank">elinux.org</a>
  </header>
  <article class="onebox-body">
    <a href="https://elinux.org/images/9/97/Protecting_your_system.pdf" target="_blank"><span class="pdf-onebox-logo"></span></a>
<h3><a href="https://elinux.org/images/9/97/Protecting_your_system.pdf" target="_blank">Protecting_your_system.pdf</a></h3>

<p class="filesize">2.54 MB</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>But then integrating that into the build process is non-trivial.</p>
<p>Also how would we upgrade the base system image?</p>
<blockquote>
<p>Whenever the user executes their app it chroots and executes it.</p>
</blockquote>
<p>Every app the same chroot or different chroots? Could be same chroot but<br>
home folder isolation? And yet a way to share files among apps through<br>
shared folders? Similar to android?</p>
<blockquote>
<p>sudo chroot /apps $program</p>
</blockquote>
<p>That would execute the program as root. Even if chroot, we ought to run<br>
as little as possible as root.</p>
<blockquote>
<p>The only issue with this is all the directories are mounted read-write so any modification to e.g. <code>/apps/bin</code> would modify <code>/bin</code> too. There should be a way to mount the base system as read-only but the everything else in the chroot as read-write.</p>
</blockquote>
<p>Qubes TemplateBasedAppVMs can write to the shared root image (including<br>
/usr/bin etc.) of TemplateVM but these changes aren’t actually written<br>
to actual TemplateVM root image. These are written to volatile.img and<br>
discarded after shutdown. However, all applications can write to the<br>
root image. They won’t “notice” anything. Similar to a Live ISO overlayfs?</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/5</link>
        <pubDate>Thu, 26 Mar 2020 08:11:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-5</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>What if we install all user applications into a separate chroot?</p>
<p>So we have the base system image that’s verified with dm-verity. We then create the <code>/apps</code> directory in a separate non-verified image that’s mounted during boot which then has the base system files mounted.</p>
<p>We create an apt wrapper so whenever the user installs a program, we chroot into <code>/apps</code> and install the program.</p>
<p>Whenever the user executes their app it chroots and executes it.</p>
<pre><code class="lang-auto">mount /path/to/unverified_image /apps

for dir in bin sbin usr lib lib64 var etc
do
  mkdir "/apps/${dir}"
  mount -o bind "/${dir}" "/apps/${dir}"
done

mkdir /apps/{proc,sys,dev}
mount proc /apps/proc -t proc
mount sysfs /apps/sys -t sysfs
mount devtmpfs /apps/dev -t devtmpfs
mount devpts /apps/dev/pts -t devpts

apt-get install -o Dir=/apps $program
chroot /apps $program
</code></pre>
<p>The only issue with this is all the directories are mounted read-write so any modification to e.g. <code>/apps/bin</code> would modify <code>/bin</code> too. There should be a way to mount the base system as read-only but then everything else in the chroot as read-write.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/4</link>
        <pubDate>Wed, 25 Mar 2020 23:47:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-4</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
      <item>
        <title>FS-VERITY in Linux 5.4</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I don’t think any (Debian based) Linux desktop distribution can/will implement this unfortunately in mid term future. Happy to be proven wrong. Also because non-determinism and unclean separation of system and user folders makes it even harder to provide a signed base image (or filesystem).</p>
<ul>
<li><a href="https://www.whonix.org/wiki/Verified_Boot">https://www.whonix.org/wiki/Verified_Boot</a></li>
<li><a href="https://www.whonix.org/wiki/Dev/Stateless">https://www.whonix.org/wiki/Dev/Stateless</a></li>
<li><a href="https://reproducible-builds.org">https://reproducible-builds.org</a></li>
</ul>
<p>dm-verify / fs-verity require a distributor to create and sign and image (or filesystem). Which the user cannot modify (at least not without superroot) (android calls that “rooting” or after market firmware image flashing). Then the package management works differently - it does not write to the root image. Is therefore more limited - unless extensive development is being done. Android added a lot of the missing functionality to make this work. But then users require the distributor (in case of mobile phones their mobile carrier or mobile phone producer) to provide upgrades - which we know - is a very broken process. For way too many phones there aren’t upgrades delivered (and worse so, freedom is denied to users to update their own devices due to locked bootloaders).</p>
<p>Perhaps root (or superroot) could upgrade and then a key generated on the user’s machine could sign the file system or all binaries. Then when booting using <a href="https://forums.whonix.org/t/multiple-boot-modes-for-better-security-persistent-root-persistent-noroot-live-root-live-noroot/7708" class="inline-onebox">multiple boot modes for better security: persistent user | live user | persistent admin | persistent superadmin | persistent recovery mode</a> with user, any modifications to the root file system could be detected. But that seems superuser since Linux file permission prevent that anyhow. Any attacker compromise / escalate these permissions could also subvert dm-verify / fs-verity, I think.</p>
          <p><a href="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911/3</link>
        <pubDate>Sat, 08 Feb 2020 10:19:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8911-3</guid>
        <source url="http://forums.whonix.org/t/fs-verity-in-linux-5-4/8911.rss">FS-VERITY in Linux 5.4</source>
      </item>
  </channel>
</rss>
