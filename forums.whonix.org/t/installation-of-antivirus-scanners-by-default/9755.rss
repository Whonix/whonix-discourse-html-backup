<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Installation of Antivirus Scanners by Default</title>
    <link>http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755</link>
    <description>I am not happy with [The Utility of Antivirus Tools](https://www.whonix.org/wiki/Malware#The_Utility_of_Antivirus_Tools) (my edit years ago didn&#39;t prevail and than forgot about it). Quote as now:

&gt; Antivirus products and [personal firewalls](https://en.wikipedia.org/wiki/Personal_firewall) [[archive]](https://web.archive.org/web/https://en.wikipedia.org/wiki/Personal_firewall) are *not* drop in solutions for a secure host. Malware can often stay undetected and evade scans, while application level personal firewalls are often circumvented. [[2]](https://www.whonix.org/wiki/Malware#cite_note-2) [Polymorphic code](https://en.wikipedia.org/wiki/Polymorphic_code) [[archive]](https://web.archive.org/web/https://en.wikipedia.org/wiki/Polymorphic_code) and [rootkits](https://en.wikipedia.org/wiki/Rootkit) [[archive]](https://web.archive.org/web/https://en.wikipedia.org/wiki/Rootkit) essentially render antivirus products helpless. [[3]](https://www.whonix.org/wiki/Malware#cite_note-3) [[4]](https://www.whonix.org/wiki/Malware#cite_note-4)
&gt;
&gt; Antivirus tools are actually worse than useless. In the case of sophisticated and targeted attacks, the antivirus software can serve as a pathway to exploiting a system&#39;s kernel, since they almost always run with administration level privileges. [[5]](https://www.whonix.org/wiki/Malware#cite_note-5) Antivirus software also harms privacy by sending system files back to the company servers for analysis.[[6]](https://www.whonix.org/wiki/Malware#cite_note-6) The software also actively conducts man-in-the-middle attacks on secure SSL connections, enabling very sensitive information to be viewed. [[7]](https://www.whonix.org/wiki/Malware#cite_note-7)

&quot;Antivirus tools are actually worse than useless.&quot; - Really? It&#39;s a good argument but empirically true too? Perhaps people who wouldn&#39;t fall for popular methods of infection wouldn&#39;t benefit from antivirus, actually suffer from increased attack surface. But for most users I guess antivirus might help and increased attack surface is theoretic.

ClamAV nowadays does have a background scanner / guard.

Related Debian ClamAV feature request:
[add init script / systemd unit for clamonacc background scanner](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=961884)

I might be able to develop activating the background scanner by default, refuse execution of malicious files and graphically notify the user about it.

ClamAV nowadays developed by Cisco and might have made huge progress since I checked ages ago.

Also interesting:

https://github.com/rfxn/linux-malware-detect

We have [LKRG](https://www.whonix.org/wiki/Linux_Kernel_Runtime_Guard_LKRG), perhaps https://forums.whonix.org/t/rootkit-detection-system-aide/9754, then why not antivirus too? We&#39;d be the first Open Source, public Linux distribution that installs Antivirus, rootkit scanner and kernel guard by default.</description>
    <language>en</language>
    <lastBuildDate>Tue, 02 Mar 2021 07:29:10 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Installation of Antivirus Scanners by Default</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://www.rfxn.com/projects/linux-malware-detect/" class="onebox" target="_blank" rel="noopener">https://www.rfxn.com/projects/linux-malware-detect/</a></p>
<aside class="onebox githubfolder">
  <header class="source">
      <img src="https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="16" height="16">
      <a href="https://github.com/rfxn/linux-malware-detect" target="_blank" rel="noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars.githubusercontent.com/u/1923826?s=400&amp;amp;v=4" class="thumbnail onebox-full-image" width="60" height="60">

<h3><a href="https://github.com/rfxn/linux-malware-detect" target="_blank" rel="noopener">rfxn/linux-malware-detect</a></h3>


  <p><span class="label1">Linux Malware Detection (LMD). Contribute to rfxn/linux-malware-detect development by creating an account on GitHub.</span></p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/9</link>
        <pubDate>Tue, 02 Mar 2021 07:29:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9755-9</guid>
        <source url="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755.rss">Installation of Antivirus Scanners by Default</source>
      </item>
      <item>
        <title>Installation of Antivirus Scanners by Default</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Please follow these <a href="https://www.whonix.org/wiki/Linux_Kernel_Runtime_Guard_LKRG#Upstream_Resources">LKRG Upstream Resources</a>, specifically the video of the initial presentation where Adam mentions that some classes of vulnerabilities are rendered dysfunctional even with full knowledge of LKRG, full read/write primitive required. See also this <a href="https://www.whonix.org/w/index.php?title=Linux_Kernel_Runtime_Guard_LKRG&amp;oldid=54572#Download">old version of Whonix’s LKRG wiki page, comparison table</a>. That version was deprecated since it wasn’t accurate enough and too many conditionals to simplify it that much.</p>
          <p><a href="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/8</link>
        <pubDate>Wed, 17 Jun 2020 15:13:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9755-8</guid>
        <source url="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755.rss">Installation of Antivirus Scanners by Default</source>
      </item>
      <item>
        <title>Installation of Antivirus Scanners by Default</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="9755">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Some vulnerabilities are non-exploitable if with full knowledge of LKRG</p>
</blockquote>
</aside>
<p>That doesn’t make sense. If an exploit knows about LKRG, it can disable it entirely without too much effort in which case, LKRG won’t have any effect on later events.</p>
          <p><a href="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/7</link>
        <pubDate>Wed, 17 Jun 2020 15:04:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9755-7</guid>
        <source url="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755.rss">Installation of Antivirus Scanners by Default</source>
      </item>
      <item>
        <title>Installation of Antivirus Scanners by Default</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="madaidan" data-post="4" data-topic="9755">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>LKRG isn’t too effective either since it relies on the attacker not knowing about it</p>
</blockquote>
</aside>
<p>Some vulnerabilities are non-exploitable if with full knowledge of LKRG. Links here:<br>
<a href="https://www.whonix.org/wiki/Linux_Kernel_Runtime_Guard_LKRG#Upstream_Resources">LKRG Upstream Resources</a></p>
<aside class="quote no-group" data-username="madaidan" data-post="4" data-topic="9755">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>It is definitely not theoretic. There’s stuff like Avast that had insecure javascript interpreters run with system privileges.</p>
</blockquote>
</aside>
<p>Javascript with root seems bad design indeed. For ClamAV I haven’t heard about such design flaws yet.</p>
<aside class="quote no-group" data-username="madaidan" data-post="4" data-topic="9755">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>on Linux since there have been so little virus outbreaks</p>
</blockquote>
</aside>
<p>I don’t know what quantifies little and how important numbers are. Linux malware does exist:</p>
<ul>
<li>
<a href="https://www.av-test.org/fileadmin/pdf/security_report/AV-TEST_Security_Report_2018-2019.pdf">https://www.av-test.org/fileadmin/pdf/security_report/AV-TEST_Security_Report_2018-2019.pdf</a> mentions Linux</li>
<li><a href="https://www.zdnet.com/article/eset-discovers-21-new-linux-malware-families/">https://www.zdnet.com/article/eset-discovers-21-new-linux-malware-families/</a></li>
<li><a href="https://nakedsecurity.sophos.com/2019/07/25/evilgnome-linux-malware-aimed-at-your-laptop-not-your-servers/">https://nakedsecurity.sophos.com/2019/07/25/evilgnome-linux-malware-aimed-at-your-laptop-not-your-servers/</a></li>
<li><a href="https://blog.imunify360.com/hiddenwasp-how-to-detect-malware-hidden-on-linux-iot">https://blog.imunify360.com/hiddenwasp-how-to-detect-malware-hidden-on-linux-iot</a></li>
</ul>
<p>I don’t have a good list of questions which could help to resolve this. Here is a starter: How relevant it would these viruses in Whonix’s case have been and could AV have helped?</p>
          <p><a href="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/6</link>
        <pubDate>Wed, 17 Jun 2020 07:09:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9755-6</guid>
        <source url="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755.rss">Installation of Antivirus Scanners by Default</source>
      </item>
      <item>
        <title>Installation of Antivirus Scanners by Default</title>
        <dc:creator><![CDATA[81a989]]></dc:creator>
        <description><![CDATA[
            <p>ClamAV is most used by mail servers to scan attachments before sending them to Windows clients.</p>
          <p><a href="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/5</link>
        <pubDate>Wed, 17 Jun 2020 02:17:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9755-5</guid>
        <source url="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755.rss">Installation of Antivirus Scanners by Default</source>
      </item>
      <item>
        <title>Installation of Antivirus Scanners by Default</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="1" data-topic="9755">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>“Antivirus tools are actually worse than useless.” - Really? It’s a good argument but empirically true too? Perhaps people who wouldn’t fall for popular methods of infection wouldn’t benefit from antivirus, actually suffer from increased attack surface. But for most users I guess antivirus might help and increased attack surface is theoretic.</p>
</blockquote>
</aside>
<p>It is definitely not theoretic. There’s stuff like Avast that had insecure javascript interpreters run with system privileges.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="16" height="16">
      <a href="https://github.com/taviso/avscript" target="_blank">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars3.githubusercontent.com/u/123814?s=400&amp;v=4" class="thumbnail onebox-avatar" width="400" height="400">

<h3><a href="https://github.com/taviso/avscript" target="_blank">taviso/avscript</a></h3>

<p>Avast JavaScript Interactive Shell . Contribute to taviso/avscript development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>The methods used by antiviruses are terrible and I really don’t think we should embrace them. Antiviruses are even worse on Linux since there have been so little virus outbreaks that AVs’ databases are tiny. They’re essentially useless.</p>
<p>Software like ClamAV only serves to detect Windows viruses to prevent them from being infected when passing data to a Windows machine from Linux.</p>
<p>AV = Another Vulnerability</p>
<aside class="quote no-group" data-username="Patrick" data-post="1" data-topic="9755">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>We have <a href="https://www.whonix.org/wiki/Linux_Kernel_Runtime_Guard_LKRG">LKRG</a>, perhaps <a href="https://forums.whonix.org/t/rootkit-detection-system-aide/9754">rootkit detection system - AIDE</a>, then why not antivirus too?</p>
</blockquote>
</aside>
<p>They aren’t the same at all. AVs are basically a blacklist of some software and attempts to enumerate badness. LKRG works by detecting any modifications to the kernel (well not all of the kernel, only parts that LKRG is designed to cover but you get the idea).</p>
<p>LKRG isn’t too effective either since it relies on the attacker not knowing about it but it’s at least effective against a lot of off-the-shelf malware.</p>
          <p><a href="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/4</link>
        <pubDate>Mon, 15 Jun 2020 20:40:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9755-4</guid>
        <source url="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755.rss">Installation of Antivirus Scanners by Default</source>
      </item>
      <item>
        <title>Installation of Antivirus Scanners by Default</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="1" data-topic="9755">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>“Antivirus tools are actually worse than useless.” - Really? It’s a good argument but empirically true too?</p>
</blockquote>
</aside>
<p>Yeah. In the cited article there was NSA exploits that got root by targeting the AV specifically (Kaspersky in that case) so not really theoretic, but something done in practice. Also the privacy problems make it a nonstarter.</p>
<aside class="quote no-group" data-username="Patrick" data-post="1" data-topic="9755">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>ClamAV nowadays does have a background scanner / guard.</p>
</blockquote>
</aside>
<p>AIDE is no more an “AV” than LKRG is. They focus on shutting down entire mechanisms of attack than try to compile a signature blacklist for every bad file in existence - which isn’t productive and is the first thing any blackhat tests their kit against before deploying. AIDE keep track of file hashes on the clean system and alerts you if something changed.</p>
<p><a href="https://packages.debian.org/buster/admin/aide" class="onebox" target="_blank">https://packages.debian.org/buster/admin/aide</a></p>
<blockquote>
<p>AIDE is an intrusion detection system that detects changes to files on the local system. It creates a database from the regular expression rules that it finds from the config file. <strong>Once this database is initialized it can be used to verify the integrity of the files</strong>. It has several message digest algorithms (md5, sha1, rmd160, tiger, haval, etc.) that are used to check the integrity of the file.</p>
</blockquote>
<p>If ClamAV doesn’t report to a remote server, doesn’t have an unacceptable perf penalty and doesn’t  run as root then it shouldn’t be that bad. If it does any of these it shouldn’t be considered.</p>
          <p><a href="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/2</link>
        <pubDate>Mon, 15 Jun 2020 16:47:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9755-2</guid>
        <source url="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755.rss">Installation of Antivirus Scanners by Default</source>
      </item>
      <item>
        <title>Installation of Antivirus Scanners by Default</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I am not happy with <a href="https://www.whonix.org/wiki/Malware#The_Utility_of_Antivirus_Tools">The Utility of Antivirus Tools</a> (my edit years ago didn’t prevail and than forgot about it). Quote as now:</p>
<blockquote>
<p>Antivirus products and <a href="https://en.wikipedia.org/wiki/Personal_firewall">personal firewalls</a> <a href="https://web.archive.org/web/https://en.wikipedia.org/wiki/Personal_firewall">[archive]</a> are <em>not</em> drop in solutions for a secure host. Malware can often stay undetected and evade scans, while application level personal firewalls are often circumvented. <a href="https://www.whonix.org/wiki/Malware#cite_note-2">[2]</a> <a href="https://en.wikipedia.org/wiki/Polymorphic_code">Polymorphic code</a> <a href="https://web.archive.org/web/https://en.wikipedia.org/wiki/Polymorphic_code">[archive]</a> and <a href="https://en.wikipedia.org/wiki/Rootkit">rootkits</a> <a href="https://web.archive.org/web/https://en.wikipedia.org/wiki/Rootkit">[archive]</a> essentially render antivirus products helpless. <a href="https://www.whonix.org/wiki/Malware#cite_note-3">[3]</a> <a href="https://www.whonix.org/wiki/Malware#cite_note-4">[4]</a></p>
<p>Antivirus tools are actually worse than useless. In the case of sophisticated and targeted attacks, the antivirus software can serve as a pathway to exploiting a system’s kernel, since they almost always run with administration level privileges. <a href="https://www.whonix.org/wiki/Malware#cite_note-5">[5]</a> Antivirus software also harms privacy by sending system files back to the company servers for analysis.<a href="https://www.whonix.org/wiki/Malware#cite_note-6">[6]</a> The software also actively conducts man-in-the-middle attacks on secure SSL connections, enabling very sensitive information to be viewed. <a href="https://www.whonix.org/wiki/Malware#cite_note-7">[7]</a></p>
</blockquote>
<p>“Antivirus tools are actually worse than useless.” - Really? It’s a good argument but empirically true too? Perhaps people who wouldn’t fall for popular methods of infection wouldn’t benefit from antivirus, actually suffer from increased attack surface. But for most users I guess antivirus might help and increased attack surface is theoretic.</p>
<p>ClamAV nowadays does have a background scanner / guard.</p>
<p>Related Debian ClamAV feature request:<br>
<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=961884">add init script / systemd unit for clamonacc background scanner</a></p>
<p>I might be able to develop activating the background scanner by default, refuse execution of malicious files and graphically notify the user about it.</p>
<p>ClamAV nowadays developed by Cisco and might have made huge progress since I checked ages ago.</p>
<p>Also interesting:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="16" height="16">
      <a href="https://github.com/rfxn/linux-malware-detect" target="_blank">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars3.githubusercontent.com/u/1923826?s=400&amp;v=4" class="thumbnail onebox-avatar" width="420" height="420">

<h3><a href="https://github.com/rfxn/linux-malware-detect" target="_blank">rfxn/linux-malware-detect</a></h3>

<p>Linux Malware Detection (LMD). Contribute to rfxn/linux-malware-detect development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>We have <a href="https://www.whonix.org/wiki/Linux_Kernel_Runtime_Guard_LKRG">LKRG</a>, perhaps <a href="https://forums.whonix.org/t/rootkit-detection-system-aide/9754" class="inline-onebox">rootkit detection system - AIDE</a>, then why not antivirus too? We’d be the first Open Source, public Linux distribution that installs Antivirus, rootkit scanner and kernel guard by default.</p>
          <p><a href="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755/1</link>
        <pubDate>Mon, 15 Jun 2020 15:09:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9755-1</guid>
        <source url="http://forums.whonix.org/t/installation-of-antivirus-scanners-by-default/9755.rss">Installation of Antivirus Scanners by Default</source>
      </item>
  </channel>
</rss>
