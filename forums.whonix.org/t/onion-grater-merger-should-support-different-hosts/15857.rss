<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>onion-grater-merger should support different hosts</title>
    <link>http://forums.whonix.org/t/onion-grater-merger-should-support-different-hosts/15857</link>
    <description>I didn&#39;t test yet but it appears hosts are not being included

https://github.com/Whonix/onion-grater/blob/master/usr/lib/onion-grater#L64

https://github.com/Whonix/onion-grater/blob/master/usr/lib/onion-grater-merger#L23

This would favor Multiple Workstations and each one receiving a different set of rules of the controller set by onion-grater.

Requires onion-grater-merger support.</description>
    <language>en</language>
    <lastBuildDate>Thu, 20 Oct 2022 19:17:49 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/onion-grater-merger-should-support-different-hosts/15857.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>onion-grater-merger should support different hosts</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>I didnâ€™t test yet but it appears hosts are not being included</p>
<aside class="onebox githubblob" data-onebox-src="https://github.com/Whonix/onion-grater/blob/master/usr/lib/onion-grater#L64">
  <header class="source">

      <a href="https://github.com/Whonix/onion-grater/blob/master/usr/lib/onion-grater#L64" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/onion-grater/blob/master/usr/lib/onion-grater#L64" target="_blank" rel="noopener">Whonix/onion-grater/blob/master/usr/lib/onion-grater#L64</a></h4>



    <pre class="onebox">      <code class="lang-">
        <ol class="start lines" start="54" style="counter-reset: li-counter 53 ;">
            <li>#   with `*` matching anything. While this matcher always works for binaries,</li>
            <li>#   it only works for scripts with an enabled AppArmor profile (not</li>
            <li>#   necessarily enforced, complain mode is good enough).</li>
            <li>#</li>
            <li># * `users`: a list of strings, each describing the user of the</li>
            <li>#   client with `*` matching anything.</li>
            <li>#</li>
            <li># For remote (non-local) clients, the following qualifiers are</li>
            <li># relevant:</li>
            <li>#</li>
            <li class="selected"># * hosts: a list of strings, each describing the IPv4 address</li>
            <li>#   of the client with `*` matching anything.</li>
            <li>#</li>
            <li># A filter can serve both local and remote clients by having</li>
            <li># qualifiers of both types.</li>
            <li>#</li>
            <li># `commands` (optional) is a list where each item is a dictionary with</li>
            <li># the obligatory `pattern` key, which is a regular expression that is</li>
            <li># matched against the full argument part of the command. The default</li>
            <li># behavior is to just proxy the line through if matched, but it can be</li>
            <li># altered with these keys:</li>
        </ol>
      </code>
    </pre>



  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubblob" data-onebox-src="https://github.com/Whonix/onion-grater/blob/master/usr/lib/onion-grater-merger#L23">
  <header class="source">

      <a href="https://github.com/Whonix/onion-grater/blob/master/usr/lib/onion-grater-merger#L23" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/onion-grater/blob/master/usr/lib/onion-grater-merger#L23" target="_blank" rel="noopener">Whonix/onion-grater/blob/master/usr/lib/onion-grater-merger#L23</a></h4>



    <pre class="onebox">      <code class="lang-">
        <ol class="start lines" start="13" style="counter-reset: li-counter 12 ;">
            <li>## Creates &lt;code&gt;/etc/onion-grater.d/30_autogenerated.yml&lt;/code&gt;.</li>
            <li>##</li>
            <li>## Only known use so far is by Whonix.</li>
            <li>#### meta end</li>
            <li>
            </li>
<li>import glob</li>
            <li>import yaml</li>
            <li>import os</li>
            <li>
            </li>
<li># Override elements</li>
            <li class="selected">no_merge_elements = ['suppress','match-hosts']</li>
            <li># Override elements with fixed value</li>
            <li>fixed_value_elements = {'match-exe-paths':'*','match-users':'*'}</li>
            <li>
            </li>
<li>def merge_yml(final_obj, parsing_obj):</li>
            <li>   # Inputs - 2 dictionaries/list from YML/YAML file</li>
            <li>   # "parsing_obj" is parsed and merged into "final_obj" and returned back</li>
            <li>   if isinstance(final_obj,dict) and isinstance(parsing_obj,dict):</li>
            <li>      for k,v in parsing_obj.items():</li>
            <li>         if k not in final_obj:</li>
            <li>            final_obj[k] = v</li>
        </ol>
      </code>
    </pre>



  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>This would favor Multiple Workstations and each one receiving a different set of rules of the controller set by onion-grater.</p>
<p>Requires onion-grater-merger support.</p>
          <p><a href="http://forums.whonix.org/t/onion-grater-merger-should-support-different-hosts/15857/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/onion-grater-merger-should-support-different-hosts/15857/1</link>
        <pubDate>Thu, 20 Oct 2022 19:17:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15857-1</guid>
        <source url="http://forums.whonix.org/t/onion-grater-merger-should-support-different-hosts/15857.rss">onion-grater-merger should support different hosts</source>
      </item>
  </channel>
</rss>
