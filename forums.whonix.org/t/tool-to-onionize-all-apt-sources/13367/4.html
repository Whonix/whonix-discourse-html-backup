<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>tool to onionize all APT sources - #4 by Patrick - Development - Whonix Forum</title>
    <meta name="description" content="I was wondering about this before but I didn’t thought I’d get to ever develop a solution for it, so no ticket created. Maybe you’d like to contribute?   dpkg -S /etc/apt/sources.list.d/*   anon-apt-sources-list: /etc/apt/sources.list.d/debian.list  dpkg-query: no path found matching pattern /etc/apt/sources.list.d/derivative.list  qubes-core-agent: /etc/apt/sources.list.d/qubes-r4.list    As for https://github.com/Whonix/repository-dist an option --onion seems very doable to do. Probably best t...">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../13367.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;tool to onionize all APT sources&#39;" href="../13367.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/tool-to-onionize-all-apt-sources/13367/4" />
<meta name="twitter:url" content="https://forums.whonix.org/t/tool-to-onionize-all-apt-sources/13367/4" />
<meta property="og:title" content="tool to onionize all APT sources" />
<meta name="twitter:title" content="tool to onionize all APT sources" />
<meta property="og:description" content="I was wondering about this before but I didn’t thought I’d get to ever develop a solution for it, so no ticket created. Maybe you’d like to contribute?   dpkg -S /etc/apt/sources.list.d/*   anon-apt-sources-list: /etc/apt/sources.list.d/debian.list  dpkg-query: no path found matching pattern /etc/apt/sources.list.d/derivative.list  qubes-core-agent: /etc/apt/sources.list.d/qubes-r4.list    As for https://github.com/Whonix/repository-dist an option --onion seems very doable to do. Probably best t..." />
<meta name="twitter:description" content="I was wondering about this before but I didn’t thought I’d get to ever develop a solution for it, so no ticket created. Maybe you’d like to contribute?   dpkg -S /etc/apt/sources.list.d/*   anon-apt-sources-list: /etc/apt/sources.list.d/debian.list  dpkg-query: no path found matching pattern /etc/apt/sources.list.d/derivative.list  qubes-core-agent: /etc/apt/sources.list.d/qubes-r4.list    As for https://github.com/Whonix/repository-dist an option --onion seems very doable to do. Probably best t..." />
<meta property="article:published_time" content="2022-02-20T14:42:34+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="../133674658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../13367.html">tool to onionize all APT sources</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-20T14:06:52Z' class='post-time'>
                February 20, 2022,  2:06pm
              </time>
              <meta itemprop='dateModified' content='2022-02-20T14:06:52Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubissue" data-onebox-src="../../../../external.html?link=https://github.com/Whonix/repository-dist/issues/1">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/Whonix/repository-dist/issues/1" target="_blank" rel="noopener">github.com/Whonix/repository-dist</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/Whonix/repository-dist/issues/1" target="_blank" rel="noopener">possible to add `--onion` to enable only onions and disable non onions?</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-02-20" data-time="10:53:59" data-timezone="UTC">10:53AM - 20 Feb 22 UTC</span>
      </div>


      <div class="user">
        <a href="../../../../external.html?link=https://github.com/nyxnor" target="_blank" rel="noopener">
          <img alt="nyxnor" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Only problem I see is with fastrack not having that and in the meantime a workar<span class="show-more-container"><a href="#" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">ound could be done.
Later would be great for it to also take care of debian.list and qubes-r4.list.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../whonix-16-0-5-0-for-virtualbox-point-release/13741.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../whonix-16-0-5-0-for-virtualbox-point-release/13741.html'>
                      <span itemprop='name'>Whonix 16.0.5.0 - for VirtualBox - Point Release!</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-20T14:07:12Z' class='post-time'>
                February 20, 2022,  2:07pm
              </time>
              <meta itemprop='dateModified' content='2022-02-20T14:07:12Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<h3>
<strong><a href="../../../../external.html?link=https://github.com/nyxnor">nyxnor</a></strong> commented <a href="../../../../external.html?link=https://github.com/Whonix/repository-dist/issues/1#issue-1144985063">3 hours ago</a>
</h3>
<p>Only problem I see is with fastrack not having that and in the meantime a workaround could be done.<br>
Later would be great for it to also take care of debian.list and qubes-r4.list.</p>
</blockquote>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-20T14:32:19Z' class='post-time'>
                February 20, 2022,  2:32pm
              </time>
              <meta itemprop='dateModified' content='2022-02-20T14:32:19Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Please remember the fasttrack guy about that issue, seems forgot for 5 months now.<br>
<a href="../../../../external.html?link=https://salsa.debian.org/fasttrack-team/support/-/issues/27" class="onebox" target="_blank" rel="noopener nofollow ugc">https://salsa.debian.org/fasttrack-team/support/-/issues/27</a></p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-20T14:42:34Z' class='post-time'>
                February 20, 2022,  2:42pm
              </time>
              <meta itemprop='dateModified' content='2022-02-20T14:42:34Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I was wondering about this before but I didn’t thought I’d get to ever develop a solution for it, so no ticket created. Maybe you’d like to contribute?</p>
<hr>
<pre><code>dpkg -S /etc/apt/sources.list.d/*
</code></pre>
<blockquote>
<p>anon-apt-sources-list: /etc/apt/sources.list.d/debian.list<br>
dpkg-query: no path found matching pattern /etc/apt/sources.list.d/derivative.list<br>
qubes-core-agent: /etc/apt/sources.list.d/qubes-r4.list</p>
</blockquote>
<hr>
<p>As for <a href="../../../../external.html?link=https://github.com/Whonix/repository-dist">https://github.com/Whonix/repository-dist</a> an option <code>--onion</code> seems very doable to do. Probably best to have mandatory switches? One of the following three:</p>
<ul>
<li>
<code>--clearnet</code> (TLS only. For Kicksecure. Opt-in.)</li>
<li>
<code>--torified</code> (I don’t really like that name <code>--torified</code> since <code>--onion</code> is also torified. But other names such as <code>--torplus</code> also seems misleading. Sounds like a fork of Tor. And <code>--torplustls</code> would be correct but a bit long and weird to type.</li>
<li><code>--onion</code></li>
</ul>
<hr>
<p><a href="../../../../external.html?link=https://github.com/Whonix/anon-apt-sources-list/blob/master/etc/apt/sources.list.d/debian.list"><code>/etc/apt/sources.list.d/debian.list</code></a> is a “managed” file. Managed for the benefit of the user. Package <code>anon-apt-sources-list</code> is updated whenever required, specifically on release upgrade to the next major version of Debian.</p>
<p>If that script was modified by the user or by a script (which looks to APT as if modified by the user) this would cause an interactive dpkg conflict resolution dialog which I can tell from support experience is very confusing for users, generating lots of support requests.</p>
<blockquote>
<p>Configuration file `/etc/apt/sources.list.d/debian.list’<br>
==&gt; Modified (by you or by a script) since installation.<br>
==&gt; Package distributor has shipped an updated version.<br>
What would you like to do about it ?  Your options are:<br>
Y or I  : install the package maintainer’s version<br>
N or O  : keep your currently-installed version<br>
D     : show the differences between the versions<br>
Z     : background this process to examine the situation<br>
The default action is to keep your current version.<br>
*** interfaces (Y/I/N/O/D/Z) [default=N] ? N</p>
</blockquote>
<p>Therefore maybe a new package <code>anon-onion-sources-list</code> would be better? The APT onionizer tool could then recommend to:</p>
<ul>
<li>
<code>sudo apt install anon-onion-sources-list</code> and</li>
<li>
<code>sudo apt purge anon-apt-sources-list</code>.</li>
</ul>
<p>Maybe even <code>systemcheck --verbose</code> would include a hint but that can be considered at the end.</p>
<hr>
<p><code>/etc/apt/sources.list.d/qubes-r4.list</code> is the worst offender currently. Not even using <code>tor+</code>. Not an anonymity risk but error handling would be better. File is managed by <code>qubes-core-agent</code>. Therefore also if that file was edited there would also be an interactive dpkg conflict resolution issue. Furthermore, this file is managed by Qubes, not Whonix. That file must not be installed in Non-Qubes-Whonix.</p>
<p>What could be done?</p>
<ul>
<li>Request that file to be moved to a separate Qubes package, then create an alternative package with the onion version?</li>
<li>
<a href="../../../../external.html?link=https://www.kicksecure.com/wiki/Dev/About_Debian_Packaging#config-package-dev">config-package-dev</a> <code>hide</code> <code>/etc/apt/sources.list.d/qubes-r4.list</code> and create an alternative package with the onion version? Ideally Qubes would maintain that file/package after initial contribution to Qubes. Otherwise could become very messy with maintenance lapses.</li>
</ul>
<p>We can always create an issue on <a href="../../../../external.html?link=https://github.com/QubesOS/qubes-issues/issues">https://github.com/QubesOS/qubes-issues/issues</a> to discuss this with Qubes upstream.</p>
<hr>
<aside class="quote no-group" data-username="nyxnor" data-post="3" data-topic="13367" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>Please remember the fasttrack guy about that issue, seems forgot for 5 months now.<br>
<a href="../../../../external.html?link=https://salsa.debian.org/fasttrack-team/support/-/issues/27">https://salsa.debian.org/fasttrack-team/support/-/issues/27</a></p>
</blockquote>
</aside>
<p>Could you send a friendly ping please?<br>
I cannot open that link currently.</p>
<p>Not sure what could be done. fasttrack might not be too important yet. Non-VirtualBox users could probably disable it. APT onionizer could mention it (always) and suggest to disable it for Non-VirtualBox users (both VM and host).</p>
<p>related:</p><aside class="quote" data-post="1" data-topic="11456">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar">
    <a href="../../install-debian-fasttrack-archive-keyring-enable-debian-fasttrack-repository-by-default/11456.html">Install Debian fasttrack-archive-keyring / enable Debian fasttrack repository by default?</a> <a class="badge-wrapper  bullet" href="../../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of components looking for maintainer)">Development</span></a>
  </div>
  <blockquote>
    Installation of <a href="../../../../external.html?link=https://packages.debian.org/bullseye/fasttrack-archive-keyring">fasttrack-archive-keyring</a> by default would simplify enabling the <a href="../../../../external.html?link=https://fasttrack.debian.net/">Debian fasttrack repository</a>. 
Enabling the <a href="../../../../external.html?link=https://fasttrack.debian.net/">Debian fasttrack repository</a> is out of scope for this forum discussion. 

<a href="../../../../external.html?link=https://wiki.debian.org/FastTrack" class="inline-onebox">FastTrack - Debian Wiki</a>
<a href="../../../../external.html?link=https://fasttrack.debian.net/">https://fasttrack.debian.net</a>
<a href="../../../../external.html?link=https://fasttrack.debian.net/debian/pool/" class="inline-onebox">Index of /debian/pool/</a>


Related: 

<a href="../../challenges-installing-virtualbox/9984/1.html" class="inline-onebox">Challenges Installing VirtualBox</a>
  </blockquote>
</aside>

<hr>
<p>How about user custom added repositories? I was wondering if an APT onionizer would have a set of clearnet repositories mapped to onion repositories and then with one command line option / wizard could upgrade/downgrade from one version to another.</p>
<hr>
<p>What about <code>extrepo</code>?</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../../external.html?link=https://packages.debian.org/bullseye/extrepo">
  <header class="source">

      <a href="../../../../external.html?link=https://packages.debian.org/bullseye/extrepo" target="_blank" rel="noopener">packages.debian.org</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="../../../../external.html?link=https://packages.debian.org/bullseye/extrepo" target="_blank" rel="noopener">Debian -- Details of package extrepo in bullseye</a></h3>

  <p>External repository manager</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Would this feature fit there? Could be contributed to upstream?</p>
<hr>
<p>Yeah. Quite complex, right? That’s why I never before wrote this up.</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-20T15:42:50Z' class='post-time'>
                February 20, 2022,  3:42pm
              </time>
              <meta itemprop='dateModified' content='2022-02-20T15:42:50Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p>Maybe you’d like to contribute?</p>
</blockquote>
<p>Yes.</p>
<blockquote>
<ul>
<li>
<code>--clearnet</code> (TLS only. For Kicksecure. Opt-in.)</li>
<li>
<code>--torified</code> (I don’t really like that name <code>--torified</code> since <code>--onion</code> is also torified. But other names such as <code>--torplus</code> also seems misleading. Sounds like a fork of Tor. And <code>--torplustls</code> would be correct but a bit long and weird to type.</li>
<li><code>--onion</code></li>
</ul>
</blockquote>
<ul>
<li><code>--clearnet</code></li>
<li><code>--tor-clearnet</code></li>
<li><code>--tor-onion</code></li>
</ul>
<blockquote>
<p>qubes-r4.list</p>
</blockquote>
<p>Lets leave this one alone from now, first need to get derivative.list working.</p>
<blockquote>
<p>Could you send a friendly ping please?<br>
I cannot open that link currently.</p>
</blockquote>
<p>I tried before, I couldn’t create an account. Can not pass captcha even with standard security on TBB.</p>
<blockquote>
<p>Not sure what could be done. fasttrack might not be too important yet. Non-VirtualBox users could probably disable it.</p>
</blockquote>
<p>K, good to know.</p>
<blockquote>
<p>How about user custom added repositories? I was wondering if an APT onionizer would have a set of clearnet repositories mapped to onion repositories and then with one command line option / wizard could upgrade/downgrade from one version to another.</p>
</blockquote>
<p>That is the best idea and exactly what I was thinking, mapping addresses to be switched.</p>
<blockquote>
<p>How about user custom added repositories?</p>
</blockquote>
<p>A mapping database they could insert their onion alternatives, with a comment for them to contribute to this new whonix package so more users would know. Not that non related repositories will be included, but if they even have an onion, that is scarce.</p>
<blockquote>
<p>extrepo</p>
</blockquote>
<p>testing it, but couldn’t make it work properly. I would be more comfortable with sed.</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-20T15:47:22Z' class='post-time'>
                February 20, 2022,  3:47pm
              </time>
              <meta itemprop='dateModified' content='2022-02-20T15:47:22Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sounds good!</p>
<aside class="quote no-group" data-username="nyxnor" data-post="5" data-topic="13367">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>testing it, but couldn’t make it work properly. I would be more comfortable with sed.</p>
</blockquote>
</aside>
<p>I am not a big fan of sed for such simple string replacements. (string replacements are simple but the overall tool I wouldn’t call simple. Not meant to say this is overall an easy project.) syntax looks more difficult that possible. str_replace is great imo but it’s a dependency on helpers-scripts and I don’t know any other tools that are everywher pre-installed.</p>
<ul>
<li><a href="../../../../external.html?link=https://github.com/Whonix/helper-scripts/blob/master/usr/bin/str_replace">https://github.com/Whonix/helper-scripts/blob/master/usr/bin/str_replace</a></li>
<li><a href="../../../../external.html?link=https://github.com/Whonix/helper-scripts/blob/master/man/str_replace.1.ronn">https://github.com/Whonix/helper-scripts/blob/master/man/str_replace.1.ronn</a></li>
</ul>
<p>Not a big deal either way.</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-21T20:45:50Z' class='post-time'>
                February 21, 2022,  8:45pm
              </time>
              <meta itemprop='dateModified' content='2022-02-21T20:45:50Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Just to see later if possible to automate Qubes repos to onion <a href="../../../../external.html?link=http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onionizing_Repositories" rel="noopener nofollow ugc">http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onionizing_Repositories</a></p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-21T21:11:46Z' class='post-time'>
                February 21, 2022,  9:11pm
              </time>
              <meta itemprop='dateModified' content='2022-02-21T21:13:18Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This can be later <code>s/sed/str_replace/</code></p>
<p>Haven’t tested yet, just a sketch for debian.list and derivative.list.</p>
<p>This still feels to manual, better think of a way to make this more easy to read, or a <code>for loop</code>.</p>
<p>This are the domains:</p>
<pre><code class="lang-auto">"deb.debian.org/debian "="2s4yqjx5ul6okpp3f2gaunr2syex5jgbfpfvhxxbbjwnrsvbk5v3qbid.onion/debian "
"deb.debian.org/debian-security "="5ajw6aqf3ep7sijnscdzw77t7xq4xjpsy335yb2wiwgouo7yfxtjlmid.onion/debian-security "
"fasttrack.debian.net/debian "=""

"deb.whonix.org"="deb.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion"
</code></pre>
<p>protocolos are:</p>
<pre><code class="lang-auto">https:// ## plain
tor+https:// ## tor+plain
tor+http:// ## onion
</code></pre>
<pre><code class="lang-auto">## onion
sed -i'' "s| https://deb.debian.org/debian | tor+http://2s4yqjx5ul6okpp3f2gaunr2syex5jgbfpfvhxxbbjwnrsvbk5v3qbid.onion/debian |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| tor+https://deb.debian.org/debian | tor+http://2s4yqjx5ul6okpp3f2gaunr2syex5jgbfpfvhxxbbjwnrsvbk5v3qbid.onion/debian |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| https://deb.debian.org/debian-security | tor+http://5ajw6aqf3ep7sijnscdzw77t7xq4xjpsy335yb2wiwgouo7yfxtjlmid.onion/debian-security |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| tor+https://deb.debian.org/debian-security | tor+http://5ajw6aqf3ep7sijnscdzw77t7xq4xjpsy335yb2wiwgouo7yfxtjlmid.onion/debian-security |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| https://deb.whonix.org| tor+http://deb.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion|" /etc/apt/sources.list.d/derivative.list
sed -i'' "s| tor+https://deb.whonix.org| tor+http://deb.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion|" /etc/apt/sources.list.d/derivative.list

## tor+plain
sed -i'' "s| https://deb.debian.org/debian | tor+https://deb.debian.org/debian |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| tor+http://2s4yqjx5ul6okpp3f2gaunr2syex5jgbfpfvhxxbbjwnrsvbk5v3qbid.onion/debian | tor+https://deb.debian.org/debian |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| https://deb.debian.org/debian-security | tor+https://deb.debian.org/debian-security |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| tor+http://5ajw6aqf3ep7sijnscdzw77t7xq4xjpsy335yb2wiwgouo7yfxtjlmid.onion/debian-security | tor+https://deb.debian.org/debian-security |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| https://deb.whonix.org| tor+https://deb.whonix.org|" /etc/apt/sources.list.d/derivative.list
sed -i'' "s| tor+http://deb.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion| tor+https://deb.whonix.org|" /etc/apt/sources.list.d/derivative.list

## plain
sed -i'' "s| tor+https://deb.debian.org/debian | https://deb.debian.org/debian |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| tor+http://2s4yqjx5ul6okpp3f2gaunr2syex5jgbfpfvhxxbbjwnrsvbk5v3qbid.onion/debian | https://deb.debian.org/debian |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| tor+https://deb.debian.org/debian-security | https://deb.debian.org/debian-security |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| tor+http://5ajw6aqf3ep7sijnscdzw77t7xq4xjpsy335yb2wiwgouo7yfxtjlmid.onion/debian-security | https://deb.debian.org/debian-security |" /etc/apt/sources.list.d/debian.list
sed -i'' "s| tor+https://deb.whonix.org| https://deb.whonix.org|" /etc/apt/sources.list.d/derivative.list
sed -i'' "s| tor+http://deb.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion| https://deb.whonix.org|" /etc/apt/sources.list.d/derivative.list
</code></pre>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-22T10:34:35Z' class='post-time'>
                February 22, 2022, 10:34am
              </time>
              <meta itemprop='dateModified' content='2022-02-22T10:34:35Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Such an implementation would suffer from dpkg interactive conflict resolution dialog. Non-ideal but not a blocker. dpkg interactive conflict resolution dialog would probably mean “advanced users only”.</p>
<hr>
<p>Also quiet hacky still… Idea maybe it would lead somewhere…<br>
If some config is set (by creating a file or setting in /etc) the repository onionizer (working name until a better is invented) a dpkg trigger could redo any onionizing if file <code>/etc/sources.list</code> or any file in folder <code>/etc/sources.list.d</code> is modified by APT?</p>
<p>dpkg triggers are only working for files which are managed by any packages.</p>
<p>Managed by APT (because shipped by a package):</p>
<ul>
<li><code>/etc/apt/debian.list</code></li>
<li><code>/etc/apt/qubes-r4.list</code></li>
</ul>
<p>Not managed by APT (created by script):</p>
<ul>
<li>
<code>/etc/apt/sources.list</code> - maybe OK since empty by default in Kicksecure / Whonix</li>
<li>
<code>/etc/apt/sources.list.d/derivative.list</code> - maybe OK because repository-dist could have native <code>--tor-onion</code> support</li>
</ul>
<hr>
<p>An even more hacky way would be to use <code>inotifywait</code> (some examples in Whonix source code). Whenever an APT sources list file would be modified (by package, script or user), any supported (known by repository onionizer) clearnet domain names would be changed back to clearnet.</p>
<hr>
<p>In any case, for transparency and usability, if modifications are done by repository onionizer, then repository onionizer should add a comment (non-duplicating, not adding same comment over and over again)) to the file stating that it was done, link to documentation so the user can figure out what happened and how to disable this feature?</p>
<p>The repository onionizer might fit into the already existing repository-dist package?</p>
<aside class="quote no-group" data-username="nyxnor" data-post="8" data-topic="13367">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>protocolos are:</p>
<pre><code class="lang-auto">https:// ## plain
tor+https:// ## tor+plain
tor+http:// ## onion
</code></pre>
</blockquote>
</aside>
<p>I don’t know real world examples yet but it is conceivable to get onion combined with https repositories in the future. I.e. <code>tor+https://deb.onion.onion</code>. If you don’t mind, while scripting, could you please consider this future possibility?</p>
<aside class="quote no-group" data-username="nyxnor" data-post="8" data-topic="13367">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<pre><code class="lang-auto">sed -i'' "s| https://deb.debian.org/debian | tor+http://2s4yqjx5ul6okpp3f2gaunr2syex5jgbfpfvhxxbbjwnrsvbk5v3qbid.onion/debian |" /etc/apt/sources.list.d/debian.list
</code></pre>
</blockquote>
</aside>
<p>That style to use sed looks easy to read, nice and clean to me.</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-22T18:50:33Z' class='post-time'>
                February 22, 2022,  6:50pm
              </time>
              <meta itemprop='dateModified' content='2022-02-22T18:50:33Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p>Also quiet hacky still… Idea maybe it would lead somewhere…<br>
If some config is set (by creating a file or setting in /etc) the repository onionizer (working name until a better is invented) a dpkg trigger could redo any onionizing if file <code>/etc/sources.list</code> or any file in folder <code>/etc/sources.list.d</code> is modified by APT?</p>
</blockquote>
<p>That is the objetive, manage the list. There will be no clearnet and onion at the same time on a list, there will be only one possible line and the script/package will manage the protocols, domains etc.</p>
<blockquote>
<p>In any case, for transparency and usability, if modifications are done by repository onionizer, then repository onionizer should add a comment (non-duplicating, not adding same comment over and over again)) to the file stating that it was done, link to documentation so the user can figure out what happened and how to disable this feature?</p>
</blockquote>
<p>Yes.</p>
<blockquote>
<p>The repository onionizer might fit into the already existing repository-dist package?</p>
</blockquote>
<p>Yes</p>
<blockquote>
<p>I don’t know real world examples yet but it is conceivable to get onion combined with https repositories in the future. I.e. <code>tor+https://deb.onion.onion</code>. If you don’t mind, while scripting, could you please consider this future possibility?</p>
</blockquote>
<p>Yes.</p>
<blockquote>
<p>That style to use sed looks easy to read, nice and clean to me.</p>
</blockquote>
<p>Great.</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-03-24T21:17:00Z' class='post-time'>
                March 24, 2022,  9:17pm
              </time>
              <meta itemprop='dateModified' content='2022-03-24T21:17:00Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Coding this now.<br>
It would be easier to replace the whole file than using sed or str_replace. Or do you see any use case to replace per pattern if it is just gonna edit derivative.list anyway?</p>
<p>Preserve codename and stable/testers etc, I see.</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-03-24T21:57:12Z' class='post-time'>
                March 24, 2022,  9:57pm
              </time>
              <meta itemprop='dateModified' content='2022-03-24T21:57:12Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This code only modifies/replaces, it does not insert repo is no pattern is present.</p>
<p>getopts</p>
<pre><code class="lang-auto">           -t | --transport)
                transport="$2"
                if [ -z "${transport}" ]; then
                    echo "ERROR: transport must not be empty. Choose between:
 plain-tls
 plain-tls-tor
 onion
 onion-tls"
                    exit 1
                fi
                shift 2
                ;;

</code></pre>
<p>modifier</p>
<pre><code class="lang-auto">derivative_repo_onion="dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion"
derivative_repo_plain="whonix.org"

plain_tls="https://deb.${derivative_repo_plain}"
plain_tls_tor="tor+https://deb.${derivative_repo_plain}"
onion="tor+http://deb.${derivative_repo_onion}"
onion_tls="tor+https://deb.${derivative_repo_onion}"

transport_lines="
${plain_tls}
${plain_tls_tor}
${onion}
${onion_tls}
"

case "$transport" in
    plain-tls) repo="${plain_tls}";;
    plain-tls-tor) repo="${plain_tls_tor}";;
    onion) repo="${onion}";;
    onion-tls) repo="${onion_tls}";;
    *) echo "ERROR: Invalid transport type!"; exit 1;;
esac


for line in ${transport_lines}; do
    sed -i'' "s| ${line}| ${repo}|" "${sources_list_file_derivative}"
done
</code></pre>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-03-25T10:46:45Z' class='post-time'>
                March 25, 2022, 10:46am
              </time>
              <meta itemprop='dateModified' content='2022-03-25T10:46:45Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Soon there will be separate repositories. Whonix and Kicksecure.</p>
<p><code>deb.kicksecure.com</code><br>
<code>deb.w5j6stm77zs6652pgsij4awcjeel3eco7kvipheu6mtr623eyyehj4yd.onion</code></p>
<p>Kicksecure will use Kicksecure repository only.</p>
<p>Whonix will use Kicksecure and Whonix repository.</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../e-repository-tor-https-deb-kicksecure-com-bullseye-inrelease-changed-its-origin-value-from-kicksecure-to-whonix/13810.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../e-repository-tor-https-deb-kicksecure-com-bullseye-inrelease-changed-its-origin-value-from-kicksecure-to-whonix/13810.html'>
                      <span itemprop='name'>`E: Repository &#39;tor+https://deb.kicksecure.com bullseye InRelease&#39; changed its &#39;Origin&#39; value from &#39;kicksecure&#39; to &#39;whonix&#39;`</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-03-25T12:04:12Z' class='post-time'>
                March 25, 2022, 12:04pm
              </time>
              <meta itemprop='dateModified' content='2022-03-25T12:04:12Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>plan to use repository-dist in general (whonix and kicksecure)?</p>
<p>Seems possible. If you see the code, only 2 domains lines have to be altered, or even, <code>--domain [whonix|kicksecure|debian|qubes]</code> in the future, and the domains clear and onion will be chosen by this option. But lets start with kicksecure first to avoid dpkg conflicts as you said.</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-03-25T12:27:06Z' class='post-time'>
                March 25, 2022, 12:27pm
              </time>
              <meta itemprop='dateModified' content='2022-03-25T12:27:06Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="nyxnor" data-post="14" data-topic="13367">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>plan to use repository-dist in general (whonix and kicksecure)?</p>
</blockquote>
</aside>
<p>Yes.</p>
<p>repository-dist will manage both repository lines.</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-03-26T19:47:19Z' class='post-time'>
                March 26, 2022,  7:47pm
              </time>
              <meta itemprop='dateModified' content='2022-03-26T19:47:19Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubpullrequest" data-onebox-src="../../../../external.html?link=https://github.com/Whonix/repository-dist/pull/2">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/Whonix/repository-dist/pull/2" target="_blank" rel="noopener nofollow ugc">github.com/Whonix/repository-dist</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/Whonix/repository-dist/pull/2" target="_blank" rel="noopener nofollow ugc">add transports</a>
    </h4>

    <div class="branches">
      <code>Whonix:master</code> ← <code>nyxnor:transport</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-03-26" data-time="19:47:06" data-timezone="UTC">07:47PM - 26 Mar 22 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/nyxnor" target="_blank" rel="noopener nofollow ugc">
          <img alt="nyxnor" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>

      <div class="lines" title="1 commits changed 1 files with 136 additions and 81 deletions">
        <a href="../../../../external.html?link=https://github.com/Whonix/repository-dist/pull/2/files" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+136</span>
          <span class="removed">-81</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-03-28T06:29:49Z' class='post-time'>
                March 28, 2022,  6:29am
              </time>
              <meta itemprop='dateModified' content='2022-03-28T06:29:49Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank you for working on this!</p>
<p>Pull request won’t work as is because:</p>
<aside class="quote no-group" data-username="Patrick" data-post="13" data-topic="13367">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Kicksecure will use Kicksecure repository only.</p>
<p>Whonix will use Kicksecure and Whonix repository.</p>
</blockquote>
</aside>
<p>In other words there will be two <code>deb [...]</code> lines in the derivative.list file for Whonix.<br>
(And only 1 for Kicksecure.)</p>
<p>Autodetection of Whonix vs Kicksecure could be implemented by checking existence of these marker files:</p>
<ul>
<li>/usr/share/kicksecure/marker</li>
<li>/usr/share/whonix/marker</li>
</ul>
<p>Could you fix this please?</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-03-28T09:11:54Z' class='post-time'>
                March 28, 2022,  9:11am
              </time>
              <meta itemprop='dateModified' content='2022-03-28T09:11:54Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="17" data-topic="13367">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>In other words there will be two <code>deb [...]</code> lines in the derivative.list file for Whonix.<br>
(And only 1 for Kicksecure.)</p>
</blockquote>
</aside>
<p>So whonix option to be enabled on kicksecure will be disabled?</p>
<p>The way I did on local branch now is:</p>
<ul>
<li>if <code>--url</code> is not provided then
<ul>
<li>if whonix is detected, use it</li>
<li>if kicksecure is detected, use it</li>
<li>if none are detected, error out and ask to provide url.</li>
</ul>
</li>
</ul>
<p>but the above will be supersed if on whonix for example, you run <code>--url kicksecure</code> to manage kicksecure repo in whonix.<br>
Should this be disabled on kicksecure?</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-03-28T11:14:02Z' class='post-time'>
                March 28, 2022, 11:14am
              </time>
              <meta itemprop='dateModified' content='2022-03-28T11:14:02Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="nyxnor" data-post="18" data-topic="13367">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>So whonix option to be enabled on kicksecure will be disabled?</p>
</blockquote>
</aside>
<p>Whonix enable:</p>
<ul>
<li>Kicksecure, and</li>
<li>Whonix</li>
</ul>
<hr>
<p>Kicksecure enable:</p>
<ul>
<li>Kicksecure only</li>
</ul>
<hr>
<p>The design is:<br>
Whonix is based on Kicksecure.<br>
Not historically but that’s the technical design end-goal how to organize things.</p>
        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../13367.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-03-28T11:40:56Z' class='post-time'>
                March 28, 2022, 11:40am
              </time>
              <meta itemprop='dateModified' content='2022-03-28T11:40:56Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubpullrequest" data-onebox-src="../../../../external.html?link=https://github.com/Whonix/repository-dist/pull/2/commits/123fb6d6551ba41bff8db33a49c5b0c5c6cc25f4">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/Whonix/repository-dist/pull/2/commits/123fb6d6551ba41bff8db33a49c5b0c5c6cc25f4" target="_blank" rel="noopener nofollow ugc">github.com/Whonix/repository-dist</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/Whonix/repository-dist/pull/2" target="_blank" rel="noopener nofollow ugc">add transports</a>
    </h4>

    <div class="branches">
      <code>Whonix:master</code> ← <code>nyxnor:transport</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-03-26" data-time="19:47:06" data-timezone="UTC">07:47PM - 26 Mar 22 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/nyxnor" target="_blank" rel="noopener nofollow ugc">
          <img alt="nyxnor" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>

      <div class="lines" title="2 commits changed 1 files with 149 additions and 82 deletions">
        <a href="../../../../external.html?link=https://github.com/Whonix/repository-dist/pull/2/files" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+149</span>
          <span class="removed">-82</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='tool to onionize all APT sources'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="../133674658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
