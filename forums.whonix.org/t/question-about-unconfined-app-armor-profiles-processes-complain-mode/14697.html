<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Question about unconfined App Armor profiles &amp; processes &amp; complain mode - AppArmor - Whonix Forum</title>
    <meta name="description" content="First of all I love Whonix. Thank you for your efforts! I’ve had some odd occurrences with my sys-whonix (I’m on latest Qubes) that i’ll describe after my specific question. 
When I check the apparmor status I get this: &amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="14697.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Question about unconfined App Armor profiles &amp; processes &amp; complain mode&#39;" href="14697.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/question-about-unconfined-app-armor-profiles-processes-complain-mode/14697" />
<meta name="twitter:url" content="https://forums.whonix.org/t/question-about-unconfined-app-armor-profiles-processes-complain-mode/14697" />
<meta property="og:title" content="Question about unconfined App Armor profiles &amp; processes &amp; complain mode" />
<meta name="twitter:title" content="Question about unconfined App Armor profiles &amp; processes &amp; complain mode" />
<meta property="og:description" content="First of all I love Whonix. Thank you for your efforts! I’ve had some odd occurrences with my sys-whonix (I’m on latest Qubes) that i’ll describe after my specific question.  When I check the apparmor status I get this: Is it expected to have this many profiles &amp; processes in complain mode?  apparmor module is loaded.  44 profiles are loaded.  26 profiles are in enforce mode.  //*-browser/Browser/firefox  /usr/bin/hexchat  /usr/bin/man  /usr/bin/onioncircuits  /usr/bin/pidgin  /usr/bin/pidgin//s..." />
<meta name="twitter:description" content="First of all I love Whonix. Thank you for your efforts! I’ve had some odd occurrences with my sys-whonix (I’m on latest Qubes) that i’ll describe after my specific question.  When I check the apparmor status I get this: Is it expected to have this many profiles &amp; processes in complain mode?  apparmor module is loaded.  44 profiles are loaded.  26 profiles are in enforce mode.  //*-browser/Browser/firefox  /usr/bin/hexchat  /usr/bin/man  /usr/bin/onioncircuits  /usr/bin/pidgin  /usr/bin/pidgin//s..." />
<meta property="article:published_time" content="2022-08-31T10:35:03+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="14697.html">Question about unconfined App Armor profiles &amp; processes &amp; complain mode</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/apparmor/14.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #12A89D'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>AppArmor</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Tenforthat'><span itemprop='name'>Tenforthat</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14697.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-31T10:35:03Z' class='post-time'>
                August 31, 2022, 10:35am
              </time>
              <meta itemprop='dateModified' content='2022-08-31T10:35:03Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>First of all I love Whonix. Thank you for your efforts! I’ve had some odd occurrences with my sys-whonix (I’m on latest Qubes) that i’ll describe after my specific question.</p>
<p>When I check the apparmor status I get this: Is it expected to have this many profiles &amp; processes in complain mode?</p>
<p>apparmor module is loaded.<br>
44 profiles are loaded.<br>
26 profiles are in enforce mode.<br>
/<strong>/*-browser/Browser/firefox<br>
/usr/bin/hexchat<br>
/usr/bin/man<br>
/usr/bin/onioncircuits<br>
/usr/bin/pidgin<br>
/usr/bin/pidgin//sanitized_helper<br>
/usr/bin/sdwdate<br>
/usr/bin/systemcheck<br>
/usr/bin/timesanitycheck<br>
/usr/bin/tor-circuit-established-check<br>
/usr/bin/totem<br>
/usr/bin/totem-audio-preview<br>
/usr/bin/totem-video-thumbnailer<br>
/usr/bin/totem//sanitized_helper<br>
/usr/bin/url_to_unixtime<br>
/usr/lib/onion-grater<br>
/usr/libexec/systemcheck/canary<br>
/usr/sbin/haveged<br>
apt-cacher-ng<br>
bootclockrandomization<br>
lsb_release<br>
man_filter<br>
man_groff<br>
nvidia_modprobe<br>
nvidia_modprobe//kmod<br>
system_tor<br>
18 profiles are in complain mode.<br>
/usr/bin/irssi<br>
/usr/bin/whonix_firewall<br>
/usr/libexec/whonix-firewall/</strong><br>
/usr/sbin/dnsmasq<br>
/usr/sbin/dnsmasq//libvirt_leaseshelper<br>
avahi-daemon<br>
identd<br>
klogd<br>
mdnsd<br>
nmbd<br>
nscd<br>
ping<br>
smbd<br>
smbldap-useradd<br>
smbldap-useradd///etc/init.d/nscd<br>
syslog-ng<br>
syslogd<br>
traceroute<br>
6 processes have profiles defined.<br>
3 processes are in enforce mode.<br>
/usr/bin/python3.9 (843) /usr/lib/onion-grater<br>
/usr/sbin/haveged (511)<br>
/usr/bin/tor (846) system_tor<br>
3 processes are in complain mode.<br>
/usr/bin/bash (704) /usr/libexec/whonix-firewall/**<br>
/usr/bin/bash (723) /usr/libexec/whonix-firewall/**<br>
/usr/bin/inotifywait (724) /usr/libexec/whonix-firewall/**<br>
0 processes are unconfined but have a profile defined.</p>
<p>When I run aa-unconfined I get:</p>
<p>815 /usr/bin/tinyproxy not confined<br>
820 /usr/bin/tinyproxy not confined<br>
821 /usr/bin/tinyproxy not confined<br>
843 /usr/bin/python3.9 (/usr/bin/python3) confined by ‘/usr/lib/onion-grater (enforce)’<br>
846 /usr/bin/tor confined by ‘system_tor (enforce)’<br>
1210 /usr/bin/tinyproxy not confined<br>
1279 /usr/bin/tinyproxy not confined<br>
1337 /usr/bin/tinyproxy not confined<br>
1391 /usr/bin/tinyproxy not confined<br>
1409 /usr/bin/tinyproxy not confined</p>
<p>I understand the concept that complain mode is there so that profiles and processes can tell you they have violations without that necessarily killing them, and you can adjust and test from there, but is this expected?</p>
<p>To my nonspecific question:</p>
<p>When I launch my sys-whonix on startup and run a whonix DVM &amp; my KeepassXC vault (on whonix) I’ve had sys-whonix crash randomly (yes, must be hacked then… <img src="../../images/emoji/twitter/smilee5bf.png?v=12" title=":smile:" class="emoji" alt=":smile:"> ) and when it loads back up it no longer shows keepassxc in the list when I click on the whonix lock icon (offline vault, should it even be in there?). Sometimes a dispvm that is currently running will no longer appear despite it still running and saying it is on tor.</p>
<p>I also had an occurance where in a DISPVM downloads were going to a mozilla folder, not .tb/tor-browser/… and when I ran ‘top’ I saw systemd-socket-. Does this strike you as just standard random bugs?</p>
<p>I’m sorry if this is long winded or misguided, but I love whonix and I tried to google key search terms to find out, but I’d love an explanation.</p>
<p>THANK YOU!!</p>
        </div>

        <meta itemprop='headline' content='Question about unconfined App Armor profiles &amp; processes &amp; complain mode'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14697.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-01T12:46:17Z' class='post-time'>
                September 1, 2022, 12:46pm
              </time>
              <meta itemprop='dateModified' content='2022-09-01T12:46:17Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank you!</p>
<aside class="quote no-group" data-username="Tenforthat" data-post="1" data-topic="14697">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/t/b5a626/40.png" class="avatar"> Tenforthat:</div>
<blockquote>
<p>I understand the concept that complain mode is there so that profiles and processes can tell you they have violations without that necessarily killing them, and you can adjust and test from there, but is this expected?</p>
</blockquote>
</aside>
<p>Expected.</p>
<p>Actually difficult to know for users. Either it’s in complain mode because the profile is considered unfinished or some other reason. Whonix firewall apparmor profiles makes little sense outside of completion of development of apparmor-profile-everything. In theory, a profile might be good enough and it’s an Kicksecure, Whonix or upstream bug that it’s not in enforce mode by default. Hard to tell without being a developer and researching these things in-depth.</p>
<aside class="quote no-group" data-username="Tenforthat" data-post="1" data-topic="14697">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/t/b5a626/40.png" class="avatar"> Tenforthat:</div>
<blockquote>
<p>To my nonspecific question:</p>
</blockquote>
</aside>
<p>Seems unrelated to AppArmor.<br>
1 question = 1 forum topic please.</p>
<aside class="quote no-group" data-username="Tenforthat" data-post="1" data-topic="14697">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/t/b5a626/40.png" class="avatar"> Tenforthat:</div>
<blockquote>
<p>and when I ran ‘top’ I saw systemd-socket-. Does this strike you as just standard random bugs?</p>
</blockquote>
</aside>
<p>systemd-socket-proxyd is expected (in Whonix source code and Whonix wiki).</p>
<aside class="quote no-group" data-username="Tenforthat" data-post="1" data-topic="14697">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/t/b5a626/40.png" class="avatar"> Tenforthat:</div>
<blockquote>
<p>I also had an occurance where in a DISPVM downloads were going to a mozilla folder, not .tb/tor-browser/…</p>
</blockquote>
</aside>
<p>Using Firefox or Tor Browser?<br>
Separate forum topic if you like to discuss this further please.</p>
<aside class="quote no-group" data-username="Tenforthat" data-post="1" data-topic="14697">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/t/b5a626/40.png" class="avatar"> Tenforthat:</div>
<blockquote>
<p>I’ve had sys-whonix crash randomly</p>
</blockquote>
</aside>
<p>Separate forum discussion or topic required here too.<br>
Depends on how you noticed the crash.<br>
Random crashes would belong to Qubes (as per <a href="../what-to-post-in-this-qubes-whonix-forum-and-what-not/2275.html" class="inline-onebox">What to post in this Qubes-Whonix forum and what not.</a>).</p>
<aside class="quote no-group" data-username="Tenforthat" data-post="1" data-topic="14697">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/t/b5a626/40.png" class="avatar"> Tenforthat:</div>
<blockquote>
<p>and when it loads back up it no longer shows keepassxc in the list when I click on the whonix lock icon (offline vault, should it even be in there?). Sometimes a dispvm that is currently running will no longer appear despite it still running and saying it is on tor.</p>
</blockquote>
</aside>
<p>Related to sdwdate-gui. This would require a separate forum topic and detailed instructions how to reproduce this issue so I can potentially reproduce and fix it.</p>
        </div>

        <meta itemprop='headline' content='Question about unconfined App Armor profiles &amp; processes &amp; complain mode'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
