<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>vitor - safely edit the Tor configuration file - Development - Whonix Forum</title>
    <meta name="description" content="what if sudoedit is not used (not just it) for editing the tor configuration files but a visudo for tor? 
vitor (cough bad name I invented) 
It creates a copy of the tor configuration file you want to edit, you open with&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="13213.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;vitor - safely edit the Tor configuration file&#39;" href="13213.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/vitor-safely-edit-the-tor-configuration-file/13213" />
<meta name="twitter:url" content="https://forums.whonix.org/t/vitor-safely-edit-the-tor-configuration-file/13213" />
<meta property="og:title" content="vitor - safely edit the Tor configuration file" />
<meta name="twitter:title" content="vitor - safely edit the Tor configuration file" />
<meta property="og:description" content="what if sudoedit is not used (not just it) for editing the tor configuration files but a visudo for tor?  vitor (cough bad name I invented)  It creates a copy of the tor configuration file you want to edit, you open with the editor the copy, you can open with sudoedit which will use the default environment variables for the editor as specified on the sudo manual, but then after closing the editor, run tor -f file --verify-config --hush to see if configuration is valid and tor will not break beca..." />
<meta name="twitter:description" content="what if sudoedit is not used (not just it) for editing the tor configuration files but a visudo for tor?  vitor (cough bad name I invented)  It creates a copy of the tor configuration file you want to edit, you open with the editor the copy, you can open with sudoedit which will use the default environment variables for the editor as specified on the sudo manual, but then after closing the editor, run tor -f file --verify-config --hush to see if configuration is valid and tor will not break beca..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="6 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="22 ‚ù§" />
<meta property="article:published_time" content="2022-01-09T22:23:42+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="132134658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="13213.html">vitor - safely edit the Tor configuration file</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-09T22:23:42Z' class='post-time'>
                January 9, 2022, 10:23pm
              </time>
              <meta itemprop='dateModified' content='2022-01-09T22:23:42Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>what if sudoedit is not used (not just it) for editing the tor configuration files but a visudo for tor?<br>
<code>vitor</code> (cough bad name I invented)</p>
<p>It creates a copy of the tor configuration file you want to edit, you open with the editor the copy, you can open with sudoedit which will use the default environment variables for the editor as specified on the sudo manual, but then after closing the editor, run <code>tor -f file --verify-config --hush</code> to see if configuration is valid and tor will not break because of invalid configuration?</p>
<p>Updated script: <code>https://github.com/nyxnor/onionjuggler/blob/main/bin/vitor</code><br>
Manual page: <code>https://github.com/nyxnor/onionjuggler/blob/main/docs/vitor.8.md</code></p>
<p>Some changes are ‚Äúneeded‚Äù for whonix as in change the default configuration to 50_user_conf instead of /etc/tor/torrc, removing doas option and only use sudo, use the default tor user</p>
<pre><code class="lang-auto">#!/usr/bin/env sh

## Copy tor config to temp, lock the original file, modify the temp,
## verify it is ok then save back to original place and remove temporary and lock file.

## Inspired by https://github.com/slicer69/doas/blob/master/vidoas


file_mode="644"
me="${0##*/}"

## colors
#nocolor="\033[0m"
#bold="\033[1m"
#nobold="\033[22m"
#underline="\033[4m"
#nounderline="\033[24m"
#red="\033[31m"
#green="\033[32m"
#yellow="\033[33m"
#blue="\033[34m"
#magenta="\033[35m"
#cyan="\033[36m"

## display error message with instructions to use the script correctly.
notice(){ printf %s"${me}: ${1}\n" 1&gt;&amp;2; }
error_msg(){ notice "${1}"; exit 1; }
usage(){ printf '%s\n' "Usage: [sudo|doas] ${me} [-f tor_conf] [-u tor_user]
Note:
  ${me}               run ${me} as the root user with 'sudo' or 'doas'
  -f tor_conf         if 'tor_conf' is not set, default to /etc/tor/torrc
                      if the file doesn't exist, will create it after passing all tests.
  -u tor_user         if 'tor_user' is not set, the tor_conf must contain the \"User\" option
                      else it tor fails to validate the configuration"
  exit 1
}

get_arg(){ case "${2}" in ""|-*) error_msg "Option '${1}' requires an argument.";; esac; }

[ -n "${1}" ] &amp;&amp; [ -z "${2}" ] &amp;&amp; tor_conf="${1}"
while :; do
  case "${1}" in
    -f) get_arg "${1}" "${2}"; tor_conf="${2}"; shift 2;;
    -u) get_arg "${1}" "${2}"; tor_user="${2}"; shift 2;;
    "") break;;
    *) usage;;
  esac
done

[ -n "${SUDO_USER}" ] &amp;&amp; su_cmd="sudo"
[ -n "${DOAS_USER}" ] &amp;&amp; su_cmd="doas"
{ [ -z "${su_cmd}" ] || [ "$(id -u)" -ne 0 ]; } &amp;&amp; error_msg "Run ${me} as the root user with 'sudo' or 'doas'."

## get editor. First try environment variables [SUDO|DOAS]_EDITOR, if empty try VISUAL, if empty try EDITOR, if empty use Vi
eval PRIVILEGED_EDITOR='$'"$(printf %s"${su_cmd##*/}" | tr '[:lower:]' '[:upper:]')_EDITOR"
editor="${PRIVILEGED_EDITOR:-"${VISUAL:-"${EDITOR:-vi}"}"}"
## get interrupt signal
#get_intr="$(stty -a | sed -n '/.*intr = / {s///;s/;.*$//;p;}')"

## get first argument, if empty, onionjuggler.conf variable, if empty, fallback to default torrc
file="${tor_conf:-"/etc/tor/torrc"}"
## remove last backlash if inserted by mistake
file="${file%*/}"

if [ -f "${file}" ]; then
  tor_user_check="$(grep "^User" "${file}" | sed "s/^User //")"
  if [ -n "${tor_user_check}" ] &amp;&amp; [ -n "${tor_user}" ] &amp;&amp; [ "${tor_user_check}" != "${tor_user}" ]; then
    notice "The tor configuration file contains the user ${tor_user_check}, but you specified the tor user ${tor_user}."
    error_msg "Are you running tor as the correct user?"
  fi
  if [ -z "${tor_user_check}" ] &amp;&amp; [ -z "${tor_user}" ]; then
    notice "\"User\" option is not set on the tor configuration file nor in the command line."
    notice "Specify the tor user with:"
    error_msg "$ ${me} -u tor_user"
  fi
fi


## get just the directory
file_dir="${file%/*}"

## check permissions
[ ! -d "${file_dir}" ] &amp;&amp; error_msg "${file_dir} is not a directory or doesnt exist."
[ ! -w "${file_dir}" ] &amp;&amp; error_msg "${file_dir} is not writable by ${USER}."
[ ! -r "${file_dir}" ] &amp;&amp; error_msg "${file_dir} is not readble by ${USER}."

## file is the first argument, replace '.' and '-' for '_'.
file_name="$(printf %s"${file##*/}" | tr "." "_" | tr "-" "_")"
file_name_tmp="$(printf %s"mkstemp(${file_dir}/${file_name}.XXXXXX)" | m4)"
chmod "${file_mode}" "${file_name_tmp}"

file_locked="${file}.lck"
## test if file is already in use.
ln "${file}" "${file_locked}" || error_msg "${file} is busy, try again later."

if [ -f "${file}" ]; then
  [ ! -r "${file}" ] &amp;&amp; error_msg "${file} is not readable."
  [ ! -w "${file}" ] &amp;&amp; error_msg "${file} is not writable."
  cp -p "${file}" "${file_name_tmp}"
fi

check_tmp_tor_user(){
  tor_user_check="$(grep "^User" "${file_name_tmp}" | sed "s/^User //")"
  if [ -n "${tor_user_check}" ]; then
    su_tor_cmd="${su_cmd}"
  else
    if [ -z "${tor_user}" ]; then
      notice "You probably commented or deleted the \"User\" option, but you can only do that if you specify the tor user."
      notice "If that is what you want, exit and run:"
      notice "$ ${me} -u tor_user"
    else
      su_tor_cmd="${su_cmd} -u ${tor_user}"
    fi
  fi
}

trap '' INT
trap 'rm -f ${file_name_tmp} ${file_locked}' EXIT

## open temporary file to be edited
"${editor}" "${file_name_tmp}" || true
check_tmp_tor_user

## while the config is not ok, loop to enter and continue to edit or signal to interrupt.
while ! ${su_tor_cmd} tor -f "${file_name_tmp}" --verify-config --hush; do
  tor_check="$(${su_tor_cmd} tor -f "${file_name_tmp}" --verify-config --hush)"
  printf '%s\n' "${tor_check}" | grep -q "Permission denied" &amp;&amp; notice "Got permission denied to read tor directories, did you specify the tor user? If yes, maybe the directories do not have the right owner."
  printf '%s\n' "${tor_check}" | grep -q "You are running Tor as root. You don't need to, and you probably shouldn't." &amp;&amp; notice "Do not run tor as root if you did not set the \"User\" option."
  notice "The temporary copy on ${file_name_tmp} is not a valid configuration."
  notice "Options are:"
  notice "  (e)enter to edit again."
  notice "  e(x)it to cancel without saving changes."
  while :; do
  printf %s"${me}: Your choice: "
    # shellcheck disable=SC2034
    read -r status
    case "${status}" in
      e|E) break;;
      x|X) exit;;
    esac
  done
  "${editor}" "${file_name_tmp}" || true
  check_tmp_tor_user
done

! cmp -s "${file_name_tmp}" "${file}" &amp;&amp; cp -p "${file_name_tmp}" "${file}" &amp;&amp; notice "${file} updated." &amp;&amp; exit 0
</code></pre>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../tor-controller-gui-tor-control-panel/5444/87.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../tor-controller-gui-tor-control-panel/5444/87.html'>
                      <span itemprop='name'>Tor controller GUI (tor-control-panel)</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../use-sudoedit-in-whonix-documentation-and-whonix-software/7599/36.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../use-sudoedit-in-whonix-documentation-and-whonix-software/7599/36.html'>
                      <span itemprop='name'>use sudoedit in Whonix documentation and Whonix software</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../use-sudoedit-in-whonix-documentation-and-whonix-software/7599/37.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../use-sudoedit-in-whonix-documentation-and-whonix-software/7599/37.html'>
                      <span itemprop='name'>use sudoedit in Whonix documentation and Whonix software</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-10T10:38:40Z' class='post-time'>
                January 10, 2022, 10:38am
              </time>
              <meta itemprop='dateModified' content='2022-01-10T10:38:40Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Could you try to contribute this upstream please to The Tor Project or Debian?</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-10T13:54:46Z' class='post-time'>
                January 10, 2022,  1:54pm
              </time>
              <meta itemprop='dateModified' content='2022-01-10T13:54:46Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I opened one issue to TPO to see if this sounds interesting to them and asked if they could implment in C to be more tight.</p><aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://gitlab.torproject.org/uploads/-/system/appearance/favicon/1/favicon.ico" class="site-icon" width="16" height="16">

      <a href="../../../external.html?link=https://gitlab.torproject.org/tpo/core/tor/-/issues/40536" target="_blank" rel="noopener nofollow ugc">GitLab</a>
  </header>

  <article class="onebox-body">
    <img src="../../../external.html?link=https://gitlab.torproject.org/uploads/-/system/project/avatar/426/tor_logo.png" class="thumbnail onebox-avatar" width="16" height="16">

<h3><a href="../../../external.html?link=https://gitlab.torproject.org/tpo/core/tor/-/issues/40536" target="_blank" rel="noopener nofollow ugc">Feature request: add a vitor, like visudo or vidoas but for the tor...</a></h3>

  <p>Summary vidoas visudo These programs allow the user to...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../tor-ctrl-tor-control-port-command-line-tool/8074/33.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../tor-ctrl-tor-control-port-command-line-tool/8074/33.html'>
                      <span itemprop='name'>tor-ctrl - Tor control port command line tool</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-17T14:09:38Z' class='post-time'>
                January 17, 2022,  2:09pm
              </time>
              <meta itemprop='dateModified' content='2022-01-17T14:09:38Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I could make <code>vitor</code> a debian package just like did with <code>tor-ctrl</code>, not gonna be in the debian repo of course, but would separe vitor script to its own repo.</p>
<p>Vitor is now possible to use on the Workstation because <code>--verify-config</code> was allowed here <a href="../../../external.html?link=https://github.com/adrelanos/anon-ws-disable-stacked-tor/commit/7a1e0b59d39bc705c1e39be69a2c3dedb04c0f04#diff-9b27e6c527cdf6ccd683c118613281be4320dfa0f7595bb5511bd731946e248f" rel="noopener nofollow ugc">https://github.com/adrelanos/anon-ws-disable-stacked-tor/commit/7a1e0b59d39bc705c1e39be69a2c3dedb04c0f04#diff-9b27e6c527cdf6ccd683c118613281be4320dfa0f7595bb5511bd731946e248f</a></p>
<p>and <code>-f</code> combined with <code>--verify-config</code> was allowed here <a href="../../../external.html?link=https://github.com/adrelanos/anon-ws-disable-stacked-tor/commit/e6c05d99006849caf4326d58d4cca4cb0e001c1b#diff-9b27e6c527cdf6ccd683c118613281be4320dfa0f7595bb5511bd731946e248f" rel="noopener nofollow ugc">https://github.com/adrelanos/anon-ws-disable-stacked-tor/commit/e6c05d99006849caf4326d58d4cca4cb0e001c1b#diff-9b27e6c527cdf6ccd683c118613281be4320dfa0f7595bb5511bd731946e248f</a></p>
<p>(‚Äìverify-config needs to be before <code>-f FILE</code>, for this to work, which will need to correct on vitor or maybe on tor.anondist.)</p>
<p>anyway, don‚Äôt try it yet, or if you dare, don‚Äôt blame me (but the there are some important bugs to fix).</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-17T19:03:00Z' class='post-time'>
                January 17, 2022,  7:03pm
              </time>
              <meta itemprop='dateModified' content='2022-01-17T19:03:00Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>feature requests:</p>
<ul>
<li>respect <code>$EDITOR</code>
</li>
<li>respect <code>$VISUAL</code>
</li>
<li>respect <code>sensible-editor</code>?</li>
<li>use <code>sudoedit</code> (<a href="../use-sudoedit-in-whonix-documentation-and-whonix-software/7599.html" class="inline-onebox">use sudoedit in Whonix documentation and Whonix software</a>)</li>
</ul>
<p>Why not simply all of this refer to <code>sudoedit</code>?<br>
Then you wouldn‚Äôt need any editor auto detection code as well manual file copy to temporary location and copying back.</p>
<p>Whonix ships also <code>gsudoedit</code>.</p>
<ul>
<li><a href="../../../external.html?link=https://github.com/Whonix/usability-misc/blob/master/usr/bin/gsudoedit">https://github.com/Whonix/usability-misc/blob/master/usr/bin/gsudoedit</a></li>
<li><a href="../../../external.html?link=https://github.com/Whonix/usability-misc/blob/master/man/gsudoedit.8.ronn">https://github.com/Whonix/usability-misc/blob/master/man/gsudoedit.8.ronn</a></li>
</ul>
<p>Any chance to move this to the tor-ctrl package instead? Because then it would be easier to pre-install in Whonix.</p>
<p>onionjuggler dunno but I guess it‚Äôs not (yet) compatible with Whonix, doing something more specialized and might be harder to make compatible with Whonix.</p>
<p>Separate package for vitor is probably too much. 1 file = 1 package has very little chances of inclusion into <a href="../../../external.html?link=http://packages.debian.org/">packages.debian.org</a> due to overhead per package. I‚Äôve read somewhere at Debian ‚Äúit has to be justified‚Äù.</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-17T19:49:19Z' class='post-time'>
                January 17, 2022,  7:49pm
              </time>
              <meta itemprop='dateModified' content='2022-01-17T19:49:19Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="13213">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Any chance to move this to the tor-ctrl package instead? Because then it would be easier to pre-install in Whonix.</p>
</blockquote>
</aside>
<p>that can be done I just don‚Äôt see how the files are related in any way but ok.</p>
<blockquote>
<p>onionjuggler dunno but I guess it‚Äôs not (yet) compatible with Whonix, doing something more specialized and might be harder to make compatible with Whonix.</p>
</blockquote>
<p>OnionJuggler manages HiddenServiceDir, HiddenServicePort and HiddenServiceVersion, as well as ClientOnionAuthDir. It was initially built for Debian but it has become system agnostic, using the configuration file for your own operating system. Anyway, Vitor is just a single script of it and putting in a separate repo other than OnionJuggler (will be on tor-ctrl) won‚Äôt affect negatively. But as I‚Äôve seen happening with tor-ctrl, being specialized in Whonix is a whole work for it.</p>
<blockquote>
<p>Separate package for vitor is probably too much. 1 file = 1 package has very little chances of inclusion into <a href="../../../external.html?link=http://packages.debian.org/" rel="noopener nofollow ugc">packages.debian.org</a> due to overhead per package. I‚Äôve read somewhere at Debian ‚Äúit has to be justified‚Äù.</p>
</blockquote>
<p>I was thinking of just having that package for personal use and Whonix, but if still better to put on <a href="../../../external.html?link=http://packages.debian.org/" rel="noopener nofollow ugc">packages.debian.org</a>, than later could be done after the script is good enough.</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-17T19:53:10Z' class='post-time'>
                January 17, 2022,  7:53pm
              </time>
              <meta itemprop='dateModified' content='2022-01-17T19:53:10Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="13213">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Why not simply all of this refer to <code>sudoedit</code>?<br>
Then you wouldn‚Äôt need any editor auto detection code as well manual file copy to temporary location and copying back.</p>
</blockquote>
</aside>
<p>Because I was running it on OpenBSD and they use doas there, which does not come with doasedit, but can be installed from a third party.</p>
<p>But I can detect if sudoedit or doasedit is installed and use it.</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-21T15:54:29Z' class='post-time'>
                January 21, 2022,  3:54pm
              </time>
              <meta itemprop='dateModified' content='2022-01-21T15:54:29Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>the problem with using gsudoedit, sudoedit and doasedit is that the copy of the file is deleted as soon as the editor is closed.</p>
<p>vitor mini architecture:</p>
<p>input file to be edited or fallback tor /etc/tor/torrc. Whonix could make a wrapper to call vitor -f /usr/local/bin/etc/tor/50_user.conf.</p>
<p>then create a copy of this file, symlink it to a lock file. This prevents vitor trying to open the same file on another session at the same time the file is being edited.</p>
<p>then it opens the file with your preferred editor,</p>
<p>after closing the editor, the file is verified with tor options. But if the temporary file is removed as it happens with gsudoedit, sudoedit, doasedit, it is not possible to verify the temporary file cause this programs save the file directly without warning, only if they were changed.</p>
<p>I need to remove the possibility to use these wrappers as it will fail. Anyway, using environment variables is the way for anyone to select their preferred editor, eve if is mousepad if installed.</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-21T22:56:24Z' class='post-time'>
                January 21, 2022, 10:56pm
              </time>
              <meta itemprop='dateModified' content='2022-01-21T22:56:24Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I created a separate repo because it has nothing to do with tor-ctrl, it is for editing the torrc or any other tor configuration file (excluding files inside HiddenServiceDir/authorized_clients and ClientOnionAuthDir or course). Just the tor run commands file.</p>
<aside class="onebox githubfolder">
  <header class="source">
      <img src="../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="16" height="16">

      <a href="../../../external.html?link=https://github.com/nyxnor/vitor" target="_blank" rel="noopener nofollow ugc">github.com</a>
  </header>

  <article class="onebox-body">
    <img src="../../../external.html?link=https://opengraph.githubassets.com/c78c1ca0340dfe13b48d0b2b28bb7048405b50b7ff0c86b7b96357fb98c12abc/nyxnor/vitor" class="thumbnail onebox-full-image" width="60" height="60">

<h3><a href="../../../external.html?link=https://github.com/nyxnor/vitor" target="_blank" rel="noopener nofollow ugc">GitHub - nyxnor/vitor: Vi for Tor configuration files to be edited in safe...</a></h3>


  <p><span class="label1">Vi for Tor configuration files to be edited in safe manner - GitHub - nyxnor/vitor: Vi for Tor configuration files to be edited in safe manner</span></p>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-23T23:48:07Z' class='post-time'>
                January 23, 2022, 11:48pm
              </time>
              <meta itemprop='dateModified' content='2022-01-23T23:48:07Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubblob">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/Whonix/anon-gw-anonymizer-config/blob/59e5d82385062fa827aa4191911cdd6e928c3231/usr/libexec/gateway-shortcuts/torrc#L17" target="_blank" rel="noopener nofollow ugc">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../external.html?link=https://github.com/Whonix/anon-gw-anonymizer-config/blob/59e5d82385062fa827aa4191911cdd6e928c3231/usr/libexec/gateway-shortcuts/torrc#L17" target="_blank" rel="noopener nofollow ugc">Whonix/anon-gw-anonymizer-config/blob/59e5d82385062fa827aa4191911cdd6e928c3231/usr/libexec/gateway-shortcuts/torrc#L17</a></h4>



  <pre class="onebox">    <code class="lang-">
      <ol class="start lines" start="7" style="counter-reset: li-counter 6 ;">
          <li>
          </li>
<li>#### meta start</li>
          <li>#### project Whonix</li>
          <li>#### category tor and usability</li>
          <li>#### gateway_only yes</li>
          <li>#### description</li>
          <li>
          </li>
<li>## https://bugzilla.xfce.org/show_bug.cgi?id=15282</li>
          <li>## https://github.com/lxqt/lxqt-sudo/issues/114</li>
          <li>## https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation-and-whonix-software/7599/30</li>
          <li class="selected">lxsudo sudo -u "$(whoami)" env VISUAL="$VISUAL" sudoedit /usr/local/etc/torrc.d/50_user.conf</li>
          <li>
          </li>
<li>#### meta end</li>
      </ol>
    </code>
  </pre>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>This would become:</p>
<pre><code class="lang-auto">lxsudo sudo -u "$(whoami)" env VISUAL="$VISUAL" vitor -u debian-tor /usr/local/etc/torrc.d/50_user.conf
</code></pre>
<p><a href="../../../external.html?link=https://asciinema.org/a/463445?autoplay=1" rel="noopener nofollow ugc"><img src="../../../external.html?link=https://asciinema.org/a/463445.svg" alt="demo video" width="78" height="17"></a></p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-24T13:17:24Z' class='post-time'>
                January 24, 2022,  1:17pm
              </time>
              <meta itemprop='dateModified' content='2022-01-24T13:17:24Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>How would it work if started from start menu if there is no terminal output available?</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-24T13:32:48Z' class='post-time'>
                January 24, 2022,  1:32pm
              </time>
              <meta itemprop='dateModified' content='2022-01-24T13:43:03Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I see the problem now if no terminal is opened, can you instruct on how to do a gui like application such as <a href="../../../external.html?link=https://github.com/adrelanos/sdwdate-gui" rel="noopener nofollow ugc">https://github.com/adrelanos/sdwdate-gui</a> for this case? I will read the code nonetheless.</p>
<p>This will lead to two repos, one with gui and other without as it happens on sdwdate.</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-24T14:20:50Z' class='post-time'>
                January 24, 2022,  2:20pm
              </time>
              <meta itemprop='dateModified' content='2022-01-24T14:20:50Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I am not much of a GUI developer. I can maintain / bugfix things but I think didn‚Äôt invent a sophisticated GUI from scratch myself yet. The GUI applications by Whonix where contributed by other developers.</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-10T01:38:04Z' class='post-time'>
                February 10, 2022,  1:38am
              </time>
              <meta itemprop='dateModified' content='2022-02-10T01:38:04Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote quote-modified" data-post="26" data-topic="8074">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar">
    <a href="../tor-ctrl-tor-control-port-command-line-tool/8074/26.html">tor-ctrl - Tor control port command line tool</a> <a class="badge-wrapper  bullet" href="../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of components looking for maintainer)">Development</span></a>
  </div>
  <blockquote>
    Sure. 

I don‚Äôt like anon- prefix instead of tor- prefix myself. Just couldn‚Äôt come up with a better idea, though. It‚Äôs not really whonix- specific either. 
tor- obviously the most convenient, best and easiest to discover naming prefix but I don‚Äôt know if trademark issues could become an issue. (<a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/TPO_Trademark" class="inline-onebox" rel="noopener nofollow ugc">The Tor Project Trademark versus TorBOX / Whonix</a>) 
According to <a href="../../../external.html?link=https://www.torproject.org/about/trademark/" class="inline-onebox" rel="noopener nofollow ugc">Tor Project | Trademark</a> 

<a href="../../../external.html?link=https://www.torproject.org/about/trademark/#trademark-faq-3" rel="noopener nofollow ugc">Can I use the word ‚ÄúTor‚Äù as part of the name of my product or my domain name?</a>
Please don‚Äôt use Tor in your produ‚Ä¶
  </blockquote>
</aside>

<p>add anon-verify and torrc-parser. Anon-info maybe because it is only for debian hosts, or include on installation if debian system is detected.</p>
<p>rename vitor to a broader name to serve tor configuration files checker/parser/verifier.</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-10T03:00:24Z' class='post-time'>
                February 10, 2022,  3:00am
              </time>
              <meta itemprop='dateModified' content='2022-02-10T03:00:24Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Adrelanos, what is the reason for a part of the script to be in <code>/usr/libexec</code>?</p>
<p><a href="../../../external.html?link=https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch04s07.html" class="onebox" target="_blank" rel="noopener nofollow ugc">https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch04s07.html</a></p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-10T16:59:06Z' class='post-time'>
                February 10, 2022,  4:59pm
              </time>
              <meta itemprop='dateModified' content='2022-02-10T16:59:06Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubissue" data-onebox-src="../../../external.html?link=https://github.com/nyxnor/vitor/issues/5">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/nyxnor/vitor/issues/5" target="_blank" rel="noopener nofollow ugc">github.com/nyxnor/vitor</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/nyxnor/vitor/issues/5" target="_blank" rel="noopener nofollow ugc">add anon-verify and change project name</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-02-10" data-time="01:31:53" data-timezone="UTC">01:31AM - 10 Feb 22 UTC</span>
      </div>


      <div class="user">
        <a href="../../../external.html?link=https://github.com/nyxnor" target="_blank" rel="noopener nofollow ugc">
          <img alt="nyxnor" src="../../../external.html?link=https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">https://forums.whonix.org/t/tor-ctrl-tor-control-port-command-line-tool/8074/26
<span class="show-more-container"><a href="#" rel="noopener" class="show-more">‚Ä¶</a></span><span class="excerpt hidden">

- [anon-verify](https://github.com/Whonix/anon-gw-anonymizer-config/blob/master/usr/bin/anon-verify)
  - [torrc-parser](https://github.com/Whonix/anon-gw-anonymizer-config/blob/master/usr/libexec/anon-gw-anonymizer-config/torrc-parser)
- [anon-info](https://github.com/Whonix/anon-gw-anonymizer-config/blob/master/usr/bin/anon-info)


Anon-verify will be done, seems useful and can be system agnostic.
Anon-info not sure, it depends on debian hosts and having a sources list named torproject.list.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Have not commited changes to github, but I am discussing with myself there.<br>
Some fixes  being done, if any new feature is wanted, just open an issue.</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-10T17:46:29Z' class='post-time'>
                February 10, 2022,  5:46pm
              </time>
              <meta itemprop='dateModified' content='2022-02-10T17:46:29Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="nyxnor" data-post="15" data-topic="13213">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>Adrelanos, what is the reason for a part of the script to be in <code>/usr/libexec</code>?</p>
</blockquote>
</aside>
<p>Specifically why <code>/usr/libexec</code> and not some other folder? If some other folder, which one? Debian‚Äôs <code>lintian</code> complained about <code>/usr/lib</code> being the wrong location.</p>
<p>Or why is it split into two folders? Not sure what <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/iry">@iry</a> had in mind. Perhaps <code>source</code>ing that script from other scripts but that didn‚Äôt happen yet. So could also be all in 1 file, I guess.</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-11T02:39:35Z' class='post-time'>
                February 11, 2022,  2:39am
              </time>
              <meta itemprop='dateModified' content='2022-02-11T02:39:35Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubcommit" data-onebox-src="../../../external.html?link=https://github.com/nyxnor/onion-wash/commit/b3dac4bee622a0c7d0255109b9b941c6afdc1109">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/nyxnor/onion-wash/commit/b3dac4bee622a0c7d0255109b9b941c6afdc1109" target="_blank" rel="noopener nofollow ugc">github.com/nyxnor/onion-wash</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/nyxnor/onion-wash/commit/b3dac4bee622a0c7d0255109b9b941c6afdc1109" target="_blank" rel="noopener nofollow ugc">add onion-parser</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2022-02-11" data-time="02:35:07" data-timezone="UTC">02:35AM - 11 Feb 22 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/nyxnor" target="_blank" rel="noopener nofollow ugc">
          <img alt="nyxnor" src="../../../external.html?link=https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>

      <div class="lines" title="changed 4 files with 410 additions and 11 deletions">
        <a href="../../../external.html?link=https://github.com/nyxnor/onion-wash/commit/b3dac4bee622a0c7d0255109b9b941c6afdc1109" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+410</span>
          <span class="removed">-11</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">very nice script to verify tor configuration and see how it is parsed</p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-23T00:23:41Z' class='post-time'>
                February 23, 2022, 12:23am
              </time>
              <meta itemprop='dateModified' content='2022-02-23T00:23:41Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Asked on IRC if TPO has interest in producing a vitor, visudo for tor, if they reply something, I will post here, if not, then at least I tried.</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13213.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-23T00:46:09Z' class='post-time'>
                February 23, 2022, 12:46am
              </time>
              <meta itemprop='dateModified' content='2022-02-23T00:46:09Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>To keep vitor safe, I was studying some of sudoedit and visudo security features. I don‚Äôt know if I can tackle then all but some of vitor functionality and features are based on this tools for safety, as I am more than sure those developers have spent much more time hardening over the years than vitor has with its few months.</p>
<p><strong>Sudoedit</strong></p>
<pre><code class="lang-auto"> To help prevent the editing of unauthorized files, the fol‚Äê
 lowing restrictions are enforced unless explicitly allowed by
 the security policy:
</code></pre>
<p>Let‚Äôs take it bit by bit.</p>
<blockquote>
<p>‚Ä¢  Symbolic links may not be edited (version 1.8.15 and<br>
higher).</p>
</blockquote>
<p>The file could be not created yet, but if the file exists <code>-e</code>, then vitor should test if it is a regular file <code>-f</code>.</p>
<blockquote>
<p>‚Ä¢  Symbolic links along the path to be edited are not fol‚Äê<br>
lowed when the parent directory is writable by the invok‚Äê<br>
ing user unless that user is root (version 1.8.16 and<br>
higher).</p>
</blockquote>
<p>Isn‚Äôt symlinks going to be blocked anyway?</p>
<blockquote>
<p>‚Ä¢  Files located in a directory that is writable by the in‚Äê<br>
voking user may not be edited unless that user is root<br>
(version 1.8.16 and higher).</p>
</blockquote>
<p>Why is this a security feature on sudoedit? What does it protect? Using privileges when not needed? The torrc is owned either by root or debian-tor, so you will need privilege. But if you are in the tor group, this feature is to guard against an attack exploiting the editor you are using with shell escapes? Anyway, using sudo/doas to copy the file and the normal user to edit the file.</p>
<blockquote>
<p>Note that unlike most commands run by sudo, the editor is run<br>
with the invoking user‚Äôs environment unmodified.</p>
</blockquote>
<p>Done in vitor.</p>
<blockquote>
<p>If the temporary file becomes empty after editing, the user will be<br>
prompted before it is installed.</p>
</blockquote>
<p>Not done, I don‚Äôt see a reason, maybe this is my pov.</p>
<blockquote>
<p>If, for some reason, sudo is unable to update a file with its edited version, the user will receive a warning and the edited copy will remain in a temporary file.</p>
</blockquote>
<p>Done in vitor.</p>
<p><strong>visudo</strong></p>
<pre><code class="lang-auto">In addition to reporting sudoers syntax errors, visudo may produce the
following messages:

sudoers file busy, try again later.
     Someone else is currently editing the sudoers file.
</code></pre>
<p>This is done in vitor, more like a info feature than a security feature.<br>
As the file name may vary because of mktemp, the file.lck is displayed so you can know the path to delete the lock if you know it is a bug.</p>
        </div>

        <meta itemprop='headline' content='vitor - safely edit the Tor configuration file'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="132134658.html?page=2">next page ‚Üí</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
