<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Cleanly disabling CPFP</title>
    <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506</link>
    <description>
I followed your latest instructions and the error in the workstation is now gone but sdwdate still stalls.</description>
    <language>en</language>
    <lastBuildDate>Thu, 25 Sep 2014 22:34:49 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="12" data-topic="506">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>tor-browser updater.</p>
</blockquote>
</aside>
<p>Please no new terms. Enough sources available for confusion. tb-updater</p>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/13</link>
        <pubDate>Thu, 25 Sep 2014 22:34:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-13</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>whoops I meant tor-browser updater. I mixed it up with launcher.</p>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/12</link>
        <pubDate>Thu, 25 Sep 2014 21:58:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-12</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Please add to your posts if you are talking about tb-updater, tb-starter(, tb-default-browser) / or /  torbrowser-launcher. Otherwise we mix up topics and talk past each other.</p>
<p>[quote=“Patrick, post:7, topic:506”]There is a Whonix AppArmor related bug that was likely introduced in Whonix 10 or earlier:<br>
<a href="https://www.whonix.org/forum/index.php/topic,97.msg4385.html#msg4385%5B/quote%5D" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,97.msg4385.html#msg4385[/quote]</a><br>
torbrowser-launcher: I am more sure now this is a Whonix related AppArmor issue:<br>
<a href="https://www.whonix.org/forum/index.php/topic,97.msg4398.html#msg4398" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,97.msg4398.html#msg4398</a></p>
<p>[quote=“Patrick, post:7, topic:506”]And another issue most likely unrelated to CPFP:<br>
<a href="https://github.com/micahflee/torbrowser-launcher/issues/134%5B/quote%5D" class="onebox" target="_blank">https://github.com/micahflee/torbrowser-launcher/issues/134[/quote]</a><br>
torbrowser-launcher: False alarm. Was using an old verison.</p>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/11</link>
        <pubDate>Thu, 25 Sep 2014 19:11:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-11</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“HulaHoop, post:9, topic:506”]Full error:</p>
<p>[quote]    Tor Browser Updater (by Whonix developers)</p>
<pre><code>ERROR: Tor not fully bootstrapped.
Possible reasons:
- no internet connectivity
Please check:
Start menu -&gt; System -&gt; Whonix Check
or in Terminal: whonixcheck
or in Terminal with debugging: whonixcheck -v
Run whonixcheck on Whonix-Gateway as well.
If whonixcheck reports no problems with internet activity and this still fails, please report a bug![/quote][/quote]
</code></pre>
<p>Is this what you mean by “torbrowser-launcher”?</p>
<p>“torbrowser-launcher” (<a href="https://github.com/micahflee/torbrowser-launcher">https://github.com/micahflee/torbrowser-launcher</a>) is a non-ideal, but “reserved” term by the “torbrowser-launcher” developers. Please don’t mix them up when talking about <a href="https://github.com/Whonix/tb-updater">https://github.com/Whonix/tb-updater</a>. See also:<br>
<a href="https://www.whonix.org/wiki/Tor_Browser#tor-launcher_vs_torbrowser-launcher">https://www.whonix.org/wiki/Tor_Browser#tor-launcher_vs_torbrowser-launcher</a></p>
<p>About the error itself, it’s documented here:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Advanced_Security_Guide#Tor_Browser_Updater" target="_blank" title="03:23AM - 18 June 2019">Whonix – 18 Jun 19</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.whonix.org/w/images/4/4e/Padlocks337569640.jpg" class="thumbnail" width="640" height="426"></div>

<h3><a href="https://www.whonix.org/wiki/Advanced_Security_Guide#Tor_Browser_Updater" target="_blank">Advanced Security Guide - Whonix</a></h3>

<p>THIS WIKI PAGE IS DEPRECATED AND OUTDATED. PLEASE REFER TO THE ADVANCED SECURITY GUIDE SECTION - https://www.whonix.org/wiki/Documentation</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/10</link>
        <pubDate>Thu, 25 Sep 2014 18:43:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-10</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Full error:</p>
<blockquote>    Tor Browser Updater (by Whonix developers)
<pre><code>ERROR: Tor not fully bootstrapped.
Possible reasons:
- no internet connectivity
Please check:
Start menu -&gt; System -&gt; Whonix Check
or in Terminal: whonixcheck
or in Terminal with debugging: whonixcheck -v
Run whonixcheck on Whonix-Gateway as well.
If whonixcheck reports no problems with internet activity and this still fails, please report a bug!&lt;/blockquote&gt;</code></pre>
</blockquote>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/9</link>
        <pubDate>Thu, 25 Sep 2014 18:13:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-9</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>Please don't attribute all universal evils to CPFP.  ;)
<p>As per CPFP’s log torbrowser-launcher doesn’t seem to try to use ControlPort.</p>
</blockquote>
<p><img src="//forums.whonix.org/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"> I know it seems that way but I double checked and its really the case. Enabling makes these features work while without it it doesn’t.</p>
<blockquote>Have you had it working while CPFP was enabled and then disabling CPFP made it no longer work?</blockquote>
<p>Yes.</p>
<blockquote>Are you sure about this? Also causes a red X for me when CPFP is enabled. I don't see how it could be related.</blockquote>
<p>Yes. I noticed that this was the culprit this time. I’m extra careful about reaching these conclusions because I don’t want to waste anybody’s time.</p>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/8</link>
        <pubDate>Thu, 25 Sep 2014 17:55:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-8</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="HulaHoop" data-post="6" data-topic="506">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>2 related issues when testing, this time with 9.1</p>
</blockquote>
</aside>
<p>9.1 is not yet released. When you download it before the announcement in the blog, I might upload a “newer” 9.1 release later.</p>
<aside class="quote no-group" data-username="HulaHoop" data-post="6" data-topic="506">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>-Torbrowser Launcher refuses to function if the controlport is disabled.</p>
</blockquote>
</aside>
<p>Please don’t attribute all universal evils to CPFP.  <img src="//forums.whonix.org/images/emoji/twitter/wink.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
<p>Have you had it working while CPFP was enabled and then disabling CPFP made it no longer work?</p>
<p>As per CPFP’s log torbrowser-launcher doesn’t seem to try to use ControlPort.</p>
<pre><code class="lang-auto">tail -f /var/log/controlportfilt.log</code></pre>
<p>Also torbrowser-launcher does not depend on Tor (anymore?) (apt-cache show torbrowser-launcher).</p>
<p>There is a Whonix AppArmor related bug that was likely introduced in Whonix 10 or earlier:<br>
<a href="https://www.whonix.org/forum/index.php/topic,97.msg4385.html#msg4385" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,97.msg4385.html#msg4385</a></p>
<p>And another issue most likely unrelated to CPFP:<br>
</p><aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/micahflee/torbrowser-launcher/issues/134" target="_blank">github.com/micahflee/torbrowser-launcher</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/micahflee/torbrowser-launcher/issues/134" target="_blank">Download error: [&lt;twisted.python.failure.Failure &lt;class 'OpenSSL.SSL.Error'&gt;&gt;] &lt;class 'twisted.web._newclient.ResponseFailed'&gt;</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2014-09-25" data-time="17:39:01" data-timezone="UTC">05:39PM - 25 Sep 14 UTC</span>
      </div>

        <div class="date">
          closed <span class="discourse-local-date" data-format="ll" data-date="2014-09-25" data-time="18:53:56" data-timezone="UTC">06:53PM - 25 Sep 14 UTC</span>
        </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>
  </div>
</div>

<div class="github-row">
  <p class="github-content">torbrowser-launcher
Tor Browser Launcher
By Micah Lee, licensed under GPLv3
version 0.0.7
https://github.com/micahflee/torbrowser-launcher
Initializing Tor Browser Launcher
Warning: can't load mirrors from /usr/local/share/torbrowser-launcher/mirrors.txt
Importing keys
gpg: key 63FEE659: "Erinn...</p>
</div>

<div class="labels">
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<aside class="quote no-group quote-modified" data-username="HulaHoop" data-post="6" data-topic="506">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>- CPFP disabling is what causes the red X with the network manager. Normally its not there if its enabled.</p>
</blockquote>
</aside>
<p>Are you sure about this? Also causes a red X for me when CPFP is enabled. I don’t see how it could be related.</p>
<p><a href="https://www.whonix.org/forum/index.php/topic,532.0.html" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,532.0.html</a></p>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/7</link>
        <pubDate>Thu, 25 Sep 2014 17:39:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-7</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>2 related issues when testing, this time with 9.1</p>
<p>-Torbrowser Launcher refuses to function if the controlport is disabled.</p>
<ul>
<li>CPFP disabling is what causes the red X with the network manager. Normally its not there if its enabled.</li>
</ul>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/6</link>
        <pubDate>Thu, 25 Sep 2014 16:51:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-6</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>I tested the latest instructions and they seem to work.</p>
<blockquote>Type: "whonix"  for help.
user@host:~$ ps aux | grep controlportfilt
user      4699  0.3  5.0 100088 25856 ?        S    22:42   0:00 /usr/bin/python /usr/lib/msgcollector/msgdispatcher_dispatch_x error whonixcheck | Whonix-Gateway | 0.4-1 | Wed Sep 24 22:43:11 UTC 2014 <p><span>ERROR</span>: Control Port Filter Proxy Test Result: <br><b>File /var/run/controlportfilt/ownrunning does not exist.</b> <br>Please report this Whonix bug!&lt;\p&gt; 1 /usr/share/icons/anon-icon-pack/whonix.ico
user      6310  0.0  0.1   3944   732 pts/0    S+   22:44   0:00 grep controlportfilt
user@host:~$</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/5</link>
        <pubDate>Wed, 24 Sep 2014 22:57:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-5</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Just now updated <a href="https://www.whonix.org/wiki/Advanced_Security_Guide#Disable_Control_Port_Filter_Proxy">https://www.whonix.org/wiki/Advanced_Security_Guide#Disable_Control_Port_Filter_Proxy</a>.</p>
<ul>
<li>added how to check that CPFP is no longer running</li>
<li>added how to close CPFP’s port in Whonix-Gateway’s firewall</li>
<li>actually no need to deactivate sdwdate-plugin-anon-shared-con-check / whonixcheck’s Tor bootstrap test on Whonix-Gateway - it doesn’t use CPFP on Whonix-Gateway (uses Tor’s ControlPort directly)</li>
</ul>
<p>Please check.</p>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/4</link>
        <pubDate>Sun, 21 Sep 2014 13:14:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-4</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>False alarm. Re applied all instructions on a clean snapshot and Timesync works</p>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/3</link>
        <pubDate>Sat, 20 Sep 2014 04:47:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-3</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="8" data-topic="502">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"><a href="//forums.whonix.org/t/release-candidate-pre-final-whonix-9-testers-wanted/502/8">Release Candidate Pre Final Whonix 9 - testers wanted!</a>
</div>
<blockquote>
<p>The error in the workstation is now gone but sdwdate still stalls.</p>
</blockquote>
</aside>
<p>Are you sure you got the DISPATCH_PREREQUISITE="" setting in /etc/sdwdate.d/50_anon_dist_con_check_plugin_user? If yes…</p>
<p>Watch log in terminal 1.</p>
<pre><code class="lang-auto"></code></pre>
<p>Restart sdwdate in terminal 2.</p>
<pre><code class="lang-auto"></code></pre>
<p>The log should include.</p>
<p><code>ce74fbfc-c800-4648-91cd-2e8dae85cbd3: dispatching prerequisite (SDW_MODE: startup) (CURL: curl.anondist-orig) (LD_PRELOAD: ): true
ce74fbfc-c800-4648-91cd-2e8dae85cbd3: DISPATCH_PREREQUISITE exited 0, continuing...</code></p>
<p>Does it include that?</p>
<p>Otherwise were does it hang?</p>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/2</link>
        <pubDate>Fri, 19 Sep 2014 23:01:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-2</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
      <item>
        <title>Cleanly disabling CPFP</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>I followed your latest instructions and the error in the workstation is now gone but sdwdate still stalls.</p>
          <p><a href="http://forums.whonix.org/t/cleanly-disabling-cpfp/506/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cleanly-disabling-cpfp/506/1</link>
        <pubDate>Fri, 19 Sep 2014 22:28:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-506-1</guid>
        <source url="http://forums.whonix.org/t/cleanly-disabling-cpfp/506.rss">Cleanly disabling CPFP</source>
      </item>
  </channel>
</rss>
