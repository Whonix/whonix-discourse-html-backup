<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>jitterentropy-rngd</title>
    <link>http://forums.whonix.org/t/jitterentropy-rngd/7204</link>
    <description>@Patrick where does the recommendation of installing jitterentropy on the host go?

Edit by Patrick:

* https://phabricator.whonix.org/T817
* mailing list thread answered with jitterentropy developer: [How to confirm jitter .ko was loaded](https://www.whonix.org/pipermail/whonix-devel/2019-April/001364.html) (and more explanations provided)
* https://bugs.debian.org/927972
* https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=927974
* https://github.com/QubesOS/qubes-issues/issues/4174</description>
    <language>en</language>
    <lastBuildDate>Sat, 23 Nov 2019 11:22:57 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/security-misc/commit/fe1f1b73a77d11c136cedcdb3efcb57f4c68c6af" target="_blank">github.com/Whonix/security-misc</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/security-misc/commit/fe1f1b73a77d11c136cedcdb3efcb57f4c68c6af" target="_blank">load jitterentropy_rng kernel module for better entropy collection</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2019-11-23" data-time="11:20:32" data-timezone="UTC">11:20AM - 23 Nov 19 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 2 files with 12 additions and 0 deletions">
        <a href="https://github.com/Whonix/security-misc/commit/fe1f1b73a77d11c136cedcdb3efcb57f4c68c6af" target="_blank">
          <span class="added">+12</span>
          <span class="removed">-0</span>
        </a>
      </div>
    </div>

  </div>
</div>


  <div class="github-row">
    <pre class="github-content" style="white-space: normal;">https://www.whonix.org/wiki/Dev/Entropy
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=927972
https://forums.whonix.org/t/jitterentropy-rngd/7204</pre>
  </div>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/21</link>
        <pubDate>Sat, 23 Nov 2019 11:22:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-21</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>UPDATE:</p>
<p>Stephan says Kernel DRBG is important for ECC crypto as well as other stuff and therefore it makes sense to have upstream enable the module by default.</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/20</link>
        <pubDate>Thu, 02 May 2019 19:28:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-20</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="18" data-topic="7204">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>What’s the purpose of the kernel module?</p>
</blockquote>
</aside>
<p>To seed the kernel  DRBG which is different from the /dev/?random interfaces.</p>
<aside class="quote no-group" data-post="18" data-topic="7204">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Still useful for us?</p>
</blockquote>
</aside>
<p>If it doesn’t affect urandom then no.</p>
<aside class="quote no-group" data-post="18" data-topic="7204">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>If useful, why Debian doesn’t enable it by default?</p>
</blockquote>
</aside>
<p>Since I don’t really know what it is useful for I can’t argue for it properly.</p>
<aside class="quote no-group" data-post="18" data-topic="7204">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Can we convince them?</p>
</blockquote>
</aside>
<p>Not really. Even when I thought it had consequences for random, they suggested I just add a module load snippet in .d</p>
<aside class="quote no-group" data-post="18" data-topic="7204">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>If it’s<br>
not useful, then I am puzzled what the purpose of that kernel module is?</p>
</blockquote>
</aside>
<p>Me too I guess the question is what the kernel DRBG is good for. Can you please join the convo on our ML and ask because I don’t want to exhaust Stephan’s patience educating a non-cryptographer pleb like me.</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/19</link>
        <pubDate>Sat, 27 Apr 2019 19:19:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-19</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>What’s the purpose of the kernel module? Still useful for us? If useful,<br>
why Debian doesn’t enable it by default? Can we convince them? If it’s<br>
not useful, then I am puzzled what the purpose of that kernel module is?</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/18</link>
        <pubDate>Sat, 27 Apr 2019 09:02:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-18</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>The latest reply from Stephan corrects a lot of misconceptions.</p>
<p>Summary:</p>
<p>The kernel module does not matter for urandom seeding. This is handled exclusively by the systemd service which already works for us.</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/17</link>
        <pubDate>Fri, 26 Apr 2019 22:58:48 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-17</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>I suggested to Debian maintainers to switch kernel config to ‘y’ instead of ‘m’ like Fedora does to solve this.</p>
<p>Meanwhile I tested a workaround on boot that has the effect we need:</p>
<p>/etc/modules-load.d/jitterentropy_rng.conf</p>
<p>contains:</p>
<pre><code>jitterentropy_rng
</code></pre>
<p><code>cat</code> now returns module name as expected.</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/16</link>
        <pubDate>Fri, 26 Apr 2019 17:25:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-16</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="14" data-topic="7204">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>That might be since Qubes buster VMs are actually using dom0 provided kernel (which comes from Fedora?).</p>
</blockquote>
</aside>
<p>Yes. Most definitely.</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/15</link>
        <pubDate>Fri, 26 Apr 2019 03:40:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-15</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Great work! In my Qubes buster VM I can see it now using <code>cat /proc/crypto | grep jitter</code> command.</p>
<pre><code>cat /proc/crypto | grep jitter
name         : jitterentropy_rng
driver       : jitterentropy_rng
</code></pre>
<p>That might be since Qubes buster VMs are actually using dom0 provided kernel (which comes from Fedora?).</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/14</link>
        <pubDate>Thu, 25 Apr 2019 21:15:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-14</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Reported:</p>
<p><a href="https://bugs.debian.org/927972" class="onebox" target="_blank" rel="nofollow noopener">https://bugs.debian.org/927972</a></p>
<p><a href="https://bugs.debian.org/927974" class="onebox" target="_blank" rel="nofollow noopener">https://bugs.debian.org/927974</a></p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/13</link>
        <pubDate>Thu, 25 Apr 2019 18:57:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-13</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Only after I force load the module: jitterentropy_rng.ko does it appear under /proc/crypto</p>
<pre><code>root@host:/home/user# modprobe -f jitterentropy_rng
root@host:/home/user# cat /proc/crypto | grep jitter
name         : jitterentropy_rng
driver       : jitterentropy_rng
module       : jitterentropy_rng
</code></pre>
<p>Let’s decide whether we will include a modules.d snippet to do this on boot or if it makes sense to report upstream in Debian:</p>
<p><a href="https://bbs.archlinux.org/viewtopic.php?id=127866" class="onebox" target="_blank" rel="nofollow noopener">https://bbs.archlinux.org/viewtopic.php?id=127866</a></p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/12</link>
        <pubDate>Thu, 25 Apr 2019 18:26:48 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-12</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="10" data-topic="7204">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>kernel modules not active in Qubes Debian buster. jitterentropy systemd unit file not complaining.</p>
</blockquote>
</aside>
<p>Needs asking the jitter dev because I saw something about this module not having an API one can directly query for random numbers. So it may be working just at a level we can;t detect.</p>
<aside class="quote no-group" data-post="10" data-topic="7204">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Lowered some claims:</p>
</blockquote>
</aside>
<p>Fair enough. We need to be 100% sure so I will ask.</p>
<aside class="quote no-group" data-post="10" data-topic="7204">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The first sentence doesn’t necessarily mean that happens during early boot. (Seeding of /dev/urandom.)<br>
The second sentence may be true but not connected to seeding /dev/urandom early enough.</p>
</blockquote>
</aside>
<p>Got this from a technical writeup not something I made up <img src="//forums.whonix.org/images/emoji/twitter/wink.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
<aside class="quote no-group" data-post="10" data-topic="7204">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I have to be nitpicky here about “ <strong>provides</strong> a source of sufficient entropy” vs “ <strong>makes</strong> sure /dev/urandom is sufficiently seeded early enough”</p>
</blockquote>
</aside>
<p>For best accuracy I’d opt for the second sentence.</p>
<aside class="quote no-group" data-post="10" data-topic="7204">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><code>/lib/systemd/system/jitterentropy.service</code> may provide entropy but I don’t think it changes anything about any seeds of /dev/urandom. That would be up to systemd but there I don’t see this interaction.</p>
<p>Also, I don’t understand, if <code>jitterentropy</code> is a kernel module (not part of <code>jitterentropy-rngd</code> !), why it also a daemon?</p>
</blockquote>
</aside>
<p><a href="https://pthree.org/2016/05/24/cpu-jitter-entropy-for-the-linux-kernel/" class="onebox" target="_blank" rel="nofollow noopener">https://pthree.org/2016/05/24/cpu-jitter-entropy-for-the-linux-kernel/</a></p>
<blockquote>
<p><em>As mentioned in the list, unfortunately, loading the kernel doesn’t automatically top-off the entropy estimate of the internal state of the CSPRNG (/proc/sys/kernel/random/entropy_avail). As such, /dev/random will still block when the estimate is low or exhausted. So you’ll still need to run a userspace daemon to prevent this behavior. The author has also shipped a clean, light userspace daemon that just reads the data provided by the jitterentropy_rng.ko kernel module, and uses ioctl(2) to increase the estimate. The jitterentropy_rng.ko module provides about 10 KBps of random data.</em></p>
<p><em>Again, this isn’t anything that something like haveged(8) doesn’t already have access to. However, by taking advantage of a loaded kernel module, we can ensure that randomness is being collected before the CSPRNG is initialized. So, when CSPRNG initialization happens, we can ensure that it is properly seeded on first boot, minimizing the likelihood that exact keys will be created on distinct systems. This is something haveged(8) can’t provide, as it runs entirely in userspace.</em></p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/11</link>
        <pubDate>Wed, 24 Apr 2019 17:05:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-11</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1384" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v3/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>jitter is only effective if the accompanying kernel module is included - which it is in the Buster kernel:</p>
<p>CONFIG_CRYPTO_JITTERENTROPY=m</p>
<p>Now whether it does load the module at boot or not is another question that we need to confirm.</p>
</blockquote>
</aside>
<p>kernel modules not active in Qubes Debian buster. jitterentropy systemd unit file not complaining.</p>
<p>Lowered some claims:<br>
<a href="https://www.whonix.org/w/index.php?title=System_Hardening_Checklist&amp;type=revision&amp;diff=45275&amp;oldid=45272" rel="nofollow noopener">https://www.whonix.org/w/index.php?title=System_Hardening_Checklist&amp;type=revision&amp;diff=45275&amp;oldid=45272</a></p>
<ul>
<li>We don’t know this good enough to claim everything is good - so better say nothing.</li>
<li>The interpretation is may be too euphoric.</li>
</ul>
<p>Quote <a href="https://packages.debian.org/buster/jitterentropy-rngd" rel="nofollow noopener">https://packages.debian.org/buster/jitterentropy-rngd</a></p>
<blockquote>
<p>The seeding of /dev/random also ensures that /dev/urandom benefits from entropy. Especially during boot time, when the entropy of Linux is low, the Jitter RNGd provides a source of sufficient entropy.</p>
</blockquote>
<p>The first sentence doesn’t necessarily mean that happens during early boot. (Seeding of /dev/urandom.)<br>
The second sentence may be true but not connected to seeding /dev/urandom early enough.</p>
<p>Quote <a href="https://www.whonix.org/w/index.php?title=System_Hardening_Checklist&amp;type=revision&amp;diff=45275&amp;oldid=45272" rel="nofollow noopener">https://www.whonix.org/w/index.php?title=System_Hardening_Checklist&amp;type=revision&amp;diff=45275&amp;oldid=45272</a></p>
<blockquote>
<p>makes sure /dev/urandom is sufficiently seeded early enough in the boot process to resolve the risk of weak seeds</p>
</blockquote>
<p>I have to be nitpicky here about “<strong>provides</strong> a source of sufficient entropy” vs “<strong>makes</strong> sure /dev/urandom is sufficiently seeded early enough”</p>
<p>Also if I look at:</p>
<ul>
<li><code>/lib/systemd/system/systemd-random-seed.service</code></li>
<li><code>/lib/systemd/system/urandom.service</code></li>
</ul>
<p>I am not sure <code>/lib/systemd/system/jitterentropy.service</code> runs before these.</p>
<p><code>/lib/systemd/system/jitterentropy.service</code> may provide entropy but I don’t think it changes anything about any seeds of /dev/urandom. That would be up to systemd but there I don’t see this interaction.</p>
<p>Also, I don’t understand, if <code>jitterentropy</code> is a kernel module (not part of <code>jitterentropy-rngd</code>!), why it also a daemon?</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/10</link>
        <pubDate>Wed, 24 Apr 2019 09:03:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-10</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1386" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v3/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>I think entropy randomness is determined by the source rather than the gatherer’s interpretation</p>
</blockquote>
</aside>
<p>I can easily write an interpreter for any kind of input data which will have completely predictable output. (For any input I get I output a <code>0</code>. That would be to demonstrate how - only in this case obvious - coding bug can mess things up.)</p>
<p>These algorithms I think there’s a lot room to mess up in sublet ways which stay undetected in public for decades or forever.</p>
<aside class="quote no-group" data-post="1386" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v3/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Either way it won’t harm and you might as well add it to the wiki.</p>
</blockquote>
</aside>
<p>Alright.</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/9</link>
        <pubDate>Tue, 23 Apr 2019 11:12:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-9</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1385" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Both haveged and jitterentropy use same source of entropy: maybe?</p>
</blockquote>
</aside>
<p>Yes both use the CPU timers.</p>
<aside class="quote no-group" data-post="1385" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Both haveged and jitterentropy use same algorithm: no (haveged uses<br>
haveged algorithm, jitterentropy does not say so)</p>
</blockquote>
</aside>
<p>Different projects different algos, but I think entropy randomness is determined by the source rather than the gatherer’s interpretation. Either way it won’t harm and you might as well add it to the wiki.</p>
<p>Going back to the topic of /dev/random vs /dev/urandom the jitterentropy userspace daemon prevents blocking of /dev/random and makes sure urandom is sufficiently seeded early enough to resolve the risk of weak seeds.</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/8</link>
        <pubDate>Mon, 22 Apr 2019 20:08:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-8</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>HulaHoop via Whonix Forum:</p>
<blockquote>
<p>Correct me if I’m wrong, but don’t both use the exact same source for entropy generation? In that case havege would be redundant and not nearly as useful as jitter because it can;t do early boot stuff.</p>
</blockquote>
<p>Premise: extra providers can only improve entropy, even feeding totally<br>
predictable data to /dev/random cannot worsen its quality</p>
<p>Both haveged and jitterentropy use same source of entropy: maybe?</p>
<p>Both haveged and jitterentropy use same algorithm: no (haveged uses<br>
haveged algorithm, jitterentropy does not say so)</p>
<p>Both haveged and jitterentropy use same implementation: no</p>
<p>Conclusion: worthwhile to have both</p>
<p>Let me know if my logic has a mistake.</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/7</link>
        <pubDate>Mon, 22 Apr 2019 18:49:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-7</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1383" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>haveged and jitterentropyare both just daemons in Debian. Not kernel modules (which could act earlier).</p>
</blockquote>
</aside>
<p>jitter is only effective if the accompanying kernel module is included - which it is in the Buster kernel:</p>
<p>CONFIG_CRYPTO_JITTERENTROPY=m</p>
<p>Now whether it does load the module at boot or not is another question that we need to confirm.</p>
<aside class="quote no-group" data-post="1383" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>i.e. haveged may not work great inside VMs. It was developed for hardware.</p>
</blockquote>
</aside>
<p>It would not work in VMs where the tsc CPU instruction is blacklisted like I used to do before I just passed through all instructions for spectre mitigations to have effect in the guest.</p>
<aside class="quote no-group" data-post="1383" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>And independently from above, under the current theory of kernel entropy mixing it’s always good to throw something else into the mix?</p>
</blockquote>
</aside>
<p>Correct me if I’m wrong, but don’t both use the exact same source for entropy generation? In that case havege would be redundant and not nearly as useful as jitter because it can;t do early boot stuff.</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/6</link>
        <pubDate>Mon, 22 Apr 2019 17:56:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-6</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>haveged and jitterentropyare both just daemons in Debian. Not kernel modules (which could act earlier).</p>
<p>Check:</p>
<pre><code>apt-file list jitterentropy-rngd
apt-file list haveged
</code></pre>
<p>systemd unit files look similar.</p>
<hr>
<p>/lib/systemd/system/jitterentropy.service</p>
<pre><code>DefaultDependencies=no
After=local-fs.target
Before=sysinit.target
</code></pre>
<hr>
<p>/lib/systemd/system/haveged.service</p>
<blockquote>
<p>DefaultDependencies=no<br>
ConditionVirtualization=!container<br>
After=apparmor.service systemd-random-seed.service systemd-tmpfiles-setup.service<br>
Before=sysinit.target shutdown.target</p>
</blockquote>
<hr>
<p>Actually, opposite argument has been made.</p>
<ul>
<li><a href="https://wiki.archlinux.org/index.php/Haveged#Virtual_machines" rel="nofollow noopener">https://wiki.archlinux.org/index.php/Haveged#Virtual_machines</a></li>
<li><a href="https://www.whonix.org/wiki/Dev/Entropy#haveged" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/Entropy#haveged</a></li>
</ul>
<p>i.e. haveged may not work great inside VMs. It was developed for hardware.</p>
<p>Actual testing revealed it is ok as per haveged tests ( <a href="https://www.whonix.org/wiki/Dev/Entropy#haveged" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/Entropy#haveged</a> ) and dieharder.</p>
<hr>
<p>And independently from above, under the current theory of kernel entropy mixing it’s always good to throw something else into the mix?</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/5</link>
        <pubDate>Mon, 22 Apr 2019 15:39:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-5</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Done. Added to:</p>
<ul>
<li><a href="https://www.whonix.org/wiki/System_Hardening_Checklist#Entropy" rel="nofollow noopener">https://www.whonix.org/wiki/System_Hardening_Checklist#Entropy</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/4</link>
        <pubDate>Mon, 22 Apr 2019 15:28:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-4</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1380" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also mention haveged, and <a href="https://www.whonix.org/wiki/Dev/Entropy" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/Entropy</a>?</p>
</blockquote>
</aside>
<p>Haveged is only good for VMs AFAICT also it can’t influence early boot seeding entropy which is the main problem of the RNG.</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/3</link>
        <pubDate>Mon, 22 Apr 2019 15:09:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-3</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>HulaHoop via Whonix Forum:</p>
<blockquote>
<p><a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> where does the recommendation of installing jitterentropy on the host go?</p>
</blockquote>
<p>Not sure.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Operating_System_Hardening" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.whonix.org/w/images/d/d1/Oshardening34234.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Operating_System_Hardening" target="_blank" rel="nofollow noopener">Operating System Hardening</a></h3>

<p>Operating System Hardening</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>and also</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/System_Hardening_Checklist" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.whonix.org/w/images/5/52/Hardening-13423213.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/System_Hardening_Checklist" target="_blank" rel="nofollow noopener">System Hardening Checklist</a></h3>

<p>Hardening instructions for Whonix and Qubes-Whonix ™. Improving Linux, Windows and macOS host security and networking configurations. Safe Tor, Tor ...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Perhaps <a class="mention" href="http://forums.whonix.org/u/torjunkie">@torjunkie</a> will move it to a more suitable place.</p>
<p>Host operating system specific. Documentation for Debian (based) would<br>
be enough for now. Mac and Windows can be left TODO as exercise for<br>
reader / welcome contributions.</p>
<p>Also mention haveged, and <a href="https://www.whonix.org/wiki/Dev/Entropy" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/Entropy</a>?</p>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/2</link>
        <pubDate>Mon, 22 Apr 2019 15:02:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-2</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
      <item>
        <title>jitterentropy-rngd</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> where does the recommendation of installing jitterentropy on the host go?</p>
<p>Edit by Patrick:</p>
<ul>
<li><a href="https://phabricator.whonix.org/T817" rel="nofollow noopener">https://phabricator.whonix.org/T817</a></li>
<li>mailing list thread answered with jitterentropy developer: <a href="https://www.whonix.org/pipermail/whonix-devel/2019-April/001364.html" rel="nofollow noopener">How to confirm jitter .ko was loaded</a> (and more explanations provided)</li>
<li><a href="https://bugs.debian.org/927972" rel="nofollow noopener">https://bugs.debian.org/927972</a></li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=927974" rel="nofollow noopener">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=927974</a></li>
<li><a href="https://github.com/QubesOS/qubes-issues/issues/4174" rel="nofollow noopener">https://github.com/QubesOS/qubes-issues/issues/4174</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/jitterentropy-rngd/7204/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/jitterentropy-rngd/7204/1</link>
        <pubDate>Mon, 22 Apr 2019 14:37:46 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7204-1</guid>
        <source url="http://forums.whonix.org/t/jitterentropy-rngd/7204.rss">jitterentropy-rngd</source>
      </item>
  </channel>
</rss>
