<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>bash-completion</title>
    <link>http://forums.whonix.org/t/bash-completion/14590</link>
    <description>please add full help messages when the command `--help` is called on whonix/anon commands.

add this to `/usr/share/bash-completion/completions/qvm-check`
```
# qvm-check(1)                                             -*- shell-script -*-

_qvm_check()
{
    local cur prev words cword
    _init_completion -s || return

    if [[ $cur == -* ]]; then
        COMPREPLY=($(compgen -W &#39;$(_parse_help &quot;$1&quot;)&#39; -- &quot;$cur&quot;))
    else
        COMPREPLY=($(IFS=$&#39;\n&#39; compgen -W &#39;$(qvm-ls --raw-list)&#39; -- &quot;$cur&quot;))
    fi  

} &amp;&amp;
    complete -F _qvm_check qvm-check
```

You have to install the bash-completion package:
`sudo qubes-dom0-update bash-completion`

then source with:
`source /usr/share/bash-completion/bash_completion`

Try `qvm-check &lt;TAB&gt;&lt;TAB&gt;`
it will show vm-names

Try `qvm-check --&lt;TAB&gt;&lt;TAB&gt;`
It will show options

This is the most basic script for this utility, other ones can be done with argument as seen on https://github.com/scop/bash-completion/
read completions/apt-get for example. wget, curl completions are also very good guides in my opinion.

Other examples can be found on https://github.com/nyxnor/onionjuggler/tree/main/usr/share/bash-completion/completions</description>
    <language>en</language>
    <lastBuildDate>Mon, 22 Aug 2022 19:24:04 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/bash-completion/14590.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>bash-completion</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>please add full help messages when the command <code>--help</code> is called on whonix/anon commands.</p>
<p>add this to <code>/usr/share/bash-completion/completions/qvm-check</code></p>
<pre><code class="lang-auto"># qvm-check(1)                                             -*- shell-script -*-

_qvm_check()
{
    local cur prev words cword
    _init_completion -s || return

    if [[ $cur == -* ]]; then
        COMPREPLY=($(compgen -W '$(_parse_help "$1")' -- "$cur"))
    else
        COMPREPLY=($(IFS=$'\n' compgen -W '$(qvm-ls --raw-list)' -- "$cur"))
    fi  

} &amp;&amp;
    complete -F _qvm_check qvm-check
</code></pre>
<p>You have to install the bash-completion package:<br>
<code>sudo qubes-dom0-update bash-completion</code></p>
<p>then source with:<br>
<code>source /usr/share/bash-completion/bash_completion</code></p>
<p>Try <code>qvm-check &lt;TAB&gt;&lt;TAB&gt;</code><br>
it will show vm-names</p>
<p>Try <code>qvm-check --&lt;TAB&gt;&lt;TAB&gt;</code><br>
It will show options</p>
<p>This is the most basic script for this utility, other ones can be done with argument as seen on <a href="https://github.com/scop/bash-completion/" rel="noopener nofollow ugc">https://github.com/scop/bash-completion/</a><br>
read completions/apt-get for example. wget, curl completions are also very good guides in my opinion.</p>
<p>Other examples can be found on <a href="https://github.com/nyxnor/onionjuggler/tree/main/usr/share/bash-completion/completions" class="inline-onebox" rel="noopener nofollow ugc">onionjuggler/usr/share/bash-completion/completions at main · nyxnor/onionjuggler · GitHub</a></p>
          <p><a href="http://forums.whonix.org/t/bash-completion/14590/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/bash-completion/14590/1</link>
        <pubDate>Mon, 22 Aug 2022 19:00:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14590-1</guid>
        <source url="http://forums.whonix.org/t/bash-completion/14590.rss">bash-completion</source>
      </item>
  </channel>
</rss>
