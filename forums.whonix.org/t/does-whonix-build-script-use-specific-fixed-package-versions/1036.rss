<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Does Whonix build script use specific fixed package versions?</title>
    <link>http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036</link>
    <description>I&#39;m working on Qubes + Whonix source builds and need to figure this out. Couldn&#39;t efficiently find this in the code, so asking here.

Does Whonix build script use specific fixed package versions?

The &quot;packages&quot; directory seems to come with empty subdirectories with the same Whonix packages hosted on the Whonix Github account that are needed for building Whonix.

https://github.com/Whonix

[code]
ls ./packages

anon-apt-sources-list
anon-base-files
anon-gpg-tweaks
anon-gw-anonymizer-config
anon-gw-base-files
anon-gw-build-upgrade-tor
anon-gw-dhcp-conf
anon-gw-dns-conf
anon-gw-first-run-notice
anon-gw-kde-startmenu
anon-gw-leaktest
anon-iceweasel-warning
anon-icon-pack
anon-kde-streamiso
anon-meta-packages
anon-mixmaster
anon-shared-build-apt-sources-tpo
anon-shared-build-ban-nonfree
anon-shared-build-fix-grub
anon-shared-build-inst-tb
anon-shared-build-log-build-version
anon-shared-build-remember-sources
anon-shared-build-sanity-checks
anon-shared-build-upgrade-torsocks
anon-shared-helper-scripts
anon-torchat
anon-ws-base-files
anon-ws-disable-stacked-tor
anon-ws-dns-conf
anon-ws-kde-startmenu
anon-ws-leaktest
apparmor-profile-anondist
apparmor-profile-gwenview
apparmor-profile-icedove
apparmor-profile-okular
apparmor-profile-pidgin
apparmor-profile-sdwdate
apparmor-profile-timesync
apparmor-profile-torbrowser
apparmor-profile-virtualbox
apparmor-profile-whonixcheck
apparmor-profile-xchat
bootclockrandomization
control-port-filter-python
curl-scripts
damngpl
genmkfile
gpg-bash-lib
gpl-sources-download
grub-enable-apparmor
grub-output-verbose
grub-screen-resolution
ipv4-forward-disable
ipv6-disable
kde-apper-no-autoupdate
kde-common-resolution
kde-dolphin-menubar-enable
kde-kdm-autologin
kde-kgpg-tweaks
kde-konsole-unlim-scrollback
kde-lowfat
kde-mouse-doubleclick
kde-no-move-max-win
kde-privacy
kde-sounds-off
kmix-disable-autostart
knetattach-hide
ksm
msgcollector
open-link-confirmation
pidgin-improved-privacy
pkg-manager-longer-timeouts
pkg-manager-no-autoupdate
poweroff-passwordless
power-savings-disable-in-vms
python-guimessages
qubes-whonix
rads
scurl
sdwdate
sdwdate-plugin-anon-shared-con-check
sdwdate-plugin-anon-shared-streamiso
shared-folder-help
swap-file-creator
swappiness-lowest
tb-default-browser
tb-starter
tb-updater
tcp-timestamps-disable
timesanitycheck
timesync
timezone-utc
tor-ctrl
usability-misc
uwt
vbox-disable-timesync
whonix-base-files
whonixcheck
whonix-developer-meta-files
whonix-gw-desktop-shortcuts
whonix-gw-firewall
whonix-gw-kde-desktop-conf
whonix-gw-network-conf
whonix-host-firewall
whonix-initializer
whonix-legacy
whonix-libvirt
whonix-repository
whonixsetup
whonix-setup-wizard
whonix-welcome-page
whonix-ws-desktop-shortcuts
whonix-ws-firewall
whonix-ws-irc-chat-support
whonix-ws-kde-desktop-conf
whonix-ws-network-conf
whonix-ws-start-menu-additions
xchat-improved-privacy
[/code]

For each main Whonix tag version, 8, 8.2, 9, 9.4, 9.6, etc does the Whonix build script use specific fixed versions of each of these packages?

For example:

- Version 8 will always build with the same unique historical Whonix package versions.
- Version 8.2 will always build with the same unique historical Whonix package versions.
- Version 9 will always build with the same unique historical Whonix package versions.
- Version 9.4 will always build with the same unique historical Whonix package versions.
- Version 9.6 will always build with the same unique historical Whonix package versions.
...and so on.

Or would each historical version of the build script use whatever happens to be the latest current version of these packages?

Where do I find this in the code?

Thank you!</description>
    <language>en</language>
    <lastBuildDate>Mon, 27 Apr 2015 17:32:35 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Does Whonix build script use specific fixed package versions?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Yes. They are fixed in that sense. We could also say “frozen”? Not sure. Having this feature is something I find important.</p>
<p>As a related discussion… It can also be “frozen some more”. Using fixed (“frozen”) Debian package versions. See the ‘Current Sources vs Frozen Sources’ thread:<br>
<a href="https://www.whonix.org/forum/index.php/topic,1052" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,1052</a></p>
          <p><a href="http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036/5</link>
        <pubDate>Mon, 27 Apr 2015 17:32:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1036-5</guid>
        <source url="http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036.rss">Does Whonix build script use specific fixed package versions?</source>
      </item>
      <item>
        <title>Does Whonix build script use specific fixed package versions?</title>
        <dc:creator><![CDATA[WhonixQubes]]></dc:creator>
        <description><![CDATA[
            <p>Perfect. Thank you, Patrick. <img src="//forums.whonix.org/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>This is to accomplish user builds of Qubes + Whonix that ensure the user gets essentially the same stable package versions as the current ITL binary release.</p>
<p>So trying to sync versions between Binary Install Guide and Source Install Guide.</p>
<p>With checking out different versions of the Whonix repo and running:</p>
<pre><code class="lang-auto">git submodule status</code></pre>
<p>I can see the unique historical commits of the various Whonix packages.</p>
<p>So indeed, it does seem that each major Whonix version includes a fixed historical state of the Whonix packages and we should be able to closely sync up the binary releases and user source builds.</p>
<p>Thanks!</p>
          <p><a href="http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036/4</link>
        <pubDate>Mon, 27 Apr 2015 17:07:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1036-4</guid>
        <source url="http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036.rss">Does Whonix build script use specific fixed package versions?</source>
      </item>
      <item>
        <title>Does Whonix build script use specific fixed package versions?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Yes, it’s git submodules. Specific git commits reflect a fixed state, a link to a git commit of a submodule. So they’re tied to specific sub modules, not package versions. By convention, stable and testers-only tags do point to packages that are “finalized”, i.e. that are at the “bumped changelog version” commit, i.e. a finalized version. Not version + x.</p>
<p>The only exception is the whonix-developer-meta-files packages, it doesn’t have meaningful version numbers, but it’s also not used by users. No version numbers needed there, since you need to understand what you’re doing there.</p>
<p>Tying to package versions, well, that would be good to have it enforced on a technical level, but that’s not how git works. Any great new plan, well, that’s <a href="https://phabricator.whonix.org/T157">https://phabricator.whonix.org/T157</a>.</p>
<blockquote>- Version 8 will always build with the same unique historical Whonix package versions.
- Version 8.2 will always build with the same unique historical Whonix package versions.
- Version 9 will always build with the same unique historical Whonix package versions.
- Version 9.4 will always build with the same unique historical Whonix package versions.
- Version 9.6 will always build with the same unique historical Whonix package versions.
...and so on.</blockquote>
Yes, but it's only by convention. However, 8.2 etc. will never point to a different version. Once you got that tag on your hdd, it will never change [unless you delete it and retag yourself or get a new tag from someone else with that name, but retagging is a bad, confusing practice in git].
<p>It’s stored in git. What shows this quite well is this…</p>
<pre><code class="lang-auto"></code></pre>
<p>Examples…</p>
<p>Good…<br>
973cca3ff49f49195340d88caa21fac87cc4670a <span class="bbcode-b">packages/genmkfile</span> (<span class="bbcode-u"><span class="bbcode-b">1.7-1</span></span>)</p>
<p>Like all others, except two exception.</p>
<p>Unimportant exception:<br>
packages/whonix-developer-meta-files (2.2-1-22-g851c3d1)</p>
<p>So as of 10.0.0.5.5 the qubes-whonix package also in the repository is in a weird state:<br>
packages/qubes-whonix (9.6.2-4-g17f0775)</p>
<p>Yet have to work that out.</p>
<p>I didn’t mass quote since you figured out half of it and didn’t pluck all into pieces. Perhaps I have forgotten something. Should any questions be still open, please just re-state them, most likely I can answer those.</p>
          <p><a href="http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036/3</link>
        <pubDate>Thu, 23 Apr 2015 20:09:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1036-3</guid>
        <source url="http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036.rss">Does Whonix build script use specific fixed package versions?</source>
      </item>
      <item>
        <title>Does Whonix build script use specific fixed package versions?</title>
        <dc:creator><![CDATA[WhonixQubes]]></dc:creator>
        <description><![CDATA[
            <p>Saw this…</p>
<p><a href="https://phabricator.whonix.org/T157" class="onebox" target="_blank" rel="nofollow noopener">https://phabricator.whonix.org/T157</a></p>
<blockquote>- The Whonix main repository / build script references packages as git sub modules. I.e. The main repository points to the exact git commit hash of every package.
<ul>
<li>
<p>This has the advantage, when git taging a release (such as Whonix 9.6) it points to the exact commit hashes that have been used to create that release (such as 9.6).</p>
</li>
<li>
<p>There is no need to manually maintain a list such as “of package X, version Y” should go into Whonix 10.</p>
</li>
</ul>
</blockquote>


<p>And the git sub modules list seems to be here:</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/Whonix/blob/master/.gitmodules" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/Whonix/blob/master/.gitmodules" target="_blank" rel="nofollow noopener">Whonix/Whonix/blob/master/.gitmodules</a></h4>
<pre><code class="lang-gitmodules">[submodule "packages/anon-apps-config"]
        path = packages/anon-apps-config
        url = https://github.com/Whonix/anon-apps-config.git

[submodule "packages/anon-apt-sources-list"]
        path = packages/anon-apt-sources-list
        url = https://github.com/Whonix/anon-apt-sources-list.git

[submodule "packages/anon-base-files"]
        path = packages/anon-base-files
        url = https://github.com/Whonix/anon-base-files.git

[submodule "packages/anon-connection-wizard"]
        path = packages/anon-connection-wizard
        url = https://github.com/Whonix/anon-connection-wizard.git

[submodule "packages/anon-gpg-tweaks"]
        path = packages/anon-gpg-tweaks
        url = https://github.com/Whonix/anon-gpg-tweaks.git

</code></pre>

  This file has been truncated. <a href="https://github.com/Whonix/Whonix/blob/master/.gitmodules" target="_blank" rel="nofollow noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>And called from here:</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/Whonix/blob/master/build-steps.d/1100_prepare-build-machine" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/Whonix/blob/master/build-steps.d/1100_prepare-build-machine" target="_blank" rel="nofollow noopener">Whonix/Whonix/blob/master/build-steps.d/1100_prepare-build-machine</a></h4>
<pre><code class="lang-d/1100_prepare-build-machine">#!/bin/bash

## Copyright (C) 2012 - 2018 ENCRYPTED SUPPORT LP &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

set -x
set -e

true "INFO: Currently running script: $BASH_SOURCE $@"

MYDIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &amp;&amp; pwd )"

cd "$MYDIR"
cd ..
cd help-steps

WHONIX_BUILD_INTERNALRUN="1"
## lsb-release may not be installed yet.
whonix_build_on_operating_system_detect_skip="1"

</code></pre>

  This file has been truncated. <a href="https://github.com/Whonix/Whonix/blob/master/build-steps.d/1100_prepare-build-machine" target="_blank" rel="nofollow noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<pre><code class="lang-auto">true "INFO: Updating git sub modules..."
sudo -u "$user_name" git submodule sync
sudo -u "$user_name" git submodule update --init --recursive
true "INFO: Updated git sub modules."</code></pre>
<p>So it seems that each primary Whonix version tag does use specific fixed historical package versions, by way of git submodules?</p>
<p>If correct so far…</p>
<p>Where are these specific commit versions of each package listed in the code?</p>
          <p><a href="http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036/2</link>
        <pubDate>Thu, 23 Apr 2015 16:16:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1036-2</guid>
        <source url="http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036.rss">Does Whonix build script use specific fixed package versions?</source>
      </item>
      <item>
        <title>Does Whonix build script use specific fixed package versions?</title>
        <dc:creator><![CDATA[WhonixQubes]]></dc:creator>
        <description><![CDATA[
            <p>I’m working on Qubes + Whonix source builds and need to figure this out. Couldn’t efficiently find this in the code, so asking here.</p>
<p>Does Whonix build script use specific fixed package versions?</p>
<p>The “packages” directory seems to come with empty subdirectories with the same Whonix packages hosted on the Whonix Github account that are needed for building Whonix.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">
      <a href="https://github.com/Whonix" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars0.githubusercontent.com/u/4500165?s=280&amp;v=4" class="thumbnail onebox-avatar" width="280" height="280">

<h3><a href="https://github.com/Whonix" target="_blank" rel="nofollow noopener">Whonix</a></h3>

<p>Anonymous Operating System. Whonix has 116 repositories available. Follow their code on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<pre><code class="lang-auto">ls ./packages

anon-apt-sources-list
anon-base-files
anon-gpg-tweaks
anon-gw-anonymizer-config
anon-gw-base-files
anon-gw-build-upgrade-tor
anon-gw-dhcp-conf
anon-gw-dns-conf
anon-gw-first-run-notice
anon-gw-kde-startmenu
anon-gw-leaktest
anon-iceweasel-warning
anon-icon-pack
anon-kde-streamiso
anon-meta-packages
anon-mixmaster
anon-shared-build-apt-sources-tpo
anon-shared-build-ban-nonfree
anon-shared-build-fix-grub
anon-shared-build-inst-tb
anon-shared-build-log-build-version
anon-shared-build-remember-sources
anon-shared-build-sanity-checks
anon-shared-build-upgrade-torsocks
anon-shared-helper-scripts
anon-torchat
anon-ws-base-files
anon-ws-disable-stacked-tor
anon-ws-dns-conf
anon-ws-kde-startmenu
anon-ws-leaktest
apparmor-profile-anondist
apparmor-profile-gwenview
apparmor-profile-icedove
apparmor-profile-okular
apparmor-profile-pidgin
apparmor-profile-sdwdate
apparmor-profile-timesync
apparmor-profile-torbrowser
apparmor-profile-virtualbox
apparmor-profile-whonixcheck
apparmor-profile-xchat
bootclockrandomization
control-port-filter-python
curl-scripts
damngpl
genmkfile
gpg-bash-lib
gpl-sources-download
grub-enable-apparmor
grub-output-verbose
grub-screen-resolution
ipv4-forward-disable
ipv6-disable
kde-apper-no-autoupdate
kde-common-resolution
kde-dolphin-menubar-enable
kde-kdm-autologin
kde-kgpg-tweaks
kde-konsole-unlim-scrollback
kde-lowfat
kde-mouse-doubleclick
kde-no-move-max-win
kde-privacy
kde-sounds-off
kmix-disable-autostart
knetattach-hide
ksm
msgcollector
open-link-confirmation
pidgin-improved-privacy
pkg-manager-longer-timeouts
pkg-manager-no-autoupdate
poweroff-passwordless
power-savings-disable-in-vms
python-guimessages
qubes-whonix
rads
scurl
sdwdate
sdwdate-plugin-anon-shared-con-check
sdwdate-plugin-anon-shared-streamiso
shared-folder-help
swap-file-creator
swappiness-lowest
tb-default-browser
tb-starter
tb-updater
tcp-timestamps-disable
timesanitycheck
timesync
timezone-utc
tor-ctrl
usability-misc
uwt
vbox-disable-timesync
whonix-base-files
whonixcheck
whonix-developer-meta-files
whonix-gw-desktop-shortcuts
whonix-gw-firewall
whonix-gw-kde-desktop-conf
whonix-gw-network-conf
whonix-host-firewall
whonix-initializer
whonix-legacy
whonix-libvirt
whonix-repository
whonixsetup
whonix-setup-wizard
whonix-welcome-page
whonix-ws-desktop-shortcuts
whonix-ws-firewall
whonix-ws-irc-chat-support
whonix-ws-kde-desktop-conf
whonix-ws-network-conf
whonix-ws-start-menu-additions
xchat-improved-privacy</code></pre>
<p>For each main Whonix tag version, 8, 8.2, 9, 9.4, 9.6, etc does the Whonix build script use specific fixed versions of each of these packages?</p>
<p>For example:</p>
<ul>
<li>Version 8 will always build with the same unique historical Whonix package versions.</li>
<li>Version 8.2 will always build with the same unique historical Whonix package versions.</li>
<li>Version 9 will always build with the same unique historical Whonix package versions.</li>
<li>Version 9.4 will always build with the same unique historical Whonix package versions.</li>
<li>Version 9.6 will always build with the same unique historical Whonix package versions.<br>
…and so on.</li>
</ul>
<p>Or would each historical version of the build script use whatever happens to be the latest current version of these packages?</p>
<p>Where do I find this in the code?</p>
<p>Thank you!</p>
          <p><a href="http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036/1</link>
        <pubDate>Thu, 23 Apr 2015 15:15:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1036-1</guid>
        <source url="http://forums.whonix.org/t/does-whonix-build-script-use-specific-fixed-package-versions/1036.rss">Does Whonix build script use specific fixed package versions?</source>
      </item>
  </channel>
</rss>
