<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Best way to send a message to the Gateway?</title>
    <link>http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704</link>
    <description>Sometimes TOR exits are blocked and my automatic scripts on my workstation stop working for 10 minutes until a new circuit is established. I&#39;m trying to send a message to the Gateway to get a new identity earlier. The Workstation right now unfortunately has to be on Windows 7. Both are running in VirtualBox.</description>
    <language>en</language>
    <lastBuildDate>Fri, 26 Apr 2019 12:05:00 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Best way to send a message to the Gateway?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Charlie69 via Whonix Forum:</p>
<blockquote>
<p>I’ve had to set CookieAuthentication 1 in my torrc</p>
</blockquote>
<p>It’s already default.</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/anon-gw-anonymizer-config/blob/master/usr/share/tor/tor-service-defaults-torrc.anondist#L49" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/anon-gw-anonymizer-config/blob/master/usr/share/tor/tor-service-defaults-torrc.anondist#L49" target="_blank" rel="nofollow noopener">Whonix/anon-gw-anonymizer-config/blob/master/usr/share/tor/tor-service-defaults-torrc.anondist#L49</a></h4>
<pre class="onebox"><code class="lang-anondist"><ol class="start lines" start="39" style="counter-reset: li-counter 38 ;">
<li>DataDirectory /var/lib/tor</li>
<li>PidFile /var/run/tor/tor.pid</li>
<li>RunAsDaemon 1</li>
<li>User debian-tor</li>
<li>
</li>
<li>ControlSocket /var/run/tor/control GroupWritable RelaxDirModeCheck</li>
<li>ControlSocketsGroupWritable 1</li>
<li>SocksPort unix:/var/run/tor/socks WorldWritable</li>
<li>SocksPort 9050</li>
<li>
</li>
<li class="selected">CookieAuthentication 1</li>
<li>CookieAuthFileGroupReadable 1</li>
<li>CookieAuthFile /var/run/tor/control.authcookie</li>
<li>
</li>
<li>Log notice file /var/log/tor/log</li>
<li>
</li>
<li>#########################</li>
<li># Enable / Disable Tor #</li>
<li>#########################</li>
<li>
</li>
<li># Tor is disabled by default.</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/7</link>
        <pubDate>Fri, 26 Apr 2019 12:05:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6704-7</guid>
        <source url="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704.rss">Best way to send a message to the Gateway?</source>
      </item>
      <item>
        <title>Best way to send a message to the Gateway?</title>
        <dc:creator><![CDATA[Charlie69]]></dc:creator>
        <description><![CDATA[
            <p>I got the tor-ctrl connection working now and can send newnym. Even though I’m not using it, I’ve had to set CookieAuthentication 1 in my torrc in order to be able to connect correctly via TCP-Socket. Onion-Grater was showing logs about some cookies auth file missing, which pointed me in the right direction. <a href="https://www.9apps.red/" rel="nofollow noopener">9apps</a></p>
          <p><a href="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/6</link>
        <pubDate>Fri, 26 Apr 2019 08:41:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6704-6</guid>
        <source url="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704.rss">Best way to send a message to the Gateway?</source>
      </item>
      <item>
        <title>Best way to send a message to the Gateway?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Shouldn’t be needed. Works for me out of the box. Linux vs Windows<br>
shouldn’t influence authentication cookie need. No config changes<br>
required for me. Something seems wrong. Could be an indicator of a<br>
bigger issue.</p>
<p>Are you using Whonix 14?</p>
<p>Please post debug output / onion-grater log.</p>
          <p><a href="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/5</link>
        <pubDate>Mon, 21 Jan 2019 14:15:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6704-5</guid>
        <source url="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704.rss">Best way to send a message to the Gateway?</source>
      </item>
      <item>
        <title>Best way to send a message to the Gateway?</title>
        <dc:creator><![CDATA[oid0r]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for the pointers. I got the tor-ctrl connection working now and can send newnym. Even though I’m not using it, I’ve had to set CookieAuthentication 1 in my torrc in order to be able to connect correctly via TCP-Socket. Onion-Grater was showing logs about some cookies auth file missing, which pointed me in the right direction.</p>
          <p><a href="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/4</link>
        <pubDate>Mon, 21 Jan 2019 13:47:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6704-4</guid>
        <source url="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704.rss">Best way to send a message to the Gateway?</source>
      </item>
      <item>
        <title>Best way to send a message to the Gateway?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>The Whonix specific part of the question:</p>
<p>Connect to Whonix-Gateway IP.</p>
<pre><code class="lang-auto">10.152.152.10
</code></pre>
<p>Connect to Tor ControlPort (Filter Proxy, onion-grater).</p>
<pre><code>9051
</code></pre>
<p>I.e.</p>
<pre><code>10.152.152.10:9051
</code></pre>
<p>On Linux one could use <code>netcat</code>.</p>
<pre><code>nc 10.152.152.10 9051
</code></pre>
<p>Then one could write command:</p>
<pre><code>SIGNAL NEWNYM
</code></pre>
<p>And Tor would reply:</p>
<pre><code>250 OK
</code></pre>
<hr>
<p>The generic part of the question:</p>
<p>To do that for Windows you need to find something similar to netcat (or telnet) for Windows. I don’t know. Figuring that out can be done as per <a href="https://www.whonix.org/wiki/Free_Support_Principle" rel="nofollow noopener">https://www.whonix.org/wiki/Free_Support_Principle</a>.</p>
<hr>
<p>For reference:</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/whonix-gw-network-conf/blob/master/etc/network/interfaces.d/30_non-qubes-whonix#L42" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/whonix-gw-network-conf/blob/master/etc/network/interfaces.d/30_non-qubes-whonix#L42" target="_blank" rel="nofollow noopener">Whonix/whonix-gw-network-conf/blob/master/etc/network/interfaces.d/30_non-qubes-whonix#L42</a></h4>
<pre class="onebox"><code class="lang-d/30_non-qubes-whonix"><ol class="start lines" start="32" style="counter-reset: li-counter 31 ;">
<li>## When using Virtual Machines (not Physical Isolation),</li>
<li>## - eth1 is an internal, isolated, virtual network,</li>
<li>## - provided and only visible inside Virtual Machines</li>
<li>## - solely used to communicate with the Workstation.</li>
<li>## - it has has no access to the host</li>
<li>## - Thus, the following IP address can NOT cause conflicts</li>
<li>##   with your LAN network or router.</li>
<li>auto eth1</li>
<li>iface eth1 inet static</li>
<li>## INT_IP and INT_IF</li>
<li class="selected">address 10.152.152.10</li>
<li>netmask 255.255.192.0</li>
<li>## Out commented.</li>
<li>## For what do we need network and broadcast anyway?</li>
<li>#network 192.168.0.0</li>
<li>#broadcast 192.168.0.255</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Dev/Control_Port_Filter_Proxy" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:110/58;"><img src="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Dev/Control_Port_Filter_Proxy" target="_blank" rel="nofollow noopener">Dev/Control Port Filter Proxy</a></h3>

<p>onion-grater, a Tor Control Port Filter Proxy - filtering dangerous Tor Control Port commands - Design Documentation</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/3</link>
        <pubDate>Mon, 21 Jan 2019 06:00:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6704-3</guid>
        <source url="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704.rss">Best way to send a message to the Gateway?</source>
      </item>
      <item>
        <title>Best way to send a message to the Gateway?</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Take a look at Tor’s manual and read up on how to format a NEWNYM command. This question is better suited for Tor IRC or mail list.</p>
          <p><a href="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/2</link>
        <pubDate>Sun, 20 Jan 2019 18:39:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6704-2</guid>
        <source url="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704.rss">Best way to send a message to the Gateway?</source>
      </item>
      <item>
        <title>Best way to send a message to the Gateway?</title>
        <dc:creator><![CDATA[oid0r]]></dc:creator>
        <description><![CDATA[
            <p>Sometimes TOR exits are blocked and my automatic scripts on my workstation stop working for 10 minutes until a new circuit is established. I’m trying to send a message to the Gateway to get a new identity earlier. The Workstation right now unfortunately has to be on Windows 7. Both are running in VirtualBox.</p>
          <p><a href="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704/1</link>
        <pubDate>Sun, 20 Jan 2019 12:48:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6704-1</guid>
        <source url="http://forums.whonix.org/t/best-way-to-send-a-message-to-the-gateway/6704.rss">Best way to send a message to the Gateway?</source>
      </item>
  </channel>
</rss>
