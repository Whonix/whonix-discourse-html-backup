<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Kernel Hardening - Development - Whonix Forum</title>
    <meta name="description" content="Whonix should implement more kernel hardening. All of these settings add no or a very minimal performance decrease. 
Setting ‚Äúkernel.kptr_restrict=1‚Äù makes kernel symbols in /proc/kallsyms only accessible to root which c&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="72964658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Kernel Hardening&#39;" href="7296.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/kernel-hardening/7296?page=2" />
<meta name="twitter:url" content="https://forums.whonix.org/t/kernel-hardening/7296?page=2" />
<meta property="og:title" content="Kernel Hardening" />
<meta name="twitter:title" content="Kernel Hardening" />
<meta property="og:description" content="adm removal (I will research that too but also speculate pretty sure it will not cause issues - why would it be ‚Äústandard to be expected‚Äù that a linux user is in that group) - If you like please send pull requests:   https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst#L67 https://github.com/Whonix/whonix-legacy/blob/master/debian/whonix-legacy.preinst   Running journalctl as with root/sudo is fine. No need to run as user user.   That might be a typo?   Please cr..." />
<meta name="twitter:description" content="adm removal (I will research that too but also speculate pretty sure it will not cause issues - why would it be ‚Äústandard to be expected‚Äù that a linux user is in that group) - If you like please send pull requests:   https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst#L67 https://github.com/Whonix/whonix-legacy/blob/master/debian/whonix-legacy.preinst   Running journalctl as with root/sudo is fine. No need to run as user user.   That might be a typo?   Please cr..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="75 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="526 ‚ù§" />
<meta property="article:published_time" content="2019-05-05T21:14:16+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="7296.html">
        <link rel="next" href="72969ba9.html?page=3">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="7296.html">Kernel Hardening</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-05T21:14:16Z' class='post-time'>
                May 5, 2019,  9:14pm
              </time>
              <meta itemprop='dateModified' content='2019-05-05T21:14:16Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><code>adm</code> removal (I will research that too but also speculate pretty sure it will not cause issues - why would it be ‚Äústandard to be expected‚Äù that a linux user is in that group) - If you like please send pull requests:</p>
<ul>
<li><a href="../../../external.html?link=https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst#L67" rel="nofollow noopener">https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst#L67</a></li>
<li><a href="../../../external.html?link=https://github.com/Whonix/whonix-legacy/blob/master/debian/whonix-legacy.preinst" rel="nofollow noopener">https://github.com/Whonix/whonix-legacy/blob/master/debian/whonix-legacy.preinst</a></li>
</ul>
<aside class="quote no-group" data-post="20" data-topic="7296" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Removing the user from the adm group works perfectly. I get an error when running <code>journalctl</code> and I can‚Äôt view the log files manually. There are no other errors.</p>
</blockquote>
</aside>
<p>Running journalctl as with root/sudo is fine. No need to run as user <code>user</code>.</p>
<aside class="quote no-group" data-post="18" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>systemctl mask restrict-journalctl.service</p>
</blockquote>
</aside>
<p>That might be a typo?</p>
<aside class="quote no-group" data-post="18" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Well for a completely locked down system, that would actually be good.</p>
</blockquote>
</aside>
<p>Please create a separate forum thread for that.<br>
Ideally, address for added motivation:</p>
<ul>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Permissions" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/Permissions</a></li>
<li><a href="../../../external.html?link=https://blog.invisiblethings.org/2011/04/23/linux-security-circus-on-gui-isolation.html" rel="nofollow noopener">https://blog.invisiblethings.org/2011/04/23/linux-security-circus-on-gui-isolation.html</a></li>
<li><a href="../../../external.html?link=https://www.qubes-os.org/doc/vm-sudo/" rel="nofollow noopener">https://www.qubes-os.org/doc/vm-sudo/</a></li>
</ul>
<p>Some or even all of above could get invalid with the inception of wayland and/or not apply for CLI or non-gui linux users such as user <code>sdwdate</code>.</p>
<aside class="quote no-group" data-post="18" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Just make a systemd service for updating at boot.</p>
</blockquote>
</aside>
<p>Updating, you mean <code>apt-get dist-upgrade</code>?</p>
<aside class="quote no-group" data-post="18" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>It‚Äôd be incredibly difficult to use properly though.</p>
</blockquote>
</aside>
<p>I am not sure I understand that one. Difficult to use since one would require another login session to run commands as root (indeed) or use <code>su</code> or something like that?</p>
<p>This would also kinda be a prerequisite for something I am sometimes briefly wondering about:<br>
<a href="../walled-garden-firewall-whitelisting-application-whitelisting-sudo-lockdown-superuser-mode-protected-mode/5725.html" class="inline-onebox">walled garden, firewall whitelisting, application whitelisting, sudo lockdown, superuser mode, protected mode</a> - in essence: can a VM be restricted to be running ‚Äúa single application and nothing else let alone sudo‚Äù?</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-05T21:30:00Z' class='post-time'>
                May 5, 2019,  9:30pm
              </time>
              <meta itemprop='dateModified' content='2019-05-05T21:30:00Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="21" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><code>adm</code> removal (I will research that too but also speculate pretty sure it will not cause issues - why would it be ‚Äústandard to be expected‚Äù that a linux user is in that group) - If you like please send pull requests:</p>
</blockquote>
</aside>
<p>I‚Äôll create a pull request now.</p>
<aside class="quote no-group" data-post="21" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>That might be a typo?</p>
</blockquote>
</aside>
<p>No, my way would have used a systemd service to restrict the permissions at boot. They get ‚Äúoverrided‚Äù as there are new files created at each boot. ‚Äúmask‚Äù prevents the service from ever being started again unless you unmask it.</p>
<aside class="quote no-group" data-post="21" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Updating, you mean <code>apt-get dist-upgrade</code> ?</p>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-post="21" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I am not sure I understand that one. Difficult to use since one would require another login session to run commands as root (indeed) or use <code>su</code> or something like that?</p>
</blockquote>
</aside>
<p>Well, I was thinking that <code>su</code> and logging in as root would be restricted as well. You can prevent logging in as root from a tty by clearing /etc/securetty and <code>su</code> can be restricted to the sudo group by changing a few permissions. This way root is impossible to get without a root exploit.</p>
<aside class="quote no-group" data-post="21" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>in essence: can a VM be restricted to be running ‚Äúa single application and nothing else let alone sudo‚Äù?</p>
</blockquote>
</aside>
<p>That would be interesting but it would be a massive drain on resources and you‚Äôd need pretty good hardware if you want to run a lot of apps at the same time.</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-05T22:13:47Z' class='post-time'>
                May 5, 2019, 10:13pm
              </time>
              <meta itemprop='dateModified' content='2019-05-05T22:13:47Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I managed to get hidepid working.</p>
<p>In /etc/fstab, add</p>
<pre><code>proc /proc proc    nosuid,nodev,noexec,hidepid=2,gid=proc 0 0
</code></pre>
<p>Make /etc/systemd/system/systemd-logind.service.d/hidepid.conf and add</p>
<pre><code>[Service]
SupplementaryGroups=proc
</code></pre>
<p>Now create the ‚Äòproc‚Äô group by running</p>
<pre><code>groupadd proc 
</code></pre>
<p>systemd-logind works fine and I haven‚Äôt got any errors so far.</p>
<p>The problem last time was that I didn‚Äôt create the ‚Äòproc‚Äô group.</p>
<p>What package could this be added to?</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-05T22:49:35Z' class='post-time'>
                May 5, 2019, 10:49pm
              </time>
              <meta itemprop='dateModified' content='2019-05-05T22:49:35Z'>
          <span itemprop='position'>#24</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="23" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Make /etc/systemd/system/systemd-logind.service.d/hidepid.conf and add</p>
</blockquote>
</aside>
<p>The nitpick first before addressing the actual real and hard question:</p>
<p>should be <code>/lib/systemd/system/</code> instead as per<br>
<a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/About_Debian_Packaging#Modifying_Default_Configuration_of_Third_Party_Packages" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/About_Debian_Packaging#Modifying_Default_Configuration_of_Third_Party_Packages</a></p>
<aside class="quote no-group" data-post="23" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>What package could this be added to?</p>
</blockquote>
</aside>
<p>Good question, next question.</p>
<p>Non-Qubes-Whonix: file owned by nobody, created by grml-debootstrap at image creation and then left alone.</p>
<p>Qubes-Whonix: as per Qubes default:</p>
<pre><code>dpkg -S /etc/fstab
</code></pre>
<blockquote>
<p>qubes-core-agent: /etc/fstab</p>
</blockquote>
<p>The Qubes version is much different.</p>
<p>So this would require a new package which get installed in Non-Qubes-Whonix only to avoid package conflict. (And Qubes would require a separate issue and pull request [which is optional].) We don‚Äôt have such a package yet.</p>
<p>I am not sure if by introducing such a package we might break user customization for people who modified /etc/fstab but probably not and for Whonix 15 upgrade this is ok (and still in time).</p>
<p>Any naming suggestion for such a package? It‚Äôs not just <code>hidepid</code>, perhaps later other fstab hardening? It‚Äôs general security also, not hardcoded for Whonix.</p>
<p>Can we use <code>/etc/fstab.d</code> rather than <code>/etc/fstab</code> while we are at it? <code>/etc/fstab</code> would be really bad since it has to be complete which then might make it (Whonix|hardended debian) VM specific.</p>
<p><code>/etc/fstab.d</code> would be super helpful if we could just harden/reconfigure <code>/proc</code> rather than shipping a complete <code>/etc/fstab</code>. (Then probably even Qubes compatible.) In that case we could even add this to <code>security-misc</code> package too.</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-05T23:04:49Z' class='post-time'>
                May 5, 2019, 11:04pm
              </time>
              <meta itemprop='dateModified' content='2019-05-05T23:04:49Z'>
          <span itemprop='position'>#25</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="24" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>should be <code>/lib/systemd/system/</code> instead as per<br>
<a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/About_Debian_Packaging#Modifying_Default_Configuration_of_Third_Party_Packages" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/About_Debian_Packaging#Modifying_Default_Configuration_of_Third_Party_Packages</a></p>
</blockquote>
</aside>
<p>I don‚Äôt think this really matters. Both should work fine.</p>
<aside class="quote no-group" data-post="24" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Any naming suggestion for such a package? It‚Äôs not just <code>hidepid</code> , perhaps later other fstab hardening? It‚Äôs general security also, not hardcoded for Whonix.</p>
</blockquote>
</aside>
<p>fstab hardening would be a good name for it. It could also be used to set different mount options for different file systems like nosuid, nodev or noexec.</p>
<aside class="quote no-group" data-post="24" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Can we use <code>/etc/fstab.d</code> rather than <code>/etc/fstab</code> while we are at it? <code>/etc/fstab</code> would be really bad since it has to be complete which then might make it (Whonix|hardended debian) VM specific.</p>
</blockquote>
</aside>
<p>I haven‚Äôt ever heard of a /etc/fstab.d. It seems that support for it was abandoned.</p>
<p><a href="../../../external.html?link=https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=663623" class="onebox" target="_blank" rel="nofollow noopener">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=663623</a></p>
<p>Maybe we could ask them to see if they‚Äôll ever bring support for it back?</p>
<p>A quick and dirty method would be</p>
<pre><code>sed -i 's/proc/#proc/' /etc/fstab; echo "proc /proc proc    nosuid,nodev,noexec,hidepid=2,gid=proc 0 0" &gt;&gt; /etc/fstab 
</code></pre>
<p>This is terrible though and should only be used as a last resort.</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-05T23:18:23Z' class='post-time'>
                May 5, 2019, 11:18pm
              </time>
              <meta itemprop='dateModified' content='2019-05-05T23:18:23Z'>
          <span itemprop='position'>#26</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="25" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Maybe we could ask them to see if they‚Äôll ever bring support for it back?</p>
</blockquote>
</aside>
<p>Yes, please.</p>
<aside class="quote no-group" data-post="25" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>This is terrible though and should only be used as a last resort.</p>
</blockquote>
</aside>
<p>Indeed. (There is also config-package-dev transform but only slightly less terrible, I guess.)</p>
<p>Alternative much better idea in theory <span class="hashtag">#1:</span><br>
systemd unit file (that runs very early after fstab processing) which uses mount (remount) on /proc if that is possible? That could be part of security-misc package. Only remounts /proc for start (perhaps later more). Name of systemd unit file: <code>security-misc-early.service</code>? Automatically Qubes compatible / working in Qubes too, working on all supported platforms actually.</p>
<p>Alternative much better idea in theory <span class="hashtag">#2:</span><br>
Also a search for <code>systemd fstab</code> looks like systemd does a lot related to fstab. If above does not work, perhaps there would be any useful hook to overwrite what is written in /etc/fstab so we don‚Äôt have to touch that file.</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-05T23:39:35Z' class='post-time'>
                May 5, 2019, 11:39pm
              </time>
              <meta itemprop='dateModified' content='2019-05-05T23:44:15Z'>
          <span itemprop='position'>#27</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="26" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes, please.</p>
</blockquote>
</aside>
<p>Will I file a bug report?</p>
<aside class="quote no-group" data-post="26" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Alternative much better idea in theory <span class="hashtag">#1:</span><br>
systemd unit file (that runs very early after fstab processing) which uses mount (remount) on /proc if that is possible? That could be part of security-misc package. Only remounts /proc for start (perhaps later more). Name of systemd unit file: <code>security-misc-early.service</code> ? Automatically Qubes compatible / working in Qubes too, working on all supported platforms actually.</p>
</blockquote>
</aside>
<p>That sounds not too bad. We could make it run a bash script that can even configure other directories. It could be confusing for people trying to change their mount options though.</p>
<aside class="quote no-group" data-post="26" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Alternative much better idea in theory <span class="hashtag">#2:</span><br>
Also a search for <code>systemd fstab</code> looks like systemd does a lot related to fstab. If above does not work, perhaps there would be any useful hook to overwrite what is written in /etc/fstab so we don‚Äôt have to touch that file.</p>
</blockquote>
</aside>
<p>I‚Äôll look into this and see what I can find.</p>
<p>Alternative much better idea in theory <span class="hashtag">#3:</span><br>
Use a systemd .mount file. You seem to configure it just like a systemd service. Configure /proc and add <code>Options=nosuid,nodev,noexec,hidepid=2,gid=proc</code>. I don‚Äôt know much about these though. See:</p>
<p><a href="../../../external.html?link=https://www.freedesktop.org/software/systemd/man/systemd.mount.html" class="onebox" target="_blank" rel="nofollow noopener">https://www.freedesktop.org/software/systemd/man/systemd.mount.html</a></p>
<p>Edit: This seems like a good guide for <span class="hashtag">#3</span></p>
<p><a href="../../../external.html?link=https://oguya.ch/posts/2015-09-01-systemd-mount-partition/" class="onebox" target="_blank" rel="nofollow noopener">https://oguya.ch/posts/2015-09-01-systemd-mount-partition/</a></p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-06T00:45:31Z' class='post-time'>
                May 6, 2019, 12:45am
              </time>
              <meta itemprop='dateModified' content='2019-05-06T00:45:31Z'>
          <span itemprop='position'>#28</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Also, there are more sysctl changes that‚Äôd be good to add.</p>
<p>Setting ‚Äúkernel.kexec_load_disabled=1‚Äù will disable kexec which can be used to replace the running kernel.</p>
<p>Setting ‚Äúnet.ipv4.tcp_rfc1337=1‚Äù protects against time-wait assassination. It drops RST packets for sockets in the time-wait state.</p>
<p>Setting "net.ipv4.conf.default.rp_filter=1 and ‚Äúnet.ipv4.conf.all.rp_filter=1‚Äù enables source validation of packets and protects against IP spoofing methods in which an attacker can send a packet with a fake IP address.</p>
<p>Setting</p>
<pre><code>net.ipv4.conf.all.accept_redirects=0
net.ipv4.conf.default.accept_redirects=0
net.ipv4.conf.all.secure_redirects=0
net.ipv4.conf.default.secure_redirects=0
net.ipv6.conf.all.accept_redirects=0
net.ipv6.conf.default.accept_redirects=0  
</code></pre>
<p>disables ICMP redirect acceptance. If these aren‚Äôt set then an attacker can redirect an ICMP request to wherever they want.</p>
<p>Setting ‚Äúnet.ipv4.conf.all.send_redirects=0‚Äù and ‚Äúnet.ipv4.conf.default.send_redirects=0‚Äù disable ICMP redirect sending.</p>
<p>Setting ‚Äúnet.ipv4.icmp_echo_ignore_all=1‚Äù makes your system ignore ICMP requests.</p>
<p>Setting ‚Äúkernel.yama.ptrace_scope=2‚Äù restricts the use of ptrace to root. Ptrace allows a program to alter and inspect a running process.</p>
<p>Should I add these to the pull request?</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-06T02:15:48Z' class='post-time'>
                May 6, 2019,  2:15am
              </time>
              <meta itemprop='dateModified' content='2019-05-06T02:15:48Z'>
          <span itemprop='position'>#29</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="27" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Will I file a bug report?</p>
</blockquote>
</aside>
<p>Yes, that would be great!</p>
<aside class="quote no-group" data-post="27" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>That sounds not too bad. We could make it run a bash script that can even configure other directories. It could be confusing for people trying to change their mount options though.</p>
</blockquote>
</aside>
<p>Indeed and it could even be made configurable.</p>
<aside class="quote no-group" data-post="27" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Alternative much better idea in theory <span class="hashtag">#3:</span></p>
</blockquote>
</aside>
<p>If that works, that would be the most appropriate tool for the task. Ideally (and quite likely supported by systemd), a drop-in configuration snippet.</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-06T02:31:11Z' class='post-time'>
                May 6, 2019,  2:31am
              </time>
              <meta itemprop='dateModified' content='2019-05-06T02:31:11Z'>
          <span itemprop='position'>#30</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="28" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Setting ‚Äúkernel.kexec_load_disabled=1‚Äù will disable kexec which can be used to replace the running kernel.</p>
</blockquote>
</aside>
<p>This for sure can only be done by root and root could disable this. So I don‚Äôt see any advantage by it.</p>
<aside class="quote no-group" data-post="28" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Should I add these to the pull request?</p>
</blockquote>
</aside>
<p>Likely yes, let‚Äôs have a few days time pass for research and eventual comments.</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-06T09:52:51Z' class='post-time'>
                May 6, 2019,  9:52am
              </time>
              <meta itemprop='dateModified' content='2019-05-06T09:52:51Z'>
          <span itemprop='position'>#31</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p>kernel.unprivileged_bpf_disabled=1</p>
</blockquote>
<p>Could you please try to find out why Tails isn‚Äôt using that anymore (they did so in past looks like).</p>
<p>No luck:</p>
<pre><code>site:tails.boum.org "kernel.unprivileged_bpf_disabled=1"
site:https://git-tails.immerda.ch "kernel.unprivileged_bpf_disabled=1"
</code></pre>
<hr>
<p><a href="../../../external.html?link=https://github.com/Whonix/security-misc/pull/5" rel="nofollow noopener">https://github.com/Whonix/security-misc/pull/5</a> merged just now.</p>
<hr>
<ul>
<li>Whonix: <a href="../../../external.html?link=https://github.com/Whonix/security-misc/tree/master/etc/sysctl.d" rel="nofollow noopener">https://github.com/Whonix/security-misc/tree/master/etc/sysctl.d</a>
</li>
<li>Tails: <a href="../../../external.html?link=https://git-tails.immerda.ch/tails/tree/config/chroot_local-includes/etc/sysctl.d" rel="nofollow noopener">https://git-tails.immerda.ch/tails/tree/config/chroot_local-includes/etc/sysctl.d</a>
</li>
</ul>
<p>Tails has more files in their <code>/etc/sysctl.d</code>. Could you please look through the other <code>/etc/sysctl.d</code> snippets that Tails has that we don‚Äôt have? And copy over anything relevant so we‚Äôre on par with Tails? (Please keep same file names as Tails for simplicity/comparison (as far as that makes sense but I guess so)).</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-06T09:56:39Z' class='post-time'>
                May 6, 2019,  9:56am
              </time>
              <meta itemprop='dateModified' content='2019-05-06T09:56:39Z'>
          <span itemprop='position'>#32</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/madaidan">@madaidan</a></p>
<p>Thanks for all the hard work you‚Äôre  putting into Whonix! Looking forward to your enhancements in the Whonix code. If I can do anything for you, please let me know!</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-06T15:53:22Z' class='post-time'>
                May 6, 2019,  3:53pm
              </time>
              <meta itemprop='dateModified' content='2019-05-06T15:53:22Z'>
          <span itemprop='position'>#33</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="29" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes, that would be great!</p>
</blockquote>
</aside>
<p>Which package and version would it be?</p>
<aside class="quote no-group" data-post="29" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>If that works, that would be the most appropriate tool for the task. Ideally (and quite likely supported by systemd), a drop-in configuration snippet.</p>
</blockquote>
</aside>
<p>I‚Äôm having problems with it on Whonix. It doesn‚Äôt seem to want to mount /proc. I‚Äôll try and see if it can be done.</p>
<aside class="quote no-group" data-post="30" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>This for sure can only be done by root and root could disable this. So I don‚Äôt see any advantage by it.</p>
</blockquote>
</aside>
<p>Tails disables it anyway and the KSPP recommends it.</p>
<aside class="quote no-group" data-post="30" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Likely yes, let‚Äôs have a few days time pass for research and eventual comments.</p>
</blockquote>
</aside>
<p>I‚Äôve just created it.</p>
<aside class="onebox githubpullrequest">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/security-misc/pull/6" target="_blank" rel="nofollow noopener">github.com/Whonix/security-misc</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/madaidan" target="_blank" rel="nofollow noopener">
    <img alt="madaidan" src="../../../external.html?link=https://avatars0.githubusercontent.com/u/50278627?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/Whonix/security-misc/pull/6" target="_blank" rel="nofollow noopener">Even more kernel hardening</a>
</h4>

<div class="date">
  by <a href="../../../external.html?link=https://github.com/madaidan" target="_blank" rel="nofollow noopener">madaidan</a>
  on <a href="../../../external.html?link=https://github.com/Whonix/security-misc/pull/6" target="_blank" rel="nofollow noopener">03:47PM - 06 May 19 UTC</a>
</div>

<div class="github-commit-stats">
  <strong>3 commits</strong>
  changed <strong>3 files</strong>
  with <strong>27 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-post="31" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Could you please try to find out why Tails isn‚Äôt using that anymore (they did so in past looks like).</p>
</blockquote>
</aside>
<p>It looks like Tails still uses it</p>
<p><a href="../../../external.html?link=https://git-tails.immerda.ch/tails/tree/config/chroot_local-includes/etc/sysctl.d/unprivileged_bpf.conf" class="onebox" target="_blank" rel="nofollow noopener">https://git-tails.immerda.ch/tails/tree/config/chroot_local-includes/etc/sysctl.d/unprivileged_bpf.conf</a></p>
<aside class="quote no-group" data-post="31" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><a href="../../../external.html?link=https://github.com/Whonix/security-misc/pull/5" rel="nofollow noopener">https://github.com/Whonix/security-misc/pull/5</a> merged just now.</p>
</blockquote>
</aside>
<p>Great!</p>
<aside class="quote no-group" data-post="31" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Tails has more files in their <code>/etc/sysctl.d</code> . Could you please look through the other <code>/etc/sysctl.d</code> snippets that Tails has that we don‚Äôt have?</p>
</blockquote>
</aside>
<p>Tails uses ‚Äúnet.ipv4.tcp_mtu_probing=1‚Äù which seems to just be for obfs4 bridges</p>
<p><a href="../../../external.html?link=https://redmine.tails.boum.org/code/issues/9268" class="onebox" target="_blank" rel="nofollow noopener">https://redmine.tails.boum.org/code/issues/9268</a></p>
<p>They also use ‚Äúfs.protected_fifos = 2‚Äù and ‚Äúfs.protected_regular = 2‚Äù but I don‚Äôt know what this does.</p>
<p>The rest we already have or is in the new pull request I made.</p>
<aside class="quote no-group" data-post="32" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>Thanks for all the hard work you‚Äôre putting into Whonix! Looking forward to your enhancements in the Whonix code. If I can do anything for you, please let me know!</p>
</blockquote>
</aside>
<p>Thanks!</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-06T19:55:53Z' class='post-time'>
                May 6, 2019,  7:55pm
              </time>
              <meta itemprop='dateModified' content='2019-05-06T19:55:53Z'>
          <span itemprop='position'>#34</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="33" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Which package and version would it be?</p>
</blockquote>
</aside>
<p>util-linux upstream I guess it is here:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://github.githubassets.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://github.com/karelzak/util-linux" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://avatars0.githubusercontent.com/u/1031987?s=400&amp;amp;v=4" class="thumbnail" width="" height="">

<h3><a href="../../../external.html?link=https://github.com/karelzak/util-linux" target="_blank" rel="nofollow noopener">karelzak/util-linux</a></h3>

<p>Contribute to karelzak/util-linux development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-06T20:11:59Z' class='post-time'>
                May 6, 2019,  8:11pm
              </time>
              <meta itemprop='dateModified' content='2019-05-06T20:11:59Z'>
          <span itemprop='position'>#35</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="33" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>They also use ‚Äúfs.protected_fifos = 2‚Äù and ‚Äúfs.protected_regular = 2‚Äù but I don‚Äôt know what this does.</p>
</blockquote>
</aside>
<p><a href="../../../external.html?link=https://github.com/systemd/systemd/blob/master/sysctl.d/50-default.conf" rel="nofollow noopener">https://github.com/systemd/systemd/blob/master/sysctl.d/50-default.conf</a> is using it but I don‚Äôt know in which cases this file gets installed on a system. Debian does not seem to ship it, yet looks interesting. Could you have a look please?</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/systemd/systemd/commit/2732587540035227fe59e4b64b60127352611b35#diff-7816eed8ca6324f23a690cc5f58e6bf7" target="_blank" rel="nofollow noopener">github.com/systemd/systemd</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/lucaswerkmeister" target="_blank" rel="nofollow noopener">
    <img alt="lucaswerkmeister" src="../../../external.html?link=https://avatars0.githubusercontent.com/u/2346599?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/systemd/systemd/commit/2732587540035227fe59e4b64b60127352611b35" target="_blank" rel="nofollow noopener">Enable regular file and FIFO protection</a>
</h4>

  <pre class="message" style="white-space: normal;">These sysctls were added in Linux 4.19 (torvalds/linux@30aba6656f), and
we should enable them just like we enable the older hardlink/symlink
protection since v199....</pre>

<div class="date">
  by <a href="../../../external.html?link=https://github.com/lucaswerkmeister" target="_blank" rel="nofollow noopener">lucaswerkmeister</a>
  on <a href="../../../external.html?link=https://github.com/systemd/systemd/commit/2732587540035227fe59e4b64b60127352611b35" target="_blank" rel="nofollow noopener">11:16PM - 15 Jan 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>2 files</strong>
  with <strong>17 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p><a href="../../../external.html?link=https://outflux.net/blog/archives/2018/10/22/security-things-in-linux-v4-19/" class="onebox" target="_blank" rel="nofollow noopener">https://outflux.net/blog/archives/2018/10/22/security-things-in-linux-v4-19/</a></p>
<p>Sounds good to have. Could you add please too?</p>
<hr>
<pre><code>dpkg -S protect-links.conf 
</code></pre>
<blockquote>
<p>procps: /etc/sysctl.d/protect-links.conf</p>
</blockquote>
<pre><code>cat /etc/sysctl.d/protect-links.conf 
###################################################################
# Protected links
#
# Protects against creating or following links under certain conditions
# Debian kernels have both set to 1 (restricted) 
# See https://www.kernel.org/doc/Documentation/sysctl/fs.txt
fs.protected_hardlinks = 1
fs.protected_symlinks = 1</code></pre>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-06T20:38:38Z' class='post-time'>
                May 6, 2019,  8:38pm
              </time>
              <meta itemprop='dateModified' content='2019-05-06T20:38:38Z'>
          <span itemprop='position'>#36</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="35" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><a href="../../../external.html?link=https://github.com/systemd/systemd/blob/master/sysctl.d/50-default.conf" rel="nofollow noopener">https://github.com/systemd/systemd/blob/master/sysctl.d/50-default.conf</a> is using it but I don‚Äôt know in which cases this file gets installed on a system. Debian does not seem to ship it, yet looks interesting. Could you have a look please?</p>
</blockquote>
</aside>
<p>It probably depends on the distro. It definitely isn‚Äôt on Whonix.</p>
<aside class="quote no-group" data-post="35" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Sounds good to have. Could you add please too?</p>
</blockquote>
</aside>
<p>Just added it.</p>
<aside class="quote no-group" data-post="35" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>fs.protected_hardlinks = 1<br>
fs.protected_symlinks = 1</p>
</blockquote>
</aside>
<p>Both are enabled by default</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-06T21:10:43Z' class='post-time'>
                May 6, 2019,  9:10pm
              </time>
              <meta itemprop='dateModified' content='2019-05-06T21:10:43Z'>
          <span itemprop='position'>#37</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="34" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>util-linux upstream I guess it is here:</p>
</blockquote>
</aside>
<p>Just sent it.</p>
<p><a href="../../../external.html?link=https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=928546" class="onebox" target="_blank" rel="nofollow noopener">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=928546</a></p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-07T11:16:07Z' class='post-time'>
                May 7, 2019, 11:16am
              </time>
              <meta itemprop='dateModified' content='2019-05-07T11:16:07Z'>
          <span itemprop='position'>#38</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="37" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p><a href="../../../external.html?link=https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=928546" rel="nofollow noopener">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=928546</a></p>
</blockquote>
</aside>
<p>Great!</p>
<p>Forwarded upstream too:</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/karelzak/util-linux/issues/790" target="_blank" rel="nofollow noopener">github.com/karelzak/util-linux</a>
  </header>
  <article class="onebox-body">
    <a href="../../../external.html?link=https://github.com/adrelanos" rel="nofollow noopener">
<img src="../../../external.html?link=https://avatars1.githubusercontent.com/u/1985040?v=2&amp;s=96" class="thumbnail onebox-avatar" width="96" height="96">
</a>

<h4><a href="../../../external.html?link=https://github.com/karelzak/util-linux/issues/790" target="_blank" rel="nofollow noopener">Issue: [feature request] /etc/fstab.d</a></h4>

<div class="date" style="margin-top:10px;">
	<div class="user" style="margin-top:10px;">
	opened by <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
	on <a href="../../../external.html?link=https://github.com/karelzak/util-linux/issues/790" target="_blank" rel="nofollow noopener">2019-05-07</a>
	</div>
	<div class="user">
	</div>
</div>

<pre class="content" style="white-space: pre-wrap;">Quote "john.pseudonym1" john.pseudonym1@protonmail.com
Hi,
As part of the hardening of an anonymity focused operating system called Whonix, we need to add different mount...</pre>

<div class="labels">
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>(and added that link to <a href="../../../external.html?link=https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=928546" rel="nofollow noopener">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=928546</a>)</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-07T17:59:56Z' class='post-time'>
                May 7, 2019,  5:59pm
              </time>
              <meta itemprop='dateModified' content='2019-05-07T17:59:56Z'>
          <span itemprop='position'>#39</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Got an answer in <a href="../../../external.html?link=https://github.com/karelzak/util-linux/issues/790" rel="nofollow noopener">https://github.com/karelzak/util-linux/issues/790</a> and replied.<br>
Got another answer in <a href="../../../external.html?link=https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=928546#15" rel="nofollow noopener">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=928546#15</a>.</p>
<p>Could you translate this please into a systemd feature request?</p>
<p><a href="../../../external.html?link=https://github.com/systemd/systemd/issues" rel="nofollow noopener">https://github.com/systemd/systemd/issues</a></p>
<p>(And if we‚Äôre lucky, they‚Äôll tell us ‚Äúthat‚Äôs already possibly doing xyz‚Äù.)</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7296.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-07T18:58:45Z' class='post-time'>
                May 7, 2019,  6:58pm
              </time>
              <meta itemprop='dateModified' content='2019-05-07T18:58:45Z'>
          <span itemprop='position'>#40</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Forwarded to systemd</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/systemd/systemd/issues/12506" target="_blank" rel="nofollow noopener">github.com/systemd/systemd</a>
  </header>
  <article class="onebox-body">
    <a href="../../../external.html?link=https://github.com/madaidan" rel="nofollow noopener">
<img src="../../../external.html?link=https://avatars1.githubusercontent.com/u/50278627?v=2&amp;s=96" class="thumbnail onebox-avatar" width="420" height="420">
</a>

<h4><a href="../../../external.html?link=https://github.com/systemd/systemd/issues/12506" target="_blank" rel="nofollow noopener">Issue: /etc/fstab.d</a></h4>

<div class="date" style="margin-top:10px;">
	<div class="user" style="margin-top:10px;">
	opened by <a href="../../../external.html?link=https://github.com/madaidan" target="_blank" rel="nofollow noopener">madaidan</a>
	on <a href="../../../external.html?link=https://github.com/systemd/systemd/issues/12506" target="_blank" rel="nofollow noopener">2019-05-07</a>
	</div>
	<div class="user">
	</div>
</div>

<pre class="content" style="white-space: pre-wrap;">Hi,
As part of the hardening of an anonymity focused operating system called Whonix, we need to add different mount options for...</pre>

<div class="labels">
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-post="39" data-topic="7296">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>(And if we‚Äôre lucky, they‚Äôll tell us ‚Äúthat‚Äôs already possibly doing xyz‚Äù.)</p>
</blockquote>
</aside>
<p>That would be great if it is.</p>
        </div>

        <meta itemprop='headline' content='Kernel Hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="7296.html">‚Üê previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="72969ba9.html?page=3">next page ‚Üí</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
