<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>tor-ctrl - Tor control port command line tool - #6 by nyxnor - Development - Whonix Forum</title>
    <meta name="description" content="I found the tor-ctrl an awesome tool and implemented most of the changes you wanted from above.  Also implemented a way to use setevents, see examples directory for listing circuit path or even streams organized and showing the final target.  my fork is on github and has the same name, I can’t include links.  -a is removed and the cookie file is discovered by sending PROTOCOLINFO to the controller.  -c command be avoided not implemented  -f removed  sleep 1 if the program used is telnet, else fo...">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../8074.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;tor-ctrl - Tor control port command line tool&#39;" href="../8074.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/tor-ctrl-tor-control-port-command-line-tool/8074/6" />
<meta name="twitter:url" content="https://forums.whonix.org/t/tor-ctrl-tor-control-port-command-line-tool/8074/6" />
<meta property="og:title" content="tor-ctrl - Tor control port command line tool" />
<meta name="twitter:title" content="tor-ctrl - Tor control port command line tool" />
<meta property="og:description" content="I found the tor-ctrl an awesome tool and implemented most of the changes you wanted from above.  Also implemented a way to use setevents, see examples directory for listing circuit path or even streams organized and showing the final target.  my fork is on github and has the same name, I can’t include links.  -a is removed and the cookie file is discovered by sending PROTOCOLINFO to the controller.  -c command be avoided not implemented  -f removed  sleep 1 if the program used is telnet, else fo..." />
<meta name="twitter:description" content="I found the tor-ctrl an awesome tool and implemented most of the changes you wanted from above.  Also implemented a way to use setevents, see examples directory for listing circuit path or even streams organized and showing the final target.  my fork is on github and has the same name, I can’t include links.  -a is removed and the cookie file is discovered by sending PROTOCOLINFO to the controller.  -c command be avoided not implemented  -f removed  sleep 1 if the program used is telnet, else fo..." />
<meta property="article:published_time" content="2022-01-09T17:07:29+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="../80744658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../8074.html">tor-ctrl - Tor control port command line tool</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/iamwho'><span itemprop='name'>iamwho</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-10T05:07:06Z' class='post-time'>
                September 10, 2019,  5:07am
              </time>
              <meta itemprop='dateModified' content='2019-09-10T05:17:19Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I was thinking of using tor-ctrl SETEVENTS GUARD but figuring out exactly what to do on what events would require a lot of testing.<br>
GETINFO entry-guards shows 3 ‘up’ out of 20. When I reboot in immutable mode it’s the same 3 but it seems to favor a different guard for most circuits according to GETINFO circuit-status.</p>
<p>Anyway, tor-ctrl (or something) should have a socat dependency since it’s somehow not installed on Whonix-Gateway-CLI.<br>
I added a monitor mode to tor-ctrl where it does not exit but simply continues to output events. Something like<br>
<a href="../../../../external.html?link=https://pastebin.com/83RLKxHi" class="onebox" target="_blank" rel="nofollow noopener">https://pastebin.com/83RLKxHi</a></p>
<pre><code class="lang-auto">100a101,104
&gt;        [-w]           = wait instead of exiting after command
&gt;                         default: not set
&gt;                         notice: implies verbose. Useful with SETEVENTS.
&gt; 
146c150,154
&lt;         sendcmd "QUIT"
---
&gt;         if [ -z "$WAIT" ]; then
&gt;                 sendcmd "QUIT"
&gt;         else
&gt;                 while sleep 3600; do :; done
&gt;         fi
159,163c167,174
&lt;         STR="$(cat)"
&lt;         vecho "$STR"
&lt; 
&lt;         echo "$STR" | if [ "$(grep -c ^"250 ")" = 3 ]; then
&lt;                 exit 0
---
&gt;         if [ -z "$WAIT" ]; then
&gt;                 STR="$(cat)"
&gt;                 vecho "$STR"
&gt;                 echo "$STR" | if [ "$(grep -c ^"250 ")" = 3 ]; then
&gt;                         exit 0
&gt;                 else
&gt;                         exit 1
&gt;                 fi
165c176
&lt;                 exit 1
---
&gt;                 cat
179c190
&lt; while getopts ":a:c:s:p:P:f:vh" Option
---
&gt; while getopts ":a:c:s:p:P:f:vwh" Option
188a200
&gt;                 w) WAIT=1;;
194c206
&lt; if [ -e "$FILE" ]; then
---
&gt; if [ -e "$FILE" -o "$FILE" = "-" ]; then</code></pre>
<p>I don’t know what the option should be called, wait? filepipe could also wait but the user can keep the pipe open to work around that. I don’t know an elegant way of not exiting in cmdpipe. And piping to cat is inefficient but?</p>
<p>Posting here since I see Patrick is the maintainer and the website listed in the script doesn’t exist.</p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../consolidating-whonix-packages/1945/2.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../consolidating-whonix-packages/1945/2.html'>
                      <span itemprop='name'>consolidating Whonix packages</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../synchronizing-guard-nodes/8029/8.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../synchronizing-guard-nodes/8029/8.html'>
                      <span itemprop='name'>Synchronizing guard nodes</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../whonix-16-0-4-2-for-virtualbox-point-release/13358.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../whonix-16-0-4-2-for-virtualbox-point-release/13358.html'>
                      <span itemprop='name'>Whonix 16.0.4.2 - for VirtualBox - Point Release!</span>
                    </a>
                    <meta itemprop='position' content='4'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-10T06:15:12Z' class='post-time'>
                September 10, 2019,  6:15am
              </time>
              <meta itemprop='dateModified' content='2019-09-10T06:15:12Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../../external.html?link=https://github.githubassets.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../../external.html?link=https://github.com/Whonix/tor-ctrl" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/4500165?s=400&amp;amp;v=4" class="thumbnail" width="" height="">

<h3><a href="../../../../external.html?link=https://github.com/Whonix/tor-ctrl" target="_blank" rel="nofollow noopener">Whonix/tor-ctrl</a></h3>

<p>Tor control port command line tool. Contribute to Whonix/tor-ctrl development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-10T06:18:11Z' class='post-time'>
                September 10, 2019,  6:18am
              </time>
              <meta itemprop='dateModified' content='2019-09-10T06:18:11Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/tor-ctrl/commit/9ff66c2b76d1c46dee4edda540da9e997bccad88" target="_blank" rel="nofollow noopener">github.com/Whonix/tor-ctrl</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/tor-ctrl/commit/9ff66c2b76d1c46dee4edda540da9e997bccad88" target="_blank" rel="nofollow noopener">depend on socat</a>
</h4>

  <pre class="message" style="white-space: normal;">https://forums.whonix.org/t/tor-ctrl-tor-control-port-command-line-tool/8074</pre>

<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/tor-ctrl/commit/9ff66c2b76d1c46dee4edda540da9e997bccad88" target="_blank" rel="nofollow noopener">06:17AM - 10 Sep 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-10T06:28:10Z' class='post-time'>
                September 10, 2019,  6:28am
              </time>
              <meta itemprop='dateModified' content='2019-09-10T06:28:10Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>No more upstream indeed.</p>
<p>Yes, tor-ctrl could use some love. Didn’t work on it much since no one ever cared about it. So even considered deprecation.</p>
<p>Documentation <a href="../../../../external.html?link=https://www.whonix.org/wiki/Tor_Controller#tor-ctrl" rel="nofollow noopener">https://www.whonix.org/wiki/Tor_Controller#tor-ctrl</a> currently is needlessly complicated due to deficencies of the script</p>
<pre><code>tor-ctrl -a /var/run/tor/control.authcookie -c "signal newnym"
</code></pre>
<ul>
<li>
<code>-a /var/run/tor/control.authcookie</code> could be avoided by using Tor auth cookie authentication by default.</li>
<li>
<code>-c</code> could be the default (and then <code>-c</code> switch could be avoided).</li>
<li>
<code>-f</code> file does not seem important. Could be removed. And if needed, better to invent a wrapper around it.</li>
<li>
<code>SLEEP_AFTER_CMD=1</code> - if we use <code>sleep</code> it means we didn’t figure out a proper event based flow.</li>
<li>Tor <code>ControlPort</code> support should be deprecated for code simplification. Debian <code>tor</code> package nowadays sets up Tor <code>ControlSocket</code> by default. No more need to use <code>ControlPort</code>. Then we could remove all references to <code>telnet</code> and the dependency on <code>telnet</code>.</li>
<li>I never tested <code>SETEVENTS</code> / long running sessions. If you can make that work, cool.</li>
</ul>
<p>Help welcome.</p>
<aside class="quote no-group" data-post="1" data-topic="8074">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>I don’t know what the option should be called, wait?</p>
</blockquote>
</aside>
<p>Is ok.</p>
<aside class="quote no-group" data-post="1" data-topic="8074">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>And piping to cat is inefficient but?</p>
</blockquote>
</aside>
<p>I don’t think efficiency (as in speed) is important here?</p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-04-02T21:33:16Z' class='post-time'>
                April 2, 2020,  9:33pm
              </time>
              <meta itemprop='dateModified' content='2020-04-02T21:33:16Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Deprecated tor-ctrl just now.</p>
<p>(Removed from <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/tree/master/packages">https://github.com/Whonix/Whonix/tree/master/packages</a> .)</p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-09T17:07:29Z' class='post-time'>
                January 9, 2022,  5:07pm
              </time>
              <meta itemprop='dateModified' content='2022-01-09T17:07:29Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I found the tor-ctrl an awesome tool and implemented most of the changes you wanted from above.</p>
<p>Also implemented a way to use setevents, see examples directory for listing circuit path or even streams organized and showing the final target.</p>
<p>my fork is on github and has the same name, I can’t include links.</p>
<p><code>-a</code> is removed and the cookie file is discovered by sending <code>PROTOCOLINFO</code> to the controller.<br>
<code>-c</code> command be avoided not implemented<br>
<code>-f</code> removed<br>
<code>sleep 1</code> if the program used is telnet, else for <code>socat</code> and <code>nc/netcat</code> sleep 0 by default. Sleep time can till be set with the <code>-t [time]</code> option.<br>
<code>tor's socket</code> can be used for tcp or for unix domain, format is [addr:]port or [unix:]path. If none is presented, fallback to 9051, which although debian default is /run/tor/control, I made the script to be portable and not depend on debian an bash, but this can be easily fixed on one line<br>
setevents must be used with <code>-w</code> to await for user confirmation with an enter</p>
<p>Also, I don’t understand why it is not supported upstream just because it has a default path to ControlSocket? I see that as a gain to not specify one more thing on debian systems.</p>
<p>For now, I removed the deficencies on the script, so no need to specify anymore the cookie file path, the time and it is verbose by default, quiet <code>-q</code> only if you want.</p>
<p>The main thing is missing for me is SAFECOOKIE option to authenticate, which avoids leakage that happens with COOKIE and HASHEDPASSWORD.</p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../more-secure-shell-version-in-whonix-experimental-ash-reduced-attack-surface/15825/15.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../more-secure-shell-version-in-whonix-experimental-ash-reduced-attack-surface/15825/15.html'>
                      <span itemprop='name'>more secure shell version in whonix experimental - ash - reduced attack surface</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-10T11:58:03Z' class='post-time'>
                January 10, 2022, 11:58am
              </time>
              <meta itemprop='dateModified' content='2022-01-10T11:58:03Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Nice!</p>
<p>Does it work in Whonix?</p>
<hr>
<p>man page: <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/blob/master/man/tor-ctrl.8#L1">https://github.com/nyxnor/tor-ctrl/blob/master/man/tor-ctrl.8#L1</a> - if created from markdown to pandoc, could you please share the original markdown too?</p>
<p>Whonix example:</p>
<ul>
<li>we share the original markdown file as hopefully well written, easy to understand source file - <a href="../../../../external.html?link=https://github.com/Whonix/sdwdate/blob/master/man/sdwdate.8.ronn">https://github.com/Whonix/sdwdate/blob/master/man/sdwdate.8.ronn</a>
</li>
<li>and auto generate the <code>.roff</code> using <code>ronn</code>- <a href="../../../../external.html?link=https://github.com/Whonix/sdwdate/blob/master/auto-generated-man-pages/sdwdate.8">https://github.com/Whonix/sdwdate/blob/master/auto-generated-man-pages/sdwdate.8</a>
</li>
</ul>
<aside class="quote no-group" data-username="nyxnor" data-post="6" data-topic="8074">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p><code>-c</code> command be avoided not implemented</p>
</blockquote>
</aside>
<p>Still found here in <code>usage</code> function: <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/blob/master/bin/tor-ctrl#L60">https://github.com/nyxnor/tor-ctrl/blob/master/bin/tor-ctrl#L60</a></p>
<p>Also <code>-c</code> is documented under usage: <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl#usage">https://github.com/nyxnor/tor-ctrl#usage</a></p>
<p>How would it be used without <code>-c</code>?</p>
<aside class="quote no-group" data-username="nyxnor" data-post="6" data-topic="8074">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>Also, I don’t understand why it is not supported upstream just because it has a default path to ControlSocket?</p>
</blockquote>
</aside>
<p>Upstream by the usual definition as I understand it used in the Open Source ecosystem means the (original) developer / maintainer. There is no upstream for tor-ctrl. The original developer hasn’t been seen in years. Deprecated upstream means that the original developer vanished. There is no contact person upstream to accept bug reports, implement fixes or feature requests. It’s dead source code until a new maintainer steps up and becomes the new upstream.</p>
<p>Whonix by definition is a Linux distribution downstream from its upstream projects such as Debian. The Tor Project. tor-ctrl.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="6" data-topic="8074">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>I can’t include links.</p>
</blockquote>
</aside>
<p>Now possible.<br>
(<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices#Posting_Links_for_New_Users">Posting Links for New Users</a>)</p>
<aside class="quote no-group" data-username="nyxnor" data-post="6" data-topic="8074">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>my fork is on github and has the same name</p>
</blockquote>
</aside>
<aside class="onebox githubfolder">
  <header class="source">
      <img src="../../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="15" height="15">

      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <img src="../../../../external.html?link=https://opengraph.githubassets.com/b7c4814c15d328358dba594ae32d83b2d04d1a43c55f08b4ca0a9bff022e3851/nyxnor/tor-ctrl" class="thumbnail onebox-full-image" width="60" height="60">

<h3><a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl" target="_blank" rel="noopener">GitHub - nyxnor/tor-ctrl: Raw use of tor's controller</a></h3>


  <p><span class="label1">Raw use of tor's controller. Contribute to nyxnor/tor-ctrl development by creating an account on GitHub.</span></p>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-10T14:04:20Z' class='post-time'>
                January 10, 2022,  2:04pm
              </time>
              <meta itemprop='dateModified' content='2022-01-10T14:04:20Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p>Does it work in Whonix?</p>
</blockquote>
<p>Valid question, will test today, but so far I don’t see why not, nothing extravagant.</p>
<p>Markdown manpage is on docs folder <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/blob/master/docs/tor-ctrl.8.md" rel="noopener nofollow ugc">https://github.com/nyxnor/tor-ctrl/blob/master/docs/tor-ctrl.8.md</a></p>
<blockquote>
<p>How would it be used without -c?</p>
</blockquote>
<p>I did not remove it yet but to do that, I would not use getpots, I can make a hacky getopts for short options and assign the last <code>$#</code> to the command, so the command would be fixed as the last option to be shifted.</p>
<p>Or something like this <a href="../../../../external.html?link=https://stackoverflow.com/questions/18079340/using-getopt-in-c-with-non-option-arguments" class="inline-onebox" rel="noopener nofollow ugc">Using getopt in C with non-option arguments - Stack Overflow</a> but for shell, not c.</p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-10T20:30:38Z' class='post-time'>
                January 10, 2022,  8:30pm
              </time>
              <meta itemprop='dateModified' content='2022-01-10T20:30:38Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>deleted the post cause it was unrelated to tor-ctrl, it was related to vitor.</p>
<p>Tested on whonix-gateway with socat, it worked.</p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-10T21:52:57Z' class='post-time'>
                January 10, 2022,  9:52pm
              </time>
              <meta itemprop='dateModified' content='2022-01-10T21:52:57Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>removed the <strong>-c</strong>, but command must be the last positional argument.<br>
it cant be in the middle because getopts would stop parsing there and not consider arguments after it, and that is not desired.</p>
<aside class="onebox githubcommit">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/commit/73c5ae0a5f87cc2d9e856fa2346f4f38a8858dd6" target="_blank" rel="noopener nofollow ugc">github.com/nyxnor/tor-ctrl</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/commit/73c5ae0a5f87cc2d9e856fa2346f4f38a8858dd6" target="_blank" rel="noopener nofollow ugc">make *-c* an optional option if command is the last positional argument</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2022-01-10" data-time="21:48:04" data-timezone="UTC">09:48PM - 10 Jan 22 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/nyxnor" target="_blank" rel="noopener nofollow ugc">
          <img alt="nyxnor" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>

      <div class="lines" title="changed 5 files with 34 additions and 21 deletions">
        <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/commit/73c5ae0a5f87cc2d9e856fa2346f4f38a8858dd6" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+34</span>
          <span class="removed">-21</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">if the command was in the middle and not preceded by the -c, getopts would exit <span class="show-more-container"><a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/commit/73c5ae0a5f87cc2d9e856fa2346f4f38a8858dd6" target="_blank" rel="noopener nofollow ugc" class="show-more">…</a></span><span class="excerpt hidden">there and not parse options after it, which is not what we want. By making it the last positional argument, we avoid that error.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-11T16:55:53Z' class='post-time'>
                January 11, 2022,  4:55pm
              </time>
              <meta itemprop='dateModified' content='2022-01-11T16:55:53Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Is getopts really necessary?</p>
<p>Might be a lot simpler. Example:</p>
<pre><code class="lang-auto">   ## Thanks to:
   ## http://mywiki.wooledge.org/BashFAQ/035

   while :
   do
       case $1 in
           -h | --help | -\?)
               help_cli
               EXIT_CODE="0"
               cleanup
               return 0
               ;;
           -v | --verbose)
               verbose="$(( $verbose + 1 ))"
               shift
               ;;
           -e | --debug)
               echo "$SCRIPTNAME debug output..."
               echo "Script running as $(whoami)"
               set -x
               CURL_VERBOSE=""
               shift
               ;;
           -f | --function)
               FUNCTION="$2"
               if [ "$FUNCTION" = "" ]; then
                  FUNCTION="none"
                  shift
               else
                  shift 2
               fi
               ;;
           -f | --mode)
               MODE="$2"
               shift 2
               ;;
           -m | --minimal)
               MINIMAL="1"
               shift
               ;;
           --)
               shift
               break
               ;;
           -*)
               echo "$SCRIPTNAME unknown option: $1" &gt;&amp;2
               EXIT_CODE="1"
               cleanup "1"
               return 0
               ;;
           *)
               break
               ;;
       esac
   done
   
   ## If there are input files (for example) that follow the options, they
   ## will remain in the "$@" positional parameters.
</code></pre>
<p>After all the parameters could use:</p>
<blockquote>
<p><code>--</code></p>
</blockquote>
<p>I.e.</p>
<blockquote>
<p><code>tor-ctrl --one --two --three -- command</code></p>
</blockquote>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-11T19:02:43Z' class='post-time'>
                January 11, 2022,  7:02pm
              </time>
              <meta itemprop='dateModified' content='2022-01-11T19:02:43Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>happy to see some interest on tor-ctrl and if there is interest in long options without getopt which is limited, I can do that, or specify directly the benefits so I can make the changes.</p>
<hr>
<p>The method above would have the same result as with getopts as <code>--</code> would stop parsing every option after it, making the <code>command</code> the last option again. The only thing that would change is using long options?<br>
With the changes made to the commit posted above, you don’t even need to put <code>--</code> to stop option parsing, you can call tor-ctrl:</p>
<pre><code class="lang-auto">tor-ctrl -q -t 2 "GETCONF User"
tor-ctrl -q -t 2 -c "GETCONF User"
tor-ctrl -q -c "GETCONF User" -t 2
</code></pre>
<p>Maybe the benefit of the example you gave above is that shifting all the options and arguments and stop parsing with <code>--</code>, and getting the command with <code>$@</code> would mean that the command does not have to be quoted anymore.</p>
<hr>
<p>But using a custom getopts does not make things easier if you want to avoid syntax mistakes, getopts is not necessary, and it is possible use this hacky getopts I’ve built for another project here <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/a297a0a16bcbc90a009f1d7be95a44d0a049b2ec/bin/onionjuggler-cli#L193" rel="noopener nofollow ugc">https://github.com/nyxnor/onionjuggler/blob/a297a0a16bcbc90a009f1d7be95a44d0a049b2ec/bin/onionjuggler-cli#L193</a></p>
<p>The benefit is that it would parse arguments that begin with <code>-</code> which should be reserved for options (that fix is not applied on the method posted above nor in getopts).</p>
<p>It also can interpret short and long options as well as --option=arg.<br>
<code>-s socket</code>, <code>-s=socket</code>, <code>--socket socket</code>, <code>--socket=socket</code>.</p>
<p>but it option requires an argument and the argument begins with <code>-</code> it will fail, example: <code>-s -v</code></p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-11T21:35:00Z' class='post-time'>
                January 11, 2022,  9:35pm
              </time>
              <meta itemprop='dateModified' content='2022-01-11T21:35:00Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>As for long vs short options, I don’t have a strong opinion. In the wiki and Whonix source code I try to use long options since these are usually easier to understand by users, “less magic”. Maybe it’s also because I don’t really understand yet why getopts would be needed at all. Ideally, none or needed or just in special cases.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="13" data-topic="8074">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>Maybe the benefit of the example you gave above is that shifting all the options and arguments and stop parsing with <code>--</code>, and getting the command with <code>$@</code> would mean that the command does not have to be quoted anymore.</p>
</blockquote>
</aside>
<p>Yes, I was thinking that. No more need for quotes. Which should it make a lot simpler if the command to be sent to Tor’s control protocol itself would include quotes. That avoid the need to have to double quote things.</p>
<hr>
<p>To permit the new tor-ctrl to be pre-installed in Whonix, would it be possible to change to format to the same as used for <a href="../../../../external.html?link=https://github.com/adrelanos/tor-ctrl">https://github.com/adrelanos/tor-ctrl</a> (same as other packages under <a href="../../../../external.html?link=http://github.com/Whonix">github.com/Whonix</a>)?</p>
<p>As for your <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/tree/master/examples">examples</a>, these seem to great to be just an “example”. Could also be part of the /usr/bin folder and just be part of the tor-ctrl package.</p>
<p>What would also be cool would be Tor settings auto detection or Whonix auto detection. i.e. just type for example in short in the command line</p>
<pre><code>tor-ctrl signal newnym
</code></pre>
<p>and it just works.</p>
<p>Seems like could soon be worth it to re-vitalize tor-ctrl and re-install by default in Whonix now that there is a new upstream. <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-12T01:29:54Z' class='post-time'>
                January 12, 2022,  1:29am
              </time>
              <meta itemprop='dateModified' content='2022-01-12T01:29:54Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p>Yes, I was thinking that. No more need for quotes. Which should it make a lot simpler if the command to be sent to Tor’s control protocol itself would include quotes. That avoid the need to have to double quote things.</p>
</blockquote>
<p>No double quotes is the next goal.</p>
<blockquote>
<p>To permit the new tor-ctrl to be pre-installed in Whonix, would it be possible to change to format to the same as used for <a href="../../../../external.html?link=https://github.com/adrelanos/tor-ctrl" rel="noopener nofollow ugc">https://github.com/adrelanos/tor-ctrl</a> (same as other packages under <a href="../../../../external.html?link=http://github.com/Whonix" rel="noopener nofollow ugc">github.com/Whonix</a>)?</p>
</blockquote>
<p>Yes, I can change the directory structure.</p>
<blockquote>
<p>What would also be cool would be Tor settings auto detection or Whonix auto detection. i.e. just type for example in short in the command line</p>
</blockquote>
<p>If user uses CookieAuthentication, the only remaining option to specify is the socket, which on debian and whonix is /run/tor/control, so for this, used some default variable names from here <a href="../../../../external.html?link=https://github.com/Whonix/anon-gw-anonymizer-config/blob/0311c382dc74ec25eb777dbac0917829cbdc358a/usr/bin/anon-verify#L71" rel="noopener nofollow ugc">https://github.com/Whonix/anon-gw-anonymizer-config/blob/0311c382dc74ec25eb777dbac0917829cbdc358a/usr/bin/anon-verify#L71</a><br>
to auto-detect the control socket (ControlPort/ControlSocket):</p>
<pre><code class="lang-auto">tor_control_detection(){
  ## TODO: fix posix
  ## grep options '-o' and '-h' are not posix, but present on Debian and OpenBSD so making an excuse

  ## minimal check for tor service manager file
  if test -f /lib/systemd/system/tor@default.service; then
    tor_start_command="$(grep "ExecStart=" /lib/systemd/system/tor@default.service | sed s/ExecStart=//g)"
    default_torrc="$(printf '%s\n' "${tor_start_command}" | grep -o -- "--defaults-torrc [^ ]*")"
    f_torrc="$(printf '%s\n' "${tor_start_command}" | grep -o -- "-f [^ ]*")"
  fi

  ## don't evaluate the result of verify-config as it will fail if not running as root or the tor user
  ## if 'f_torrc' is empty, tor will try: Default: @CONFDIR@/torrc, or $HOME/.torrc if that file is not found
  ## if 'default_torrc' is empty, tor will try: Default: @CONFDIR@/torrc-defaults.
  # shellcheck disable=SC2086
  result="$(tor --verify-config ${default_torrc} ${f_torrc} | grep -oE " Read configuration file [^ ]*| Including configuration file [^ ]*" | cut -d " " -f5 | sed "s/\"//;s/\"\.//")"

  ## only one option is needed, use head
  # shellcheck disable=SC2086
  tor_control_socket_alternative="$(grep -oEh "^ControlPort [^ ]*|^ControlSocket [^ ]*" ${result} | cut -d " " -f2 | sed "s/\"//g;s/unix\://" | head -n 1)"

  ## only modify 'tor_control_socket' if it is not empty, meaning not inserted as a cli option
  : "${tor_control_socket:="${tor_control_socket_alternative}"}"
}
</code></pre>
<p>this function is called and it will detect <code>tor_control_socket=/run/tor/control</code> on Whonix and Debian of course, if the variable is still empty, last resort is 127.0.0.1:9051 later on the script.</p>
<blockquote>
<p>Seems like could soon be worth it to re-vitalize tor-ctrl and re-install by default in Whonix now that there is a new upstream. <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
<p>hehe, would be glad</p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-12T22:09:09Z' class='post-time'>
                January 12, 2022, 10:09pm
              </time>
              <meta itemprop='dateModified' content='2022-01-13T01:20:39Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>never did a debian package, should I just “copy” the files from here <a href="../../../../external.html?link=https://github.com/adrelanos/tor-ctrl/tree/master/debian" rel="noopener nofollow ugc">https://github.com/adrelanos/tor-ctrl/tree/master/debian</a>  ?</p>
<p>Edit:</p>
<p>learning <a href="../../../../external.html?link=https://www.whonix.org/wiki/Template:Build_Documentation_Build_Package" class="inline-onebox" rel="noopener nofollow ugc">Template:Build Documentation Build Package - Whonix</a></p>
<p>Edit:</p>
<p>just letting you know that it is not needed anymore to double quote commands <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p><aside class="onebox githubcommit">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/commit/a81848377d3c2588a91011a0308684d10f86a8ca" target="_blank" rel="noopener nofollow ugc">github.com/nyxnor/tor-ctrl</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/commit/a81848377d3c2588a91011a0308684d10f86a8ca" target="_blank" rel="noopener nofollow ugc">remove necessity to quote commands if they are the only or last options, or after '--'.</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2022-01-12" data-time="02:21:51" data-timezone="UTC">02:21AM - 12 Jan 22 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/nyxnor" target="_blank" rel="noopener nofollow ugc">
          <img alt="nyxnor" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>

      <div class="lines" title="changed 4 files with 67 additions and 33 deletions">
        <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/commit/a81848377d3c2588a91011a0308684d10f86a8ca" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+67</span>
          <span class="removed">-33</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Edit:</p>
<p>built the debian package<br>
is this ok <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/blob/d1711c5f5e279de8c2f3485f6e8344bcf0527fbc/COPYING#L5" rel="noopener nofollow ugc">https://github.com/nyxnor/tor-ctrl/blob/d1711c5f5e279de8c2f3485f6e8344bcf0527fbc/COPYING#L5</a>  ?</p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-13T08:40:38Z' class='post-time'>
                January 13, 2022,  8:40am
              </time>
              <meta itemprop='dateModified' content='2022-01-13T08:40:38Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Didn’t test yet but looks really good!</p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-15T20:10:16Z' class='post-time'>
                January 15, 2022,  8:10pm
              </time>
              <meta itemprop='dateModified' content='2022-01-15T20:10:16Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Would be really helpful if this could be merged.</p>
<aside class="onebox githubpullrequest">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/pull/8/files" target="_blank" rel="noopener">github.com/nyxnor/tor-ctrl</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/pull/8" target="_blank" rel="noopener">add new lines at the end</a>
    </h4>

    <div class="branches">
      <code>nyxnor:master</code> ← <code>Whonix:master</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-01-15" data-time="19:41:52" data-timezone="UTC">07:41PM - 15 Jan 22 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="6 commits changed 12 files with 193 additions and 633 deletions">
        <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/pull/8/files" target="_blank" rel="noopener">
          <span class="added">+193</span>
          <span class="removed">-633</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>It’s more than new lines. I am not a big fan of perfect git commit messages. Hope it’s OK as is.</p>
<p>It’s just minor stuff. Not trying to nitpick That stuff comes from Debian’s <code>lintian</code>. (Except for the new lines at the end.)</p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-15T20:20:34Z' class='post-time'>
                January 15, 2022,  8:20pm
              </time>
              <meta itemprop='dateModified' content='2022-01-15T20:20:34Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubissue">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/issues/9" target="_blank" rel="noopener">github.com/nyxnor/tor-ctrl</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/issues/9" target="_blank" rel="noopener">hangs in Whonix-Workstation</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-01-15" data-time="20:20:24" data-timezone="UTC">08:20PM - 15 Jan 22 UTC</span>
      </div>


      <div class="user">
        <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">```
bash -x tor-ctrl SIGNAL newnym
```

```
+ me=tor-ctrl
+ :
+ case "${1<span class="show-more-container"><a href="#" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">}" in
+ opt=SIGNAL
+ case "${opt}" in
+ break
+ : 0
+ : 0
+ : 0
+ '[' 0 -eq 1 ']'
+ : 'SIGNAL newnym'
+ '[' -n 'SIGNAL newnym' ']'
++ printf '%sSIGNAL newnym\n'
++ sed 's|^ ||'
+ cmd_cli='SIGNAL newnym'
+ check_progs
+ prog_net='nc netcat socat telnet'
+ for n in ${prog_net}
+ has nc
++ command -v nc
+ _cmd=
+ return 1
+ for n in ${prog_net}
+ has netcat
++ command -v netcat
+ _cmd=
+ return 1
+ for n in ${prog_net}
+ has socat
++ command -v socat
+ _cmd=/usr/bin/socat
+ '[' -x /usr/bin/socat ']'
+ socket_prog=socat
+ break
+ '[' -z socat ']'
+ case "${socket_prog##*/}" in
+ : 0
+ '[' -z '' ']'
+ get_socket
+ test -f /lib/systemd/system/tor@default.service
++ grep ExecStart= /lib/systemd/system/tor@default.service
++ sed s/ExecStart=//g
+ tor_start_command='/usr/bin/tor --defaults-torrc /usr/share/tor/tor-service-defaults-torrc -f /etc/tor/torrc --RunAsDaemon 0'
++ printf '%s\n' '/usr/bin/tor --defaults-torrc /usr/share/tor/tor-service-defaults-torrc -f /etc/tor/torrc --RunAsDaemon 0'
++ sed 's/.*--defaults-torrc //'
++ cut -d ' ' -f1
++ grep -- ' --defaults-torrc [^ ]*'
+ default_torrc=/usr/share/tor/tor-service-defaults-torrc
+ '[' -n /usr/share/tor/tor-service-defaults-torrc ']'
++ printf '%s\n' '--defaults-torrc /usr/share/tor/tor-service-defaults-torrc'
+ default_torrc='--defaults-torrc /usr/share/tor/tor-service-defaults-torrc'
++ sed 's/.*-f //'
++ cut -d ' ' -f1
++ printf '%s\n' '/usr/bin/tor --defaults-torrc /usr/share/tor/tor-service-defaults-torrc -f /etc/tor/torrc --RunAsDaemon 0'
++ grep -- ' -f [^ ]*'
+ f_torrc=/etc/tor/torrc
+ '[' -n /etc/tor/torrc ']'
++ printf '%s\n' '-f /etc/tor/torrc'
+ f_torrc='-f /etc/tor/torrc'
++ tor --verify-config --defaults-torrc /usr/share/tor/tor-service-defaults-torrc -f /etc/tor/torrc
++ sed 's/"//;s/"\.//'
++ awk '{print $NF}'
++ grep -E ' Read configuration file [^ ]*| Including configuration file [^ ]*'
````

```
cat /usr/share/tor/tor-service-defaults-torrc
```

```
DataDirectory /var/lib/tor
PidFile /run/tor/tor.pid
RunAsDaemon 1
User debian-tor

ControlSocket /run/tor/control GroupWritable RelaxDirModeCheck
ControlSocketsGroupWritable 1
SocksPort unix:/run/tor/socks WorldWritable
SocksPort 9050

CookieAuthentication 1
CookieAuthFileGroupReadable 1
CookieAuthFile /run/tor/control.authcookie

Log notice syslog
```</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-15T20:50:51Z' class='post-time'>
                January 15, 2022,  8:50pm
              </time>
              <meta itemprop='dateModified' content='2022-01-15T20:50:51Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubissue">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/issues/10" target="_blank" rel="noopener">github.com/nyxnor/tor-ctrl</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/issues/10" target="_blank" rel="noopener">unexpected exit code `1` when running inside Whonix-Workstation</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-01-15" data-time="20:47:52" data-timezone="UTC">08:47PM - 15 Jan 22 UTC</span>
      </div>


      <div class="user">
        <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">```
tor-ctrl -d signal NEWNYM
```

```
+ : signal NEWNYM
+ [ -n signal NEW<span class="show-more-container"><a href="#" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">NYM ]
+ printf %ssignal NEWNYM\n
+ sed s|^ ||
+ cmd_cli=signal NEWNYM
+ check_progs
+ prog_net=nc netcat socat telnet
+ has nc
+ _cmd=
+ return 1
+ has netcat
+ _cmd=
+ return 1
+ has socat
+ _cmd=/usr/bin/socat
+ [ -x /usr/bin/socat ]
+ socket_prog=socat
+ break
+ [ -z socat ]
+ : 0
+ [ -z  ]
+ get_socket
+ test -f /lib/systemd/system/tor@default.service
+ grep ExecStart= /lib/systemd/system/tor@default.service
+ sed s/ExecStart=//g
+ tor_start_command=/usr/bin/tor --defaults-torrc /usr/share/tor/tor-service-defaults-torrc -f /etc/tor/torrc --RunAsDaemon 0
+ printf %s\n /usr/bin/tor --defaults-torrc /usr/share/tor/tor-service-defaults-torrc -f /etc/tor/torrc --RunAsDaemon 0
+ sed s/.*--defaults-torrc //
+ cut -d   -f1
+ grep --  --defaults-torrc [^ ]*
+ default_torrc=/usr/share/tor/tor-service-defaults-torrc
+ [ -n /usr/share/tor/tor-service-defaults-torrc ]
+ printf %s\n --defaults-torrc /usr/share/tor/tor-service-defaults-torrc
+ default_torrc=--defaults-torrc /usr/share/tor/tor-service-defaults-torrc
+ cut -d   -f1
+ sed s/.*-f //
+ grep --  -f [^ ]*
+ printf %s\n /usr/bin/tor --defaults-torrc /usr/share/tor/tor-service-defaults-torrc -f /etc/tor/torrc --RunAsDaemon 0
+ f_torrc=/etc/tor/torrc
+ [ -n /etc/tor/torrc ]
+ printf %s\n -f /etc/tor/torrc
+ f_torrc=-f /etc/tor/torrc
+ tor --verify-config --defaults-torrc /usr/share/tor/tor-service-defaults-torrc -f /etc/tor/torrc
+ grep -E  Read configuration file [^ ]*| Including configuration file [^ ]*
+ awk {print $NF}
+ sed s/"//;s/"\.//
+ tor_config_files=/etc/tor/torrc
+ grep -E ^ControlPort [^ ]*|^ControlSocket [^ ]* /etc/tor/torrc
+ cut -d   -f2
+ sed s/"//g;s/unix\://
+ cut -d : -f2
+ head -n 1
+ tor_control_socket_alternative=
+ tor_control_socket=
+ [ -n  ]
+ tor_control_socket=127.0.0.1:9051
+ get_dry_run
+ [  = 1 ]
+ check_socket
+ socket_type=tcp
+ tor_control_port=9051
+ tor_control_port=9051
+ printf %d 9051
+ [ 9051 -gt 0 ]
+ [ 9051 -le 65535 ]
+ tor_control_host=127.0.0.1
+ [ 127.0.0.1 = 9051 ]
+ printf %s\n 127.0.0.1
+ tr .  
+ printf %d 127
+ [ 127 -ge 0 ]
+ [ 127 -le 255 ]
+ printf %d 0
+ [ 0 -ge 0 ]
+ [ 0 -le 255 ]
+ printf %d 0
+ [ 0 -ge 0 ]
+ [ 0 -le 255 ]
+ printf %d 1
+ [ 1 -ge 0 ]
+ [ 1 -le 255 ]
+ socket_prog_connect=socat TCP:127.0.0.1:9051 -
+ socat TCP:127.0.0.1:9051 /dev/null
+ login
+ send_cmd PROTOCOLINFO
+ printf %s\n PROTOCOLINFO
+ sleep 0
+ grep AUTH
+ socat TCP:127.0.0.1:9051 -
+ send_cmd QUIT
+ printf %s\n QUIT
+ sleep 0
+ auth=
+ printf %s\n 
+ tr , \n
+ sed s/250-AUTH METHODS=//
+ cut -d   -f1
+ auth_methods=
+ printf %s
+ grep -q AUTH METHODS=NULL
+ printf %s\n 
+ grep ^HASHEDPASSWORD$
+ hashedpassword_enabled=
+ printf %s\n 
+ tr -d \r
+ + tr -d "
sed s/.*COOKIEFILE=//
+ tor_cookie=
+ test -r 
+ [ -n  ]
+ safecookie_enabled=
+ [ -n  ]
+ socat TCP:127.0.0.1:9051+ cmd_pipe
+ send_cmd 
+ printf %s\n 
 -
+ sleep 0
+ + send_cmd signal NEWNYM
+ printf %s\n signal NEWNYM
+ sleep 0
finish
+ cat
+ [ 0 -eq 1 ]
+ send_cmd QUIT
+ printf %s\n QUIT
+ sleep 0
+ str=
+ [ 0 -eq 0 ]
+ printf %s\n 

+ grep -c ^250 
+ printf %s\n 
+ [ 0 = 3 ]
+ exit 1
```

It's even working. Here is the excerpt of the onion-grater debug log.
([enabling onion-grater debugging](https://www.whonix.org/wiki/Dev/Control_Port_Filter_Proxy#onion-grater_enable_debug_mode))

```
Jan 15 20:45:18 host onion-grater[1759]: 10.138.33.155:40700 (filter: 30_autogenerated): ignoring received empty (or whitespace-only) line
Jan 15 20:45:18 host onion-grater[1759]: 10.138.33.155:40700 (filter: 30_autogenerated): -&gt; signal NEWNYM
Jan 15 20:45:18 host onion-grater[1759]: 10.138.33.155:40700 (filter: 30_autogenerated): &lt;- 250 OK
Jan 15 20:45:18 host onion-grater[1759]: 10.138.33.155:40700 (filter: 30_autogenerated): -&gt; QUIT
Jan 15 20:45:18 host onion-grater[1759]: 10.138.33.155:40700 (filter: 30_autogenerated): &lt;- 250 closing connection
Jan 15 20:45:18 host onion-grater[1759]: 10.138.33.155:40700 (filter: 30_autogenerated) disconnected: client quit
```

But why does tor-ctrl `exit 1`?</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubissue">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/issues/11" target="_blank" rel="noopener">github.com/nyxnor/tor-ctrl</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/issues/11" target="_blank" rel="noopener">tor-ctrl Tor control protocol violation (sending empty whitespace line)</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-01-15" data-time="20:50:10" data-timezone="UTC">08:50PM - 15 Jan 22 UTC</span>
      </div>


      <div class="user">
        <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">I am not sure this is worth fixing. Not seeing any actual issues resulting from <span class="show-more-container"><a href="#" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">this.

When running tor-ctrl in Whonix-Workstation...

```
tor-ctrl -d signal NEWNYM
```

onion-grater in debug mode shows the following:

&gt; Jan 15 20:45:18 host onion-grater[1759]: 10.138.33.155:40700 (filter: 30_autogenerated): ignoring received empty (or whitespace-only) line

([enabling onion-grater debugging](https://www.whonix.org/wiki/Dev/Control_Port_Filter_Proxy#onion-grater_enable_debug_mode))</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../8074.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-16T19:30:46Z' class='post-time'>
                January 16, 2022,  7:30pm
              </time>
              <meta itemprop='dateModified' content='2022-01-16T19:32:00Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>issue is socat on Whonix, it does not occurs on debian.</p>
<p>report here <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/issues/9#issuecomment-1013928468" rel="noopener nofollow ugc">https://github.com/nyxnor/tor-ctrl/issues/9#issuecomment-1013928468</a></p>
<p>commit here to change dependency <code>s/socat/netcat-openbsd/</code> debian/control</p>
<aside class="onebox githubcommit">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/commit/83071ec54a5675b52f78c1a3f4d89c821b87e877" target="_blank" rel="noopener nofollow ugc">github.com/nyxnor/tor-ctrl</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/commit/83071ec54a5675b52f78c1a3f4d89c821b87e877" target="_blank" rel="noopener nofollow ugc">switch to netcat-openbsd</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2022-01-16" data-time="18:57:03" data-timezone="UTC">06:57PM - 16 Jan 22 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="noopener nofollow ugc">
          <img alt="adrelanos" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 1 files with 1 additions and 1 deletions">
        <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/commit/83071ec54a5675b52f78c1a3f4d89c821b87e877" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+1</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">
https://github.com/nyxnor/tor-ctrl/issues/9</p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>netcat will be found before socat as the script was designed <a href="../../../../external.html?link=https://github.com/nyxnor/tor-ctrl/blob/ab8f9d2b86f84bdc82402112f5bbe282df43e36e/usr/bin/tor-ctrl#L108" rel="noopener nofollow ugc">https://github.com/nyxnor/tor-ctrl/blob/ab8f9d2b86f84bdc82402112f5bbe282df43e36e/usr/bin/tor-ctrl#L108</a></p>
        </div>

        <meta itemprop='headline' content='tor-ctrl - Tor control port command line tool'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="../80744658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
