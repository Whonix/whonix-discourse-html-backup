<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Disk &amp; USB Automount in Kicksecure</title>
    <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728</link>
    <description>I installed debian 10 with netinst and installed without the graphical environment, then I installed kicksecure with xfce with the distro morphing method. I am changing from Linux Mint Debian Edition because I want a more secure host for daily things and to run KVM whonix in.

Sorry if this is really basic but when I plug in my USB or DISK it doesn&#39;t automount, is this a security feature? How can I make my extra disk, USB and external drive automount? Am I missing a package, if so, what debian package would you recommend? Also if automount package creates security problems maybe you can tell me how to just manually mount it as well?

While I am here, I find the session saving annoying and I forgot to uncheck the box the first time I shut down, I always uncheck it now and I deleted the sessions in .cache but it always keeps coming back, how can I make it stop? I think it makes the shutdown very slow, if there is a security reason to keep it though, let me know and I will consider that.

Lastly, I want to say I think Kicksecure is a great idea and I like what I see a lot so far! I will do what I can to report bugs when I see them and will consider contributing later when I have gained more experience as security is an interest of mine. So thanks for making Whonix &amp; Kicksecure, I have used virtualbox whonix for awhile.</description>
    <language>en</language>
    <lastBuildDate>Mon, 18 Jan 2021 08:36:24 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This issue is considered fully resolved until someone reports again this being an issue.</p>
<ul>
<li>We no longer enable <a href="https://www.whonix.org/wiki/Security-misc#hidepid">hidepid</a> by default.</li>
<li>We no longer change anything related to pkexec.</li>
<li>Missing packages are now installed by default.</li>
<li>User reported this being resolved.</li>
<li>Shared folder issue: if still an issue, please post in a separate thread.</li>
</ul>
<p>(Since this was brought up here: <a href="https://forums.whonix.org/t/ledger-nano-s-no-device-found/10934/2" class="inline-onebox">Ledger Nano-S : No device found</a>)</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/31">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/31</link>
        <pubDate>Mon, 18 Jan 2021 08:36:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-31</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>Like everything needs udev. It’s what populates /dev.</p>
<aside class="onebox wikipedia">
  <header class="source">
      <a href="https://en.wikipedia.org/wiki/Udev" target="_blank">en.wikipedia.org</a>
  </header>
  <article class="onebox-body">
    <img src="//upload.wikimedia.org/wikipedia/en/thumb/6/6c/Wiki_letter_w.svg/40px-Wiki_letter_w.svg.png" class="thumbnail" width="" height="">

<h3><a href="https://en.wikipedia.org/wiki/Udev" target="_blank">udev</a></h3>

<p>
 udev (userspace /dev) is a device manager for the Linux kernel. As the successor of devfsd and hotplug, udev primarily manages device nodes in the /dev directory. At the same time, udev also handles all user space events raised when hardware devices are added into the system or removed from it, including firmware loading as required by certain devices.
 It is an operating system's kernel that is responsible for providing an abstract interface of the hardware to the rest of the software. Being a...</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>dmsetup is also likely needed by plenty of stuff.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/30">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/30</link>
        <pubDate>Sat, 04 Apr 2020 16:57:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-30</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/anon-meta-packages/commit/0294536cee78b38bc9f1abd423b1b664a7111e9f" target="_blank">github.com/Whonix/anon-meta-packages</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/anon-meta-packages/commit/0294536cee78b38bc9f1abd423b1b664a7111e9f" target="_blank">add udev and dmsetup to non-qubes-vm-enhancements-cli</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2020-04-04" data-time="16:51:20" data-timezone="UTC">04:51PM - 04 Apr 20 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 1 additions and 0 deletions">
        <a href="https://github.com/Whonix/anon-meta-packages/commit/0294536cee78b38bc9f1abd423b1b664a7111e9f" target="_blank">
          <span class="added">+1</span>
          <span class="removed">-0</span>
        </a>
      </div>
    </div>

  </div>
</div>


  <div class="github-row">
    <pre class="github-content" style="white-space: normal;">https://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/27</pre>
  </div>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/29">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/29</link>
        <pubDate>Sat, 04 Apr 2020 16:53:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-29</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>yes</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/28">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/28</link>
        <pubDate>Sat, 04 Apr 2020 14:02:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-28</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Do we need</p>
<ul>
<li><a href="https://packages.debian.org/buster/udev">https://packages.debian.org/buster/udev</a></li>
<li><a href="https://packages.debian.org/buster/dmsetup">https://packages.debian.org/buster/dmsetup</a></li>
</ul>
<p>?</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/27">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/27</link>
        <pubDate>Fri, 03 Apr 2020 16:22:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-27</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This is done in git master as per <a href="https://forums.whonix.org/t/cannot-access-encrypted-usb-drive-with-thunar-in-whonix-15/8131/9" class="inline-onebox">cannot access encrypted USB drive with Thunar in Whonix 15</a></p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/26">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/26</link>
        <pubDate>Sun, 12 Jan 2020 14:57:48 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-26</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Can we include this in Whonix since anyone who follows best practice would be encrypting their drives?</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/25</link>
        <pubDate>Sun, 12 Jan 2020 13:54:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-25</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>If encrypted disk, then this might help as per <a href="https://forums.whonix.org/t/cannot-access-encrypted-usb-drive-with-thunar-in-whonix-15/8131/9" class="inline-onebox">cannot access encrypted USB drive with Thunar in Whonix 15</a></p>
<pre><code class="lang-auto">sudo apt install libblockdev-crypto2
</code></pre>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/24</link>
        <pubDate>Sat, 11 Jan 2020 13:44:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-24</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[59mpci2GJ5xlHhY]]></dc:creator>
        <description><![CDATA[
            <p>Alright, I will update this thread with better steps after I install kicksecure on another device and get this working from a fresh install again, and I try to narrow down the steps.</p>
<p>But I have to get everything I need working on that device before I install on other device, in particular the shared folders with vm, will make a thread about that now.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/23</link>
        <pubDate>Fri, 10 Jan 2020 04:11:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-23</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Now we need to figure out which steps are required indeed and then document this.</p>
<aside class="quote no-group" data-post="21" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/5/49beb7/40.png" class="avatar"> 59mpci2GJ5xlHhY:</div>
<blockquote>
<p>In terminal: sudo nano /etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/thunar.xml</p>
<p>Line 15 &lt;property name"misc-volume-management" type=“bool” value=“false”/&gt;</p>
</blockquote>
</aside>
<p>Editing /etc/skel does nothing for existing user <code>user</code>. File edits are probably not required. GUI should suffice.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/22</link>
        <pubDate>Thu, 09 Jan 2020 15:46:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-22</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[59mpci2GJ5xlHhY]]></dc:creator>
        <description><![CDATA[
            <p>For anyone who reads this and has the issue I had, I will summarize what I think fixed it.</p>
<aside class="quote no-group" data-post="4" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>thunar-volman manages mounting and is disabled by default in security-misc</p>
</blockquote>
</aside>
<p>Enable thunar-volman</p>
<p>In terminal: sudo nano /etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/thunar.xml</p>
<p>Line 15 &lt;property name"misc-volume-management" type=“bool” value=“false”/&gt;</p>
<p>Change from false to true</p>
<aside class="quote no-group" data-post="17" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Check if gvfs is installed. To install:</p>
<pre><code class="lang-auto">sudo apt install gvfs
</code></pre>
<p>Reboot might be required.</p>
</blockquote>
</aside>
<aside class="quote no-group" data-post="6" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>go to:</p>
<ul>
<li>thunar -&gt; edit -&gt; preferences -&gt; advanced -&gt; check “enable volume management”</li>
<li>thunar -&gt; edit -&gt; preferences -&gt; advanced -&gt; configure -&gt; check the two <code>mount removeable</code> -&gt; close</li>
</ul>
<p>Insert USB device.</p>
</blockquote>
</aside>
<aside class="quote no-group" data-post="17" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also any of these packages might be missing:</p>
<p>default-dbus-session-bus<br>
dbus-session-bus<br>
gvfs<br>
policykit-1-gnome<br>
polkit-1-auth-agent<br>
thunar-volman<br>
tumbler<br>
udisks2<br>
xdg-user-dirs<br>
libcairo-gobject2<br>
libpangocairo-1.0-0<br>
libxfce4panel-2.0-4</p>
</blockquote>
</aside>
<p>If still doesnt work try other things in the thread or:</p>
<aside class="quote no-group" data-post="8" data-topic="8728" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>What you can also try:</p>
<pre><code class="lang-auto">sudo systemctl mask proc-hidepid.service
sudo unlink /usr/bin/pkexec
sudo cp /usr/bin/pkexec.security-misc-orig /usr/bin/pkexec
</code></pre>
<p>Reboot required.</p>
</blockquote>
</aside>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/21</link>
        <pubDate>Wed, 08 Jan 2020 22:38:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-21</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[59mpci2GJ5xlHhY]]></dc:creator>
        <description><![CDATA[
            <p>Was aware of gvfs being a dependency maybe was misunderstood. Redownloaded gvfs, and found tumbler had to be installed, I think policykit-1-gnome and xdg-user-dirs might have also been missing pc shut off unexpectedly due to external factors so I forget if those last two were already installed or not.</p>
<p>Anyhow, tumbler seems to fix the problem that with only gvfs they would show up and not be mountable with a click, error was “not authorized” upon clicking, now it prompts the user sign in and succesfully mounts.</p>
<aside class="quote no-group" data-post="18" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Replace <code>yourusername</code> with your actual user name.</p>
</blockquote>
</aside>
<p>I did, I only pasted it that way here on the thread from the wiki.</p>
<aside class="quote no-group" data-post="19" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>SELinux is a Mandatory Acess Control (MAC) system. You can’t use MAC or SELinux as SELinux <em>is</em> MAC. Kicksecure uses AppArmor for MAC, not SELinux.</p>
</blockquote>
</aside>
<p>Thank you for the clarification</p>
<aside class="quote no-group quote-modified" data-post="15" data-topic="8728" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>59mpci2GJ5xlHhY via Whonix Forum:</p>
<blockquote>
<p>I dont wan’t to pile too much in here</p>
</blockquote>
<p>Yes. Please don’t. It’s inefficient. 1 issue = 1 forum thread.</p>
</blockquote>
</aside>
<p>Apologies</p>
<aside class="quote no-group quote-modified" data-post="16" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<blockquote>
<p>“host tor: New control connection opened”</p>
</blockquote>
<p>See /wiki/Tor#Non-Issues</p>
</blockquote>
</aside>
<p>Alright I assumed to had to do with whonixcheck, but did not expect it to be included in kicksecure.</p>
<ul>
<li>
</li>
</ul>
<p>Thanks everyone for the help disks now show up automatically in thunar and can be mounted by clicking and logging in.</p>
<ul>
<li>
</li>
</ul>
<p>Shared folders still do not work, therefor the issue must actually not be related and maybe I should make a new thread for that later.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/20</link>
        <pubDate>Wed, 08 Jan 2020 22:13:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-20</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="7" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/5/49beb7/40.png" class="avatar"> 59mpci2GJ5xlHhY:</div>
<blockquote>
<p>When installing the shared folder I followed the instructions in KVM documentation to give the folder permissions, but I did not do the Mandatory Access Control section as I’m unsure whether or not Kicksecure uses it or SELinux</p>
</blockquote>
</aside>
<p>SELinux is a Mandatory Acess Control (MAC) system. You can’t use MAC or SELinux as SELinux <em>is</em> MAC. Kicksecure uses AppArmor for MAC, not SELinux.</p>
<aside class="quote no-group" data-post="7" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/5/49beb7/40.png" class="avatar"> 59mpci2GJ5xlHhY:</div>
<blockquote>
<p>Just incase it uses Mandatory Access Control I tried doing “sudo chmod 777 -R /home/yourusername/shared” But I got the same error</p>
</blockquote>
</aside>
<p><code>chmod</code> changes file system permissions which are not MAC policies.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/19</link>
        <pubDate>Wed, 08 Jan 2020 20:10:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-19</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="7" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/5/49beb7/40.png" class="avatar"> 59mpci2GJ5xlHhY:</div>
<blockquote>
<p>sudo chmod 777 -R /home/yourusername/shared</p>
</blockquote>
</aside>
<p>Replace <code>yourusername</code> with your actual user name.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/18</link>
        <pubDate>Wed, 08 Jan 2020 11:36:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-18</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="13" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Mounting devices needs root AFAICT.</p>
</blockquote>
</aside>
<p>That’s the problem with mixing discussions on <code>auto mounting in Thunar</code> with <code>shared folder</code>.</p>
<p>Thunar auto mounting: that should be possible without root. I don’t know how exactly that works but might be SUID something, pkexec, /etc/sudoers.d (unlikely).</p>
<p>And <code>No</code>: <a href="https://forums.whonix.org/t/disable-suid-binaries/7706" class="inline-onebox">Disable SUID Binaries</a> is not yet enabled by default. That forum thread will be updated when this happens.</p>
<p><a href="https://wiki.archlinux.org/index.php/Thunar#Thunar_Volume_Manager">https://wiki.archlinux.org/index.php/Thunar#Thunar_Volume_Manager</a> says</p>
<blockquote>
<p>While Thunar supports automatic mounting and unmounting of removable media (<a href="https://www.archlinux.org/packages/?name=gvfs">gvfs</a> package is required)</p>
</blockquote>
<p>Check if gvfs is installed. To install:</p>
<pre><code>sudo apt install gvfs
</code></pre>
<p>Reboot might be required. Please see if that helps.</p>
<p>Quote <a href="https://packages.debian.org/buster/gvfs">https://packages.debian.org/buster/gvfs</a></p>
<blockquote>
<p>userspace virtual filesystem - GIO module</p>
<p>gvfs is a userspace virtual filesystem where mounts run as separate processes which you talk to via D-Bus. It also contains a gio module that seamlessly adds gvfs support to all applications using the gio API. It also supports exposing the gvfs mounts to non-gio applications using fuse.</p>
<p>This package contains the GIO module that lets applications use gvfs mounts.</p>
</blockquote>
<p>From:</p>
<pre><code>apt-cache show thunar
</code></pre>
<p>Also any of these packages might be missing:</p>
<p>default-dbus-session-bus<br>
dbus-session-bus<br>
gvfs<br>
policykit-1-gnome<br>
polkit-1-auth-agent<br>
thunar-volman<br>
tumbler<br>
udisks2<br>
xdg-user-dirs<br>
libcairo-gobject2<br>
libpangocairo-1.0-0<br>
libxfce4panel-2.0-4</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/17</link>
        <pubDate>Wed, 08 Jan 2020 11:34:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-17</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="14" data-topic="8728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/5/49beb7/40.png" class="avatar"> 59mpci2GJ5xlHhY:</div>
<blockquote>
<p>“host tor: New control connection opened”</p>
</blockquote>
</aside>
<p>See <a href="https://www.whonix.org/wiki/Tor#Non-Issues">https://www.whonix.org/wiki/Tor#Non-Issues</a></p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/16</link>
        <pubDate>Wed, 08 Jan 2020 11:24:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-16</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>59mpci2GJ5xlHhY via Whonix Forum:</p>
<blockquote>
<p>I dont wan’t to pile too much in here</p>
</blockquote>
<p>Yes. Please don’t. It’s inefficient. 1 issue = 1 forum thread.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/15</link>
        <pubDate>Wed, 08 Jan 2020 07:53:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-15</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[59mpci2GJ5xlHhY]]></dc:creator>
        <description><![CDATA[
            <p>Sorry, I have never used chown, what am I suppose to do with this? sudo chmod /home/user/shared does nothing but says to use help for more info. Did you mean chmod as per the wiki because I have used that when setting it up, but I used it again to check the journal but nothing but the command shows up in the log incase that is what you meant. And do you mean I should check the output via sudo journalctl -f again?</p>
<p>I actually had it open and booted the computer with the internet physically unplugged and in the journalctl -f I noticed the following, despite only opening thunar and terminal and nothing relating to the internet</p>
<p>“host tor: New control connection opened”<br>
“host tor: Problem bootstrapping. Stuck at 0% (starting). (Network is unreachable; […]”</p>
<p>Kicksecure is set with tor to receive updates over onion, my first guess is that this is autoupdate checker (which I assume kicksecure does not have?) As people living in dangerous countries may not like their device automatically pinging, or, this is equivalent to whonixcheck for getting the tor time sync, which would make more sense if it was on automatic but still kind of unexpected, this is no problem for me but, I am wondering - if kicksecure does not do either out of the box could this be an attack?</p>
<p>I dont wan’t to pile too much in here and get off topic but maybe this issue is too minor for its own thread: I also notice that clicking the “user” button on the top right and clicking “lock screen” does nothing so this is probably a bug.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/14</link>
        <pubDate>Wed, 08 Jan 2020 01:15:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-14</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Mounting devices needs root AFAICT. Adjusting permissions on shared folders to allow file modification/access would need root too. Have you run chown on the shared dir? what is the output?</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/13</link>
        <pubDate>Tue, 07 Jan 2020 15:57:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-13</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[59mpci2GJ5xlHhY]]></dc:creator>
        <description><![CDATA[
            <p>Hmm, then it is strange that the shared folder does not work, maybe the issues are related?</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/12</link>
        <pubDate>Tue, 07 Jan 2020 04:57:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-12</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>59mpci2GJ5xlHhY via Whonix Forum:</p>
<blockquote>
<p>does Kicksecure use SELinux?</p>
</blockquote>
<p>No.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/11</link>
        <pubDate>Tue, 07 Jan 2020 04:43:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-11</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[59mpci2GJ5xlHhY]]></dc:creator>
        <description><![CDATA[
            <p>Tried it, still nothing shows up. Also the shared folder still prevents the workstation from launching, this is an even bigger issue, does Kicksecure use SELinux? Having to run a command every time a file is put into the shared folder could be quite annoying.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/10</link>
        <pubDate>Tue, 07 Jan 2020 04:38:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-10</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>What you can also try:</p>
<pre><code>sudo systemctl mask proc-hidepid.service
sudo unlink /usr/bin/pkexec
sudo cp /usr/bin/pkexec.security-misc-orig /usr/bin/pkexec
</code></pre>
<p>Reboot required.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/8</link>
        <pubDate>Tue, 07 Jan 2020 03:53:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-8</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>59mpci2GJ5xlHhY via Whonix Forum:</p>
<blockquote>
<p>Instantly, it showed some AVC apparmor=“DENIED” stuff relating to security-misc/pam_tally2-info</p>
</blockquote>
<p>Since instant - it is not from auto mounting. Unrelated either way.</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/9</link>
        <pubDate>Tue, 07 Jan 2020 03:51:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-9</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
      <item>
        <title>Disk &amp; USB Automount in Kicksecure</title>
        <dc:creator><![CDATA[59mpci2GJ5xlHhY]]></dc:creator>
        <description><![CDATA[
            <p>Did<br>
sudo apt install thunar thunar-volman</p>
<p>up to date and installed already</p>
<p>Next did<br>
sudo journalctl -f</p>
<p>Instantly, it showed some AVC apparmor=“DENIED” stuff relating to security-misc/pam_tally2-info</p>
<p>Next, I opened thunar and nothing new appeared in that window<br>
Then I went into settings and volume management and mount removeable were already enabled, I disabled and renabled them and nothing changed in the log (Note it said I was missing dependency gvfs)</p>
<p>Next, I plugged in the USB, it found it, detected it and attached, but then it said<br>
[sdd] write protect is off<br>
[sdd] write cache: disabled, read cache: enabled, doesn’t support DPO or FUA<br>
[sdd] attached SCSI removable disk</p>
<p>But the USB does not show up in thunar, next I did sudo mount /dev/sdd /mnt/ and it worked but the name changes every time I take the usb out.</p>
<p>Not sure if this is related but it might be, KVM Whonix seems to work fine except that when I put a shared folder and try to boot the workstation I get "Error starting domain: internal error […] cannot initialize fdsev […] failed to open /home/user/shared: permission denied and then systemd log shows red text “unable to read from monitor: connection reset by peer” "internal error qemu unexpectedly closed the monitor […]</p>
<p>When installing the shared folder I followed the instructions in KVM documentation to give the folder permissions, but I did not do the Mandatory Access Control section as I’m unsure whether or not Kicksecure uses it or SELinux</p>
<p>Update: Just incase it uses Mandatory Access Control I tried doing “sudo chmod 777 -R  /home/yourusername/shared” But I got the same error</p>
          <p><a href="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728/7</link>
        <pubDate>Tue, 07 Jan 2020 01:23:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8728-7</guid>
        <source url="http://forums.whonix.org/t/disk-usb-automount-in-kicksecure/8728.rss">Disk &amp; USB Automount in Kicksecure</source>
      </item>
  </channel>
</rss>
