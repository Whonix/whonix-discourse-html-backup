<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Combination of custom native keyboard layout and Whonix can get you deanonymized after VM exploit?</title>
    <link>http://forums.whonix.org/t/combination-of-custom-native-keyboard-layout-and-whonix-can-get-you-deanonymized-after-vm-exploit/3360</link>
    <description>Last time I tried Qubes, the default keyboard layout was that of dom0. Is this still the case? If so, that is very problematic.

Consider the following scenario:

You live in a not very large country. Let&#39;s say Sweden as an example. According to the Tor project, there are around 5000 Tor users in Sweden. How many of those do you think use Whonix? 100? How many of those do you think use Qubes-Whonix? ... 5-10?

So, you&#39;re a Swedish Qubes-Whonix user, and someone exploits your browser. Normally this would not be a problem. But since your keyboard layout is Swedish, you&#39;re now essentially de-anonymized, as there are only a handful of Qubes-Whonix users in your country.

The default layout should be US or something.</description>
    <language>en</language>
    <lastBuildDate>Sun, 01 Jan 2017 21:59:59 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/combination-of-custom-native-keyboard-layout-and-whonix-can-get-you-deanonymized-after-vm-exploit/3360.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Combination of custom native keyboard layout and Whonix can get you deanonymized after VM exploit?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <pre><code>qubesdb-read /qubes-keyboard
</code></pre>
<hr>
<p>Two cases to distinguish. You</p>
<ul>
<li>
<p>a) are NOT typing in that VM while being compromised and</p>
</li>
<li>
<p>b) you are typing while that VM being compromised.</p>
</li>
</ul>
<hr>
<p>a) are NOT typing in that VM while being compromised:</p>
<ul>
<li>Having the keyboard layout set to US in the VM could help.</li>
<li>How likely is it that users are NOT typing the the VM?</li>
</ul>
<hr>
<p>b) you are typing while that VM being compromised.</p>
<ul>
<li>
<p>Who with a native keyboard would stick to an English keyboard layout?</p>
</li>
<li>
<p>[1] Don’t you think that typing English on a native keyboard with English keyboard layout inevitably due to keystroke fingerprinting (different timings and mistakes one is making) will reveal that you have a physical native rather than English keyboard anyhow?</p>
</li>
<li>
<p>Perhaps as a stopgap we should recommend everyone to get used to a physical US keyboard? But how likely are users to adhere that advice?</p>
</li>
<li>
<p>A better fix might be to implement some enhancement in Qubes… Let the user choose its keyboard layout in dom0. Always have the VM think it is using keyboard layout US. And then have dom0 somehow translate the native keyboard layout to US in the VM? Is that even conceivable? (I mean, there are certain native keyboard keys that do not exist on US keyboards - and perhaps vice versa?) And wouldn’t that still be fully vulnerable to [1]?</p>
</li>
</ul>
<hr>
<p>Related:<br>
There is also kloak - anti keystroke deanonymization tool in the pipeline of being added to Whonix. See this ticket where I just now posted a related comment.<br>
<a href="https://phabricator.whonix.org/T583" class="onebox" target="_blank">https://phabricator.whonix.org/T583</a></p>
          <p><a href="http://forums.whonix.org/t/combination-of-custom-native-keyboard-layout-and-whonix-can-get-you-deanonymized-after-vm-exploit/3360/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/combination-of-custom-native-keyboard-layout-and-whonix-can-get-you-deanonymized-after-vm-exploit/3360/3</link>
        <pubDate>Sun, 01 Jan 2017 21:59:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3360-3</guid>
        <source url="http://forums.whonix.org/t/combination-of-custom-native-keyboard-layout-and-whonix-can-get-you-deanonymized-after-vm-exploit/3360.rss">Combination of custom native keyboard layout and Whonix can get you deanonymized after VM exploit?</source>
      </item>
      <item>
        <title>Combination of custom native keyboard layout and Whonix can get you deanonymized after VM exploit?</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<p>Your layout may be changed via the “Keyboard setting” in the Qubes Manager independently from dom0. Whether the standard is US QWERTY on Qubes, I’m not sure. Would have to look that up.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/combination-of-custom-native-keyboard-layout-and-whonix-can-get-you-deanonymized-after-vm-exploit/3360/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/combination-of-custom-native-keyboard-layout-and-whonix-can-get-you-deanonymized-after-vm-exploit/3360/2</link>
        <pubDate>Sun, 01 Jan 2017 13:32:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3360-2</guid>
        <source url="http://forums.whonix.org/t/combination-of-custom-native-keyboard-layout-and-whonix-can-get-you-deanonymized-after-vm-exploit/3360.rss">Combination of custom native keyboard layout and Whonix can get you deanonymized after VM exploit?</source>
      </item>
      <item>
        <title>Combination of custom native keyboard layout and Whonix can get you deanonymized after VM exploit?</title>
        <dc:creator><![CDATA[whtest4321]]></dc:creator>
        <description><![CDATA[
            <p>Last time I tried Qubes, the default keyboard layout was that of dom0. Is this still the case? If so, that is very problematic.</p>
<p>Consider the following scenario:</p>
<p>You live in a not very large country. Let’s say Sweden as an example. According to the Tor project, there are around 5000 Tor users in Sweden. How many of those do you think use Whonix? 100? How many of those do you think use Qubes-Whonix? … 5-10?</p>
<p>So, you’re a Swedish Qubes-Whonix user, and someone exploits your browser. Normally this would not be a problem. But since your keyboard layout is Swedish, you’re now essentially de-anonymized, as there are only a handful of Qubes-Whonix users in your country.</p>
<p>The default layout should be US or something.</p>
          <p><a href="http://forums.whonix.org/t/combination-of-custom-native-keyboard-layout-and-whonix-can-get-you-deanonymized-after-vm-exploit/3360/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/combination-of-custom-native-keyboard-layout-and-whonix-can-get-you-deanonymized-after-vm-exploit/3360/1</link>
        <pubDate>Sun, 01 Jan 2017 04:22:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3360-1</guid>
        <source url="http://forums.whonix.org/t/combination-of-custom-native-keyboard-layout-and-whonix-can-get-you-deanonymized-after-vm-exploit/3360.rss">Combination of custom native keyboard layout and Whonix can get you deanonymized after VM exploit?</source>
      </item>
  </channel>
</rss>
