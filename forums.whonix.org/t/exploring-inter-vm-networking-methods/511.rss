<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Exploring Inter-VM Networking Methods</title>
    <link>http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511</link>
    <description>FYI:

I just posted the following topic to the Dev/Qubes wiki page:

https://www.whonix.org/wiki/Dev/Qubes


Inter-VM Networking:

Current Qubes + Whonix implementation has both the Whonix-Gateway and Whonix-Workstation connected to the same backend FirewallVM and iptables forwarding is manually established between the Whonix IP addresses. This current method is really just an efficient hack for our initial Qubes + Whonix implementation. The native/proper way to network VMs in Qubes is via chaining their networking &quot;backend&quot; together, which is part of Xen networking structure. This is how other VMs in Qubes are networked, including TorVM. According to Qubes devs, these Xen backends provide simple point-to-point networking between VMs. So this would be advantageous for further isolation of inter-VM Whonix traffic, since, currently, all inter-VM traffic is routed through the internet-facing FirewallVM, which can also be shared by other VMs. This current implementation with a shared FirewallVM could be somewhat of a security concern for inter-VM traffic, and a reason to move to native/proper isolated point-to-point &quot;backend&quot; networking. Also, in the future, it is desirable to leverage full ProxyVM/ServiceVM networking between Whonix-Gateway and Whonix-Workstation, as the TorVM does. ProxyVM utilizes Xen &quot;backend&quot; networking but automates it with transparent Qubes GUI networking, making use of dynamically created virtual networking interfaces. Whonix may need to add onto or adjust its internal networking setup to be compatible with such native Qubes networking.

Discussions related to this topic:
* https://groups.google.com/d/topic/qubes-users/RFXoZ3zt-PE
* https://groups.google.com/d/msg/qubes-users/GhgWH5mHf2E/0LU35M6GPecJ
* https://groups.google.com/d/msg/qubes-users/GhgWH5mHf2E/96odaNoBVRwJ</description>
    <language>en</language>
    <lastBuildDate>Wed, 25 Jan 2017 11:15:50 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Exploring Inter-VM Networking Methods</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            
          <p><a href="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/7</link>
        <pubDate>Wed, 25 Jan 2017 11:15:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-511-7</guid>
        <source url="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511.rss">Exploring Inter-VM Networking Methods</source>
      </item>
      <item>
        <title>Exploring Inter-VM Networking Methods</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>More recent thread on this topic:</p>
<a href="https://forums.whonix.org/t/multiple-whonix-workstations-that-can-communicate-with-each-other">https://forums.whonix.org/t/multiple-whonix-workstations-that-can-communicate-with-each-other</a>
          <p><a href="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/6</link>
        <pubDate>Wed, 25 Jan 2017 11:15:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-511-6</guid>
        <source url="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511.rss">Exploring Inter-VM Networking Methods</source>
      </item>
      <item>
        <title>Exploring Inter-VM Networking Methods</title>
        <dc:creator><![CDATA[WhonixQubes]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“nrgaway, post:4, topic:511”]If I run in to problems with the whonix-proxy, I will look into it further.</p>
<p>For the present I will assume its supported since when an appvm is instructed to use the ‘whonix-proxy’ as its netvm, the appvm does receive a proper IP address and the ‘whonix-proxy’ does automatically add the interface for the appvm.</p>
<p>Guess I should check the ‘whonix-proxy’ logs to see if its receiving traffic from the appvm[/quote]</p>
<p>Yeah, since it automatically adds the corresponding vif interface in the ProxyVM, then maybe it already is completely working. Hopefully the traffic is flowing. Looking forward to hearing more of your exciting progress. Will be jumping in for some testing soon.</p>
          <p><a href="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/5</link>
        <pubDate>Sun, 21 Sep 2014 00:18:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-511-5</guid>
        <source url="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511.rss">Exploring Inter-VM Networking Methods</source>
      </item>
      <item>
        <title>Exploring Inter-VM Networking Methods</title>
        <dc:creator><![CDATA[nrgaway]]></dc:creator>
        <description><![CDATA[
            <p>If I run in to problems with the whonix-proxy, I will look into it further.</p>
<p>For the present I will assume its supported since when an appvm is instructed to use the ‘whonix-proxy’ as its netvm, the appvm does receive a proper IP address and the ‘whonix-proxy’ does automatically add the interface for the appvm.</p>
<p>Guess I should check the ‘whonix-proxy’ logs to see if its receiving traffic from the appvm</p>
          <p><a href="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/4</link>
        <pubDate>Sat, 20 Sep 2014 23:28:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-511-4</guid>
        <source url="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511.rss">Exploring Inter-VM Networking Methods</source>
      </item>
      <item>
        <title>Exploring Inter-VM Networking Methods</title>
        <dc:creator><![CDATA[WhonixQubes]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“nrgaway, post:2, topic:511”]When I build the Whonix appvm template as indicated in <a href="https://www.whonix.org/forum/index.php/topic,537.0.html" data-bbcode="true" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,537.0.html</a> and then create a ProxyVM from that template does it not create all the required hooks into the XEN backend?  I am assuming it does since when I select the ‘whonix-proxy’ as the netvm of choice in another appvm, the ‘whonix-proxy’ does automatically create the vifx.0 interfaces within ‘whonix-proxy’.</p>
<p>Just looking for confirmation since I am in process of configuring the ‘whonix-proxy’ to work within this network structure (no eth1)[/quote]</p>
<p>Good question… I’m not sure about that.</p>
<p>You mentioned building a custom Debian Wheezy Template for Qubes to use for the ProxyVM.</p>
<p>My comparable experiences so far are with the official Qubes Debian Jessie Community Template, which currently does not have ProxyVM support built into it.</p>
<p>Although, Qubes developers have mentioned to me that it would be “easy” to add that to their Debian Jessie template.</p>
<p>Reference discussion:  <a href="https://groups.google.com/d/topic/qubes-devel/fuB64BGq1so" rel="nofollow noopener">https://groups.google.com/d/topic/qubes-devel/fuB64BGq1so</a></p>
<p>So based on the fact that their Debian Jessie template doesn’t seem to automatically work as a ProxyVM, it might not automatically do what is needed in your custom Debian Wheezy Template without you developing that.</p>
<p>However, the Qubes devs are helpful on the mailing lists and could probably point out exactly what you would need with this, if it doesn’t automatically work.</p>
          <p><a href="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/3</link>
        <pubDate>Sat, 20 Sep 2014 22:03:48 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-511-3</guid>
        <source url="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511.rss">Exploring Inter-VM Networking Methods</source>
      </item>
      <item>
        <title>Exploring Inter-VM Networking Methods</title>
        <dc:creator><![CDATA[nrgaway]]></dc:creator>
        <description><![CDATA[
            <p>When I build the Whonix appvm template as indicated in <a href="https://www.whonix.org/forum/index.php/topic,537.0.html" data-bbcode="true" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,537.0.html</a> and then create a ProxyVM from that template does it not create all the required hooks into the XEN backend?  I am assuming it does since when I select the ‘whonix-proxy’ as the netvm of choice in another appvm, the ‘whonix-proxy’ does automatically create the vifx.0 interfaces within ‘whonix-proxy’.</p>
<p>Just looking for confirmation since I am in process of configuring the ‘whonix-proxy’ to work within this network structure (no eth1)</p>
          <p><a href="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/2</link>
        <pubDate>Sat, 20 Sep 2014 21:41:28 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-511-2</guid>
        <source url="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511.rss">Exploring Inter-VM Networking Methods</source>
      </item>
      <item>
        <title>Exploring Inter-VM Networking Methods</title>
        <dc:creator><![CDATA[WhonixQubes]]></dc:creator>
        <description><![CDATA[
            <p>FYI:</p>
<p>I just posted the following topic to the Dev/Qubes wiki page:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Dev/Qubes" target="_blank" rel="nofollow noopener" title="09:01AM - 07 March 2020">Whonix – 7 Mar 20</a>
  </header>
  <article class="onebox-body">
    <img src="" class="thumbnail" width="" height="">

<h3><a href="https://www.whonix.org/wiki/Dev/Qubes" target="_blank" rel="nofollow noopener">Dev/Qubes - Whonix</a></h3>

<p>Qubes-Whonix ™ development notes.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Inter-VM Networking:</p>
<p>Current Qubes + Whonix implementation has both the Whonix-Gateway and Whonix-Workstation connected to the same backend FirewallVM and iptables forwarding is manually established between the Whonix IP addresses. This current method is really just an efficient hack for our initial Qubes + Whonix implementation. The native/proper way to network VMs in Qubes is via chaining their networking “backend” together, which is part of Xen networking structure. This is how other VMs in Qubes are networked, including TorVM. According to Qubes devs, these Xen backends provide simple point-to-point networking between VMs. So this would be advantageous for further isolation of inter-VM Whonix traffic, since, currently, all inter-VM traffic is routed through the internet-facing FirewallVM, which can also be shared by other VMs. This current implementation with a shared FirewallVM could be somewhat of a security concern for inter-VM traffic, and a reason to move to native/proper isolated point-to-point “backend” networking. Also, in the future, it is desirable to leverage full ProxyVM/ServiceVM networking between Whonix-Gateway and Whonix-Workstation, as the TorVM does. ProxyVM utilizes Xen “backend” networking but automates it with transparent Qubes GUI networking, making use of dynamically created virtual networking interfaces. Whonix may need to add onto or adjust its internal networking setup to be compatible with such native Qubes networking.</p>
<p>Discussions related to this topic:</p>
<ul>
<li><a href="https://groups.google.com/d/topic/qubes-users/RFXoZ3zt-PE" rel="nofollow noopener">https://groups.google.com/d/topic/qubes-users/RFXoZ3zt-PE</a></li>
<li><a href="https://groups.google.com/d/msg/qubes-users/GhgWH5mHf2E/0LU35M6GPecJ" rel="nofollow noopener">https://groups.google.com/d/msg/qubes-users/GhgWH5mHf2E/0LU35M6GPecJ</a></li>
<li><a href="https://groups.google.com/d/msg/qubes-users/GhgWH5mHf2E/96odaNoBVRwJ" rel="nofollow noopener">https://groups.google.com/d/msg/qubes-users/GhgWH5mHf2E/96odaNoBVRwJ</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511/1</link>
        <pubDate>Sat, 20 Sep 2014 21:09:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-511-1</guid>
        <source url="http://forums.whonix.org/t/exploring-inter-vm-networking-methods/511.rss">Exploring Inter-VM Networking Methods</source>
      </item>
  </channel>
</rss>
