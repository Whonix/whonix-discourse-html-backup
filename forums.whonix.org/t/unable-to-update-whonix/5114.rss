<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Unable to update Whonix</title>
    <link>http://forums.whonix.org/t/unable-to-update-whonix/5114</link>
    <description>I&#39;m unable to update my whonix-gw TemplateVM in Qubes R3.2 due to network issues.

I haven&#39;t been able to connect to tor in my whonix workstation AppVM for at least several days, but I noticed in the Qubes VM Manager that there&#39;s an update available for whonix-gw TemplateVM. But updating whonix-gw fails.

I&#39;m getting sporadic &quot;Err ... 500 Unable to connect&quot; errors when attempting to fetch packages from, for example, deb.qubes-os.org, deb.whonix.org, etc.


![whonixFail4|387x500](upload://j9ddhlkTdX0Sidt5x7BOWjqXK1y.png)

Note that I&#39;m connecting to the internet through an uncensored ISP in the US. Tor is not blocked, and Orbot/Orfox works fine on my phone.

I kicked-off a traceroute to &#39;whonix.org&#39; in a disposable vm overnight (which is going out straight to my IPS; no tor or vpn), and I found what looks like significant packet loss over the transatlantic line between the US and the UK en-route to the whonix servers in France.

Has anyone else had issues updating Whonix recently? Is there anything I can do to further debug this?</description>
    <language>en</language>
    <lastBuildDate>Sat, 28 Apr 2018 10:18:32 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="8" data-topic="5114">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/m/a9a28c/40.png" class="avatar"> maltfield:</div>
<blockquote>
<p>For some reason I cannot clone sys-whonix from the Qubes VM Manager. The option for “Clone VM” is greyed-out, even when sys-whonix and whonix-gw are both shutdown.</p>
</blockquote>
</aside>
<p>What version of Qubes are you using? R3.2 ?</p>
<p>I don’t have my 3.2 box with me but I don’t think AppVMs and ProxyVMs can be cloned in 3.2. Just TemplateVMs.</p>
<aside class="quote" data-post="10" data-topic="5114">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>url is a symlink to curl.anondist which is a symlink to uwt which then</p>
<p>runs curl under torsocks which makes it use Tor running on localhost</p>
<p>for stream isolation.</p>
<p>Use curl.anondist-orig to use the original curl.</p>
<p>Could this please be documented somewhere under</p>
<p><a href="https://www.whonix.org/wiki/Dev/anon-ws-disable-stacked-tor">https://www.whonix.org/wiki/Dev/anon-ws-disable-stacked-tor</a> or so?</p>
<p>Trying to use curl rather than curl.anondist-orig is a common mistake</p>
<p>when trying to debug Whonix network issues.</p>
</blockquote>
</aside>
<p>I’ll get it done <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote" data-post="11" data-topic="5114">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Whonix</p>
<p>Tor</p>
<p>Notes about Tor (The Onion Router) on Log Analysis, Non-Persistent Entry Guards, Blacklist Certain Onion Services from Connecting, Additional SocksPor…</p>
<p>Does that documentation need any improvements?</p>
</blockquote>
</aside>
<p>Maybe entry guards technical and non-technical would be good to have?</p>
<p>I can work on that to.</p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/13</link>
        <pubDate>Sat, 28 Apr 2018 10:18:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-13</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Michael Altfield:</p>
<blockquote>
<p>I’d still really like to know more about the curl commands in whonix and the /var/lib/tor dir in general <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
<p>Your interested is appreciated!</p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/12</link>
        <pubDate>Sat, 28 Apr 2018 07:10:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-12</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Michael Altfield:</p>
<blockquote>
<p>First of all, is it always safe to delete the contents of /var/lib/tor?</p>
</blockquote>
<p>No, it changes Tor entry guards likely which could be the intention of<br>
an adversary.</p>
<p>We have documentation on entry guards here:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="" height="">
      <a href="https://www.whonix.org/wiki/Tor#Entry_Guards" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/480;"><img src="//forums.whonix.org/uploads/default/original/2X/2/23d5cf0e1c45f9e6af5f70f1729402db5b44b216.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Tor#Entry_Guards" target="_blank" rel="nofollow noopener">Tor</a></h3>

<p>Notes about Tor (The Onion Router) on Log Analysis, Non-Persistent Entry Guards, Blacklist Certain Onion Services from Connecting, Additional SocksPor...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Does that documentation need any improvements?</p>
<blockquote>
<p>And why did I read that one should delete their Tor State File when changing physical locations?</p>
</blockquote>
<p>Same as above. You need to know a bit about Tor entry guards to see why.</p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/11</link>
        <pubDate>Sat, 28 Apr 2018 06:59:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-11</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <ul>
<li><a href="https://www.whonix.org/wiki/Stream_Isolation" rel="nofollow noopener">https://www.whonix.org/wiki/Stream_Isolation</a></li>
<li><a href="https://github.com/Whonix/uwt" rel="nofollow noopener">https://github.com/Whonix/uwt</a></li>
<li><a href="https://github.com/Whonix/uwt/blob/master/usr/bin/curl.anondist" rel="nofollow noopener">https://github.com/Whonix/uwt/blob/master/usr/bin/curl.anondist</a></li>
</ul>
<p>curl is a symlink to curl.anondist which is a symlink to uwt which then<br>
runs curl under <code>torsocks</code> which makes it use Tor running on localhost<br>
for stream isolation.</p>
<p>Use curl.anondist-orig to use the original curl.</p>
<p>Could this please be documented somewhere under<br>
<a href="https://www.whonix.org/wiki/Dev/anon-ws-disable-stacked-tor" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/anon-ws-disable-stacked-tor</a> or so?<br>
Trying to use curl rather than curl.anondist-orig is a common mistake<br>
when trying to debug Whonix network issues.</p>
<p>It is already under<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="" height="">
      <a href="https://www.whonix.org/wiki/Stream_Isolation#Deactivate_Stream_Isolation" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:386/500;"><img src="//forums.whonix.org/uploads/default/original/2X/d/dd2a9f88dfb70936ec3bc9b43f79f3fe0a19fdf8.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Stream_Isolation#Deactivate_Stream_Isolation" target="_blank" rel="nofollow noopener">Stream Isolation</a></h3>

<p>Prevent Identity Correlation through Circuit Sharing by using Tor Stream Isolation</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
but not clear enough and not a good reference to answer a forum post<br>
like this one.<p></p>
<p>Michael Altfield:</p>
<blockquote>
<pre><code>user@host:~$
</code></pre>
</blockquote>
<p>Mistake. User <code>clearnet</code>.</p>
<pre><code>sudo su clearnet
</code></pre>
<p>Also needs to be documented.</p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/10</link>
        <pubDate>Sat, 28 Apr 2018 06:50:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-10</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[maltfield]]></dc:creator>
        <description><![CDATA[
            <p>update: when poking around in my torrc, I realized that I had my tor configuration setup to use an obfs4 pluggable transport.</p>
<p>I had set that up weeks ago when I was surfing on a public access point that was censoring content and using DPI to block Tor.</p>
<p>I commented-out the “UseBridges 1” line in my torrc, and it connected much easier!</p>
<p>My best guess is that the bridges I have defined in the torrc file are stale.</p>
<p><em>facepalm</em> thanks for the help!</p>
<p>I’d still really like to know more about the curl commands in whonix and the /var/lib/tor dir in general <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/9</link>
        <pubDate>Sat, 28 Apr 2018 05:16:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-9</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[maltfield]]></dc:creator>
        <description><![CDATA[
            <p>So the time on dom0 was accurate, but sys-whonix was off by 2 minutes. I fixed the clock on sys-whonix, but <code>whonixcheck</code> still failed.</p>
<p>For some reason I cannot clone sys-whonix from the Qubes VM Manager. The option for “Clone VM” is greyed-out, even when sys-whonix and whonix-gw are both shutdown.</p>
<p>I spent some time fumbing with the instructions per the link listed above for regenerating the Tor State File, and it eventually worked. At first it didn’t, but I remember hitting ‘x’ in <code>arm</code>, and it finally got a successful tor circuit.</p>
<p>I’m very unclear as to what I did, though.</p>
<p>First of all, is it always safe to delete the contents of /var/lib/tor? Is there exclusively ephemeral data in that directory?</p>
<p>And why did I read that one should delete their Tor State File when changing physical locations?</p>
<p>Thank you!</p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/8</link>
        <pubDate>Sat, 28 Apr 2018 04:35:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-8</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[maltfield]]></dc:creator>
        <description><![CDATA[
            <p>indeed, I do have connectivity to the clearnet from sys-whonix</p>
<pre><code>user@host:~$ time curl.anondist-orig "http://172.217.0.68"
curl: (7) Failed to connect to 172.217.0.68 port 80: No route to host

real    0m1.100s
user    0m0.013s
sys     0m0.027s
user@host:~$ su - clearnet
clearnet@host:~$ time curl.anondist-orig "http://172.217.0.68"
&lt;HTML&gt;&lt;HEAD&gt;&lt;meta http-equiv="content-type" content="text/html;charset=utf-8"&gt;
&lt;TITLE&gt;301 Moved&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;
&lt;H1&gt;301 Moved&lt;/H1&gt;
The document has moved
&lt;A HREF="http://www.google.com/"&gt;here&lt;/A&gt;.
&lt;/BODY&gt;&lt;/HTML&gt;

real    0m0.074s
user    0m0.010s
sys     0m0.033s
clearnet@host:~$ 
</code></pre>
<p>Thanks for the tip, but why ‘curl.annondist-orig’? There’s no man page for this command, the command itself is a binary, and the ‘–help’ arg just shows the same info as <code>curl</code>. I tried googling it, and couldn’t find the distinction.</p>
<p>Can you link me to a document describing the difference between <code>curl</code>, <code>curl.annondist</code>, and <code>curl.annondist-orig</code> please?</p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/7</link>
        <pubDate>Sat, 28 Apr 2018 03:36:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-7</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>curl -&gt; mistake -&gt; use <code>curl.anondist-orig</code></p>
<p>(related to uwt, stream isolation)</p>
<p>run under user <code>clearnet</code></p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/6</link>
        <pubDate>Fri, 27 Apr 2018 10:24:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-6</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[0brand]]></dc:creator>
        <description><![CDATA[
            <p>Hi <code>maltfield</code></p>
<p>Does your system keep the correct time? If <code>sys-whonix</code> time if off by to much, connections to Tor will not be possible.</p>
<p><a href="https://whonix.org/wiki/Troubleshooting#Clock_Fix">https://whonix.org/wiki/Troubleshooting#Clock_Fix</a></p>
<p>You can use this site to correct system time.</p>
<p><a href="https://timeanddate.com/worldclock/timezone/utc">https://timeanddate.com/worldclock/timezone/utc</a></p>
<p>If that does not help the problem could be a slow entry guard. You can create a test <code>sys-whonix</code> with a new entry guard and see if you have better connectivity.</p>
<p><a href="https://whonix.org/wiki/FAQ#Whonix_has_Slowed_Tor_Connections_Dramatically.21">https://whonix.org/wiki/FAQ#Whonix_has_Slowed_Tor_Connections_Dramatically.21</a></p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/5</link>
        <pubDate>Fri, 27 Apr 2018 00:23:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-5</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[maltfield]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for the fast response!</p>
<p><code>whonixcheck</code> fails on sys-whonix with “Whonixcheck gave up waiting. / Tor Circuit: not established”</p>
<pre><code>user@host:~$ whonixcheck 
[INFO] [whonixcheck] sys-whonix | Whonix-Gateway | whonix-gw Template-Based ProxyVM | Thu Apr 26 20:47:16 UTC 2018
dmesg: read kernel buffer failed: Operation not permitted
[INFO] [whonixcheck] Tor Bootstrap Result: Bootstrapping for 0 seconds. 50 % done. Tor Circuit: not established. Tor reports: NOTICE BOOTSTRAP PROGRESS=50 TAG=loading_descriptors SUMMARY="Loading relay descriptors"
...
[INFO] [whonixcheck] Tor Bootstrap Result: Bootstrapping for 117 seconds. 50 % done. Tor Circuit: not established. Tor reports: NOTICE BOOTSTRAP PROGRESS=50 TAG=loading_descriptors SUMMARY="Loading relay descriptors"
[ERROR] [whonixcheck] Tor Bootstrap Result:
Whonixcheck gave up waiting.
Tor Circuit: not established
Bootstrapping 50 % done. Tor reports: NOTICE BOOTSTRAP PROGRESS=50 TAG=loading_descriptors SUMMARY="Loading relay descriptors"
...
user@host:~$ 
</code></pre>
<p>You’re right, whonix-gw has no connectivity at all. sys-whonix also has no connectivity at all.</p>
<p>First, I verified that sys-firewall has access to <a href="http://www.google.com" rel="nofollow noopener">www.google.com</a> (I’m using the IP to eliminate DNS)</p>
<pre><code>[user@sys-firewall ~]$ ip r
default via 10.137.1.1 dev eth0 
10.137.1.1 dev eth0  scope link 
10.137.2.10 dev vif17.0  scope link  metric 32735 
10.137.2.30 dev vif6.0  scope link  metric 32746 
10.138.2.2 dev vif9.0  scope link  metric 32743 
[user@sys-firewall ~]$ ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether 00:16:3e:5e:6c:06 brd ff:ff:ff:ff:ff:ff
    inet 10.137.1.8/32 brd 10.255.255.255 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::216:3eff:fe5e:6c06/64 scope link 
       valid_lft forever preferred_lft forever
4: vif6.0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 32
    link/ether fe:ff:ff:ff:ff:ff brd ff:ff:ff:ff:ff:ff
    inet 10.137.2.1/32 scope global vif6.0
       valid_lft forever preferred_lft forever
    inet6 fe80::fcff:ffff:feff:ffff/64 scope link 
       valid_lft forever preferred_lft forever
5: vif9.0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 32
    link/ether fe:ff:ff:ff:ff:ff brd ff:ff:ff:ff:ff:ff
    inet 10.137.2.1/32 scope global vif9.0
       valid_lft forever preferred_lft forever
    inet6 fe80::fcff:ffff:feff:ffff/64 scope link 
       valid_lft forever preferred_lft forever
9: vif17.0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 32
    link/ether fe:ff:ff:ff:ff:ff brd ff:ff:ff:ff:ff:ff
    inet 10.137.2.1/32 scope global vif17.0
       valid_lft forever preferred_lft forever
    inet6 fe80::fcff:ffff:feff:ffff/64 scope link 
       valid_lft forever preferred_lft forever
[user@sys-firewall ~]$ 
[user@sys-firewall ~]$ dig +short www.google.com
172.217.0.68
[user@sys-firewall ~]$ time curl "http://172.217.0.68/"
&lt;HTML&gt;&lt;HEAD&gt;&lt;meta http-equiv="content-type" content="text/html;charset=utf-8"&gt;
&lt;TITLE&gt;301 Moved&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;
&lt;H1&gt;301 Moved&lt;/H1&gt;
The document has moved
&lt;A HREF="http://www.google.com/"&gt;here&lt;/A&gt;.
&lt;/BODY&gt;&lt;/HTML&gt;

real	0m0.071s
user	0m0.010s
sys	0m0.023s
[user@sys-firewall ~]$ 
</code></pre>
<p>I tried this from both whonix-gw &amp; sys-whonix; it failed for both.</p>
<p>Here’s whonix-gw</p>
<pre><code>root@host:~# ip r
default via 10.137.3.1 dev eth0 
10.137.3.1 dev eth0  scope link 
root@host:~# ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether 00:16:3e:5e:6c:03 brd ff:ff:ff:ff:ff:ff
    inet 10.137.3.5/32 brd 10.255.255.255 scope global eth0
       valid_lft forever preferred_lft forever
root@host:~# time curl -v "http://172.217.0.68"
* Rebuilt URL to: http://172.217.0.68/
* Hostname was NOT found in DNS cache
*   Trying 172.217.0.68...
* Immediate connect fail for 172.217.0.68: Connection timed out
* Closing connection 0
curl: (7) Couldn't connect to server

real    2m1.054s
user    0m56.424s
sys     1m4.622s
root@host:~# 
</code></pre>
<p>And here’s sys-whonix</p>
<pre><code>root@host:~# ip r
default via 10.137.2.1 dev eth0 
10.137.2.1 dev eth0  scope link 
10.137.3.5 dev vif18.0  scope link  metric 32734 
root@host:~# ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether 00:16:3e:5e:6c:08 brd ff:ff:ff:ff:ff:ff
    inet 10.137.2.10/32 brd 10.255.255.255 scope global eth0
       valid_lft forever preferred_lft forever
3: dummy0: &lt;BROADCAST,NOARP&gt; mtu 1500 qdisc noop state DOWN group default qlen 1000
    link/ether f2:2b:09:ea:99:dd brd ff:ff:ff:ff:ff:ff
4: eth1: &lt;BROADCAST,NOARP,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UNKNOWN group default qlen 1000
    link/ether 96:50:df:fc:ac:99 brd ff:ff:ff:ff:ff:ff
    inet 10.137.3.1/32 brd 10.255.255.255 scope global eth1
       valid_lft forever preferred_lft forever
5: vif18.0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 32
    link/ether fe:ff:ff:ff:ff:ff brd ff:ff:ff:ff:ff:ff
    inet 10.137.3.1/32 scope global vif18.0
       valid_lft forever preferred_lft forever
root@host:~# time curl -v "http://172.217.0.68"
* Rebuilt URL to: http://172.217.0.68/
* Hostname was NOT found in DNS cache
*   Trying 172.217.0.68...
* Immediate connect fail for 172.217.0.68: Connection timed out
* Closing connection 0
curl: (7) Couldn't connect to server

real    2m1.157s
user    0m55.272s
sys     1m5.687s
root@host:~# 
</code></pre>
<p>I also confirmed that the whonix-gw templateVM is using sys-whonix as its netVM</p>
<pre><code>[user@dom0 ~]$ qvm-ls whonix-gw sys-whonix
--------------+----+---------+-------+-------+-----------+--------------+-------+
         name | on |   state | updbl |  type |  template |        netvm | label |
--------------+----+---------+-------+-------+-----------+--------------+-------+
  [whonix-gw] |  * | Running |   Yes |   Tpl |       n/a |   sys-whonix | black |
 {sys-whonix} |  * | Running |       | Proxy | whonix-gw | sys-firewall | black |
[user@dom0 ~]$ 
</code></pre>
<p>If sys-whonix is simply configured to use sys-firewall as its NetVM, and I’ve confirmed that sys-firewall has no connectivity issues, then why does sys-whonix have connectivity issues?</p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/4</link>
        <pubDate>Thu, 26 Apr 2018 21:31:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-4</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>AFAIK, traceroute doesn’t work over Tor nodes.</p>
<ol>
<li>
<p>Make sure <code>sys-whonix</code> has Tor connectivity. Try running <code>whonixcheck</code> in <code>sys-whonix</code> proxyVM. You can also update <code>sys-whonix</code> but realize that updates will only persist until you shut down that VM.</p>
</li>
<li>
<p>Make sure <code>whonix-gw</code> templateVM is set to use <code>sys-whonix</code> as its netVM.</p>
</li>
</ol>
<p>From the screenshot, it looks like <code>whonix-gw</code> has no connectivity at all.</p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/3</link>
        <pubDate>Thu, 26 Apr 2018 19:21:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-3</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[maltfield]]></dc:creator>
        <description><![CDATA[
            <p>adding screenshot of traceroute in second post, because I wasn’t allowed to add two images in a single post as a new user:</p>
<p><img src="//forums.whonix.org/uploads/default/original/2X/e/ecc394731cb721a51fbfb0ce71def948dc10a4b7.png" alt="packetLossToWhonix" width="613" height="394"></p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/2</link>
        <pubDate>Thu, 26 Apr 2018 16:04:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-2</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
      <item>
        <title>Unable to update Whonix</title>
        <dc:creator><![CDATA[maltfield]]></dc:creator>
        <description><![CDATA[
            <p>I’m unable to update my whonix-gw TemplateVM in Qubes R3.2 due to network issues.</p>
<p>I haven’t been able to connect to tor in my whonix workstation AppVM for at least several days, but I noticed in the Qubes VM Manager that there’s an update available for whonix-gw TemplateVM. But updating whonix-gw fails.</p>
<p>I’m getting sporadic “Err … 500 Unable to connect” errors when attempting to fetch packages from, for example, <a href="http://deb.qubes-os.org" rel="nofollow noopener">deb.qubes-os.org</a>, <a href="http://deb.whonix.org" rel="nofollow noopener">deb.whonix.org</a>, etc.</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="//forums.whonix.org/uploads/default/original/2X/8/8633eaee14d59d679f94b69dd6d319e53b77c600.png" data-download-href="//forums.whonix.org/uploads/default/8633eaee14d59d679f94b69dd6d319e53b77c600" title="whonixFail4.png"><img src="//forums.whonix.org/uploads/default/original/2X/8/8633eaee14d59d679f94b69dd6d319e53b77c600.png" alt="whonixFail4" width="387" height="500" data-small-upload="//forums.whonix.org/uploads/default/optimized/2X/8/8633eaee14d59d679f94b69dd6d319e53b77c600_2_10x10.png"></a></div><p></p>
<p>Note that I’m connecting to the internet through an uncensored ISP in the US. Tor is not blocked, and Orbot/Orfox works fine on my phone.</p>
<p>I kicked-off a traceroute to ‘<a href="http://whonix.org" rel="nofollow noopener">whonix.org</a>’ in a disposable vm overnight (which is going out straight to my IPS; no tor or vpn), and I found what looks like significant packet loss over the transatlantic line between the US and the UK en-route to the whonix servers in France.</p>
<p>Has anyone else had issues updating Whonix recently? Is there anything I can do to further debug this?</p>
          <p><a href="http://forums.whonix.org/t/unable-to-update-whonix/5114/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/unable-to-update-whonix/5114/1</link>
        <pubDate>Thu, 26 Apr 2018 16:02:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5114-1</guid>
        <source url="http://forums.whonix.org/t/unable-to-update-whonix/5114.rss">Unable to update Whonix</source>
      </item>
  </channel>
</rss>
