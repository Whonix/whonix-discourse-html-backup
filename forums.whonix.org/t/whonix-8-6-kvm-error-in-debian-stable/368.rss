<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix 8.6 KVM Error in Debian Stable</title>
    <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368</link>
    <description>I am using debian wheezy with mempo kernel (grsec / PAX) and KVM v1.1

when I try to import the xml file for whonix v8.6, I receive the following error:

&lt;blockquote&gt;error: Failed to define domain from Whonix-Gateway_kvm-8.6.2.8.xml
error: internal error Unknown controller type &#39;pci&lt;/blockquote&gt;

when I run virt-xml-validate, I receive:

&lt;blockquote&gt;Whonix-Gateway_kvm-8.6.2.8.xml:24: element pm: Relax-NG validity error : Element domain has extra content: pm
Whonix-Gateway_kvm-8.6.2.8.xml fails to validate&lt;/blockquote&gt;

I tried deleting this section in the xml file

&lt;pm&gt;
   &lt;suspend-to-mem enabled=&#39;no&#39;/&gt;
  &lt;suspend-to-disk enabled=&#39;no&#39;/&gt;
&lt;/pm&gt;

then receive this error:

&lt;blockquote&gt;Relax-NG validity error : Extra element devices in interleave
Whonix-Gateway_kvm-8.6.2.8.xml:24: element devices: Relax-NG validity error : Element domain failed to validate content
Whonix-Gateway_kvm-8.6.2.8.xml fails to validate&lt;/blockquote&gt;


I was recommended to upgrade to debian testing to use the latest version of KVM, but I was hoping I wouldn&#39;t have to do that. Is there any other solution to get this working on debian wheezy?</description>
    <language>en</language>
    <lastBuildDate>Thu, 31 Jul 2014 22:10:31 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>I made a note about nested (https://www.whonix.org/wiki/Dev/KVM#Nested_Virtualization), maybe I am getting to this.</blockquote>
Great, i look forward to it.
<blockquote>Could you in meanwhile maybe on your host install Debian stable in a KVM VM... Then while using the Debian stable KVM VM, import Whonix, choose QEMU? It wouldn't be 100% same setup, but I guess you could experience most issues we're currently having.</blockquote>
<p>I will try this later on this week when I have time, but I’ll have to do this on a Whonix guest since using a plain Debian means that package requests will be sent in the clear - something I want to avoid. I hope libvirt would let me run qemu by itself, because it would always complain when KVM modules are not loaded because virtualization extensions are absent.</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/44">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/44</link>
        <pubDate>Thu, 31 Jul 2014 22:10:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-44</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“gh0st, post:41, topic:368”]For the mouse issue, according to this: <a href="https://bugs.freedesktop.org/show_bug.cgi?id=54387">https://bugs.freedesktop.org/show_bug.cgi?id=54387</a> seems its a problem that occurs with the newer evdev package. Not able to test this yet.</p>
<p>This seems to be an issue with debian stable and the following patch should solve the resolution issue:</p>
<p><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=654823#22" class="onebox" target="_blank">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=654823#22</a></p>
<p>Edit: would it be safe to switch to cirrus instead of qxl?[/quote]<br>
Answered here:<br>
<a href="https://www.whonix.org/forum/index.php/topic,402.0.html" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,402.0.html</a></p>
<p>Too many issues here in one thread for my taste. (This is not a complaint!) I personally find it easier to solve all of them when we don’t loose track. I am trying to split up discussions.</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/43">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/43</link>
        <pubDate>Thu, 31 Jul 2014 14:13:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-43</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="36" data-topic="368">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>KVM supports nested virtualization, but I don’t know how to enable it. If anyone has tried and got it successfully running please share how so I could simulate what you are doing in a Whonix Guest.</p>
</blockquote>
</aside>
<aside class="quote" data-post="37" data-topic="368">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>I could document this once we have it working as its really cool. Just to be clear, I have tried to run nested before but I couldn’t get it working</p>
</blockquote>
</aside>
<p>I made a note about nested (<a href="https://www.whonix.org/wiki/Dev/KVM#Nested_Virtualization">https://www.whonix.org/wiki/Dev/KVM#Nested_Virtualization</a>), maybe I am getting to this.</p>
<p>Could you in meanwhile maybe on your host install Debian stable in a KVM VM… Then while using the Debian stable KVM VM, import Whonix, choose QEMU? It wouldn’t be 100% same setup, but I guess you could experience most issues we’re currently having.</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/42">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/42</link>
        <pubDate>Thu, 31 Jul 2014 14:01:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-42</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <p>For the mouse issue, according to this: <a href="https://bugs.freedesktop.org/show_bug.cgi?id=54387" rel="nofollow noopener">https://bugs.freedesktop.org/show_bug.cgi?id=54387</a> seems its a problem that occurs with the newer evdev package. Not able to test this yet.</p>
<p>This seems to be an issue with debian stable and the following patch should solve the resolution issue:</p>
<p><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=654823#22" class="onebox" target="_blank" rel="nofollow noopener">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=654823#22</a></p>
<p>Edit: would it be safe to switch to cirrus instead of qxl?</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/41">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/41</link>
        <pubDate>Tue, 29 Jul 2014 20:39:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-41</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="39" data-topic="368">
<div class="title">
<div class="quote-controls"></div>
 gh0st:</div>
<blockquote>
<p>Is it just me… or is anyone else whos using debian stable getting mouse scroll issues and resolution issues? (taskbar gets cuttof when expanding resolution height over 720)</p>
</blockquote>
</aside>
<p>Happens for me as well. Is this an issue introduced by Whonix or does it also happen if Debian stable (currently: wheezy)? Have you tried or can you try please?</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/40">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/40</link>
        <pubDate>Tue, 29 Jul 2014 12:38:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-40</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <p>Is it just me… or is anyone else whos using debian stable getting mouse scroll issues and resolution issues? (taskbar gets cuttof when expanding resolution height over 720)</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/39">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/39</link>
        <pubDate>Tue, 29 Jul 2014 07:34:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-39</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <p>…long time ago I already added my user to the groups by doing “adduser (user) kvm” and “adduser (user) libvirt”… if I do it again it says my user is already added to the group.</p>
<p>and I haven’t tried virsh -c qemu:///system yet… will try now</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/38">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/38</link>
        <pubDate>Mon, 28 Jul 2014 23:25:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-38</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>I could document this once we have it working as its really cool. Just to be clear, I have tried to run nested before but I couldn’t get it working</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/37">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/37</link>
        <pubDate>Mon, 28 Jul 2014 19:04:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-37</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>KVM supports nested virtualization, but I don’t know how to enable it. If anyone has tried and got it successfully running please share how so I could simulate what you are doing in a Whonix Guest.</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/36">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/36</link>
        <pubDate>Mon, 28 Jul 2014 18:49:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-36</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Not only libvirt, also to kvm group.</p>
<p>This might help. Updated wiki:</p>
<ul>
<li><a href="https://www.whonix.org/wiki/KVM#Importing_Whonix_VM_Templates">https://www.whonix.org/wiki/KVM#Importing_Whonix_VM_Templates</a></li>
<li><a href="https://www.whonix.org/wiki/KVM#Addgroup">https://www.whonix.org/wiki/KVM#Addgroup</a></li>
<li><a href="https://www.whonix.org/wiki/KVM#Reboot">https://www.whonix.org/wiki/KVM#Reboot</a></li>
<li><a href="https://www.whonix.org/wiki/KVM#Uninstall">https://www.whonix.org/wiki/KVM#Uninstall</a></li>
<li><a href="https://www.whonix.org/wiki/KVM#Troubleshooting">https://www.whonix.org/wiki/KVM#Troubleshooting</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/35">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/35</link>
        <pubDate>Mon, 28 Jul 2014 15:26:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-35</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[troubadour]]></dc:creator>
        <description><![CDATA[
            <p><span class="mention">@gh0st</span>:<br>
Are you sure you have added yourself to the libvirt group?</p>
<pre><code class="lang-auto"></code></pre>
<p>No offense meant, that’s the reason why I could not use “virsh -c qemu:///system” as a user, only " virsh -c qemu:///session".</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/34">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/34</link>
        <pubDate>Mon, 28 Jul 2014 14:02:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-34</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>When we consistently apply “-c qemu:///system” to all invocations of “virsh”, sudo is not required for me, for nothing! Instructions have been updated to use  “-c qemu:///system” :<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/KVM#Importing_Whonix_VM_Templates" target="_blank" title="01:04PM - 04 May 2020">Whonix – 4 May 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/218;"><img src="https://www.whonix.org/w/images/b/be/234234234236kvm.png" class="thumbnail" width="690" height="218"></div>

<h3><a href="https://www.whonix.org/wiki/KVM#Importing_Whonix_VM_Templates" target="_blank">Whonix ™ for KVM</a></h3>

<p>Using Whonix ™ with KVM (Kernel Virtual Machine)</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<p>Please try and say if it is working for you!</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/33">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/33</link>
        <pubDate>Mon, 28 Jul 2014 12:13:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-33</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“Patrick, post:26, topic:368”]After having libvirt-bin and qemu-kvm installed from wheezy-backports, there is also an issue with install virt-manager. It wants to downgrade.</p>
<p><code>sudo apt-get install virt-manager
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following packages were automatically installed and are no longer required:
  init-system-helpers libavahi-core7
Use 'apt-get autoremove' to remove them.
The following extra packages will be installed:
  libvirt-bin libvirt0 python-libvirt qemu qemu-system qemu-utils virtinst
Suggested packages:
  radvd qemu-user-static samba python-gnomekeyring hal python-guestfs
The following packages will be REMOVED:
  qemu-kvm qemu-system-common qemu-system-x86
The following NEW packages will be installed:
  python-libvirt qemu qemu-system qemu-utils virt-manager virtinst
The following packages will be DOWNGRADED:
  libvirt-bin libvirt0
0 upgraded, 6 newly installed, 2 downgraded, 3 to remove and 4 not upgraded.
Need to get 33.7 MB/36.2 MB of archives.
After this operation, 74.4 MB of additional disk space will be used.
Do you want to continue [Y/n]?</code></p>
<p>But if you downgrade libvirt-bin, you cannot import VM xml files.[/quote]<br>
This was a problem with my host operating system. Perhaps a bug in apt-get. Difficult to reproduce. Nevertheless, now solved.</p>
<p>Instructions on how to install required software from Debian stable have been documented here and tested by me in a fresh Debian stable VM, works:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/KVM#Debian_stable" target="_blank" title="01:04PM - 04 May 2020">Whonix – 4 May 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/218;"><img src="https://www.whonix.org/w/images/b/be/234234234236kvm.png" class="thumbnail" width="690" height="218"></div>

<h3><a href="https://www.whonix.org/wiki/KVM#Debian_stable" target="_blank">Whonix ™ for KVM</a></h3>

<p>Using Whonix ™ with KVM (Kernel Virtual Machine)</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/32">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/32</link>
        <pubDate>Mon, 28 Jul 2014 12:11:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-32</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="29" data-topic="368">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>[quote]HulaHoop, can you get into the perspective of a Debian stable user please?</p>
</blockquote>
</aside>
<p>Unfortunately I can’t help with this because I’m not running Debian stable.[/quote]<br>
Can you install it in a VM?</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/31">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/31</link>
        <pubDate>Mon, 28 Jul 2014 11:48:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-31</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="29" data-topic="368">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>[quote]HulaHoop, can you get into the perspective of a Debian stable user please?</p>
</blockquote>
</aside>
<p>Unfortunately I can’t help with this because I’m not running Debian stable.[/quote]</p>
<p>Do you think that importing and starting the VM’s as sudo is a more risky than just using debian testing?</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/30">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/30</link>
        <pubDate>Mon, 28 Jul 2014 05:43:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-30</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>HulaHoop, can you get into the perspective of a Debian stable user please?</blockquote>
<p>Unfortunately I can’t help with this because I’m not running Debian stable.</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/29">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/29</link>
        <pubDate>Mon, 28 Jul 2014 04:52:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-29</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Maybe, maybe not:<br>
<a href="https://bugs.launchpad.net/neutron/+bug/1009215" class="onebox" target="_blank">https://bugs.launchpad.net/neutron/+bug/1009215</a></p>
<p>Regarding sudo vs non-sudo… gh0st found an interesting link:<br>
<a href="https://www.redhat.com/archives/libvirt-users/2012-October/msg00140.html" class="onebox" target="_blank">https://www.redhat.com/archives/libvirt-users/2012-October/msg00140.html</a></p>
<p>To prevent sudo, maybe.</p>
<pre><code class="lang-auto"></code></pre>
<p>Will help. (Or something like this.) Can you try please?</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/28">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/28</link>
        <pubDate>Mon, 28 Jul 2014 01:09:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-28</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <p>debian stable doesn’t have version 2.83 of apparmor because there is a bug in mod_apparmor, therefore debian still has an older version</p>
<p>(read permissions for /var/lib/libvirt/dnsmasq/* were added to the dnsmasq profile 2013-10-30, which means the fix is in 2.8.3)</p>
<p>for debian stable users, you can just copy the newer dnsmasq profile and replace existing: <a href="http://bazaar.launchpad.net/~apparmor-dev/apparmor/2.8/view/head:/profiles/apparmor.d/usr.sbin.dnsmasq" rel="nofollow noopener">http://bazaar.launchpad.net/~apparmor-dev/apparmor/2.8/view/head:/profiles/apparmor.d/usr.sbin.dnsmasq</a></p>
<p>EDIT: Although this allowed me to manually add and start a default network within virt-manager without conflict with apparmor. When I try to start the Whonix network I still get this error:</p>
<p>error: Failed to start network Whonix<br>
error: Cannot open network interface control socket: Operation not permitted</p>
<p>and to the above post by Patrick, yes all commands need to be sudo to start the network <img src="//forums.whonix.org/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/27">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/27</link>
        <pubDate>Sun, 27 Jul 2014 21:41:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-27</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>There are still quite a few issues related to Debian stable…</p>
<p>Installed libvirt-bin and qemu-kvm from wheezy-backports.</p>
<p><code>dpkg -l | grep libvirt-bin
ii  libvirt-bin                            1.2.4-1~bpo70+1                    amd64        programs for the libvirt library</code></p>
<p><code>dpkg -l | grep qemu-kvm
ii  qemu-kvm                               2.0.0+dfsg-4~bpo70+1               amd64        QEMU Full virtualization on x86 hardware (transitional package)</code></p>
<p>All import commands work without sudo, besides this one.</p>
<p><code>virsh net-start Whonix
error: Failed to start network Whonix
error: Cannot open network interface control socket: Operation not permitted</code></p>
<p>Not imported using sudo - can not be started with sudo.</p>
<p><code>sudo virsh net-start Whonix
error: failed to get network 'Whonix'
error: An error occurred, but the cause is unknown</code></p>
<p>Maybe all network commands have to be used using sudo? But that’s not all…</p>
<p>HulaHoop, can you get into the perspective of a Debian stable user please?</p>
<p>Get Debian stable running on some computer or inside a VM?</p>
<p>Document how to install required parts from wheezy-backports?</p>
<p>After having libvirt-bin and qemu-kvm installed from wheezy-backports, there is also an issue with install virt-manager. It wants to downgrade.</p>
<p><code>sudo apt-get install virt-manager
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following packages were automatically installed and are no longer required:
  init-system-helpers libavahi-core7
Use 'apt-get autoremove' to remove them.
The following extra packages will be installed:
  libvirt-bin libvirt0 python-libvirt qemu qemu-system qemu-utils virtinst
Suggested packages:
  radvd qemu-user-static samba python-gnomekeyring hal python-guestfs
The following packages will be REMOVED:
  qemu-kvm qemu-system-common qemu-system-x86
The following NEW packages will be installed:
  python-libvirt qemu qemu-system qemu-utils virt-manager virtinst
The following packages will be DOWNGRADED:
  libvirt-bin libvirt0
0 upgraded, 6 newly installed, 2 downgraded, 3 to remove and 4 not upgraded.
Need to get 33.7 MB/36.2 MB of archives.
After this operation, 74.4 MB of additional disk space will be used.
Do you want to continue [Y/n]?</code></p>
<p>But if you downgrade libvirt-bin, you cannot import VM xml files.</p>
<p><code>virsh define Whonix-Workstation_kvm.xml 
error: Failed to define domain from Whonix-Workstation_kvm.xml
error: internal error unexpected domain type kvm, expecting vbox</code></p>
<p>Debian stable seems in a very difficult state. I fear we have to either recommend using Debian testing, or a different host operating system (which would be weird) or wait until Debian jessie becomes stable. Hopefully you can figure out a solution.</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/26">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/26</link>
        <pubDate>Sun, 27 Jul 2014 18:52:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-26</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="24" data-topic="368">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>That’s from my experience, it doesn’t seem to need admin privileges.</p>
</blockquote>
</aside>
<p>ok, were you using debian stable?</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/25</link>
        <pubDate>Sun, 27 Jul 2014 18:44:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-25</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>That’s from my experience, it doesn’t seem to need admin privileges.</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/24</link>
        <pubDate>Sun, 27 Jul 2014 16:17:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-24</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“HulaHoop, post:22, topic:368”][quote]HulaHoop:<br>
Can you fix the wiki instructions please? Only use “sudo” when necessary?[/quote]</p>
<p>Just tested and sudo is not necessary do any of these things so I won’t include it.[/quote]</p>
<p>How?</p>
<p>I re-installed the VM’s (destroyed and undefined) and downloaded new images. I even changed the source of the images and location within the xml file to see if it was a permissions problem with the default image location.</p>
<p>I then booted up in regular kernel without grsecurity. I stopped all apparmor profiles and used the teardown option to unload fully.</p>
<p>I imported all the xml’s without sudo, and still when I try to start the Whonix network, I get the error…</p>
<p>error: Failed to start network Whonix<br>
error: Cannot open network interface control socket: Operation not permitted</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/23</link>
        <pubDate>Sun, 27 Jul 2014 03:36:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-23</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>HulaHoop:
Can you fix the wiki instructions please? Only use "sudo" when necessary?</blockquote>
<p>Just tested and sudo is not necessary do any of these things so I won’t include it.</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/22</link>
        <pubDate>Sat, 26 Jul 2014 02:34:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-22</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>HulaHoop:<br>
Can you fix the wiki instructions please? Only use “sudo” when necessary?</p>
<p>troubadour:<br>
I guess the /usr/sbin/libvirtd AppArmor permission problem could be caused by the fact, that /usr/sbin/libvirtd does for example have no permission to read ~/Whonix-Gateway/Whonix-Gateway_kvm-*.xml. troubadour, what location would work by default? Perhaps we can modify our instructions to make that work easier (not requiring turning of libvirtd AppArmor profile)?</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/21</link>
        <pubDate>Fri, 25 Jul 2014 14:44:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-21</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
      <item>
        <title>Whonix 8.6 KVM Error in Debian Stable</title>
        <dc:creator><![CDATA[gh0st66]]></dc:creator>
        <description><![CDATA[
            <p>for anyone who is using debian stable, so far it seems that you may need to do the following steps in order to use kvm with apparmor</p>
<ol>
<li>put the apparmor profiles “nsmasq” and “libvirtd” profiles into complain mode</li>
</ol>
<p><code>sudo aa-complain /usr/sbin/libvirtd
sudo aa-complain /usr/sbin/dnsmasq</code></p>
<ol start="2">
<li>import the Whonix xml config files as sudo: (refer to <a href="https://www.whonix.org/wiki/KVM" rel="nofollow noopener">https://www.whonix.org/wiki/KVM</a> for more info)</li>
</ol>
<p><code>sudo virsh define ~/Whonix-Gateway/Whonix-Gateway_kvm-*.xml
sudo virsh net-define ~/Whonix-Gateway/Whonix_network-*.xml
sudo virsh define ~/Whonix-Workstation/Whonix-Workstation_kvm-*.xml</code></p>
<ol start="3">
<li>start networks and VM’s:</li>
</ol>
<p><code>sudo virsh net-start Whonix
sudo virsh net-start default
sudo virsh start Whonix-Gateway
sudo virsh start Whonix-Workstation</code></p>
<ol start="4">
<li>put apparmor profiles back into enforce mode:</li>
</ol>
<p><code>sudo aa-enforce /usr/sbin/libvirtd
sudo aa-enforce  /usr/sbin/dnsmasq</code></p>
<p>The only downside is that you have to repeat steps 1, then sudo start both ‘default’ and ‘Whonix’ networks again  each time after you restart your computer want to start the VM’s again. Then when VMs are running, repeat step 4 to enforce apparmor profiles again.</p>
          <p><a href="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368/20</link>
        <pubDate>Fri, 25 Jul 2014 04:04:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-368-20</guid>
        <source url="http://forums.whonix.org/t/whonix-8-6-kvm-error-in-debian-stable/368.rss">Whonix 8.6 KVM Error in Debian Stable</source>
      </item>
  </channel>
</rss>
