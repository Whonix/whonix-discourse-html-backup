<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Encrypting swap in Debian with a randomly generated passphrase on each startup</title>
    <link>http://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311</link>
    <description>I use Debian Gnome as a host for Whonix. The Debian installer offers the possibility to encrypt the /Home directory (encrypted LVM), but it does not offer the feature to also encrypt the swap area (they should add this feature asap). Is it more secure to also encrypt the swap area? And what about the need for it in case you&#39;ve disabled the suspend-to-disk feature? Will the swap area still be used by the OS or is there still a chance that data will be written to swap?

During the installation of the Debian host the LVM created a swap space. But how do I encrypt it so that on each startup the system generates a random password for the swap space? This is more easier than putting two long passphrases (one for /Home directory and one for swap area).


Any help on this will be much appreciated. Thank you!</description>
    <language>en</language>
    <lastBuildDate>Thu, 05 Jun 2014 09:34:28 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Encrypting swap in Debian with a randomly generated passphrase on each startup</title>
        <dc:creator><![CDATA[Greenwhonix]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="1" data-topic="311">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/w/77aa72/40.png" class="avatar"> whonn:</div>
<blockquote>
<p>But how do I encrypt it so that on each startup the system generates a random password for the swap space?</p>
</blockquote>
</aside>
<p>I can’t tell pretty much anything about Debian since it’s not my distro of choice + I heard they recently switched to that ugly and stupid systemd <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>However, I do know (and I use this feature for a few years already) that Slackware implements this feature and provides  a good HOWTO on enabling it (it’s not enabled by default but doing so either during the install process or manually, later, is really trivial).</p>
<p>References:</p>
<ol>
<li>
</li>
</ol>
<p><a href="http://slackware.at/data/slackware-14.1/README_CRYPT.TXT" class="onebox" target="_blank" rel="nofollow noopener">http://slackware.at/data/slackware-14.1/README_CRYPT.TXT</a></p>
<p>See the “Encrypted swap” section for a human-readable intro</p>
<ol start="2">
<li>
</li>
</ol>
<p><a href="http://slackware.at/data/slackware-14.1/source/a/sysvinit-scripts/scripts/rc.S" class="onebox" target="_blank" rel="nofollow noopener">http://slackware.at/data/slackware-14.1/source/a/sysvinit-scripts/scripts/rc.S</a></p>
<p>See lines 132-136, notice the usage of /dev/urandom</p>
<p>NOTES: the links are from a random Slackware mirror. If for some reason they won’t work for you, just pick another mirror and get the files from that location. There’s no reason to download the whole distribution just for that.</p>
          <p><a href="http://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311/3</link>
        <pubDate>Thu, 05 Jun 2014 09:34:28 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-311-3</guid>
        <source url="http://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311.rss">Encrypting swap in Debian with a randomly generated passphrase on each startup</source>
      </item>
      <item>
        <title>Encrypting swap in Debian with a randomly generated passphrase on each startup</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="whonn" data-post="1" data-topic="311">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/w/77aa72/40.png" class="avatar"> whonn:</div>
<blockquote>
<p>(they should add this feature asap)</p>
</blockquote>
</aside>
<p>They need people capable of implementing this.</p>
<blockquote>Is it more secure to also encrypt the swap area?</blockquote>
Yes. For me it is a must have.
<blockquote>And what about the need for it in case you've disabled the suspend-to-disk feature? Will the swap area still be used by the OS or is there still a chance that data will be written to swap?</blockquote>
Yes.
<blockquote>During the installation of the Debian host the LVM created a swap space. But how do I encrypt it so that on each startup the system generates a random password for the swap space?</blockquote>
Difficult question. Difficult to do, I would say.
<p>Since I like the idea “encrypt swap with random password” idea and would like to add this to Whonix anyway… I’ve created a script and software package to do exactly this.</p>
<p>Documentation is sparse. Can only be build and installed from source yet. From Whonix package sources in future as well, but that needs more time. And no one besides me tested it yet. I don’t know if it is compatible with LVM. Probably it is, but no one tested that yet. So better have a backup or test it in a VM first before you get any data loss. Having that said, however, you’re welcome as a tester. It can be found here:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">
      <a href="https://github.com/Whonix/swap-file-creator" target="_blank">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars3.githubusercontent.com/u/4500165?s=400&amp;v=4" class="thumbnail onebox-avatar" width="400" height="400">

<h3><a href="https://github.com/Whonix/swap-file-creator" target="_blank">Whonix/swap-file-creator</a></h3>

<p>Adds encrypted swap file to the system - for better protection of locally stored data and to aid environments with low RAM. - Whonix/swap-file-creator</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
          <p><a href="http://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311/2</link>
        <pubDate>Tue, 03 Jun 2014 14:27:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-311-2</guid>
        <source url="http://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311.rss">Encrypting swap in Debian with a randomly generated passphrase on each startup</source>
      </item>
      <item>
        <title>Encrypting swap in Debian with a randomly generated passphrase on each startup</title>
        <dc:creator><![CDATA[whonn]]></dc:creator>
        <description><![CDATA[
            <p>I use Debian Gnome as a host for Whonix. The Debian installer offers the possibility to encrypt the /Home directory (encrypted LVM), but it does not offer the feature to also encrypt the swap area (they should add this feature asap). Is it more secure to also encrypt the swap area? And what about the need for it in case you’ve disabled the suspend-to-disk feature? Will the swap area still be used by the OS or is there still a chance that data will be written to swap?</p>
<p>During the installation of the Debian host the LVM created a swap space. But how do I encrypt it so that on each startup the system generates a random password for the swap space? This is more easier than putting two long passphrases (one for /Home directory and one for swap area).</p>
<p>Any help on this will be much appreciated. Thank you!</p>
          <p><a href="http://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311/1</link>
        <pubDate>Mon, 02 Jun 2014 13:15:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-311-1</guid>
        <source url="http://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311.rss">Encrypting swap in Debian with a randomly generated passphrase on each startup</source>
      </item>
  </channel>
</rss>
