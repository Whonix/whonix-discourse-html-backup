<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Encrypting swap in Debian with a randomly generated passphrase on each startup - Support - Whonix Forum</title>
    <meta name="description" content="I use Debian Gnome as a host for Whonix. The Debian installer offers the possibility to encrypt the /Home directory (encrypted LVM), but it does not offer the feature to also encrypt the swap area (they should add this f&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="311.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Encrypting swap in Debian with a randomly generated passphrase on each startup&#39;" href="311.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311" />
<meta name="twitter:url" content="https://forums.whonix.org/t/encrypting-swap-in-debian-with-a-randomly-generated-passphrase-on-each-startup/311" />
<meta property="og:title" content="Encrypting swap in Debian with a randomly generated passphrase on each startup" />
<meta name="twitter:title" content="Encrypting swap in Debian with a randomly generated passphrase on each startup" />
<meta property="og:description" content="I use Debian Gnome as a host for Whonix. The Debian installer offers the possibility to encrypt the /Home directory (encrypted LVM), but it does not offer the feature to also encrypt the swap area (they should add this feature asap). Is it more secure to also encrypt the swap area? And what about the need for it in case you’ve disabled the suspend-to-disk feature? Will the swap area still be used by the OS or is there still a chance that data will be written to swap?  During the installation of ..." />
<meta name="twitter:description" content="I use Debian Gnome as a host for Whonix. The Debian installer offers the possibility to encrypt the /Home directory (encrypted LVM), but it does not offer the feature to also encrypt the swap area (they should add this feature asap). Is it more secure to also encrypt the swap area? And what about the need for it in case you’ve disabled the suspend-to-disk feature? Will the swap area still be used by the OS or is there still a chance that data will be written to swap?  During the installation of ..." />
<meta property="article:published_time" content="2014-06-02T13:15:42+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="311.html">Encrypting swap in Debian with a randomly generated passphrase on each startup</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/whonn'><span itemprop='name'>whonn</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="311.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-02T13:15:42Z' class='post-time'>
                June 2, 2014,  1:15pm
              </time>
              <meta itemprop='dateModified' content='2014-06-02T13:15:42Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I use Debian Gnome as a host for Whonix. The Debian installer offers the possibility to encrypt the /Home directory (encrypted LVM), but it does not offer the feature to also encrypt the swap area (they should add this feature asap). Is it more secure to also encrypt the swap area? And what about the need for it in case you’ve disabled the suspend-to-disk feature? Will the swap area still be used by the OS or is there still a chance that data will be written to swap?</p>
<p>During the installation of the Debian host the LVM created a swap space. But how do I encrypt it so that on each startup the system generates a random password for the swap space? This is more easier than putting two long passphrases (one for /Home directory and one for swap area).</p>
<p>Any help on this will be much appreciated. Thank you!</p>
        </div>

        <meta itemprop='headline' content='Encrypting swap in Debian with a randomly generated passphrase on each startup'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="311.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-03T14:27:58Z' class='post-time'>
                June 3, 2014,  2:27pm
              </time>
              <meta itemprop='dateModified' content='2014-06-03T14:27:58Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="whonn" data-post="1" data-topic="311">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/w/77aa72/40.png" class="avatar"> whonn:</div>
<blockquote>
<p>(they should add this feature asap)</p>
</blockquote>
</aside>
<p>They need people capable of implementing this.</p>
<blockquote>Is it more secure to also encrypt the swap area?</blockquote>
Yes. For me it is a must have.
<blockquote>And what about the need for it in case you've disabled the suspend-to-disk feature? Will the swap area still be used by the OS or is there still a chance that data will be written to swap?</blockquote>
Yes.
<blockquote>During the installation of the Debian host the LVM created a swap space. But how do I encrypt it so that on each startup the system generates a random password for the swap space?</blockquote>
Difficult question. Difficult to do, I would say.
<p>Since I like the idea “encrypt swap with random password” idea and would like to add this to Whonix anyway… I’ve created a script and software package to do exactly this.</p>
<p>Documentation is sparse. Can only be build and installed from source yet. From Whonix package sources in future as well, but that needs more time. And no one besides me tested it yet. I don’t know if it is compatible with LVM. Probably it is, but no one tested that yet. So better have a backup or test it in a VM first before you get any data loss. Having that said, however, you’re welcome as a tester. It can be found here:<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">
      <a href="../../../external.html?link=https://github.com/Whonix/swap-file-creator" target="_blank">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://avatars3.githubusercontent.com/u/4500165?s=400&amp;v=4" class="thumbnail onebox-avatar" width="400" height="400">

<h3><a href="../../../external.html?link=https://github.com/Whonix/swap-file-creator" target="_blank">Whonix/swap-file-creator</a></h3>

<p>Adds encrypted swap file to the system - for better protection of locally stored data and to aid environments with low RAM. - Whonix/swap-file-creator</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
        </div>

        <meta itemprop='headline' content='Encrypting swap in Debian with a randomly generated passphrase on each startup'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Greenwhonix'><span itemprop='name'>Greenwhonix</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="311.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-05T09:34:28Z' class='post-time'>
                June 5, 2014,  9:34am
              </time>
              <meta itemprop='dateModified' content='2014-06-05T09:34:28Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="1" data-topic="311">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/w/77aa72/40.png" class="avatar"> whonn:</div>
<blockquote>
<p>But how do I encrypt it so that on each startup the system generates a random password for the swap space?</p>
</blockquote>
</aside>
<p>I can’t tell pretty much anything about Debian since it’s not my distro of choice + I heard they recently switched to that ugly and stupid systemd <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>However, I do know (and I use this feature for a few years already) that Slackware implements this feature and provides  a good HOWTO on enabling it (it’s not enabled by default but doing so either during the install process or manually, later, is really trivial).</p>
<p>References:</p>
<ol>
<li>
</li>
</ol>
<p><a href="../../../external.html?link=http://slackware.at/data/slackware-14.1/README_CRYPT.TXT" class="onebox" target="_blank" rel="nofollow noopener">http://slackware.at/data/slackware-14.1/README_CRYPT.TXT</a></p>
<p>See the “Encrypted swap” section for a human-readable intro</p>
<ol start="2">
<li>
</li>
</ol>
<p><a href="../../../external.html?link=http://slackware.at/data/slackware-14.1/source/a/sysvinit-scripts/scripts/rc.S" class="onebox" target="_blank" rel="nofollow noopener">http://slackware.at/data/slackware-14.1/source/a/sysvinit-scripts/scripts/rc.S</a></p>
<p>See lines 132-136, notice the usage of /dev/urandom</p>
<p>NOTES: the links are from a random Slackware mirror. If for some reason they won’t work for you, just pick another mirror and get the files from that location. There’s no reason to download the whole distribution just for that.</p>
        </div>

        <meta itemprop='headline' content='Encrypting swap in Debian with a randomly generated passphrase on each startup'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
