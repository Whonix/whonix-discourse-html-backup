<!DOCTYPE html>
<html lang="en-US">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>bootclockrandomization always moving clock plus or 5 seconds - Development - Whonix Forum</title>
    <meta name="description" content="@marmarek wrote: 


BTW why 0-5 is excluded in bootclockrandomization? I think this leaks some data. For example if attacker have already some selected set of data to correlate (like &amp;quot;all Tor users in area X&amp;quot;), he/she ca&amp;hellip;">
    <meta name="generator" content="Discourse 2.6.4 - https://github.com/discourse/discourse version 3aa9ae08c25100970a99a08ab3052111de131888">
<link rel="icon" type="image/png" href="../../../external.html?link=https://forums.whonix.org/uploads/default/optimized/2X/f/f75358a50c52ba88d6c2e29e16841d4e8c0bc01d_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../external.html?link=https://forums.whonix.org/uploads/default/optimized/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2200.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../external.html?link=https://forums.whonix.org/opensearch.xml" title="Whonix Forum Search">

      <link href="../../../external.html?link=https://forums.whonix.org/stylesheets/desktop_58d0b514a01947e1cdfaacb95d12fa78413d74ec.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop" data-theme-id="4"/>
      <link href="../../../external.html?link=https://forums.whonix.org/stylesheets/desktop_theme_4_56262037489ddd36b2015d96ef48a75a8cf6cf51.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4"/>
    <center>
[<a href="../../../www.whonix.org/index.html">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;bootclockrandomization always moving clock plus or 5 seconds&#39;" href="2200.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/d/dd02aea8470f79c9c64a22fa02463adaf9c8d08d.png" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/9/997bef28d9dd0e3a84553afa8e33f383970adcab.png" />
<meta property="og:url" content="https://forums.whonix.org/t/bootclockrandomization-always-moving-clock-plus-or-5-seconds/2200" />
<meta name="twitter:url" content="https://forums.whonix.org/t/bootclockrandomization-always-moving-clock-plus-or-5-seconds/2200" />
<meta property="og:title" content="bootclockrandomization always moving clock plus or 5 seconds" />
<meta name="twitter:title" content="bootclockrandomization always moving clock plus or 5 seconds" />
<meta property="og:description" content="@marmarek wrote:   BTW why 0-5 is excluded in bootclockrandomization? I think this leaks some data. For example if attacker have already some selected set of data to correlate (like ‚Äúall Tor users in area X‚Äù), he/she can easily further narrow the search by eliminating those with time almost in sync (+/-5sec). Given popularity of NTP, which (when works) is pretty good at keeping the time in sync, this allows to easily eliminate all such users, leaving probably only those using Whonix, or maybe ev..." />
<meta name="twitter:description" content="@marmarek wrote:   BTW why 0-5 is excluded in bootclockrandomization? I think this leaks some data. For example if attacker have already some selected set of data to correlate (like ‚Äúall Tor users in area X‚Äù), he/she can easily further narrow the search by eliminating those with time almost in sync (+/-5sec). Given popularity of NTP, which (when works) is pretty good at keeping the time in sync, this allows to easily eliminate all such users, leaving probably only those using Whonix, or maybe ev..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="4 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 ‚ù§" />
<meta property="article:published_time" content="2016-03-08T22:05:39+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="2200.html">bootclockrandomization always moving clock plus or 5 seconds</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../u/Patrick.html'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2200.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-03-08T22:05:39Z' class='post-time'>
                March 8, 2016, 10:05pm
              </time>
              <meta itemprop='dateModified' content='2016-03-08T22:05:39Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../u/marmarek.html">@marmarek</a> <a href="../../../external.html?link=https://groups.google.com/d/msg/qubes-devel/aN3IOv6JmKw/_XOwbV-EAgAJ">wrote</a>:</p>
<blockquote>
<p>BTW why 0-5 is excluded in bootclockrandomization? I think this leaks some data. For example if attacker have already some selected set of data to correlate (like ‚Äúall Tor users in area X‚Äù), he/she can easily further narrow the search by eliminating those with time almost in sync (+/-5sec). Given popularity of NTP, which (when works) is pretty good at keeping the time in sync, this allows to easily eliminate all such users, leaving probably only those using Whonix, or maybe even more precise correlation‚Ä¶</p>
</blockquote>
<blockquote>
<p><a href="../../../external.html?link=https://github.com/Whonix/bootclockrandomization/blob/77d3e620017dd067e1660e7bebf582f042484c47/usr/share/bootclockrandomization/start#L26-L27">https://github.com/Whonix/bootclockrandomization/blob/77d3e620017dd067e1660e7bebf582f042484c47/usr/share/bootclockrandomization/start#L26-L27</a></p>
</blockquote>
        </div>

        <meta itemprop='headline' content='bootclockrandomization always moving clock plus or 5 seconds'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../u/Patrick.html'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2200.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-03-10T01:03:53Z' class='post-time'>
                March 10, 2016,  1:03am
              </time>
              <meta itemprop='dateModified' content='2016-03-10T01:03:53Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>boot clock randomization can indeed use some more discussion and scrutiny. Here is what it‚Äôs about‚Ä¶</p>
<p>(Trying to speak more generally, less Qubes specific here.)</p>
<p>Assumption: Lots of users are either</p>
<ul>
<li>a) using NTP and have usually correct quite precise clocks</li>
<li>b) using NTP and currently having a slow or fast clock about 1, 2, ‚Ä¶ etc. seconds</li>
<li>c) some have buggy setups and clocks that are far off</li>
</ul>
<p>There are various <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/TimeSync#Local_Clock_Leaks">local clock leaks</a>. We try/recommend to prevent all of them, but it‚Äôs impossible to be sure we are aware of all of them.</p>
<p>Let‚Äôs take a not so uncommon use case. A user wants to visit a website that does not work in Tor Browser or requires some special plugin that is blocked by Tor Browser. In such cases users switch to other browsers such as iceweasel. And iceweasel will leak the local VM clock through javascript [and more].</p>
<p>Before sdwdate finished setting the clock after boot to unlink it from the host [in Qubes terms: from sys-net and other non-Tor VMs] or in case sdwdate fails, there is at least bootclockrandomization to archive that. [The long term is to block all networking but sdwdate until sdwdate is done, but it takes a while until we get there. -&gt; <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/TimeSync#sdwdate-gui">sdwdate-gui</a>) [and for sdwdate fetches itself it is desireable to at least have bootclockrandomization just in case]</p>
<p><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/TimeSync">In the wiki the only rationale explanation currently is the following.</a></p>
<blockquote>
<p>Using <a href="../../../external.html?link=https://github.com/Whonix/bootclockrandomization">Boot Clock Randomization</a>, i.e. after boot, the clock is set randomly between 5 and 180 seconds  into the past or future. This is useful to enforce the design goal, that the host clock and Whonix-Workstation clock should always slightly differ. It‚Äôs also useful to obfuscate the clock when sdwdate itself is running, because naturally at this time, sdwdate hasn‚Äôt finished.</p>
</blockquote>
<ul>
<li>Unlinking is the keyword.</li>
<li>It‚Äôs sane to assume that a non-torified host or other VMs may leak the local clock. (<a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/TimeSync#Local_Clock_Leaks">local clock leaks</a>)</li>
<li>It‚Äôs also sane to assume, that a Whonix VM may leak the local clock. (<a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/TimeSync#Local_Clock_Leaks">local clock leaks</a>)</li>
<li>It‚Äôs purpose is to prevent correlation / anonymity set reduction by comparing a local clock leak from let‚Äôs say for example iceweasel in a non-Tor VM and a local clock leak from let‚Äôs say iceweasel from within a Whonix VM.</li>
</ul>
<p>Now, how big is group a), b) and c)? It‚Äôs impossible to say. I am not aware of any research of that and we neither have the resources to do that research.</p>
<p>Let‚Äôs assume only 10% of users have a clock that is 4 seconds slow. If boot clock randomization added only +1, it seems to me the anonymity set reduction may still work. Or if it randomly picked 0, it would not help at all.</p>
<p>However, it‚Äôs right, there is a point. For users using Whonix VMs and doing stuff suffering from some local clock leak, we may indeed add some of the group a) users ‚Äúwith a perfectly synced clock‚Äù to an artificial ‚Äúunnecessarily‚Äù fingerprintable attribute that otherwise would not exist. On other other hand, users of group b) and c) would be better off. And since it‚Äôs public knowledge, that Whonix uses bootclockrandomization and sdwdate, all Whonix users can blend into the group of Whonix users. Thereby gain anonymity. And by the obfuscation of local clock state is leaked from within the VM, hopefully such clock correlation attacks become unattractive.</p>
<p>While I am at it‚Ä¶ What is sdwdate good for then‚Ä¶ Mostly useful for users of group b) and c), it sets the clock to a time that is as securely obtained and as correct as it can get. While still being independent from the host and other non-Tor VMs. And keeps it that way during long running sessions. The time set by sdwdate should then be similar enough for all Whonix users to make clock correlation attacks unattractive.</p>
<p>In an ideal world, we would require neither boot clock randomization nor sdwdate. The host would always boot would a perfectly synchronization time to begin with. And everyone would always have a perfectly synchronized time always. And online time syncing would be impossible to manipulate with by man-in-the-middle attacks.</p>
<p><a class="mention" href="../../u/marmarek.html">@marmarek</a> wrote:</p>
<blockquote>
<p>For example if attacker have already some selected set of data to<br>
correlate (like ‚Äúall Tor users in area X‚Äù), he/she can easily further<br>
narrow the search by eliminating those with time almost in sync<br>
(+/-5sec).</p>
</blockquote>
<p>Note, that this +/-5sec (emitted from within Whonix VMs) should only be observable at Tor exit relays, destination websites and onion servers. Not at ISP level. (ISP might observe local clock leaks by the host or other non-Tor VMs.)</p>
<p>//cc <a class="mention" href="../../u/hulahoop-2.html">@HulaHoop</a></p>
        </div>

        <meta itemprop='headline' content='bootclockrandomization always moving clock plus or 5 seconds'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../u/marmarek.html'><span itemprop='name'>marmarek</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2200.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2016-03-10T01:54:39Z'>
              <time itemprop='dateModified' datetime='2016-03-10T01:55:06Z' class='post-time'>
                March 10, 2016,  1:55am
              </time>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p>In an ideal world, we would require neither boot clock randomization nor sdwdate. The host would always boot would a perfectly synchronization time to begin with. And everyone would always have a perfectly synchronized time always. And online time syncing would be impossible to manipulate with by man-in-the-middle attacks.</p>
</blockquote>
<p>Yes.</p>
<blockquote>
<p><a class="mention" href="../../u/marmarek.html">@marmarek</a> wrote:</p>
<blockquote>
<p>For example if attacker have already some selected set of data to<br>
correlate (like ‚Äúall Tor users in area X‚Äù), he/she can easily further<br>
narrow the search by eliminating those with time almost in sync<br>
(+/-5sec).</p>
</blockquote>
<p>Note, that this +/-5sec (emitted from within Whonix VMs) should only be observable at Tor exit relays, destination websites and onion servers. Not at ISP level. (ISP might observe local clock leaks by the host or other non-Tor VMs.)</p>
</blockquote>
<p>Exactly the point. This gives negative correlation between data gathered<br>
at local ISP level, with data from target server/exit relays.<br>
Additionally, if you have some other way to link multiple sessions of<br>
the same person, <em>on the target server</em> (like using the same pseudonym),<br>
you‚Äôll gain much in terms of host clock leak, just because this 10s<br>
range exclusion. Because every session (boot clock randomization run)<br>
gives you information about what 10s range is surely not the user host<br>
clock. After a while you‚Äôll exclude pretty much of the whole ¬±180s<br>
range giving you quite precise approximation of host clock. In extreme<br>
situation, 18 sessions would be enough (each excluding some 10s range).<br>
Then you need to correlate it with ISP level data.</p>
<p>The point is, when you want to unlink Whonix time from host time, you<br>
need to use as little host time as possible. If you just<br>
choose randomly from ¬±180s, choosing offset of 0s would be<br>
indistinguishable from some other user randomly choosing offset of 30s<br>
and having host time -30s off (or any other value, as long as both are<br>
the same). But if you exclude ¬±5s range (or if fact any range), you<br>
help with reducing anonymity by excluding those ‚Äúclearnet hosts‚Äù with time<br>
in ¬±5s range of the Whonix-ws leaked one.</p>
<p>Best Regards,<br>
Marek Marczykowski-G√≥recki<br>
Invisible Things Lab<br>
A: Because it messes up the order in which people normally read text.<br>
Q: Why is top-posting such a bad thing?</p>
        </div>

        <meta itemprop='headline' content='bootclockrandomization always moving clock plus or 5 seconds'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../u/marmarek.html'><span itemprop='name'>marmarek</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2200.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-03-10T10:50:50Z' class='post-time'>
                March 10, 2016, 10:50am
              </time>
              <meta itemprop='dateModified' content='2016-03-10T10:50:50Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>In other words:<br>
If the attacker knows that the time is strictly randomized (¬±180s without<br>
exclusions), any clock leak is untrustworthy; if the attacker knows that<br>
time is randomized by ¬±5-180s, some times can be excluded and in fact we<br>
leak more information that before.</p>
<p>Full randomization: true machine time has 361 equivalently possible values<br>
(approx; this doesn‚Äôt count miliseconds randomization, but it‚Äôs a passable simplification)<br>
Randomization with exclusion: true machine time has 350 equivalently<br>
possible values.</p>
<p>Assuming two times leaked, say 00:04:15 and 00:05:01,we have:<br>
full randomization: real time is between 00:02:01 and 00:07:15, that is, we<br>
have 314 possible times to choose from<br>
randomization with exclusion: real time is between 00:02:01 and 00:07:15,<br>
with the exclusion of periods 00:04:10-00:04:20 and 00:04:56-00:05:11,<br>
which gives 292 possible times.</p>
<p>In layman‚Äôs terms, it‚Äôs the difference between ‚ÄúI rolled a die and adjusted<br>
the result by 1,0 or -1, now I have a three‚Äù and ‚ÄúI rolled a die and<br>
adjusted the result by 1 or -1 and now I have a three‚Äù. Although the second<br>
method does never result in the starting roll, it actually leaks more, not<br>
less information about it.</p>
        </div>

        <meta itemprop='headline' content='bootclockrandomization always moving clock plus or 5 seconds'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../u/HulaHoop.html'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2200.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-03-10T23:30:17Z' class='post-time'>
                March 10, 2016, 11:30pm
              </time>
              <meta itemprop='dateModified' content='2016-03-10T23:30:17Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Patrick I agree.</p>
<p>The choice is between passively leaking to exit relays and beyond that the WS clock is a little off to NTP vs leaking something very close to the host clock. The latter is much worse and protected against by the randomization. This creates an anonymity set (all Whonix users).</p>
<p>This is similar to how all Tor designed applications like TBB have a fingerprint different than everything else but provide the same safe defaults across the board.</p>
        </div>

        <meta itemprop='headline' content='bootclockrandomization always moving clock plus or 5 seconds'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../u/marmarek.html'><span itemprop='name'>marmarek</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2200.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2016-03-11T00:06:42Z'>
              <time itemprop='dateModified' datetime='2016-03-11T00:07:33Z' class='post-time'>
                March 11, 2016, 12:07am
              </time>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p>The choice is between passively leaking to exit relays and beyond that the WS clock is a little off to NTP vs leaking something very close to the host clock. The latter is much worse and protected against by the randomization. This creates an anonymity set (all Whonix users).</p>
</blockquote>
<p>The attacker have no idea how close leaked time is to the host time.<br>
Unless you announce it.<br>
Following your reasoning to the extreme, adding always +3min to the host<br>
clock would be the best, because it would always be different than host<br>
clock. But in fact (together with public information about this<br>
implementation) it leaks precise host clock.</p>
<p>Just excluding -5-+5 range, doesn‚Äôt leak that precise information, but<br>
leaks more than real random offset (as explained in the previous<br>
message).</p>
<blockquote>
<p>This is similar to how all Tor designed applications like TBB have a fingerprint different than everything else but provide the same safe defaults across the board.</p>
</blockquote>
<p>This would make any sense only if everyone would have precisely the same<br>
host time (in which case time randomization wouldn‚Äôt be needed at<br>
all‚Ä¶). Otherwise it isn‚Äôt true that every user will look the same - it<br>
will still depend on host clock, which may be different.</p>
<p>Best Regards,<br>
Marek Marczykowski-G√≥recki<br>
Invisible Things Lab<br>
A: Because it messes up the order in which people normally read text.<br>
Q: Why is top-posting such a bad thing?</p>
        </div>

        <meta itemprop='headline' content='bootclockrandomization always moving clock plus or 5 seconds'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../u/Patrick.html'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2200.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2016-03-11T00:18:33Z'>
              <time itemprop='dateModified' datetime='2016-03-11T00:18:41Z' class='post-time'>
                March 11, 2016, 12:18am
              </time>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Your suggestion is to:</p>
<ul>
<li>remove the minimum +/- 5 seconds thing</li>
<li>keep randomizing nanoseconds (we really don‚Äôt want a high res local clock leak to aid correlation)</li>
<li>otherwise keep boot clock randomization as is</li>
</ul>
<p>?</p>
        </div>

        <meta itemprop='headline' content='bootclockrandomization always moving clock plus or 5 seconds'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../u/marmarek.html'><span itemprop='name'>marmarek</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2200.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2016-03-11T00:28:09Z'>
              <time itemprop='dateModified' datetime='2016-03-11T00:29:28Z' class='post-time'>
                March 11, 2016, 12:29am
              </time>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p>Your suggestion is to:</p>
<ul>
<li>remove the minimum +/- 5 seconds thing</li>
<li>keep randomizing nanoseconds (we really don‚Äôt want a high res local clock leak to aid correlation)</li>
<li>otherwise keep boot clock randomization as is</li>
</ul>
</blockquote>
<p>Yes, exactly.</p>
<p>Best Regards,<br>
Marek Marczykowski-G√≥recki<br>
Invisible Things Lab<br>
A: Because it messes up the order in which people normally read text.<br>
Q: Why is top-posting such a bad thing?</p>
        </div>

        <meta itemprop='headline' content='bootclockrandomization always moving clock plus or 5 seconds'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../u/Patrick.html'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2200.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-03-13T00:50:25Z' class='post-time'>
                March 13, 2016, 12:50am
              </time>
              <meta itemprop='dateModified' content='2016-03-13T00:50:25Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Agreed!</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/bootclockrandomization/commit/add0177c2dda409c6f5dcf224d62469ac2d6d83f" target="_blank" rel="nofollow noopener">github.com/Whonix/bootclockrandomization</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/Whonix/bootclockrandomization/commit/add0177c2dda409c6f5dcf224d62469ac2d6d83f" target="_blank" rel="nofollow noopener">no longer exclude +/- 5 seconds range to avoid fingerprinting negative correlation</a>
</h4>

  <pre class="message" style="white-space: pre-wrap;">Thanks to @marmarek for the suggestion!
https://github.com/QubesOS/qubes-issues/issues/1764#issuecomment-195619793</pre>

<div class="date">
  by <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../external.html?link=https://github.com/Whonix/bootclockrandomization/commit/add0177c2dda409c6f5dcf224d62469ac2d6d83f" target="_blank" rel="nofollow noopener">12:50AM - 13 Mar 16</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>2 additions</strong>
  and <strong>2 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='bootclockrandomization always moving clock plus or 5 seconds'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../u/Patrick.html'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2200.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-31T11:24:52Z' class='post-time'>
                March 31, 2020, 11:24am
              </time>
              <meta itemprop='dateModified' content='2020-03-31T11:24:52Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>bootclockrandomization fails inside a systemd-nspawn chroot.</p>
<pre><code>Mar 31 06:51:19 host systemd[1]: Starting Boot Clock Randomization...
Mar 31 06:51:19 host start[102]: + 129 262440680
Mar 31 06:51:19 host start[102]: date: cannot set date: Operation not permitted
Mar 31 06:51:19 host start[102]: ERROR: exit_code: 1 | BASH_COMMAND: date --set "@$NEW_TIME.$NANOSECONDS" &gt; /dev
Mar 31 06:51:19 host systemd[1]: bootclockrandomization.service: Main process exited, code=exited, status=1/FAIL
Mar 31 06:51:19 host systemd[1]: bootclockrandomization.service: Failed with result 'exit-code'.
Mar 31 06:51:19 host systemd[1]: Failed to start Boot Clock Randomization.
</code></pre>
<p>Same holds true for sdwdate.</p>
<p>This is expected because Quote <a href="../../../external.html?link=https://www.freedesktop.org/software/systemd/man/systemd-nspawn.html">https://www.freedesktop.org/software/systemd/man/systemd-nspawn.html</a></p>
<blockquote>
<p>The host‚Äôs network interfaces and the system <em>clock</em> may not be <em>changed</em> from within the <em>container</em>.</p>
</blockquote>
<p>What should bootclockrandomization do in that case? Ignore the error? I guess not a great solution.</p>
<p>Maybe not start in these cases at all using <code>ConditionVirtualization=!systemd-nspawn</code>?</p>
        </div>

        <meta itemprop='headline' content='bootclockrandomization always moving clock plus or 5 seconds'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/1/1fe0587524112f37ca32e0541d281d3d0a4eedf9.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../u/HulaHoop.html'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="2200.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-04-01T16:40:16Z' class='post-time'>
                April 1, 2020,  4:40pm
              </time>
              <meta itemprop='dateModified' content='2020-04-01T16:40:16Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The clock support in namespaces is a special case that was recently added this year:</p>
<p><a href="../../../external.html?link=https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-Time-Namespace-Coming" class="onebox" target="_blank">https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-Time-Namespace-Coming</a></p>
        </div>

        <meta itemprop='headline' content='bootclockrandomization always moving clock plus or 5 seconds'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
