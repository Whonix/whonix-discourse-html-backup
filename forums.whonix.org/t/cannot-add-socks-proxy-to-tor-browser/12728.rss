<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Cannot add SOCKS proxy to Tor Browser</title>
    <link>http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728</link>
    <description>**I want:** `ISP -&gt; Tor -&gt; Proxy -&gt; Site`.
**Reason:** to bypass Tor exit nodes block by destination website.
**Why in Tor Browser not in Firefox:** to have the same fingerprint as in TB and to get rid of Firefox built-in malware.

Hello. I&#39;d like to set up SOCKS(4/5) proxy in Tor Browser on Whonix Workstation. I followed the instruction described in support but after I perform the actions described in wiki, connections are closed though in Firefox browser on top of Workstation adding SOCKS proxies works well. I think that something inside Whonix Tor Browser configuration prevents from connection to SOCKS proxies.

I did the following inside Tor Browser&#39;s `about:config`:
`extensions.torbutton.use_nontor_proxy` -&gt; `true`
`network.proxy.no_proxies_on` -&gt; `0`
`network.proxy.socks` -&gt; `IP of proxy server`
`network.proxy.socks_port` -&gt; `Port number of proxy server`

But that doesn&#39;t work! Help please!</description>
    <language>en</language>
    <lastBuildDate>Thu, 18 Nov 2021 15:31:34 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Cannot add SOCKS proxy to Tor Browser</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="motherhacker" data-post="5" data-topic="12728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/85f322/40.png" class="avatar"> motherhacker:</div>
<blockquote>
<p>I don’t know why proxies work better with Firefox ESR and worse with TBB.</p>
</blockquote>
</aside>
<p>Could be, sounds unspecific to Whonix.</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">

      <a href="https://www.whonix.org/wiki/Unspecific" target="_blank" rel="noopener" title="02:26PM - 17 November 2021">Whonix – 17 Nov 21</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:85/170;"><img src="https://www.whonix.org/w/images/7/74/Booster132.png" class="thumbnail" width="85" height="170"></div>

<h3><a href="https://www.whonix.org/wiki/Unspecific" target="_blank" rel="noopener">Information Booster might be Available!</a></h3>

  <p>Utilizing other resources to help solve questions/issues unspecific to Whonix ™.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/7</link>
        <pubDate>Thu, 18 Nov 2021 15:31:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12728-7</guid>
        <source url="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728.rss">Cannot add SOCKS proxy to Tor Browser</source>
      </item>
      <item>
        <title>Cannot add SOCKS proxy to Tor Browser</title>
        <dc:creator><![CDATA[motherhacker]]></dc:creator>
        <description><![CDATA[
            <p>So, there are generally two approaches how to make <code>ISP -&gt; Tor -&gt; Proxy -&gt; Site</code> work well.</p>
<ol>
<li>Modifying Whonix’s TBB settings in order to make TBB on top of ws work well with socks proxies.</li>
<li>Use Firefox ESR and edit <code>about:config</code> settings as much as possible in order to make Firefox ESR fingerprint similar to Tor Browser. Huge job should be done in that case.</li>
</ol>
          <p><a href="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/6</link>
        <pubDate>Wed, 17 Nov 2021 19:18:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12728-6</guid>
        <source url="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728.rss">Cannot add SOCKS proxy to Tor Browser</source>
      </item>
      <item>
        <title>Cannot add SOCKS proxy to Tor Browser</title>
        <dc:creator><![CDATA[motherhacker]]></dc:creator>
        <description><![CDATA[
            <p>I don’t know why, but socks proxies still work bad with Tor Browser. Connections are slower, sometimes disappears. SOCKS proxies works better with Firefox ESR on top of Whonix Workstation. May be it depends on proxy, may be not. So, I don’t know why proxies work better with Firefox ESR and worse with TBB.</p>
          <p><a href="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/5</link>
        <pubDate>Wed, 17 Nov 2021 19:14:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12728-5</guid>
        <source url="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728.rss">Cannot add SOCKS proxy to Tor Browser</source>
      </item>
      <item>
        <title>Cannot add SOCKS proxy to Tor Browser</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Thank you.</p>
<p>Created for it:</p>
<aside class="quote quote-modified" data-post="1" data-topic="12773">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="https://forums.whonix.org/t/tor-browser-proxy-configuration-wiki-template-settings-discussion/12773">Tor Browser Proxy Configuration wiki template settings discussion</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/website/6"><span class="badge-category-bg" style="background-color: #0E76BD;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Issues and improvements with the Whonix website. (website devs) (user documentation devs)">Website</span></a>
  </div>
  <blockquote>
    Continuing the discussion from <a href="https://forums.whonix.org/t/long-wiki-edits-thread/3477/1475">Long Wiki Edits Thread</a>: 


Old version: <a href="https://www.whonix.org/w/index.php?title=Template:TorBrowser_Proxy_Configuration&amp;oldid=65909" class="inline-onebox">Template:TorBrowser Proxy Configuration - Whonix</a> 

This process can be repeated with socks proxies, but it is redundant and does not provide any advantage over the former types. The reason is because only Tor Browser is modified and no other programs are being tunneled through it. 

I don’t understand this. 
Based on <a href="https://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/3" class="inline-onebox">Cannot add SOCKS proxy to Tor Browser - #3 by motherhacker</a> these instructions have been improved just now. 

T…
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/4</link>
        <pubDate>Wed, 10 Nov 2021 11:22:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12728-4</guid>
        <source url="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728.rss">Cannot add SOCKS proxy to Tor Browser</source>
      </item>
      <item>
        <title>Cannot add SOCKS proxy to Tor Browser</title>
        <dc:creator><![CDATA[motherhacker]]></dc:creator>
        <description><![CDATA[
            <p>Finally, I’ve found the solution how to turn on SOCKS proxy on Tor Browser in Whonix Workstation. I made the following steps:</p>
<ol>
<li>Reinstalled fresh Tor Browser using Tor Browser Downloader (by Whonix)</li>
<li>Started TB, went to <code>about:config</code> and switched <code>network.dns.disabled</code> (enable DNS resolving) option to <code>false</code>
</li>
<li>Then, I switched <code>extensions.torbutton.use_nontor_proxy</code> (allow Tor Browser to use non-Tor proxies) to <code>true</code>. Browser was restarted automatically after switching that option</li>
<li>Then, in <code>about:config</code> I set <code>network.proxy.no_proxies_on</code> option value 0 (told TB that I want to use proxy)</li>
<li>And finally, set up SOCKS proxy settings:<br>
<code>network.proxy.socks</code> → <code>IP of proxy server</code><br>
<code>network.proxy.socks_port</code> → <code>Port number</code><br>
<code>network.proxy.socks_remote_dns</code> → <code>false</code> (if your proxy server doesn’t support resolving DNS through proxy. In this case, DNS will go through Tor exit nodes thanks to Whonix)<br>
<code>network.proxy.socks_version</code> → <code>4/5</code> (Version of your proxy server)</li>
</ol>
<p>After that, everything worked well!</p>
          <p><a href="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/3</link>
        <pubDate>Thu, 04 Nov 2021 12:26:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12728-3</guid>
        <source url="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728.rss">Cannot add SOCKS proxy to Tor Browser</source>
      </item>
      <item>
        <title>Cannot add SOCKS proxy to Tor Browser</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>No changes from the Whonix side related to that in a long time.</p>
<aside class="quote no-group" data-username="motherhacker" data-post="1" data-topic="12728">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/85f322/40.png" class="avatar"> motherhacker:</div>
<blockquote>
<p>I think that something inside Whonix Tor Browser configuration prevents from connection to SOCKS proxies.</p>
</blockquote>
</aside>
<p>Whonix Tor Browser configuration is by design kept minimal to prevent such doubts and mystery, see <a href="https://www.whonix.org/wiki/Tor_Browser#Whonix_.E2.84.A2_Tor_Browser_Differences">Whonix ™ Tor Browser Differences</a>.</p>
<p>The grand total of changes essentially boils down to these <a href="https://www.whonix.org/wiki/Dev/anon-ws-disable-stacked-tor#Environmental_Variable_Adjustments">Environmental Variable Adjustments</a>.</p>
<p>I recommend <a href="https://www.whonix.org/wiki/Reporting_Bugs#Generic_Bug_Reproduction">Generic Bug Reproduction</a> as follows:<br>
Use Tor Browser outside of Whonix (in Debian <code>bullseye</code>) and re-configure it to use only a proxy. Only once that is known to work, try inside Whonix-Workstaiton.</p>
<hr>
<p>For reference:</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">

      <a href="https://www.whonix.org/wiki/Tunnels/Introduction" target="_blank" rel="noopener" title="11:59PM - 16 September 2021">Whonix – 16 Sep 21</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:131/92;"><img src="https://www.whonix.org/w/images/8/86/Beyond-1087922640.jpg" class="thumbnail" width="131" height="92"></div>

<h3><a href="https://www.whonix.org/wiki/Tunnels/Introduction" target="_blank" rel="noopener">Combining Tunnels with Tor</a></h3>

  <p>Information on whether Tor gets more or less secure when combining Tor with tunnels such as VPN, SSH, proxies. (User → Tor → proxy/VPN/SSH → Internet) (User → proxy/VPN/SSH → Tor → Internet)</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">

      <a href="https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_proxy" target="_blank" rel="noopener" title="04:05AM - 31 October 2021">Whonix – 31 Oct 21</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:131/94;"><img src="https://www.whonix.org/w/images/f/f3/Balloon-936780640.jpg" class="thumbnail" width="131" height="94"></div>

<h3><a href="https://www.whonix.org/wiki/Tunnels/Connecting_to_Tor_before_a_proxy" target="_blank" rel="noopener">Connecting to Tor before a Proxy</a></h3>

  <p>Instructions on how to connect to Tor before a proxy (User → Tor → Proxy → Internet)</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/2</link>
        <pubDate>Thu, 04 Nov 2021 08:54:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12728-2</guid>
        <source url="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728.rss">Cannot add SOCKS proxy to Tor Browser</source>
      </item>
      <item>
        <title>Cannot add SOCKS proxy to Tor Browser</title>
        <dc:creator><![CDATA[motherhacker]]></dc:creator>
        <description><![CDATA[
            <p><strong>I want:</strong> <code>ISP -&gt; Tor -&gt; Proxy -&gt; Site</code>.<br>
<strong>Reason:</strong> to bypass Tor exit nodes block by destination website.<br>
<strong>Why in Tor Browser not in Firefox:</strong> to have the same fingerprint as in TB and to get rid of Firefox built-in malware.</p>
<p>Hello. I’d like to set up SOCKS(4/5) proxy in Tor Browser on Whonix Workstation. I followed the instruction described in support but after I perform the actions described in wiki, connections are closed though in Firefox browser on top of Workstation adding SOCKS proxies works well. I think that something inside Whonix Tor Browser configuration prevents from connection to SOCKS proxies.</p>
<p>I did the following inside Tor Browser’s <code>about:config</code>:<br>
<code>extensions.torbutton.use_nontor_proxy</code> → <code>true</code><br>
<code>network.proxy.no_proxies_on</code> → <code>0</code><br>
<code>network.proxy.socks</code> → <code>IP of proxy server</code><br>
<code>network.proxy.socks_port</code> → <code>Port number of proxy server</code></p>
<p>But that doesn’t work! Help please!</p>
          <p><a href="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728/1</link>
        <pubDate>Wed, 03 Nov 2021 17:18:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12728-1</guid>
        <source url="http://forums.whonix.org/t/cannot-add-socks-proxy-to-tor-browser/12728.rss">Cannot add SOCKS proxy to Tor Browser</source>
      </item>
  </channel>
</rss>
