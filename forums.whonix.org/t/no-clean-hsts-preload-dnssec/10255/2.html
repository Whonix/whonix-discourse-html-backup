<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>no clean HSTS-Preload / DNSSEC - #2 by Patrick - Website - Whonix Forum</title>
    <meta name="description" content="Checking TLS configs: 


It says: 

Redirection from HTTP to HTTPS not to the same host: 
When HSTS is used, the plaintext port should redirect to the HTTPS variant of the same hostname. This approach ensures that HSTS i&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../10255.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;no clean HSTS-Preload / DNSSEC&#39;" href="../10255.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/no-clean-hsts-preload-dnssec/10255/2" />
<meta name="twitter:url" content="https://forums.whonix.org/t/no-clean-hsts-preload-dnssec/10255/2" />
<meta property="og:title" content="no clean HSTS-Preload / DNSSEC" />
<meta name="twitter:title" content="no clean HSTS-Preload / DNSSEC" />
<meta property="og:description" content="Thank you for reporting this!  Archived link to document progress, if any.  https://web.archive.org/web/20200912081644/https://www.hardenize.com/report/whonix.org/1599601859   I am inclined to ignore this unless someone has an argument why it is an actual issue.  Reason: no actual security issue for anyone.  In case of:   in case of no MITM: browser will ignore the HSTS header in case of MITM: the MITM can inject whatever malicious HSTS header  since this is over an unencrypted/unauthetnicated h..." />
<meta name="twitter:description" content="Thank you for reporting this!  Archived link to document progress, if any.  https://web.archive.org/web/20200912081644/https://www.hardenize.com/report/whonix.org/1599601859   I am inclined to ignore this unless someone has an argument why it is an actual issue.  Reason: no actual security issue for anyone.  In case of:   in case of no MITM: browser will ignore the HSTS header in case of MITM: the MITM can inject whatever malicious HSTS header  since this is over an unencrypted/unauthetnicated h..." />
<meta property="article:published_time" content="2020-09-12T08:29:35+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../10255.html">no clean HSTS-Preload / DNSSEC</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/website/6.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0E76BD'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Website</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/TNT_BOM_BOM'><span itemprop='name'>TNT_BOM_BOM</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../10255.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-12T04:56:27Z' class='post-time'>
                September 12, 2020,  4:56am
              </time>
              <meta itemprop='dateModified' content='2020-09-12T04:56:27Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Checking TLS configs:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../../external.html?link=https://www.hardenize.com/favicon/favicon-32x32.png" class="site-icon" width="32" height="32">
      <a href="../../../../external.html?link=https://www.hardenize.com/report/whonix.org/1599601859#www_hsts" target="_blank" rel="nofollow noopener">hardenize.com</a>
  </header>
  <article class="onebox-body">
    <img src="#" class="thumbnail" width="" height="">

<h3><a href="../../../../external.html?link=https://www.hardenize.com/report/whonix.org/1599601859#www_hsts" target="_blank" rel="nofollow noopener">Hardenize Report: whonix.org</a></h3>

<p>Hardenize continuously monitors security and configuration of your domain name, email servers, and web site.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>It says:</p>
<blockquote>
<p>Redirection from HTTP to HTTPS not to the same host:</p>
<p>When HSTS is used, the plaintext port should redirect to the HTTPS variant of the same hostname. This approach ensures that HSTS is enabled on that hostname, even if later the client is sent elsewhere. A redirection to another host is only safe if it is for a parent host that has HSTS with includeSubDomains enabled, but that’s not the case here.</p>
<p><strong>Starting point:</strong> <a href="../../../../external.html?link=http://whonix.org/" rel="nofollow noopener">http://whonix.org</a></p>
<p><strong>Current redirection:</strong> <a href="../../../../external.html?link=https://www.whonix.org/" rel="nofollow noopener">https://www.whonix.org/</a></p>
<p><strong>Expected redirection:</strong> <a href="../../../../external.html?link=https://whonix.org/" rel="nofollow noopener">https://whonix.org</a></p>
</blockquote>
<p>and</p>
<blockquote>
<h3>Analysis</h3>
<p>Policy set on plaintext port</p>
<p>HSTS policies must not be transmitted over insecure channels.</p>
<p><strong>Location:</strong> <a href="../../../../external.html?link=http://whonix.org/" rel="nofollow noopener">http://whonix.org/</a></p>
<p>Policy set on plaintext port</p>
<p>HSTS policies must not be transmitted over insecure channels.</p>
<p><strong>Location:</strong> <a href="../../../../external.html?link=http://www.whonix.org/" rel="nofollow noopener">http://www.whonix.org/</a></p>
</blockquote>
<hr>
<p>DNSSEC warnings (not in our hands to fix mostly but shall we contact?):</p>
<p><a href="../../../../external.html?link=https://zonemaster.net/result/e0d85cd688164b60" rel="nofollow noopener">https://zonemaster.net/result/e0d85cd688164b60</a> :</p>
<blockquote>
<p>ADDRESS	WARNING	Nameserver <a href="../../../../external.html?link=http://ns-61-b.gandi.net/" rel="nofollow noopener">ns-61-b.gandi.net</a> has an IP address (213.167.230.62) without PTR configured.</p>
</blockquote>
<blockquote>
<div class="md-table">
<table>
<thead>
<tr>
<th>14</th>
<th>CONNECTIVITY</th>
<th>WARNING</th>
<th>All nameservers in the delegation have IPv4 addresses in the same AS (209453).</th>
</tr>
</thead>
<tbody>
<tr>
<td>15</td>
<td>CONNECTIVITY</td>
<td>WARNING</td>
<td>All nameservers in the delegation have IPv6 addresses in the same AS (209453).</td>
</tr>
<tr>
<td>16</td>
<td>CONNECTIVITY</td>
<td>WARNING</td>
<td>All nameservers in the delegation are in the same AS (209453).</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
<blockquote>
<p>ZONE<br>
0	ZONE	NOTICE	SOA ‘mname’ nameserver (<a href="../../../../external.html?link=http://ns1.gandi.net/" rel="nofollow noopener">ns1.gandi.net</a>) is not listed in “parent” NS records for tested zone (<a href="../../../../external.html?link=http://ns-10-c.gandi.net/" rel="nofollow noopener">ns-10-c.gandi.net</a>; <a href="../../../../external.html?link=http://ns-185-a.gandi.net/" rel="nofollow noopener">ns-185-a.gandi.net</a>; <a href="../../../../external.html?link=http://ns-61-b.gandi.net/" rel="nofollow noopener">ns-61-b.gandi.net</a>).<br>
1	ZONE	NOTICE	SOA ‘refresh’ value (10800) is less than the recommended minimum (14400).</p>
</blockquote>
<p>No idea how important is that, cc <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
        </div>

        <meta itemprop='headline' content='no clean HSTS-Preload / DNSSEC'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../whonix-15-0-1-5-4-for-virtualbox-point-release/10835.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../whonix-15-0-1-5-4-for-virtualbox-point-release/10835.html'>
                      <span itemprop='name'>Whonix 15.0.1.5.4 - for VirtualBox - Point Release!</span>
                    </a>
                    <meta itemprop='position' content='12'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../10255.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-12T08:29:35Z' class='post-time'>
                September 12, 2020,  8:29am
              </time>
              <meta itemprop='dateModified' content='2020-09-12T08:29:35Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank you for reporting this!</p>
<p>Archived link to document progress, if any.</p>
<p><a href="../../../../external.html?link=https://web.archive.org/web/20200912081644/https://www.hardenize.com/report/whonix.org/1599601859">https://web.archive.org/web/20200912081644/https://www.hardenize.com/report/whonix.org/1599601859</a></p>
<aside class="quote no-group" data-username="TNT_BOM_BOM" data-post="1" data-topic="10255">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.jpg" class="avatar"> TNT_BOM_BOM:</div>
<blockquote>
<p>HSTS policies must not be transmitted over insecure channels.</p>
</blockquote>
</aside>
<p>I am inclined to ignore this unless someone has an argument why it is an actual issue.<br>
Reason: no actual security issue for anyone.<br>
In case of:</p>
<ul>
<li>in case of no MITM: browser will ignore the HSTS header</li>
<li>in case of MITM: the MITM can inject whatever malicious HSTS header<br>
since this is over an unencrypted/unauthetnicated https connection (this is about the http version (non-TLS) (stub to redirect to https / TLS)).</li>
</ul>
<p>Also…</p>
<ul>
<li>In case browser honors HSTS preload list: this wouldn’t happen anyhow</li>
<li>In case browser ignores HSTS preload list: then whatever the clearnet version headers are cannot help anyhow</li>
</ul>
<p>It might be counter to some standard but I don’t see how it helps. It would complicate server nginx config for minimal gain (namely making a test website happy).</p>
<aside class="quote no-group" data-username="TNT_BOM_BOM" data-post="1" data-topic="10255">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.jpg" class="avatar"> TNT_BOM_BOM:</div>
<blockquote>
<p>Redirection from HTTP to HTTPS not to the same host:</p>
</blockquote>
</aside>
<p>This seems a bit pointless to me to redirect <a href="../../../../external.html?link=http://whonix.org/">http://whonix.org</a> (which we don’t use - <a href="../../../../external.html?link=http://whonix.org/">whonix.org</a> currently doesn’t use the non-subdomain, main domian) except for redirect to <a href="../../../../external.html?link=https://whonix.org/">https://whonix.org</a> to only then redirect to <a href="../../../../external.html?link=https://www.whonix.org/">https://www.whonix.org</a>. That would be a double redirect and make the website slower for those who just type <code>whonix.org</code>. Other test websites focused on website performance would complain about the double redirect.</p>
<p>Similar as above.</p>
<ul>
<li>In case browser honors HSTS preload list: then we don’t have a problem - first visit will use https (TLS) version even if user typed http (cleartext) version <code>whonix.org</code>
</li>
<li>In case browser ignores HSTS preload list: then nothing helps anyhow.</li>
</ul>
<blockquote>
<p>This policy appears to already be preloaded (or pending), but it doesn’t satisfies preloading requirements. Because this is an older preload entry there is currently no danger of being removed from the list, but that might change in the future. We recommend that you update your policy to match what is preloaded.</p>
</blockquote>
<p>I will apply advice from<br>
<a href="../../../../external.html?link=https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security</a><br>
which contains the <code>preload</code> keyword.</p>
<pre><code class="lang-auto">Strict-Transport-Security: max-age=63072000; includeSubDomains; preload
</code></pre>
<p>Previously when we required manually by e-mail or mailing list (forgot) years ago to be included on HSTS preload list there was no such keyword. Nowadays there is. Will add soon to be future proof.</p>
<aside class="quote no-group" data-username="TNT_BOM_BOM" data-post="1" data-topic="10255">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.jpg" class="avatar"> TNT_BOM_BOM:</div>
<blockquote>
<p>DNSSEC warnings (not in our hands to fix mostly but shall we contact?):</p>
</blockquote>
</aside>
<p>This one I don’t know and can only be fixed on gandi site. Dunno they’ll agree this is an issue. Could you contact them please?</p>
<hr>
<p>Please scrutinize this. <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
        </div>

        <meta itemprop='headline' content='no clean HSTS-Preload / DNSSEC'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../10255.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-12T16:50:54Z' class='post-time'>
                September 12, 2020,  4:50pm
              </time>
              <meta itemprop='dateModified' content='2020-09-12T16:50:54Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="10255">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><code>Strict-Transport-Security: max-age=63072000; includeSubDomains; preload</code></p>
</blockquote>
</aside>
<p>Done. Looks better now.</p>
<p><a href="../../../../external.html?link=https://www.hardenize.com/report/whonix.org/1599926605#www_hsts">https://www.hardenize.com/report/whonix.org/1599926605#www_hsts</a><br>
<a href="../../../../external.html?link=https://web.archive.org/web/20200912160607/https://www.hardenize.com/report/whonix.org/1599926605">https://web.archive.org/web/20200912160607/https://www.hardenize.com/report/whonix.org/1599926605</a></p>
<blockquote>
<p>HSTS policies must not be transmitted over insecure channels.</p>
</blockquote>
<p>Found this:</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/helmetjs/hsts/issues/16" target="_blank">github.com/helmetjs/hsts</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/helmetjs/hsts/issues/16" target="_blank">Always set the header, even in HTTP mode</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2016-11-12" data-time="18:35:13" data-timezone="UTC">06:35PM - 12 Nov 16 UTC</span>
      </div>

        <div class="date">
          closed <span class="discourse-local-date" data-format="ll" data-date="2017-07-21" data-time="20:05:44" data-timezone="UTC">08:05PM - 21 Jul 17 UTC</span>
        </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/EvanHahn" target="_blank">
          <img alt="EvanHahn" src="../../../../external.html?link=https://avatars1.githubusercontent.com/u/777712?v=4" class="onebox-avatar-inline" width="20" height="20">
          EvanHahn
        </a>
      </div>
    </div>
  </div>
</div>

<div class="github-row">
  <p class="github-content">To quote the spec:
If an HTTP response is received over insecure transport, the MUST ignore any present STS header field(s).
It seems...</p>
</div>

<div class="labels">
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>I agree. Better set one time too much than one time too few.</p>
<p><a href="../../../../external.html?link=https://hstspreload.org/">https://hstspreload.org</a> also looked good (before and now):</p>
<p><a href="../../../../external.html?link=https://hstspreload.org/?domain=whonix.org" class="onebox" target="_blank">https://hstspreload.org/?domain=whonix.org</a><br>
<a href="../../../../external.html?link=https://web.archive.org/web/20200912161131/https://hstspreload.org/?domain=whonix.org" class="onebox" target="_blank">https://web.archive.org/web/20200912161131/https://hstspreload.org/?domain=whonix.org</a></p>
<pre><code>curl --head http://whonix.org
</code></pre>
<p>Also looks already for cleartext version (redirection to TLS stub).</p>
<blockquote>
<p>Strict-Transport-Security: max-age=0<br>
Expect-CT: max-age=0</p>
</blockquote>
<p>Is the same as for Whonix onion domain. (Must not set HSTS there.)</p>
<p>ssllabs test HSTS preloading also passed:</p>
<p><a href="../../../../external.html?link=https://www.ssllabs.com/ssltest/analyze.html?d=whonix.org&amp;s=95.216.25.250" class="onebox" target="_blank">https://www.ssllabs.com/ssltest/analyze.html?d=whonix.org&amp;s=95.216.25.250</a><br>
<a href="../../../../external.html?link=https://www.ssllabs.com/ssltest/analyze.html?d=whonix.org&amp;s=2a01%3a4f9%3a2a%3a1a05%3a0%3a0%3a0%3a2" class="onebox" target="_blank">https://www.ssllabs.com/ssltest/analyze.html?d=whonix.org&amp;s=2a01%3A4f9%3A2a%3A1a05%3A0%3A0%3A0%3A2</a></p>
<blockquote>
<p>Strict Transport Security (HSTS) <strong>Yes</strong><br>
max-age=63072000; includeSubdomains; preload<br>
HSTS Preloading <strong>Chrome Edge Firefox IE</strong></p>
</blockquote>
<ul>
<li><a href="../../../../external.html?link=https://qualys-secure.force.com/discussions/s/question/0D52L00004TnvXpSAJ/why-shouldnt-hsts-header-be-sent-on-plaintext-http-redirect-to-https">https://qualys-secure.force.com/discussions/s/question/0D52L00004TnvXpSAJ/why-shouldnt-hsts-header-be-sent-on-plaintext-http-redirect-to-https</a></li>
<li><a href="../../../../external.html?link=https://stackoverflow.com/questions/56799080/what-is-the-advantage-of-2-redirect-hsts-instead-of-1-redirect-hsts">https://stackoverflow.com/questions/56799080/what-is-the-advantage-of-2-redirect-hsts-instead-of-1-redirect-hsts</a></li>
</ul>
        </div>

        <meta itemprop='headline' content='no clean HSTS-Preload / DNSSEC'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../10255.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-14T12:59:41Z' class='post-time'>
                September 14, 2020, 12:59pm
              </time>
              <meta itemprop='dateModified' content='2020-09-14T12:59:41Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="TNT_BOM_BOM" data-post="1" data-topic="10255">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.jpg" class="avatar"> TNT_BOM_BOM:</div>
<blockquote>
<p>All nameservers in the delegation have IPv4 addresses in the same AS</p>
</blockquote>
</aside>
<p>What this <a href="../../../../external.html?link=https://stackoverflow.com/questions/49283636/what-does-ipv4-addresses-in-the-same-as-mean">means</a> and how to fix it if necessary:</p>
<blockquote>
<p>You’re getting this warning because the nameservers are all in the same block and if that single route goes offline for some reason, all your nameservers go down. It’s generally best to spread these out geographically to minimize your exposure to localized events.</p>
<p>They’re just looking out for you here. Typically you should have 3-4 different nameservers on different backbone providers in different regions so that no single failure, even at the provider level, can take them all down.</p>
</blockquote>
<hr>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../../external.html?link=https://serverfault.com/questions/90209/dns-related-issue" target="_blank">serverfault.com</a>
  </header>
  <article class="onebox-body">
    <h4>
  <a href="../../../../external.html?link=https://serverfault.com/questions/90209/dns-related-issue" target="_blank">DNS Related Issue</a>
</h4>

<div class="tags">
  <strong>domain-name-system</strong>
</div>

<div class="date">
  asked by
  
  <a href="#">
    Gabriel
  </a>
  on <a href="../../../../external.html?link=https://serverfault.com/questions/90209/dns-related-issue" target="_blank">10:41AM - 02 Dec 09 UTC</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<blockquote>
<p><strong>SOA MNAME entry - WARNING: SOA MNAME (<a href="../../../../external.html?link=http://mydomain.com/">mydomain.com</a>) is not listed as a primary nameserver at your parent nameserver!</strong><br>
This one you can actually fixquite easily. The SOA record looks like this:</p>
<pre><code class="lang-auto">;; ANSWER SECTION:
google.com.     86400   IN  SOA ns1.google.com. dns-admin.google.com. 1399740 7200 1800 1209600 300
</code></pre>
<p>You have the domain name, TTL, protocol, record type. Then “mname” which should be the name of the PRIMARY domain name server, followed by “rname” which is the zone admin email (using a . instead of an @) and then serial #, refresh, retry, expire, and a default Time-To-Live for records.</p>
<p>Your domains mname should be the primary name server.</p>
</blockquote>
<hr>
<aside class="quote no-group" data-username="TNT_BOM_BOM" data-post="1" data-topic="10255">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.jpg" class="avatar"> TNT_BOM_BOM:</div>
<blockquote>
<p>1 ZONE NOTICE SOA ‘refresh’ value (10800) is less than the recommended minimum (14400).</p>
</blockquote>
</aside>
<p>Benign. Can be ignored</p>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../../external.html?link=https://serverfault.com/questions/69183/recommended-dns-soa-record-ttl-default" target="_blank">serverfault.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://serverfault.com/users/2/geoff-dalgas" target="_blank">
    <img alt="Geoff Dalgas" src="../../../../external.html?link=https://i.stack.imgur.com/nDllk.png?s=128&amp;g=1" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="../../../../external.html?link=https://serverfault.com/questions/69183/recommended-dns-soa-record-ttl-default" target="_blank">Recommended DNS SOA record TTL default?</a>
</h4>

<div class="tags">
  <strong>domain-name-system, ttl</strong>
</div>

<div class="date">
  asked by
  
  <a href="../../../../external.html?link=https://serverfault.com/users/2/geoff-dalgas" target="_blank">
    Geoff Dalgas
  </a>
  on <a href="../../../../external.html?link=https://serverfault.com/questions/69183/recommended-dns-soa-record-ttl-default" target="_blank">05:12AM - 28 Sep 09 UTC</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='no clean HSTS-Preload / DNSSEC'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/TNT_BOM_BOM'><span itemprop='name'>TNT_BOM_BOM</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../10255.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-07-27T20:31:10Z' class='post-time'>
                July 27, 2021,  8:31pm
              </time>
              <meta itemprop='dateModified' content='2021-07-27T20:31:10Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@patrick</a> as per Gabe solution to HSTS clean reading said:</p>
<blockquote>
<p>server {<br>
listen 80 default_server;<br>
server_name _;<br>
return 301 https://$host$request_uri;<br>
}</p>
<p>comment out any existing 301 redirect you have</p>
<p>use this instead</p>
<p>read it closely</p>
<p>you dont have an HSTS issue</p>
<p>its not redirecting cleanly from <a href="../../../../external.html?link=http://www/" rel="noopener nofollow ugc">http://www</a> → https:/www</p>
<p>its instead going from <a href="../../../../external.html?link=http://www.whonix.org/" rel="noopener nofollow ugc">http://www.whonix.org</a> straight to → <a href="../../../../external.html?link=https://whonix.org/" rel="noopener nofollow ugc">https://whonix.org</a></p>
<p>now as for the headers</p>
<p>thats easy to solve</p>
<p>you can remove them, but no harm in keeping them (on the plaintext port)</p>
<p>its best practice to only do it on HTTPS port</p>
<p>doesnt really make too much of a difference since its preloaded anyway</p>
<p>but still</p>
<p>you should do it</p>
<p>once you are done btw</p>
<p>you should audit your nginx configuration</p>
<p>with gixy</p>
<p>pacman -S gixy</p>
<p>e.g<br>
gixy /etc/nginx/nginx.conf</p>
</blockquote>
<hr>
<p>Also suggested to use nginx from upstream nginx repo instead of debian repo.</p>
        </div>

        <meta itemprop='headline' content='no clean HSTS-Preload / DNSSEC'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../10255.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-07-28T11:44:53Z' class='post-time'>
                July 28, 2021, 11:44am
              </time>
              <meta itemprop='dateModified' content='2021-07-28T11:44:53Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="TNT_BOM_BOM" data-post="5" data-topic="10255">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.jpg" class="avatar"> TNT_BOM_BOM:</div>
<blockquote>
<p>you dont have an HSTS issue</p>
</blockquote>
</aside>
<p>Great.</p>
<aside class="quote no-group" data-username="TNT_BOM_BOM" data-post="5" data-topic="10255">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.jpg" class="avatar"> TNT_BOM_BOM:</div>
<blockquote>
<p>its not redirecting cleanly from <a href="../../../../external.html?link=http://www/">http://www</a> → https:/www</p>
<p>its instead going from <a href="../../../../external.html?link=http://www.whonix.org/">http://www.whonix.org</a> straight to → <a href="../../../../external.html?link=https://whonix.org/">https://whonix.org</a></p>
</blockquote>
</aside>
<p>Not a security issue.</p>
<aside class="quote no-group" data-username="TNT_BOM_BOM" data-post="5" data-topic="10255">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.jpg" class="avatar"> TNT_BOM_BOM:</div>
<blockquote>
<p>you can remove them, but no harm in keeping them (on the plaintext port)</p>
</blockquote>
</aside>
<p>Therefore being kept as is.</p>
<p>“Fixing” this would make a test website happy. Another unhappy. At the price of a more complex nginx config. Therefore not doing this.</p>
<hr>
<p>Reply <a href="2.html" class="inline-onebox">no clean HSTS-Preload / DNSSEC - #2 by Patrick</a> applies.</p>
<hr>
<aside class="quote no-group" data-username="TNT_BOM_BOM" data-post="5" data-topic="10255">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.jpg" class="avatar"> TNT_BOM_BOM:</div>
<blockquote>
<p>you should audit your nginx configuration</p>
<p>with gixy</p>
</blockquote>
</aside>
<p>Interesting!</p>
        </div>

        <meta itemprop='headline' content='no clean HSTS-Preload / DNSSEC'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
