<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Non root apt updates?</title>
    <link>http://forums.whonix.org/t/non-root-apt-updates/7337</link>
    <description>Problem: user needs to constantly (daily, or often enough) escalate privileges using sudo in order to keep an updated system.

Malware running can easily pick up root password.

Is something like the Tails trick of using a non-root user to perform a procedure that was defined for root rights possible in this case?

https://forums.whonix.org/t/simple-clearnet-connection-proof-of-concept-for-tails/6866/5?u=xariv</description>
    <language>en</language>
    <lastBuildDate>Tue, 07 May 2019 16:57:17 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/non-root-apt-updates/7337.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Non root apt updates?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Really easy, just needs a sudo configuration snippet in /etc/sudoers.d configuration drop-in folder.</p>
<p>PackageKit likely is also capable of doing this but that would be a kinda heavyweight solution for this and might introduce its own issues.</p>
<p>Implemented in Whonix 15 source code just now.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/usability-misc/commit/eeb5829683efdd3dc906e8d599476ce4c2e27eea" target="_blank" rel="nofollow noopener">github.com/Whonix/usability-misc</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/usability-misc/commit/eeb5829683efdd3dc906e8d599476ce4c2e27eea" target="_blank" rel="nofollow noopener">implement upgrade-nonroot</a>
</h4>

  <pre class="message" style="white-space: normal;">based on suggestion by xariv
https://forums.whonix.org/t/non-root-apt-updates/7337</pre>

<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/usability-misc/commit/eeb5829683efdd3dc906e8d599476ce4c2e27eea" target="_blank" rel="nofollow noopener">04:52PM - 07 May 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>3 files</strong>
  with <strong>42 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<pre><code>upgrade-nonroot
</code></pre>
<p>This is something that <a href="https://forums.whonix.org/t/usability-popularity-vs-security-freedom-software-purism/7311">security maximalists</a> would want to remove (user shouldn’t have capability to upgrade; extra code).</p>
<p>But for hardening / lockdown purposes it might be better to remove group <code>sudo</code> from user <code>user</code> which then would also deactivate this feature.</p>
          <p><a href="http://forums.whonix.org/t/non-root-apt-updates/7337/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/non-root-apt-updates/7337/2</link>
        <pubDate>Tue, 07 May 2019 16:57:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7337-2</guid>
        <source url="http://forums.whonix.org/t/non-root-apt-updates/7337.rss">Non root apt updates?</source>
      </item>
      <item>
        <title>Non root apt updates?</title>
        <dc:creator><![CDATA[xariv]]></dc:creator>
        <description><![CDATA[
            <p>Problem: user needs to constantly (daily, or often enough) escalate privileges using sudo in order to keep an updated system.</p>
<p>Malware running can easily pick up root password.</p>
<p>Is something like the Tails trick of using a non-root user to perform a procedure that was defined for root rights possible in this case?</p>
<aside class="quote" data-post="5" data-topic="6866">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="https://forums.whonix.org/t/simple-clearnet-connection-proof-of-concept-for-tails/6866/5">Simple clearnet connection proof of concept for Tails</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/general-tor-and-anonymity-talk"><span class="badge-category-bg" style="background-color: #92278F;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="General topics about Tor and Anonymity that can be discussed independently from Whonix.">General Tor and Anonymity Talk</span></a>
  </div>
  <blockquote>
    Tails is using sudo/root to setup the chroot and uses sudo -u clearnet to start the browser. So while the browser runs indeed as non-root, the procedure requires root rights. This is possible through the <a href="https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/etc/sudoers.d/zzz_unsafe-browser" rel="nofollow noopener">/etc/sudoers.d/zzz unsafe-browser</a> exception. This however doesn’t grant a path to executing arbitrary code/programs as user root or user clearnet. If you find a way to do that, I guess Tails might consider this a security buy.
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/non-root-apt-updates/7337/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/non-root-apt-updates/7337/1</link>
        <pubDate>Tue, 07 May 2019 15:29:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7337-1</guid>
        <source url="http://forums.whonix.org/t/non-root-apt-updates/7337.rss">Non root apt updates?</source>
      </item>
  </channel>
</rss>
