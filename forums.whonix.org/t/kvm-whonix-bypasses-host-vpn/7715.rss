<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>KVM Whonix bypasses host VPN</title>
    <link>http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715</link>
    <description>The original wording of my question was too vague and complicated, so here is my issue:

Whonix in KVM bypasses &quot;leak-proof&quot; VPN that is configured with OpenVPN and firewalled to only allow interface tun0. I see nothing in the docs to address this.

Has anyone else had this issue?

Steps to reproduce:

1. ping a webserver from host (success)
2. Start Whonix (whonixcheck passes)
3. Disable VPN on host
4. ping a webserver from host (fails due to firewall)
5. Run whonixcheck on gateway (still passes)</description>
    <language>en</language>
    <lastBuildDate>Wed, 18 Nov 2020 17:35:29 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>KVM Whonix bypasses host VPN</title>
        <dc:creator><![CDATA[KVM2020]]></dc:creator>
        <description><![CDATA[
            <p>To control kvm guest traffic from host firewall,you should add rules that block traffic between virbrN and eth0 on the top of the forward chain in iptables like</p>
<p>Chain FORWARD (policy DROP 0 packets, 0 bytes)<br>
num   pkts bytes target     prot opt in     out     source               destination<br>
1        0     0 DROP       all  –  eth0   virbr1  anywhere             anywhere<br>
2        0     0 DROP       all  –  virbr1 eth0    anywhere             anywhere<br>
.<br>
.<br>
.</p>
<p>This is not whonix specific but all other oses as well in kvm guest.<br>
because rule that let all packet through virbN exist in the FORWARD chain.<br>
Usually vpn kill switch affects OUTPUT chain only,so packets through FORWARD chain are ignored.</p>
          <p><a href="http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715/4</link>
        <pubDate>Wed, 18 Nov 2020 17:35:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7715-4</guid>
        <source url="http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715.rss">KVM Whonix bypasses host VPN</source>
      </item>
      <item>
        <title>KVM Whonix bypasses host VPN</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>What is your firewall config? This can be gotten with <code>iptables-save</code> if using iptables.</p>
<p>You may be allowing traffic out from the <code>libvirt</code> or <code>kvm</code> group.</p>
          <p><a href="http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715/3</link>
        <pubDate>Mon, 08 Jul 2019 18:53:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7715-3</guid>
        <source url="http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715.rss">KVM Whonix bypasses host VPN</source>
      </item>
      <item>
        <title>KVM Whonix bypasses host VPN</title>
        <dc:creator><![CDATA[reconnaissance]]></dc:creator>
        <description><![CDATA[
            <p>From my understanding, this means:</p>
<ol>
<li>KVM ignores the VPN, because the gateway is using the network “external”</li>
<li>KVM Whonix can not be routed through a VPN on the host using normal configurations</li>
</ol>
<p>Or am I misunderstanding completely?</p>
          <p><a href="http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715/2</link>
        <pubDate>Mon, 08 Jul 2019 00:51:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7715-2</guid>
        <source url="http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715.rss">KVM Whonix bypasses host VPN</source>
      </item>
      <item>
        <title>KVM Whonix bypasses host VPN</title>
        <dc:creator><![CDATA[reconnaissance]]></dc:creator>
        <description><![CDATA[
            <p>The original wording of my question was too vague and complicated, so here is my issue:</p>
<p>Whonix in KVM bypasses “leak-proof” VPN that is configured with OpenVPN and firewalled to only allow interface tun0. I see nothing in the docs to address this.</p>
<p>Has anyone else had this issue?</p>
<p>Steps to reproduce:</p>
<ol>
<li>ping a webserver from host (success)</li>
<li>Start Whonix (whonixcheck passes)</li>
<li>Disable VPN on host</li>
<li>ping a webserver from host (fails due to firewall)</li>
<li>Run whonixcheck on gateway (still passes)</li>
</ol>
          <p><a href="http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715/1</link>
        <pubDate>Mon, 08 Jul 2019 00:49:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7715-1</guid>
        <source url="http://forums.whonix.org/t/kvm-whonix-bypasses-host-vpn/7715.rss">KVM Whonix bypasses host VPN</source>
      </item>
  </channel>
</rss>
