<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>authenticated onion service not working using old or new methods - Support - Whonix Forum</title>
    <meta name="description" content="I found this thread that seemed to be a similar issue: http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/issues-with-onion-service-authentication/12205 
It seems that entering the private key&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="13110.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;authenticated onion service not working using old or new methods&#39;" href="13110.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/authenticated-onion-service-not-working-using-old-or-new-methods/13110" />
<meta name="twitter:url" content="https://forums.whonix.org/t/authenticated-onion-service-not-working-using-old-or-new-methods/13110" />
<meta property="og:title" content="authenticated onion service not working using old or new methods" />
<meta name="twitter:title" content="authenticated onion service not working using old or new methods" />
<meta property="og:description" content="I found this thread that seemed to be a similar issue: http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/issues-with-onion-service-authentication/12205  It seems that entering the private keys via the browser in Whonix does not work? I would be happy to get the authorization working either way.  I recently upgraded to Qubes 4.1, after doing so the whonix gateway I was using for authenticated access would no longer boot. So I decided to start from scratch. After faili..." />
<meta name="twitter:description" content="I found this thread that seemed to be a similar issue: http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/issues-with-onion-service-authentication/12205  It seems that entering the private keys via the browser in Whonix does not work? I would be happy to get the authorization working either way.  I recently upgraded to Qubes 4.1, after doing so the whonix gateway I was using for authenticated access would no longer boot. So I decided to start from scratch. After faili..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ‚ù§" />
<meta property="article:published_time" content="2021-12-28T21:19:47+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="13110.html">authenticated onion service not working using old or new methods</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/mimp'><span itemprop='name'>mimp</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13110.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-12-28T21:19:47Z' class='post-time'>
                December 28, 2021,  9:19pm
              </time>
              <meta itemprop='dateModified' content='2021-12-28T21:19:47Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I found this thread that seemed to be a similar issue: <a href="../../../external.html?link=http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/issues-with-onion-service-authentication/12205" rel="noopener nofollow ugc">http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/issues-with-onion-service-authentication/12205</a></p>
<p>It seems that entering the private keys via the browser in Whonix does not work? I would be happy to get the authorization working either way.</p>
<p>I recently upgraded to Qubes 4.1, after doing so the whonix gateway I was using for authenticated access would no longer boot. So I decided to start from scratch. After failing with the manual set up, I found out the setup now has automated scripts described here: <a href="../../../external.html?link=http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onion_Services#Onion_Service_Authentication_Client_Setup" rel="noopener nofollow ugc">http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onion_Services#Onion_Service_Authentication_Client_Setup</a></p>
<p>The scripts are:</p>
<p>for the client: anon-server-to-client-install<br>
for the host: anon-auth-autogen</p>
<p>However, using the scripts also failed to work for me. Instead of getting the pop up box asking for a private key it just gives me ‚ÄúUnable to Connect‚Äù.</p>
<p>In my old manual setup I had to edit /usr/local/etc/torrc.d50_user.conf to add:</p>
<pre><code> ClientAuthDir /var/lib/tor/authdir
</code></pre>
<p>The current docs make reference to this file:</p>
<blockquote>
<p>After editing <code>/usr/local/etc/torrc.d/50_user.conf</code>, Tor must be reloaded for changes to take effect.</p>
<p><strong>Note:</strong> If Tor does not connect after completing all these steps, then a user mistake is the most likely explanation. Recheck <code>/usr/local/etc/torrc.d/50_user.conf</code> and repeat the steps outlined in the sections above. If Tor then connects successfully, all the necessary changes have been made.</p>
</blockquote>
<p>But there is nothing in the instructions about editing that file. So I tried adding the ClientAuthDir above. Then the browser gives me a different message ‚ÄúThe Connection Was Rest‚Äù (instead of ‚ÄúUnable to Connect‚Äù).</p>
<p>It seems the docs for the client set up is incorrect. And I‚Äôm unable to get an authenticated connection via Tor Browser.</p>
        </div>

        <meta itemprop='headline' content='authenticated onion service not working using old or new methods'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13110.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-12-29T10:13:19Z' class='post-time'>
                December 29, 2021, 10:13am
              </time>
              <meta itemprop='dateModified' content='2021-12-29T10:13:19Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Getting authenticated Tor onion services to work outside of Whonix first might be helpful. (<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Generic_Bug_Reproduction">Generic Bug Reproduction</a>) That might give insights on what‚Äôs wrong with the automation scripts, if anything.</p>
<aside class="quote no-group" data-username="mimp" data-post="1" data-topic="13110">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/47e85d/40.png" class="avatar"> mimp:</div>
<blockquote>
<p>It seems that entering the private keys via the browser in Whonix does not work?</p>
</blockquote>
</aside>
<p>That never worked.</p>
<aside class="quote no-group" data-username="mimp" data-post="1" data-topic="13110">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/47e85d/40.png" class="avatar"> mimp:</div>
<blockquote>
<p>In my old manual setup I had to edit /usr/local/etc/torrc.d50_user.conf to add:</p>
<pre><code class="lang-auto"> ClientAuthDir /var/lib/tor/authdir
</code></pre>
</blockquote>
</aside>
<p>It‚Äôs already here:</p>
<aside class="onebox githubblob">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/Whonix/anon-gw-anonymizer-config/blob/master/etc/torrc.d/65_gateway.conf#L32-L39" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../external.html?link=https://github.com/Whonix/anon-gw-anonymizer-config/blob/master/etc/torrc.d/65_gateway.conf#L32-L39" target="_blank" rel="noopener">Whonix/anon-gw-anonymizer-config/blob/master/etc/torrc.d/65_gateway.conf#L32-L39</a></h4>



  <pre class="onebox">    <code class="lang-conf">
      <ol class="start lines" start="32" style="counter-reset: li-counter 31 ;">
          <li>###################################</li>
          <li># Authenticated Onion v3 Services #</li>
          <li>###################################</li>
          <li>
          </li>
<li>## anon-gw-anonymizer-config.service /</li>
          <li>## /usr/libexec/anon-gw-anonymizer-config/make-sure-torrc-exist</li>
          <li>## creates folder /var/lib/tor/authdir</li>
          <li>ClientOnionAuthDir /var/lib/tor/authdir</li>
      </ol>
    </code>
  </pre>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>This might help:<br>
<a href="../../../external.html?link=https://www.whonix.org/w/index.php?title=Tor&amp;stable=0#Troubleshooting">Troubleshooting</a></p>
        </div>

        <meta itemprop='headline' content='authenticated onion service not working using old or new methods'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/mimp'><span itemprop='name'>mimp</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13110.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-12-30T20:29:01Z' class='post-time'>
                December 30, 2021,  8:29pm
              </time>
              <meta itemprop='dateModified' content='2021-12-30T20:29:01Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="13110">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Getting authenticated Tor onion services to work outside of Whonix first might be helpful. (<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Generic_Bug_Reproduction" rel="noopener nofollow ugc">Generic Bug Reproduction</a>) That might give insights on what‚Äôs wrong with the automation scripts, if anything.</p>
</blockquote>
</aside>
<p>I do have it working. In fact, I restored my backup of old whonix gateway I was using to connect in Qubes 4.0.4 and I have it working again in Qubes Whonix (Qubes 4.1). [after testing stuff below this is no longer true <img src="../../images/emoji/twitter/frowningc164.png?v=9" title=":frowning:" class="emoji" alt=":frowning:">  But was using it successfully for a day or so. ]</p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="2" data-topic="13110">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<aside class="quote no-group" data-username="mimp" data-post="1" data-topic="13110">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/47e85d/40.png" class="avatar"> mimp:</div>
<blockquote>
<p>It seems that entering the private keys via the browser in Whonix does not work?</p>
</blockquote>
</aside>
<p>That never worked.</p>
</blockquote>
</aside>
<p>OK, good to know, I‚Äôve never used it either, but seemed potentially easier.</p>
<p>Should the reference to 50_user.conf be removed from here then:<br>
<a href="../../../external.html?link=http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onion_Services#Onion_Service_Authentication_Client_Setup" class="onebox" target="_blank" rel="noopener nofollow ugc">http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onion_Services#Onion_Service_Authentication_Client_Setup</a></p>
<p>Since that is no longer used here?</p>
<hr>
<p>Here‚Äôs my attempts to test the automated scripts again, but in the end I just broke everything somehow.</p>
<p>on new gateway <em>anon-server-to-client-install</em> ended with ‚ÄúSuccess‚Äù.  When I use this as my gateway I still get the pop up in my browser asking for an authentication key.</p>
<p>So I compared my old working gateway to the new one.</p>
<p>old gw has /usr/local/etc/torrc.d/50_user.conf<br>
new gw has /usr/local/etc/torrc.d/43_clientonionauthdir.conf</p>
<p>both set the ClientOnionAuthDir</p>
<p>As you pointed out, new gw also has this in /etc/torrc.d/65_gateway.conf</p>
<p>All that seems equivalent.</p>
<p>Then I confirmed the *.auth_private files on each qube. The difference was that the old one had ‚Äú.onion‚Äù at the end of the onion address. The new autogenerated key file did not have that.</p>
<p>I tried adding ‚Äú.onion‚Äù to the file on the new gw to match the old one. Then I restarted tor on the new gw. But nothing changed, I still get the prompt for an authentication key in Tor Browser. I can‚Äôt figure out what the difference is that could be causing this.</p>
<p>However, then I restarted tor on the gateway to the server where the new public key was added. This led the authenticated connection to give an ‚ÄúUnable to Connect‚Äù response in Tor browser. Whereas another connection from an unauthenticated machine will bring up the popup asking for the authentication key.</p>
<p>I tried restoring gateways from backups again and am still getting ‚ÄúUnable to Connect‚Äù (when I was able to connect before starting this post). Unauthenticated connections will reach the site and prompt for authentication key still. Either way I cannot access the site anymore and am confused why my old working gateway stopped working when I did not alter it.</p>
        </div>

        <meta itemprop='headline' content='authenticated onion service not working using old or new methods'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13110.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-12-31T12:19:08Z' class='post-time'>
                December 31, 2021, 12:19pm
              </time>
              <meta itemprop='dateModified' content='2021-12-31T12:19:08Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="mimp" data-post="3" data-topic="13110">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/47e85d/40.png" class="avatar"> mimp:</div>
<blockquote>
<p>Should the reference to 50_user.conf be removed from here then:<br>
<a href="../../../external.html?link=http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onion_Services#Onion_Service_Authentication_Client_Setup">http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onion_Services#Onion_Service_Authentication_Client_Setup</a></p>
<p>Since that is no longer used here?</p>
</blockquote>
</aside>
<p>Yes. Done.</p>
        </div>

        <meta itemprop='headline' content='authenticated onion service not working using old or new methods'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13110.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-02T11:52:32Z' class='post-time'>
                January 2, 2022, 11:52am
              </time>
              <meta itemprop='dateModified' content='2022-01-02T11:52:32Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="60" data-topic="975">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar">
    <a href="../onion-services-authentication/975/60.html">Onion Services Authentication</a> <a class="badge-wrapper  bullet" href="../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of components looking for maintainer)">Development</span></a>
  </div>
  <blockquote>
    Tor Browser Onion Client Authorization in Whonix works for me. Just now documented: 
<a href="../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser#Onion_Client_Authorization">Onion Client Authorization</a>
  </blockquote>
</aside>

        </div>

        <meta itemprop='headline' content='authenticated onion service not working using old or new methods'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/mimp'><span itemprop='name'>mimp</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13110.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-02T15:53:59Z' class='post-time'>
                January 2, 2022,  3:53pm
              </time>
              <meta itemprop='dateModified' content='2022-01-02T15:53:59Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Good to know. May try that some time.</p>
<p>I just got my authentication working again. What worked was restoring the gateway for the server from a backup. Creating a new gateway for the client by cloning sys-whonix-16. Copying authentication file from old client gateway to this new client gateway. Reloading tor on the gateway.</p>
<p>I never got it to work using the automated scripts.</p>
<p>I spent many hours just getting the above to work, with inconsistent results. The one thought I had was that I was not waiting long enough for changes to take place before testing? As a result I was not able to find any problems with the automated scripts or why they were not working for me. At this point I need to just keep the working setup I have. And if no one else has had problems with the scripts it may have just been user error in how I was testing.</p>
        </div>

        <meta itemprop='headline' content='authenticated onion service not working using old or new methods'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13110.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-31T15:56:17Z' class='post-time'>
                January 31, 2022,  3:56pm
              </time>
              <meta itemprop='dateModified' content='2022-01-31T15:56:17Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="mimp" data-post="6" data-topic="13110">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/47e85d/40.png" class="avatar"> mimp:</div>
<blockquote>
<p>The one thought I had was that I was not waiting long enough for changes to take place before testing?</p>
</blockquote>
</aside>
<p>Possibly. ‚Üí <a href="../../../external.html?link=https://www.whonix.org/wiki/Onion_Services#Onion_Services_Reliability_Issues">Onion Services Reliability Issues</a></p>
        </div>

        <meta itemprop='headline' content='authenticated onion service not working using old or new methods'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="13110.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-31T16:01:25Z' class='post-time'>
                January 31, 2022,  4:01pm
              </time>
              <meta itemprop='dateModified' content='2022-01-31T16:01:25Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>There are two options to setup Onion Service Client Authentication. Chose either option <strong>A)</strong> or <strong>B)</strong>.</p>
<ul>
<li>
<strong>A)</strong> <a href="../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser#Onion_Client_Authorization">Tor Browser Onion Client Authorization</a>, or</li>
<li>
<strong>B)</strong> <a href="../../../external.html?link=https://www.whonix.org/wiki/Onion_Services#Onion_Service_Authentication_Client_Setup">Onion Service Client Authentication setup on Whonix-Gateway ‚Ñ¢</a>.</li>
</ul>
        </div>

        <meta itemprop='headline' content='authenticated onion service not working using old or new methods'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../onion-services-authentication/975/61.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../onion-services-authentication/975/61.html'>
                      <span itemprop='name'>Onion Services Authentication</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
