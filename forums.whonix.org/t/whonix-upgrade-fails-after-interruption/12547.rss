<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix upgrade fails after interruption</title>
    <link>http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547</link>
    <description>I started uprading Whonix using the salt command, but the process was
interrupted.

On retrying, it fails, unable to create the whonix WS VM due to
&quot;permission denied&quot;. From journalctl:
Oct 08 11:24:35 dom0 qubesd[2098]: permission denied for call b&#39;admin.vm.Create.AppVM&#39;+b&#39;whonix-ws-16&#39; (b&#39;dom0&#39; → b&#39;dom0&#39;) with payload of 31 bytes

(see below for the salt output)

When I run the qvm-create command from the salt output manually, it also
fails, because the whonix-ws-16 template doesn&#39;t exist:
$ qvm-create --verbose whonix-ws-16-dvm --class=AppVM --template=whonix-ws-16 --label=red
2021-10-08 11:33:54,499 [MainProcess qvm_create.main:177] app: Error creating VM: Got empty response from qubesd. See journalctl in dom0 for details.

I assume all this is related to the failed previous attempt.

How do I reset the state so that I can successfully do the upgrade?




[user@dom0 ~]$ sudo qubesctl state.sls qvm.anon-whonix

[WARNING ] /var/cache/salt/minion/extmods/states/ext_state_qvm.py:146: DeprecationWarning: BaseException.message has been deprecated as of Python 2.6
status = Status(retcode=1, result=False, stderr=err.message + &#39;\n&#39;)

[ERROR ] ====== [&#39;features&#39;] ======
Virtual Machine does not exist!

====== [&#39;tags&#39;] ======
[SKIP] Skipping due to previous failure!
[ERROR ] ====== [&#39;present&#39;] ======
====== stderr ======
/usr/bin/qvm-create whonix-ws-16-dvm --class=AppVM --template=whonix-ws-16 --label=red
app: Error creating VM: Got empty response from qubesd. See journalctl in dom0 for details.

====== [&#39;prefs&#39;] ======
Virtual Machine does not exist!

====== [&#39;features&#39;] ======
[SKIP] Skipping due to previous failure!

====== [&#39;tags&#39;] ======
[SKIP] Skipping due to previous failure!
local:
----------
ID: template-whonix-ws-16
Function: pkg.installed
Name: qubes-template-whonix-ws-16
Result: True
Comment: Package qubes-template-whonix-ws-16 is already installed
Started: 11:24:14.138294
Duration: 5796.629 ms
Changes:
----------
ID: whonix-ws-tag
Function: qvm.vm
Name: whonix-ws-16
Result: False
Comment: ====== [&#39;features&#39;] ======
Virtual Machine does not exist!

====== [&#39;tags&#39;] ======
[SKIP] Skipping due to previous failure!
Started: 11:24:19.979281
Duration: 271.503 ms
Changes:
----------
ID: whonix-ws-update-policy
Function: file.prepend
Name: /etc/qubes-rpc/policy/qubes.UpdatesProxy
Result: True
Comment: File /etc/qubes-rpc/policy/qubes.UpdatesProxy is in correct state
Started: 11:24:20.261980
Duration: 14.769 ms
Changes:
----------
ID: whonix-get-date-policy
Function: file.prepend
Name: /etc/qubes-rpc/policy/qubes.GetDate
Result: True
Comment: File /etc/qubes-rpc/policy/qubes.GetDate is in correct state
Started: 11:24:20.277092
Duration: 12.533 ms
Changes:
----------
ID: template-whonix-gw-16
Function: pkg.installed
Name: qubes-template-whonix-gw-16
Result: True
Comment: Package qubes-template-whonix-gw-16 is already installed
Started: 11:24:20.289981
Duration: 1.316 ms
Changes:
----------
ID: whonix-gw-tag
Function: qvm.vm
Name: whonix-gw-16
Result: True
Comment: ====== [&#39;features&#39;] ======
[SKIP] Feature already in desired state: ENABLE &#39;whonix-gw&#39; = Enabled

====== [&#39;tags&#39;] ======
[SKIP] All requested tags already set: created-by-dom0,whonix-updatevm
Started: 11:24:20.291708
Duration: 4714.395 ms
Changes:
----------
ID: whonix-gw-update-policy
Function: file.prepend
Name: /etc/qubes-rpc/policy/qubes.UpdatesProxy
Result: True
Comment: File /etc/qubes-rpc/policy/qubes.UpdatesProxy is in correct state
Started: 11:24:25.006518
Duration: 7.468 ms
Changes:
----------
ID: sys-net
Function: qvm.exists
Result: True
Comment: /usr/bin/qvm-check sys-net None
Started: 11:24:25.014322
Duration: 2048.565 ms
Changes:
----------
ID: sys-firewall
Function: qvm.exists
Result: True
Comment: /usr/bin/qvm-check sys-firewall None
Started: 11:24:27.065077
Duration: 1868.662 ms
Changes:
----------
ID: sys-whonix
Function: qvm.exists
Result: True
Comment: /usr/bin/qvm-check sys-whonix None
Started: 11:24:28.935733
Duration: 1744.59 ms
Changes:
----------
ID: whonix-ws-16-dvm
Function: qvm.vm
Result: False
Comment: ====== [&#39;present&#39;] ======
====== stderr ======
/usr/bin/qvm-create whonix-ws-16-dvm --class=AppVM --template=whonix-ws-16 --label=red
app: Error creating VM: Got empty response from qubesd. See journalctl in dom0 for details.

====== [&#39;prefs&#39;] ======
Virtual Machine does not exist!

====== [&#39;features&#39;] ======
[SKIP] Skipping due to previous failure!

====== [&#39;tags&#39;] ======
[SKIP] Skipping due to previous failure!
Started: 11:24:30.750482
Duration: 5255.361 ms
Changes:
----------
ID: qvm-appmenus --update whonix-ws-16-dvm
Function: cmd.run
Result: False
Comment: One or more requisite failed: qvm.whonix-ws-dvm.whonix-ws-16-dvm
Changes:
----------
ID: anon-whonix
Function: qvm.exists
Result: True
Comment: /usr/bin/qvm-check anon-whonix None
Started: 11:24:36.008428
Duration: 1999.772 ms
Changes:

Summary for local
-------------
Succeeded: 10
Failed: 3
-------------
Total states run: 13
Total run time: 23.736 s
DOM0 configuration failed, not continuing</description>
    <language>en</language>
    <lastBuildDate>Thu, 21 Oct 2021 14:52:01 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix upgrade fails after interruption</title>
        <dc:creator><![CDATA[threshold2]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="threshold2" data-post="7" data-topic="12547">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/t/59ef9b/40.png" class="avatar"> threshold2:</div>
<blockquote>
<p><code>sudo rpm -e --nopreun qubes-template-whonix-ws-16</code></p>
</blockquote>
</aside>
<p>That appears to have fixed it. The salt command now works:<br>
<code>sudo qubesctl state.sls qvm.anon-whonix</code></p>
          <p><a href="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/9</link>
        <pubDate>Thu, 21 Oct 2021 14:52:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12547-9</guid>
        <source url="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547.rss">Whonix upgrade fails after interruption</source>
      </item>
      <item>
        <title>Whonix upgrade fails after interruption</title>
        <dc:creator><![CDATA[threshold2]]></dc:creator>
        <description><![CDATA[
            <p>Possible solution:<br>
<code>sudo rpm -e --nopreun qubes-template-whonix-ws-16</code></p>
          <p><a href="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/7</link>
        <pubDate>Thu, 21 Oct 2021 11:54:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12547-7</guid>
        <source url="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547.rss">Whonix upgrade fails after interruption</source>
      </item>
      <item>
        <title>Whonix upgrade fails after interruption</title>
        <dc:creator><![CDATA[threshold2]]></dc:creator>
        <description><![CDATA[
            <p>I also haven’t been able to work out where the %preun script is located, else I would try editing it to remove the part where it tries to remove the (not present) whonix-ws-16 template.</p>
          <p><a href="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/6</link>
        <pubDate>Tue, 19 Oct 2021 19:33:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12547-6</guid>
        <source url="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547.rss">Whonix upgrade fails after interruption</source>
      </item>
      <item>
        <title>Whonix upgrade fails after interruption</title>
        <dc:creator><![CDATA[threshold2]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>This is a Qubes issue. Whonix doesn’t maintain the Qubes repository or qubes-dom0-update.</p>
</blockquote>
<p>Whonix does maintain the installation instructions which I’m following<br>
<img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji only-emoji" alt=":slight_smile:"></p>
<blockquote>
<p>That could happen if the package is already in “some sort of installed”. To check that’s not the case of having any packages already<br>
installed, see:</p>
<p>dom0:</p>
<p>dnf list | grep qubes-template-whonix</p>
</blockquote>
<p>It looks like “some sort of installed” is correct. Uninstalling it also<br>
fails, probably because there is no whonix-ws-16 template:</p>
<pre><code class="lang-auto">
# dnf list | grep qubes-template-whonix
qubes-template-whonix-gw-15.noarch     4.0.6-202103292247     @qubes-dom0-cached
qubes-template-whonix-gw-16.noarch     4.0.6-202109211111     @qubes-dom0-cached
qubes-template-whonix-ws-15.noarch     4.0.6-202103292247     @qubes-dom0-cached
qubes-template-whonix-ws-16.noarch     4.0.6-202109211111     @System

# dnf remove qubes-template-whonix-ws-16
[...]

usage: qvm-template-postprocess [--verbose] [--quiet] [--help] [--really]
                                [--skip-start] [--keep-source]
                                {post-install,pre-remove} name dir
qvm-template-postprocess: error: No Qube with this name exists
error: %preun(qubes-template-whonix-ws-16-4.0.6-202109211111.noarch) scriptlet failed, exit status 2
Error in PREUN scriptlet in rpm package qubes-template-whonix-ws-16
Error in PREUN scriptlet in rpm package qubes-template-whonix-ws-16
qubes-template-whonix-ws-16-4.0.6-202109211111.noarch was supposed to be removed but is not!
  Verifying   : qubes-template-whonix-ws-16-4.0.6-202109211111.noarch                           1/1

Removed:
  qubes-template-whonix-ws-16.noarch 4.0.6-202109211111

Complete!

</code></pre>
          <p><a href="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/5</link>
        <pubDate>Tue, 19 Oct 2021 19:32:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12547-5</guid>
        <source url="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547.rss">Whonix upgrade fails after interruption</source>
      </item>
      <item>
        <title>Whonix upgrade fails after interruption</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-username="threshold2" data-post="3" data-topic="12547">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/t/59ef9b/40.png" class="avatar"> threshold2:</div>
<blockquote>
<blockquote>
<p>Did you update dom0 beforehand?</p>
</blockquote>
<p>Yes, however the template installation step fails:</p>
<pre><code class="lang-auto">$ sudo qubes-dom0-update --enablerepo=qubes-templates-community qubes-template-whonix-gw-16 qubes-template-whonix-ws-16
Using sys-whonix as UpdateVM to download updates for Dom0; this may take some time...
qubes-templates-community/metalink                          | 2.8 kB  00:00
qubes-templates-community                                   | 3.0 kB  00:00
qubes-templates-community/primary_db                        | 5.1 kB  00:00
No Match for argument qubes-template-whonix-gw-16
No Match for argument qubes-template-whonix-ws-16
Nothing to download
</code></pre>
</blockquote>
</aside>
<p>This is a Qubes issue. Whonix doesn’t maintain the Qubes repository or qubes-dom0-update.</p>
<p>That could happen if the package is already in “some sort of installed”. To check that’s not the case of having any packages already installed, see:</p>
<p>dom0:</p>
<pre><code>dnf list | grep qubes-template-whonix
</code></pre>
<aside class="quote no-group quote-modified" data-username="threshold2" data-post="3" data-topic="12547">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/t/59ef9b/40.png" class="avatar"> threshold2:</div>
<blockquote>
<blockquote>
<aside class="quote no-group" data-username="threshold2" data-post="1" data-topic="12547">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/t/59ef9b/40.png" class="avatar"> threshold2:</div>
<blockquote>
<p>See journalctl in dom0 for details.</p>
</blockquote>
</aside>
<p>When reporting at [link] you’d probably be asked to provide it so I’d post it upfront.</p>
</blockquote>
<p>Yes, that’s why I already included the journalctl error in my original<br>
post, here:</p>
</blockquote>
</aside>
<p>As mentioned, that belongs to Qubes issues. I cannot resolve it here, highly unlikely being resolved here, has a chance of getting resolved at qubes-issues.</p>
<p>There’s no output of journalctl as far as I can see. Even if there was, I cannot work on that.</p>
          <p><a href="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/4</link>
        <pubDate>Sat, 16 Oct 2021 19:33:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12547-4</guid>
        <source url="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547.rss">Whonix upgrade fails after interruption</source>
      </item>
      <item>
        <title>Whonix upgrade fails after interruption</title>
        <dc:creator><![CDATA[threshold2]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>Did you update dom0 beforehand?</p>
</blockquote>
<p>Yes, however the template installation step fails:</p>
<pre><code class="lang-auto">$ sudo qubes-dom0-update --enablerepo=qubes-templates-community qubes-template-whonix-gw-16 qubes-template-whonix-ws-16
Using sys-whonix as UpdateVM to download updates for Dom0; this may take some time...
qubes-templates-community/metalink                          | 2.8 kB  00:00
qubes-templates-community                                   | 3.0 kB  00:00
qubes-templates-community/primary_db                        | 5.1 kB  00:00
No Match for argument qubes-template-whonix-gw-16
No Match for argument qubes-template-whonix-ws-16
Nothing to download
</code></pre>
<blockquote>
<p>You can install before using salt</p>
</blockquote>
<p>Yes, that’s what I’m doing, and the salt command given there (<code>sudo qubesctl state.sls qvm.anon-whonix</code>) is failing.</p>
<blockquote>
<aside class="quote no-group" data-username="threshold2" data-post="1" data-topic="12547">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/t/59ef9b/40.png" class="avatar"> threshold2:</div>
<blockquote>
<p>See journalctl in dom0 for details.</p>
</blockquote>
</aside>
<p>When reporting at [link] you’d probably be asked to provide it so I’d post it upfront.</p>
</blockquote>
<p>Yes, that’s why I already included the journalctl error in my original<br>
post, here:</p>
          <p><a href="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/3</link>
        <pubDate>Sat, 16 Oct 2021 19:01:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12547-3</guid>
        <source url="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547.rss">Whonix upgrade fails after interruption</source>
      </item>
      <item>
        <title>Whonix upgrade fails after interruption</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Did you update dom0 beforehand?</p>
<aside class="quote no-group" data-username="threshold2" data-post="1" data-topic="12547">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/t/59ef9b/40.png" class="avatar"> threshold2:</div>
<blockquote>
<p>because the whonix-ws-16 template doesn’t exist:</p>
</blockquote>
</aside>
<p>You can install before using salt as per <a href="https://www.whonix.org/wiki/Qubes/Install" class="inline-onebox">How-to: Install the Stable Version of Qubes-Whonix ™ 16</a></p>
<aside class="quote no-group" data-username="threshold2" data-post="1" data-topic="12547">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/t/59ef9b/40.png" class="avatar"> threshold2:</div>
<blockquote>
<p>$ qvm-create --verbose whonix-ws-16-dvm --class=AppVM --template=whonix-ws-16 --label=red<br>
2021-10-08 11:33:54,499 [MainProcess qvm_create.main:177] app: Error creating VM: Got empty response from qubesd. See journalctl in dom0 for details.</p>
</blockquote>
</aside>
<p>This would be a Qubes, not a Whonix issue. → <a href="https://forums.whonix.org/t/what-to-post-in-this-qubes-whonix-forum-and-what-not/2275" class="inline-onebox">What to post in this Qubes-Whonix forum and what not.</a></p>
<p>At very least the error message isn’t great. Please check <a href="https://github.com/QubesOS/qubes-issues/issues">https://github.com/QubesOS/qubes-issues/issues</a> and report a bug if none open yet.</p>
<aside class="quote no-group" data-username="threshold2" data-post="1" data-topic="12547">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/t/59ef9b/40.png" class="avatar"> threshold2:</div>
<blockquote>
<p>See journalctl in dom0 for details.</p>
</blockquote>
</aside>
<p>When reporting at <a href="https://github.com/QubesOS/qubes-issues/issues">https://github.com/QubesOS/qubes-issues/issues</a> you’d probably be asked to provide it so I’d post it upfront.</p>
          <p><a href="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/2</link>
        <pubDate>Tue, 12 Oct 2021 10:46:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12547-2</guid>
        <source url="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547.rss">Whonix upgrade fails after interruption</source>
      </item>
      <item>
        <title>Whonix upgrade fails after interruption</title>
        <dc:creator><![CDATA[threshold2]]></dc:creator>
        <description><![CDATA[
            <p>I started uprading Whonix using the salt command, but the process was<br>
interrupted.</p>
<p>On retrying, it fails, unable to create the whonix WS VM due to<br>
“permission denied”. From journalctl:<br>
Oct 08 11:24:35 dom0 qubesd[2098]: permission denied for call b’admin.vm.Create.AppVM’+b’whonix-ws-16’ (b’dom0’ → b’dom0’) with payload of 31 bytes</p>
<p>(see below for the salt output)</p>
<p>When I run the qvm-create command from the salt output manually, it also<br>
fails, because the whonix-ws-16 template doesn’t exist:<br>
$ qvm-create --verbose whonix-ws-16-dvm --class=AppVM --template=whonix-ws-16 --label=red<br>
2021-10-08 11:33:54,499 [MainProcess qvm_create.main:177] app: Error creating VM: Got empty response from qubesd. See journalctl in dom0 for details.</p>
<p>I assume all this is related to the failed previous attempt.</p>
<p>How do I reset the state so that I can successfully do the upgrade?</p>
<p>[user@dom0 ~]$ sudo qubesctl state.sls qvm.anon-whonix</p>
<p>[WARNING ] /var/cache/salt/minion/extmods/states/ext_state_qvm.py:146: DeprecationWarning: BaseException.message has been deprecated as of Python 2.6<br>
status = Status(retcode=1, result=False, stderr=err.message + ‘\n’)</p>
<p>[ERROR ] ====== [‘features’] ======<br>
Virtual Machine does not exist!</p>
<p>====== [‘tags’] ======<br>
[SKIP] Skipping due to previous failure!<br>
[ERROR ] ====== [‘present’] ======<br>
====== stderr ======<br>
/usr/bin/qvm-create whonix-ws-16-dvm --class=AppVM --template=whonix-ws-16 --label=red<br>
app: Error creating VM: Got empty response from qubesd. See journalctl in dom0 for details.</p>
<p>====== [‘prefs’] ======<br>
Virtual Machine does not exist!</p>
<p>====== [‘features’] ======<br>
[SKIP] Skipping due to previous failure!</p>
<h2>
<a name="tags-skip-skipping-due-to-previous-failure-local-1" class="anchor" href="http://forums.whonix.org#tags-skip-skipping-due-to-previous-failure-local-1"></a>====== [‘tags’] ======<br>
[SKIP] Skipping due to previous failure!<br>
local:</h2>
<h2>
<a name="id-template-whonix-ws-16-function-pkginstalled-name-qubes-template-whonix-ws-16-result-true-comment-package-qubes-template-whonix-ws-16-is-already-installed-started-112414138294-duration-5796629-ms-changes-2" class="anchor" href="http://forums.whonix.org#id-template-whonix-ws-16-function-pkginstalled-name-qubes-template-whonix-ws-16-result-true-comment-package-qubes-template-whonix-ws-16-is-already-installed-started-112414138294-duration-5796629-ms-changes-2"></a>ID: template-whonix-ws-16<br>
Function: pkg.installed<br>
Name: qubes-template-whonix-ws-16<br>
Result: True<br>
Comment: Package qubes-template-whonix-ws-16 is already installed<br>
Started: 11:24:14.138294<br>
Duration: 5796.629 ms<br>
Changes:</h2>
<p>ID: whonix-ws-tag<br>
Function: qvm.vm<br>
Name: whonix-ws-16<br>
Result: False<br>
Comment: ====== [‘features’] ======<br>
Virtual Machine does not exist!</p>
<h2>
<a name="tags-skip-skipping-due-to-previous-failure-started-112419979281-duration-271503-ms-changes-3" class="anchor" href="http://forums.whonix.org#tags-skip-skipping-due-to-previous-failure-started-112419979281-duration-271503-ms-changes-3"></a>====== [‘tags’] ======<br>
[SKIP] Skipping due to previous failure!<br>
Started: 11:24:19.979281<br>
Duration: 271.503 ms<br>
Changes:</h2>
<h2>
<a name="id-whonix-ws-update-policy-function-fileprepend-name-etcqubes-rpcpolicyqubesupdatesproxy-result-true-comment-file-etcqubes-rpcpolicyqubesupdatesproxy-is-in-correct-state-started-112420261980-duration-14769-ms-changes-4" class="anchor" href="http://forums.whonix.org#id-whonix-ws-update-policy-function-fileprepend-name-etcqubes-rpcpolicyqubesupdatesproxy-result-true-comment-file-etcqubes-rpcpolicyqubesupdatesproxy-is-in-correct-state-started-112420261980-duration-14769-ms-changes-4"></a>ID: whonix-ws-update-policy<br>
Function: file.prepend<br>
Name: /etc/qubes-rpc/policy/qubes.UpdatesProxy<br>
Result: True<br>
Comment: File /etc/qubes-rpc/policy/qubes.UpdatesProxy is in correct state<br>
Started: 11:24:20.261980<br>
Duration: 14.769 ms<br>
Changes:</h2>
<h2>
<a name="id-whonix-get-date-policy-function-fileprepend-name-etcqubes-rpcpolicyqubesgetdate-result-true-comment-file-etcqubes-rpcpolicyqubesgetdate-is-in-correct-state-started-112420277092-duration-12533-ms-changes-5" class="anchor" href="http://forums.whonix.org#id-whonix-get-date-policy-function-fileprepend-name-etcqubes-rpcpolicyqubesgetdate-result-true-comment-file-etcqubes-rpcpolicyqubesgetdate-is-in-correct-state-started-112420277092-duration-12533-ms-changes-5"></a>ID: whonix-get-date-policy<br>
Function: file.prepend<br>
Name: /etc/qubes-rpc/policy/qubes.GetDate<br>
Result: True<br>
Comment: File /etc/qubes-rpc/policy/qubes.GetDate is in correct state<br>
Started: 11:24:20.277092<br>
Duration: 12.533 ms<br>
Changes:</h2>
<h2>
<a name="id-template-whonix-gw-16-function-pkginstalled-name-qubes-template-whonix-gw-16-result-true-comment-package-qubes-template-whonix-gw-16-is-already-installed-started-112420289981-duration-1316-ms-changes-6" class="anchor" href="http://forums.whonix.org#id-template-whonix-gw-16-function-pkginstalled-name-qubes-template-whonix-gw-16-result-true-comment-package-qubes-template-whonix-gw-16-is-already-installed-started-112420289981-duration-1316-ms-changes-6"></a>ID: template-whonix-gw-16<br>
Function: pkg.installed<br>
Name: qubes-template-whonix-gw-16<br>
Result: True<br>
Comment: Package qubes-template-whonix-gw-16 is already installed<br>
Started: 11:24:20.289981<br>
Duration: 1.316 ms<br>
Changes:</h2>
<p>ID: whonix-gw-tag<br>
Function: qvm.vm<br>
Name: whonix-gw-16<br>
Result: True<br>
Comment: ====== [‘features’] ======<br>
[SKIP] Feature already in desired state: ENABLE ‘whonix-gw’ = Enabled</p>
<h2>
<a name="tags-skip-all-requested-tags-already-set-created-by-dom0whonix-updatevm-started-112420291708-duration-4714395-ms-changes-7" class="anchor" href="http://forums.whonix.org#tags-skip-all-requested-tags-already-set-created-by-dom0whonix-updatevm-started-112420291708-duration-4714395-ms-changes-7"></a>====== [‘tags’] ======<br>
[SKIP] All requested tags already set: created-by-dom0,whonix-updatevm<br>
Started: 11:24:20.291708<br>
Duration: 4714.395 ms<br>
Changes:</h2>
<h2>
<a name="id-whonix-gw-update-policy-function-fileprepend-name-etcqubes-rpcpolicyqubesupdatesproxy-result-true-comment-file-etcqubes-rpcpolicyqubesupdatesproxy-is-in-correct-state-started-112425006518-duration-7468-ms-changes-8" class="anchor" href="http://forums.whonix.org#id-whonix-gw-update-policy-function-fileprepend-name-etcqubes-rpcpolicyqubesupdatesproxy-result-true-comment-file-etcqubes-rpcpolicyqubesupdatesproxy-is-in-correct-state-started-112425006518-duration-7468-ms-changes-8"></a>ID: whonix-gw-update-policy<br>
Function: file.prepend<br>
Name: /etc/qubes-rpc/policy/qubes.UpdatesProxy<br>
Result: True<br>
Comment: File /etc/qubes-rpc/policy/qubes.UpdatesProxy is in correct state<br>
Started: 11:24:25.006518<br>
Duration: 7.468 ms<br>
Changes:</h2>
<h2>
<a name="id-sys-net-function-qvmexists-result-true-comment-usrbinqvm-check-sys-net-none-started-112425014322-duration-2048565-ms-changes-9" class="anchor" href="http://forums.whonix.org#id-sys-net-function-qvmexists-result-true-comment-usrbinqvm-check-sys-net-none-started-112425014322-duration-2048565-ms-changes-9"></a>ID: sys-net<br>
Function: qvm.exists<br>
Result: True<br>
Comment: /usr/bin/qvm-check sys-net None<br>
Started: 11:24:25.014322<br>
Duration: 2048.565 ms<br>
Changes:</h2>
<h2>
<a name="id-sys-firewall-function-qvmexists-result-true-comment-usrbinqvm-check-sys-firewall-none-started-112427065077-duration-1868662-ms-changes-10" class="anchor" href="http://forums.whonix.org#id-sys-firewall-function-qvmexists-result-true-comment-usrbinqvm-check-sys-firewall-none-started-112427065077-duration-1868662-ms-changes-10"></a>ID: sys-firewall<br>
Function: qvm.exists<br>
Result: True<br>
Comment: /usr/bin/qvm-check sys-firewall None<br>
Started: 11:24:27.065077<br>
Duration: 1868.662 ms<br>
Changes:</h2>
<h2>
<a name="id-sys-whonix-function-qvmexists-result-true-comment-usrbinqvm-check-sys-whonix-none-started-112428935733-duration-174459-ms-changes-11" class="anchor" href="http://forums.whonix.org#id-sys-whonix-function-qvmexists-result-true-comment-usrbinqvm-check-sys-whonix-none-started-112428935733-duration-174459-ms-changes-11"></a>ID: sys-whonix<br>
Function: qvm.exists<br>
Result: True<br>
Comment: /usr/bin/qvm-check sys-whonix None<br>
Started: 11:24:28.935733<br>
Duration: 1744.59 ms<br>
Changes:</h2>
<p>ID: whonix-ws-16-dvm<br>
Function: qvm.vm<br>
Result: False<br>
Comment: ====== [‘present’] ======<br>
====== stderr ======<br>
/usr/bin/qvm-create whonix-ws-16-dvm --class=AppVM --template=whonix-ws-16 --label=red<br>
app: Error creating VM: Got empty response from qubesd. See journalctl in dom0 for details.</p>
<p>====== [‘prefs’] ======<br>
Virtual Machine does not exist!</p>
<p>====== [‘features’] ======<br>
[SKIP] Skipping due to previous failure!</p>
<h2>
<a name="tags-skip-skipping-due-to-previous-failure-started-112430750482-duration-5255361-ms-changes-12" class="anchor" href="http://forums.whonix.org#tags-skip-skipping-due-to-previous-failure-started-112430750482-duration-5255361-ms-changes-12"></a>====== [‘tags’] ======<br>
[SKIP] Skipping due to previous failure!<br>
Started: 11:24:30.750482<br>
Duration: 5255.361 ms<br>
Changes:</h2>
<h2>
<a name="id-qvm-appmenus-update-whonix-ws-16-dvm-function-cmdrun-result-false-comment-one-or-more-requisite-failed-qvmwhonix-ws-dvmwhonix-ws-16-dvm-changes-13" class="anchor" href="http://forums.whonix.org#id-qvm-appmenus-update-whonix-ws-16-dvm-function-cmdrun-result-false-comment-one-or-more-requisite-failed-qvmwhonix-ws-dvmwhonix-ws-16-dvm-changes-13"></a>ID: qvm-appmenus --update whonix-ws-16-dvm<br>
Function: cmd.run<br>
Result: False<br>
Comment: One or more requisite failed: qvm.whonix-ws-dvm.whonix-ws-16-dvm<br>
Changes:</h2>
<p>ID: anon-whonix<br>
Function: qvm.exists<br>
Result: True<br>
Comment: /usr/bin/qvm-check anon-whonix None<br>
Started: 11:24:36.008428<br>
Duration: 1999.772 ms<br>
Changes:</p>
<h2>
<a name="summary-for-local-14" class="anchor" href="http://forums.whonix.org#summary-for-local-14"></a>Summary for local</h2>
<h2>
<a name="succeeded-10-failed-3-15" class="anchor" href="http://forums.whonix.org#succeeded-10-failed-3-15"></a>Succeeded: 10<br>
Failed: 3</h2>
<p>Total states run: 13<br>
Total run time: 23.736 s<br>
DOM0 configuration failed, not continuing</p>
          <p><a href="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547/1</link>
        <pubDate>Mon, 11 Oct 2021 22:44:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12547-1</guid>
        <source url="http://forums.whonix.org/t/whonix-upgrade-fails-after-interruption/12547.rss">Whonix upgrade fails after interruption</source>
      </item>
  </channel>
</rss>
