<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>kernel recompilation for better hardening</title>
    <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598</link>
    <description>https://docs.clip-os.org/clipos/kernel.html

https://github.com/a13xp0p0v/kconfig-hardened-check

These both look interesting. They&#39;re mainly for kernel compile options though.

Is there any way to build Whonix with custom kernel configurations? Or will kernels have to be recompiled to get custom configurations?</description>
    <language>en</language>
    <lastBuildDate>Wed, 09 Feb 2022 08:16:31 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Which files/folders would be covered by that?</p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/533">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/533</link>
        <pubDate>Wed, 09 Feb 2022 08:16:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-533</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[jonathanvlan]]></dc:creator>
        <description><![CDATA[
            <p><strong>Linux kernel configuration for IMA</strong><br>
this security is built into the kernel,</p>
<p>CONFIG_IMA=y<br>
CONFIG_IMA_MEASURE_PCR_IDX=10<br>
CONFIG_IMA_LSM_RULES=y<br>
CONFIG_IMA_NG_TEMPLATE=y<br>
CONFIG_IMA_DEFAULT_TEMPLATE=“ima-ng”<br>
CONFIG_IMA_DEFAULT_HASH_SHA512=y<br>
CONFIG_IMA_DEFAULT_HASH=“sha512”<br>
CONFIG_IMA_WRITE_POLICY=y<br>
CONFIG_IMA_READ_POLICY=y<br>
CONFIG_IMA_APPRAISE=y<br>
CONFIG_IMA_ARCH_POLICY=y<br>
CONFIG_IMA_APPRAISE_BUILD_POLICY=y<br>
CONFIG_IMA_APPRAISE_REQUIRE_FIRMWARE_SIGS=y<br>
CONFIG_IMA_APPRAISE_REQUIRE_KEXEC_SIGS=y<br>
CONFIG_IMA_APPRAISE_REQUIRE_MODULE_SIGS=y<br>
CONFIG_IMA_APPRAISE_REQUIRE_POLICY_SIGS=y<br>
CONFIG_IMA_APPRAISE_BOOTPARAM=y<br>
CONFIG_IMA_APPRAISE_MODSIG=y<br>
CONFIG_IMA_TRUSTED_KEYRING=y<br>
CONFIG_IMA_KEYRINGS_PERMIT_SIGNED_BY_BUILTIN_OR_SECONDARY=y<br>
CONFIG_IMA_BLACKLIST_KEYRING=y<br>
CONFIG_IMA_LOAD_X509=y<br>
CONFIG_IMA_X509_PATH="/etc/keys/x509_ima.der"<br>
CONFIG_IMA_MEASURE_ASYMMETRIC_KEYS=y<br>
CONFIG_IMA_QUEUE_EARLY_BOOT_KEYS=y<br>
CONFIG_IMA_SECURE_AND_OR_TRUSTED_BOOT=y<br>
CONFIG_IMA_DISABLE_HTABLE=y</p>
<p><strong>Extended Verification Module</strong><br>
CONFIG_EVM=y<br>
CONFIG_EVM_ATTR_FSUUID=y<br>
CONFIG_EVM_EXTRA_SMACK_XATTRS=y<br>
CONFIG_EVM_ADD_XATTRS=y<br>
CONFIG_EVM_LOAD_X509=y<br>
CONFIG_EVM_X509_PATH="/etc/keys/x509_evm.der"</p>
<p><code>-# CONFIG_IMA_APPRAISE_SIGNED_INIT is not set</code> !<br>
Disable this line This causes the system to freeze</p>
<p><strong>Boot parameter</strong><br>
ima_policy=appraise_tcb ima_appraise=fix ima_policy=tcb ima_policy=secure_boot<br>
ima_hash=sha512 appraise_flag=blacklist_ evm=fix</p>
<p><strong>Linux IMA Extended Verification Module signing tools</strong><br>
Digital signature verification extension and audit measurement log support.<br>
Package available in debian repository: <strong>ima-evm-utils</strong></p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/532">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/532</link>
        <pubDate>Mon, 07 Feb 2022 15:44:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-532</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[jonathanvlan]]></dc:creator>
        <description><![CDATA[
            <p>I think IMA integration is necessary<br>
<strong>Integrity Measurement Architecture</strong></p>
<p>This allows greater security although it is somewhat complex to be manually<br>
inserting keys - openssl ,<br>
I have worked on a script it is simple but it signs everything in<br>
an automated way ( Extended Verification Module )</p>
<p>img  &gt;  <a href="https://i.imgur.com/zB3wFDn.png" rel="noopener nofollow ugc">https://i.imgur.com/zB3wFDn.png</a> /<br>
img  &gt; <a href="https://i.imgur.com/aR7qgqS.png" rel="noopener nofollow ugc">https://i.imgur.com/aR7qgqS.png</a> /</p>
<p>I could share the script but how do I send it  , thanks</p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/531">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/531</link>
        <pubDate>Thu, 03 Feb 2022 21:47:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-531</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>ClipOS is deprecated unfortunately;</p><aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://clip-os.org/favicon.png" class="site-icon" width="16" height="16">

      <a href="https://clip-os.org/en/news/2021/10/06/end-of-maintenance/" target="_blank" rel="noopener" title="12:00PM - 06 October 2021">CLIP OS – 6 Oct 21</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://clip-os.org/en/news/2021/10/06/end-of-maintenance/" target="_blank" rel="noopener">Maintenance ending</a></h3>

  <p>The ANSSI’s CLIP OS projet is currently a research project, it is delivered as-is, without regular development or maintenance guarantee.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<hr>
<p><a href="https://www.phoronix.com/scan.php?page=article&amp;item=if-amd-kpti&amp;num=1" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=article&amp;item=if-amd-kpti&amp;num=1</a></p>
<p>"The paper points to AMD CPUs suffering from a side-channel leakage vulnerability through timing and power variations of the PREFETCH instruction. The paper argues that AMD CPUs should activate stronger page table isolation by default. "</p>
<p>“With the Linux kernel already supporting Kernel Page Table Isolation albeit not enabled by default on AMD CPUs, it’s easy to test the behavior otherwise. KPTI can already be forced on for AMD CPUs under Linux if booting with the “pti=on” kernel option (not to be confused with the “kpti=1” option that is for controlling page table isolation for AArch64 systems, unfortunately through a different knob).”</p>
<hr>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=GCC-12-Better-Security" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=GCC-12-Better-Security</a></p>
<p>" For instance with GCC 11 is the zero-call-used-regs compiler feature and now with Linux 5.15 <a href="https://www.phoronix.com/scan.php?page=article&amp;item=zero-used-regs&amp;num=1">that feature can be optionally used to enhance the kernel security</a>.</p>
<p>Slipping under our radar earlier this month was that GCC 12 has landed <a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=GCC-12-Auto-Var-Init">stack variable auto-initialization</a>. This new GCC 12 security feature can be turned on with the “-ftrivial-auto-var-init=zero” compiler switch. LLVM/Clang saw this security option posted back in 2018."</p>
<hr>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=SMB3-File-Server-Security-Fix" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=SMB3-File-Server-Security-Fix</a></p>
<p>I don;t know why they thought it was a good idea to include an  in-kernel SMB3 file server that turned up vulnerabilities, but I’m sure we are all better off without it. This is a Linux 5.15 “feature” that we can turn off.</p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/530">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/530</link>
        <pubDate>Sun, 07 Nov 2021 13:15:28 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-530</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>An AMD feature available in KVM for enhanced protection in Zen3 CPUs:</p>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=AMD-PSF-Linux-5.16-KVM" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=AMD-PSF-Linux-5.16-KVM</a></p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/529">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/529</link>
        <pubDate>Sat, 02 Oct 2021 15:01:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-529</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Bunch of upcoming changes to spectre protection defaults and build time compiler options added to newer releases of LLVM and GCC. Sending pulls to other Linux projects may be helpful:</p>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Clang-CFI-Linux-v2" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=Clang-CFI-Linux-v2</a></p>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Spectre-V2-V4-Going-Prctl-Def" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=Spectre-V2-V4-Going-Prctl-Def</a><br>
Difficult to understand what these changes do. A comment from the discussion thread frames it this way:</p>
<blockquote>
<p>The question is, which programs in the past have opted in with PRCTL? Which in the future will be SECCOMP threads which will have it applied?</p>
</blockquote>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.15-L1d-Flushing-Mech" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.15-L1d-Flushing-Mech</a></p>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.15-Hardening" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.15-Hardening</a></p>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=GCC-12-Better-Security" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=GCC-12-Better-Security</a></p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/528">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/528</link>
        <pubDate>Sat, 25 Sep 2021 14:35:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-528</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <ul>
<li><a href="https://www.whonix.org/wiki/Troubleshooting#Daemon_Log_View">Daemon Log View</a></li>
<li><a href="https://www.whonix.org/wiki/Troubleshooting#System_Logs">System Logs</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/527">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/527</link>
        <pubDate>Mon, 26 Jul 2021 22:09:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-527</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[curious_george945]]></dc:creator>
        <description><![CDATA[
            <p>Hi,</p>
<p>Installed the Whonix hardened kernel on another distro and now some systemd services will not start. Don’t seem to be able to restart these services and when sudo systemctl start [service] is run, there is an error message which is  described as exit-code. Also commands to the dbus seem to fail as well, returning<br>
Failed to connect to bus: Connection Refused</p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/526">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/526</link>
        <pubDate>Mon, 26 Jul 2021 01:07:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-526</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>That change just adds a thumbnail. It overlaps with the boxes though.</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="//forums.whonix.org/uploads/default/original/2X/3/3c481ac97e1a3c92fabb667eff3cdb4f58a7ee36.jpeg" data-download-href="//forums.whonix.org/uploads/default/3c481ac97e1a3c92fabb667eff3cdb4f58a7ee36" title="image"><img src="//forums.whonix.org/uploads/default/optimized/2X/3/3c481ac97e1a3c92fabb667eff3cdb4f58a7ee36_2_690x216.jpeg" alt="image" data-base62-sha1="8Bh8afDlmhyQfihIBft7w5T0jHM" width="690" height="216" srcset="//forums.whonix.org/uploads/default/optimized/2X/3/3c481ac97e1a3c92fabb667eff3cdb4f58a7ee36_2_690x216.jpeg, //forums.whonix.org/uploads/default/original/2X/3/3c481ac97e1a3c92fabb667eff3cdb4f58a7ee36.jpeg 1.5x, //forums.whonix.org/uploads/default/original/2X/3/3c481ac97e1a3c92fabb667eff3cdb4f58a7ee36.jpeg 2x" data-small-upload="//forums.whonix.org/uploads/default/optimized/2X/3/3c481ac97e1a3c92fabb667eff3cdb4f58a7ee36_2_10x10.png"></a></div><p></p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/525">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/525</link>
        <pubDate>Sat, 05 Jun 2021 19:01:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-525</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Could you review <a href="https://www.whonix.org/w/index.php?title=Hardened-kernel&amp;oldid=62400&amp;diff=65956" class="inline-onebox">Difference between revisions of "Hardened-kernel" - Whonix</a> please?</p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/524">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/524</link>
        <pubDate>Sat, 05 Jun 2021 14:02:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-524</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubpullrequest">
  <header class="source">

      <a href="https://github.com/Whonix/hardened-kernel/pull/57" target="_blank" rel="noopener nofollow ugc">github.com/Whonix/hardened-kernel</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/hardened-kernel/pull/57" target="_blank" rel="noopener nofollow ugc">Enable kprobes</a>
    </h4>

    <div class="branches">
      <code>Whonix:master</code> ← <code>madaidan:kprobes</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-06-04" data-time="20:01:36" data-timezone="UTC">08:01PM - 04 Jun 21 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/madaidan" target="_blank" rel="noopener nofollow ugc">
          <img alt="madaidan" src="https://avatars.githubusercontent.com/u/50278627?v=4" class="onebox-avatar-inline" width="20" height="20">
          madaidan
        </a>
      </div>

      <div class="lines" title="2 commits changed 5 files with 61 additions and 75 deletions">
        <a href="https://github.com/Whonix/hardened-kernel/pull/57/files" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+61</span>
          <span class="removed">-75</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">https://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/522</p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Will also update documentation to reflect this.</p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/523">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/523</link>
        <pubDate>Fri, 04 Jun 2021 20:02:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-523</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>As per <a href="https://github.com/GrapheneOS/os-issue-tracker/issues/408#issuecomment-820490823" class="inline-onebox" rel="noopener nofollow ugc">Consider Pulling in LKRG · Issue #408 · GrapheneOS/os-issue-tracker · GitHub</a>, I believe we should get rid of the <code>--lkrg</code> option and enable <code>CONFIG_KPROBES</code> by default, while also disabling the config options mentioned in the issue to get rid of the attack surface exposed to user space.</p>
<p>Tirdad also requires kprobes:</p>
<aside class="onebox githubissue">
  <header class="source">

      <a href="https://github.com/0xsirus/tirdad/issues/12" target="_blank" rel="noopener nofollow ugc">github.com/0xsirus/tirdad</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/0xsirus/tirdad/issues/12" target="_blank" rel="noopener nofollow ugc">error installing tirdad</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-01-31" data-time="18:42:36" data-timezone="UTC">06:42PM - 31 Jan 21 UTC</span>
      </div>

        <div class="date">
          closed <span class="discourse-local-date" data-format="ll" data-date="2021-01-31" data-time="20:44:29" data-timezone="UTC">08:44PM - 31 Jan 21 UTC</span>
        </div>

      <div class="user">
        <a href="https://github.com/anon-lestat" target="_blank" rel="noopener nofollow ugc">
          <img alt="anon-lestat" src="https://avatars.githubusercontent.com/u/77899829?v=4" class="onebox-avatar-inline" width="20" height="20">
          anon-lestat
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">i compiled tirdad with make and did "insmod module/tirdad.ko"
It said Operation<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden"> not permitted. I Typed the command dmesg and it says: FATAL: Can't find kallsyms_lookup_name.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/522">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/522</link>
        <pubDate>Fri, 04 Jun 2021 19:03:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-522</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="HulaHoop" data-post="519" data-topic="7598">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>The Landlock LSM is now mainlined in 5.13. I wonder if it can be stacked wit the app sandbox we are working on since it too can restrict unprivileged apps.</p>
</blockquote>
</aside>
<p>See:</p><aside class="quote quote-modified" data-post="516" data-topic="7598">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/516">kernel recompilation for better hardening</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development/8"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Landlock currently isn’t in mainline; it’s only in linux-next: <a href="https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/tree/Documentation/userspace-api/landlock.rst?h=next-20210319&amp;id=f00397ee41c79b6155b9b44abd0055b2c0621349" rel="noopener nofollow ugc">https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/tree/Documentation/userspace-api/landlock.rst?h=next-20210319&amp;id=f00397ee41c79b6155b9b44abd0055b2c0621349</a> 
When it does land in mainline, it will be a very long time before it reaches LTS and besides, I don’t see a significant advantage of this over AppArmor + bubblewrap. Landlock is intended for use cases in which the user does not have the adminstrator privileges n…
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/521">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/521</link>
        <pubDate>Sat, 29 May 2021 15:46:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-521</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Ryzen 3 has a PSF feature that causes spectre vulns. Trning it off is supported in 5.13, though it’s optional and won’t be a default.</p>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=AMD-PSF-Linux-v6" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=AMD-PSF-Linux-v6</a></p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/520">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/520</link>
        <pubDate>Sat, 22 May 2021 17:34:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-520</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>The Landlock LSM is now mainlined in 5.13. I wonder if it can be stacked wit the app sandbox we are working on since it too can restrict unprivileged apps.</p>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.13-Landlock-Lands" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.13-Landlock-Lands</a></p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/519">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/519</link>
        <pubDate>Thu, 13 May 2021 23:19:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-519</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>New CONFIG options in 5.9 we can enable:<br>
<a href="https://outflux.net/blog/archives/2021/04/05/security-things-in-linux-v5-9/" class="onebox" target="_blank" rel="noopener">https://outflux.net/blog/archives/2021/04/05/security-things-in-linux-v5-9/</a></p>
<p>Guide on configuring Yama’s ptrace restriction levels:<br>
</p><aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://etbe.coker.com.au/wp-content/ata-images/new-favicon.ico" class="site-icon" width="" height="">
      <a href="https://etbe.coker.com.au/2021/04/13/yama/" target="_blank" rel="noopener" title="11:00PM - 12 April 2021">etbe - Russell Coker – 12 Apr 21</a>
  </header>
  <article class="onebox-body">
    <img src="https://s0.wp.com/i/blank.jpg" class="thumbnail onebox-avatar" width="200" height="200">

<h3><a href="https://etbe.coker.com.au/2021/04/13/yama/" target="_blank" rel="noopener">Yama</a></h3>

<p>I’ve just setup the Yama LSM module on some of my Linux systems. Yama controls ptrace which is the debugging and tracing API for Unix systems. The aim is to prevent a compromised process from…</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/518">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/518</link>
        <pubDate>Thu, 22 Apr 2021 01:12:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-518</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://thomasw.dev/" class="site-icon" width="16" height="16">
      <a href="https://thomasw.dev/post/kfence/" target="_blank" rel="noopener nofollow ugc" title="10:00PM - 15 March 2021">Thomas – 15 Mar 21</a>
  </header>
  <article class="onebox-body">
    <img src="" class="thumbnail" width="16" height="16">

<h3><a href="https://thomasw.dev/post/kfence/" target="_blank" rel="noopener nofollow ugc">KFENCE - Detecting memory bugs in production kernels</a></h3>

<p>On February 26 this year KFENCE was merged into the upstream kernel source, ready for release in Linux 5.12. KFENCE is basically a low-overhead address sanitizer, but actually so low-overhead that it can run in production kernels on live systems...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/517">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/517</link>
        <pubDate>Fri, 26 Mar 2021 23:49:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-517</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>Landlock currently isn’t in mainline; it’s only in linux-next: <a href="https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/tree/Documentation/userspace-api/landlock.rst?h=next-20210319&amp;id=f00397ee41c79b6155b9b44abd0055b2c0621349" rel="noopener nofollow ugc">https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/tree/Documentation/userspace-api/landlock.rst?h=next-20210319&amp;id=f00397ee41c79b6155b9b44abd0055b2c0621349</a></p>
<p>When it does land in mainline, it will be a very long time before it reaches LTS and besides, I don’t see a significant advantage of this over AppArmor + bubblewrap. Landlock is intended for use cases in which the user does not have the adminstrator privileges necessary to configure traditional security policies like AppArmor which does not apply to us.</p>
<p>Combining a whole bunch of different access control mechanisms would be redundant — it’s the same kernel enforcing all of these policies and a single kernel exploit can bypass all of them. Unless Landlock exposes the ability to restrict something that isn’t already covered by our current approach, I don’t see an advantage.</p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/516">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/516</link>
        <pubDate>Sun, 21 Mar 2021 20:32:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-516</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[jonathanvlan]]></dc:creator>
        <description><![CDATA[
            <p>hi a different function and greater security<br>
some guys shared a topic  : firejail / seccomp / More Options for Program Containment<br>
there is a security patch  <strong>Landlock</strong>  : <strong>Landlock: unprivileged access control</strong></p>
<p>CONFIG_SECURITY_LANDLOCK=y</p>
<p>tried a sandbox inside another sandbox   ./landlock1 /bin/sh firejail *application</p>
<p>With the exploits and bypasses that there are lately,<br>
I believe that greater security is necessary</p>
<p><strong>Theory : Apparmor &gt; Landlock &gt; Firejail &gt; Tor browser</strong></p>
<p>Kernel Patch Hardening : <a href="https://patchwork.kernel.org/project/kernel-hardening/list/" rel="noopener nofollow ugc">https://patchwork.kernel.org/project/kernel-hardening/list/</a></p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/515">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/515</link>
        <pubDate>Sun, 21 Mar 2021 19:54:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-515</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox twitterstatus">
  <header class="source">
      <a href="https://twitter.com/spendergrsec/status/1367605182595559424" target="_blank" rel="noopener nofollow ugc">twitter.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://pbs.twimg.com/profile_images/1229103528595148802/jdWjVA4k_400x400.jpg" class="thumbnail onebox-avatar" width="60" height="60">

<h4><a href="https://twitter.com/spendergrsec/status/1367605182595559424" target="_blank" rel="noopener nofollow ugc">Brad Spengler (spendergrsec)</a></h4>

<div class="tweet"> <a href="https://twitter.com/MichalPurzynski" target="_blank" rel="noopener nofollow ugc">@MichalPurzynski</a> <a href="https://twitter.com/grsecurity" target="_blank" rel="noopener nofollow ugc">@grsecurity</a> Doesn't seem to be designed as a security feature, regardless of how blogs from whatever source may market it later.</div>

<div class="date">
  <a href="https://twitter.com/spendergrsec/status/1367605182595559424" target="_blank" rel="noopener nofollow ugc">10:37 PM - 4 Mar 2021</a>
    <span class="like">
      <svg viewBox="0 0 512 512" width="14px" height="16px" aria-hidden="true">
        <path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"></path>
      </svg> 2
    </span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/514">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/514</link>
        <pubDate>Fri, 12 Mar 2021 18:23:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-514</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p><em>CONFIG_KFENCE</em> is a Low-Overhead Memory Safety Feature introduced in Linux 5.12 that is more competent than the KASAN. Used for uncovering similar out-of-bounds / use-after-free / invalid-free errors but with no overhead.</p>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.12-KFence" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.12-KFence</a></p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/513">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/513</link>
        <pubDate>Thu, 04 Mar 2021 22:43:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-513</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>linux-hardened’s FORTIFY_SOURCE_STRICT_STRING has been implemented upstream.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/torvalds/linux/commit/6a39e62abbafd1d58d1722f40c7d26ef379c6a2f" target="_blank" rel="noopener nofollow ugc">github.com/torvalds/linux</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/torvalds/linux/commit/6a39e62abbafd1d58d1722f40c7d26ef379c6a2f" target="_blank" rel="noopener nofollow ugc">lib: string.h: detect intra-object overflow in fortified string functions</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2020-12-16" data-time="04:43:44" data-timezone="UTC">04:43AM - 16 Dec 20 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/daxtens" target="_blank" rel="noopener nofollow ugc">
          <img alt="daxtens" src="https://avatars.githubusercontent.com/u/3307781?v=4" class="onebox-avatar-inline" width="20" height="20">
          daxtens
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 16 additions and 11 deletions">
        <a href="https://github.com/torvalds/linux/commit/6a39e62abbafd1d58d1722f40c7d26ef379c6a2f" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+16</span>
          <span class="removed">-11</span>
        </a>
      </div>
    </div>

  </div>
</div>


  <div class="github-row">
    <pre class="github-content" style="white-space: normal;">Patch series "Fortify strscpy()", v7.
This patch implements a fortified version of strscpy() enabled by setting
CONFIG_FORTIFY_SOURCE=y. The new version ensures the following...</pre>
  </div>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/512">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/512</link>
        <pubDate>Sat, 30 Jan 2021 21:38:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-512</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubfolder">
  <header class="source">
      <img src="https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="16" height="16">
      <a href="https://github.com/tych0/huldufolk" target="_blank" rel="noopener nofollow ugc">github.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars.githubusercontent.com/u/785111?s=400&amp;amp;v=4" class="thumbnail onebox-full-image" width="60" height="60">

<h3><a href="https://github.com/tych0/huldufolk" target="_blank" rel="noopener nofollow ugc">tych0/huldufolk</a></h3>


  <p><span class="label1">the userspace side of Linux' CONFIG_STATIC_USERMODEHELPER</span></p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/511">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/511</link>
        <pubDate>Sat, 30 Jan 2021 01:36:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-511</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="509" data-topic="7598">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Does that look alright?</p>
</blockquote>
</aside>
<p>It shouldn’t be too important but running <code>make oldconfig</code> wouldn’t hurt. It’ll rearrange the file properly before build but this isn’t required.</p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/510">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/510</link>
        <pubDate>Tue, 22 Dec 2020 19:08:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-510</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
      <item>
        <title>kernel recompilation for better hardening</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/hardened-kernel/commit/d941ad1bc6c842e932922d792818ac716ccd437c" target="_blank" rel="noopener">github.com/Whonix/hardened-kernel</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/hardened-kernel/commit/d941ad1bc6c842e932922d792818ac716ccd437c" target="_blank" rel="noopener">CI fix</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2020-12-22" data-time="13:12:17" data-timezone="UTC">01:12PM - 22 Dec 20 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 7 additions and 7 deletions">
        <a href="https://github.com/Whonix/hardened-kernel/commit/d941ad1bc6c842e932922d792818ac716ccd437c" target="_blank" rel="noopener">
          <span class="added">+7</span>
          <span class="removed">-7</span>
        </a>
      </div>
    </div>

  </div>
</div>


  <div class="github-row">
    <pre class="github-content" style="white-space: normal;">https://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/504</pre>
  </div>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Now I get why this was happening on CI. <code>--debug</code> results in <code>kprobes="true"</code>.</p>
<p>That CI issue seems now fixed. Build hasn’t completed yet but it’s past that issue.</p>
<hr>
<p>Another thing…</p>
<hr>
<pre><code>if [ "${kprobes}" = "true" ]; then
  cat "${MYDIR}/kprobes-ftrace" &gt;&gt; "$extracted_linux_kernel_sources_folder/.config"
fi
</code></pre>
<p>We don’t run <code>make oldconfig -C "$extracted_linux_kernel_sources_folder"</code>.</p>
<hr>
<p>vs</p>
<hr>
<pre><code>   cat "${MYDIR}/debugging-config" &gt;&gt; "$extracted_linux_kernel_sources_folder/.config"
   if [ "${kernel_config}" = "hardened-host-kernel" ]; then
     cat "${MYDIR}/debugging-config-host" &gt;&gt; "$extracted_linux_kernel_sources_folder/.config"
   fi
   make oldconfig -C "$extracted_linux_kernel_sources_folder"
</code></pre>
<p>We do run <code>make oldconfig -C "$extracted_linux_kernel_sources_folder"</code>.</p>
<hr>
<p>Does that look alright?</p>
          <p><a href="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/509">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/509</link>
        <pubDate>Tue, 22 Dec 2020 13:17:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7598-509</guid>
        <source url="http://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598.rss">kernel recompilation for better hardening</source>
      </item>
  </channel>
</rss>
