<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>kernel recompilation for better hardening - Development - Whonix Forum</title>
    <meta name="description" content="https://docs.clip-os.org/clipos/kernel.html 


These both look interesting. They‚Äôre mainly for kernel compile options though. 
Is there any way to build Whonix with custom kernel configurations? Or will kernels have to b&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="759819d2.html?page=26" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;kernel recompilation for better hardening&#39;" href="7598.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598?page=26" />
<meta name="twitter:url" content="https://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598?page=26" />
<meta property="og:title" content="kernel recompilation for better hardening" />
<meta name="twitter:title" content="kernel recompilation for better hardening" />
<meta property="og:description" content="CI build failing.   https://travis-ci.com/github/Whonix/hardened-kernel https://api.travis-ci.com/v3/job/463218766/log.txt" />
<meta name="twitter:description" content="CI build failing.   https://travis-ci.com/github/Whonix/hardened-kernel https://api.travis-ci.com/v3/job/463218766/log.txt" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="105 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="608 ‚ù§" />
<meta property="article:published_time" content="2020-12-21T11:10:54+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="75988c06.html?page=25">
        <link rel="next" href="75982459.html?page=27">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="7598.html">kernel recompilation for better hardening</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/component_security.html' class='discourse-tag' rel="tag">component_security</a>, 
            <a href='../../tag/status_open_issue_todo.html' class='discourse-tag' rel="tag">status_open_issue_todo</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-21T11:10:54Z' class='post-time'>
                December 21, 2020, 11:10am
              </time>
              <meta itemprop='dateModified' content='2020-12-21T11:10:54Z'>
          <span itemprop='position'>#504</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>CI build failing.</p>
<ul>
<li><a href="../../../external.html?link=https://travis-ci.com/github/Whonix/hardened-kernel">https://travis-ci.com/github/Whonix/hardened-kernel</a></li>
<li><a href="../../../external.html?link=https://api.travis-ci.com/v3/job/463218766/log.txt">https://api.travis-ci.com/v3/job/463218766/log.txt</a></li>
</ul>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>
          <meta itemprop='keywords' content='component_security, status_open_issue_todo'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-21T19:42:12Z' class='post-time'>
                December 21, 2020,  7:42pm
              </time>
              <meta itemprop='dateModified' content='2020-12-21T19:42:12Z'>
          <span itemprop='position'>#505</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I can‚Äôt tell what‚Äôs causing this. Can you?</p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-21T20:47:31Z' class='post-time'>
                December 21, 2020,  8:47pm
              </time>
              <meta itemprop='dateModified' content='2020-12-21T20:47:31Z'>
          <span itemprop='position'>#506</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Happening when using <code>--debug</code> with environment variable <code>CI=true</code> being set.</p>
<pre><code>+ true 'Sanity test. '\''make oldconfig'\'' should not modify '\''.config'\''.'
+ true https://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/317
+ make oldconfig -C /var/lib/hardened-kernel/hardened-vm-kernel/linux-4.19.122/
...
+ diff /home/travis/build/Whonix/hardened-kernel/usr/share/hardened-kernel/hardened-vm-kernel /var/lib/hardened-kernel/hardened-vm-kernel/linux-4.19.122//.config
</code></pre>
<p><code>diff</code> then exits non-zero.</p>
<p>See the diff.</p>
<pre><code>diff /home/travis/build/Whonix/hardened-kernel/usr/share/hardened-kernel/hardened-vm-kernel /var/lib/hardened-kernel/hardened-vm-kernel/linux-4.19.122//.config
</code></pre>
<p>.</p>
<pre><code>&gt; # CONFIG_GENERIC_IRQ_DEBUGFS is not set
286a288
&gt; # CONFIG_IOSF_MBI_DEBUG is not set
292a295
&gt; # CONFIG_QUEUED_LOCK_STAT is not set
300a304
&gt; # CONFIG_XEN_DEBUG_FS is not set
302a307
&gt; # CONFIG_KVM_DEBUG_FS is not set
344a350
&gt; # CONFIG_X86_MCE_INJECT is not set
488a495
&gt; # CONFIG_ACPI_CUSTOM_METHOD is not set
496a504
&gt; # CONFIG_ACPI_APEI_EINJ is not set
685c693
&lt; # CONFIG_KPROBES is not set
---
&gt; CONFIG_KPROBES=y
687a696
&gt; CONFIG_OPTPROBES=y
689a699
&gt; CONFIG_KRETPROBES=y
758a769
&gt; # CONFIG_GCOV_KERNEL is not set
802a814,815
&gt; CONFIG_BLK_DEBUG_FS=y
&gt; CONFIG_BLK_DEBUG_FS_ZONED=y
1500a1514
&gt; # CONFIG_ZRAM_MEMORY_TRACKING is not set
2079a2094
&gt; # CONFIG_NETDEVSIM is not set
3718a3734
&gt; # CONFIG_SW_SYNC is not set
3895a3912
&gt; # CONFIG_IOMMU_DEBUGFS is not set
3989a4007
&gt; # CONFIG_RAS_CEC is not set
4019a4038
&gt; # CONFIG_INTEL_TH_DEBUG is not set
4616a4636
&gt; # CONFIG_DYNAMIC_DEBUG is not set
4632c4652
&lt; # CONFIG_DEBUG_FS is not set
---
&gt; CONFIG_DEBUG_FS=y
4733a4754
&gt; CONFIG_FUNCTION_ERROR_INJECTION=y
4749a4771
&gt; # CONFIG_LKDTM is not set
4751a4774
&gt; # CONFIG_KPROBES_SANITY_TEST is not set
4808a4832
&gt; # CONFIG_DEBUG_BOOT_PARAMS is not set
</code></pre>
<p>That should not be happening.</p>
<p>Running</p>
<pre><code>make oldconfig -C "$extracted_linux_kernel_sources_folder"
</code></pre>
<p>should not be modifying <code>"$extracted_linux_kernel_sources_folder/.config"</code> <code>"${MYDIR}/${kernel_config}"</code> should already be in a state where a later <code>make oldconfig</code> would do nothing. That is to make the process ‚Äúless magic‚Äù. Less auto generated. Easier to review. More predictable. Allow reviewers to review to full kernel configuration. No implicit filling the blanks during compilation. Solution? Run <code>make oldconfig</code> yourself, review, and update config in git. Make <code>make oldconfig</code> out of work.</p>
<p>Build history reveals that this is only happening since <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/pull/55">https://github.com/Whonix/hardened-kernel/pull/55</a> was merged.</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://cdn.travis-ci.com/images/favicon-076a22660830dc325cc8ed70e7146a59.png" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://travis-ci.com/github/Whonix/hardened-kernel/builds" target="_blank" rel="noopener">travis-ci.com</a>
  </header>
  <article class="onebox-body">
    <img src="#" class="thumbnail" width="16" height="16">

<h3><a href="../../../external.html?link=https://travis-ci.com/github/Whonix/hardened-kernel/builds" target="_blank" rel="noopener">Travis CI - Test and Deploy with Confidence</a></h3>



  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>But I don‚Äôt see how that pull request could have caused that since it‚Äôs opt in and not used on CI.</p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-21T21:02:05Z' class='post-time'>
                December 21, 2020,  9:02pm
              </time>
              <meta itemprop='dateModified' content='2020-12-21T21:02:05Z'>
          <span itemprop='position'>#507</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="506" data-topic="7598">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>should not be modifying <code>"$extracted_linux_kernel_sources_folder/.config"</code> <code>"${MYDIR}/${kernel_config}"</code> should already be in a state where a later <code>make oldconfig</code> would do nothing. That is to make the process ‚Äúless magic‚Äù. Less auto generated. Easier to review. More predictable. Allow reviewers to review to full kernel configuration. No implicit filling the blanks during compilation. Solution? Run <code>make oldconfig</code> yourself, review, and update config in git. Make <code>make oldconfig</code> out of work.</p>
</blockquote>
</aside>
<p>The sanity check runs after the kprobes/ftrace configs are appended: <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/blob/629b62475455ce5ef073e6ba8b970ea76ade88a0/usr/share/hardened-kernel/build#L109" rel="noopener nofollow ugc">https://github.com/Whonix/hardened-kernel/blob/629b62475455ce5ef073e6ba8b970ea76ade88a0/usr/share/hardened-kernel/build#L109</a></p>
<p><code>make oldconfig</code> will then shift those configs about to put them in the correct order in the full file. The sanity test must run before those options are added.</p>
<aside class="quote no-group" data-username="Patrick" data-post="506" data-topic="7598">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Build history reveals that this is only happening since <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/pull/55" rel="noopener nofollow ugc">https://github.com/Whonix/hardened-kernel/pull/55</a> was merged.</p>
</blockquote>
</aside>
<p>The build for that passed though? It seems to fail because of <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/commit/629b62475455ce5ef073e6ba8b970ea76ade88a0" rel="noopener nofollow ugc">https://github.com/Whonix/hardened-kernel/commit/629b62475455ce5ef073e6ba8b970ea76ade88a0</a></p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-22T13:10:03Z' class='post-time'>
                December 22, 2020,  1:10pm
              </time>
              <meta itemprop='dateModified' content='2020-12-22T13:10:03Z'>
          <span itemprop='position'>#508</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="madaidan" data-post="507" data-topic="7598">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>The sanity check runs after the kprobes/ftrace configs are appended</p>
</blockquote>
</aside>
<p>Indeed.</p>
<p>That sanity test runs <code>if [ "$debug" = "true" ]; then</code>. It is nested in another IF. <code>if [ "$CI" = "true" ]; then</code>. Btw I don‚Äôt see why that should be nested. (Perhaps was implemented this way because CI build uses <code>--debug</code> anyhow.)</p>
<p>Could run that sanity test outside of <code>if [ "$debug" = "true" ]; then</code> and earlier. I‚Äôll try that now.</p>
<aside class="quote no-group" data-username="madaidan" data-post="507" data-topic="7598">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>The build for that passed though?</p>
</blockquote>
</aside>
<p>No. On <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/commit/629b62475455ce5ef073e6ba8b970ea76ade88a0">https://github.com/Whonix/hardened-kernel/commit/629b62475455ce5ef073e6ba8b970ea76ade88a0</a> the red X indicates a failed Travis CI build. I should have noticed this earlier.</p>
<aside class="quote no-group" data-username="madaidan" data-post="507" data-topic="7598">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>It seems to fail because of <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/commit/629b62475455ce5ef073e6ba8b970ea76ade88a0">https://github.com/Whonix/hardened-kernel/commit/629b62475455ce5ef073e6ba8b970ea76ade88a0</a></p>
</blockquote>
</aside>
<p>Seems like. But I understand how it can be the cause since it added an opt-in. Didn‚Äôt changed actual execution on CI.</p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-22T13:17:41Z' class='post-time'>
                December 22, 2020,  1:17pm
              </time>
              <meta itemprop='dateModified' content='2020-12-22T13:17:41Z'>
          <span itemprop='position'>#509</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/commit/d941ad1bc6c842e932922d792818ac716ccd437c" target="_blank" rel="noopener">github.com/Whonix/hardened-kernel</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/commit/d941ad1bc6c842e932922d792818ac716ccd437c" target="_blank" rel="noopener">CI fix</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2020-12-22" data-time="13:12:17" data-timezone="UTC">01:12PM - 22 Dec 20 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 7 additions and 7 deletions">
        <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/commit/d941ad1bc6c842e932922d792818ac716ccd437c" target="_blank" rel="noopener">
          <span class="added">+7</span>
          <span class="removed">-7</span>
        </a>
      </div>
    </div>

  </div>
</div>


  <div class="github-row">
    <pre class="github-content" style="white-space: normal;">https://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/504</pre>
  </div>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Now I get why this was happening on CI. <code>--debug</code> results in <code>kprobes="true"</code>.</p>
<p>That CI issue seems now fixed. Build hasn‚Äôt completed yet but it‚Äôs past that issue.</p>
<hr>
<p>Another thing‚Ä¶</p>
<hr>
<pre><code>if [ "${kprobes}" = "true" ]; then
  cat "${MYDIR}/kprobes-ftrace" &gt;&gt; "$extracted_linux_kernel_sources_folder/.config"
fi
</code></pre>
<p>We don‚Äôt run <code>make oldconfig -C "$extracted_linux_kernel_sources_folder"</code>.</p>
<hr>
<p>vs</p>
<hr>
<pre><code>   cat "${MYDIR}/debugging-config" &gt;&gt; "$extracted_linux_kernel_sources_folder/.config"
   if [ "${kernel_config}" = "hardened-host-kernel" ]; then
     cat "${MYDIR}/debugging-config-host" &gt;&gt; "$extracted_linux_kernel_sources_folder/.config"
   fi
   make oldconfig -C "$extracted_linux_kernel_sources_folder"
</code></pre>
<p>We do run <code>make oldconfig -C "$extracted_linux_kernel_sources_folder"</code>.</p>
<hr>
<p>Does that look alright?</p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-22T19:08:56Z' class='post-time'>
                December 22, 2020,  7:08pm
              </time>
              <meta itemprop='dateModified' content='2020-12-22T19:08:56Z'>
          <span itemprop='position'>#510</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="509" data-topic="7598">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Does that look alright?</p>
</blockquote>
</aside>
<p>It shouldn‚Äôt be too important but running <code>make oldconfig</code> wouldn‚Äôt hurt. It‚Äôll rearrange the file properly before build but this isn‚Äôt required.</p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-30T01:36:11Z' class='post-time'>
                January 30, 2021,  1:36am
              </time>
              <meta itemprop='dateModified' content='2021-01-30T01:36:11Z'>
          <span itemprop='position'>#511</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubfolder">
  <header class="source">
      <img src="../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://github.com/tych0/huldufolk" target="_blank" rel="noopener nofollow ugc">github.com</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://avatars.githubusercontent.com/u/785111?s=400&amp;amp;v=4" class="thumbnail onebox-full-image" width="60" height="60">

<h3><a href="../../../external.html?link=https://github.com/tych0/huldufolk" target="_blank" rel="noopener nofollow ugc">tych0/huldufolk</a></h3>


  <p><span class="label1">the userspace side of Linux' CONFIG_STATIC_USERMODEHELPER</span></p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-30T21:38:24Z' class='post-time'>
                January 30, 2021,  9:38pm
              </time>
              <meta itemprop='dateModified' content='2021-01-30T21:38:24Z'>
          <span itemprop='position'>#512</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>linux-hardened‚Äôs FORTIFY_SOURCE_STRICT_STRING has been implemented upstream.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/torvalds/linux/commit/6a39e62abbafd1d58d1722f40c7d26ef379c6a2f" target="_blank" rel="noopener nofollow ugc">github.com/torvalds/linux</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/torvalds/linux/commit/6a39e62abbafd1d58d1722f40c7d26ef379c6a2f" target="_blank" rel="noopener nofollow ugc">lib: string.h: detect intra-object overflow in fortified string functions</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2020-12-16" data-time="04:43:44" data-timezone="UTC">04:43AM - 16 Dec 20 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/daxtens" target="_blank" rel="noopener nofollow ugc">
          <img alt="daxtens" src="../../../external.html?link=https://avatars.githubusercontent.com/u/3307781?v=4" class="onebox-avatar-inline" width="20" height="20">
          daxtens
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 16 additions and 11 deletions">
        <a href="../../../external.html?link=https://github.com/torvalds/linux/commit/6a39e62abbafd1d58d1722f40c7d26ef379c6a2f" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+16</span>
          <span class="removed">-11</span>
        </a>
      </div>
    </div>

  </div>
</div>


  <div class="github-row">
    <pre class="github-content" style="white-space: normal;">Patch series "Fortify strscpy()", v7.
This patch implements a fortified version of strscpy() enabled by setting
CONFIG_FORTIFY_SOURCE=y. The new version ensures the following...</pre>
  </div>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-04T22:43:20Z' class='post-time'>
                March 4, 2021, 10:43pm
              </time>
              <meta itemprop='dateModified' content='2021-03-04T22:43:20Z'>
          <span itemprop='position'>#513</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><em>CONFIG_KFENCE</em> is a Low-Overhead Memory Safety Feature introduced in Linux 5.12 that is more competent than the KASAN. Used for uncovering similar out-of-bounds / use-after-free / invalid-free errors but with no overhead.</p>
<p><a href="../../../external.html?link=https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.12-KFence" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.12-KFence</a></p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T18:23:11Z' class='post-time'>
                March 12, 2021,  6:23pm
              </time>
              <meta itemprop='dateModified' content='2021-03-12T18:23:11Z'>
          <span itemprop='position'>#514</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox twitterstatus">
  <header class="source">
      <a href="../../../external.html?link=https://twitter.com/spendergrsec/status/1367605182595559424" target="_blank" rel="noopener nofollow ugc">twitter.com</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://pbs.twimg.com/profile_images/1229103528595148802/jdWjVA4k_400x400.jpg" class="thumbnail onebox-avatar" width="60" height="60">

<h4><a href="../../../external.html?link=https://twitter.com/spendergrsec/status/1367605182595559424" target="_blank" rel="noopener nofollow ugc">Brad Spengler (spendergrsec)</a></h4>

<div class="tweet"> <a href="../../../external.html?link=https://twitter.com/MichalPurzynski" target="_blank" rel="noopener nofollow ugc">@MichalPurzynski</a> <a href="../../../external.html?link=https://twitter.com/grsecurity" target="_blank" rel="noopener nofollow ugc">@grsecurity</a> Doesn't seem to be designed as a security feature, regardless of how blogs from whatever source may market it later.</div>

<div class="date">
  <a href="../../../external.html?link=https://twitter.com/spendergrsec/status/1367605182595559424" target="_blank" rel="noopener nofollow ugc">10:37 PM - 4 Mar 2021</a>
    <span class="like">
      <svg viewBox="0 0 512 512" width="14px" height="16px" aria-hidden="true">
        <path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"></path>
      </svg> 2
    </span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/jonathanvlan'><span itemprop='name'>jonathanvlan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-21T19:54:02Z' class='post-time'>
                March 21, 2021,  7:54pm
              </time>
              <meta itemprop='dateModified' content='2021-03-21T19:54:02Z'>
          <span itemprop='position'>#515</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>hi a different function and greater security<br>
some guys shared a topic  : firejail / seccomp / More Options for Program Containment<br>
there is a security patch  <strong>Landlock</strong>  : <strong>Landlock: unprivileged access control</strong></p>
<p>CONFIG_SECURITY_LANDLOCK=y</p>
<p>tried a sandbox inside another sandbox   ./landlock1 /bin/sh firejail *application</p>
<p>With the exploits and bypasses that there are lately,<br>
I believe that greater security is necessary</p>
<p><strong>Theory : Apparmor &gt; Landlock &gt; Firejail &gt; Tor browser</strong></p>
<p>Kernel Patch Hardening : <a href="../../../external.html?link=https://patchwork.kernel.org/project/kernel-hardening/list/" rel="noopener nofollow ugc">https://patchwork.kernel.org/project/kernel-hardening/list/</a></p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-21T20:32:02Z' class='post-time'>
                March 21, 2021,  8:32pm
              </time>
              <meta itemprop='dateModified' content='2021-03-21T20:32:02Z'>
          <span itemprop='position'>#516</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Landlock currently isn‚Äôt in mainline; it‚Äôs only in linux-next: <a href="../../../external.html?link=https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/tree/Documentation/userspace-api/landlock.rst?h=next-20210319&amp;id=f00397ee41c79b6155b9b44abd0055b2c0621349" rel="noopener nofollow ugc">https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/tree/Documentation/userspace-api/landlock.rst?h=next-20210319&amp;id=f00397ee41c79b6155b9b44abd0055b2c0621349</a></p>
<p>When it does land in mainline, it will be a very long time before it reaches LTS and besides, I don‚Äôt see a significant advantage of this over AppArmor + bubblewrap. Landlock is intended for use cases in which the user does not have the adminstrator privileges necessary to configure traditional security policies like AppArmor which does not apply to us.</p>
<p>Combining a whole bunch of different access control mechanisms would be redundant ‚Äî it‚Äôs the same kernel enforcing all of these policies and a single kernel exploit can bypass all of them. Unless Landlock exposes the ability to restrict something that isn‚Äôt already covered by our current approach, I don‚Äôt see an advantage.</p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-26T23:49:18Z' class='post-time'>
                March 26, 2021, 11:49pm
              </time>
              <meta itemprop='dateModified' content='2021-03-26T23:49:18Z'>
          <span itemprop='position'>#517</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://thomasw.dev/" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://thomasw.dev/post/kfence/" target="_blank" rel="noopener nofollow ugc" title="10:00PM - 15 March 2021">Thomas ‚Äì 15 Mar 21</a>
  </header>
  <article class="onebox-body">
    <img src="#" class="thumbnail" width="16" height="16">

<h3><a href="../../../external.html?link=https://thomasw.dev/post/kfence/" target="_blank" rel="noopener nofollow ugc">KFENCE - Detecting memory bugs in production kernels</a></h3>

<p>On February 26 this year KFENCE was merged into the upstream kernel source, ready for release in Linux 5.12. KFENCE is basically a low-overhead address sanitizer, but actually so low-overhead that it can run in production kernels on live systems...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-22T01:12:10Z' class='post-time'>
                April 22, 2021,  1:12am
              </time>
              <meta itemprop='dateModified' content='2021-04-22T01:12:10Z'>
          <span itemprop='position'>#518</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>New CONFIG options in 5.9 we can enable:<br>
<a href="../../../external.html?link=https://outflux.net/blog/archives/2021/04/05/security-things-in-linux-v5-9/" class="onebox" target="_blank" rel="noopener">https://outflux.net/blog/archives/2021/04/05/security-things-in-linux-v5-9/</a></p>
<p>Guide on configuring Yama‚Äôs ptrace restriction levels:<br>
</p><aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://etbe.coker.com.au/wp-content/ata-images/new-favicon.ico" class="site-icon" width="" height="">
      <a href="../../../external.html?link=https://etbe.coker.com.au/2021/04/13/yama/" target="_blank" rel="noopener" title="11:00PM - 12 April 2021">etbe - Russell Coker ‚Äì 12 Apr 21</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://s0.wp.com/i/blank.jpg" class="thumbnail onebox-avatar" width="200" height="200">

<h3><a href="../../../external.html?link=https://etbe.coker.com.au/2021/04/13/yama/" target="_blank" rel="noopener">Yama</a></h3>

<p>I‚Äôve just setup the Yama LSM module on some of my Linux systems. Yama controls ptrace which is the debugging and tracing API for Unix systems. The aim is to prevent a compromised process from‚Ä¶</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-13T23:19:13Z' class='post-time'>
                May 13, 2021, 11:19pm
              </time>
              <meta itemprop='dateModified' content='2021-05-13T23:19:13Z'>
          <span itemprop='position'>#519</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The Landlock LSM is now mainlined in 5.13. I wonder if it can be stacked wit the app sandbox we are working on since it too can restrict unprivileged apps.</p>
<p><a href="../../../external.html?link=https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.13-Landlock-Lands" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-5.13-Landlock-Lands</a></p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-22T17:34:09Z' class='post-time'>
                May 22, 2021,  5:34pm
              </time>
              <meta itemprop='dateModified' content='2021-05-22T17:34:09Z'>
          <span itemprop='position'>#520</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Ryzen 3 has a PSF feature that causes spectre vulns. Trning it off is supported in 5.13, though it‚Äôs optional and won‚Äôt be a default.</p>
<p><a href="../../../external.html?link=https://www.phoronix.com/scan.php?page=news_item&amp;px=AMD-PSF-Linux-v6" class="onebox" target="_blank" rel="noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=AMD-PSF-Linux-v6</a></p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-29T15:46:33Z' class='post-time'>
                May 29, 2021,  3:46pm
              </time>
              <meta itemprop='dateModified' content='2021-05-29T15:46:33Z'>
          <span itemprop='position'>#521</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="HulaHoop" data-post="519" data-topic="7598">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>The Landlock LSM is now mainlined in 5.13. I wonder if it can be stacked wit the app sandbox we are working on since it too can restrict unprivileged apps.</p>
</blockquote>
</aside>
<p>See:</p><aside class="quote quote-modified" data-post="516" data-topic="7598">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar">
    <a href="7598/516.html">kernel recompilation for better hardening</a> <a class="badge-wrapper  bullet" href="../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Landlock currently isn‚Äôt in mainline; it‚Äôs only in linux-next: <a href="../../../external.html?link=https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/tree/Documentation/userspace-api/landlock.rst?h=next-20210319&amp;id=f00397ee41c79b6155b9b44abd0055b2c0621349" rel="noopener nofollow ugc">https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/tree/Documentation/userspace-api/landlock.rst?h=next-20210319&amp;id=f00397ee41c79b6155b9b44abd0055b2c0621349</a> 
When it does land in mainline, it will be a very long time before it reaches LTS and besides, I don‚Äôt see a significant advantage of this over AppArmor + bubblewrap. Landlock is intended for use cases in which the user does not have the adminstrator privileges n‚Ä¶
  </blockquote>
</aside>

        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-04T19:03:57Z' class='post-time'>
                June 4, 2021,  7:03pm
              </time>
              <meta itemprop='dateModified' content='2021-06-04T19:03:57Z'>
          <span itemprop='position'>#522</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>As per <a href="../../../external.html?link=https://github.com/GrapheneOS/os-issue-tracker/issues/408#issuecomment-820490823" class="inline-onebox" rel="noopener nofollow ugc">Consider Pulling in LKRG ¬∑ Issue #408 ¬∑ GrapheneOS/os-issue-tracker ¬∑ GitHub</a>, I believe we should get rid of the <code>--lkrg</code> option and enable <code>CONFIG_KPROBES</code> by default, while also disabling the config options mentioned in the issue to get rid of the attack surface exposed to user space.</p>
<p>Tirdad also requires kprobes:</p>
<aside class="onebox githubissue">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/0xsirus/tirdad/issues/12" target="_blank" rel="noopener nofollow ugc">github.com/0xsirus/tirdad</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/0xsirus/tirdad/issues/12" target="_blank" rel="noopener nofollow ugc">error installing tirdad</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-01-31" data-time="18:42:36" data-timezone="UTC">06:42PM - 31 Jan 21 UTC</span>
      </div>

        <div class="date">
          closed <span class="discourse-local-date" data-format="ll" data-date="2021-01-31" data-time="20:44:29" data-timezone="UTC">08:44PM - 31 Jan 21 UTC</span>
        </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/anon-lestat" target="_blank" rel="noopener nofollow ugc">
          <img alt="anon-lestat" src="../../../external.html?link=https://avatars.githubusercontent.com/u/77899829?v=4" class="onebox-avatar-inline" width="20" height="20">
          anon-lestat
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">i compiled tirdad with make and did "insmod module/tirdad.ko"
It said Operation<span class="show-more-container"><a href="#" rel="noopener" class="show-more">‚Ä¶</a></span><span class="excerpt hidden"> not permitted. I Typed the command dmesg and it says: FATAL: Can't find kallsyms_lookup_name.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="7598.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-04T20:02:14Z' class='post-time'>
                June 4, 2021,  8:02pm
              </time>
              <meta itemprop='dateModified' content='2021-06-04T20:02:14Z'>
          <span itemprop='position'>#523</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubpullrequest">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/pull/57" target="_blank" rel="noopener nofollow ugc">github.com/Whonix/hardened-kernel</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/pull/57" target="_blank" rel="noopener nofollow ugc">Enable kprobes</a>
    </h4>

    <div class="branches">
      <code>Whonix:master</code> ‚Üê <code>madaidan:kprobes</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-06-04" data-time="20:01:36" data-timezone="UTC">08:01PM - 04 Jun 21 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/madaidan" target="_blank" rel="noopener nofollow ugc">
          <img alt="madaidan" src="../../../external.html?link=https://avatars.githubusercontent.com/u/50278627?v=4" class="onebox-avatar-inline" width="20" height="20">
          madaidan
        </a>
      </div>

      <div class="lines" title="2 commits changed 5 files with 61 additions and 75 deletions">
        <a href="../../../external.html?link=https://github.com/Whonix/hardened-kernel/pull/57/files" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+61</span>
          <span class="removed">-75</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">https://forums.whonix.org/t/kernel-recompilation-for-better-hardening/7598/522</p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Will also update documentation to reflect this.</p>
        </div>

        <meta itemprop='headline' content='kernel recompilation for better hardening'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="75988c06.html?page=25">‚Üê previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="75982459.html?page=27">next page ‚Üí</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
