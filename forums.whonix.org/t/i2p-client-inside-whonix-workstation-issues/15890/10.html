<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>I2P client inside Whonix-Workstation Issues - #10 by Patrick - Support - Whonix Forum</title>
    <meta name="description" content="Hello, 
I followed the instructions: on the wiki https://www.whonix.org/wiki/I2P#I2P_client_inside_Whonix-Workstation successfully until step 4. 
Using sudo dpkg-reconfigure i2p worked. After that I tried using sudoedit &amp;hellip;">
    <meta name="generator" content="Discourse 2.8.12 - https://github.com/discourse/discourse version 27d93b46582002bd07f672c8759a96771aa977f3">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#f9fcff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../15890.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_7551692db8ce7f00cafa6c8304f409a9a63a15db.css_%3b%20filename_%3dUTF-8%27%27desktop_7551692db8ce7f00cafa6c8304f409a9a63a15dbd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_10_31ccebdf5c9c6474a2712af8ee0041b839faf2d7.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_10_31ccebdf5c9c6474a2712af8ee0041b839faf2d7d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="10" data-theme-name="discourse clickable topic"/>
<link href="../../../stylesheets/desktop_theme_9_e6fe1b37889b9f77d8a1c23cac2a351f8806ae98.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_9_e6fe1b37889b9f77d8a1c23cac2a351f8806ae98d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="9" data-theme-name="discourse loading slider"/>
<link href="../../../stylesheets/desktop_theme_11_2a56ff5b69daf1c5bf5ca0aea106ec17dd74047f.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_11_2a56ff5b69daf1c5bf5ca0aea106ec17dd74047fd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="11" data-theme-name="discourse-search-banner"/>
<link href="../../../stylesheets/desktop_theme_8_c699ed33f8ce7d2298d2983b64b938daf31bf059.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_8_c699ed33f8ce7d2298d2983b64b938daf31bf059d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8" data-theme-name="modern category + group boxes"/>
<link href="../../../stylesheets/desktop_theme_7_3346edd866b18578a4ac693e1f126daffc4b2a7c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_7_3346edd866b18578a4ac693e1f126daffc4b2a7cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="7" data-theme-name="air theme"/>
<link href="../../../stylesheets/desktop_theme_3_40bbaf8e34d7a5cfc19d6a539a7a8a38bd5f7358.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_40bbaf8e34d7a5cfc19d6a539a7a8a38bd5f7358d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
    <!--
START custom CSS / JS

Configured here:
https://forums.whonix.org/admin/customize/themes/3/common/head_tag/edit
-->

<!-- START : Determine wiki url -->



<!-- END : Determine wiki url -->


<!-- START End of Year Banner -->

<link rel="stylesheet" href="../../../mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="../../../mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="../../../mw-autogen/src-copy/Sitenotice_EndOfYear.css">

<script type="text/javascript" src="../../../mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" src="../../../mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" src="../../../mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: -10px 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!-- START : Enrich Header with links  -->

<style type="text/css">
    .below-site-header-outlet.search-banner .custom-search-banner-wrap > p a {
        color: white;
        text-decoration: underline;
    }
    .below-site-header-outlet.search-banner .custom-search-banner-wrap > p a:hover {
        color: #def;
    }
</style>



<!-- END : Enrich Header with links  -->

<!--
END custom CSS / JS
-->
<script src="../../../theme-javascripts/4fefea1f92e8cff4be612a10444139af0765b4c0.js_%3b%20filename_%3dUTF-8%27%274fefea1f92e8cff4be612a10444139af0765b4c0d2c8.js?__ws=forums.whonix.org"></script>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;I2P client inside Whonix-Workstation Issues&#39;" href="../15890.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/i2p-client-inside-whonix-workstation-issues/15890/10" />
<meta name="twitter:url" content="https://forums.whonix.org/t/i2p-client-inside-whonix-workstation-issues/15890/10" />
<meta property="og:title" content="I2P client inside Whonix-Workstation Issues" />
<meta name="twitter:title" content="I2P client inside Whonix-Workstation Issues" />
<meta property="og:description" content="That might be because I2P is unable to connect so it doesn’t create that config folder.  I2P seems weird in that way anyhow. That it needs connectivity to create that config file. And also the config file location is weird.  Could step “Change I2Pconsole interface local IP change.”   Open file /var/lib/i2p/i2p-config/clients.config.d/00-net.i2p.router.web.RouterConsoleRunner-clients.config in an editor with root rights.    Change from 127.0.0.1 to 127.0.0.2.   be done in some other file in /etc..." />
<meta name="twitter:description" content="That might be because I2P is unable to connect so it doesn’t create that config folder.  I2P seems weird in that way anyhow. That it needs connectivity to create that config file. And also the config file location is weird.  Could step “Change I2Pconsole interface local IP change.”   Open file /var/lib/i2p/i2p-config/clients.config.d/00-net.i2p.router.web.RouterConsoleRunner-clients.config in an editor with root rights.    Change from 127.0.0.1 to 127.0.0.2.   be done in some other file in /etc..." />
<meta property="article:published_time" content="2022-11-02T19:34:46+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="../158904658.html?page=2">

    
  </head>
  <body class="crawler">
    <div class="background-container"></div>

<div class="header-brand-nav">
    <a class="home" href="../../../../external.html?link=https://www.whonix.org/">Whonix Wiki</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">Download</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">Docs</a>
    <a href="../../../c/news/21.html">News</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">Support</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">Contribute</a>
    <a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>
</div>

    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../15890.html">I2P client inside Whonix-Workstation Issues</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/LasVegas'><span itemprop='name'>LasVegas</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-31T20:58:11Z' class='post-time'>
                October 31, 2022,  8:58pm
              </time>
              <meta itemprop='dateModified' content='2022-10-31T21:24:53Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks. My workaround will be to start I2P with <code>i2prouter start</code>. I get two popups with “Do not run Tor Browser in Template” then. Should I anyhow consider these in a specific way? Can not explain why they come up.</p>
<p>I will change the 127.0.0.1 to 127.0.02 according to <code>https://www.whonix.org/wiki/I2P#I2P_client_inside_Whonix-Workstation</code> in this file: <code>/home/user/.i2p/clients.config.d/00-net.i2p.router.web.RouterConsoleRunner-clients.config</code></p>
<p>I will keep starting I2P with <code>i2prouter start</code> on App VM manually.</p>
<p>Any comments on this workaround?</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="3" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/LasVegas'><span itemprop='name'>LasVegas</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-31T21:24:29Z' class='post-time'>
                October 31, 2022,  9:24pm
              </time>
              <meta itemprop='dateModified' content='2022-10-31T21:24:29Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I found that the config files were created in the Qubes App VM instead of the template. I guess the steps in the instruction under Usage (<code>https://www.whonix.org/wiki/I2P#Usage</code>) have to be performed on App VMs instead of the Template. Maybe the instruction needs to be updated then if I am right.</p>
<p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> Could you please confirm?</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-31T23:09:14Z' class='post-time'>
                October 31, 2022, 11:09pm
              </time>
              <meta itemprop='dateModified' content='2022-10-31T23:09:14Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="LasVegas" data-post="5" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>I get two popups with “Do not run Tor Browser in Template” then.</p>
</blockquote>
</aside>
<p>Do not run Tor Browser in Template popup is correct. See also:</p>
<p><a href="../../../../external.html?link=https://www.whonix.org/wiki/Tor_Browser#In_Qubes-Whonix_.E2.84.A2">Tor Browser Essentials chapter In Qubes-Whonix in Whonix wiki</a></p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/TNT_BOM_BOM'><span itemprop='name'>TNT_BOM_BOM</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-01T07:34:38Z' class='post-time'>
                November 1, 2022,  7:34am
              </time>
              <meta itemprop='dateModified' content='2022-11-01T07:34:38Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="LasVegas" data-post="1" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>Could you please support me in this case? Maybe I missed something. Thank you.</p>
</blockquote>
</aside>
<p>Fixed, check the wiki after few hours once get updated.</p>
<aside class="quote no-group" data-username="LasVegas" data-post="5" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>I will keep starting I2P with <code>i2prouter start</code> on App VM manually.</p>
</blockquote>
</aside>
<p>Thats bad way to start I2P because it wont load apparmor I2P profile for it, thats why its not mentioned in the wiki.</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../i2p-integration/4981/358.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../i2p-integration/4981/358.html'>
                      <span itemprop='name'>I2P Integration</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/LasVegas'><span itemprop='name'>LasVegas</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-02T10:05:58Z' class='post-time'>
                November 2, 2022, 10:05am
              </time>
              <meta itemprop='dateModified' content='2022-11-02T10:05:58Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The current state is that when you run <code>dpkg-reconfigure i2p</code> in the Whonix Template (whonix-ws-16-clone-1), it does <strong>not</strong> create the configuration files under <code>/var/lib/i2p/</code>.</p>
<p>I don’t currently see a suitable way to do this,. The instructions in the wiki do <strong>not</strong> work after step 3.</p>
<p>Current alternative according to <code>https://forums.whonix.org/t/i2p-integration/4981/355</code> is after doing steps 1-3 in the Whonix Template (whonix-ws-16-clone-1):</p>
<ol>
<li>Shutdown Whonix Template (whonix-ws-16-clone-1)</li>
<li>Start Whonix-Workstation AppVM (anon-whonix-I2P) based on Whonix Template (whonix-ws-16-clone-1)<br>
<strong>Following steps have to be done on every restart of the AppVM due to non-persistance.</strong>
</li>
<li>Run <code>dpkg-reconfigure i2p</code> which also start i2p and creates configuration files in <code>/var/lib/i2p/</code>
</li>
<li>Stop <code>I2P service with sudo systemctl stop i2p</code>
</li>
<li>Use <code>sudoedit /var/lib/i2p/i2p-config/clients.config.d/00-net.i2p.router.web.RouterConsoleRunner-clients.config</code> and change <code>127.0.01</code> to <code>127.0.0.2</code>.</li>
<li>Start I2P service with <code>sudo systemctl start i2p</code>
</li>
<li>Optional: Adjust I2P Router configuration</li>
</ol>
<p><strong>The following step only needs to performed once and after TB updates.</strong></p>
<ol start="8">
<li>Configure TB for usage with I2P</li>
</ol>
<p>TB can be used to access I2P pages. TB can not be used to access onion addreses (Outproxy not found). TB can be used to access clearnet.</p>
<p><strong>Questions</strong></p>
<p>Step 1 in the wiki (Securely Download of the Key): Why should should someone securely download the key to the Whonix-Workstation as mentioned in step 1 of the wiki instead of downloading it to Whonix Template only? Or is this necessary for every case?</p>
<p>Using I2P-modified TB to access clearnet: Should we avoid this due to security considerations and why?</p>
<p>Regarding step 7: Do we have to configure router.config.anondist in <code>/usr/share/i2p/</code> or <code>/var/lib/i2p/i2p-config/</code> to be effective?</p>
<p>Any other things to consider with this setup in terms of security or anonymity?</p>
<p>Are there any solution to be able to setup I2P service and configuration files in Whonix Template (whonix-ws-16-clone-1)?</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-02T19:34:46Z' class='post-time'>
                November 2, 2022,  7:34pm
              </time>
              <meta itemprop='dateModified' content='2022-11-02T19:34:46Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="LasVegas" data-post="9" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>The current state is that when you run <code>dpkg-reconfigure i2p</code> in the Whonix Template (whonix-ws-16-clone-1), it does <strong>not</strong> create the configuration files under <code>/var/lib/i2p/</code>.</p>
</blockquote>
</aside>
<p>That might be because I2P is unable to connect so it doesn’t create that config folder.</p>
<p>I2P seems weird in that way anyhow. That it needs connectivity to create that config file. And also the config file location is weird.</p>
<p>Could step “Change I2Pconsole interface local IP change.”</p>
<blockquote>
<p>Open file /var/lib/i2p/i2p-config/clients.config.d/00-net.i2p.router.web.RouterConsoleRunner-clients.config in an editor with root rights.</p>
</blockquote>
<blockquote>
<p>Change from <code>127.0.0.1</code> to <code>127.0.0.2</code>.</p>
</blockquote>
<p>be done in some other file in /etc instead or the config file be created without need to start I2P? <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/eyedeekay">@eyedeekay</a></p>
<aside class="quote no-group" data-username="LasVegas" data-post="9" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>Step 1 in the wiki (Securely Download of the Key): Why should should someone securely download the key to the Whonix-Workstation as mentioned in step 1 of the wiki instead of downloading it to Whonix Template only?</p>
</blockquote>
</aside>
<p>It doesn’t say that.</p>
<ul>
<li>
<blockquote>
<p><strong>If</strong> you are using Whonix-Workstation ™ (<code>anon-whonix</code>), run.</p>
</blockquote>
</li>
<li>
<blockquote>
<p><strong>If</strong> you are using a Qubes Template (<code>whonix-ws-16</code> ), run.</p>
</blockquote>
</li>
</ul>
<p>gpg key download in Qubes templates is an issue unspecific to Whonix.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../../external.html?link=https://www.whonix.org/wiki/Unspecific">
  <header class="source">
      <img src="../../../../external.html?link=https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="../../../../external.html?link=https://www.whonix.org/wiki/Unspecific" target="_blank" rel="noopener" title="07:49PM - 25 July 2022">Whonix – 25 Jul 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:250/500;"><img src="../../../../external.html?link=https://www.whonix.org/w/images/7/74/Booster132.png" class="thumbnail" width="250" height="500"></div>

<h3><a href="../../../../external.html?link=https://www.whonix.org/wiki/Unspecific" target="_blank" rel="noopener">Information Booster might be Available!</a></h3>

  <p>Utilizing other resources to help solve questions/issues unspecific to Whonix ™.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>See this lengthy discussion on that topic in the Qubes forums:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../../external.html?link=https://forum.qubes-os.org/t/curl-proxy-wget-proxy-scripts-in-templates-so-users-can-add-gpg-distro-keys-linked-to-added-external-repositories/10935">
  <header class="source">
      <img src="../../../../external.html?link=https://forum.qubes-os.org/uploads/db3820/optimized/2X/5/55de5eaf64516902429c411f66491cc9db06c464_2_32x32.png" class="site-icon" width="32" height="32">

      <a href="../../../../external.html?link=https://forum.qubes-os.org/t/curl-proxy-wget-proxy-scripts-in-templates-so-users-can-add-gpg-distro-keys-linked-to-added-external-repositories/10935" target="_blank" rel="noopener" title="03:41PM - 19 April 2022">Qubes OS Forum – 19 Apr 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:472/471;"><img src="../../../../external.html?link=https://forum.qubes-os.org/uploads/db3820/original/1X/10549f9dff8a289d117f083e9f5155231c452db2.png" class="thumbnail" width="472" height="471"></div>

<h3><a href="../../../../external.html?link=https://forum.qubes-os.org/t/curl-proxy-wget-proxy-scripts-in-templates-so-users-can-add-gpg-distro-keys-linked-to-added-external-repositories/10935" target="_blank" rel="noopener">Curl-proxy / wget-proxy scripts in Templates so users can add GPG distro keys...</a></h3>

  <p>Updates Edit: Extended PoC of this idea is here. This is the blocking version (where non-networked TemplateVM will not translate curl/wget to curl-proxy/wget-proxy in the wrapper scripts.  Edit2: PoC code download here  Edit3: A non-blocking example...</p>

  <p>
    <span class="label1">Reading time: 67 mins 🕑</span>
      <span class="label2">Likes: 80 ❤</span>
  </p>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-username="LasVegas" data-post="9" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>Using I2P-modified TB to access clearnet: Should we avoid this due to security considerations and why?</p>
</blockquote>
</aside>
<p>The web fingerprint is modified. Therefore best to use</p>
<ul>
<li>multiple Whonix-Workstation (better), or</li>
<li>multiple Tor Browser</li>
</ul>
<p>(All documented in the wiki.)</p>
<aside class="quote no-group" data-username="LasVegas" data-post="9" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>Regarding step 7</p>
</blockquote>
</aside>
<p>These numbers might frequently change unfortunately as this documentation is keep getting updated.</p>
<aside class="quote no-group" data-username="LasVegas" data-post="9" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>Do we have to configure router.config.anondist in <code>/usr/share/i2p/</code> or <code>/var/lib/i2p/i2p-config/</code> to be effective?</p>
</blockquote>
</aside>
<p>Another issue.<br>
I2P doesn’t seem to support <code>/etc/i2p.d</code> and/or <code>/usr/local/etc/i2p.d</code>. Not sure there is now.</p>
<aside class="quote" data-post="297" data-topic="4981">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/eyedeekay/40/1511_2.png" class="avatar">
    <a href="../../i2p-integration/4981/297.html">I2P Integration</a> <a class="badge-wrapper  bullet" href="../../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of components looking for maintainer)">Development</span></a>
  </div>
  <blockquote>
    <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/tnt_bom_bom">@TNT_BOM_BOM</a>  <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/goldstein-otg">@goldstein-otg</a> I don’t know if anyone has brought <a href="../../../../external.html?link=https://github.com/knaccc/i2p-zero" rel="nofollow noopener">i2p-zero</a> to your attention yet, but it might be a way to rely on a simplified java-i2p router without a web interface. Also in the next few months java-i2p should be getting an /etc/i2p.d/-like(Name not settled AFAIK) folder for configuration.
  </blockquote>
</aside>

<p>Any update on <code>/etc/i2p.d</code>? <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/eyedeekay">@eyedeekay</a></p>
<p>Modifications to <code>/usr/share/i2p/router.config</code> will be lost after the next update of package anon-apps-config unfortunately. To solve this, upstream support for <code>/etc/i2p.d</code> is required.</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/eyedeekay'><span itemprop='name'>eyedeekay</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-02T23:41:17Z' class='post-time'>
                November 2, 2022, 11:41pm
              </time>
              <meta itemprop='dateModified' content='2022-11-03T02:04:11Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>They ended up in <code>/var/lib/i2p/i2p-config/i2ptunnel.config.d</code> and <code>/var/lib/i2p/i2p-config/clients.config.d</code>. You can create the <code>clients.config.d</code> files and <code>i2ptunnel.config.d</code> files in advance but IIRC you’ll need to create one for each app you intend to run on your node because the defaults will not be “migrated” from the initial, monolithic config. So you will need to create a config file for every app. The reason it appears that I2P needs connectivity to create these config files is because this migration happens when the apps are started which only happens after the API’s become available which only happens after we connect successfully. It doesn’t intrinsically need to be that way.</p>
<p>There isn’t an equivalent with <code>router.config</code>, but dropping a <code>router.config</code> file in <code>/var/lib/i2p/i2p-config/router.config</code> should change the values your router uses when you set it up.</p>
<p><s>I’ll get back to you on how to move this all into a directory in <code>/etc/</code> instead of <code>/var/lib/</code> as soon as I look it up.</s> <code>/var/lib/i2p/</code> is the <code>i2psvc</code> user’s home directory and moving it would require changing that directory and changing the AppArmor profile to match. This is all handled by <code>debian.preinst</code>, <code>debian.postinst</code> files in the <code>debian</code> directory. <code>wrapper.config</code> is the only one that goes into <code>/etc/i2p</code>. <strong>But(And I haven’t tried this yet)</strong> what you may be able to do is possibly create a directory called <code>/etc/i2p/i2p-dir</code> for instance which is owned by the <code>i2psvc</code> user and in <code>/etc/i2p/wrapper.config</code> add the line <code>wrapper.java.additional.3=-Di2p.dir.config=/etc/i2p/i2p-dir</code>. That would cause it to use <code>/etc/i2p/i2p-dir</code> as the working directory instead and therefore the config files would be placed in <code>/etc/i2p/i2p-dir/clients.config.d</code> <code>/etc/i2p/i2p-dir/i2ptunnel.config.d/</code> instead. Doesn’t address the AppArmor thing though.</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/LasVegas'><span itemprop='name'>LasVegas</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-03T11:15:39Z' class='post-time'>
                November 3, 2022, 11:15am
              </time>
              <meta itemprop='dateModified' content='2022-11-03T11:15:39Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="10" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Modifications to <code>/usr/share/i2p/router.config</code> will be lost after the next update of package anon-apps-config unfortunately. To solve this, upstream support for <code>/etc/i2p.d</code> is required.</p>
</blockquote>
</aside>
<p>Is it effective to configure router.config in <code>/var/lib/i2p/i2p-config/router.config</code> instead of <code>/usr/share/i2p/router.config</code>?</p>
<p>What is the difference between router.config and router.config.anondist?</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/LasVegas'><span itemprop='name'>LasVegas</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-03T11:30:43Z' class='post-time'>
                November 3, 2022, 11:30am
              </time>
              <meta itemprop='dateModified' content='2022-11-03T11:30:43Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>There is a solution circulating, in which it is described that the service I2P should be started with <code>i2prouter start</code> to create the config files in <code>/home/user/.i2p/clients.config.d/00-net.i2p.router.web.RouterConsoleRunner-clients.config</code>.</p>
<p>On a Whonix Template using the command <code>i2prouter start</code> creates the files on the Template but they are not available in the Template-based AppVM afterwards. I guess this has something to do with the Qubes standard persistence settings.</p>
<p>Therefore on the Template-based AppVM you can run <code>i2prouter start</code> which creates configuration files <strong>persistent</strong> in<code>/home/user/.i2p/clients.config.d/00-net.i2p.router.web.RouterConsoleRunner-clients.config</code>. Note: <code>sudo dpkg-reconfigure i2p</code> creates configuration files in <code>/var/lib/i2p/</code> on AppVM only.</p>
<p>Conclusion:</p>
<ul>
<li>
<code>i2prouter start</code> creates configuration files in <code>/home/user/.i2p/</code> and works on Template and AppVM.</li>
<li>
<code>sudo systemctl start i2p</code> creates configuration files in <code>/var/lib/i2p/</code> but does not work on Whonix Template.</li>
<li>There is currently <strong>no way</strong> to get the configuration files created in a Whonix Template which are available on the accoding Template-based AppVM as <code>/home/user/</code> gets overwritten in AppVM.</li>
<li>Creating configuration files must be done in the Template-based AppVM by starting I2P: 1) With <code>i2prouter start</code> you get the configuration files persistent, with <code>sudo systemctl start i2p</code> you have to create and change configuration files on each restart of the AppVM.</li>
</ul>
<p>Is it a secure and reliable alternative to use <code>i2prouter start</code> in AppVM so that you don’t have to reconfigure the configuration files on each restart of the AppVM?</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-03T12:24:39Z' class='post-time'>
                November 3, 2022, 12:24pm
              </time>
              <meta itemprop='dateModified' content='2022-11-03T12:24:39Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The Qubes particularities on how (non-)persistence is implemented meet I2P’s particularities on how config files are handled. In combination, these are creating a usability mess.</p>
<aside class="quote no-group" data-username="LasVegas" data-post="12" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>Is it effective to configure router.config in <code>/var/lib/i2p/i2p-config/router.config</code> instead of <code>/usr/share/i2p/router.config</code>?</p>
<p>What is the difference between router.config and router.config.anondist?</p>
</blockquote>
</aside>
<p>Ignore <code>.anondist</code>. This doesn’t need user documentation. Nothing special to know. No big deal.</p>
<p>Details:</p>
<pre><code>ls -la /var/lib/i2p/i2p-config/router.config*
</code></pre>
<p>related:<br>
<a href="../../../../external.html?link=https://www.kicksecure.com/wiki/Dev/About_Debian_Packaging#config-package-dev">Dev/About Debian Packaging - Kicksecure chapter config-package-dev in Kicksecure wiki</a></p>
<aside class="quote no-group" data-username="LasVegas" data-post="13" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>On a Whonix Template using the command <code>i2prouter start</code> creates the files on the Template but they are not available in the Template-based AppVM afterwards. I guess this has something to do with the Qubes standard persistence settings.</p>
</blockquote>
</aside>
<p>Normal Qubes persistence “issue” if you can call it an issue.</p>
<aside class="quote no-group" data-username="LasVegas" data-post="13" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>Is it a secure and reliable alternative to use <code>i2prouter start</code> in AppVM</p>
</blockquote>
</aside>
<p>I doubt that.</p>
<aside class="quote no-group" data-username="LasVegas" data-post="13" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/l/9d8465/40.png" class="avatar"> LasVegas:</div>
<blockquote>
<p>Note: <code>sudo dpkg-reconfigure i2p</code> creates configuration files in <code>/var/lib/i2p/</code> on AppVM only.</p>
</blockquote>
</aside>
<p>Quite possibly because I2P only creates the config files when connectivity is available, which is even more weird. And connectivity is limited in Qubes Templates by Qubes design (at time of writing, only the package manager by default can use networking).</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/eyedeekay'><span itemprop='name'>eyedeekay</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-03T18:04:27Z' class='post-time'>
                November 3, 2022,  6:04pm
              </time>
              <meta itemprop='dateModified' content='2022-11-03T18:04:27Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group">
<blockquote>
<p>Quite possibly because I2P only creates the config files when connectivity is available, which is even more weird. And connectivity is limited in Qubes Templates by Qubes design (at time of writing, only the package manager by default can use networking).</p>
</blockquote>
</aside>
<p>It’s not that weird if you consider that I2PSnark, Hidden Services Manager, and even the Router Console are actually separate applications, which will run only after I2P itself is successfully started. Starting them before I2CP is available would not make sense in the same way that allowing Tor Browser to fetch pages before a SOCKS proxy was available would not make sense. The result is that you start with what we call a “monolithic” config file where all the stuff is stored in one file, called <code>clients.config</code> and <code>i2ptunnel.config</code> respectively, which is immediately migrated to a directory config on most platforms. We did it this way because the monolithic config files are still used on places where the base config directory(<code>/usr/share/i2p</code>) and the working config directory(<code>/var/lib/i2p/i2p-config</code>) are the same which includes Android and Portable installations, so this way we still only need to maintain one config file.</p>
<p>However, if a directory config is already present, the migration will not occur. So if you just drop all your custom I2P config files into <code>/var/lib/i2p/i2p-config</code> they won’t be migrated from the defaults in <code>/usr/share/i2p</code>, including <code>router.config</code>. Everything you don’t include in that config(keys, etc) should be regenerated at runtime, and if it doesn’t file an issue and we’ll take care of it on our end.</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../i2p-integration/4981/365.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../i2p-integration/4981/365.html'>
                      <span itemprop='name'>I2P Integration</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-03T18:14:13Z' class='post-time'>
                November 3, 2022,  6:14pm
              </time>
              <meta itemprop='dateModified' content='2022-11-03T18:14:13Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Ok, maybe we’re getting somewhere! <img src="../../../images/emoji/twitter/slight_smilee5bf.png?v=12" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Appreciate all your support!</p>
<aside class="quote no-group" data-username="eyedeekay" data-post="15" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/eyedeekay/40/1511_2.png" class="avatar"> eyedeekay:</div>
<blockquote>
<p>/var/lib/i2p/i2p-config</p>
</blockquote>
</aside>
<aside class="quote no-group" data-username="eyedeekay" data-post="15" data-topic="15890">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/eyedeekay/40/1511_2.png" class="avatar"> eyedeekay:</div>
<blockquote>
<p>So if you just drop all your custom I2P config files into <code>/var/lib/i2p/i2p-config</code> they won’t be migrated from the defaults in <code>/usr/share/i2p</code>, including <code>router.config</code>.</p>
</blockquote>
</aside>
<p>It’s a drop-in folder where distribution maintainers (Whonix) and/or users can drop snippets…?</p>
<p>In that case…</p>
<ol>
<li>Whonix should stop telling users to edit <code>/var/lib/i2p/i2p-config/clients.config.d/00-net.i2p.router.web.RouterConsoleRunner-clients.config</code> since there no need for it.</li>
<li>Whonix should stop shipping the config-package-dev <code>divert</code>ed file <a href="../../../../external.html?link=https://github.com/Whonix/anon-apps-config/blob/master/usr/share/i2p/router.config.anondist"><code>/usr/share/i2p/router.config</code></a> since there’s no need for that either.</li>
<li>Whonix should drop its config snippet(s) into the <code>/var/lib/i2p/i2p-config</code> folder? Any file name possible?</li>
</ol>
<p>Sounds like a plan?</p>
<p>Or would it be more appropriate for Whonix to use <code>/usr/share/i2p</code> folder to drop snippets?</p>
<p>What’s the config line that we need to add to accomplish</p>
<blockquote>
<p>Change from <code>127.0.0.1</code> to <code>127.0.0.2</code> .</p>
</blockquote>
<p>?</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/eyedeekay'><span itemprop='name'>eyedeekay</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-07T18:02:33Z' class='post-time'>
                November 7, 2022,  6:02pm
              </time>
              <meta itemprop='dateModified' content='2022-11-07T18:02:33Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sorry it took me a little longer to get back to you. Had a developer leave the project, need to re-allocate some work and offboard him. So let’s see…</p>
<blockquote>
<p>It’s a drop-in folder where distribution maintainers (Whonix) and/or users can drop snippets…?</p>
</blockquote>
<p>Well yes, in that there are places it looks for default configuration files and if you have an existing configuration in that directory it won’t generally interfere with those settings. If we have to touch one of your settings when we configure your router, we also have to publish something about why, couple examples, we had to reach in and enable “Tunnel Testing” in an update to the Java I2P router a few releases ago in order to avoid a conflict with <code>i2pd</code> routers, and I had to change the update URL in the Easy-Install for Windows due to a conflict with de-coupled I2P routers(Easy-Install for Windows is a bundle). The point is, if you put a config file in the config directory, we don’t change the settings unless it’s really, really important.</p>
<blockquote>
<ol>
<li>Whonix should stop telling users to edit <code>/var/lib/i2p/i2p-config/clients.config.d/00- net.i2p.router.web.RouterConsoleRunner-clients.config</code> since there no need for it.</li>
<li>Whonix should stop shipping the config-package-dev <code>divert</code>ed file <a href="../../../../external.html?link=https://github.com/Whonix/anon-apps-config/blob/master/usr/share/i2p/router.config.anondist" rel="noopener nofollow ugc"><code>/usr/share/i2p/router.config</code></a> since there’s no need for that either.</li>
<li>Whonix should drop its config snippet(s) into the <code>/var/lib/i2p/i2p-config</code> folder? Any file name possible?</li>
</ol>
</blockquote>
<p>Yes to 2 and 3, if I understand correctly, <strong>but</strong></p>
<p>2. Possibly put <code>router.config.anondist</code> into <code>/var/lib/i2p/i2p-config/router.config</code> instead.</p>
<p>3. You can either use <code>/var/lib/i2p/i2p-config/i2ptunnel.config</code> and <code>/var/lib/i2p/i2p-config/clients.config</code> in which case the names matter, or you can use <code>/var/lib/i2p/i2p-config/i2ptunnel.config.d</code> and <code>/var/lib/i2p/i2p-config/clients.config.d</code> in which case the directory names matter but any filename is OK as long as it ends in <code>.config</code></p>
<p>3.a: If you use <code>/var/lib/i2p/i2p-config/i2ptunnel.config</code> and <code>/var/lib/i2p/i2p-config/clients.config</code> simply make your edits* to the default config files and place them in the <code>/var/lib/i2p/i2p-config</code> directory. They will be migrated on the first run to directory configs. Otherwise everything will function normally.</p>
<p>3.b: If you use <code>/var/lib/i2p/i2p-config/i2ptunnel.config.d/</code> and <code>/var/lib/i2p/i2p-config/clients.config.d/</code>, pre-populate it with all the config files you need, i.e. the migrated versions of the default clients tunnels. In these directories any file with a name ending in <code>.config</code> will be read for a configuration.</p>
<blockquote>
<p>Change from 127.0.0.1 to 127.0.0.2 .</p>
</blockquote>
<p>Those would occur in <code>clients.config</code> or the corresponding <code>clients.config.d</code> directory, and <code>i2ptunnel.config</code> or the corresponding <code>i2ptunnel.config.d</code> directory. Change any value which you want to be reachable on a different address <em>to</em> that different address.</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
              split this topic 
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-11T06:31:34Z' class='post-time'>
                November 11, 2022,  6:31am
              </time>
              <meta itemprop='dateModified' content='2022-11-11T06:31:34Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>A post was merged into an existing topic: <a href="../../i2p-integration/4981/362.html">I2P Integration</a></p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-18T13:17:05Z' class='post-time'>
                November 18, 2022,  1:17pm
              </time>
              <meta itemprop='dateModified' content='2022-11-18T13:17:05Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Any chance you could send a pull request to anon-apps-config implementing the better config style please?</p>
<p>Main goals:</p>
<ul>
<li>As simple as possible for users in the end.</li>
<li>Use <code>.d</code> style config files whenever possible.</li>
<li>Avoid need to start I2P just to have it create a default config file and then we having to tell users they need to edit that file. In other words, instructions such as 1. start I2P, 2. edit that file… Not great. Best avoided.</li>
<li>Ideally all the user would have to do would be installing I2P and all the Whonix specific settings required are already preconfigured and nicely contained in the anon-apps-config package.</li>
</ul>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/eyedeekay'><span itemprop='name'>eyedeekay</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-18T15:49:32Z' class='post-time'>
                November 18, 2022,  3:49pm
              </time>
              <meta itemprop='dateModified' content='2022-11-18T16:36:29Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yeah I can probably make that happen after the I2P release on the 22nd, maybe a little sooner.</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-30T19:11:22Z' class='post-time'>
                November 30, 2022,  7:11pm
              </time>
              <meta itemprop='dateModified' content='2022-11-30T19:11:22Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yay!</p>
<p>Quote <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/eyedeekay">@eyedeekay</a></p>
<aside class="onebox githubpullrequest" data-onebox-src="../../../../external.html?link=https://github.com/Whonix/anon-apps-config/pull/8">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/Whonix/anon-apps-config/pull/8" target="_blank" rel="noopener">github.com/Whonix/anon-apps-config</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/Whonix/anon-apps-config/pull/8" target="_blank" rel="noopener">I2P auto configuration</a>
    </h4>

    <div class="branches">
      <code>Whonix:master</code> ← <code>eyedeekay:i2p-auto-configuration</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-11-29" data-time="20:17:49" data-timezone="UTC">08:17PM - 29 Nov 22 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/eyedeekay" target="_blank" rel="noopener">
          <img alt="eyedeekay" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/8733713?v=4" class="onebox-avatar-inline" width="20" height="20">
          eyedeekay
        </a>
      </div>

      <div class="lines" title="6 commits changed 16 files with 217 additions and 1 deletions">
        <a href="../../../../external.html?link=https://github.com/Whonix/anon-apps-config/pull/8/files" target="_blank" rel="noopener">
          <span class="added">+217</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">I believe this will accomplish what is discussed ITT: https://forums.whonix.org/<span class="show-more-container"><a href="../../../../external.html?link=https://github.com/Whonix/anon-apps-config/pull/8" target="_blank" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">t/i2p-client-inside-whonix-workstation-issues/15890/18 but it wants for testing on an actual Whonix system, I've only tried it on regular Debian so far. It changes the default address for user-facing services to 127.0.0.2 instead of 127.0.0.1 using config.d files placed in the i2p-config directory and applies the Whonix-specific router.config using i2p-config instead of using the base configuration. This should require no intervention from the user to set up.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<blockquote>
<p>I believe this will accomplish what is discussed ITT: <a href="18.html" class="inline-onebox">I2P client inside Whonix-Workstation Issues - #18</a> but it wants for testing on an actual Whonix system, I’ve only tried it on regular Debian so far. It changes the default address for user-facing services to 127.0.0.2 instead of 127.0.0.1 using config.d files placed in the i2p-config directory and applies the Whonix-specific router.config using i2p-config instead of using the base configuration. This should require no intervention from the user to set up.</p>
</blockquote>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-30T19:27:52Z' class='post-time'>
                November 30, 2022,  7:27pm
              </time>
              <meta itemprop='dateModified' content='2022-11-30T19:27:52Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Merged. Thank you!</p>
<p>Added a few commits on top.</p>
<p>This is making a bit of trouble:</p>
<pre><code class="lang-auto">## Fix permissions on the I2P configuration directory.

chown -R i2psvc:i2psvc /var/lib/i2p/i2p-config/
</code></pre>
<ul>
<li>(Would fail if folder does not exist (but I tried to avoid that by just using <code>mkdir --parents</code>) but then…)</li>
<li>Would fail if user and/or group <code>i2psvc</code> does not exist.</li>
<li>And lintian complains.</li>
</ul>
<pre><code class="lang-auto">################################################################################
W: anon-apps-config: recursive-privilege-change postinst:56
N:
W: recursive-privilege-change
N:
N:   The named maintainer script appears to call chmod or chown with a
N:   --recursive/-R argument, or it uses find(1) with similar intent.
N:   
N:   All such uses are vulnerable to hardlink attacks on mainline (i.e.
N:   non-Debian) kernels that do not set fs.protected_hardlinks=1.
N:   
N:   The security risk arises when when a non-privileged user set links to
N:   files they do not own, such as such as /etc/shadow or files in
N:   /var/lib/dpkg/. A superuser's recursive call to chown or chmod on
N:   behalf of a role user account would then modify the non-owned files in
N:   ways that allow the non-privileged user to manipulate them later.
N:   
N:   There are several ways to mitigate the issue in maintainer scripts:
N:   
N:    - For a static role user, please call chown at build time
N:      and not during the installation.
N:    - If that is too complicated, use runuser(1) in the
N:      relevant build parts to create files with correct ownership.
N:    - Given a static list of files to change, use non-recursive calls
N:      for each file. (Please do not generate the list with find.)
N:   
N:   Refer to Bug#895597, Bug#889060, Bug#889488, and the runuser(1) manual
N:   page for details.
N:   
N:   Severity: warning
N:   
N:   Check: scripts
N:   
N:   Renamed from:
N:   maintainer-script-should-not-use-recursive-chown-or-chmod
N:
################################################################################
</code></pre>
<p>Hence asking is <code>chown -R i2psvc:i2psvc /var/lib/i2p/i2p-config/</code> very important or will the <code>i2p</code> package later take care of setting proper permissions? That would be much better.</p>
<p>Meanwhile therefore I ported that part to systemd tmpfiles.d.</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-30T19:47:31Z' class='post-time'>
                November 30, 2022,  7:47pm
              </time>
              <meta itemprop='dateModified' content='2022-11-30T19:47:31Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubblob" data-onebox-src="../../../../external.html?link=https://github.com/Whonix/anon-apps-config/blob/master/usr/lib/tmpfiles.d/anon-apps-config.conf">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/Whonix/anon-apps-config/blob/master/usr/lib/tmpfiles.d/anon-apps-config.conf" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Whonix/anon-apps-config/blob/master/usr/lib/tmpfiles.d/anon-apps-config.conf" target="_blank" rel="noopener">Whonix/anon-apps-config/blob/master/usr/lib/tmpfiles.d/anon-apps-config.conf</a></h4>


      <pre><code class="lang-conf">## Copyright (C) 2022 - 2022 ENCRYPTED SUPPORT LP &lt;adrelanos@whonix.org&gt;
## See the file COPYING for copying conditions.

d /var/lib/i2p/i2p-config 0755 i2psvc i2psvc
</code></pre>




  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>That didn’t work great either:</p>
<blockquote>
<p>anon-apps-config.conf:4: Failed to resolve user ‘i2psvc’: No such process</p>
</blockquote>
<p>Will disable for now.</p>
<p>I hope anon-apps-config wouldn’t have to create user <code>i2psvc</code>? That would be a bit much. Would be nice if the <code>i2p</code> package could take care of user creation, folder permissions. What do you think? <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/eyedeekay">@eyedeekay</a></p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/1/1d84df424719fc51d42e7b53dbf76e6fd519b469.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../15890.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-11-30T20:00:48Z' class='post-time'>
                November 30, 2022,  8:00pm
              </time>
              <meta itemprop='dateModified' content='2022-11-30T20:00:48Z'>
          <span itemprop='position'>#24</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This is now available in the testers repository.</p>
        </div>

        <meta itemprop='headline' content='I2P client inside Whonix-Workstation Issues'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="../158904658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>
        <a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>
            <a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>
        </div>
    </div>
    
    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
        /* This is a bugfix for the Air Theme when JS is deactivated */
        body > .background-container {
            display: none !important;
        }
    </style>
</noscript>
  </body>
  
</html>
