<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Cannot set tx queue length on tun0: Operation not permitted (errno=1)</title>
    <link>http://forums.whonix.org/t/cannot-set-tx-queue-length-on-tun0-operation-not-permitted-errno-1/6499</link>
    <description>I&#39;ve had this issue before, and now I have it again. I have no idea how to correct it properly.

I get this problem when I use systemctl to start openvpn, and also when I test it manually for debugging. To test manually I use:

&gt; openvpn --rmtun --dev tun0
&gt; openvpn --mktun --dev tun0 --dev-type tun --user tunnel --group tunnel
&gt; cd /etc/openvpn
&gt; sudo -u tunnel openvpn /etc/openvpn/openvpn.conf


This is an excerpt of openvpn&#39;s output:

&gt; TUN/TAP device tun0 opened
&gt; Note: Cannot set tx queue length on tun0: Operation not permitted (errno=1)
&gt; do_ifconfig, tt-&gt;did_ifconfig_ipv6_setup=0
&gt; /usr/bin/ip_unpriv link set dev tun0 up mtu 1500
&gt; sudo: a password is required
&gt; Linux ip link set failed: external program exited with error status: 1
&gt; Exiting due to fatal error

What is causing this?

In the past I&#39;ve used:

&gt; setcap cap_net_admin=epi /bin/ip
&gt; setcap cap_net_admin=epi /usr/sbin/openvpn

But this is not part of the instructions given here: https://www.whonix.org/wiki/Tunnels/Connecting_to_a_VPN_before_Tor

I&#39;ve been struggling with this for over a month now. :(</description>
    <language>en</language>
    <lastBuildDate>Thu, 20 Dec 2018 00:13:43 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/cannot-set-tx-queue-length-on-tun0-operation-not-permitted-errno-1/6499.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Cannot set tx queue length on tun0: Operation not permitted (errno=1)</title>
        <dc:creator><![CDATA[rob75]]></dc:creator>
        <description><![CDATA[
            <p>Never mind, it was my stupid mistake this time. I commented in the wrong lines in tunnel_unpriv. I should learn to read.</p>
          <p><a href="http://forums.whonix.org/t/cannot-set-tx-queue-length-on-tun0-operation-not-permitted-errno-1/6499/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-set-tx-queue-length-on-tun0-operation-not-permitted-errno-1/6499/2</link>
        <pubDate>Thu, 20 Dec 2018 00:13:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6499-2</guid>
        <source url="http://forums.whonix.org/t/cannot-set-tx-queue-length-on-tun0-operation-not-permitted-errno-1/6499.rss">Cannot set tx queue length on tun0: Operation not permitted (errno=1)</source>
      </item>
      <item>
        <title>Cannot set tx queue length on tun0: Operation not permitted (errno=1)</title>
        <dc:creator><![CDATA[rob75]]></dc:creator>
        <description><![CDATA[
            <p>I’ve had this issue before, and now I have it again. I have no idea how to correct it properly.</p>
<p>I get this problem when I use systemctl to start openvpn, and also when I test it manually for debugging. To test manually I use:</p>
<blockquote>
<p>openvpn --rmtun --dev tun0<br>
openvpn --mktun --dev tun0 --dev-type tun --user tunnel --group tunnel<br>
cd /etc/openvpn<br>
sudo -u tunnel openvpn /etc/openvpn/openvpn.conf</p>
</blockquote>
<p>This is an excerpt of openvpn’s output:</p>
<blockquote>
<p>TUN/TAP device tun0 opened<br>
Note: Cannot set tx queue length on tun0: Operation not permitted (errno=1)<br>
do_ifconfig, tt-&gt;did_ifconfig_ipv6_setup=0<br>
/usr/bin/ip_unpriv link set dev tun0 up mtu 1500<br>
sudo: a password is required<br>
Linux ip link set failed: external program exited with error status: 1<br>
Exiting due to fatal error</p>
</blockquote>
<p>What is causing this?</p>
<p>In the past I’ve used:</p>
<blockquote>
<p>setcap cap_net_admin=epi /bin/ip<br>
setcap cap_net_admin=epi /usr/sbin/openvpn</p>
</blockquote>
<p>But this is not part of the instructions given here: <a href="https://www.whonix.org/wiki/Tunnels/Connecting_to_a_VPN_before_Tor" rel="nofollow noopener">https://www.whonix.org/wiki/Tunnels/Connecting_to_a_VPN_before_Tor</a></p>
<p>I’ve been struggling with this for over a month now. <img src="//forums.whonix.org/images/emoji/twitter/frowning.png?v=6" title=":frowning:" class="emoji" alt=":frowning:"></p>
          <p><a href="http://forums.whonix.org/t/cannot-set-tx-queue-length-on-tun0-operation-not-permitted-errno-1/6499/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cannot-set-tx-queue-length-on-tun0-operation-not-permitted-errno-1/6499/1</link>
        <pubDate>Wed, 19 Dec 2018 23:53:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6499-1</guid>
        <source url="http://forums.whonix.org/t/cannot-set-tx-queue-length-on-tun0-operation-not-permitted-errno-1/6499.rss">Cannot set tx queue length on tun0: Operation not permitted (errno=1)</source>
      </item>
  </channel>
</rss>
