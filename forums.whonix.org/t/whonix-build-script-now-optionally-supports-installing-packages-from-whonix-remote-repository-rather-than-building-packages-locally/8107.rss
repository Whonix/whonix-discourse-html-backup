<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</title>
    <link>http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107</link>
    <description>By adding

    --remote-derivative-packages true

Whonix images will be build with packages from Whonix developers repository. No packages will be build locally.

This option is optional.
This option is opt-in.

This option is useful for me during development, during creation of developers-only test images. It saves a ton of time having to rebuild all packages again and rebuilding these packages over and over again for each build.

This option might be useful for other developers who work on aspects of the build which is not related to any contents of any packages.

Builds which will be redistributed to users (those announced in Whonix News Forums) will still be build from locally build packages to ensure consistency.

Using `--remote-derivative-packages true` Kicksecure XFCE images were build in around a half hour.

----

https://github.com/Whonix/Whonix/commit/5f7564d7b628d22868c08feae0a5610328cc187d

https://github.com/Whonix/Whonix/commit/17ea90d9e4ebd568af2e0fc9f421d4535803d696

https://github.com/Whonix/Whonix/commit/113cd77276f2f47255fc2e67f8557f8eaeaeedf4

https://github.com/Whonix/Whonix/commit/117977ee7298b42de82cd81ecc0e1714d0667eeb

https://github.com/Whonix/Whonix/commit/27817cafaf6c776c0f5cf8c75989fb3e12a049ac

https://github.com/Whonix/Whonix/commit/66d0d19c9a4a3ea94968938fafa6b8b146a62616</description>
    <language>en</language>
    <lastBuildDate>Sat, 21 Sep 2019 10:10:40 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Looks complex, daunting.</p>
<p>A simpler implementation maybe: Instead of suite <code>buster-developers</code> there could be an additional suite <code>15.0.0.5.8</code>.</p>
<p>In other words, instead of using<br>
<a href="https://deb.whonix.org/dists/buster-developers/" class="onebox" target="_blank" rel="nofollow noopener">https://deb.whonix.org/dists/buster-developers/</a><br>
a could use for example<br>
<a href="https://deb.whonix.org/dists/15.0.0.5.8" class="onebox" target="_blank" rel="nofollow noopener">https://deb.whonix.org/dists/15.0.0.5.8</a></p>
<p>Patches welcome or perhaps some day.</p>
<p>Implementation:</p>
<ul>
<li>
<p>In <a href="https://github.com/Whonix/Whonix/blob/master/build-steps.d/1200_create-debian-packages" rel="nofollow noopener">https://github.com/Whonix/Whonix/blob/master/build-steps.d/1200_create-debian-packages</a> look for<br>
<code>WHONIX_BUILD_APT_CODENAME</code></p>
</li>
<li>
<p>But also a reprepro distribution file similar to <a href="https://github.com/Whonix/Whonix/blob/master/aptrepo_remote/conf/distributions" rel="nofollow noopener">https://github.com/Whonix/Whonix/blob/master/aptrepo_remote/conf/distributions</a> (with only 1 entry) would have to be auto generated.</p>
</li>
<li>
<p><a href="https://github.com/Whonix/whonix-developer-meta-files/blob/master/debug-steps/reprepro-wrapper" rel="nofollow noopener">https://github.com/Whonix/whonix-developer-meta-files/blob/master/debug-steps/reprepro-wrapper</a></p>
</li>
<li>
<p><a href="https://github.com/Whonix/Whonix/blob/master/help-steps/variables" rel="nofollow noopener">https://github.com/Whonix/Whonix/blob/master/help-steps/variables</a> function <code>set_WHONIX_BUILD_REPREPRO_FOLDER_OPTIONS</code></p>
</li>
</ul>
          <p><a href="http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107/5</link>
        <pubDate>Sat, 21 Sep 2019 10:10:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8107-5</guid>
        <source url="http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107.rss">Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</source>
      </item>
      <item>
        <title>Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>How easy would it be to switch the build process to use apt repo snapshots for builds like outlined on this Tails page?</p>
<p><a href="https://tails.boum.org/contribute/APT_repository/time-based_snapshots/" class="onebox" target="_blank" rel="nofollow noopener">https://tails.boum.org/contribute/APT_repository/time-based_snapshots/</a></p>
<p><a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a></p>
          <p><a href="http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107/4</link>
        <pubDate>Sun, 15 Sep 2019 14:32:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8107-4</guid>
        <source url="http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107.rss">Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</source>
      </item>
      <item>
        <title>Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="2" data-topic="8107" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>I’m using this bad boy th next time.</p>
</blockquote>
</aside>
<p>That could lead to inconsistent results.</p>
<p>If package build time is discouraging, I could perhaps rather figure out how to only rebuild packages that require rebuild and not always rebuild all packages all the time. But sometimes all packages have some minor changes (packaging compat level bumps and whatnot) and require rebuild so I wouldn’t know if this would save a lot time in practice.</p>
<aside class="quote no-group" data-post="1" data-topic="8107">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Builds which will be redistributed to users (those announced in Whonix News Forums) will still be build from locally build packages to ensure consistency.</p>
</blockquote>
</aside>
<p>That state of Whonix developers (or any) repository is currently still a bit opaque. All files are there in the open, welcome to review. But there are no tools to simplify this process. There is no way to know at which version Whonix/Whonix git tag version the Whonix developers repository is. Therefore the build version number wouldn’t tell much.</p>
<p>For example at the moment by building Whonix/Whonix git tag <code>15.0.0.4.9-stable</code> with <code>--remote-derivative-packages true</code> it would actually use Whonix/Whonix build script version <code>15.0.0.4.9-stable</code> with packages from Whonix developers repository which are at <code>15.0.0.5.6-developers-only</code>.</p>
<p>Latest git tag doesn’t necessarily match the state of Whonix developers repository.</p>
<p>Sometimes changes in the developers repository are badly breaking. As in, no easy upgrade path. (Let’s say for example permission bugs.) These bugs aren’t fixed (sometimes difficult or impossible) since they never get introduced for any non-developer and simply replaced by functional packages.</p>
<p>Qubes-Whonix is build from Whonix proposed-updates repository but this requires orchestration to know when the repository matches the expected git tag version.</p>
          <p><a href="http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107/3</link>
        <pubDate>Sun, 15 Sep 2019 09:58:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8107-3</guid>
        <source url="http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107.rss">Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</source>
      </item>
      <item>
        <title>Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Wohoo! Awesome feature. I’m using this bad boy th next time. Now I’ll be more motivated to make a new release sooner than once every quarter.</p>
          <p><a href="http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107/2</link>
        <pubDate>Sat, 14 Sep 2019 15:01:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8107-2</guid>
        <source url="http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107.rss">Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</source>
      </item>
      <item>
        <title>Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>By adding</p>
<pre><code>--remote-derivative-packages true
</code></pre>
<p>Whonix images will be build with packages from Whonix developers repository. No packages will be build locally.</p>
<p>This option is optional.<br>
This option is opt-in.</p>
<p>This option is useful for me during development, during creation of developers-only test images. It saves a ton of time having to rebuild all packages again and rebuilding these packages over and over again for each build.</p>
<p>This option might be useful for other developers who work on aspects of the build which is not related to any contents of any packages.</p>
<p>Builds which will be redistributed to users (those announced in Whonix News Forums) will still be build from locally build packages to ensure consistency.</p>
<p>Using <code>--remote-derivative-packages true</code> Kicksecure XFCE images were build in around a half hour.</p>
<hr>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/Whonix/commit/5f7564d7b628d22868c08feae0a5610328cc187d" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/Whonix/commit/5f7564d7b628d22868c08feae0a5610328cc187d" target="_blank" rel="nofollow noopener">--remote-derivative-packages true|false</a>
</h4>

  <pre class="message" style="white-space: normal;">false: Default. Will ${under}not${eunder} remote derivative packages.
true: ${under}use${eunder} remote derivative packages.</pre>

<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/Whonix/commit/5f7564d7b628d22868c08feae0a5610328cc187d" target="_blank" rel="nofollow noopener">02:30PM - 12 Sep 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>6 files</strong>
  with <strong>62 additions</strong>
  and <strong>7 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/Whonix/commit/17ea90d9e4ebd568af2e0fc9f421d4535803d696" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/Whonix/commit/17ea90d9e4ebd568af2e0fc9f421d4535803d696" target="_blank" rel="nofollow noopener">clean up temporary apt key when using --remote-derivative-packages true</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/Whonix/commit/17ea90d9e4ebd568af2e0fc9f421d4535803d696" target="_blank" rel="nofollow noopener">05:57AM - 13 Sep 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>2 files</strong>
  with <strong>9 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/Whonix/commit/113cd77276f2f47255fc2e67f8557f8eaeaeedf4" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/Whonix/commit/113cd77276f2f47255fc2e67f8557f8eaeaeedf4" target="_blank" rel="nofollow noopener">delete apt_target_key_derivative only if exists</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/Whonix/commit/113cd77276f2f47255fc2e67f8557f8eaeaeedf4" target="_blank" rel="nofollow noopener">06:49AM - 13 Sep 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>3 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/Whonix/commit/117977ee7298b42de82cd81ecc0e1714d0667eeb" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/Whonix/commit/117977ee7298b42de82cd81ecc0e1714d0667eeb" target="_blank" rel="nofollow noopener">fix path</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/Whonix/commit/117977ee7298b42de82cd81ecc0e1714d0667eeb" target="_blank" rel="nofollow noopener">05:26PM - 13 Sep 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/Whonix/commit/27817cafaf6c776c0f5cf8c75989fb3e12a049ac" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/Whonix/commit/27817cafaf6c776c0f5cf8c75989fb3e12a049ac" target="_blank" rel="nofollow noopener">add gnupg2 to grml_packages since required by apt-key in help-steps/create-local-temp-apt-repo</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/Whonix/commit/27817cafaf6c776c0f5cf8c75989fb3e12a049ac" target="_blank" rel="nofollow noopener">05:29PM - 13 Sep 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/Whonix/commit/66d0d19c9a4a3ea94968938fafa6b8b146a62616" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/Whonix/commit/66d0d19c9a4a3ea94968938fafa6b8b146a62616" target="_blank" rel="nofollow noopener">fix path</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/Whonix/commit/66d0d19c9a4a3ea94968938fafa6b8b146a62616" target="_blank" rel="nofollow noopener">05:55PM - 13 Sep 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>2 files</strong>
  with <strong>3 additions</strong>
  and <strong>2 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107/1</link>
        <pubDate>Sat, 14 Sep 2019 04:39:48 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8107-1</guid>
        <source url="http://forums.whonix.org/t/whonix-build-script-now-optionally-supports-installing-packages-from-whonix-remote-repository-rather-than-building-packages-locally/8107.rss">Whonix build script now optionally supports installing packages from Whonix remote repository rather than building packages locally</source>
      </item>
  </channel>
</rss>
