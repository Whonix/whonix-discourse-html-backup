<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel breaks AppArmor</title>
    <link>http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723</link>
    <description>Patrick, have you tested the Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel?

Even though kernelopts are set correctly as per:

http://kkkkkkkkkk63ava6.onion/wiki/AppArmor

The manual check in sys-whonix and Whonix-Workstation AppVM shows:

1

Not 0 as expected.

sudo aa-status shows &quot;apparmor module is not loaded&quot; in those AppVMs.

No evidence of AppArmor loading or profiles being enforced in logs as expected.

If this is a bug, this could affect a bunch of Whonix users when Qubes pushes 14.4 kernel, like I believe they intend to in the near term as it is next stable.</description>
    <language>en</language>
    <lastBuildDate>Thu, 01 Feb 2018 11:03:27 +0000</lastBuildDate>
    <category>AppArmor</category>
    <atom:link href="http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel breaks AppArmor</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Someone posted (thankfully):</p>
<p><a href="https://github.com/QubesOS/qubes-issues/issues/3507" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/QubesOS/qubes-issues/issues/3507</a></p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723/5</link>
        <pubDate>Thu, 01 Feb 2018 11:03:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4723-5</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723.rss">Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel breaks AppArmor</source>
      </item>
      <item>
        <title>Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel breaks AppArmor</title>
        <dc:creator><![CDATA[adw]]></dc:creator>
        <description><![CDATA[
            <p>Please file an issue in qubes-issues about this.</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723/4</link>
        <pubDate>Fri, 26 Jan 2018 03:40:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4723-4</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723.rss">Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel breaks AppArmor</source>
      </item>
      <item>
        <title>Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel breaks AppArmor</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>This is a critical problem / security regression which should be reported as a bug to Qubes and/or Linux kernel and/or Xen and/or AppArmor mob, since it is clearly not Whonix-specific.</p>
<p>It’s probably best to report to Qubes Issues tracker in the first instance, since it’s the only platform where this happens(?). <a class="mention" href="http://forums.whonix.org/u/adw">@adw</a></p>
<p>Couldn’t find any other reference for it from Internet searches i.e. apparmor module completely failing to load in 4.14 kernel (only the profiles issue which is already resolved in Debian etc).</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723/3</link>
        <pubDate>Fri, 26 Jan 2018 03:23:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4723-3</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723.rss">Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel breaks AppArmor</source>
      </item>
      <item>
        <title>Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel breaks AppArmor</title>
        <dc:creator><![CDATA[troubadour]]></dc:creator>
        <description><![CDATA[
            <p>Nice to pick that, I did not notice.</p>
<p>There has been a lot of discussions about an issue with kernel 4.14 and apparmor. <a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=AppArmor-Linux-4.14" rel="nofollow noopener">https://www.phoronix.com/scan.php?page=news_item&amp;px=AppArmor-Linux-4.14</a> is one of them, with a link to a patch in debian.</p>
<p>But it concerns some profiles not working. In Qubes sys-whonix and anon-whonix, apparmor fails to load entirely.</p>
<p><code>sudo systemctl status apparmor.service</code> reports</p>
<p><code>ConditionSecurity=apparmor was not met</code></p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723/2</link>
        <pubDate>Fri, 19 Jan 2018 22:09:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4723-2</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723.rss">Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel breaks AppArmor</source>
      </item>
      <item>
        <title>Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel breaks AppArmor</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Patrick, have you tested the Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel?</p>
<p>Even though kernelopts are set correctly as per:</p>
<p><a href="http://kkkkkkkkkk63ava6.onion/wiki/AppArmor" class="onebox" target="_blank">http://kkkkkkkkkk63ava6.onion/wiki/AppArmor</a></p>
<p>The manual check in sys-whonix and Whonix-Workstation AppVM shows:</p>
<p>1</p>
<p>Not 0 as expected.</p>
<p>sudo aa-status shows “apparmor module is not loaded” in those AppVMs.</p>
<p>No evidence of AppArmor loading or profiles being enforced in logs as expected.</p>
<p>If this is a bug, this could affect a bunch of Whonix users when Qubes pushes 14.4 kernel, like I believe they intend to in the near term as it is next stable.</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723/1</link>
        <pubDate>Fri, 19 Jan 2018 10:38:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4723-1</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-apparmor-instructions-with-dom0-upgraded-to-4-14-kernel-breaks-apparmor/4723.rss">Qubes-Whonix AppArmor instructions with dom0 upgraded to 4.14 kernel breaks AppArmor</source>
      </item>
  </channel>
</rss>
