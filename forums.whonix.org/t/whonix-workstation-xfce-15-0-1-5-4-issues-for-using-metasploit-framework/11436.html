<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix Workstation XFCE-15.0.1.5.4 - Issues for using Metasploit Framework - Support - Whonix Forum</title>
    <meta name="description" content="Hello, 
I‚Äôm testing Metasploit Framework on Whonix Workstation to simulate attacks in a lab environment corresponding to a Virtual Machine in a private network (environment made by using simply VirtualBox). 
In this lab &amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="11436.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix Workstation XFCE-15.0.1.5.4 - Issues for using Metasploit Framework&#39;" href="11436.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/0/0ea0a51a20a495ec281d5bdbc7c57899e4772408.png" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/0/0ea0a51a20a495ec281d5bdbc7c57899e4772408.png" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-workstation-xfce-15-0-1-5-4-issues-for-using-metasploit-framework/11436" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-workstation-xfce-15-0-1-5-4-issues-for-using-metasploit-framework/11436" />
<meta property="og:title" content="Whonix Workstation XFCE-15.0.1.5.4 - Issues for using Metasploit Framework" />
<meta name="twitter:title" content="Whonix Workstation XFCE-15.0.1.5.4 - Issues for using Metasploit Framework" />
<meta property="og:description" content="Hello,  I‚Äôm testing Metasploit Framework on Whonix Workstation to simulate attacks in a lab environment corresponding to a Virtual Machine in a private network (environment made by using simply VirtualBox).  In this lab environment I set one ‚Äúvictim‚Äù machine (Metasploitable 2) and two machines as attackers, one Debian 10.9 and the other one Whonix Workstation XFCE (connected to the Whonix Gateway).  The purpose of my test is simulating a complex scenario where different machines can communicate ..." />
<meta name="twitter:description" content="Hello,  I‚Äôm testing Metasploit Framework on Whonix Workstation to simulate attacks in a lab environment corresponding to a Virtual Machine in a private network (environment made by using simply VirtualBox).  In this lab environment I set one ‚Äúvictim‚Äù machine (Metasploitable 2) and two machines as attackers, one Debian 10.9 and the other one Whonix Workstation XFCE (connected to the Whonix Gateway).  The purpose of my test is simulating a complex scenario where different machines can communicate ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ‚ù§" />
<meta property="article:published_time" content="2021-04-14T02:40:35+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="11436.html">Whonix Workstation XFCE-15.0.1.5.4 - Issues for using Metasploit Framework</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Bl4ckJ4ck'><span itemprop='name'>Bl4ckJ4ck</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11436.html">

            <link itemprop="image" href="../../uploads/default/original/2X/0/0ea0a51a20a495ec281d5bdbc7c57899e4772408.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-14T02:40:35Z' class='post-time'>
                April 14, 2021,  2:40am
              </time>
              <meta itemprop='dateModified' content='2021-04-14T03:21:24Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hello,<br>
I‚Äôm testing Metasploit Framework on Whonix Workstation to simulate attacks in a lab environment corresponding to a Virtual Machine in a private network (environment made by using simply VirtualBox).</p>
<p>In this lab environment I set one ‚Äúvictim‚Äù machine (Metasploitable 2) and two machines as attackers, one Debian 10.9 and the other one Whonix Workstation XFCE (connected to the Whonix Gateway).</p>
<p>The purpose of my test is simulating a complex scenario where different machines can communicate in a private network, where Debian and Whonix machines are also connected to Internet. The complex scenario is represented by an attack from these two machines to the Metasploitable machine where one attacker is using Whonix for anonymization.</p>
<p>After setting everything, I run the Metasploitable machine (let‚Äôs guess Private IP 192.168.58.99), and then, from the two attacker machines I execute the same command (that is a simple port scan). So:</p>
<pre><code>msfconsole
use auxiliary/scanner/portscan/syn
setg RHOSTS 192.168.58.99
run
</code></pre>
<p>On Debian 10.9 machine, it works well. The output is like:<br>
<img src="../../uploads/default/original/2X/0/0ea0a51a20a495ec281d5bdbc7c57899e4772408.png" alt="image" data-base62-sha1="25oRC8PDwLiilaWVLOdo4hgZPOE" width="433" height="119"></p>
<p>On Whonix Workstation, I get error messages as following:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="../../uploads/default/original/2X/f/f75e999e3f70a49593ea3e1650fca38dfd22c6bd.png" data-download-href="//forums.whonix.org/uploads/default/f75e999e3f70a49593ea3e1650fca38dfd22c6bd" title="image"><img src="../../uploads/default/original/2X/f/f75e999e3f70a49593ea3e1650fca38dfd22c6bd.png" alt="image" data-base62-sha1="zikC7KcEB4oWDDGhbdRwT1J0Ff7" width="690" height="200" data-small-upload="../../uploads/default/optimized/2X/f/f75e999e3f70a49593ea3e1650fca38dfd22c6bd_2_10x10.png"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">image</span><span class="informations">852√ó248 50.2 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>where we see the Google public DNS (8.8.8.8), so I guess that, despite I‚Äôm contacting a machine in the private network, these requests go to resolve DNS on Internet.</p>
<p>I think that this error could be due to Whonix contacts a Tor DNS server for DNS resolution. To solve should I change the content of <code>/etc/resolv.conf</code> in Whonix Workstation and/or Whonix Gateway or other items? How can I solve this issue in the ‚Äúsafest‚Äù way by lowering the impact on the anonymity?</p>
<p>I tried to change the content of <code>/etc/resolv.conf</code> of Whonix Workstation XFCE with ‚Äúnameserver 8.8.8.8‚Äù, rebooted the machine but when I launch that command on metasploit, I get the same error.</p>
<p>About my doubts on anonymity if I allow the Workstation to contact 8.8.8.8, reading this post <a href="../another-dns-thatn-10-152-152-10/1508/2.html" class="inline-onebox">Another dns thatn 10.152.152.10</a> I think that the only information that I give to an external entity is:<br>
1- They can understand that I‚Äôm not using a Tor DNS server for DNS resolution;<br>
2- They can log the IP address of the Tor exit node.<br>
I don‚Äôt know if could be other aspects.</p>
        </div>

        <meta itemprop='headline' content='Whonix Workstation XFCE-15.0.1.5.4 - Issues for using Metasploit Framework'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11436.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-14T09:48:25Z' class='post-time'>
                April 14, 2021,  9:48am
              </time>
              <meta itemprop='dateModified' content='2021-04-14T09:48:25Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Anonymous pentesting is banned topic here.</p>
<aside class="quote quote-modified" data-post="1" data-topic="554">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="../allow-discussion-anonymous-pentesting-in-whonix-forums/554.html">Allow discussion anonymous pentesting in Whonix forums?</a> <a class="badge-wrapper  bullet" href="../../c/organization/9.html"><span class="badge-category-bg" style="background-color: #c3c3d1;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Building up the organization and success of the Whonix project. (contribute)">Organization</span></a>
  </div>
  <blockquote>
    Update 
In short: banned 





Like many tools, Tor / Whonix itself is a dual use tool. Due to Tor usage statistics (<a href="../../../external.html?link=http://planete.inrialpes.fr/papers/TorTraffic-NSS10.pdf">http://planete.inrialpes.fr/papers/TorTraffic-NSS10.pdf</a>) and low rates of abuse, I believe that on average, Tor does more good than harm. 
Are there any statistics on pentesting tools, on their good/harm ratio? 
I am not sure the combination of anonymity and pentesting is a useful one. Which legitimate use cases come to your mind? 
At the moment I believe making anonymous pentesti‚Ä¶
  </blockquote>
</aside>

<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/Policy_of_Whonix_Website_and_Whonix_Chat" target="_blank" rel="noopener" title="11:05AM - 03 April 2021">Whonix ‚Äì 3 Apr 21</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:110/58;"><img src="../../../external.html?link=https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" class="thumbnail" width="110" height="58"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Policy_of_Whonix_Website_and_Whonix_Chat" target="_blank" rel="noopener">Policy of Whonix Website and Whonix Chat</a></h3>

<p>Whonix ‚Ñ¢ Platform Goals, Whonix ‚Ñ¢ Website and Chat Goals, Whonix ‚Ñ¢ Website and Chat Non-Purposes, Usage Rules, Unwanted Topics, Banned Subjects</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Therefore I won‚Äôt go into how to anonymously run metasploit over Tor.</p>
<p>Scanning one‚Äôs own Whonix-Workstation from (virtual) internal LAN would be welcome.</p>
<ol>
<li>replace Whonix-Gateway VM (re-install or use a live DVD) with Debian (or anything, but Debian might be easier)</li>
<li>set up network interface eth1 (see package whonix-gw-network-conf for inspiration)</li>
<li>disable Whonix-Workstation firewall (or maybe not depending on what you‚Äôre testing)</li>
<li>make sure you can ping Whonix-Workstation (so networking between the two VMs is even possible)</li>
<li>run metasploit in previous VM that was Whonix-Gateway against Whonix-Workstation</li>
</ol>
<p>Scanning one‚Äôs own Whonix-Gateway from (virtual) internal LAN would be welcome.</p>
<ol>
<li>understanding a bit of <a href="../../../external.html?link=https://www.whonix.org/wiki/Other_Operating_Systems">https://www.whonix.org/wiki/Other_Operating_Systems</a> would be useful</li>
<li>set up a Custom-Whonix-Workstation (easiest probably Debian) as per <a href="../../../external.html?link=https://www.whonix.org/wiki/Other_Operating_Systems">https://www.whonix.org/wiki/Other_Operating_Systems</a>
</li>
<li>make sure networking is functional</li>
<li>disable Whonix-Gateway firewall (or maybe not depending on what you‚Äôre testing)</li>
<li>run metasploit in previous Whonix-Custom-Workstation against Whonix-Gateway</li>
</ol>
<p>Untested.</p>
        </div>

        <meta itemprop='headline' content='Whonix Workstation XFCE-15.0.1.5.4 - Issues for using Metasploit Framework'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
