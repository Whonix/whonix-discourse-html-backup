<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Countering stale mirrors</title>
    <link>http://forums.whonix.org/t/countering-stale-mirrors/428</link>
    <description>on countering stale mirrors this command may help? https://unix.stackexchange.com/a/45973</description>
    <language>en</language>
    <lastBuildDate>Sun, 17 Aug 2014 20:16:58 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/countering-stale-mirrors/428.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <blockquote>I meant this about the stale mirror fact. You seemed to have looked up before(?) I did for Debian. I'll add it to the documentation but I am not sure a dev page is the place to put it. Use as a FAQ.</blockquote>
The "debian notices stale mirror attack by using valid-until for release files" fact is a detail. Probably fine to add to a dev page.
<p>What could be documented in documentation is the “Release file expired” message. Here:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Security_Guide#Recommendation_to_install_latest_security_updates_on_all_systems" target="_blank" title="03:23AM - 18 June 2019">Whonix – 18 Jun 19</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.whonix.org/w/images/1/19/Padlock-597495-640.jpg" class="thumbnail" width="640" height="426"></div>

<h3><a href="https://www.whonix.org/wiki/Security_Guide#Recommendation_to_install_latest_security_updates_on_all_systems" target="_blank">Security Guide - Whonix</a></h3>

<p>THIS WIKI PAGE IS DEPRECATED AND OUTDATED. PLEASE REFER TO THE BASIC SECURITY GUIDE SECTION - https://www.whonix.org/wiki/Documentation</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
What it means, what could cause it and how recommended action.<p></p>
<blockquote>Thanks for clarifying. I had the impression, you were looking for ways to make apt connect to the repo urls in a random order rather than having apt run at random times.</blockquote>
Ah. Okay.
<p>Besides… Using random mirrors could make sense for load balancing. But that’s another discussion, no pressing issue yet and a fix not that simple.</p>
<blockquote>[quote]One Debian unattended upgrades package is just a cron / shell script and adding a randomizing feature doable by any less than decent coder. What it needs are people who get the code done. Ideally merged into Debian. By suggesting a patch for Debian. As an option [so Whonix just turns this on] or even better turned on by default. I guess they'd like it randomized for other reasons (load balancing) anyway.[/quote]
<p>I did not mean to imply that you do it. I thought it was something you wanted to implement in Whonix but needed more information/research on what you could use for it.</p>
</blockquote><br>
Okay.
<p>I see explaining this is quite difficult. That dev page is aiming to provide to answer for people suggesting:</p>
<ul>
<li>One click upgrade button for Debian packages</li>
<li>Unattended upgrades in background for Debian packages</li>
<li>Adding GUI Updater</li>
</ul>
<p>All sounds quite simple at first thought, but really isn’t that simple.</p>
<p>For example…</p>
<blockquote>Reasons against Automatic Updates:
-    Apparently mysterious [2] system load.
-    Apparently mysterious [2] network load.</blockquote>
<p>Aren’t unsolvable issues.</p>
<p>With a good user interface it would be possible to have a notification in X as well as in terminal as well as having options to stop / postpone updates. But it’s not worth adding that information. To solve it we need creative people with a lot self initiative and motivation to develop it. Writing a full concept with full problem analysis and proposed solution while not having someone to implement it would be a lot wasted work that is better spend on actual development. Because I think to the ones who would have the creativity, self initiative and motivation to develop it, will occur such a simple thought on how to implement it anyway. The ones implementing such things are mostly also not the ones reading and implementing a full concept, I think. It’s less about information, it’s more about dialogue. Also a lot text that leaves no room for questions often rather scares potential contributors away. Having them propose the solution and then talking about implementation details is better timing.</p>
<blockquote>Upstream makes sense, but the inertia of development makes such a request pointless almost.</blockquote>
It depends on the maintainer. No matter how long it takes. Proposing the patch would be useful.
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/12</link>
        <pubDate>Sun, 17 Aug 2014 20:16:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-12</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>There is nothing to update.</blockquote>
I meant this about the stale mirror fact. You seemed to have looked up before(?) I did for Debian. I'll add it to the documentation but I am not sure a dev page is the place to put it. Use as a FAQ.
<blockquote>The point is "Are times when "apt-get dist-upgrade" is run randomized to prevent a clear network fingerprint? If not, this needs a custom implementation/diverting some scripts."</blockquote>
<p>Thanks for clarifying. I had the impression, you were looking for ways to make apt connect to the repo urls in a random order rather than having apt run at random times.</p>
<blockquote>One Debian unattended upgrades package is just a cron / shell script and adding a randomizing feature doable by any less than decent coder. What it needs are people who get the code done. Ideally merged into Debian. By suggesting a patch for Debian. As an option [so Whonix just turns this on] or even better turned on by default. I guess they'd like it randomized for other reasons (load balancing) anyway.</blockquote>
<p>I did not mean to imply that you do it. I thought it was something you wanted to implement in Whonix but needed more information/research on what you could use for it. Upstream makes sense, but the inertia of development makes such a request pointless almost.</p>
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/11</link>
        <pubDate>Sun, 17 Aug 2014 19:13:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-11</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="8" data-topic="428">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Please update the list of research questions so I don’t look up things you have answers for. Adding references would let readers know an answer is found already.</p>
</blockquote>
</aside>
<p>There is nothing to update.</p>
<p>The point is “Are times when “apt-get dist-upgrade” is run randomized to prevent a clear network fingerprint? If not, this needs a custom implementation/diverting some scripts.”</p>
<p>Unattended upgrades that someone may want to implement as an [optional?] feature should check for that point.</p>
<p>That it should “run at randomized times to prevent a clear network fingerprint” is implicitly stated within the question.</p>
<aside class="quote" data-post="9" data-topic="428">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Ideally you want to run cron at random times. This is possible: <a href="https://stackoverflow.com/questions/9049460/cron-jobs-and-random-times-within-giving-hours">https://stackoverflow.com/questions/9049460/cron-jobs-and-random-times-within-giving-hours</a></p>
</blockquote>
</aside>
<p>It sure is possible.</p>
<p>All easy stuff. (In comparison: <a href="https://www.whonix.org/wiki/FAQ#How_difficult_is_it_to_develop_Whonix.3F">https://www.whonix.org/wiki/FAQ#How_difficult_is_it_to_develop_Whonix.3F</a>)</p>
<p>One Debian unattended upgrades package is just a cron / shell script and adding a randomizing feature doable by any less than decent coder. What it needs are people who get the code done. Ideally merged into Debian. By suggesting a patch for Debian. As an option [so Whonix just turns this on] or even better turned on by default. I guess they’d like it randomized for other reasons (load balancing) anyway.</p>
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/10</link>
        <pubDate>Sun, 17 Aug 2014 18:32:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-10</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Ideally you want to run cron at random times. This is possible: <a href="https://stackoverflow.com/questions/9049460/cron-jobs-and-random-times-within-giving-hours">https://stackoverflow.com/questions/9049460/cron-jobs-and-random-times-within-giving-hours</a></p>
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/9</link>
        <pubDate>Sun, 17 Aug 2014 17:53:46 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-9</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Please update the list of research questions so I don’t look up things you have answers for. Adding references would let readers know an answer is found already.</p>
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/8</link>
        <pubDate>Sun, 17 Aug 2014 17:51:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-8</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-username="HulaHoop" data-post="5" data-topic="428">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<aside class="quote no-group">
<blockquote>
<p>Are times when “apt-get update” is run randomized to prevent a clear network fingerprint? If not, this needs a custom implementation/diverting some scripts. </p>
</blockquote>
</aside>
<p>I mean this. But how serious is it?</p>
</blockquote>
</aside>
<p>In theory automatic upgrades at non-randomized times could help an ISP level adversary to guess that you’re automatic upgrades over Tor. Therefore guess that you’re probably be a Whonix or custom transparent proxy rather than TBB user. No idea how serious that is. Probably something that is good to prevent, nice to have, but not as important as lots of other stuff.</p>
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/7</link>
        <pubDate>Sun, 17 Aug 2014 17:48:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-7</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://www.debian.org/doc/manuals/debian-faq/ch-uptodate.en.html" class="onebox" target="_blank">https://www.debian.org/doc/manuals/debian-faq/ch-uptodate.en.html</a></p>
<blockquote>9.5 Can I automatically update the system?
<p>Yes. You can use cron-apt, this tool updates the system at regular interval by using a cron job. By default it just updates the package list and download new packages without installing.</p>
<p>Note: Automatic upgrade of packages is NOT recommended in testing or unstable systems as this might bring unexpected behaviour and remove packages without notice.</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/6</link>
        <pubDate>Sun, 17 Aug 2014 17:43:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-6</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>Are times when "apt-get update" is run randomized to prevent a clear network fingerprint? If not, this needs a custom implementation/diverting some scripts.</blockquote>
<p>I mean this. But how serious is it?</p>
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/5</link>
        <pubDate>Sun, 17 Aug 2014 17:40:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-5</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="3" data-topic="428">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>by using debian repos directly we are protected from a stale mirror attack, particularly security updates: <a href="https://unix.stackexchange.com/a/5009">https://unix.stackexchange.com/a/5009</a></p>
</blockquote>
</aside>
<p>Yes. Debian protects from it while Ubuntu does not (<a href="https://bugs.launchpad.net/launchpad/+bug/716535">https://bugs.launchpad.net/launchpad/+bug/716535</a>).</p>
<aside class="quote" data-post="3" data-topic="428">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>As for randomzing link order hitting for apt update I haven’t found much. maybe we can compare order manually here by posting what we see.</p>
</blockquote>
</aside>
<p>Don’t know what you mean.</p>
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/4</link>
        <pubDate>Sun, 17 Aug 2014 16:08:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-4</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>by using debian repos directly we are protected from a stale mirror attack, particularly security updates: <a href="https://unix.stackexchange.com/a/5009">https://unix.stackexchange.com/a/5009</a></p>
<p>As for randomzing link order hitting for apt update I haven’t found much. maybe we can compare order manually here by posting what we see.</p>
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/3</link>
        <pubDate>Sun, 17 Aug 2014 16:04:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-3</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Context:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Dev/Automatic_Updates" target="_blank" title="10:42AM - 01 April 2020">Whonix – 1 Apr 20</a>
  </header>
  <article class="onebox-body">
    <img src="" class="thumbnail" width="" height="">

<h3><a href="https://www.whonix.org/wiki/Dev/Automatic_Updates" target="_blank">Dev/Automatic Updates - Whonix</a></h3>

<p>Why does Whonix ™ (not) use Automatic Updates? Why does Whonix ™ (not) use a GUI Update Notifier or GUI Updater?</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<pre><code class="lang-auto">-o Acquire::Check-Valid-Until=false</code></pre>
<p>Is a bad idea. It disables release file validation. Won’t counter stale mirrors. Will make them go unnoticed.</p>
<p>As per <a href="http://manpages.debian.org/cgi-bin/man.cgi?&amp;query=apt.conf">http://manpages.debian.org/cgi-bin/man.cgi?&amp;query=apt.conf</a></p>
<blockquote>       Check-Valid-Until
           Security related option defaulting to true, as giving a Release
           file's validation an expiration date prevents replay attacks over a
           long timescale, and can also for example help users to identify
           mirrors that are no longer updated - but the feature depends on the
           correctness of the clock on the user system. Archive maintainers
           are encouraged to create Release files with the Valid-Until header,
           but if they don't or a stricter value is desired the Max-ValidTime
           option below can be used.</blockquote>
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/2</link>
        <pubDate>Sun, 17 Aug 2014 15:12:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-2</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
      <item>
        <title>Countering stale mirrors</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>on countering stale mirrors this command may help? <a href="https://unix.stackexchange.com/a/45973">https://unix.stackexchange.com/a/45973</a></p>
          <p><a href="http://forums.whonix.org/t/countering-stale-mirrors/428/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/countering-stale-mirrors/428/1</link>
        <pubDate>Sun, 17 Aug 2014 14:51:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-428-1</guid>
        <source url="http://forums.whonix.org/t/countering-stale-mirrors/428.rss">Countering stale mirrors</source>
      </item>
  </channel>
</rss>
