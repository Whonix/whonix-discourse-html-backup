<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Safer DHCP implementation [RESOLVED] - #7 by HulaHoop - KVM - Whonix Forum</title>
    <meta name="description" content="I got an idea when seeing this thred: 
http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/do-i-need-an-unique-lan-ip-for-the-each-cloned-workstation-if-i-dont-use-them-at-a-time/7496/2 
@Patri&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../7499.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Safer DHCP implementation [RESOLVED]&#39;" href="../7499.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/safer-dhcp-implementation-resolved/7499/7" />
<meta name="twitter:url" content="https://forums.whonix.org/t/safer-dhcp-implementation-resolved/7499/7" />
<meta property="og:title" content="Safer DHCP implementation [RESOLVED]" />
<meta name="twitter:title" content="Safer DHCP implementation [RESOLVED]" />
<meta property="og:description" content="@Patrick let me know if the selected DHCP range is OK.  (To be added on wiki) Instructions on using DHCP with KVM:  sudo nano /etc/network/interfaces.d/30_non-qubes-whonix  Comment out:  auto eth0  iface eth0 inet static  Comment in:  auto eth0  iface eth0 inet dhcp  Change internal network:  sudo virsh net-edit Whonix-Internal  &lt;ip address=&#39;10.152.152.0&#39; netmask=&#39;255.255.192.0&#39;&gt;     &lt;dhcp&gt;       &lt;range start=&#39;10.152.128.1&#39; end=&#39;10.152.191.254&#39;/&gt;     &lt;/dhcp&gt; &lt;/ip&gt;  Restart internal network:  sud..." />
<meta name="twitter:description" content="@Patrick let me know if the selected DHCP range is OK.  (To be added on wiki) Instructions on using DHCP with KVM:  sudo nano /etc/network/interfaces.d/30_non-qubes-whonix  Comment out:  auto eth0  iface eth0 inet static  Comment in:  auto eth0  iface eth0 inet dhcp  Change internal network:  sudo virsh net-edit Whonix-Internal  &lt;ip address=&#39;10.152.152.0&#39; netmask=&#39;255.255.192.0&#39;&gt;     &lt;dhcp&gt;       &lt;range start=&#39;10.152.128.1&#39; end=&#39;10.152.191.254&#39;/&gt;     &lt;/dhcp&gt; &lt;/ip&gt;  Restart internal network:  sud..." />
<meta property="article:published_time" content="2019-06-06T18:04:26+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../7499.html">Safer DHCP implementation [RESOLVED]</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/kvm/11.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #9EB83B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>KVM</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-04T16:02:29Z' class='post-time'>
                June 4, 2019,  4:02pm
              </time>
              <meta itemprop='dateModified' content='2019-06-06T18:12:59Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I got an idea when seeing this thred:</p>
<p><a href="../../../../external.html?link=http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/do-i-need-an-unique-lan-ip-for-the-each-cloned-workstation-if-i-dont-use-them-at-a-time/7496/2" class="onebox" target="_blank" rel="nofollow noopener">http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/do-i-need-an-unique-lan-ip-for-the-each-cloned-workstation-if-i-dont-use-them-at-a-time/7496/2</a></p>
<p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> what if we include the DHCP server on the WS instead and configure its service to terminate if it detects an IP other than 10.152.152.11?</p>
<p>This avoids race conditions between multiple instances sharing the same internal LAN. Also provides a more secure place to put the daemon. It doesn’t break the sec model because we document the best way to isolate WSs is to have them on separate LANs so even if it is exploited  it is kinda expected.</p>
<p>TO-DO: Figure out if the GW can be made immune to dynamic assignment. I guess not exposing a DHCP client guarantees that?</p>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../safer-dhcp-implementation-based-on-automated-introspection/7512.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../safer-dhcp-implementation-based-on-automated-introspection/7512.html'>
                      <span itemprop='name'>safer DHCP implementation based on &quot;automated introspection&quot;</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-04T16:04:56Z' class='post-time'>
                June 4, 2019,  4:04pm
              </time>
              <meta itemprop='dateModified' content='2019-06-04T16:04:56Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="1" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>what if we include the DHCP server on the WS instead</p>
</blockquote>
</aside>
<p>Which DHCP client would be connecting to it? Another Whonix-Workstation?</p>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-04T16:51:13Z' class='post-time'>
                June 4, 2019,  4:51pm
              </time>
              <meta itemprop='dateModified' content='2019-06-04T16:51:13Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes</p>
<p>Code would be something like this:<br>
If 10.152.152.11 -&gt; DHCP server starts -&gt; If DHCP server starts DHCP client is prevented from running.</p>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-06T11:44:54Z' class='post-time'>
                June 6, 2019, 11:44am
              </time>
              <meta itemprop='dateModified' content='2019-06-06T11:44:54Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Since all downloadable Whonix images are alike, the problem here is, how to detect in code which is the master Whonix-Workstation running the DHCP server?</p>
<p>Maybe the first Whonix-Workstation that starts and doesn’t find an already running DHCP server would start a DHCP server? Some room for race conditions. But ignoring race conditions for simplicity, that is easier said than implemented.</p>
<aside class="quote no-group" data-post="1" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>what if we include the DHCP server on the WS instead and configure its service to terminate if it detects an IP other than 10.152.152.11?</p>
</blockquote>
</aside>
<p>So it would still be a manual edit some config file process of setting up a multi workstation setup? Otherwise - since all downloadable Whonix images are alike - how would there be any other IP than 10.152.152.11 after first boot without manual change by user?</p>
<p>A wholly different solution I had in mind would be Any-Workstation-VM -&gt; DHCP-Server-VM -&gt; Whonix-Gateway-VM. But developing that is also a lot work.</p>
<p>Also, always good to ask: Why are we inventing something here? Why is this Whonix specific?<br>
This is actually a missing (or existing in KVM?) virtualizer feature. Qubes instructions for multi ws are a lot simpler since Qubes automatically puts each ws into its own separate network and dynamically spins up a vif+ interface on Whonix-Gateway for each ws. Virtualizer feature request?</p>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../safer-dhcp-implementation-based-on-automated-introspection/7512/2.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../safer-dhcp-implementation-based-on-automated-introspection/7512/2.html'>
                      <span itemprop='name'>safer DHCP implementation based on &quot;automated introspection&quot;</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-06T12:46:40Z' class='post-time'>
                June 6, 2019, 12:46pm
              </time>
              <meta itemprop='dateModified' content='2019-06-06T12:46:40Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="4" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>So it would still be a manual edit some config file process of setting up a multi workstation setup?</p>
</blockquote>
</aside>
<p>No automated. A script to query the eth0  interface for its IP. IP  is assigned pretty early on in a VM’s life so it should be clear if it needs to start the server or the client without delaying connectivity too much.</p>
<aside class="quote no-group" data-post="4" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Otherwise - since all downloadable Whonix images are alike - how would there be any other IP than 10.152.152.11 after first boot without manual change by user?</p>
</blockquote>
</aside>
<p>Since it is based on introspection and is automated, it should be able to dynamically react to network conditions .</p>
<aside class="quote no-group" data-post="4" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>A wholly different solution I had in mind would be Any-Workstation-VM -&gt; DHCP-Server-VM -&gt; Whonix-Gateway-VM. But developing that is also a lot work.</p>
</blockquote>
</aside>
<p>Overkill and would run into the same questions this solves except now there is more dev effort and resource use.</p>
<aside class="quote no-group" data-post="4" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also, always good to ask: Why are we inventing something here? Why is this Whonix specific?<br>
This is actually a missing (or existing in KVM?) virtualizer feature. Qubes instructions for multi ws are a lot simpler since Qubes automatically puts each ws into its own separate network and dynamically spins up a vif+ interface on Whonix-Gateway for each ws. Virtualizer feature request?</p>
</blockquote>
</aside>
<p>You mean for a network that looks like</p>
<p>WS1 &lt;-&gt; GW &lt;-&gt; WS2<br>
where WS1 and WS2 cannot communicate but share the same GW?</p>
<p>Does the GW on Qubes have two different internally facing NICs in this case?</p>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-06T15:46:24Z' class='post-time'>
                June 6, 2019,  3:46pm
              </time>
              <meta itemprop='dateModified' content='2019-06-06T15:46:24Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="4" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also, always good to ask: Why are we inventing something here? Why is this Whonix specific?<br>
This is actually a missing (or existing in KVM?) virtualizer feature.</p>
</blockquote>
</aside>
<p>UPDATE:<br>
Indeed the feature exists when one defines a DHCP setting for the virtual network. No need for the sorcery in this thread. I might test and document it though I won’t enable it by default becuase it might increase theoretic attack surface.<br>
<a href="../../../../external.html?link=https://wiki.libvirt.org/page/VirtualNetworking#DNS_.26_DHCP" class="onebox" target="_blank" rel="nofollow noopener">https://wiki.libvirt.org/page/VirtualNetworking#DNS_.26_DHCP</a></p>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-06T18:04:26Z' class='post-time'>
                June 6, 2019,  6:04pm
              </time>
              <meta itemprop='dateModified' content='2019-06-06T18:10:02Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> let me know if the selected DHCP range is OK.</p>
<p><strong>(To be added on wiki) Instructions on using DHCP with KVM:</strong></p>
<p>sudo nano /etc/network/interfaces.d/30_non-qubes-whonix</p>
<p>Comment out:<br>
auto eth0<br>
iface eth0 inet static</p>
<p>Comment in:<br>
auto eth0<br>
iface eth0 inet dhcp</p>
<p>Change internal network:<br>
sudo virsh net-edit Whonix-Internal</p>
<pre><code>&lt;ip address='10.152.152.0' netmask='255.255.192.0'&gt;
    &lt;dhcp&gt;
      &lt;range start='10.152.128.1' end='10.152.191.254'/&gt;
    &lt;/dhcp&gt;
&lt;/ip&gt;
</code></pre>
<p>Restart internal network:</p>
<pre><code>sudo virsh net-destroy Whonix-Internal

virsh -c qemu:///system net-start Whonix-Internal
</code></pre>
<p><code>sudo ifconfig</code>  confirms dynamic assigned IP functional.</p>
<hr>
<p>I read the manual and a default install dnsmasq does forward   requests to upstream servers recursively if it cannot resolve them.</p>
<p>However there is evidence that it does not resolve DNS as implemented in libvirt:</p>
<ul>
<li><a href="../../../../external.html?link=https://wiki.libvirt.org/page/Libvirtd_and_dnsmasq" rel="nofollow noopener">https://wiki.libvirt.org/page/Libvirtd_and_dnsmasq</a></li>
</ul>
<p><em>On linux host servers, libvirtd uses dnsmasq to service the virtual networks, such as the default network. A new instance of dnsmasq is started for each virtual network, only accessible to guests in that specific network.</em></p>
<ul>
<li>
<p>DNSMASQ is visible to  nmap scan from the WS but not much else.</p>
</li>
<li>
<p>Sent a DNS request to it from the WS with this result:</p>
<p>dig <a href="../../../../external.html?link=http://microsoft.com/" rel="nofollow noopener">microsoft.com</a> <span class="mention">@10.152.152.0</span></p>
<p>; &lt;&lt;&gt;&gt; DiG 9.11.5-P4-3-Debian &lt;&lt;&gt;&gt; <a href="../../../../external.html?link=http://microsoft.com/" rel="nofollow noopener">microsoft.com</a> <span class="mention">@10.152.152.0</span><br>
;; global options: +cmd<br>
;; connection timed out; no servers could be reached</p>
</li>
</ul>
<hr>
<p>Let’s decide whether we want this feature by default or simply making it optional and documenting it. Can VBox support this too? Maybe enable it in a set of packges for KVM builds?</p>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../dnsmasq-networks-and-kvm/7651/2.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../dnsmasq-networks-and-kvm/7651/2.html'>
                      <span itemprop='name'>dnsmasq, networks, and kvm</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-07T10:28:00Z' class='post-time'>
                June 7, 2019, 10:28am
              </time>
              <meta itemprop='dateModified' content='2019-06-07T10:28:00Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <ol>
<li>
<p>Compatible with manually set static IPs in case this is needed for<br>
something?</p>
</li>
<li>
<p>What about Tor config file based static IPs according our onion<br>
services instructions aka <code>HiddenServicePort 80 10.152.152.11:80</code>? Would<br>
this break? See also next question.</p>
</li>
<li>
<p>How dynamic are the IPs? Ideally, the internal LAN IPs would be<br>
automatically, dynamically assigned at first boot but then kept forever.</p>
</li>
</ol>
<p>For this purpose there could be a unique (randomly chosen) ID from which<br>
the IP is derived so it’s unlikely that two VMs booted for the first<br>
time (while another one is offline) end up with the same IP.</p>
<p>(A booted VM vs another booted VM always has a unique fingerprint<br>
compared to each other - different time stamps in logs and whatnot)</p>
<p>HulaHoop via Whonix Forum:</p>
<blockquote>
<p>You mean for a network that looks like</p>
<p>WS1 &lt;-&gt; GW &lt;-&gt; WS2<br>
where WS1 and WS2 cannot communicate but share the same GW?</p>
</blockquote>
<p>Yes.</p>
<blockquote>
<p>Does the GW on Qubes have two different internally facing NICs in this<br>
case?</p>
</blockquote>
<p>Yes, as many additional vif+ interfaces as (vif1, vif2, vif3, …)<br>
dynamically created as needed per separate WS.</p>
<blockquote>
<p>Let’s decide whether we want this feature by default or simply making it optional and documenting it.</p>
</blockquote>
<blockquote>
<p>Can VBox support this too?</p>
</blockquote>
<p>No idea but if it had and this could be enabled by default for Whonix<br>
VBox and KVM builds at the same time, without KVM-only specifics, then<br>
this would increase my motivation to implement this.</p>
<blockquote>
<p>Maybe enable it in a set of packages for KVM builds?</p>
</blockquote>
<p>Patches welcome.</p>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="3" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-07T15:41:30Z' class='post-time'>
                June 7, 2019,  3:41pm
              </time>
              <meta itemprop='dateModified' content='2019-06-07T15:41:30Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="8" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Compatible with manually set static IPs in case this is needed for<br>
something?</p>
</blockquote>
</aside>
<p>Yes libvirt allows pairing a static IP from athe DHCP server to a VM with a specific MAC address. I would need to ship a VM with a preconfigured MAC and adjust the networking file to always assign it 10.152.152.11</p>
<aside class="quote no-group" data-post="8" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>What about Tor config file based static IPs according our onion<br>
services instructions aka <code>HiddenServicePort 80 10.152.152.11:80</code> ? Would<br>
this break? See also next question.</p>
</blockquote>
</aside>
<p>With the explicit static stuff above no it shouldn’t.</p>
<aside class="quote no-group" data-post="8" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>How dynamic are the IPs? Ideally, the internal LAN IPs would be<br>
automatically, dynamically assigned at first boot but then kept forever.</p>
</blockquote>
</aside>
<p>Haven’t noticed will need to test again.</p>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-07T15:43:44Z' class='post-time'>
                June 7, 2019,  3:43pm
              </time>
              <meta itemprop='dateModified' content='2019-06-07T15:43:44Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="8" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes, as many additional vif+ interfaces as (vif1, vif2, vif3, …)<br>
dynamically created as needed per separate WS.</p>
</blockquote>
</aside>
<p>This setup is actually superior unless the user insists on having the multi WS communicate. Do you also spawn a separate Tor daemon for each interface? How hard would it be to do that? It would have  thesecurity advantages of multiple GWs while cutting down on resource use.</p>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-08T01:58:00Z' class='post-time'>
                June 8, 2019,  1:58am
              </time>
              <meta itemprop='dateModified' content='2019-06-08T01:58:00Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>HulaHoop via Whonix Forum:</p>
<blockquote>
<aside class="quote no-group" data-post="8" data-topic="7499">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes, as many additional vif+ interfaces as (vif1, vif2, vif3, …)<br>
dynamically created as needed per separate WS.</p>
</blockquote>
</aside>
<p>This setup is actually superior unless the user insists on having the multi WS communicate.</p>
</blockquote>
<p>having the multi WS communicate is supported as optional feature as per:</p>
<p><a href="../../../../external.html?link=https://www.qubes-os.org/doc/firewall/#enabling-networking-between-two-qubes" rel="nofollow noopener">https://www.qubes-os.org/doc/firewall/#enabling-networking-between-two-qubes</a></p>
<blockquote>
<p>Do you also spawn a separate Tor daemon for each interface?</p>
</blockquote>
<p>No.</p>
<blockquote>
<p>How hard would it be to do that?</p>
</blockquote>
<p>Hard. Partially reinventing Qubes.</p>
<blockquote>
<p>It would have  the security advantages of multiple GWs while cutting down on resource use.</p>
</blockquote>
<p>Qubes does not have some/most of the Non-Qubes-Whonix disadvantages [no<br>
unwanted default inter ws communication] of<br>
<a href="../../../../external.html?link=https://www.whonix.org/wiki/Multiple_Whonix-Workstation" rel="nofollow noopener">https://www.whonix.org/wiki/Multiple_Whonix-Workstation</a> but it doesn’t<br>
automate<br>
<a href="../../../../external.html?link=https://www.whonix.org/wiki/Tor_Entry_Guards#Increase_Protection_from_Malicious_Entry_Guards:_One_Guard_per_Application" rel="nofollow noopener">https://www.whonix.org/wiki/Tor_Entry_Guards#Increase_Protection_from_Malicious_Entry_Guards:_One_Guard_per_Application</a>.</p>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7499.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-06-15T04:26:17Z' class='post-time'>
                June 15, 2019,  4:26am
              </time>
              <meta itemprop='dateModified' content='2019-06-15T04:29:52Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <ul>
<li><a href="../../../../external.html?link=https://unix.stackexchange.com/questions/256061/is-libvirt-dnsmasq-exposed-to-the-network-if-i-run-fedora-without-a-firewall" rel="nofollow noopener">https://unix.stackexchange.com/questions/256061/is-libvirt-dnsmasq-exposed-to-the-network-if-i-run-fedora-without-a-firewall</a></li>
</ul>
<blockquote>
<p>So I can see an open TCP port. However it responds as if it’s “tcpwrapped”. That implies if you connect over a different interface from <code>virbr0</code> , <code>dnsmasq</code> closes the connection without reading any data. So data you send to it doesn’t matter; it can’t e.g. exploit a classic buffer overflow.</p>
</blockquote>
<p>This comment is about DNS imlications for the host as DHCP is bound to a specific interface.</p>
<hr>
<ul>
<li><a href="../../../../external.html?link=https://serverfault.com/questions/840163/custom-dnsmasq-or-custom-options-with-libvrt" rel="nofollow noopener">https://serverfault.com/questions/840163/custom-dnsmasq-or-custom-options-with-libvrt</a></li>
</ul>
<hr>
<p>DNS not explicitly enabled fir guests unless added to a network’s  config.</p>
<ul>
<li><a href="../../../../external.html?link=https://fabianlee.org/2018/10/22/kvm-using-dnsmasq-for-libvirt-dns-resolution/" rel="nofollow noopener">https://fabianlee.org/2018/10/22/kvm-using-dnsmasq-for-libvirt-dns-resolution/</a></li>
</ul>
<hr>
<ul>
<li><a href="../../../../external.html?link=https://www.cyberciti.biz/faq/linux-kvm-libvirt-dnsmasq-dhcp-static-ip-address-configuration-for-guest-os/" rel="nofollow noopener">https://www.cyberciti.biz/faq/linux-kvm-libvirt-dnsmasq-dhcp-static-ip-address-configuration-for-guest-os/</a></li>
</ul>
        </div>

        <meta itemprop='headline' content='Safer DHCP implementation [RESOLVED]'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
