<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
    <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255</link>
    <description>/proc/sys/kernel/random/boot_id doesn&#39;t exist on Whonix for me but it does exist on my host (Arch). Even if it did exist, I assume it&#39;s random as it&#39;s in a directory called &quot;random&quot;.
*/ proc / sys / kernel / random / boot_id no existe en Whonix para mí, pero sí existe en mi host (Arch). Incluso si existiera, asumo que es aleatorio ya que está en un directorio llamado &quot;aleatorio&quot;.*</description>
    <language>en</language>
    <lastBuildDate>Sun, 05 Jan 2020 18:10:00 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>We can fix this with apparmor-profile-everything but that might break too many things.</p>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/13</link>
        <pubDate>Sun, 05 Jan 2020 18:10:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-13</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[anonytor]]></dc:creator>
        <description><![CDATA[
            <p>I can confirm that on a regular Debian Buster installation, hostnamectl run in terminal returns a whole suite of values: static-hostname, icon name, chassis, machine id, boot id, kernel, operating system and architecture.<br>
I followed those links you posted and found them very helpful to explain what the values like boot id mean.</p>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/12</link>
        <pubDate>Thu, 17 Oct 2019 19:57:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-12</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>We can create a systemd service with <code>Before=systemd-journald.service</code> to run it before the systemd logs are created so the actual boot ID won’t be stored in the logs.</p>
<p>But, this breaks a whole bunch of things, likely because <code>systemd-journald.service</code> is getting started too late.</p>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/11</link>
        <pubDate>Thu, 17 Oct 2019 19:32:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-11</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p><a href="http://0pointer.net/blog/projects/ids.html" class="onebox" target="_blank" rel="nofollow noopener">http://0pointer.net/blog/projects/ids.html</a></p>
<blockquote>
<p>/proc/sys/kernel/random/boot_id: A random ID that is regenerated on each boot. As such it can be used to identify the local machine’s current boot. It’s universally available on any recent Linux kernel. It’s a good and safe choice if you need to identify a specific boot on a specific booted kernel.</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/10</link>
        <pubDate>Sun, 29 Sep 2019 17:24:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-10</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>I’m pretty sure the boot ID is only used for filtering journal logs for specific past boots or something to do with <a href="https://marc.info/?l=linux-kernel&amp;m=93613053109494&amp;w=2" rel="nofollow noopener">emacs</a>.</p>
<p>I’ve found these two links that talk about changing the boot IDs for containers.</p>
<p><a href="https://lists.linuxfoundation.org/pipermail/containers/2012-August/030168.html" class="onebox" target="_blank" rel="nofollow noopener">https://lists.linuxfoundation.org/pipermail/containers/2012-August/030168.html</a></p>
<p><a href="https://bugzilla.redhat.com/show_bug.cgi?id=854604" class="onebox" target="_blank" rel="nofollow noopener">https://bugzilla.redhat.com/show_bug.cgi?id=854604</a></p>
<p>There weren’t really any objections except people who didn’t think it was a kernel bug or people who didn’t think it would be useful. No “this will break everything” messages.</p>
<p>Lennart Poettering suggested to overmount the file in userspace.</p>
<blockquote>
<p>Overmounting the boot id in userspace is very easy, so I’d suggest doing this all in userspace where necessary.</p>
</blockquote>
<p>This message says why the boot IDs can be useful <a href="https://lists.linuxfoundation.org/pipermail/containers/2012-August/030170.html" rel="nofollow noopener">https://lists.linuxfoundation.org/pipermail/containers/2012-August/030170.html</a></p>
<blockquote>
<p>SystemD records log messages for all system services in their journal. They can show you all log messages for the current service execution, all log messages for a service since system boot, or all log messsages ever. The boot_id value is used as a unique tag to allow grouping of the log messages per system boot. When we run systemd inside a container we want to get that grouping of log messages generated by services inside the container, to take account of the container boot, not the host boot. Hence the desire to have the boot_id value reflect when a container is booted.</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/9</link>
        <pubDate>Sun, 29 Sep 2019 17:20:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-9</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="17" data-topic="7721">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Remember the Debian OpenSSL bug: maintainer thinks “random something - I don’t like that - nuke it” and then all OpenSSL keys created on Debian were weak. Upstream needs to be consulted.</p>
</blockquote>
</aside>
<p>Exactly! We need o find out why upstream wanted this feature to begin with.</p>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/8</link>
        <pubDate>Sun, 29 Sep 2019 16:56:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-8</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="15" data-topic="7721">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>There’s also /proc/sys/kernel/random/uuid but this changes every time you try to check what’s in it so it doesn’t seem like a problem.</p>
</blockquote>
</aside>
<p>This looks to me like a feature. Any program/script requiring an uuid can use that as API.</p>
<aside class="quote no-group" data-post="16" data-topic="7721">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Then the boot ID should be the same as /etc/machine-id.</p>
</blockquote>
</aside>
<p>Remember the Debian OpenSSL bug: maintainer thinks “random something - I don’t like that - nuke it” and then all OpenSSL keys created on Debian were weak. Upstream needs to be consulted.</p>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/7</link>
        <pubDate>Sun, 29 Sep 2019 06:44:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-7</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>Actually, an extremely hacky way to hide these would be to bind mount a file on top of it.</p>
<p>For example, we can create a systemd service that runs</p>
<pre><code>mount --bind /etc/machine-id /proc/sys/kernel/random/boot_id
</code></pre>
<p>Then the boot ID should be the same as /etc/machine-id.</p>
<p>Since this doesn’t properly change the ID, the actual boot ID may be found out through other means e.g. <code>journalctl</code> although <code>journalctl</code> isn’t available to the <code>user</code> user (it’s not part of the required groups) so this might be somewhat effective at hiding the boot ID from unprivileged attackers.</p>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/6</link>
        <pubDate>Sat, 28 Sep 2019 21:53:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-6</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>I can’t find anything about changing the boot ID which makes me think it isn’t possible so we’d probably need to make a bug report of some package. Since the ID is in /proc/sys (a directory containing kernel tunables), it’d probably have to be a bug report against the kernel.</p>
<p>There’s also /proc/sys/kernel/random/uuid but this changes every time you try to check what’s in it so it doesn’t seem like a problem.</p>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/5</link>
        <pubDate>Sat, 28 Sep 2019 21:00:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-5</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="12" data-topic="7721">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>I’m not sure how this can be set to the same for each boot session for every Whonix user or even if it’s worth doing.</p>
</blockquote>
</aside>
<p>Dunno either. To get more brain power processing this question it’s always worth asking on the tor-talk mailing list and/or reporting bugs against Tails.</p>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/4</link>
        <pubDate>Fri, 27 Sep 2019 06:16:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-4</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>The boot ID is set in /proc/sys/kernel/random/boot_id (dunno why I couldn’t find it before) and that can be changed with sysctl.</p>
<p>Maybe, it’d be possible to create a file in /etc/sysctl.d with</p>
<pre><code>kernel.random.boot_id=b08dfa60-83e7-567a-1921a715000001fb
</code></pre>
<p>Although, I’ve tried this and it didn’t work.</p>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/3</link>
        <pubDate>Thu, 26 Sep 2019 17:51:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-3</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>It turns out, the boot ID is a thing. Running <code>hostnamectl</code> shows a unique “Boot ID” that’s changed each reboot.</p>
<p>Running <code>journalctl --list-boots</code> gives you the boot ID of every past session (as long as persistent journal logs are enabled).</p>
<p>It seems like this is useful for getting the logs of specific past sessions as you can use <code>journalctl --boot=id</code>.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <a href="https://linux-audit.com/finding-boot-logs-in-systemd-journals/" target="_blank" title="05:39PM - 06 December 2014" rel="nofollow noopener">Linux Audit – 6 Dec 14</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:83/31;"><img src="https://assets.linux-audit.com/wp-content/uploads/2014/11/linux-audit-journalctl-list-boots.png" class="thumbnail"></div>

<h3><a href="https://linux-audit.com/finding-boot-logs-in-systemd-journals/" target="_blank" rel="nofollow noopener">Finding boot logs in systemd journals</a></h3>

<p>Systemd used a binary log to store information about specific events. These events include the boot sequence and the related output. Boot logs can be extracted after finding the related boot ID.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>I’m not sure how this can be set to the same for each boot session for every Whonix user or even if it’s worth doing.</p>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/2</link>
        <pubDate>Thu, 26 Sep 2019 17:35:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-2</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
      <item>
        <title>hide /proc/sys/kernel/random/boot_id from non-root users</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>/proc/sys/kernel/random/boot_id doesn’t exist on Whonix for me but it does exist on my host (Arch). Even if it did exist, I assume it’s random as it’s in a directory called “random”.<br>
<em>/ proc / sys / kernel / random / boot_id no existe en Whonix para mí, pero sí existe en mi host (Arch). Incluso si existiera, asumo que es aleatorio ya que está en un directorio llamado “aleatorio”.</em></p>
          <p><a href="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255/1</link>
        <pubDate>Mon, 22 Jul 2019 19:13:46 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8255-1</guid>
        <source url="http://forums.whonix.org/t/hide-proc-sys-kernel-random-boot-id-from-non-root-users/8255.rss">hide /proc/sys/kernel/random/boot_id from non-root users</source>
      </item>
  </channel>
</rss>
