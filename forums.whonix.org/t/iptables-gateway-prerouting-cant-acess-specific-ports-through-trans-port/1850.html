<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>iptables gateway prerouting: can&#39;t acess specific ports through trans port? - Physical Isolation - Whonix Forum</title>
    <meta name="description" content="I have a question about the whonix gateway iptables prerouting. It looks like this:  

 -A PREROUTING -i eth1 -p tcp -m tcp --dport 9186 -j REDIRECT --to-ports 9186
-A PREROUTING -i eth1 -p tcp -m tcp --dport 9187 -j RED&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1850.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;iptables gateway prerouting: can&#39;t acess specific ports through trans port?&#39;" href="1850.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/iptables-gateway-prerouting-cant-acess-specific-ports-through-trans-port/1850" />
<meta name="twitter:url" content="https://forums.whonix.org/t/iptables-gateway-prerouting-cant-acess-specific-ports-through-trans-port/1850" />
<meta property="og:title" content="iptables gateway prerouting: can&#39;t acess specific ports through trans port?" />
<meta name="twitter:title" content="iptables gateway prerouting: can&#39;t acess specific ports through trans port?" />
<meta property="og:description" content="I have a question about the whonix gateway iptables prerouting. It looks like this:  -A PREROUTING -i eth1 -p tcp -m tcp --dport 9186 -j REDIRECT --to-ports 9186 -A PREROUTING -i eth1 -p tcp -m tcp --dport 9187 -j REDIRECT --to-ports 9187 -A PREROUTING -i eth1 -p tcp -m tcp --dport 9188 -j REDIRECT --to-ports 9188 -A PREROUTING -i eth1 -p tcp -m tcp --dport 9189 -j REDIRECT --to-ports 9189 -A PREROUTING -i eth1 -p udp -m udp --dport 53 -j REDIRECT --to-ports 5300 -A PREROUTING -i eth1 -p tcp -m ..." />
<meta name="twitter:description" content="I have a question about the whonix gateway iptables prerouting. It looks like this:  -A PREROUTING -i eth1 -p tcp -m tcp --dport 9186 -j REDIRECT --to-ports 9186 -A PREROUTING -i eth1 -p tcp -m tcp --dport 9187 -j REDIRECT --to-ports 9187 -A PREROUTING -i eth1 -p tcp -m tcp --dport 9188 -j REDIRECT --to-ports 9188 -A PREROUTING -i eth1 -p tcp -m tcp --dport 9189 -j REDIRECT --to-ports 9189 -A PREROUTING -i eth1 -p udp -m udp --dport 53 -j REDIRECT --to-ports 5300 -A PREROUTING -i eth1 -p tcp -m ..." />
<meta property="article:published_time" content="2015-12-30T06:07:30+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1850.html">iptables gateway prerouting: can&#39;t acess specific ports through trans port?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/physical-isolation/19.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #B3B5B4'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Physical Isolation</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bubblewrap'><span itemprop='name'>bubblewrap</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-12-30T06:07:30Z' class='post-time'>
                December 30, 2015,  6:07am
              </time>
              <meta itemprop='dateModified' content='2015-12-30T06:07:30Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I have a question about the whonix gateway iptables prerouting. It looks like this:</p>
<pre><code class="lang-auto">-A PREROUTING -i eth1 -p tcp -m tcp --dport 9186 -j REDIRECT --to-ports 9186
-A PREROUTING -i eth1 -p tcp -m tcp --dport 9187 -j REDIRECT --to-ports 9187
-A PREROUTING -i eth1 -p tcp -m tcp --dport 9188 -j REDIRECT --to-ports 9188
-A PREROUTING -i eth1 -p tcp -m tcp --dport 9189 -j REDIRECT --to-ports 9189
-A PREROUTING -i eth1 -p udp -m udp --dport 53 -j REDIRECT --to-ports 5300
-A PREROUTING -i eth1 -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -j REDIRECT --to-ports 9040</code></pre>
<p>What happens if an app using the trans port (no proxy support or broken proxy support) needs to access a web server using any of the predefined ports, like <a href="../../../external.html?link=http://someserver:9189/index.html" rel="nofollow noopener">http://someserver:9189/index.html</a>?</p>
<p>In this case don’t the REDIRECT rules above cause the request to go to the gateway’s local 9189 tor socks port instead of the tor trans port (9040)? And presumably fail since they expect a socks comm?</p>
<p>How do you work around that case? Try to uwt or proxychains aorund the app and give it its own tor socks port? And what if the wrappers don’t work?</p>
<p>This is semi-hypothetical but I’m curious about those rules. The redirects for 53 and 9040 are a given, but why don’t 9188, 9189, etc. match on the destination IP (-d 10.152.152.10) in addition to the port?</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../firewall-tor-traffic-open-ports/2079.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../firewall-tor-traffic-open-ports/2079.html'>
                      <span itemprop='name'>Firewall,Tor Traffic (open ports)</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-12-30T16:54:29Z' class='post-time'>
                December 30, 2015,  4:54pm
              </time>
              <meta itemprop='dateModified' content='2015-12-30T16:54:29Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>bubblewrap:</p>
<blockquote>
<p>I have a question about the whonix gateway iptables prerouting. It<br>
looks like this: <code> -A PREROUTING -i eth1 -p tcp -m tcp --dport
9186 -j REDIRECT --to-ports 9186 -A PREROUTING -i eth1 -p tcp -m tcp
--dport 9187 -j REDIRECT --to-ports 9187 -A PREROUTING -i eth1 -p tcp
-m tcp --dport 9188 -j REDIRECT --to-ports 9188 -A PREROUTING -i eth1
-p tcp -m tcp --dport 9189 -j REDIRECT --to-ports 9189 -A PREROUTING
-i eth1 -p udp -m udp --dport 53 -j REDIRECT --to-ports 5300 -A
PREROUTING -i eth1 -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -j
REDIRECT --to-ports 9040 </code></p>
<p>What happens if an app using the trans port (no proxy support or<br>
broken proxy support) needs to access a web server using any of the<br>
predefined ports, like <a href="../../../external.html?link=http://someserver:9189/index.html">http://someserver:9189/index.html</a>?</p>
<p>In this case don’t the REDIRECT rules above cause the request to go<br>
to the gateway’s local 9189 tor socks port instead of the tor trans<br>
port (9040)? And presumably fail since they expect a socks comm?</p>
<p>How do you work around that case? Try to uwt or proxychains aorund<br>
the app and give it its own tor socks port? And what if the wrappers<br>
don’t work?</p>
</blockquote>
<p>It will just work. You’re confusing the levels.<br>
<a href="../../../external.html?link=http://practically-some-ip:9189/index.html">http://practically-some-IP:9189/index.html</a> is inside the connection. Not<br>
being touched by iptables. It’s the remote IP/port, not the local one.</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bubblewrap'><span itemprop='name'>bubblewrap</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-12-30T22:32:22Z' class='post-time'>
                December 30, 2015, 10:32pm
              </time>
              <meta itemprop='dateModified' content='2015-12-30T22:55:56Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi Patrick. Great work on Whonix.</p>
<p>The trouble is that I can replicate the problem I am describing.</p>
<p>On the gateway, add the following rules:</p>
<pre><code class="lang-auto">iptables -t nat -I PREROUTING -i eth1 -p tcp -m tcp --dport 80 -j REDIRECT --to-ports 80
iptables -t nat -I PREROUTING -i eth1 -p tcp -m tcp --dport 443 -j REDIRECT --to-ports 443</code></pre>
<p>This is to emulate the issue with the existing rules (9188, 9199, etc.).</p>
<p>Then install Iceweasel (on the workstation) and set it no use no proxy so it uses the trans port (9040).</p>
<p>Try to access any site. It is blocked by iptables by the above rules.</p>
<p>Then change the rules using the following:</p>
<pre><code class="lang-auto">iptables -t nat -D PREROUTING -i eth1 -p tcp -m tcp --dport 80 -j REDIRECT --to-ports 80
iptables -t nat -D PREROUTING -i eth1 -p tcp -m tcp --dport 443 -j REDIRECT --to-ports 443
iptables -t nat -I PREROUTING -i eth1 -p tcp -m tcp -d 10.152.152.10 --dport 80 -j REDIRECT --to-ports 80
iptables -t nat -I PREROUTING -i eth1 -p tcp -m tcp -d 10.152.152.10 --dport 443 -j REDIRECT --to-ports 443</code></pre>
<p>Suddenly, web access in Iceweasel works again.</p>
<p>In essence with the new rules, the 80 and 443 rules REDIRECT does almost nothing but make an exception to the trans port REDIRECT rule. If you don’t match on the gateway IP (as added above), the rules intercept traffic bound for the trans port on those ports (and sends them to 10.152.152.10:80 and 10.152.152.10:443 instead of 10.152.152.10:9040).</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-12-30T22:56:32Z' class='post-time'>
                December 30, 2015, 10:56pm
              </time>
              <meta itemprop='dateModified' content='2015-12-30T22:56:32Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>It won’t work because Tor is not listening with a Tor SocksPort on these<br>
local ports 80 and 443. If you add them, then reload Tor, it should work.</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bubblewrap'><span itemprop='name'>bubblewrap</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-12-30T23:29:27Z' class='post-time'>
                December 30, 2015, 11:29pm
              </time>
              <meta itemprop='dateModified' content='2015-12-30T23:29:27Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I tried now to add</p>
<pre><code class="lang-auto">SocksPort 10.152.152.10:80
SocksPort 10.152.152.10:443</code></pre>
<p>and verify they were running, and add the necessary filter rules</p>
<pre><code class="lang-auto">iptables -I INPUT eth1 -p tcp -m tcp --dport 80 -j ACCEPT
iptables -I INPUT eth1 -p tcp -m tcp --dport 443 -j ACCEPT</code></pre>
<p>but the result is the same. The ports are accessible as socks ports when added in Iceweasel (SOCKS5 10.152.152.152:443), but trans port (no proxy) doesn’t work.</p>
<p>I was not aware of socks ports able to double as trans ports. Can they do that? Any extra configuration needed other than the above?</p>
<p>(and of course the rules below:)</p>
<pre><code class="lang-auto">iptables -t nat -I PREROUTING -i eth1 -p tcp -m tcp --dport 80 -j REDIRECT --to-ports 80
iptables -t nat -I PREROUTING -i eth1 -p tcp -m tcp --dport 443 -j REDIRECT --to-ports 443</code></pre>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-01-01T20:12:01Z' class='post-time'>
                January 1, 2016,  8:12pm
              </time>
              <meta itemprop='dateModified' content='2016-01-01T20:12:01Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="5" data-topic="1850">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/b/87869e/40.png" class="avatar"> bubblewrap:</div>
<blockquote>
<p>I was not aware of socks ports able to double as trans ports.</p>
</blockquote>
</aside>
<p>They don’t. Still need to use them as SocksPorts.</p>
<p>You forgot to add the accept rule.</p>
<pre><code>  $iptables_cmd -A INPUT -i "$int_tif_item" -p tcp --dport "$SOCKS_PORT_CURL" -j ACCEPT
  $iptables_cmd -t nat -A PREROUTING -i "$int_if_item" -p tcp --dport "$SOCKS_PORT_CURL" -j REDIRECT --to-ports "$SOCKS_PORT_CURL"
</code></pre>
<p>If you want to add new SocksPorts, you need to emulate the following two commits.</p>
<ul>
<li><a href="../../../external.html?link=https://github.com/Whonix/anon-gw-anonymizer-config/commit/a2aa9e90b344cb4fc01cacc73ac2007b47e3f42e">https://github.com/Whonix/anon-gw-anonymizer-config/commit/a2aa9e90b344cb4fc01cacc73ac2007b47e3f42e</a></li>
<li><a href="../../../external.html?link=https://github.com/Whonix/whonix-gw-firewall/commit/d6401bb5e310504a454ee2d65b8b3d46b4dbfdb3">https://github.com/Whonix/whonix-gw-firewall/commit/d6401bb5e310504a454ee2d65b8b3d46b4dbfdb3</a></li>
</ul>
<p>Accessing a port on the gateway is different from accessing a remote port. Using Whonix-Gateway as a gateway won’t trigger these redirection rules. The workstation asks the gateway to forward the request. Not to access a specific port on the gateway.</p>
<p>Just now tested this. Added redirection for port 80 and 443. But did not add new Tor SocksPorts. Then used the non-uwt wrapped (!) version of curl and was still able to access 80/443 on remote web servers.</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bubblewrap'><span itemprop='name'>bubblewrap</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-01-04T01:55:33Z' class='post-time'>
                January 4, 2016,  1:55am
              </time>
              <meta itemprop='dateModified' content='2016-01-04T02:09:07Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks, but I did everything listed in those two commits and I had already added the filter rule. I could contact the socks port just fine with socks-aware app.</p>
<p>I’m afraid I don’t see how it could work on your end.</p>
<p>Let’s take the simplest case you just stated again.</p>
<p>Here is the output that I get with orig curl with default Whonix Gateway and Workstation, on Workstation:</p>
<pre><code class="lang-auto">user@host:~$ sudo /usr/bin/curl.anondist-orig https://www.whonix.org -q -o /dev/null -w "HTTP CODE: %{http_code}\n"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 57208    0 57208    0     0  28787      0 --:--:--  0:00:01 --:--:-- 28776
HTTP CODE: 200</code></pre>
<p>Looks good.</p>
<p>Now I go to the Gateway and add a redirect rule on the fly:</p>
<pre><code class="lang-auto">user@host:~$ sudo iptables -t nat -I PREROUTING -i eth1 -p tcp -m tcp --dport 443 -j REDIRECT --to-ports 443 </code></pre>
<p>Then back on Worktation, run same command as before:</p>
<pre><code class="lang-auto">user@host:~$ sudo /usr/bin/curl.anondist-orig https://www.whonix.org -q -o /dev/null -w "HTTP CODE: %{http_code}\n"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:--  0:02:06 --:--:--     0HTTP CODE: 000
curl: (7) Failed to connect to www.whonix.org port 443: Connection timed out</code></pre>
<p>Stopped it in its tracks.</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-01-04T17:47:58Z' class='post-time'>
                January 4, 2016,  5:47pm
              </time>
              <meta itemprop='dateModified' content='2016-01-04T17:47:58Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Don’t open it on the fly. Add it to the firewall. Then reload the<br>
firewall. Otherwise it’s likely not in the right spot of the chain.</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bubblewrap'><span itemprop='name'>bubblewrap</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-01-04T21:24:31Z' class='post-time'>
                January 4, 2016,  9:24pm
              </time>
              <meta itemprop='dateModified' content='2016-01-04T21:24:31Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I did, and the result is the same as above.</p>
<p>I had already checked that “iptables -t nat -I” was inserting at the correct location. (checking output of “iptables-save” command)</p>
<p>I’m using Whonix installed from version 11 dist-upgraded up to recent.</p>
<p>Again the only way I can get it to not interfere is to add the match on the gateway address, e.g.:</p>
<pre><code class="lang-auto">sudo iptables -t nat -I PREROUTING -i eth1 -d 10.152.152.10 -p tcp -m tcp --dport 443 -j REDIRECT --to-ports 443</code></pre>
<p>(it also works on the equivalent entries in /usr/bin/whonix_firewall)</p>
<p>… though it could maybe be rewritten as something simpler (REDIRECT does nothing to the packet header if you match on 10.152.152.10).</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-01-04T22:53:41Z' class='post-time'>
                January 4, 2016, 10:53pm
              </time>
              <meta itemprop='dateModified' content='2016-01-04T22:53:41Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>If you have something simpler in mind, please write a pull request.</p>
<p>I was wondering about refactoring the firewall anyhow. Too many separate<br>
socks ports firewall rules now. Either looping through all of them. Or<br>
relaxing the firewall. There is probably no point in keeping all ports<br>
on the internet interface (eth1) closed but to open the ones where Tor<br>
or cpfpy is listening. Perhaps it would be simple to keep gateway eth1<br>
completely reachable from the workstation.</p>
<p>Without blocking all incoming ports by default on eth1, Tor should be<br>
directly reachable. I mean, there should be no need for any iptables<br>
accept or redirect rules.</p>
<p>( For experimentation see:<br>
<a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Firewall_Unload">https://www.whonix.org/wiki/Dev/Firewall_Unload</a> [firewall unload breaks<br>
transparent proxying] )</p>
<p>Before I do more extensive changes, I need to setup a corridor proxy for<br>
better leak detection. Perhaps package corridor. I don’t know yet when I<br>
get to this.</p>
<p>/cc <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bubblewrap'><span itemprop='name'>bubblewrap</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-01-04T23:52:48Z' class='post-time'>
                January 4, 2016, 11:52pm
              </time>
              <meta itemprop='dateModified' content='2016-01-04T23:52:48Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Well, when I run firewall unload on the Gateway and try to reach a site over trans port on the Workstation, it doesn’t work. On the config I have in front of me, the trans port functionality clearly depends on the rule:</p>
<pre><code class="lang-auto">PREROUTING -i eth1 -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -j REDIRECT --to-ports 9040</code></pre>
<p>To me that made sense to begin with because it’s the usual Tor config <a href="../../../external.html?link=https://trac.torproject.org/projects/tor/wiki/doc/TransparentProxy#AnonymizingMiddlebox" rel="nofollow noopener">https://trac.torproject.org/projects/tor/wiki/doc/TransparentProxy#AnonymizingMiddlebox</a>.</p>
<p>And afaik PREROUTING nat rules will preempt everything else the gateway does, so these rules would probably take priority regardless (unless there was more tunneling I’m not aware of being done on the Workstation side, but not on my system…).</p>
<p>I guess the only real suggestion I make is to add “-d 10.152.152.10” to the SOCKS PREROUTING rules. But afterward they can probably simplify (but doesn’t change anything more) to:</p>
<pre><code class="lang-auto">PREROUTING -i eth1 -d 10.152.152.10 -p tcp --dport 443 -j ACCEPT</code></pre>
<p>(only for SOCKS, not DNS or trans port rules)</p>
<p>I’ll write it again in a request ticket then.</p>
<p>The other parts of the firewall made sense to me.</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bubblewrap'><span itemprop='name'>bubblewrap</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-01-05T00:17:41Z' class='post-time'>
                January 5, 2016, 12:17am
              </time>
              <meta itemprop='dateModified' content='2016-01-05T00:17:41Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I created this issue ticket: <a href="../../../external.html?link=https://phabricator.whonix.org/T462?workflow=create" rel="nofollow noopener">https://phabricator.whonix.org/T462?workflow=create</a></p>
<p>I wrote it with the presumption that regardless of whether it affects Whonix 12 and everyone or just me for some reason, the suggested change would be logical to have.</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-01-05T00:37:46Z' class='post-time'>
                January 5, 2016, 12:37am
              </time>
              <meta itemprop='dateModified' content='2016-01-05T00:37:46Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Good ticket. Will answer there.</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1850.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-01-05T23:20:23Z' class='post-time'>
                January 5, 2016, 11:20pm
              </time>
              <meta itemprop='dateModified' content='2016-01-05T23:20:23Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Simplification is good but caution is paramount. If the effects are not understood then its best to leave it alone.</p>
<p>+1 Packaging Corridor opens the way for many interesting directions for Whonix.</p>
        </div>

        <meta itemprop='headline' content='iptables gateway prerouting: can&#39;t acess specific ports through trans port?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
