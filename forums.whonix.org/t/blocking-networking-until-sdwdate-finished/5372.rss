<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>blocking networking until sdwdate finished</title>
    <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372</link>
    <description>~~sdwdate-gui is not started by default in #Qubes because [`make sdwdate-gui Qubes friendly`](https://phabricator.whonix.org/T534) is not done.~~

~~Once we have that graphical user interface part done and once we have [`enable sdwdate-gui systray by default`](https://phabricator.whonix.org/T636) done and a ton of testing we can get a new #anonymity feature:~~

[`iptables block network access until #sdwdate succeeded`](https://phabricator.whonix.org/T533).

Instructions for testing:
 https://www.whonix.org/wiki/Network_Time_Synchronization#Block_Networking_until_sdwdate_Finishes</description>
    <language>en</language>
    <lastBuildDate>Wed, 27 Jul 2022 11:54:32 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="TNT_BOM_BOM" data-post="11" data-topic="5372" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.png" class="avatar"> TNT_BOM_BOM:</div>
<blockquote>
<p>Side question:</p>
<p>Why it need to be implemented in both WS and GW if tor and internet are only in GW anyway?</p>
</blockquote>
</aside>
<ul>
<li>Whonix-Gateway: The user’s clock might be slow while at the same time an outdated Tor consensus was sent to the user (man-in-the-middle attack) (replay attack). If sdwdate manages to connect to onions to fetch the time and it knows the time is later then the VM clock, it will move the VM clock forward. Tor would notice the time change, disregard the outdated Tor consensus and download a fresh Tor consensus or fail closed. The goal is to wait for a “guarantee” that the user’s system clock isn’t slow before permitting “all” Tor connections. “All” means other than just only Tor and sdwdate over Tor.</li>
<li>Whonix-Workstation: Applications might leak the VM time to remote servers. Therefore wait for sdwdate to set and randomize it so it’s guaranteed to be different form the host (and Whonix-Gateway).</li>
</ul>
<p>More on all of these technical considerations here:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.whonix.org/wiki/Dev/TimeSync">
  <header class="source">
      <img src="https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="https://www.whonix.org/wiki/Dev/TimeSync" target="_blank" rel="noopener" title="11:13AM - 27 July 2022">Whonix – 27 Jul 22</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://www.whonix.org/wiki/Dev/TimeSync" target="_blank" rel="noopener">TimeSync: Whonix ™ Time Synchronization Mechanism</a></h3>

  <p>Design Documentation of Whonix ™ Time Synchronization Mechanism</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/13</link>
        <pubDate>Wed, 27 Jul 2022 11:54:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-13</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This feature needs more work.</p>
<ul>
<li>Needs instructions for users how to test this feature.</li>
<li>Enabling this feature using <code>firewall_mode=</code> is quite unusual and weird.</li>
</ul>
          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/12</link>
        <pubDate>Wed, 27 Jul 2022 11:50:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-12</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[TNT_BOM_BOM]]></dc:creator>
        <description><![CDATA[
            <p>Side question:</p>
<p>Why it need to be implemented in both WS and GW if tor and internet are only in GW anyway?</p>
          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/11</link>
        <pubDate>Mon, 25 Jul 2022 16:24:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-11</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[TNT_BOM_BOM]]></dc:creator>
        <description><![CDATA[
            <p>I used this in qubes it works good except it doesnt resume so well if Tor didnt first time worked properly (like there is no connection at first time, or delayed tor run…) specially in GW, but otherwise works ok.</p>
          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/10</link>
        <pubDate>Sat, 23 Jul 2022 21:31:28 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-10</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="TNT_BOM_BOM" data-post="8" data-topic="5372">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.png" class="avatar"> TNT_BOM_BOM:</div>
<blockquote>
<p>Iptables now deprecated and replaced with nftables, better to change to nftables for future support and avoiding issues.</p>
</blockquote>
</aside>
<p><a href="https://phabricator.whonix.org/T509" class="onebox" target="_blank" rel="noopener">https://phabricator.whonix.org/T509</a></p>
          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/9</link>
        <pubDate>Fri, 17 Jun 2022 07:52:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-9</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[TNT_BOM_BOM]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="1" data-topic="5372">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><a href="https://phabricator.whonix.org/T533" rel="noopener nofollow ugc"><code>iptables block network access until #sdwdate succeeded</code> </a>.</p>
</blockquote>
</aside>
<p>Iptables now deprecated and replaced with nftables, better to change to nftables for future support and avoiding issues.</p>
          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/8</link>
        <pubDate>Thu, 16 Jun 2022 17:53:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-8</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Documentation is now here:<br>
<a href="https://www.whonix.org/wiki/Network_Time_Synchronization#Block_Networking_until_sdwdate_Finishes">https://www.whonix.org/wiki/Network_Time_Synchronization#Block_Networking_until_sdwdate_Finishes</a></p>
          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/7</link>
        <pubDate>Sun, 19 Aug 2018 20:11:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-7</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>No. Only templates will be versioned.</p>
<p>Names sys-whonix and anon-whonix stay as is.</p>
<p>Reference:</p>
<ul>
<li><a href="https://github.com/QubesOS/qubes-issues/issues/3765">https://github.com/QubesOS/qubes-issues/issues/3765</a></li>
<li><a href="https://github.com/QubesOS/qubes-mgmt-salt-dom0-virtual-machines/pull/10">https://github.com/QubesOS/qubes-mgmt-salt-dom0-virtual-machines/pull/10</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/6</link>
        <pubDate>Wed, 27 Jun 2018 01:11:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-6</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[troubadour]]></dc:creator>
        <description><![CDATA[
            <p>Which means sys-whonix-14 too ?</p>
          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/5</link>
        <pubDate>Tue, 26 Jun 2018 18:41:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-5</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>That’s great! Yes, please write the instructions for testers!</p>
<aside class="quote no-group" data-post="3" data-topic="5372">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/d9b06d/40.png" class="avatar"> troubadour:</div>
<blockquote>
<p>Will the name of the templates and gateway include version number in Whonix 14 release?</p>
</blockquote>
</aside>
<p>Yes.</p>
<p>whonix-gw-14 and whonix-ws-14</p>
          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/4</link>
        <pubDate>Tue, 26 Jun 2018 02:59:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-4</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[troubadour]]></dc:creator>
        <description><![CDATA[
            <p>There has been some work on <code>sdwdate-gui</code> for Qubes for a while. I was waiting for Whonix 14 to be officially released before calling for testers. Did not update <a href="https://phabricator.whonix.org/T534" rel="nofollow noopener">https://phabricator.whonix.org/T534</a> (lack of time).</p>
<p><a href="https://github.com/troubadoour/sdwdate-gui" rel="nofollow noopener">https://github.com/troubadoour/sdwdate-gui</a></p>
<p>The installation is straightforward for the templates (whonix-gw-14 and whonix-ws-14 for the time being) but some files have to be installed in dom0 too.</p>
<p>I could write some installation instructions for testers, depending on an answer. Will the name of the templates and gateway include version number in Whonix 14 release?</p>
<p>Current status:</p>
<ul>
<li>sys-whonix menu includes <code>Tor status</code> and <code>Tor control panel</code>, providing <a href="https://github.com/troubadoour/tor-control-panel" rel="nofollow noopener">https://github.com/troubadoour/tor-control-panel</a> is installed.</li>
<li>the anon vms menu are the same as old sdwdate-gui.</li>
<li>the anon vms are registered when starting.</li>
<li>the anon vms are unregistered when powered off normally, not when killed.</li>
</ul>
          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/3</link>
        <pubDate>Mon, 25 Jun 2018 21:03:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-3</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
      <item>
        <title>blocking networking until sdwdate finished</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><s>sdwdate-gui is not started by default in <span class="hashtag">#Qubes</span> because <a href="https://phabricator.whonix.org/T534"><code>make sdwdate-gui Qubes friendly</code></a> is not done.</s></p>
<p><s>Once we have that graphical user interface part done and once we have <a href="https://phabricator.whonix.org/T636"><code>enable sdwdate-gui systray by default</code></a> done and a ton of testing we can get a new <span class="hashtag">#anonymity</span> feature:</s></p>
<p><a href="https://phabricator.whonix.org/T533"><code>iptables block network access until #sdwdate succeeded</code></a>.</p>
<p>Instructions for testing:<br>
<a href="https://www.whonix.org/wiki/Network_Time_Synchronization#Block_Networking_until_sdwdate_Finishes" class="inline-onebox">Network Time Synchronization - Whonix</a></p>
          <p><a href="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372/1</link>
        <pubDate>Mon, 25 Jun 2018 03:19:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5372-1</guid>
        <source url="http://forums.whonix.org/t/blocking-networking-until-sdwdate-finished/5372.rss">blocking networking until sdwdate finished</source>
      </item>
  </channel>
</rss>
