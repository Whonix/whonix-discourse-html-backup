<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Building Whonix with --install-to-root [[--bare-metal]] option in a VM - Support - Whonix Forum</title>
    <meta name="description" content="Running Debian Jessie in VM I cloned https://github.com/adrelanos/nothing-to-see and checked out 7.7.3.1. 

I wanted to install on bare metal but it failed early (build script 1700). http://i43.tinypic.com/33x8xf9.jpg 

A&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="28fdb0.html?page=4" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Building Whonix with --install-to-root [[--bare-metal]] option in a VM&#39;" href="28.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/building-whonix-with-install-to-root-bare-metal-option-in-a-vm/28?page=4" />
<meta name="twitter:url" content="https://forums.whonix.org/t/building-whonix-with-install-to-root-bare-metal-option-in-a-vm/28?page=4" />
<meta property="og:title" content="Building Whonix with --install-to-root [[--bare-metal]] option in a VM" />
<meta name="twitter:title" content="Building Whonix with --install-to-root [[--bare-metal]] option in a VM" />
<meta property="og:description" content="Why does the boot fail? What’s the error message?[/quote]  Virtual Box error.  “A critical error has occurred while running the virtual machine and the machine execution has been stopped”.  Have you turned on the pae feature in VirtualBox? No.  Do you use a pae kernel? Yes, the default (686-pae) option.  Do you use wheezy-netinst 32 bit (i386) or 64 bit (amd64)? i386 Can you run these commands please? [code]uname -r[/code] [code]dpkg -l | grep linux-image[/code] [code]uname -r  3.2.0-4-486  dpk..." />
<meta name="twitter:description" content="Why does the boot fail? What’s the error message?[/quote]  Virtual Box error.  “A critical error has occurred while running the virtual machine and the machine execution has been stopped”.  Have you turned on the pae feature in VirtualBox? No.  Do you use a pae kernel? Yes, the default (686-pae) option.  Do you use wheezy-netinst 32 bit (i386) or 64 bit (amd64)? i386 Can you run these commands please? [code]uname -r[/code] [code]dpkg -l | grep linux-image[/code] [code]uname -r  3.2.0-4-486  dpk..." />
<meta property="article:published_time" content="2014-01-22T21:54:19+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="289ba9.html?page=3">
        <link rel="next" href="28af4d.html?page=5">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="28.html">Building Whonix with --install-to-root [[--bare-metal]] option in a VM</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Occq'><span itemprop='name'>Occq</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-22T21:54:19Z' class='post-time'>
                January 22, 2014,  9:54pm
              </time>
              <meta itemprop='dateModified' content='2014-01-22T21:54:19Z'>
          <span itemprop='position'>#61</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="58" data-topic="28">
<div class="title">
<div class="quote-controls"></div>
 adrelanos:</div>
<blockquote>
<p>[quote]1. Boot fails</p>
</blockquote>
</aside>
<p>Why does the boot fail? What’s the error message?[/quote]</p>
<p>Virtual Box error.<br>
“A critical error has occurred while running the virtual machine and the machine execution has been stopped”.</p>
<blockquote>Have you turned on the pae feature in VirtualBox?</blockquote>
<p>No.</p>
<blockquote>Do you use a pae kernel?</blockquote>
<p>Yes, the default (686-pae) option.</p>
<blockquote>Do you use wheezy-netinst 32 bit (i386) or 64 bit (amd64)?</blockquote>
i386
<blockquote>Can you run these commands please?
[code]uname -r[/code]
[code]dpkg -l | grep linux-image[/code]</blockquote>
<p>[code]uname -r<br>
3.2.0-4-486</p>
<p>dpkg -l | grep linux-image</p>
<p>i386<br>
linux-image-3.2.0-4-486		3.2.51-1<br>
linux-image-3.2.0-4-686		3.2.51-1<br>
linux-image-486			3.2+46<br>
linux-image-686-pae		3.2+46<br>
[/code]</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Occq'><span itemprop='name'>Occq</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-22T22:02:00Z' class='post-time'>
                January 22, 2014, 10:02pm
              </time>
              <meta itemprop='dateModified' content='2014-01-22T22:02:00Z'>
          <span itemprop='position'>#62</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>If I choose 3.2.0-4-486 instead of the default 3.2.0-4-686-pae, Whonix boots without a problem.</p>
<p>After turning on PAE (VM/Settings/System/Processor/Enable PAE/NX), the gateway boots normally with the default 696-pae option too! Hooray, a win!</p>
<p>I liked the amount of information that report creation script provided with previous tags. The latest is too much.</p>
<p>I wouldn’t really worry about tags at this point. Only a few people are playing with nothing-to-see but adding that README and perhaps renaming it to playground still sounds like a good idea.</p>
<p>I don’t know what you mean by “bash competition” but git tags in x.x.x.x format are great.</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-22T22:18:11Z' class='post-time'>
                January 22, 2014, 10:18pm
              </time>
              <meta itemprop='dateModified' content='2014-01-22T22:18:11Z'>
          <span itemprop='position'>#63</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>I liked the amount of information that report creation script provided with previous tags.</blockquote>
It wasn't much, because it failed. ;)
<p>The amount of information when it didn’t fail hasn’t considerable increased.</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-22T22:20:42Z' class='post-time'>
                January 22, 2014, 10:20pm
              </time>
              <meta itemprop='dateModified' content='2014-01-22T22:20:42Z'>
          <span itemprop='position'>#64</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>bash-completion:<br>
<a href="../../../external.html?link=http://packages.debian.org/wheezy/bash-completion" class="onebox" target="_blank">http://packages.debian.org/wheezy/bash-completion</a><br>
If you are using this, you don’t have to type “lsb-release” you can type “lsb-” then hit tab once or multiple times until it suggests the command you want. That would also help suggesting git tags so you only have to write a few chars, auto complete the rest.</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-22T22:47:50Z' class='post-time'>
                January 22, 2014, 10:47pm
              </time>
              <meta itemprop='dateModified' content='2014-01-22T22:47:50Z'>
          <span itemprop='position'>#65</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>No more installation of kernels when --bare-metal is in use. Changed in git: <a href="../../../external.html?link=https://github.com/Whonix/Whonix/commit/7dabfd4e1325c7947dd1dc14eed8fb269d1608cf">https://github.com/Whonix/Whonix/commit/7dabfd4e1325c7947dd1dc14eed8fb269d1608cf</a> - No tag yet.</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-22T22:53:16Z' class='post-time'>
                January 22, 2014, 10:53pm
              </time>
              <meta itemprop='dateModified' content='2014-01-22T22:53:16Z'>
          <span itemprop='position'>#66</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>I wouldn't really worry about tags at this point. Only a few people are playing with nothing-to-see</blockquote>
It's not just about nothing-to-see repository. Also about adrelanos/Whonix and Whonix/Whonix. Users are trying to build 7.7.2 and then try to build physically isolated machine or VM images, even though that tag doesn't support that.
<p>And every forum post, every mail creates overhead. To support so many things, documentation has to be bulletproof. And anything can go wrong, will go wrong. Therefore everything must be self-explanatory, non-ambiguous, obvious, you name it.</p>
<blockquote>but adding that README and perhaps renaming it to playground still sounds like a good idea.</blockquote>
Good idea. Having a separate README requires this to be a git fork. Cumbersome but probably still doable.
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Occq'><span itemprop='name'>Occq</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-26T15:47:53Z' class='post-time'>
                January 26, 2014,  3:47pm
              </time>
              <meta itemprop='dateModified' content='2014-01-26T15:47:53Z'>
          <span itemprop='position'>#67</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>What are the differences in the use of different git repositories?</p>
<p>Whonix/Whonix<br>
adrelanos/Whonix<br>
adrelanos/nothing-to-see</p>
<p>I did some more thinking and now think that a short description of a git tag would be really useful. “7.7.4.8-developers-only-virtualbox-vm-images” and “8-stable” are good examples.</p>
<p>A bit of typing never hurt <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p>[quote=“Occq, post:57, topic:28”]I wouldn’t worry about sense too much, adding -VM to the command seems fine and personally “–install-to-root-folder” would confuse me a lot more. Regarding commands, maybe all can have the same root and syntax?</p>
<p>Now:</p>
<p><code>sudo ~/Whonix/whonix_build --build --tor-gateway
sudo ~/Whonix/whonix_build --build --tor-workstation
sudo ./whonix_build --tor-gateway --bare-metal --build</code></p>
<p>Suggestion:</p>
<p><code>sudo ./whonix_build --build --tor-gateway
sudo ./whonix_build --build --tor-workstation
sudo ./whonix_build --build --tor-gateway --bare-metal
sudo ./whonix_build --build --tor-gateway --bare-metal-VM</code></p>
<p>Or even</p>
<p><code>sudo ./whonix_build --tor-gateway
sudo ./whonix_build --tor-workstation
sudo ./whonix_build --tor-gateway --bare-metal
sudo ./whonix_build --tor-gateway --bare-metal-VM</code></p>
<p>I think ~/Whonix part can be dropped because we need to be in the directory to do git tag and git checkout anyway (unless using git -c but that is different story) and having the same command sequence seems better to me.[/quote]</p>
<p>What do you think about this?</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-26T17:18:37Z' class='post-time'>
                January 26, 2014,  5:18pm
              </time>
              <meta itemprop='dateModified' content='2014-01-26T17:18:37Z'>
          <span itemprop='position'>#68</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>What are the differences in the use of different git repositories?</blockquote>
Different freshness and git tags.
<p>The plan is the following…</p>
<blockquote>Whonix/Whonix</blockquote>
The project's repository. Multiple people have write access. Ideally the latest and greatest changes are always merged here. Only stable git tags.
<blockquote>adrelanos/Whonix</blockquote>
My personal repository which too many people are watching. Only I have write access. Should I be unable to push code to Whonix/Whonix due merge required, I can at least backup my code at adrelanos/Whonix. Stable and testers-only git tags.
<blockquote>adrelanos/nothing-to-see</blockquote>
Personal repository. Not necessarily up to date. Only use it for tests. My personal repository and just people with a developers mindset. Testers, stable, testers-only and developers-only git tags.
<p>With git you can easily fetch from multiple repositories at once.</p>
<p>For the purpose of this thread, adrelanos/nothing-to-see alone will do.</p>
<blockquote>What do you think about this?</blockquote>
"~/Whonix/whonix_build" -&gt; "./whonix_build" makes sense.
<p>“–bare-metal-VM” is a contradiction. It’s either bare metal or virtual machine.</p>
<p>The build script doesn’t care either way. It only needs to know if it should (create an image) and install into an image to install directly on the system it’s running on. “–bare-metal” made sense as long no one came up with the idea to run “–bare-metal” in a VM. It still makes sense for physical isolation users.</p>
<p>I think also the optional build configurations are still too difficult. Maybe not difficult, but inconvenient. Perhaps supporting more command line options would be better.</p>
<p>At the moment we have instructions for:</p>
<ul>
<li>creating VirtualBox VM images</li>
<li>creating physically isolated machines</li>
</ul>
<p>Soon we may have instructions for:</p>
<ul>
<li>creating qcow images which can be used in KVM</li>
<li>manually (or by script?) creating a VirtualBox VM and running the build script inside the VM</li>
</ul>
<p>I am not sure how to name the options. Maybe</p>
<p>–target vbox-vm<br>
–target kvm-vm<br>
–target root</p>
<p>Or something like that?</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Occq'><span itemprop='name'>Occq</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-30T19:19:06Z' class='post-time'>
                January 30, 2014,  7:19pm
              </time>
              <meta itemprop='dateModified' content='2014-01-30T19:19:06Z'>
          <span itemprop='position'>#69</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks for the explanation of the repositories. Having two repositories is an elegant solution for my script (hardcoded git tag/git checkout for stable, whonix/whonix).</p>
<p>[quote=“adrelanos, post:68, topic:28”]"–bare-metal-VM" is a contradiction. It’s either bare metal or virtual machine.</p>
<p>The build script doesn’t care either way. It only needs to know if it should (create an image) and install into an image to install directly on the system it’s running on. “–bare-metal” made sense as long no one came up with the idea to run “–bare-metal” in a VM. It still makes sense for physical isolation users.[/quote]</p>
<p>Maybe this.</p>
<pre><code class="lang-auto"></code></pre>
<p>[quote=“adrelanos, post:68, topic:28”]Soon we may have instructions for:</p>
<ul>
<li>manually (or by script?) creating a VirtualBox VM and running the build script inside the VM[/quote]</li>
</ul>
<p>I was thinking about posting both manual and script guides along with the release of Whonix 8 (or the next stable Wheezy release) since switching between testing and stable is messy (slightly different preseed configs, git version and backport sources, etc).</p>
<p>Is there a working 7.x.x release based on Wheezy that already supports building gateway and workstation images?<br>
For bare-metal I should use 7.7.4.8?  I’m not sure when the PAE fix was incorporated.</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-31T01:12:55Z' class='post-time'>
                January 31, 2014,  1:12am
              </time>
              <meta itemprop='dateModified' content='2014-01-31T01:12:55Z'>
          <span itemprop='position'>#70</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Making either --bare-metal or --vm-install mandatory is fine.</p>
<p>“–VM-install” - it’s not really an installation. It’s the creation of a vm image. On the system nothing is installing (besides build dependencies).</p>
<blockquote>Is there a working 7.x.x release based on Wheezy that already supports building gateway and workstation images?</blockquote>
There is 7.7.6.4 based on Debian stable. (Build on stable Debian, create stable Debian.) 7.7.6.4 will eventually become Whonix 8. I'll upload a test release soon and you're invited to build it as well.
<blockquote>For bare-metal I should use 7.7.4.8?</blockquote>
<p>Please try 7.7.6.4.</p>
<blockquote>I'm not sure when the PAE fix was incorporated.</blockquote>
PAE fix? There was no such bug? I don't think there can be a fix. If you're not using what I maintain, i.e. using --bare-metal on real bare metal or creating VirtualBox.ova's, there is no need for a PAE fix. With your method of what we currently call "using --bare-metal in a VM", you're always yourself responsible for creating the VirtualBox settings on the host.
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Occq'><span itemprop='name'>Occq</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-31T13:52:42Z' class='post-time'>
                January 31, 2014,  1:52pm
              </time>
              <meta itemprop='dateModified' content='2014-01-31T13:52:42Z'>
          <span itemprop='position'>#71</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“adrelanos, post:70, topic:28”]Making either --bare-metal or --vm-install mandatory is fine.</p>
<p>“–VM-install” - it’s not really an installation. It’s the creation of a vm image. On the system nothing is installing (besides build dependencies).[/quote]</p>
<p>VB-install then? “This option install Whonix gateway on a guest OS running inside VirtualBox”.</p>
<blockquote>PAE fix? There was no such bug? I don't think there can be a fix. If you're not using what I maintain, i.e. using --bare-metal on real bare metal or creating VirtualBox.ova's, there is no need for a PAE fix. With your method of what we currently call "using --bare-metal in a VM", you're always yourself responsible for creating the VirtualBox settings on the host.</blockquote>
<p>I was talking about this. It works now anyway.</p>
<aside class="quote" data-post="65" data-topic="28">
<div class="title">
<div class="quote-controls"></div>
 adrelanos:</div>
<blockquote>
<p>No more installation of kernels when --bare-metal is in use. Changed in git: <a href="../../../external.html?link=https://github.com/Whonix/Whonix/commit/7dabfd4e1325c7947dd1dc14eed8fb269d1608cf" rel="nofollow noopener">https://github.com/Whonix/Whonix/commit/7dabfd4e1325c7947dd1dc14eed8fb269d1608cf</a> - No tag yet.</p>
</blockquote>
</aside>
<p>Debian 7.3 stable in a VM (no PAE enabled)<br>
git tag 7.7.6.4<br>
Bare metal in a VM</p>
<pre><code class="lang-auto"></code></pre>
<p>Successful build.</p>
<pre><code class="lang-auto">+ sha512sum /home/user/whonix_binary/Whonix-Gateway-7.7.6.4_report_tempfolder/auto_hash_folder/file_list
+ parse_endcomment
+ trap error_handler ERR INT TERM
+ '[' 'INFO: End.' = '' ']'
+ endcomment='################################################################################
INFO: End.'
+ echo '################################################################################
INFO: End.'
+ end
+ trap error_handler ERR INT TERM
+ unmount_image
+ '[' 1 = 1 ']'
+ true 'INFO: Skipping unmount_image, because BARE_METAL is 1. '
+ return 0
+ true 'INFO: End. No error detected. '
+ true 'INFO: End of: ./build-steps.d/2800_create-report No error detected.'
+ '[' '' = 1 ']'
+ true 'INFO ./nothing-to-see/whonix_build: Done. No error caught. '</code></pre>
<p>During the install there is the microcode warning again but the system started anyway. With no PAE enabled, there are only two 486 options in the GRUB menu. Not complaining or anything, just reporting back.<br>
<a href="../../../external.html?link=http://tinypic.com/view.php?pic=t5rtza&amp;s=5" class="onebox" target="_blank" rel="nofollow noopener">http://tinypic.com/view.php?pic=t5rtza&amp;s=5</a></p>
<p>The “first run initializer” (I don’t remember the name) took about 10 minutes but then I impatiently Ctrl-C and it moved forward. Probably nothing, but saying it for the sake of completeness.</p>
<p>I will try to build images next.</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-01-31T14:51:49Z' class='post-time'>
                January 31, 2014,  2:51pm
              </time>
              <meta itemprop='dateModified' content='2014-01-31T14:51:49Z'>
          <span itemprop='position'>#72</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>No more installation of kernels when --bare-metal is in use.</blockquote>
This is included.
<blockquote>tinypic.com/view.php?pic=t5rtza&amp;s=5</blockquote>
This should be analyzed further. It seems it happens with Debian stable inside VirtualBox without Whonix being involved. I don't know the implications. Perhaps I never seen it myself because I didn't run a full --bare-metal build with log redirection (&gt;&gt;) myself yet. And otherwise the error doesn't break the build, so is very easily overlooked. It may happen when the build script runs update-grub or similar. My hypothesis is, that grub doesn't report any error and doesn't log it to stdout or stderr, but the kernel itself then asynchronously (non-blocking) writes to stdout/stderr.
<blockquote>The "first run initializer" (I don't remember the name) took about 10 minutes but then I impatiently Ctrl-C and it moved forward. Probably nothing, but saying it for the sake of completeness.</blockquote>
First Run Initializer is the correct name. Interrupting it is a really bad idea. It may result in a broken apt-get. Some strange bugs may occur later such as not being able to install packages. (Try installing gimp as test.)
<p>You can see the log /home/user/.whonix/first_run_initializer.log to see what command it runs. The script that’s running is /usr/lib/whonix/first_run_initializer. You can look at it. Just 6 commands.</p>
<p>Thank you for being honest. I’ll revise the user output to make it more communicative what is happening in background. Can’t effort any bug reports due to premature interruption of First Run Initializer. And I’ll also add a test for whonxicheck to see if the /home/user/.whonix/first_run_initializer.log.done file exists.</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Occq'><span itemprop='name'>Occq</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-02-01T13:09:28Z' class='post-time'>
                February 1, 2014,  1:09pm
              </time>
              <meta itemprop='dateModified' content='2014-02-01T13:09:28Z'>
          <span itemprop='position'>#73</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Debian 7.3 stable in a new VM (no PAE enabled)<br>
git tag 7.7.6.4<br>
Building workstation VM image</p>
<pre><code class="lang-auto">sudo ./nothing-to-see/whonix_build --build --tor-workstation &gt;&gt; /home/user/log-workstation 2&gt;&gt; /home/user/log-workstation</code></pre>
<p>Build failed at 2000.</p>
<p>Despite redirecting all output to the log, this error message still appeared in the main window.<br>
          <a href="../../../external.gif?link=http://tinypic.com/images/goodbye.jpg" target="_blank" rel="nofollow noopener" class="onebox">
            <img src="../../../external.gif?link=http://tinypic.com/images/goodbye.jpg" width="300" height="300">
          </a>
</p>
<p>Log 2000</p>
<pre><code class="lang-auto">+ true 'INFO: End of: ./build-steps.d/1900_run-chroot-scripts-pre-d No error detected.'
run-parts: executing ./build-steps.d/2000_install-files-packages
+ true 'Currently running script: ./build-steps.d/2000_install-files-packages '
+ TEMP_SCRIPTNAME=./build-steps.d/2000_install-files-packages
+++ dirname ./build-steps.d/2000_install-files-packages
++ cd ./build-steps.d
++ pwd
+ MYDIR=/home/user/nothing-to-see/build-steps.d
+ cd /home/user/nothing-to-see/build-steps.d
+ cd ..
+ cd help-steps
+ source pre
++ set +x
+ source variables
++ set +x
INFO: Setting... export UWT_DEV_PASSTHROUGH="1"
whonix_build_new_changelog_version: 2:7.7.6.4-debpackage1
+ true 'INFO: Currently running script: ./build-steps.d/2000_install-files-packages '
+ install-files-packages
+ trap error_handler_unchroot_unprevent_unmount ERR INT TERM
+ '[' 1 = 1 ']'
+ '[' '!' -f /home/user/whonix_binary/gpg-local-signing-key/done ']'
+ sync
+ /home/user/nothing-to-see/help-steps/mount-img
+++ dirname /home/user/nothing-to-see/help-steps/mount-img
++ cd /home/user/nothing-to-see/help-steps
++ pwd
+ MYDIR=/home/user/nothing-to-see/help-steps
+ source /home/user/nothing-to-see/help-steps/pre
++ set +x
+ source /home/user/nothing-to-see/help-steps/variables
++ set +x
INFO: Setting... export UWT_DEV_PASSTHROUGH="1"
whonix_build_new_changelog_version: 2:7.7.6.4-debpackage1
+ '[' 0 = 1 ']'
+ true 'INFO: Currently running script: /home/user/nothing-to-see/help-steps/mount-img '
+ mount_img
+ trap error_handler_mount-img ERR INT TERM
+ sync
+ '[' '' = '' ']'
+ local img=/home/user/whonix_binary/Whonix-Workstation.img
+ kpartx -av /home/user/whonix_binary/Whonix-Workstation.img
add map loop0p1 (254:0): 0 209711104 linear /dev/loop0 4096
+ sync
+ mkdir --parents /home/user/whonix_binary/Whonix-Workstation_image
+ sync
+ mount /dev/mapper/loop0p1 /home/user/whonix_binary/Whonix-Workstation_image
+ sync
+ true 'INFO: End of: /home/user/nothing-to-see/help-steps/mount-img No error detected.'
+ /home/user/nothing-to-see/help-steps/prevent-daemons-from-starting
+++ dirname /home/user/nothing-to-see/help-steps/prevent-daemons-from-starting
++ cd /home/user/nothing-to-see/help-steps
++ pwd
+ MYDIR=/home/user/nothing-to-see/help-steps
+ source /home/user/nothing-to-see/help-steps/pre
++ set +x
+ source /home/user/nothing-to-see/help-steps/variables
++ set +x
INFO: Setting... export UWT_DEV_PASSTHROUGH="1"
whonix_build_new_changelog_version: 2:7.7.6.4-debpackage1
+ true 'INFO: Currently running script: /home/user/nothing-to-see/help-steps/prevent-daemons-from-starting '
+ prevent_daemons_from_starting
+ trap error_handler_prevent_daemons_from_starting ERR INT TERM
+ sync
+ echo 'chroot-img: copy policy-rc.d into /usr/sbin/ to prevent daemons from starting.'
chroot-img: copy policy-rc.d into /usr/sbin/ to prevent daemons from starting.
+ cp --preserve --verbose /home/user/nothing-to-see/whonix_shared/usr/share/whonix/policy-rc.d /home/user/whonix_binary/Whonix-Workstation_image/usr/sbin/policy-rc.d
`/home/user/nothing-to-see/whonix_shared/usr/share/whonix/policy-rc.d' -&gt; `/home/user/whonix_binary/Whonix-Workstation_image/usr/sbin/policy-rc.d'
+ sync
+ true 'INFO: End of: /home/user/nothing-to-see/help-steps/prevent-daemons-from-starting No error detected.'
+ export WHONIX_CHROOT_MOUNT_RESOLV_CONF=0
+ WHONIX_CHROOT_MOUNT_RESOLV_CONF=0
+ /home/user/nothing-to-see/help-steps/chroot-img
+++ dirname /home/user/nothing-to-see/help-steps/chroot-img
++ cd /home/user/nothing-to-see/help-steps
++ pwd
+ MYDIR=/home/user/nothing-to-see/help-steps
+ source /home/user/nothing-to-see/help-steps/pre
++ set +x
+ source /home/user/nothing-to-see/help-steps/variables
++ set +x
INFO: Setting... export UWT_DEV_PASSTHROUGH="1"
whonix_build_new_changelog_version: 2:7.7.6.4-debpackage1
+ true 'INFO: Currently running script: /home/user/nothing-to-see/help-steps/chroot-img '
+ chroot-img
+ trap error_handler_chroot-img ERR INT TERM
+ sync
+ '[' 0 = 1 ']'
+ mount --bind /dev /home/user/whonix_binary/Whonix-Workstation_image/dev
+ mount --bind /proc /home/user/whonix_binary/Whonix-Workstation_image/proc
+ '[' 0 = 0 ']'
+ true 'INFO /home/user/nothing-to-see/help-steps/chroot-img: Not mounting /etc/resolv.conf inside chroot, because WHONIX_CHROOT_MOUNT_RESOLV_CONF is 0.'
+ sync
+ true 'INFO: End of: /home/user/nothing-to-see/help-steps/chroot-img No error detected.'
+ unset WHONIX_CHROOT_MOUNT_RESOLV_CONF
+ sync
+ chroot /home/user/whonix_binary/Whonix-Workstation_image update-grub -v
grub-mkconfig (GRUB) 1.99-27+deb7u2
+ chroot /home/user/whonix_binary/Whonix-Workstation_image sync
+ sync
+ /home/user/nothing-to-see/help-steps/create-local-temp-apt-repo
+++ dirname /home/user/nothing-to-see/help-steps/create-local-temp-apt-repo
++ cd /home/user/nothing-to-see/help-steps
++ pwd
+ MYDIR=/home/user/nothing-to-see/help-steps
+ source /home/user/nothing-to-see/help-steps/pre
++ set +x
+ source /home/user/nothing-to-see/help-steps/variables
++ set +x
INFO: Setting... export UWT_DEV_PASSTHROUGH="1"
whonix_build_new_changelog_version: 2:7.7.6.4-debpackage1
+ true 'INFO: Currently running script: /home/user/nothing-to-see/help-steps/create-local-temp-apt-repo '
+ create_local_temp_apt_repo
+ trap error_handler_general ERR INT TERM
+ gpg --no-default-keyring --homedir /home/user/whonix_binary/gpg-local-signing-key --export whonix@local-signing.key
+ gpg --no-default-keyring --keyring /home/user/whonix_binary/Whonix-Workstation_image/etc/apt/trusted.gpg.d/whonix-temporary-local-apt-repository.gpg --import
gpg: WARNING: unsafe ownership on homedir `/home/user/whonix_binary/gpg-local-signing-key'
gpg: keyring `/home/user/whonix_binary/Whonix-Workstation_image/etc/apt/trusted.gpg.d/whonix-temporary-local-apt-repository.gpg' created
gpg: key A7B24660: public key "Whonix auto generated local APT signing key &lt;whonix@local-signing.key&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)
+ gpg --no-default-keyring --keyring /home/user/whonix_binary/Whonix-Workstation_image/etc/apt/trusted.gpg.d/whonix-temporary-local-apt-repository.gpg --keyid-format 0xlong --fingerprint
/home/user/whonix_binary/Whonix-Workstation_image/etc/apt/trusted.gpg.d/whonix-temporary-local-apt-repository.gpg
-----------------------------------------------------------------------------------------------------------------
pub   4096R/0x172E112FA7B24660 2014-01-31
      Key fingerprint = C386 CE95 F6C8 6454 298C  A710 172E 112F A7B2 4660
uid                            Whonix auto generated local APT signing key &lt;whonix@local-signing.key&gt;
sub   4096R/0x682CED038AF1DF22 2014-01-31

+ mkdir --parents /home/user/whonix_binary/Whonix-Workstation_image//mnt/initialdeb
+ mkdir --parents /home/user/whonix_binary/Whonix-Workstation_image//tmp/empty
+ mkdir --parents /home/user/whonix_binary/Whonix-Workstation_image//var/lib/whonix/sources_temp_list.d
+ mount --bind /home/user/whonix_binary/aptrepo_local /home/user/whonix_binary/Whonix-Workstation_image//mnt/initialdeb
+ echo 'deb file:/mnt/initialdeb/ local main'
+ '[' '' = 1 ']'
+ cp /home/user/nothing-to-see/whonix_shared/usr/share/whonix/build_sources/debian_stable_frozen.list /home/user/whonix_binary/Whonix-Workstation_image//var/lib/whonix/sources_temp_list.d/build_sources.list
+ sync
+ ls -la /home/user/whonix_binary/Whonix-Workstation_image//mnt/initialdeb
total 20
drwxr-xr-x 5 user user 4096 Jan 31 10:17 .
drwxr-xr-x 3 root root 4096 Jan 31 10:33 ..
drwxr-xr-x 2 user user 4096 Jan 31 10:18 db
drwxr-xr-x 3 user user 4096 Jan 31 10:17 dists
drwxr-xr-x 3 user user 4096 Jan 31 10:17 pool
+ ls -la /home/user/whonix_binary/Whonix-Workstation_image//var/lib/whonix/sources_temp_list.d
total 16
drwxr-xr-x 2 root root 4096 Jan 31 11:18 .
drwxr-xr-x 5 root root 4096 Jan 31 11:18 ..
-rw-r--r-- 1 root root 1192 Jan 31 11:18 build_sources.list
-rw-r--r-- 1 root root   37 Jan 31 11:18 whonix_temp_initialdeb.list
+ '[' '' = 1 ']'
+ cat /home/user/whonix_binary/Whonix-Workstation_image//var/lib/whonix/sources_temp_list.d/build_sources.list
## This file is part of Whonix.
## Copyright (C) 2012 - 2014 Patrick Schleizer &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

## NOTE:
## If you make changes here, do not forget to update
## whonix_build_grml_sources_list in buildconfig.d/30_apt as well.

## Using http://snapshot.debian.org/ to create verifiable builds.
##
## 1. Go to for example:
##    - http://snapshot.debian.org/archive/debian-security/
##    - http://snapshot.debian.org/archive/debian/
## 2. Then for example click on 2013 09
##    - http://snapshot.debian.org/archive/debian-security/?year=2013&amp;month=10
##    - http://snapshot.debian.org/archive/debian/?year=2013&amp;month=10
## 3. Scroll down and for example click on 2013-09-19 21:48:59
##    - http://snapshot.debian.org/archive/debian-security/20130919T215514Z/
##    - http://snapshot.debian.org/archive/debian/20130919T214859Z/
## 4. See note above!
##    - See note above!
##    - See note above!
deb http://snapshot.debian.org/archive/debian-security/20140117T195156Z/ stable/updates main
deb http://snapshot.debian.org/archive/debian/20140118T220430Z/ stable main

## We currently do not need any source packages for building Whonix.
+ cat /home/user/whonix_binary/Whonix-Workstation_image//var/lib/whonix/sources_temp_list.d/whonix_temp_initialdeb.list
deb file:/mnt/initialdeb/ local main
+ true 'INFO: End of: /home/user/nothing-to-see/help-steps/create-local-temp-apt-repo No error detected.'
+ chroot /home/user/whonix_binary/Whonix-Workstation_image apt-key finger
/etc/apt/trusted.gpg.d//debian-archive-squeeze-automatic.gpg
------------------------------------------------------------
pub   4096R/473041FA 2010-08-27 [expires: 2018-03-05]
      Key fingerprint = 9FED 2BCB DCD2 9CDF 7626  78CB AED4 B06F 4730 41FA
uid                  Debian Archive Automatic Signing Key (6.0/squeeze) &lt;ftpmaster@debian.org&gt;

/etc/apt/trusted.gpg.d//debian-archive-squeeze-stable.gpg
---------------------------------------------------------
pub   4096R/B98321F9 2010-08-07 [expires: 2017-08-05]
      Key fingerprint = 0E4E DE2C 7F3E 1FC0 D033  800E 6448 1591 B983 21F9
uid                  Squeeze Stable Release Key &lt;debian-release@lists.debian.org&gt;

/etc/apt/trusted.gpg.d//debian-archive-wheezy-automatic.gpg
-----------------------------------------------------------
pub   4096R/46925553 2012-04-27 [expires: 2020-04-25]
      Key fingerprint = A1BD 8E9D 78F7 FE5C 3E65  D8AF 8B48 AD62 4692 5553
uid                  Debian Archive Automatic Signing Key (7.0/wheezy) &lt;ftpmaster@debian.org&gt;

/etc/apt/trusted.gpg.d//debian-archive-wheezy-stable.gpg
--------------------------------------------------------
pub   4096R/65FFB764 2012-05-08 [expires: 2019-05-07]
      Key fingerprint = ED6D 6527 1AAC F0FF 15D1  2303 6FB2 A1C2 65FF B764
uid                  Wheezy Stable Release Key &lt;debian-release@lists.debian.org&gt;

/etc/apt/trusted.gpg.d//whonix-temporary-local-apt-repository.gpg
-----------------------------------------------------------------
pub   4096R/A7B24660 2014-01-31
      Key fingerprint = C386 CE95 F6C8 6454 298C  A710 172E 112F A7B2 4660
uid                  Whonix auto generated local APT signing key &lt;whonix@local-signing.key&gt;
sub   4096R/8AF1DF22 2014-01-31

+ maybe_enable_apt_cache
+ trap error_handler_general ERR INT TERM
+ '[' -f /usr/share/whonix/whonix_gateway ']'
+ '[' '' = '' ']'
+ echo 'INFO: Setting, export http_proxy="http://127.0.0.1:3142"'
INFO: Setting, export http_proxy="http://127.0.0.1:3142"
+ export http_proxy=http://127.0.0.1:3142
+ http_proxy=http://127.0.0.1:3142
+ sync
+ sync
+ chroot /home/user/whonix_binary/Whonix-Workstation_image apt-get -o Dir::Etc::sourcelist=/tmp/empty -o Dir::Etc::sourceparts=/var/lib/whonix/sources_temp_list.d -o Acquire::http::Timeout=180 -o Acquire::ftp::Timeout=180 -o Acquire::Retries=3 --yes --no-install-recommends install whonix-shared-files
Reading package lists...
Building dependency tree...
Reading state information...
The following NEW packages will be installed:
  whonix-shared-files
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 0 B/668 kB of archives.
After this operation, 2,484 kB of additional disk space will be used.
Can not write log, openpty() failed (/dev/pts not mounted?)
Selecting previously unselected package whonix-shared-files.
(Reading database ... 53278 files and directories currently installed.)
Unpacking whonix-shared-files (from .../whonix-shared-files_7.7.6.4-debpackage1_all.deb) ...
/var/lib/dpkg/tmp.ci/preinst: line 7: /usr/share/whonix/postinst.d/pre.bsh: No such file or directory
Processing triggers for man-db ...
Can not write log, openpty() failed (/dev/pts not mounted?)
Setting up whonix-shared-files (2:7.7.6.4-debpackage1) ...
++ OUT_CMD_WHONIX_SCRIPT=true
++ trap error_handler ERR
+++ basename /var/lib/dpkg/info/whonix-shared-files.postinst
++ own_filename=whonix-shared-files.postinst
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 70_torbrowser = whonix-shared-files.postinst ']'
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 71_install_amd64_kernel = whonix-shared-files.postinst ']'
++ unset skip_script
+ set -e
+ true '
####################################################################
## INFO: Begin postinst script whonix-shared-files...
####################################################################
'
+ true 'INFO: Opts: configure' ''
++ env
+ env_var='whonix_build_old_changelog_version=2:7.7.6.4-debpackage1
WHONIX_BINARY=/home/user/whonix_binary
HOMEVAR=/home/user
DEB_INSTALL_FOLDER=/mnt/initialdeb
SHELL=/bin/bash
TERM=linux
DEBUILD_LINTIAN_OPTS=-i -I --show-overrides
VMNAME=Whonix-Workstation
BARE_METAL=0
WHONIX_DEB_DEBUG=1
WHONIX_SOURCE_FOLDER=/home/user/nothing-to-see
WHONIX_BUILD_USE_AUTO_LOCAL_SIGNING_KEY=1
WHONIX_BUILD_MAIN_SCRIPT_STARTED=1
whonix_build_whonix_version_new=7.7.6.4
USER=root
http_proxy=http://127.0.0.1:3142
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lz=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.axa=00;36:*.oga=00;36:*.spx=00;36:*.xspf=00;36:
WHONIX_SOURCE_HELP_STEPS_FOLDER=/home/user/nothing-to-see/help-steps
DPKG_MAINTSCRIPT_NAME=postinst
SUDO_USER=user
DEBEMAIL=whonix@local-signing.key
SUDO_UID=1000
user_name=user
USERNAME=root
WHONIX_SOURCE_PARENTDIR=/home/user
UWT_DEV_PASSTHROUGH=1
vmname_lowercase_long_option=--tor-workstation
WHONIX_BUILD_BUILD=1
MAIL=/var/mail/root
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
DPKG_MAINTSCRIPT_ARCH=all
PWD=/
LANG=en_US.UTF-8
WHONIX_BUILD_WORKSTATION=1
EMPTY_DIR=/tmp/empty
CHROOT_FOLDER=/home/user/whonix_binary/Whonix-Workstation_image
SHLVL=3
SUDO_COMMAND=./nothing-to-see/whonix_build --build --tor-workstation
HOME=/root
apt_timeout_opts= -o Acquire::http::Timeout=180  -o Acquire::ftp::Timeout=180  -o Acquire::Retries=3 
WHONIX_BUILD_UPGRADE_BUILD_MACHINE=0
WHONIX_BUILD_UNATTENDED_PKG_INSTALL=1
apt_sourceparts= -o Dir::Etc::sourceparts=/var/lib/whonix/sources_temp_list.d 
WHONIX_TARGET_ARCH=i386
DPKG_RUNNING_VERSION=1.16.12
DPKG_ADMINDIR=/var/lib/dpkg
LOGNAME=root
WHONIX_BUILD_PARSED=1
apt_verify_opts= -o Acquire::Check-Valid-Until=false 
WHONIX_LOCAL_SIGNING_KEY_FOLDER=/home/user/whonix_binary/gpg-local-signing-key
DEBIAN_FRONTEND=noninteractive
DEBFULLNAME=Whonix auto generated local APT signing key
WHONIX_BUILD_REPREPRO_FOLDER_OPTIONS=         --gnupghome /home/user/whonix_binary/gpg-local-signing-key          --basedir /home/user/nothing-to-see/aptrepo_local          --outdir /home/user/whonix_binary/aptrepo_local          --dbdir /home/user/whonix_binary/aptrepo_local/db          --logdir /home/user/whonix_binary/aptrepo_local/log 
VMRAM=768
WHONIX_BUILD_APT_CODENAME=local
SUDO_GID=1000
DPKG_NO_TSTP=yes
apt_sourcelist_empty= -o Dir::Etc::sourcelist=/tmp/empty 
DPKG_MAINTSCRIPT_PACKAGE=whonix-shared-files
WHONIX_BUILD_SKIP_SCRIPTS= 70_torbrowser  71_install_amd64_kernel 
WHONIX_APT_REPOSITORY_FOLDER=/home/user/whonix_binary/aptrepo_local
_=/usr/bin/env'
+ true 'Resetting LD_PRELOAD to get rid of libtorsocks (added by apt-get uwt wrapper).'
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ case "$1" in
+ '[' -x /etc/init.d/bootclockrandomization ']'
+ update-rc.d bootclockrandomization defaults
+ true 'INFO: debhelper beginning here.'
+ '[' -x /etc/init.d/whonixcheckd ']'
+ update-rc.d whonixcheckd defaults
+ invoke-rc.d whonixcheckd start
invoke-rc.d: policy-rc.d denied execution of start.
+ '[' -x /etc/init.d/bootclockrandomization ']'
+ update-rc.d bootclockrandomization defaults
+ invoke-rc.d bootclockrandomization start
invoke-rc.d: policy-rc.d denied execution of start.
+ '[' -x /etc/init.d/sdwdate ']'
+ update-rc.d sdwdate defaults
+ invoke-rc.d sdwdate start
invoke-rc.d: policy-rc.d denied execution of start.
+ '[' -x /etc/init.d/backgroundd ']'
+ update-rc.d backgroundd defaults
+ invoke-rc.d backgroundd start
invoke-rc.d: policy-rc.d denied execution of start.
+ '[' -x /etc/init.d/msgcollector ']'
+ update-rc.d msgcollector defaults
+ invoke-rc.d msgcollector start
invoke-rc.d: policy-rc.d denied execution of start.
+ '[' -x /etc/init.d/timesanitycheck ']'
+ update-rc.d timesanitycheck defaults
+ invoke-rc.d timesanitycheck start
invoke-rc.d: policy-rc.d denied execution of start.
+ '[' -x /etc/init.d/timesyncd ']'
+ update-rc.d timesyncd defaults
+ invoke-rc.d timesyncd start
invoke-rc.d: policy-rc.d denied execution of start.
+ package=whonix-shared-files
+ ours=.whonix
+ theirs=.whonix-orig
+ '[' configure = configure ']'
+ displace_link /etc/apt/sources.list
+ prefix=/etc/apt/sources.list
+ suffix=
+ file=/etc/apt/sources.list
+ ourfile=/etc/apt/sources.list.whonix
+ theirfile=/etc/apt/sources.list.whonix-orig
+ displace_link_displace /etc/apt/sources.list /etc/apt/sources.list.whonix /etc/apt/sources.list.whonix-orig
+ file=/etc/apt/sources.list
+ ourfile=/etc/apt/sources.list.whonix
+ theirfile=/etc/apt/sources.list.whonix-orig
+ grep -xFq 'diversion of /etc/apt/sources.list to /etc/apt/sources.list.whonix-orig by whonix-shared-files'
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ dpkg-divert --divert /etc/apt/sources.list.whonix-orig --rename --package whonix-shared-files --add /etc/apt/sources.list
Adding 'diversion of /etc/apt/sources.list to /etc/apt/sources.list.whonix-orig by whonix-shared-files'
+ displace_link_symlink /etc/apt/sources.list /etc/apt/sources.list.whonix /etc/apt/sources.list.whonix-orig
+ file=/etc/apt/sources.list
+ ourfile=/etc/apt/sources.list.whonix
+ theirfile=/etc/apt/sources.list.whonix-orig
+ '[' '!' -L /etc/apt/sources.list ']'
+ '[' '!' -e /etc/apt/sources.list ']'
++ basename /etc/apt/sources.list.whonix
+ ln -s sources.list.whonix /etc/apt/sources.list
+ displace_link /etc/apparmor.d/local/system_tor
+ prefix=/etc/apparmor.d/local/system_tor
+ suffix=
+ file=/etc/apparmor.d/local/system_tor
+ ourfile=/etc/apparmor.d/local/system_tor.whonix
+ theirfile=/etc/apparmor.d/local/system_tor.whonix-orig
+ displace_link_displace /etc/apparmor.d/local/system_tor /etc/apparmor.d/local/system_tor.whonix /etc/apparmor.d/local/system_tor.whonix-orig
+ file=/etc/apparmor.d/local/system_tor
+ ourfile=/etc/apparmor.d/local/system_tor.whonix
+ theirfile=/etc/apparmor.d/local/system_tor.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /etc/apparmor.d/local/system_tor to /etc/apparmor.d/local/system_tor.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /etc/apparmor.d/local/system_tor.whonix-orig --rename --package whonix-shared-files --add /etc/apparmor.d/local/system_tor
Adding 'diversion of /etc/apparmor.d/local/system_tor to /etc/apparmor.d/local/system_tor.whonix-orig by whonix-shared-files'
+ displace_link_symlink /etc/apparmor.d/local/system_tor /etc/apparmor.d/local/system_tor.whonix /etc/apparmor.d/local/system_tor.whonix-orig
+ file=/etc/apparmor.d/local/system_tor
+ ourfile=/etc/apparmor.d/local/system_tor.whonix
+ theirfile=/etc/apparmor.d/local/system_tor.whonix-orig
+ '[' '!' -L /etc/apparmor.d/local/system_tor ']'
+ '[' '!' -e /etc/apparmor.d/local/system_tor ']'
++ basename /etc/apparmor.d/local/system_tor.whonix
+ ln -s system_tor.whonix /etc/apparmor.d/local/system_tor
+ displace_link /etc/bash.bash_logout
+ prefix=/etc/bash.bash_logout
+ suffix=
+ file=/etc/bash.bash_logout
+ ourfile=/etc/bash.bash_logout.whonix
+ theirfile=/etc/bash.bash_logout.whonix-orig
+ displace_link_displace /etc/bash.bash_logout /etc/bash.bash_logout.whonix /etc/bash.bash_logout.whonix-orig
+ file=/etc/bash.bash_logout
+ ourfile=/etc/bash.bash_logout.whonix
+ theirfile=/etc/bash.bash_logout.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /etc/bash.bash_logout to /etc/bash.bash_logout.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /etc/bash.bash_logout.whonix-orig --rename --package whonix-shared-files --add /etc/bash.bash_logout
Adding 'diversion of /etc/bash.bash_logout to /etc/bash.bash_logout.whonix-orig by whonix-shared-files'
+ displace_link_symlink /etc/bash.bash_logout /etc/bash.bash_logout.whonix /etc/bash.bash_logout.whonix-orig
+ file=/etc/bash.bash_logout
+ ourfile=/etc/bash.bash_logout.whonix
+ theirfile=/etc/bash.bash_logout.whonix-orig
+ '[' '!' -L /etc/bash.bash_logout ']'
+ '[' '!' -e /etc/bash.bash_logout ']'
++ basename /etc/bash.bash_logout.whonix
+ ln -s bash.bash_logout.whonix /etc/bash.bash_logout
+ displace_link /etc/default/grub
+ prefix=/etc/default/grub
+ suffix=
+ file=/etc/default/grub
+ ourfile=/etc/default/grub.whonix
+ theirfile=/etc/default/grub.whonix-orig
+ displace_link_displace /etc/default/grub /etc/default/grub.whonix /etc/default/grub.whonix-orig
+ file=/etc/default/grub
+ ourfile=/etc/default/grub.whonix
+ theirfile=/etc/default/grub.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /etc/default/grub to /etc/default/grub.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /etc/default/grub.whonix-orig --rename --package whonix-shared-files --add /etc/default/grub
Adding 'diversion of /etc/default/grub to /etc/default/grub.whonix-orig by whonix-shared-files'
+ displace_link_symlink /etc/default/grub /etc/default/grub.whonix /etc/default/grub.whonix-orig
+ file=/etc/default/grub
+ ourfile=/etc/default/grub.whonix
+ theirfile=/etc/default/grub.whonix-orig
+ '[' '!' -L /etc/default/grub ']'
+ '[' '!' -e /etc/default/grub ']'
++ basename /etc/default/grub.whonix
+ ln -s grub.whonix /etc/default/grub
+ displace_link /etc/hostname
+ prefix=/etc/hostname
+ suffix=
+ file=/etc/hostname
+ ourfile=/etc/hostname.whonix
+ theirfile=/etc/hostname.whonix-orig
+ displace_link_displace /etc/hostname /etc/hostname.whonix /etc/hostname.whonix-orig
+ file=/etc/hostname
+ ourfile=/etc/hostname.whonix
+ theirfile=/etc/hostname.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /etc/hostname to /etc/hostname.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /etc/hostname.whonix-orig --rename --package whonix-shared-files --add /etc/hostname
Adding 'diversion of /etc/hostname to /etc/hostname.whonix-orig by whonix-shared-files'
+ displace_link_symlink /etc/hostname /etc/hostname.whonix /etc/hostname.whonix-orig
+ file=/etc/hostname
+ ourfile=/etc/hostname.whonix
+ theirfile=/etc/hostname.whonix-orig
+ '[' '!' -L /etc/hostname ']'
+ '[' '!' -e /etc/hostname ']'
++ basename /etc/hostname.whonix
+ ln -s hostname.whonix /etc/hostname
+ displace_link /etc/hosts
+ prefix=/etc/hosts
+ suffix=
+ file=/etc/hosts
+ ourfile=/etc/hosts.whonix
+ theirfile=/etc/hosts.whonix-orig
+ displace_link_displace /etc/hosts /etc/hosts.whonix /etc/hosts.whonix-orig
+ file=/etc/hosts
+ ourfile=/etc/hosts.whonix
+ theirfile=/etc/hosts.whonix-orig
+ grep -xFq 'diversion of /etc/hosts to /etc/hosts.whonix-orig by whonix-shared-files'
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ dpkg-divert --divert /etc/hosts.whonix-orig --rename --package whonix-shared-files --add /etc/hosts
Adding 'diversion of /etc/hosts to /etc/hosts.whonix-orig by whonix-shared-files'
+ displace_link_symlink /etc/hosts /etc/hosts.whonix /etc/hosts.whonix-orig
+ file=/etc/hosts
+ ourfile=/etc/hosts.whonix
+ theirfile=/etc/hosts.whonix-orig
+ '[' '!' -L /etc/hosts ']'
+ '[' '!' -e /etc/hosts ']'
++ basename /etc/hosts.whonix
+ ln -s hosts.whonix /etc/hosts
+ displace_link /etc/inittab
+ prefix=/etc/inittab
+ suffix=
+ file=/etc/inittab
+ ourfile=/etc/inittab.whonix
+ theirfile=/etc/inittab.whonix-orig
+ displace_link_displace /etc/inittab /etc/inittab.whonix /etc/inittab.whonix-orig
+ file=/etc/inittab
+ ourfile=/etc/inittab.whonix
+ theirfile=/etc/inittab.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /etc/inittab to /etc/inittab.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /etc/inittab.whonix-orig --rename --package whonix-shared-files --add /etc/inittab
Adding 'diversion of /etc/inittab to /etc/inittab.whonix-orig by whonix-shared-files'
+ displace_link_symlink /etc/inittab /etc/inittab.whonix /etc/inittab.whonix-orig
+ file=/etc/inittab
+ ourfile=/etc/inittab.whonix
+ theirfile=/etc/inittab.whonix-orig
+ '[' '!' -L /etc/inittab ']'
+ '[' '!' -e /etc/inittab ']'
++ basename /etc/inittab.whonix
+ ln -s inittab.whonix /etc/inittab
+ displace_link /etc/issue
+ prefix=/etc/issue
+ suffix=
+ file=/etc/issue
+ ourfile=/etc/issue.whonix
+ theirfile=/etc/issue.whonix-orig
+ displace_link_displace /etc/issue /etc/issue.whonix /etc/issue.whonix-orig
+ file=/etc/issue
+ ourfile=/etc/issue.whonix
+ theirfile=/etc/issue.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /etc/issue to /etc/issue.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /etc/issue.whonix-orig --rename --package whonix-shared-files --add /etc/issue
Adding 'diversion of /etc/issue to /etc/issue.whonix-orig by whonix-shared-files'
+ displace_link_symlink /etc/issue /etc/issue.whonix /etc/issue.whonix-orig
+ file=/etc/issue
+ ourfile=/etc/issue.whonix
+ theirfile=/etc/issue.whonix-orig
+ '[' '!' -L /etc/issue ']'
+ '[' '!' -e /etc/issue ']'
++ basename /etc/issue.whonix
+ ln -s issue.whonix /etc/issue
+ displace_link /etc/kde4/kdm/kdmrc
+ prefix=/etc/kde4/kdm/kdmrc
+ suffix=
+ file=/etc/kde4/kdm/kdmrc
+ ourfile=/etc/kde4/kdm/kdmrc.whonix
+ theirfile=/etc/kde4/kdm/kdmrc.whonix-orig
+ displace_link_displace /etc/kde4/kdm/kdmrc /etc/kde4/kdm/kdmrc.whonix /etc/kde4/kdm/kdmrc.whonix-orig
+ file=/etc/kde4/kdm/kdmrc
+ ourfile=/etc/kde4/kdm/kdmrc.whonix
+ theirfile=/etc/kde4/kdm/kdmrc.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /etc/kde4/kdm/kdmrc to /etc/kde4/kdm/kdmrc.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /etc/kde4/kdm/kdmrc.whonix-orig --rename --package whonix-shared-files --add /etc/kde4/kdm/kdmrc
Adding 'diversion of /etc/kde4/kdm/kdmrc to /etc/kde4/kdm/kdmrc.whonix-orig by whonix-shared-files'
+ displace_link_symlink /etc/kde4/kdm/kdmrc /etc/kde4/kdm/kdmrc.whonix /etc/kde4/kdm/kdmrc.whonix-orig
+ file=/etc/kde4/kdm/kdmrc
+ ourfile=/etc/kde4/kdm/kdmrc.whonix
+ theirfile=/etc/kde4/kdm/kdmrc.whonix-orig
+ '[' '!' -L /etc/kde4/kdm/kdmrc ']'
+ '[' '!' -e /etc/kde4/kdm/kdmrc ']'
++ basename /etc/kde4/kdm/kdmrc.whonix
+ ln -s kdmrc.whonix /etc/kde4/kdm/kdmrc
+ displace_link /etc/motd
+ prefix=/etc/motd
+ suffix=
+ file=/etc/motd
+ ourfile=/etc/motd.whonix
+ theirfile=/etc/motd.whonix-orig
+ displace_link_displace /etc/motd /etc/motd.whonix /etc/motd.whonix-orig
+ file=/etc/motd
+ ourfile=/etc/motd.whonix
+ theirfile=/etc/motd.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /etc/motd to /etc/motd.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /etc/motd.whonix-orig --rename --package whonix-shared-files --add /etc/motd
Adding 'diversion of /etc/motd to /etc/motd.whonix-orig by whonix-shared-files'
+ displace_link_symlink /etc/motd /etc/motd.whonix /etc/motd.whonix-orig
+ file=/etc/motd
+ ourfile=/etc/motd.whonix
+ theirfile=/etc/motd.whonix-orig
+ '[' '!' -L /etc/motd ']'
+ '[' '!' -e /etc/motd ']'
++ basename /etc/motd.whonix
+ ln -s motd.whonix /etc/motd
+ displace_link /usr/bin/wget
+ prefix=/usr/bin/wget
+ suffix=
+ file=/usr/bin/wget
+ ourfile=/usr/bin/wget.whonix
+ theirfile=/usr/bin/wget.whonix-orig
+ displace_link_displace /usr/bin/wget /usr/bin/wget.whonix /usr/bin/wget.whonix-orig
+ file=/usr/bin/wget
+ ourfile=/usr/bin/wget.whonix
+ theirfile=/usr/bin/wget.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /usr/bin/wget to /usr/bin/wget.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /usr/bin/wget.whonix-orig --rename --package whonix-shared-files --add /usr/bin/wget
Adding 'diversion of /usr/bin/wget to /usr/bin/wget.whonix-orig by whonix-shared-files'
+ displace_link_symlink /usr/bin/wget /usr/bin/wget.whonix /usr/bin/wget.whonix-orig
+ file=/usr/bin/wget
+ ourfile=/usr/bin/wget.whonix
+ theirfile=/usr/bin/wget.whonix-orig
+ '[' '!' -L /usr/bin/wget ']'
+ '[' '!' -e /usr/bin/wget ']'
++ basename /usr/bin/wget.whonix
+ ln -s wget.whonix /usr/bin/wget
+ displace_link /usr/bin/git
+ prefix=/usr/bin/git
+ suffix=
+ file=/usr/bin/git
+ ourfile=/usr/bin/git.whonix
+ theirfile=/usr/bin/git.whonix-orig
+ displace_link_displace /usr/bin/git /usr/bin/git.whonix /usr/bin/git.whonix-orig
+ file=/usr/bin/git
+ ourfile=/usr/bin/git.whonix
+ theirfile=/usr/bin/git.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /usr/bin/git to /usr/bin/git.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /usr/bin/git.whonix-orig --rename --package whonix-shared-files --add /usr/bin/git
Adding 'diversion of /usr/bin/git to /usr/bin/git.whonix-orig by whonix-shared-files'
+ displace_link_symlink /usr/bin/git /usr/bin/git.whonix /usr/bin/git.whonix-orig
+ file=/usr/bin/git
+ ourfile=/usr/bin/git.whonix
+ theirfile=/usr/bin/git.whonix-orig
+ '[' '!' -L /usr/bin/git ']'
+ '[' '!' -e /usr/bin/git ']'
++ basename /usr/bin/git.whonix
+ ln -s git.whonix /usr/bin/git
+ displace_link /usr/bin/ssh
+ prefix=/usr/bin/ssh
+ suffix=
+ file=/usr/bin/ssh
+ ourfile=/usr/bin/ssh.whonix
+ theirfile=/usr/bin/ssh.whonix-orig
+ displace_link_displace /usr/bin/ssh /usr/bin/ssh.whonix /usr/bin/ssh.whonix-orig
+ file=/usr/bin/ssh
+ ourfile=/usr/bin/ssh.whonix
+ theirfile=/usr/bin/ssh.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /usr/bin/ssh to /usr/bin/ssh.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /usr/bin/ssh.whonix-orig --rename --package whonix-shared-files --add /usr/bin/ssh
Adding 'diversion of /usr/bin/ssh to /usr/bin/ssh.whonix-orig by whonix-shared-files'
+ displace_link_symlink /usr/bin/ssh /usr/bin/ssh.whonix /usr/bin/ssh.whonix-orig
+ file=/usr/bin/ssh
+ ourfile=/usr/bin/ssh.whonix
+ theirfile=/usr/bin/ssh.whonix-orig
+ '[' '!' -L /usr/bin/ssh ']'
+ '[' '!' -e /usr/bin/ssh ']'
++ basename /usr/bin/ssh.whonix
+ ln -s ssh.whonix /usr/bin/ssh
+ displace_link /usr/bin/apt-get
+ prefix=/usr/bin/apt-get
+ suffix=
+ file=/usr/bin/apt-get
+ ourfile=/usr/bin/apt-get.whonix
+ theirfile=/usr/bin/apt-get.whonix-orig
+ displace_link_displace /usr/bin/apt-get /usr/bin/apt-get.whonix /usr/bin/apt-get.whonix-orig
+ file=/usr/bin/apt-get
+ ourfile=/usr/bin/apt-get.whonix
+ theirfile=/usr/bin/apt-get.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /usr/bin/apt-get to /usr/bin/apt-get.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /usr/bin/apt-get.whonix-orig --rename --package whonix-shared-files --add /usr/bin/apt-get
Adding 'diversion of /usr/bin/apt-get to /usr/bin/apt-get.whonix-orig by whonix-shared-files'
+ displace_link_symlink /usr/bin/apt-get /usr/bin/apt-get.whonix /usr/bin/apt-get.whonix-orig
+ file=/usr/bin/apt-get
+ ourfile=/usr/bin/apt-get.whonix
+ theirfile=/usr/bin/apt-get.whonix-orig
+ '[' '!' -L /usr/bin/apt-get ']'
+ '[' '!' -e /usr/bin/apt-get ']'
++ basename /usr/bin/apt-get.whonix
+ ln -s apt-get.whonix /usr/bin/apt-get
+ displace_link /usr/bin/aptitude
+ prefix=/usr/bin/aptitude
+ suffix=
+ file=/usr/bin/aptitude
+ ourfile=/usr/bin/aptitude.whonix
+ theirfile=/usr/bin/aptitude.whonix-orig
+ displace_link_displace /usr/bin/aptitude /usr/bin/aptitude.whonix /usr/bin/aptitude.whonix-orig
+ file=/usr/bin/aptitude
+ ourfile=/usr/bin/aptitude.whonix
+ theirfile=/usr/bin/aptitude.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /usr/bin/aptitude to /usr/bin/aptitude.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /usr/bin/aptitude.whonix-orig --rename --package whonix-shared-files --add /usr/bin/aptitude
Adding 'diversion of /usr/bin/aptitude to /usr/bin/aptitude.whonix-orig by whonix-shared-files'
+ displace_link_symlink /usr/bin/aptitude /usr/bin/aptitude.whonix /usr/bin/aptitude.whonix-orig
+ file=/usr/bin/aptitude
+ ourfile=/usr/bin/aptitude.whonix
+ theirfile=/usr/bin/aptitude.whonix-orig
+ '[' '!' -L /usr/bin/aptitude ']'
+ '[' '!' -e /usr/bin/aptitude ']'
++ basename /usr/bin/aptitude.whonix
+ ln -s aptitude.whonix /usr/bin/aptitude
+ displace_link /usr/bin/curl
+ prefix=/usr/bin/curl
+ suffix=
+ file=/usr/bin/curl
+ ourfile=/usr/bin/curl.whonix
+ theirfile=/usr/bin/curl.whonix-orig
+ displace_link_displace /usr/bin/curl /usr/bin/curl.whonix /usr/bin/curl.whonix-orig
+ file=/usr/bin/curl
+ ourfile=/usr/bin/curl.whonix
+ theirfile=/usr/bin/curl.whonix-orig
+ grep -xFq 'diversion of /usr/bin/curl to /usr/bin/curl.whonix-orig by whonix-shared-files'
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ dpkg-divert --divert /usr/bin/curl.whonix-orig --rename --package whonix-shared-files --add /usr/bin/curl
Adding 'diversion of /usr/bin/curl to /usr/bin/curl.whonix-orig by whonix-shared-files'
+ displace_link_symlink /usr/bin/curl /usr/bin/curl.whonix /usr/bin/curl.whonix-orig
+ file=/usr/bin/curl
+ ourfile=/usr/bin/curl.whonix
+ theirfile=/usr/bin/curl.whonix-orig
+ '[' '!' -L /usr/bin/curl ']'
+ '[' '!' -e /usr/bin/curl ']'
++ basename /usr/bin/curl.whonix
+ ln -s curl.whonix /usr/bin/curl
+ displace_link /usr/bin/gpg
+ prefix=/usr/bin/gpg
+ suffix=
+ file=/usr/bin/gpg
+ ourfile=/usr/bin/gpg.whonix
+ theirfile=/usr/bin/gpg.whonix-orig
+ displace_link_displace /usr/bin/gpg /usr/bin/gpg.whonix /usr/bin/gpg.whonix-orig
+ file=/usr/bin/gpg
+ ourfile=/usr/bin/gpg.whonix
+ theirfile=/usr/bin/gpg.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /usr/bin/gpg to /usr/bin/gpg.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /usr/bin/gpg.whonix-orig --rename --package whonix-shared-files --add /usr/bin/gpg
Adding 'diversion of /usr/bin/gpg to /usr/bin/gpg.whonix-orig by whonix-shared-files'
+ displace_link_symlink /usr/bin/gpg /usr/bin/gpg.whonix /usr/bin/gpg.whonix-orig
+ file=/usr/bin/gpg
+ ourfile=/usr/bin/gpg.whonix
+ theirfile=/usr/bin/gpg.whonix-orig
+ '[' '!' -L /usr/bin/gpg ']'
+ '[' '!' -e /usr/bin/gpg ']'
++ basename /usr/bin/gpg.whonix
+ ln -s gpg.whonix /usr/bin/gpg
+ displace_link /usr/bin/mixmaster-update
+ prefix=/usr/bin/mixmaster-update
+ suffix=
+ file=/usr/bin/mixmaster-update
+ ourfile=/usr/bin/mixmaster-update.whonix
+ theirfile=/usr/bin/mixmaster-update.whonix-orig
+ displace_link_displace /usr/bin/mixmaster-update /usr/bin/mixmaster-update.whonix /usr/bin/mixmaster-update.whonix-orig
+ file=/usr/bin/mixmaster-update
+ ourfile=/usr/bin/mixmaster-update.whonix
+ theirfile=/usr/bin/mixmaster-update.whonix-orig
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ grep -xFq 'diversion of /usr/bin/mixmaster-update to /usr/bin/mixmaster-update.whonix-orig by whonix-shared-files'
+ dpkg-divert --divert /usr/bin/mixmaster-update.whonix-orig --rename --package whonix-shared-files --add /usr/bin/mixmaster-update
Adding 'diversion of /usr/bin/mixmaster-update to /usr/bin/mixmaster-update.whonix-orig by whonix-shared-files'
+ displace_link_symlink /usr/bin/mixmaster-update /usr/bin/mixmaster-update.whonix /usr/bin/mixmaster-update.whonix-orig
+ file=/usr/bin/mixmaster-update
+ ourfile=/usr/bin/mixmaster-update.whonix
+ theirfile=/usr/bin/mixmaster-update.whonix-orig
+ '[' '!' -L /usr/bin/mixmaster-update ']'
+ '[' '!' -e /usr/bin/mixmaster-update ']'
++ basename /usr/bin/mixmaster-update.whonix
+ ln -s mixmaster-update.whonix /usr/bin/mixmaster-update
+ displace_link /usr/bin/rawdog
+ prefix=/usr/bin/rawdog
+ suffix=
+ file=/usr/bin/rawdog
+ ourfile=/usr/bin/rawdog.whonix
+ theirfile=/usr/bin/rawdog.whonix-orig
+ displace_link_displace /usr/bin/rawdog /usr/bin/rawdog.whonix /usr/bin/rawdog.whonix-orig
+ file=/usr/bin/rawdog
+ ourfile=/usr/bin/rawdog.whonix
+ theirfile=/usr/bin/rawdog.whonix-orig
+ grep -xFq 'diversion of /usr/bin/rawdog to /usr/bin/rawdog.whonix-orig by whonix-shared-files'
+ LC_ALL=C
+ dpkg-divert --list whonix-shared-files
+ dpkg-divert --divert /usr/bin/rawdog.whonix-orig --rename --package whonix-shared-files --add /usr/bin/rawdog
Adding 'diversion of /usr/bin/rawdog to /usr/bin/rawdog.whonix-orig by whonix-shared-files'
+ displace_link_symlink /usr/bin/rawdog /usr/bin/rawdog.whonix /usr/bin/rawdog.whonix-orig
+ file=/usr/bin/rawdog
+ ourfile=/usr/bin/rawdog.whonix
+ theirfile=/usr/bin/rawdog.whonix-orig
+ '[' '!' -L /usr/bin/rawdog ']'
+ '[' '!' -e /usr/bin/rawdog ']'
++ basename /usr/bin/rawdog.whonix
+ ln -s rawdog.whonix /usr/bin/rawdog
+ '[' configure = configure ']'
+ APP_PROFILE=/etc/apparmor.d/whonix
+ '[' -f /etc/apparmor.d/whonix ']'
+ LOCAL_APP_PROFILE=/etc/apparmor.d/local/whonix
+ test -e /etc/apparmor.d/local/whonix
++ mktemp
+ tmp=/tmp/tmp.UvbltvVi5K
+ cat
++ dirname /etc/apparmor.d/local/whonix
+ mkdir /etc/apparmor.d/local
+ true
+ mv -f /tmp/tmp.UvbltvVi5K /etc/apparmor.d/local/whonix
+ chmod 644 /etc/apparmor.d/local/whonix
+ '[' -x /usr/sbin/aa-status ']'
+ aa-status --enabled
+ true 'INFO: Done with debhelper.'
+ true '
####################################################################
## INFO: postinst script whonix-shared-files no error detected.
####################################################################
'
+ '[' '' = 1 ']'
+ '[' 1 = 1 ']'
+ chroot /home/user/whonix_binary/Whonix-Workstation_image apt-get -o Dir::Etc::sourcelist=/tmp/empty -o Dir::Etc::sourceparts=/var/lib/whonix/sources_temp_list.d -o Acquire::http::Timeout=180 -o Acquire::ftp::Timeout=180 -o Acquire::Retries=3 --yes install --no-install-recommends whonix-workstation-files
Reading package lists...
Building dependency tree...
Reading state information...
The following NEW packages will be installed:
  whonix-workstation-files
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 0 B/51.7 kB of archives.
After this operation, 321 kB of additional disk space will be used.
Can not write log, openpty() failed (/dev/pts not mounted?)
Selecting previously unselected package whonix-workstation-files.
(Reading database ... 53603 files and directories currently installed.)
Unpacking whonix-workstation-files (from .../whonix-workstation-files_7.7.6.4-debpackage1_all.deb) ...
++ OUT_CMD_WHONIX_SCRIPT=true
++ trap error_handler ERR
+++ basename /var/lib/dpkg/tmp.ci/preinst
++ own_filename=preinst
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 70_torbrowser = preinst ']'
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 71_install_amd64_kernel = preinst ']'
++ unset skip_script
+ set -e
+ true '
####################################################################
## INFO: Begin preinst script whonix-workstation-files...
####################################################################
'
+ true 'INFO: Opts: install'
+ true 'Resetting LD_PRELOAD to get rid of libtorsocks (added by apt-get uwt wrapper).'
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ true 'INFO: debhelper beginning here.'
+ true 'INFO: Done with debhelper.'
+ true '
####################################################################
## INFO: preinst script whonix-workstation-files no error detected.
####################################################################
'
Processing triggers for man-db ...
Can not write log, openpty() failed (/dev/pts not mounted?)
Setting up whonix-workstation-files (2:7.7.6.4-debpackage1) ...
++ OUT_CMD_WHONIX_SCRIPT=true
++ trap error_handler ERR
+++ basename /var/lib/dpkg/info/whonix-workstation-files.postinst
++ own_filename=whonix-workstation-files.postinst
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 70_torbrowser = whonix-workstation-files.postinst ']'
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 71_install_amd64_kernel = whonix-workstation-files.postinst ']'
++ unset skip_script
+ set -e
+ true '
####################################################################
## INFO: Begin postinst script whonix-workstation-files...
####################################################################
'
+ true 'INFO: Opts: configure' ''
++ env
+ env_var='whonix_build_old_changelog_version=2:7.7.6.4-debpackage1
WHONIX_BINARY=/home/user/whonix_binary
DEB_INSTALL_FOLDER=/mnt/initialdeb
HOMEVAR=/home/user
TERM=linux
SHELL=/bin/bash
DEBUILD_LINTIAN_OPTS=-i -I --show-overrides
VMNAME=Whonix-Workstation
BARE_METAL=0
WHONIX_DEB_DEBUG=1
WHONIX_BUILD_USE_AUTO_LOCAL_SIGNING_KEY=1
WHONIX_SOURCE_FOLDER=/home/user/nothing-to-see
whonix_build_whonix_version_new=7.7.6.4
WHONIX_BUILD_MAIN_SCRIPT_STARTED=1
TORSOCKS_CONF_FILE=/tmp/tmp.V89iGR3YCa
http_proxy=http://127.0.0.1:3142
USER=root
WHONIX_SOURCE_HELP_STEPS_FOLDER=/home/user/nothing-to-see/help-steps
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lz=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.axa=00;36:*.oga=00;36:*.spx=00;36:*.xspf=00;36:
DPKG_MAINTSCRIPT_NAME=postinst
DEBEMAIL=whonix@local-signing.key
SUDO_USER=user
SUDO_UID=1000
user_name=user
USERNAME=root
vmname_lowercase_long_option=--tor-workstation
UWT_DEV_PASSTHROUGH=1
WHONIX_SOURCE_PARENTDIR=/home/user
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
MAIL=/var/mail/root
WHONIX_BUILD_BUILD=1
DPKG_MAINTSCRIPT_ARCH=all
PWD=/
LANG=en_US.UTF-8
WHONIX_BUILD_WORKSTATION=1
uwtwrapper_parent=/usr/bin/apt-get
EMPTY_DIR=/tmp/empty
CHROOT_FOLDER=/home/user/whonix_binary/Whonix-Workstation_image
HOME=/root
SUDO_COMMAND=./nothing-to-see/whonix_build --build --tor-workstation
SHLVL=3
WHONIX_BUILD_UNATTENDED_PKG_INSTALL=1
WHONIX_BUILD_UPGRADE_BUILD_MACHINE=0
apt_timeout_opts= -o Acquire::http::Timeout=180  -o Acquire::ftp::Timeout=180  -o Acquire::Retries=3 
apt_sourceparts= -o Dir::Etc::sourceparts=/var/lib/whonix/sources_temp_list.d 
WHONIX_TARGET_ARCH=i386
DPKG_RUNNING_VERSION=1.16.12
DPKG_ADMINDIR=/var/lib/dpkg
LOGNAME=root
WHONIX_LOCAL_SIGNING_KEY_FOLDER=/home/user/whonix_binary/gpg-local-signing-key
apt_verify_opts= -o Acquire::Check-Valid-Until=false 
WHONIX_BUILD_PARSED=1
DEBIAN_FRONTEND=noninteractive
DEBFULLNAME=Whonix auto generated local APT signing key
WHONIX_BUILD_REPREPRO_FOLDER_OPTIONS=         --gnupghome /home/user/whonix_binary/gpg-local-signing-key          --basedir /home/user/nothing-to-see/aptrepo_local          --outdir /home/user/whonix_binary/aptrepo_local          --dbdir /home/user/whonix_binary/aptrepo_local/db          --logdir /home/user/whonix_binary/aptrepo_local/log 
WHONIX_BUILD_APT_CODENAME=local
VMRAM=768
SUDO_GID=1000
DPKG_NO_TSTP=yes
apt_sourcelist_empty= -o Dir::Etc::sourcelist=/tmp/empty 
DPKG_MAINTSCRIPT_PACKAGE=whonix-workstation-files
WHONIX_APT_REPOSITORY_FOLDER=/home/user/whonix_binary/aptrepo_local
WHONIX_BUILD_SKIP_SCRIPTS= 70_torbrowser  71_install_amd64_kernel 
_=/usr/bin/env'
+ true 'Resetting LD_PRELOAD to get rid of libtorsocks (added by apt-get uwt wrapper).'
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ case "$1" in
+ true 'INFO: Configuring whonix-workstation-files...'
+ true 'INFO: Beging with run-parts...'
+ run-parts --verbose --test /usr/share/whonix/postinst.d
/usr/share/whonix/postinst.d/20_hostname
/usr/share/whonix/postinst.d/30_adduser_user
/usr/share/whonix/postinst.d/32_sanity_checks
/usr/share/whonix/postinst.d/70_build_timestamp
/usr/share/whonix/postinst.d/70_cleanup
/usr/share/whonix/postinst.d/70_create_swap_file
/usr/share/whonix/postinst.d/70_deactivate_kmix_autostart
/usr/share/whonix/postinst.d/70_default_browser
/usr/share/whonix/postinst.d/70_desktopicons
/usr/share/whonix/postinst.d/70_disable_kdm_autostart
/usr/share/whonix/postinst.d/70_dpkg_origins
/usr/share/whonix/postinst.d/70_gpgconf
/usr/share/whonix/postinst.d/70_kde
/usr/share/whonix/postinst.d/70_knetattach
/usr/share/whonix/postinst.d/70_locale
/usr/share/whonix/postinst.d/70_mixcfg
/usr/share/whonix/postinst.d/70_sdw
/usr/share/whonix/postinst.d/70_shared_folder
/usr/share/whonix/postinst.d/70_timezone
/usr/share/whonix/postinst.d/70_torchat
/usr/share/whonix/postinst.d/70_whonix_apt_key
/usr/share/whonix/postinst.d/70_whonixcheck
/usr/share/whonix/postinst.d/70_xchat
+ run-parts --verbose --exit-on-error /usr/share/whonix/postinst.d
run-parts: executing /usr/share/whonix/postinst.d/20_hostname
++ OUT_CMD_WHONIX_SCRIPT=true
++ trap error_handler ERR
+++ basename /usr/share/whonix/postinst.d/20_hostname
++ own_filename=20_hostname
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 70_torbrowser = 20_hostname ']'
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 71_install_amd64_kernel = 20_hostname ']'
++ unset skip_script
+ '[' 0 = 1 ']'
+ '[' '' = true ']'
+ echo 'INFO /usr/share/whonix/postinst.d/20_hostname: Skipping, because BARE_METAL is not set to 1, ok.'
INFO /usr/share/whonix/postinst.d/20_hostname: Skipping, because BARE_METAL is not set to 1, ok.
run-parts: executing /usr/share/whonix/postinst.d/30_adduser_user
++ OUT_CMD_WHONIX_SCRIPT=true
++ trap error_handler ERR
+++ basename /usr/share/whonix/postinst.d/30_adduser_user
++ own_filename=30_adduser_user
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 70_torbrowser = 30_adduser_user ']'
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 71_install_amd64_kernel = 30_adduser_user ']'
++ unset skip_script
+ ret=0
+ id user
id: user: No such user
+ ret=1
+ true
+ '[' '!' 1 = 0 ']'
+ echo 'INFO: Creating user "user"...'
INFO: Creating user "user"...
+ useradd --password aTayYxVyw5kDo --user-group --create-home --shell /bin/bash user
+ chown --recursive user:user /home/user
+ usermod --append --groups adm,cdrom,audio,dip,sudo,plugdev user
+ '[' '' = true ']'
run-parts: executing /usr/share/whonix/postinst.d/32_sanity_checks
++ OUT_CMD_WHONIX_SCRIPT=true
++ trap error_handler ERR
+++ basename /usr/share/whonix/postinst.d/32_sanity_checks
++ own_filename=32_sanity_checks
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 70_torbrowser = 32_sanity_checks ']'
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 71_install_amd64_kernel = 32_sanity_checks ']'
++ unset skip_script
+ true 'INFO: Benchmarking "sudo -u user echo "This is a test echo."" using "time"...'
+ sudo -u user echo 'This is a test echo.'
sudo: unable to resolve host debian
This is a test echo.

real	0m20.443s
user	0m0.008s
sys	0m0.116s
run-parts: executing /usr/share/whonix/postinst.d/70_build_timestamp
++ OUT_CMD_WHONIX_SCRIPT=true
++ trap error_handler ERR
+++ basename /usr/share/whonix/postinst.d/70_build_timestamp
++ own_filename=70_build_timestamp
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 70_torbrowser = 70_build_timestamp ']'
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 71_install_amd64_kernel = 70_build_timestamp ']'
++ unset skip_script
+ '[' -f /usr/share/whonix/build_timestamp ']'
++ date +%s
+ BOOT_TIMESTAMP=1391167206
+ echo 1391167206
run-parts: executing /usr/share/whonix/postinst.d/70_cleanup
++ OUT_CMD_WHONIX_SCRIPT=true
++ trap error_handler ERR
+++ basename /usr/share/whonix/postinst.d/70_cleanup
++ own_filename=70_cleanup
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 70_torbrowser = 70_cleanup ']'
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 71_install_amd64_kernel = 70_cleanup ']'
++ unset skip_script
+ '[' '!' -f /var/lib/whonix/do_once/remove_apper_desktop_icon ']'
+ '[' -f /home/user/Desktop/apper.desktop ']'
+ mkdir --parents /var/lib/whonix/do_once
+ touch /var/lib/whonix/do_once/remove_apper_desktop_icon
run-parts: executing /usr/share/whonix/postinst.d/70_create_swap_file
++ OUT_CMD_WHONIX_SCRIPT=true
++ trap error_handler ERR
+++ basename /usr/share/whonix/postinst.d/70_create_swap_file
++ own_filename=70_create_swap_file
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 70_torbrowser = 70_create_swap_file ']'
++ for skip_script in '$WHONIX_BUILD_SKIP_SCRIPTS'
++ '[' 71_install_amd64_kernel = 70_create_swap_file ']'
++ unset skip_script
+ '[' -f /swapfile1 ']'
+ echo 'INFO: Creating /swapfile1... This may take a while...'
INFO: Creating /swapfile1... This may take a while...
+ dd if=/dev/zero of=/swapfile1 bs=1024 count=524288
524288+0 records in
524288+0 records out
536870912 bytes (537 MB) copied, 172.529 s, 3.1 MB/s
+ echo 'INFO: Created /swapfile1.'
INFO: Created /swapfile1.
+ mkswap /swapfile1 --uuid 0615ba72-85b0-4183-8d54-300bb0d2e491
mkswap: fsync failed
Setting up swapspace version 1, size = 524284 KiB
no label, UUID=0615ba72-85b0-4183-8d54-300bb0d2e491
++ error_handler
++ local exit_code=1
++ local 'last_err=mkswap /swapfile1 --uuid 0615ba72-85b0-4183-8d54-300bb0d2e491'
++ '[' '!' 1 = 1 ']'
++ '[' '' = '' ']'
++ output='## See above.'
++ '[' '!' 1 = 1 ']'
++ force_echo '
####################################################################
## BEGIN ERROR in /usr/share/whonix/postinst.d/70_create_swap_file detected!
##
## ERROR LOG:
## See above.
##
## BASH_COMMAND: mkswap /swapfile1 --uuid 0615ba72-85b0-4183-8d54-300bb0d2e491
## EXIT_CODE: 1
##
## END ERROR in /usr/share/whonix/postinst.d/70_create_swap_file detected!
## Please report this Whonix bug!
####################################################################
'
++ '[' '!' 1 = 1 ']'
++ '[' '!' 1 = 1 ']'
++ '[' '!' 1 = 1 ']'
++ exit 1
run-parts: /usr/share/whonix/postinst.d/70_create_swap_file exited with return code 1
++ error_handler
++ local exit_code=1
++ local 'last_err=run-parts --verbose --exit-on-error "/usr/share/whonix/postinst.d"'
++ '[' '!' 1 = 1 ']'
++ '[' '' = '' ']'
++ output='## See above.'
++ '[' '!' 1 = 1 ']'
++ force_echo '
####################################################################
## BEGIN ERROR in /var/lib/dpkg/info/whonix-workstation-files.postinst detected!
##
## ERROR LOG:
## See above.
##
## BASH_COMMAND: run-parts --verbose --exit-on-error "/usr/share/whonix/postinst.d"
## EXIT_CODE: 1
##
## END ERROR in /var/lib/dpkg/info/whonix-workstation-files.postinst detected!
## Please report this Whonix bug!
####################################################################
'
++ '[' '!' 1 = 1 ']'
++ '[' '!' 1 = 1 ']'
++ '[' '!' 1 = 1 ']'
++ exit 1
dpkg: error processing whonix-workstation-files (--configure):
 subprocess installed post-installation script returned error exit status 1
dpkg: error: unable to sync new file '/var/lib/dpkg/status-new': Input/output error
E: Sub-process /usr/bin/dpkg returned an error code (2)
++ error_handler_unchroot_unprevent_unmount
++ echo 'ERROR in ./build-steps.d/2000_install-files-packages. Aborting...'
ERROR in ./build-steps.d/2000_install-files-packages. Aborting...
++ rm --force /var/run/whonix/package_manager_lock
++ /home/user/nothing-to-see/help-steps/remove-local-temp-apt-repo
+++ dirname /home/user/nothing-to-see/help-steps/remove-local-temp-apt-repo
++ cd /home/user/nothing-to-see/help-steps
++ pwd
+ MYDIR=/home/user/nothing-to-see/help-steps
+ source /home/user/nothing-to-see/help-steps/pre
++ set +x
+ source /home/user/nothing-to-see/help-steps/variables
++ set +x
INFO: Setting... export UWT_DEV_PASSTHROUGH="1"
whonix_build_new_changelog_version: 2:7.7.6.4-debpackage1
+ true 'INFO: Currently running script: /home/user/nothing-to-see/help-steps/remove-local-temp-apt-repo '
+ remove_local_temp_apt_repo
+ trap error_handler_general ERR INT TERM
+ rm --force /home/user/whonix_binary/Whonix-Workstation_image/etc/apt/trusted.gpg.d/whonix-temporary-local-apt-repository.gpg
+ rm --force /home/user/whonix_binary/Whonix-Workstation_image/etc/apt/trusted.gpg.d/who</code></pre>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Occq'><span itemprop='name'>Occq</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-02-01T13:42:08Z' class='post-time'>
                February 1, 2014,  1:42pm
              </time>
              <meta itemprop='dateModified' content='2014-02-01T13:42:08Z'>
          <span itemprop='position'>#74</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“adrelanos, post:72, topic:28”]First Run Initializer is the correct name. Interrupting it is a really bad idea. It may result in a broken apt-get. Some strange bugs may occur later such as not being able to install packages. (Try installing gimp as test.)</p>
<p>You can see the log /home/user/.whonix/first_run_initializer.log to see what command it runs. The script that’s running is /usr/lib/whonix/first_run_initializer. You can look at it. Just 6 commands.[/quote]</p>
<p>I have three files, first_run_initializer.done, first_run_initializer.start, first_run_initializer.log.</p>
<p>.log</p>
<pre><code class="lang-auto">+ set -o pipefail
+ trap error_handler ERR
++ id -u
+ '[' 0 '!=' 0 ']'
+ true 'INFO: Script running as root.'
+ export DEBIAN_FRONTEND=noninteractive
+ DEBIAN_FRONTEND=noninteractive
+ dpkg --install /var/lib/whonix/initial-packages/docbook-xml_4.5-7.2_all.deb /var/lib/whonix/initial-packages/docbook-xsl_1.76.1+dfsg-1_all.deb /var/lib/whonix/initial-packages/fontconfig_2.9.0-7.1_i386.deb /var/lib/whonix/initial-packages/libc6_2.13-38_i386.deb /var/lib/whonix/initial-packages/libc6-i686_2.13-38_i386.deb /var/lib/whonix/initial-packages/libgdk-pixbuf2.0-0_2.26.1-1_i386.deb /var/lib/whonix/initial-packages/libglib2.0-0_2.33.12+really2.32.4-5_i386.deb /var/lib/whonix/initial-packages/libgtk-3-0_3.4.2-7_i386.deb /var/lib/whonix/initial-packages/man-db_2.6.2-1_i386.deb /var/lib/whonix/initial-packages/python-support_1.0.15_all.deb /var/lib/whonix/initial-packages/sgml-base_1.26+nmu4_all.deb /var/lib/whonix/initial-packages/sgml-data_2.0.8_all.deb /var/lib/whonix/initial-packages/xml-core_0.13+nmu2_all.deb
(Reading database ... 79028 files and directories currently installed.)
Preparing to replace docbook-xml 4.5-7.2 (using .../docbook-xml_4.5-7.2_all.deb) ...
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found
Unpacking replacement docbook-xml ...
Preparing to replace docbook-xsl 1.76.1+dfsg-1 (using .../docbook-xsl_1.76.1+dfsg-1_all.deb) ...
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xsl.xml not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xsl.xml not found
Unpacking replacement docbook-xsl ...
Preparing to replace fontconfig 2.9.0-7.1 (using .../fontconfig_2.9.0-7.1_i386.deb) ...
Unpacking replacement fontconfig ...
Preparing to replace libc6:i386 2.13-38 (using .../libc6_2.13-38_i386.deb) ...
Unpacking replacement libc6:i386 ...
Preparing to replace libc6-i686:i386 2.13-38 (using .../libc6-i686_2.13-38_i386.deb) ...
Unpacking replacement libc6-i686:i386 ...
Preparing to replace libgdk-pixbuf2.0-0:i386 2.26.1-1 (using .../libgdk-pixbuf2.0-0_2.26.1-1_i386.deb) ...
Unpacking replacement libgdk-pixbuf2.0-0:i386 ...
Preparing to replace libglib2.0-0:i386 2.33.12+really2.32.4-5 (using .../libglib2.0-0_2.33.12+really2.32.4-5_i386.deb) ...
Unpacking replacement libglib2.0-0:i386 ...
Preparing to replace libgtk-3-0:i386 3.4.2-7 (using .../libgtk-3-0_3.4.2-7_i386.deb) ...
Unpacking replacement libgtk-3-0:i386 ...
Preparing to replace man-db 2.6.2-1 (using .../man-db_2.6.2-1_i386.deb) ...
Unpacking replacement man-db ...
Preparing to replace python-support 1.0.15 (using .../python-support_1.0.15_all.deb) ...
Unpacking replacement python-support ...
Preparing to replace sgml-base 1.26+nmu4 (using .../sgml-base_1.26+nmu4_all.deb) ...
Unpacking replacement sgml-base ...
Preparing to replace sgml-data 2.0.8 (using .../sgml-data_2.0.8_all.deb) ...
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: package catalog /etc/xml/sgml-data.xml not found
update-xmlcatalog: error: package catalog /etc/xml/sgml-data.xml not found
update-xmlcatalog: error: package catalog /etc/xml/sgml-data.xml not found
update-xmlcatalog: error: package catalog /etc/xml/sgml-data.xml not found
update-xmlcatalog: error: package catalog /etc/xml/sgml-data.xml not found
update-xmlcatalog: error: package catalog /etc/xml/sgml-data.xml not found
update-xmlcatalog: error: package catalog /etc/xml/sgml-data.xml not found
update-xmlcatalog: error: package catalog /etc/xml/sgml-data.xml not found
update-xmlcatalog: error: package catalog /etc/xml/sgml-data.xml not found
Unpacking replacement sgml-data ...
Preparing to replace xml-core 0.13+nmu2 (using .../xml-core_0.13+nmu2_all.deb) ...
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: package catalog /etc/xml/xml-core.xml not found
update-xmlcatalog: error: package catalog /etc/xml/xml-core.xml not found
update-xmlcatalog: error: package catalog /etc/xml/xml-core.xml not found
update-xmlcatalog: error: package catalog /etc/xml/xml-core.xml not found
Unpacking replacement xml-core ...
Setting up libc6:i386 (2.13-38) ...
Setting up libc6-i686:i386 (2.13-38) ...
Setting up libglib2.0-0:i386 (2.33.12+really2.32.4-5) ...
Setting up man-db (2.6.2-1) ...
Building database of manual pages ...
Setting up python-support (1.0.15) ...
Setting up sgml-base (1.26+nmu4) ...
Setting up xml-core (0.13+nmu2) ...
Setting up docbook-xsl (1.76.1+dfsg-1) ...
Setting up fontconfig (2.9.0-7.1) ...
Regenerating fonts cache... done.
Setting up libgdk-pixbuf2.0-0:i386 (2.26.1-1) ...
Setting up libgtk-3-0:i386 (3.4.2-7) ...
Setting up sgml-data (2.0.8) ...
Setting up docbook-xml (4.5-7.2) ...
+ dpkg --install /var/lib/whonix/initial-packages/docbook-xml_4.5-7.2_all.deb /var/lib/whonix/initial-packages/docbook-xsl_1.76.1+dfsg-1_all.deb /var/lib/whonix/initial-packages/fontconfig_2.9.0-7.1_i386.deb /var/lib/whonix/initial-packages/libc6_2.13-38_i386.deb /var/lib/whonix/initial-packages/libc6-i686_2.13-38_i386.deb /var/lib/whonix/initial-packages/libgdk-pixbuf2.0-0_2.26.1-1_i386.deb /var/lib/whonix/initial-packages/libglib2.0-0_2.33.12+really2.32.4-5_i386.deb /var/lib/whonix/initial-packages/libgtk-3-0_3.4.2-7_i386.deb /var/lib/whonix/initial-packages/man-db_2.6.2-1_i386.deb /var/lib/whonix/initial-packages/python-support_1.0.15_all.deb /var/lib/whonix/initial-packages/sgml-base_1.26+nmu4_all.deb /var/lib/whonix/initial-packages/sgml-data_2.0.8_all.deb /var/lib/whonix/initial-packages/xml-core_0.13+nmu2_all.deb
(Reading database ... 79028 files and directories currently installed.)
Preparing to replace docbook-xml 4.5-7.2 (using .../docbook-xml_4.5-7.2_all.deb) ...
Unpacking replacement docbook-xml ...
Preparing to replace docbook-xsl 1.76.1+dfsg-1 (using .../docbook-xsl_1.76.1+dfsg-1_all.deb) ...
Unpacking replacement docbook-xsl ...
Preparing to replace fontconfig 2.9.0-7.1 (using .../fontconfig_2.9.0-7.1_i386.deb) ...
Unpacking replacement fontconfig ...
Preparing to replace libc6:i386 2.13-38 (using .../libc6_2.13-38_i386.deb) ...
Unpacking replacement libc6:i386 ...
Preparing to replace libc6-i686:i386 2.13-38 (using .../libc6-i686_2.13-38_i386.deb) ...
Unpacking replacement libc6-i686:i386 ...
Preparing to replace libgdk-pixbuf2.0-0:i386 2.26.1-1 (using .../libgdk-pixbuf2.0-0_2.26.1-1_i386.deb) ...
Unpacking replacement libgdk-pixbuf2.0-0:i386 ...
Preparing to replace libglib2.0-0:i386 2.33.12+really2.32.4-5 (using .../libglib2.0-0_2.33.12+really2.32.4-5_i386.deb) ...
Unpacking replacement libglib2.0-0:i386 ...
Preparing to replace libgtk-3-0:i386 3.4.2-7 (using .../libgtk-3-0_3.4.2-7_i386.deb) ...
Unpacking replacement libgtk-3-0:i386 ...
Preparing to replace man-db 2.6.2-1 (using .../man-db_2.6.2-1_i386.deb) ...
Unpacking replacement man-db ...
Preparing to replace python-support 1.0.15 (using .../python-support_1.0.15_all.deb) ...
Unpacking replacement python-support ...
Preparing to replace sgml-base 1.26+nmu4 (using .../sgml-base_1.26+nmu4_all.deb) ...
Unpacking replacement sgml-base ...
Preparing to replace sgml-data 2.0.8 (using .../sgml-data_2.0.8_all.deb) ...
Unpacking replacement sgml-data ...
Preparing to replace xml-core 0.13+nmu2 (using .../xml-core_0.13+nmu2_all.deb) ...
Unpacking replacement xml-core ...
Setting up libc6:i386 (2.13-38) ...
Setting up libc6-i686:i386 (2.13-38) ...
Setting up libglib2.0-0:i386 (2.33.12+really2.32.4-5) ...
Setting up man-db (2.6.2-1) ...
Updating database of manual pages ...
Setting up python-support (1.0.15) ...
Setting up sgml-base (1.26+nmu4) ...
Setting up xml-core (0.13+nmu2) ...
Setting up docbook-xsl (1.76.1+dfsg-1) ...
Setting up fontconfig (2.9.0-7.1) ...
Regenerating fonts cache... done.
Setting up libgdk-pixbuf2.0-0:i386 (2.26.1-1) ...
Setting up libgtk-3-0:i386 (3.4.2-7) ...
Setting up sgml-data (2.0.8) ...
Setting up docbook-xml (4.5-7.2) ...
dpkg: error processing docbook-xml (--install):
 subprocess installed post-installation script was interrupted
Errors were encountered while processing:
 docbook-xml
++ error_handler
++ true 'WARNING: exited with non-zero exit code: 1'
+ '[' -x /sbin/insserv ']'
+ /sbin/insserv --showall</code></pre>
<blockquote>Thank you for being honest. I'll revise the user output to make it more communicative what is happening in background. Can't effort any bug reports due to premature interruption of First Run Initializer. And I'll also add a test for whonxicheck to see if the /home/user/.whonix/first_run_initializer.log.done file exists.</blockquote>
<p>Adding a warning about not to interrupter the First Run initializer, telling the user that this might take a few minutes and adding more verbose (“running command 1/6, etc” ) output would be helpful.</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-02-01T14:43:45Z' class='post-time'>
                February 1, 2014,  2:43pm
              </time>
              <meta itemprop='dateModified' content='2014-02-01T14:43:45Z'>
          <span itemprop='position'>#75</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Despite redirecting all output to the log, this error message still appeared in the main window.
http://i59.tinypic.com/b4f4md.jpg</blockquote>
A message from the kernel. Most likely the root cause is not in Whonix's code. Either it's a Virtual Box bug and/or the virtual hdd/file system is damaged and/or the host's hdd/file system is damaged.
<p>Running “mkswap /swapfile1 --uuid 0615ba72-85b0-4183-8d54-300bb0d2e49” only triggered the error “mkswap: fsync failed”. Any other file operation could have triggered it as well. You probably won’t be able to reproduce the exact same error (see log “mkswap: fsync failed”)? If so, that would support my hypothesis.</p>
<blockquote>Log 2000</blockquote>
It failed because of the underlying issue. I don't think I can do anything about it.
<p>If it happened while building inside a VM:</p>
<ul>
<li>I suggest to install a new VM in a new virtual machine/new virtual hdd and try again.</li>
</ul>
<p>If it was on the host or if such errors persist:</p>
<ul>
<li>I suggest running fsck and see if that helps.</li>
<li>Also trying a hdd stress test is advisable.</li>
<li>Re-installing the host operating system might solve it.</li>
<li>When you’re out of luck, you need a new physical hardrive.</li>
</ul>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-02-01T14:57:46Z' class='post-time'>
                February 1, 2014,  2:57pm
              </time>
              <meta itemprop='dateModified' content='2014-02-01T14:57:46Z'>
          <span itemprop='position'>#76</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>I have three files, first_run_initializer.done, first_run_initializer.start, first_run_initializer.log.</blockquote>
This is expected.
<blockquote>update-xmlcatalog: error: root catalog /etc/xml/catalog not found
update-xmlcatalog: error: package catalog /etc/xml/docbook-xml.xml not found</blockquote>
These are expected when Whonix First Run Initializer runs dpkg for the first time as well. I'll add this information above running that command in the log.
<blockquote>dpkg: error processing docbook-xml (--install):
 subprocess installed post-installation script was interrupted
Errors were encountered while processing:
 docbook-xml</blockquote>
Seems the package manager is now broken most likely due to pressing ctrl + c. (Most likely, because this error didn't occur when dpkg was run for the first time.) No idea how to fix it without re-installation. Deleting the three Whonix First Run Initializer files and rebooting should result in re-running it when you reboot next time. Maybe dpkg knows how to recover it.
<blockquote>Adding a warning about not to interrupter the First Run initializer, telling the user that this might take a few minutes</blockquote>
<p>What about changing</p>
<blockquote>[INFO] [Whonix First Run Initializer]: Preparing Whonix... Will reboot
when finished...</blockquote>
to
<blockquote>[INFO] [Whonix First Run Initializer]: Preparing Whonix... Will reboot
when finished... Do not interrupt this process or your system might be
be unstable! This may take a while...</blockquote>
?
<blockquote>and adding more verbose ("running command 1/6, etc" ) output would be helpful.</blockquote>
I agree. Unfortunately it's just two commands (two times dpkg) which take noticeable time. The other commands only take a second or two. While dpkg is running, it doesn't support outputting a progress meter. Therefore I wouldn't know how I could make anything but a fake progress meter.
<p>I could output what dpkg is outputting when run for the second time. I wouldn’t want to output what dpkg is outputting when run for the first time, because of the expected “/etc/xml/catalog not found” error. (Which would lead to too many false bug reports.)</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Occq'><span itemprop='name'>Occq</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-02-01T20:37:30Z' class='post-time'>
                February 1, 2014,  8:37pm
              </time>
              <meta itemprop='dateModified' content='2014-02-01T20:37:30Z'>
          <span itemprop='position'>#77</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>[INFO] [Whonix First Run Initializer]: Preparing Whonix... Will reboot
when finished... Do not interrupt this process or your system might be
be unstable! This may take a while, be patient...</blockquote>
<p>Sounds great.</p>
<aside class="quote" data-post="76" data-topic="28">
<div class="title">
<div class="quote-controls"></div>
 adrelanos:</div>
<blockquote>
<p>[quote]I have three files, first_run_initializer.done, first_run_initializer.start, first_run_initializer.log.</p>
</blockquote>
</aside>
<p>Seems the package manager is now broken most likely due to pressing ctrl + c. (Most likely, because this error didn’t occur when dpkg was run for the first time.) No idea how to fix it without re-installation. Deleting the three Whonix First Run Initializer files and rebooting should result in re-running it when you reboot next time.[/quote]</p>
<p>Deleting the .whonix folder resulted in re-running the First Run Initializer. This time it only took 8 minutes to finish all and boot in Whonix.</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Occq'><span itemprop='name'>Occq</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-02-01T21:30:10Z' class='post-time'>
                February 1, 2014,  9:30pm
              </time>
              <meta itemprop='dateModified' content='2014-02-01T21:30:10Z'>
          <span itemprop='position'>#78</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“adrelanos, post:75, topic:28”][quote]<br>
Despite redirecting all output to the log, this error message still appeared in the main window.<br>
          <a href="../../../external.gif?link=http://tinypic.com/images/goodbye.jpg" target="_blank" rel="nofollow noopener" class="onebox">
            <img src="../../../external.gif?link=http://tinypic.com/images/goodbye.jpg" width="300" height="300">
          </a>
<br>
[/quote]<br>
A message from the kernel. Most likely the root cause is not in Whonix’s code. Either it’s a Virtual Box bug and/or the virtual hdd/file system is damaged and/or the host’s hdd/file system is damaged.</p>
<p>Running “mkswap /swapfile1 --uuid 0615ba72-85b0-4183-8d54-300bb0d2e49” only triggered the error “mkswap: fsync failed”. Any other file operation could have triggered it as well. You probably won’t be able to reproduce the exact same error (see log “mkswap: fsync failed”)? If so, that would support my hypothesis.</p>
<aside class="quote no-group">
<blockquote>
<p>Log 2000</p>
</blockquote>
</aside>
<p>It failed because of the underlying issue. I don’t think I can do anything about it.</p>
<p>If it happened while building inside a VM:</p>
<ul>
<li>I suggest to install a new VM in a new virtual machine/new virtual hdd and try again.</li>
</ul>
<p>If it was on the host or if such errors persist:</p>
<ul>
<li>I suggest running fsck and see if that helps.</li>
<li>Also trying a hdd stress test is advisable.</li>
<li>Re-installing the host operating system might solve it.</li>
<li>When you’re out of luck, you need a new physical hardrive.[/quote]</li>
</ul>
<p><a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,7.msg208.html#msg208" class="onebox" target="_blank" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,7.msg208.html#msg208</a></p>
<p>I repeated the process mentioned here (building inside a VM) on a different machine with a different host OS. Still the same error.</p>
<p>I can’t post a log but here’s a screenshot.<br>
          <a href="../../../external.gif?link=http://tinypic.com/images/goodbye.jpg" target="_blank" rel="nofollow noopener" class="onebox">
            <img src="../../../external.gif?link=http://tinypic.com/images/goodbye.jpg" width="300" height="300">
          </a>
</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-02-01T22:35:47Z' class='post-time'>
                February 1, 2014, 10:35pm
              </time>
              <meta itemprop='dateModified' content='2014-02-01T22:35:47Z'>
          <span itemprop='position'>#79</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The system that is trying to build the Whonix VM…</p>
<p>Is it Debian stable?</p>
<p>Are you using full disk encryption? Dmcrypt? Luks? LVM?</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="28.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-02-01T22:48:48Z' class='post-time'>
                February 1, 2014, 10:48pm
              </time>
              <meta itemprop='dateModified' content='2014-02-01T22:48:48Z'>
          <span itemprop='position'>#80</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>How’s your shell scripting skill?</p>
<p>You can see everything the script is doing by looking at the actual file.<br>
whonix_shared/usr/share/whonix/postinst.d/70_create_swap_file</p>
<p>The script does exactly that with the only difference, that it’s running within the vm image. What matters here are only two commands.</p>
<p>Please try to reproduce this error on the host. As root:</p>
<pre><code class="lang-auto">dd if=/dev/zero of=/swapfile1 bs=1024 count=524288
mkswap /swapfile1 --uuid 0615ba72-85b0-4183-8d54-300bb0d2e491</code></pre>
<p>(And “rm /swapfile1” afterwards to get rid of the test file.)</p>
        </div>

        <meta itemprop='headline' content='Building Whonix with --install-to-root [[--bare-metal]] option in a VM'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="289ba9.html?page=3">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="28af4d.html?page=5">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
