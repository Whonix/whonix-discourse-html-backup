<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
    <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848</link>
    <description>Hi there,I am successfully running 

NetVM &gt; ProxyVM(VPN-Standalone Debian 8) 

At ProxyVM I am also running this VPN firewall 
https://github.com/adrelanos/VPN-Firewall 

exact same installation as usually and how is documented.
Always worked at Ubuntu fine, Now I am trying saddle Qubes, Having difficulties thought.

Guys can you advise me,what to modify in orginal &quot;adrenalos firewall in order be able route traffic from ProxyVM - To others AppVM ?

My point is avoid leaks and have dns protection of my IP.
adrelanos/vpn-firewall always worked for this fine.</description>
    <language>en</language>
    <lastBuildDate>Sat, 09 Jan 2016 15:04:49 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>It’s not so trivial to fix. Explaining it takes longer than actually<br>
fixing it.</p>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/12</link>
        <pubDate>Sat, 09 Jan 2016 15:04:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-12</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[jessewidget85]]></dc:creator>
        <description><![CDATA[
            <p>Oh it’s dangerous than, I am gonna fix it, I little confused how should I do that.Let’s clear this out.</p>
<ol>
<li>create user ‘tunnel’</li>
</ol>
<p>Question:Should I copy paste this script to root ? By debian you mean root right ?</p>
<p>/debian/whonix-gw-firewall.postinst</p>
<p>I am gonna use this at qubes. In VM where also openvpn is gonna run.</p>
<ol start="2">
<li>Should I do also something else “non documented” than simply copy paste your code in to system folders ? Except use my brain when implementing … I strive, though.</li>
</ol>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/11</link>
        <pubDate>Sat, 09 Jan 2016 03:33:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-11</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I don’t think so. It’s a very difficult to solve issue. See this one:<br>
<a href="https://phabricator.whonix.org/T460">https://phabricator.whonix.org/T460</a></p>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/10</link>
        <pubDate>Sat, 02 Jan 2016 19:13:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-10</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[jessewidget85]]></dc:creator>
        <description><![CDATA[
            <p>Alright I will do some additional testings with iptables from thread above.<br>
Also found Debian repository includes ufw<br>
Which is easily configurable firewall. It might be also solution.</p>
<p>Thank you.</p>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/9</link>
        <pubDate>Sat, 02 Jan 2016 18:49:46 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-9</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="6" data-topic="1848" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/j/bbe5ce/40.png" class="avatar"> jessewidget85:</div>
<blockquote>
<p>In all ways better setup VPN at standalone (Proxy VM) between sys-net and whonix-gateway.</p>
</blockquote>
</aside>
<p>I agree that it’s certainly not worse (Well, except for the hassle of configuring and maintaining another VM). Whether it’s “better” or not is debatable. I know that it’s not your intent to debate the merits of using a VPN but just some food for thought…</p>
<p>Assuming there was no user error and that your Gateway was compromised by a fairly skilled adversary, it wouldn’t be that difficult to link your physical IP to your revealed VPN IP. Even if your VPN doesn’t keep logs, it’s ISP certainly does. Remember they now control your Gateway - correlating traffic becomes trivial.</p>
<p>Once you become the target, you’ve lost half the battle. Using a VPN to hide Tor usage may help you from becoming targeted in the first place but whether it will protect you once you’re the target, maybe not so much…</p>
<p>In any case, if you wish to pursue VPN in standalone proxyVM, here’s the thread Patrick was referring to:</p>
<p><a href="https://groups.google.com/d/msg/qubes-users/-9gR1Va3BnY/n02NJI3dRocJ" class="onebox" target="_blank">https://groups.google.com/d/msg/qubes-users/-9gR1Va3BnY/n02NJI3dRocJ</a></p>
<p>Good luck!</p>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/8</link>
        <pubDate>Fri, 01 Jan 2016 19:34:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-8</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="6" data-topic="1848">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/j/bbe5ce/40.png" class="avatar"> jessewidget85:</div>
<blockquote>
<p>I got also idea set it like this,but if ever your Whonix-Gateway would get compromised, the attacker could just drop the VPN and see your real IP ? I guess…</p>
<p>In all ways better setup VPN at standalone (Proxy VM) between sys-net and whonix-gateway.</p>
</blockquote>
</aside>
<p>Right.</p>
<aside class="quote" data-post="6" data-topic="1848">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/j/bbe5ce/40.png" class="avatar"> jessewidget85:</div>
<blockquote>
<p>Than Patrick says it is currently unsupported in qubes, Could you please modify it than ?</p>
</blockquote>
</aside>
<p>No. This is what unsupported means:<br>
<a href="https://www.whonix.org/wiki/FAQ#What_do_you_mean_by_unsupported.3F">https://www.whonix.org/wiki/FAQ#What_do_you_mean_by_unsupported.3F</a></p>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/7</link>
        <pubDate>Fri, 01 Jan 2016 17:14:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-7</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[jessewidget85]]></dc:creator>
        <description><![CDATA[
            <p>I got also idea set it like this,but if ever your Whonix-Gateway would get compromised, the attacker could just drop the VPN and see your real IP ? I guess…</p>
<p>In all ways better setup VPN at standalone (Proxy VM) between sys-net and whonix-gateway.</p>
<p>And use this instance as VPN+Firewall.</p>
<p>Today it is 3th day I am messing around. With 0 success, because no iptables knowledge.</p>
<p>Tried some attempts like rerouting or forwarding packets using this</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.qubes-os.org/attachment/icons/512x512/apps/qubes-logo-icon.png" class="site-icon" width="500" height="500">
      <a href="https://www.qubes-os.org/doc/qubes-firewall/" target="_blank" rel="nofollow noopener">Qubes OS</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="https://www.qubes-os.org/attachment/icons/qubes-logo-icon-name-slogan-fb.png" class="thumbnail"></div>

<h3><a href="https://www.qubes-os.org/doc/qubes-firewall/" target="_blank" rel="nofollow noopener">The Qubes Firewall</a></h3>

<p>Understanding Qubes networking and firewall  Understanding firewalling in Qubes  Every qube in Qubes is connected to the network via a FirewallVM, which is used to enforce network-level policies. B...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Conclusion</p>
<p>First I implemented Adrenalos Firewall as standalone ProxyVM debian 8 (Within this Instance All is working. The only thing is that it is not redirecting traffic to any APPVM,</p>
<p>Than Patrick says it is currently unsupported in qubes, Could you please modify it than ?</p>
<p>Next thing I tried is use Qubes build-in firewall and Edit Firewall rules in it’s own “Firewall rules” tab the problem here is that if I use in Firewall ProxyVM:</p>
<p>Deny network access except = and IP of my VPN, it than do not allow, access to the internet, however ping in between APPVM is working.</p>
<p>Next I tried something with rerouting iptable packets but here I am not sure much yet what i am doing so I would rather take advice from someone experienced.</p>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/6</link>
        <pubDate>Thu, 31 Dec 2015 17:36:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-6</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Standalone VPN-Firewall from github is unsupported in Qubes.</p>
<p>Whonix-Gateway’s VPN_FIREWALL feature works in Qubes as well as in<br>
Non-Qubes-Whonix.</p>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/5</link>
        <pubDate>Wed, 30 Dec 2015 22:58:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-5</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="3" data-topic="1848" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>VPN-Firewall currently does not support Qubes.</p>
</blockquote>
</aside>
<p>I am using the VPN-Firewall contained in whonix_firewall in my Whonix-Gateway ProxyVM. Just to clarify, this usage is supported, right? When you mean unsupported, that means using the VPN-Firewall Github script in a non-Whonix Qubes VM?</p>
<p>I decided to put VPN in Whonix-Gateway and not a separate ProxyVM for just this reason. I’ve seen the thread in the qubes-users mailing list and it is too long / convoluted / unknown quality to invest my time.</p>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/4</link>
        <pubDate>Wed, 30 Dec 2015 19:53:48 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-4</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>VPN-Firewall currently does not support Qubes. Making that work would<br>
require development work.</p>
<p>Qubes doesn’t need VPN-Firewall. Qubes has it’s own solution to that<br>
issue. It may be in the Qubes documentation or on the Qubes mailing<br>
list. Please refer to the Qubes support for that.</p>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/3</link>
        <pubDate>Wed, 30 Dec 2015 16:35:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-3</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[jessewidget85]]></dc:creator>
        <description><![CDATA[
            <p>Also worth to mention,</p>
<p>Both I am running at startup, OpenVPN and Vpnfirewall as well,<br>
If I disable firewall using this way</p>
<p>#!/bin/bash<br>
set -x<br>
iptables -F<br>
iptables -X<br>
iptables -t nat -F<br>
iptables -t nat -X<br>
iptables -t mangle -F<br>
iptables -t mangle -X<br>
iptables -P INPUT ACCEPT<br>
iptables -P OUTPUT ACCEPT</p>
<p>than nothing has changed, still no connection go through,</p>
<p>In this ProxyVm is installed nothing else than strictly Vpnfirewall + OpenVpn</p>
<p>Did some research but haven’t found any well documented method of installation Great Bulletproof Firewall from which i would be wise.</p>
<p>Every Hint for me now,is appreciated ,and think will be useful also for others who have or will have same concern with setting up this.</p>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/2</link>
        <pubDate>Wed, 30 Dec 2015 01:45:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-2</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
      <item>
        <title>Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</title>
        <dc:creator><![CDATA[jessewidget85]]></dc:creator>
        <description><![CDATA[
            <p>Hi there,I am successfully running</p>
<p>NetVM &gt; ProxyVM(VPN-Standalone Debian 8)</p>
<p>At ProxyVM I am also running this VPN firewall<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://assets-cdn.github.com/favicon.ico" class="site-icon" width="32" height="32">
      <a href="https://github.com/adrelanos/VPN-Firewall" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars1.githubusercontent.com/u/1985040?s=400&amp;v=4" class="thumbnail onebox-avatar" width="400" height="400">

<h3><a href="https://github.com/adrelanos/VPN-Firewall" target="_blank" rel="nofollow noopener">adrelanos/vpn-firewall</a></h3>

<p>vpn-firewall - Leak Protection (Fail Safe Mechanism) for (Open)VPN</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<p>exact same installation as usually and how is documented.<br>
Always worked at Ubuntu fine, Now I am trying saddle Qubes, Having difficulties thought.</p>
<p>Guys can you advise me,what to modify in orginal "adrenalos firewall in order be able route traffic from ProxyVM - To others AppVM ?</p>
<p>My point is avoid leaks and have dns protection of my IP.<br>
adrelanos/vpn-firewall always worked for this fine.</p>
          <p><a href="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848/1</link>
        <pubDate>Wed, 30 Dec 2015 01:05:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1848-1</guid>
        <source url="http://forums.whonix.org/t/adrenalos-vpnfirewall-working-but-not-routing-traffic-to-appvm/1848.rss">Adrenalos Vpnfirewall Working but not routing traffic to AppVM.</source>
      </item>
  </channel>
</rss>
