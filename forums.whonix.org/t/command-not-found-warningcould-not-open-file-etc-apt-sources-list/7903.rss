<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>command-not-found - WARNING:root:could not open file &#39;/etc/apt/sources.list&#39;</title>
    <link>http://forums.whonix.org/t/command-not-found-warningcould-not-open-file-etc-apt-sources-list/7903</link>
    <description>`command-not-found` works [1], however is showing that warning.

&gt; WARNING:root:could not open file &#39;/etc/apt/sources.list&#39;

Whonix does not ship `/etc/apt/sources.list` but only files in `/etc/apt/sources.list.d/` drop-in folder.
( https://github.com/Whonix/anon-apt-sources-list )
That is because file `/etc/apt/sources.list` managed by a package could conflict with local users, causing interactive dpkg config resolution dialog.

Considering to apply the following workaround.

    sudo touch /etc/apt/sources.list
    sudo chmod o+r /etc/apt/sources.list

The latter command required due to umask hardening. (https://forums.whonix.org/t/change-default-umask/7416)

Any reason against creating an empty `/etc/apt/sources.list` which is not managed by any package?

----

[1] Well, perhaps except from requriing another workaround which breaks it, see this post: https://forums.whonix.org/t/change-default-umask/7416/45.</description>
    <language>en</language>
    <lastBuildDate>Thu, 19 Sep 2019 13:00:35 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/command-not-found-warningcould-not-open-file-etc-apt-sources-list/7903.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>command-not-found - WARNING:root:could not open file &#39;/etc/apt/sources.list&#39;</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/whonix-legacy/commit/4202681132b1f0307cc95ceb3a1ca231fe6d9b3d" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-legacy</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/whonix-legacy/commit/4202681132b1f0307cc95ceb3a1ca231fe6d9b3d" target="_blank" rel="nofollow noopener">command-not-found fixes</a>
</h4>

  <pre class="message" style="white-space: normal;">https://forums.whonix.org/t/command-not-found-warningcould-not-open-file-etc-apt-sources-list/7903
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=917455</pre>

<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/whonix-legacy/commit/4202681132b1f0307cc95ceb3a1ca231fe6d9b3d" target="_blank" rel="nofollow noopener">12:59PM - 19 Sep 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>32 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/command-not-found-warningcould-not-open-file-etc-apt-sources-list/7903/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/command-not-found-warningcould-not-open-file-etc-apt-sources-list/7903/2</link>
        <pubDate>Thu, 19 Sep 2019 13:00:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7903-2</guid>
        <source url="http://forums.whonix.org/t/command-not-found-warningcould-not-open-file-etc-apt-sources-list/7903.rss">command-not-found - WARNING:root:could not open file &#39;/etc/apt/sources.list&#39;</source>
      </item>
      <item>
        <title>command-not-found - WARNING:root:could not open file &#39;/etc/apt/sources.list&#39;</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><code>command-not-found</code> works [1], however is showing that warning.</p>
<blockquote>
<p>WARNING:root:could not open file ‘/etc/apt/sources.list’</p>
</blockquote>
<p>Whonix does not ship <code>/etc/apt/sources.list</code> but only files in <code>/etc/apt/sources.list.d/</code> drop-in folder.<br>
( <a href="https://github.com/Whonix/anon-apt-sources-list" rel="nofollow noopener">https://github.com/Whonix/anon-apt-sources-list</a> )<br>
That is because file <code>/etc/apt/sources.list</code> managed by a package could conflict with local users, causing interactive dpkg config resolution dialog.</p>
<p>Considering to apply the following workaround.</p>
<pre><code>sudo touch /etc/apt/sources.list
sudo chmod o+r /etc/apt/sources.list
</code></pre>
<p>The latter command required due to umask hardening. (<a href="https://forums.whonix.org/t/change-default-umask/7416" class="inline-onebox">Change default umask.</a>)</p>
<p>Any reason against creating an empty <code>/etc/apt/sources.list</code> which is not managed by any package?</p>
<hr>
<p>[1] Well, perhaps except from requriing another workaround which breaks it, see this post: <a href="https://forums.whonix.org/t/change-default-umask/7416/45" class="inline-onebox">Change default umask.</a>.</p>
          <p><a href="http://forums.whonix.org/t/command-not-found-warningcould-not-open-file-etc-apt-sources-list/7903/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/command-not-found-warningcould-not-open-file-etc-apt-sources-list/7903/1</link>
        <pubDate>Fri, 16 Aug 2019 15:28:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7903-1</guid>
        <source url="http://forums.whonix.org/t/command-not-found-warningcould-not-open-file-etc-apt-sources-list/7903.rss">command-not-found - WARNING:root:could not open file &#39;/etc/apt/sources.list&#39;</source>
      </item>
  </channel>
</rss>
