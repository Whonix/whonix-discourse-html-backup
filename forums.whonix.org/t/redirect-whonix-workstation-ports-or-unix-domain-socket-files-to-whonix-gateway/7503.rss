<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Redirect Whonix-Workstation Ports or Unix Domain Socket Files to Whonix-Gateway</title>
    <link>http://forums.whonix.org/t/redirect-whonix-workstation-ports-or-unix-domain-socket-files-to-whonix-gateway/7503</link>
    <description>Tried  port redirection with no success (if it is working).

https://www.whonix.org/wiki/Redirect_Whonix-Workstation_Ports_or_Unix_Domain_Socket_Files_to_Whonix-Gateway

I discovered /usr/share/anon-ws-disable-stacked-tor/systemd-unit-files-generator is not even installed on Whonix 15. I had to add the script manually.

Also is  the command correct for this? How would it know what port to redirect if it is not specified in the unix domain socket file?
 
`file_port_tuples+=&quot; /var/run/anon-ws-disable-stacked-tor/unix-domain-socket-file.sock#9050 &quot;`</description>
    <language>en</language>
    <lastBuildDate>Thu, 06 Jun 2019 05:51:39 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/redirect-whonix-workstation-ports-or-unix-domain-socket-files-to-whonix-gateway/7503.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Redirect Whonix-Workstation Ports or Unix Domain Socket Files to Whonix-Gateway</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Instructions clarified.</p>
<p><a href="https://www.whonix.org/w/index.php?title=Redirect_Whonix-Workstation_Ports_or_Unix_Domain_Socket_Files_to_Whonix-Gateway&amp;type=revision&amp;diff=47833&amp;oldid=46836" rel="nofollow noopener">https://www.whonix.org/w/index.php?title=Redirect_Whonix-Workstation_Ports_or_Unix_Domain_Socket_Files_to_Whonix-Gateway&amp;type=revision&amp;diff=47833&amp;oldid=46836</a></p>
<p>Reboot required<br>
(or this patch - until package gets upgraded.)</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/anon-ws-disable-stacked-tor/commit/1f7bf8ff3af2548cb735ab9450c7395d9d4065cf" target="_blank" rel="nofollow noopener">github.com/Whonix/anon-ws-disable-stacked-tor</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/anon-ws-disable-stacked-tor/commit/1f7bf8ff3af2548cb735ab9450c7395d9d4065cf" target="_blank" rel="nofollow noopener">'restart' rather than 'start' required to support running this script</a>
</h4>

  <pre class="message" style="white-space: normal;">during runtime due to the following.
Jun 06 05:38:49 host systemd[1]: anon-ws-disable-stacked-tor_autogen__var_run_tor_socks.socket: Socket unit configuration has changed while unit has been running,...</pre>

<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/anon-ws-disable-stacked-tor/commit/1f7bf8ff3af2548cb735ab9450c7395d9d4065cf" target="_blank" rel="nofollow noopener">05:43AM - 06 Jun 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>6 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Pretty sure any quirks for manual run be sorted. This is essential for Tor Browser connectivity (so this is working) and manual run and instructions therefore surely can be sorted.</p>
          <p><a href="http://forums.whonix.org/t/redirect-whonix-workstation-ports-or-unix-domain-socket-files-to-whonix-gateway/7503/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/redirect-whonix-workstation-ports-or-unix-domain-socket-files-to-whonix-gateway/7503/3</link>
        <pubDate>Thu, 06 Jun 2019 05:51:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7503-3</guid>
        <source url="http://forums.whonix.org/t/redirect-whonix-workstation-ports-or-unix-domain-socket-files-to-whonix-gateway/7503.rss">Redirect Whonix-Workstation Ports or Unix Domain Socket Files to Whonix-Gateway</source>
      </item>
      <item>
        <title>Redirect Whonix-Workstation Ports or Unix Domain Socket Files to Whonix-Gateway</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="30" data-topic="3081">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>I discovered /usr/share/anon-ws-disable-stacked-tor/systemd-unit-files-generator is not even installed on Whonix 15.</p>
</blockquote>
</aside>
<pre><code>/usr/lib/anon-ws-disable-stacked-tor/systemd-unit-files-generator
</code></pre>
<p><a href="https://www.whonix.org/w/index.php?title=Redirect_Whonix-Workstation_Ports_or_Unix_Domain_Socket_Files_to_Whonix-Gateway&amp;type=revision&amp;diff=47822&amp;oldid=46838" rel="nofollow noopener">https://www.whonix.org/w/index.php?title=Redirect_Whonix-Workstation_Ports_or_Unix_Domain_Socket_Files_to_Whonix-Gateway&amp;type=revision&amp;diff=47822&amp;oldid=46838</a></p>
<aside class="quote no-group" data-post="30" data-topic="3081">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>How would it know what port to redirect if it is not specified in the unix domain socket file?</p>
</blockquote>
</aside>
<p>From an application using unix domain socket files, it does not define any port numbers, since, well, it is using unix domain socket files. So we have to make it up. For Tor Browser I’ve arbitrarily chosen the port numbers it used to use before Tor Browser was changed to be using unix domain socket files by Tor Project.</p>
<p>A port can be picked as per <a href="https://www.whonix.org/wiki/Stream_Isolation" rel="nofollow noopener">https://www.whonix.org/wiki/Stream_Isolation</a>. Depending on the application, we might have to add new ports.</p>
<aside class="quote no-group" data-post="30" data-topic="3081">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Also is the command correct for this?</p>
</blockquote>
</aside>
<p>Should be good enough for development for for production we might have to use a different port as per above.</p>
          <p><a href="http://forums.whonix.org/t/redirect-whonix-workstation-ports-or-unix-domain-socket-files-to-whonix-gateway/7503/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/redirect-whonix-workstation-ports-or-unix-domain-socket-files-to-whonix-gateway/7503/2</link>
        <pubDate>Thu, 06 Jun 2019 05:10:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7503-2</guid>
        <source url="http://forums.whonix.org/t/redirect-whonix-workstation-ports-or-unix-domain-socket-files-to-whonix-gateway/7503.rss">Redirect Whonix-Workstation Ports or Unix Domain Socket Files to Whonix-Gateway</source>
      </item>
      <item>
        <title>Redirect Whonix-Workstation Ports or Unix Domain Socket Files to Whonix-Gateway</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Tried  port redirection with no success (if it is working).</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Redirect_Whonix-Workstation_Ports_or_Unix_Domain_Socket_Files_to_Whonix-Gateway" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/360;"><img src="https://www.whonix.org/w/images/2/23/Redirect12123.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Redirect_Whonix-Workstation_Ports_or_Unix_Domain_Socket_Files_to_Whonix-Gateway" target="_blank" rel="nofollow noopener">Redirect Whonix-Workstation Ports or Unix Domain Socket Files to Whonix-Gateway</a></h3>

<p>redirect ports of unix domain socket files from Whonix-Gateway ™ localhost to Whonix-Workstation ™</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>I discovered /usr/share/anon-ws-disable-stacked-tor/systemd-unit-files-generator is not even installed on Whonix 15. I had to add the script manually.</p>
<p>Also is  the command correct for this? How would it know what port to redirect if it is not specified in the unix domain socket file?</p>
<p><code>file_port_tuples+=" /var/run/anon-ws-disable-stacked-tor/unix-domain-socket-file.sock#9050 "</code></p>
          <p><a href="http://forums.whonix.org/t/redirect-whonix-workstation-ports-or-unix-domain-socket-files-to-whonix-gateway/7503/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/redirect-whonix-workstation-ports-or-unix-domain-socket-files-to-whonix-gateway/7503/1</link>
        <pubDate>Wed, 05 Jun 2019 12:20:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-7503-1</guid>
        <source url="http://forums.whonix.org/t/redirect-whonix-workstation-ports-or-unix-domain-socket-files-to-whonix-gateway/7503.rss">Redirect Whonix-Workstation Ports or Unix Domain Socket Files to Whonix-Gateway</source>
      </item>
  </channel>
</rss>
