<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Cryptolog for Whonix website</title>
    <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369</link>
    <description>Should the Whonix website default to using cryptolog? What about qubes-os.org?

https://github.com/efforg/cryptolog

&gt; Cryptolog is a simple log filter program that reads log file entries from standard input and writes to either a file or pipes them to the standard input of another program (like logrotate or cronolog). The filter takes the IP address in the entry (everything before the first space character) and encrypts it, throwing away the key.

&gt; Technically, cryptolog takes 16 bytes of random data from /dev/urandom and stores it in a file (called the salt). It then calculates a sha256 hash of the salt concatonated with the original IP address, base64-encodes that, and chops off the first six characters of the result. That&#39;s what gets stored instead of the IP address in the resulting log entry. Of course this means that if someone who wishes to know the original IP addresses gets access to these logs, all they need to know is the salt (which is also stored on the hard drive) to uncover the original IPs. In order to prevent this, the salt gets updated once a day with a new random 16 bytes. At worst, an attacker can only get the last day&#39;s worth of original IP addresses.

&gt; Cryptolog makes logs that look like this:

&gt; 67.169.69.72 - - [12/May/2011:17:58:07 -0700] &quot;GET / HTTP/1.1&quot; 200 430

&gt; Look like this instead:

&gt; UkezVh - - [12/May/2011:17:58:07 -0700] &quot;GET / HTTP/1.1&quot; 200 430

&gt; The string that replaces the IP address will remain the same for the same day, so you can tell the difference between unique visitors and pageviews.

&gt; Here are some example CustomLog lines for your Apache config files:

&gt; CustomLog &quot;| /usr/bin/cryptolog -w /root/cryptolog-access.log&quot; combined
&gt; CustomLog &quot;| /usr/bin/cryptolog -c /usr/bin/cronolog\\\ /root/cryptolog-access-%Y-%m-%d.log&quot; combined
&gt; CustomLog &quot;| /usr/bin/cryptolog -s /tmp/salt_file -w /root/cryptolog-access.log&quot; combined

&gt; Notice that if you&#39;re using the -c option, you need to escape spaces in the command you&#39;re running with three backslashes.

On a related issue, is there a reason the Whonix forums can&#39;t be used/run under the .onion domain (unlike the wiki)?

Assume in advance everyone and everything posted here is of great interest to the police state authoritarians.</description>
    <language>en</language>
    <lastBuildDate>Fri, 06 Jan 2017 15:53:18 +0000</lastBuildDate>
    <category>Website</category>
    <atom:link href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<aside class="quote" data-post="10" data-topic="3369">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Neither that reference is any makes me wiser. Specifically I don’t see how it worsens user anonymity? Or worsens server anonymity?</p>
</blockquote>
</aside>
<p>What these researchers showcased (and made possible via the linked tool) is to use hash  based analysis to find Hidden Service Directories responsible for a specific Hidden Service. Via this method, they can pinpoint the six directory servers responsible for a given hidden service on a specific date, which are chosen by a client trying to access said hidden service on a radom basis. Via a brute-force attack, it is possible to use this knowledge to gain the responsibilty for the directory of a hidden service you’d like to attack. This method can easily be used to deanonymize those trying to access said hidden service and it is much easier to do than more famous methods, which require control of a large chunk of the Tor network to work properly.</p>
<p>The researchers who found this method actually where able to take over four of the six directory servers employed by the Facebook Hidden Service on the day of their presentation via this method.</p>
<p>That is the reason why in certain situations, using the “normal TLS based version” of a public website via Tor is better then using the Hidden Service.</p>
<p>A way to prevent this would be a overhaul of the current design the Tor network employs currently discussed here: <a href="https://gitweb.torproject.org/torspec.git/tree/proposals/224-rend-spec-ng.txt">https://gitweb.torproject.org/torspec.git/tree/proposals/224-rend-spec-ng.txt</a> Another way would perhaps be to combine TLS and Hidden Services, though getting a certificate for a Hidden Service isn’t that easy at this point in time.</p>
<p>The tool I linked to on Github actually is the one used for this kind of attack. More information can also be found here: <a href="https://conference.hitb.org/hitbsecconf2015ams/sessions/non-hidden-hidden-services-considered-harmful-attacks-and-detection/">https://conference.hitb.org/hitbsecconf2015ams/sessions/non-hidden-hidden-services-considered-harmful-attacks-and-detection/</a></p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/12</link>
        <pubDate>Fri, 06 Jan 2017 15:36:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-12</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="9" data-topic="3369">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>I can add this to the wiki when I clean up that miscellaneous stuff from the hardening thread, if it’s not already noted somewhere.</p>
</blockquote>
</aside>
<p>That would be good!</p>
<p>The information on certificate authorities / https could be added in either one. There is some overlap.</p>
<ul>
<li><a href="https://www.whonix.org/wiki/Warning#Man-in-the-middle_attacks">https://www.whonix.org/wiki/Warning#Man-in-the-middle_attacks</a></li>
<li><a href="https://www.whonix.org/wiki/Tor_Browser#HTTPS_Encryption">https://www.whonix.org/wiki/Tor_Browser#HTTPS_Encryption</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/11</link>
        <pubDate>Fri, 06 Jan 2017 14:41:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-11</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="4" data-topic="3369">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/ego/40/45_1.png" class="avatar"> Ego:</div>
<blockquote>
<p>There have been (and still are) cases where accessing a “Clearnet-Site” via Tor is considered safer than accessing a Hidden Service. Example: <a href="https://github.com/filosottile/hstools">https://github.com/filosottile/hstools</a></p>
</blockquote>
</aside>
<p>Can you please elaborate on this? I don’t know what you are referring to. Neither that reference is any makes me wiser. Specifically I don’t see how it worsens user anonymity? Or worsens server anonymity?</p>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/10</link>
        <pubDate>Fri, 06 Jan 2017 14:37:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-10</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>That’s really interesting Ego re: HSDir profiling and Patrick re: setting rule for .onion sites. And you have a phabricator .onion, nice! Thanks - learning a lot of you guys.</p>
<p>The (mis)understanding of normal users is that staying within the .onion network is much safer in general, as this is the boiler plate advice coming from the Tor Project.</p>
<p>For instance:</p>
<p><strong>1. Certificate Authority compromises</strong> (CAs are the main weakness in the whole internet - take them down and nothing is secure)</p>
<p><a href="https://blog.torproject.org/blog/detecting-certificate-authority-compromises-and-web-browser-collusion" class="onebox" target="_blank">https://blog.torproject.org/blog/detecting-certificate-authority-compromises-and-web-browser-collusion</a></p>
<blockquote>
<p>Quite seriously, when a CA is compromised, it will impact a great deal more than the web; users of email systems (SMTP, IMAP, POP,etc), Jabber servers, and any other SSL/TLS enabled systems are all at risk. Blocking specific serial numbers or relying on flawed, provably broken methods of revocation will simply not cut it anymore. When the actual protection mechanisms are not enforced, there is little hope of end users being protected.</p>
</blockquote>
<blockquote>
<p>This should serve as a wake up call to the internet. We need to research, build, and share new methods for ensuring trust, identity, authenticity, and confidentiality on the internet. Proposals such as DANE, CAA, HASTLS, and Monkeysphere are steps in the right direction but they face an uphill battle from entrenched economic interests.</p>
</blockquote>
<blockquote>
<p>Certification Authorities may continue to provide a piece of the puzzle but it’s high time we ensure that they’re not the alpha and the omega, anymore.</p>
</blockquote>
<p><strong>2. PRISM surveillance</strong> and their suggestion of .onions as a means of protection</p>
<p><a href="https://blog.torproject.org/blog/prism-vs-tor" class="onebox" target="_blank">https://blog.torproject.org/blog/prism-vs-tor</a></p>
<blockquote>
<p>However, the real interesting use cases for Tor in the face of dragnet surveillance like this is not that Tor can protect your gmail/facebook accounts from analysis (in fact, Tor could never really protect account usage metadata), but that Tor and hidden services are actually a key building block to build systems where it is no longer possible to go to a single party and obtain the full metadata, communications frequency, <em>or</em> contents.</p>
</blockquote>
<blockquote>
<p>Tor hidden services are arbitrary communications endpoints that are resistant to both metadata analysis and surveillance.</p>
</blockquote>
<blockquote>
<p>A simple (to deploy) example of a hidden service based mechanism to significantly hinder exactly this type of surveillance is an XMPP client that also ships with an XMPP server and a Tor hidden service. Such a P2P communication system (where the clients are themselves the servers) is both end-to-end secure, and does <em>not</em> have a single central server where metadata is available. This communication is private, pseudonymous, and does not have involve any single central party or intermediary.</p>
</blockquote>
<p>My summary (if correct, this is not well known by general Tor/Tor Browser users):</p>
<blockquote>
<p>.onions provide protections against fraudulent CAs or malicious certificates issued by state-level adversaries and hinders dragnet surveillance attempting to obtain full meta-data of internet use, for example, communications frequency or contents. However, HSDir profiling tools exist that can harvest IPs connecting to a hidden service, so it is not a foolproof system by any means.</p>
</blockquote>
<p>I can add this to the wiki when I clean up that miscellaneous stuff from the hardening thread, if it’s not already noted somewhere.</p>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/9</link>
        <pubDate>Fri, 06 Jan 2017 04:21:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-9</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<p>Like mentioned, has already been used for the new translation solution on our new homepage which will be deployed once the Quick-Start-Guide is finished. Adding to that, the newsletter.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/8</link>
        <pubDate>Thu, 05 Jan 2017 19:26:48 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-8</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I am not opposed to PHP. That would be hard since mediawiki, wordpress is based on it. But I don’t think we can solve this issue on whole Whonix website for all or most of our webapps. So we will always need the <a href="https://www.whonix.org/wiki/Forcing_.onion_on_Whonix.org">https://www.whonix.org/wiki/Forcing_.onion_on_Whonix.org</a> workaround. I just don’t think it’s worth introducing PHP at this point for our homepage for this very reason. If there is another reason such as implementing the mailing list on our homepage, then PHP may be the way to go.</p>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/7</link>
        <pubDate>Thu, 05 Jan 2017 19:00:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-7</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<aside class="quote" data-post="5" data-topic="3369">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>without involving php and whatnot</p>
</blockquote>
</aside>
<p>That’s slightly creepy, as using PHP (which already is being used for the translation of our documentation) would have been the way I’d go.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/6</link>
        <pubDate>Thu, 05 Jan 2017 18:53:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-6</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="3" data-topic="3369">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>So, whomever is responsible for that webpage, can they please update the forum link to point to-&gt;</p>
</blockquote>
</aside>
<p>There are more of such issues. Making popular webapps reachable though two different domains is unsupported by those. Therefore the best solution we can suggest is the following:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Forcing_.onion_on_Whonix.org" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.whonix.org/w/images/3/3c/Dumbbell-940375640.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Forcing_.onion_on_Whonix.org" target="_blank" rel="nofollow noopener">Forcing .onion on Whonix.org</a></h3>

<p>Whonix Onion Website - How to consistently access the Whonix website through its v2 Tor Onion Service kkkkkkkkkk63ava6.onion or v3 Tor Onion Service h...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="quote" data-post="4" data-topic="3369">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/ego/40/45_1.png" class="avatar"> Ego:</div>
<blockquote>
<p>Well, that would be me then, as I was the one who created the page. The reason for this is the fact that the wiki, etc. all are normal pages in the same directory (i.e. /wiki, /download, …) while the forum is in its own seperate section (<a href="//forums.whonix.org">forums.whonix.org</a>) making it hard to dynamically link there. Will look into solutions.</p>
</blockquote>
</aside>
<p>I doubt that will be possible without involving php and whatnot. I guess the above solution is good enough, also since we don’t have the resources to solve similar issues in the other webapps we are using.</p>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/5</link>
        <pubDate>Thu, 05 Jan 2017 18:51:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-5</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<aside class="quote" data-post="3" data-topic="3369">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>Whereas the ‘Home’, ‘Download’ and ‘Wiki’ buttons are all pointing to the .onion references.</p>
<p>So, whomever is responsible for that webpage, can they please update the forum link to point to-&gt;</p>
<p>forums.kkkkkkkkkk63ava6.onion</p>
</blockquote>
</aside>
<p>Well, that would be me then, as I was the one who created the page. The reason for this is the fact that the wiki, etc. all are normal pages in the same directory (i.e. /wiki, /download, …) while the forum is in its own seperate section (<a href="//forums.whonix.org">forums.whonix.org</a>) making it hard to dynamically link there. Will look into solutions.</p>
<aside class="quote" data-post="3" data-topic="3369">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>Forum users would be generally advised to stay within the Tor network whenever possible.</p>
</blockquote>
</aside>
<p>Regarding that, is a slightly controversial subject. There have been (and still are) cases where accessing a “Clearnet-Site” via Tor is considered safer than accessing a Hidden Service. Example: <a href="https://github.com/filosottile/hstools">https://github.com/filosottile/hstools</a></p>
<p>Either way, will try to find a way to direct the users to our HS in any case.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/4</link>
        <pubDate>Thu, 05 Jan 2017 18:46:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-4</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>OK - good to know re: IP logs.</p>
<p>Thanks re: forums info. I wasn’t aware of it. The main Whonix webpage on <a href="http://kkkkkkkkkk63ava6.onion/">http://kkkkkkkkkk63ava6.onion/</a> has the forums button link going to -&gt;</p>
<a href="https://forums.whonix.org/">https://forums.whonix.org/</a>
<p>Whereas the ‘Home’, ‘Download’ and ‘Wiki’ buttons are all pointing to the .onion references.</p>
<p>So, whomever is responsible for that webpage, can they please update the forum link to point to-&gt;</p>
<p>forums.kkkkkkkkkk63ava6.onion</p>
<p>Forum users would be generally advised to stay within the Tor network whenever possible.</p>
<p>Re: the authoritarians jibe, I’m referring to almost every government in Europe, Asia, North America, the Pacific, Africa, the ME… they have a serious hardon for people using encryption and Tor, so, that makes Whonix, TAILS and users of other similar platforms of extreme interest. Witness the UK Snoopers Charter, Oz meta-data rules, FBI Rule 41 changes, stacks of disclosed documents, “Collect it all” slides etc etc. But I’ll leave the political ranting for another day <img src="//forums.whonix.org/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p>And you have a good day too.</p>
<p>Cheers</p>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/3</link>
        <pubDate>Thu, 05 Jan 2017 18:18:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-3</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<p>I don’t think Cryptolog has any advantage for us, as the webserver is configured to not store IP-Adresses of any kind (instead 127.0.0.1 for everyone).</p>
<aside class="quote" data-post="1" data-topic="3369">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>On a related issue, is there a reason the Whonix forums can’t be used/run under the .onion domain (unlike the wiki)?</p>
</blockquote>
</aside>
<p>Using “forums.kkkkkkkkkk63ava6.onion” works for me.</p>
<aside class="quote" data-post="1" data-topic="3369">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>Assume in advance everyone and everything posted here is of great interest to the police state authoritarians.</p>
</blockquote>
</aside>
<p>Which?</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/2</link>
        <pubDate>Thu, 05 Jan 2017 15:25:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-2</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
      <item>
        <title>Cryptolog for Whonix website</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Should the Whonix website default to using cryptolog? What about <a href="http://qubes-os.org">qubes-os.org</a>?</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://assets-cdn.github.com/favicon.ico" class="site-icon" width="32" height="32">
      <a href="https://github.com/efforg/cryptolog" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars2.githubusercontent.com/u/2120271?s=400&amp;v=4" class="thumbnail onebox-avatar" width="400" height="400">

<h3><a href="https://github.com/efforg/cryptolog" target="_blank" rel="nofollow noopener">EFForg/cryptolog</a></h3>

<p>cryptolog - Cryptolog is a tool for anonymizing webserver logs.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<blockquote>
<p>Cryptolog is a simple log filter program that reads log file entries from standard input and writes to either a file or pipes them to the standard input of another program (like logrotate or cronolog). The filter takes the IP address in the entry (everything before the first space character) and encrypts it, throwing away the key.</p>
</blockquote>
<blockquote>
<p>Technically, cryptolog takes 16 bytes of random data from /dev/urandom and stores it in a file (called the salt). It then calculates a sha256 hash of the salt concatonated with the original IP address, base64-encodes that, and chops off the first six characters of the result. That’s what gets stored instead of the IP address in the resulting log entry. Of course this means that if someone who wishes to know the original IP addresses gets access to these logs, all they need to know is the salt (which is also stored on the hard drive) to uncover the original IPs. In order to prevent this, the salt gets updated once a day with a new random 16 bytes. At worst, an attacker can only get the last day’s worth of original IP addresses.</p>
</blockquote>
<blockquote>
<p>Cryptolog makes logs that look like this:</p>
</blockquote>
<blockquote>
<p>67.169.69.72 - - [12/May/2011:17:58:07 -0700] “GET / HTTP/1.1” 200 430</p>
</blockquote>
<blockquote>
<p>Look like this instead:</p>
</blockquote>
<blockquote>
<p>UkezVh - - [12/May/2011:17:58:07 -0700] “GET / HTTP/1.1” 200 430</p>
</blockquote>
<blockquote>
<p>The string that replaces the IP address will remain the same for the same day, so you can tell the difference between unique visitors and pageviews.</p>
</blockquote>
<blockquote>
<p>Here are some example CustomLog lines for your Apache config files:</p>
</blockquote>
<blockquote>
<p>CustomLog “| /usr/bin/cryptolog -w /root/cryptolog-access.log” combined<br>
CustomLog “| /usr/bin/cryptolog -c /usr/bin/cronolog\\ /root/cryptolog-access-%Y-%m-%d.log” combined<br>
CustomLog “| /usr/bin/cryptolog -s /tmp/salt_file -w /root/cryptolog-access.log” combined</p>
</blockquote>
<blockquote>
<p>Notice that if you’re using the -c option, you need to escape spaces in the command you’re running with three backslashes.</p>
</blockquote>
<p>On a related issue, is there a reason the Whonix forums can’t be used/run under the .onion domain (unlike the wiki)?</p>
<p>Assume in advance everyone and everything posted here is of great interest to the police state authoritarians.</p>
          <p><a href="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/cryptolog-for-whonix-website/3369/1</link>
        <pubDate>Thu, 05 Jan 2017 04:06:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3369-1</guid>
        <source url="http://forums.whonix.org/t/cryptolog-for-whonix-website/3369.rss">Cryptolog for Whonix website</source>
      </item>
  </channel>
</rss>
