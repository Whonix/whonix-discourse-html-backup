<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</title>
    <link>http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106</link>
    <description>If `update_vm` is `sys-whonix` and the template is not whonix-ws, but a debian or fedora template that has the sources onionized, then it will be tor over tor correct?
This does not occur on whonix templates because of the dummy tor package.

Is there a fix for this? Install `anon-ws-disable-stacked-tor` on the templates, but I don&#39;t want to add whonix repo on debian and fedora.

Whonix guide to onionize [debian templates](https://www.whonix.org/wiki/Onionizing_Repositories#Debian_Templates) and [fedora templates](https://www.whonix.org/wiki/Onionizing_Repositories#Fedora_Template)

https://tor.stackexchange.com/a/433</description>
    <language>en</language>
    <lastBuildDate>Thu, 07 Jul 2022 21:34:07 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="14106">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Security Comparison: Whonix ™-Download-Workstation vs. Whonix-Custom-Workstation ™</p>
</blockquote>
</aside>
<p>Ok, it is specifically that document, thanks.</p>
          <p><a href="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/9</link>
        <pubDate>Thu, 07 Jul 2022 21:34:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14106-9</guid>
        <source url="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106.rss">Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</source>
      </item>
      <item>
        <title>Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Fedora doesn’t enable services (systemd units) by default? Great, no issue.</p>
<p>OpenBSD doesn’t do that. Also great.</p>
<p>Debian is the odd, messy one out here by starting all services by default that are installed from packages.</p>
          <p><a href="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/8</link>
        <pubDate>Thu, 07 Jul 2022 21:28:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14106-8</guid>
        <source url="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106.rss">Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</source>
      </item>
      <item>
        <title>Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Sure.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="6" data-topic="14106">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>This post was more like: “Are we aware of this scenario that tor over tor occurs”.</p>
</blockquote>
</aside>
<p>As per <a href="https://www.whonix.org/wiki/Other_Operating_Systems" class="inline-onebox">Other Operating Systems - Whonix</a> yes. Specifically as per:</p>
<p><a href="https://www.whonix.org/wiki/Other_Operating_Systems#Security_Comparison:_Whonix_%E2%84%A2-Download-Workstation_vs._Whonix-Custom-Workstation_%E2%84%A2">Security Comparison: Whonix ™-Download-Workstation vs. Whonix-Custom-Workstation ™</a></p>
          <p><a href="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/7</link>
        <pubDate>Thu, 07 Jul 2022 21:26:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14106-7</guid>
        <source url="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106.rss">Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</source>
      </item>
      <item>
        <title>Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="14106">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>But that shouldn’t matter when Template is updated? Because the Template’s Tor won’t run. Even if apt-transport-tor is installed. Even if using <code>tor+</code> apt sources list syntax.</p>
</blockquote>
</aside>
<p>Yes, on the template it does not matter, only when using apt in the app vm.</p>
<p>This post was more like: “Are we aware of this scenario that tor over tor occurs”.</p>
<p>Thanks for the reply.</p>
          <p><a href="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/6</link>
        <pubDate>Thu, 07 Jul 2022 21:15:46 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14106-6</guid>
        <source url="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106.rss">Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</source>
      </item>
      <item>
        <title>Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="nyxnor" data-post="4" data-topic="14106">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>Tor shouldn’t be running inside the non-Whonix template already?</p>
</blockquote>
</aside>
<p>Correct.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="4" data-topic="14106">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>If installing <code>apt-transport-tor</code>, it will install as recommended the <code>tor</code> pkg. But when running apt commands on the appvm, it will be tor over tor, I believe.</p>
</blockquote>
</aside>
<p>Yes.</p>
<p>But that shouldn’t matter when Template is updated? Because the Template’s Tor won’t run. Even if apt-transport-tor is installed. Even if using <code>tor+</code> apt sources list syntax.</p>
          <p><a href="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/5</link>
        <pubDate>Thu, 07 Jul 2022 20:16:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14106-5</guid>
        <source url="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106.rss">Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</source>
      </item>
      <item>
        <title>Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>[Unit]<br>
ConditionPathExists=!/var/run/qubes/this-is-templatevm<br>
After=qubes-sysinit.service</p>
</blockquote>
<p>Tor shouldn’t be running inside the non-Whonix template already?</p>
<p>If installing <code>apt-transport-tor</code>, it will install as recommended the <code>tor</code> pkg. But when running  apt commands on the appvm, it will be tor over tor, I believe.</p>
          <p><a href="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/4</link>
        <pubDate>Thu, 07 Jul 2022 20:07:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14106-4</guid>
        <source url="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106.rss">Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</source>
      </item>
      <item>
        <title>Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Tor shouldn’t be running inside the non-Whonix template already?</p>
<p>See:</p>
<pre><code>cat /usr/lib/systemd/system/tor@default.service.d/30_qubes.conf</code></pre>
          <p><a href="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/3</link>
        <pubDate>Thu, 07 Jul 2022 19:52:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14106-3</guid>
        <source url="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106.rss">Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</source>
      </item>
      <item>
        <title>Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>Tor is recommended by the package <code>apt-transport-tor</code>, so if I use <code>apt install --no-install-recommends apt-transport-tor</code>, tor will not be installed and the update on the template will be functional, but it will break if user try to update or install something directly on the appvm because it will use its netvm directly and tor wont be installed as on the template we force to not install recommends.</p>
          <p><a href="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/2</link>
        <pubDate>Thu, 07 Jul 2022 16:20:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14106-2</guid>
        <source url="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106.rss">Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</source>
      </item>
      <item>
        <title>Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>If <code>update_vm</code> is <code>sys-whonix</code> and the template is not whonix-ws, but a debian or fedora template that has the sources onionized, then it will be tor over tor correct?<br>
This does not occur on whonix templates because of the dummy tor package.</p>
<p>Is there a fix for this? Install <code>anon-ws-disable-stacked-tor</code> on the templates, but I don’t want to add whonix repo on debian and fedora.</p>
<p>Whonix guide to onionize <a href="https://www.whonix.org/wiki/Onionizing_Repositories#Debian_Templates" rel="noopener nofollow ugc">debian templates</a> and <a href="https://www.whonix.org/wiki/Onionizing_Repositories#Fedora_Template" rel="noopener nofollow ugc">fedora templates</a></p>
<aside class="onebox stackexchange" data-onebox-src="https://tor.stackexchange.com/questions/427/is-running-tor-over-tor-dangerous/433#433">
  <header class="source">

      <a href="https://tor.stackexchange.com/questions/427/is-running-tor-over-tor-dangerous/433#433" target="_blank" rel="noopener nofollow ugc">tor.stackexchange.com</a>
  </header>

  <article class="onebox-body">
      <a href="https://tor.stackexchange.com/users/80/adrelanos" target="_blank" rel="noopener nofollow ugc">
    <img alt="adrelanos" src="https://www.gravatar.com/avatar/83f6805262f0dcc117814487c5b2d1c4?s=256&amp;d=identicon&amp;r=PG" class="thumbnail onebox-avatar" width="256" height="256">
  </a>

<h4>
  <a href="https://tor.stackexchange.com/questions/427/is-running-tor-over-tor-dangerous/433#433" target="_blank" rel="noopener nofollow ugc">Is running Tor over Tor dangerous?</a>
</h4>

<div class="tags">
  <strong>onion-routing, torvm, whonix</strong>
</div>

<div class="date">
  
  answered by
  <a href="https://tor.stackexchange.com/users/80/adrelanos" target="_blank" rel="noopener nofollow ugc">
    adrelanos
  </a>
  on <a href="https://tor.stackexchange.com/questions/427/is-running-tor-over-tor-dangerous/433#433" target="_blank" rel="noopener nofollow ugc">07:05PM - 08 Oct 13 UTC</a>
</div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106/1</link>
        <pubDate>Thu, 07 Jul 2022 15:29:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14106-1</guid>
        <source url="http://forums.whonix.org/t/tor-over-tor-when-update-vm-is-sys-whonix-and-template-is-onionized-but-not-whonix/14106.rss">Tor over Tor when update_vm is sys-whonix and template is onionized but not whonix</source>
      </item>
  </channel>
</rss>
