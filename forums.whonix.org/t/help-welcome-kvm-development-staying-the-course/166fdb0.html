<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Help Welcome] KVM Development - staying the course - KVM - Whonix Forum</title>
    <meta name="description" content="Congratulations Patrick on these new and exciting new developments for Whonix [:smile:]  Looks like I missed quite alot. I want to continue tackling the main blockers for Whonix KVM support. Let me know how I can help.">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="166fdb0.html?page=4" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Help Welcome] KVM Development - staying the course&#39;" href="166.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/help-welcome-kvm-development-staying-the-course/166?page=4" />
<meta name="twitter:url" content="https://forums.whonix.org/t/help-welcome-kvm-development-staying-the-course/166?page=4" />
<meta property="og:title" content="[Help Welcome] KVM Development - staying the course" />
<meta name="twitter:title" content="[Help Welcome] KVM Development - staying the course" />
<meta property="og:description" content="Maybe its enough if users allow autosyncing with ntp once on the host and then manually alter it a little before turning this off on the host? NTP on the host isn&#39;t safe, since it&#39;s unauthenticated. And it&#39;s unpractical to make it safe (for reasons listed on the Dev/TimeSync page). We‚Äôre defending against two different adversary capabilities here. Active attacks (disrupting host‚Äôs NTP) and passive eavesdropping.  The latter is simpler to defeat. When the host‚Äôs clock is 1396753165.481980210 and ..." />
<meta name="twitter:description" content="Maybe its enough if users allow autosyncing with ntp once on the host and then manually alter it a little before turning this off on the host? NTP on the host isn&#39;t safe, since it&#39;s unauthenticated. And it&#39;s unpractical to make it safe (for reasons listed on the Dev/TimeSync page). We‚Äôre defending against two different adversary capabilities here. Active attacks (disrupting host‚Äôs NTP) and passive eavesdropping.  The latter is simpler to defeat. When the host‚Äôs clock is 1396753165.481980210 and ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="126 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="155 ‚ù§" />
<meta property="article:published_time" content="2014-04-06T15:19:04+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="1669ba9.html?page=3">
        <link rel="next" href="166af4d.html?page=5">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="166.html">[Help Welcome] KVM Development - staying the course</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/kvm/11.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #9EB83B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>KVM</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-06T15:19:04Z' class='post-time'>
                April 6, 2014,  3:19pm
              </time>
              <meta itemprop='dateModified' content='2014-04-06T15:19:04Z'>
          <span itemprop='position'>#61</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Maybe its enough if users allow autosyncing with ntp once on the host and then manually alter it a little before turning this off on the host?</blockquote>
NTP on the host isn't safe, since it's unauthenticated. And it's unpractical to make it safe (for reasons listed on the Dev/TimeSync page).
<p>We‚Äôre defending against two different adversary capabilities here. Active attacks (disrupting host‚Äôs NTP) and passive eavesdropping.</p>
<p>The latter is simpler to defeat. When the host‚Äôs clock is 1396753165.481980210 and Whonix-Workstation‚Äôs clock was 1396753165.481980210, those could be correlated. (Because the host‚Äôs time leaks due to browsers, updaters etc. leaking TLS HELLO gmt_unix_time. Although latest TBB patched the TLS HELLO gmt_unix_time issue, other applications may still leak it.) (Also javascript can leak the time with high precision [<a href="../../../external.html?link=https://trac.torproject.org/projects/tor/ticket/1517">https://trac.torproject.org/projects/tor/ticket/1517</a>].) (Google / facebook scripts are imho one enough websites to be in position to pull off a global passive attack.) As far I understand it, this should now get defeated by bootclockrandomization.</p>
<p>The former, active attacks are more difficult to defeat. When the host clock is off by for example ~35 minutes, because of an adversary capable to trick NTP, then you‚Äôre always the one ‚Äúwho‚Äôs clock is off by ~35 minutes‚Äù. Since sdwdate fixes the time to something different from the host and since the result is non-predictable, as far I understand it, this should now get defeated by sdwdate.</p>
<blockquote>Turning it off prevents active attacks in the future, and as long as the host clock is close to ntp time then I don't think users will stand out.</blockquote>
Active attacks: see ~35 minutes example above.
<blockquote>This works out because, even if an adversary has already been doing global attacks during the event of a user's first sync, they (the adversary) would have done so subtly and not changed the time so much as to not draw attention.</blockquote>
I guess most users won't report if their clock is too much off. We trained them pretty good to ignore the clock by using UTC timezone and having no first time wizard asking for their correct time zone.
<blockquote>Manually adjustment of a few seconds forwards or backwards is enough to muddy the waters</blockquote>
If it includes milliseconds, yes, but I haven't seen anyone before messing with milliseconds. I am glad this is now automated.
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-08T02:19:02Z' class='post-time'>
                April 8, 2014,  2:19am
              </time>
              <meta itemprop='dateModified' content='2014-04-08T02:19:02Z'>
          <span itemprop='position'>#62</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><span class="bbcode-b">Virtio-blk now works</span></p>
<p>Here are the steps, which I‚Äôll throw altogether here before the server downtime. Will move into the wiki later:</p>
<p><a href="../../../external.html?link=http://www.linux-kvm.org/page/Boot_from_virtio_block_device">http://www.linux-kvm.org/page/Boot_from_virtio_block_device</a>        &lt; Original steps that needed to be changed so it can apply to Debian.</p>
<blockquote>in guest os, change /boot/grub/device.map from "(hd0) /dev/sda" to "(hd0) /dev/vda"
in guest os, change /boot/grub/grub.cfg from "root=/dev/sda1" to "root=/dev/vda1", if you are using UUID, then no need to do this step.</blockquote>
<p>I changed all mention of sda1 to vda1 in the grub file. I changed the disk controller type from virtmanager to virtio which takes care of this at the libvirt xml level. Now the vm boots normally with no hangups and I feel a little faster.</p>
<p>A bit of advice, that I‚Äôll add so you can decide:</p>
<blockquote> bancfc: the better option would be using LABELs and UUIDs and such in the source image
 unless this is a one time conversion kind of thing</blockquote>
<p>Not really important but is interesting:</p>
<p><a href="../../../external.html?link=http://www.linux-kvm.org/page/Virtio/Block/Latency" class="onebox" target="_blank">http://www.linux-kvm.org/page/Virtio/Block/Latency</a></p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-08T03:21:55Z' class='post-time'>
                April 8, 2014,  3:21am
              </time>
              <meta itemprop='dateModified' content='2014-04-08T03:21:55Z'>
          <span itemprop='position'>#63</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I think we should consider Apparmor advice for Debian hosts as SELinux seems like a lot to follow.</p>
<p><a href="../../../external.html?link=http://libvirt.org/drvqemu.html#securitysvirtaa" class="onebox" target="_blank">http://libvirt.org/drvqemu.html#securitysvirtaa</a></p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-08T14:48:09Z' class='post-time'>
                April 8, 2014,  2:48pm
              </time>
              <meta itemprop='dateModified' content='2014-04-08T14:48:09Z'>
          <span itemprop='position'>#64</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=‚ÄúHulaHoop, post:63, topic:166‚Äù]I think we should consider Apparmor advice for Debian hosts as SELinux seems like a lot to follow.</p>
<p><a href="../../../external.html?link=http://libvirt.org/drvqemu.html#securitysvirtaa%5B/quote%5D" class="onebox" target="_blank">http://libvirt.org/drvqemu.html#securitysvirtaa[/quote]</a><br>
Agreed. AppArmor is better for Debian.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-11T15:31:56Z' class='post-time'>
                April 11, 2014,  3:31pm
              </time>
              <meta itemprop='dateModified' content='2014-04-11T15:31:56Z'>
          <span itemprop='position'>#65</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Commenting on <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/KVM#How_to_get_virtio_running_for_storage.3F">https://www.whonix.org/wiki/Dev/KVM#How_to_get_virtio_running_for_storage.3F</a> ‚Ä¶ - Using labels would be good. When you download Whonix, you always end up with the same disk label / uuid.</p>
<p>Beginning from Whonix 9, we will be using fixed disk identifiers anyway. (Originally implemented for verifiable builds improvements [less files to manually review]. Seems like it will be useful here as well.)</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-16T14:04:35Z' class='post-time'>
                April 16, 2014,  2:04pm
              </time>
              <meta itemprop='dateModified' content='2014-04-16T14:04:35Z'>
          <span itemprop='position'>#66</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>VM Manager throws me an error when defining new virtual network using the settings at<br>
<a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#KVM_Setup_Instructions" data-bbcode="true" rel="nofollow noopener">https://www.whonix.org/wiki/KVM#KVM_Setup_Instructions</a></p>
<blockquote>Go to the VMM GUI --&gt; Edit --&gt; Connection Details --&gt; Add button Choose whonix as network name Edit subnet range to 10.0.0.2/24 Uncheck the dhcpv4 option Ignore anything to do with ipv6 Keep the default option of: Isolated Virtual Network selected and click finish.</blockquote>
<p>changing the address range to <span class="bbcode-b">10.0.0.0/24</span> helps</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-17T04:38:57Z' class='post-time'>
                April 17, 2014,  4:38am
              </time>
              <meta itemprop='dateModified' content='2014-04-17T04:38:57Z'>
          <span itemprop='position'>#67</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sorry Zweeble can you please be more specific, maybe post the error message?</p>
<p>Don‚Äôt worry soon these steps will be as easy as a few commands to import the settings files.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-17T07:02:48Z' class='post-time'>
                April 17, 2014,  7:02am
              </time>
              <meta itemprop='dateModified' content='2014-04-17T07:02:48Z'>
          <span itemprop='position'>#68</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>When creating the new virtual network (named whonix, according to your KVM_Setup_Instructions), the VM Manager refuses to accept the address range 10.0.0.2/24 as it is not one of the IPv4 private address ranges.</p>
<blockquote>Don't worry soon these steps will be as easy as a few commands to import the settings files.</blockquote>
<p>Can‚Äôt wait to see them^^ Never tried to import an OVA before and don‚Äôt get anywhere with it‚Ä¶</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-17T10:30:42Z' class='post-time'>
                April 17, 2014, 10:30am
              </time>
              <meta itemprop='dateModified' content='2014-04-17T10:30:42Z'>
          <span itemprop='position'>#69</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Updated libvirt and qemu (on my 64 bit server), converted the gw.ova to .qcow2 and got it finally ‚Äúrunning‚Äù - the start took about one hour, the cpu core given to the vm always at 100% ‚Ä¶<br>
After boot even moving the mouse made the core jump up to 100% again <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"><br>
Every command takes ages - ideas how to improve settings? Thx</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-17T13:38:41Z' class='post-time'>
                April 17, 2014,  1:38pm
              </time>
              <meta itemprop='dateModified' content='2014-04-17T13:38:41Z'>
          <span itemprop='position'>#70</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The subnet I chose  was supposed to imitate the range for VirtualBox‚Äôs internal network. Choose anyone that works for you, no problem.</p>
<p>As for the image conversion. This is no longer necessary as Patrick has provided qcow2 images since version 8. You can get them on sourceforge Whonix page. Forgive the obvious question, but are you running a cpu that has virtualization support? If not then that could explain the slowness you are seeing.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-17T14:05:00Z' class='post-time'>
                April 17, 2014,  2:05pm
              </time>
              <meta itemprop='dateModified' content='2014-04-17T14:05:00Z'>
          <span itemprop='position'>#71</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thx for your answer. The server supports virtualization. I also run other VMs 32 and 64 bit, KVM with libvirt on it and never had problems like this. Weird.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-17T19:18:44Z' class='post-time'>
                April 17, 2014,  7:18pm
              </time>
              <meta itemprop='dateModified' content='2014-04-17T19:18:44Z'>
          <span itemprop='position'>#72</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Maybe it would be an idea to publish the KVM install and the detailed settings you use for the VMs?</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-18T04:32:49Z' class='post-time'>
                April 18, 2014,  4:32am
              </time>
              <meta itemprop='dateModified' content='2014-04-18T04:32:49Z'>
          <span itemprop='position'>#73</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>On second thought,  its very important you download the qcow2 images from sourceforge because it uses performance settings that you have probably left out in the manual conversion. These have a big effect on performance.</p>
<p>If this doesn‚Äôt work then the qemu version you are running could probably be suffering from some type of regression.</p>
<p>General advice is to give the workstation vm a generous amount of ram, though not so much as to cripple your host. This is not needed for the gateway however where you can get by assigning the recommended minimum of 256mb.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-04T14:27:39Z' class='post-time'>
                May 4, 2014,  2:27pm
              </time>
              <meta itemprop='dateModified' content='2014-05-04T14:27:39Z'>
          <span itemprop='position'>#74</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>There has been a report by zweeble about image size issues:<br>
<a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,244.msg1844.html#msg1844" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,244.msg1844.html#msg1844</a></p>
<p>In response, I‚Äôve written <a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#.qcow_file_size_too_big.3F">https://www.whonix.org/wiki/KVM#.qcow_file_size_too_big.3F</a> - but it looks like only a very short-term solution.</p>
<p>Maybe we should drop ‚Äú-o preallocation=metadata‚Äù? Seems to cause trouble as in</p>
<ul>
<li>allegedly big file size</li>
<li>real issues with file size.</li>
</ul>
<p>But without  ‚Äú-o preallocation=metadata‚Äù the image is slow? How much was the speed difference?</p>
<p>Well, if it‚Äôs either issues with file size vs issues with performance, then this would be a real problem with KVM.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-06T12:52:53Z' class='post-time'>
                May 6, 2014, 12:52pm
              </time>
              <meta itemprop='dateModified' content='2014-05-06T12:52:53Z'>
          <span itemprop='position'>#75</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This is really strange.</p>
<p>Original is just fine:</p>
<pre><code class="lang-auto">md5sum Whonix-Gateway-8.2.qcow2
060fd6f07bbf0b2f36f95a28528e9248  Whonix-Gateway-8.2.qcow2
du -h --apparent-size ./Whonix-Gateway-8.2.qcow2 
101G    ./Whonix-Gateway-8.2.qcow2
du -h Whonix-Gateway-8.2.qcow2
2.6G    Whonix-Gateway-8.2.qcow2</code></pre>
<p>But after unpacking using the compressed version</p>
<pre><code class="lang-auto"></code></pre>
<p>File size is messed up, even though md5 matches!</p>
<pre><code class="lang-auto">md5sum Whonix-Gateway-8.2.qcow2
060fd6f07bbf0b2f36f95a28528e9248  Whonix-Gateway-8.2.qcow2
du -h --apparent-size ./Whonix-Gateway-8.2.qcow2 
101G    ./Whonix-Gateway-8.2.qcow2
du -h ./Whonix-Gateway-8.2.qcow2 
101G    ./Whonix-Gateway-8.2.qcow2</code></pre>
<p>Whonix‚Äôs compression code:<br>
<a href="../../../external.html?link=https://github.com/Whonix/whonix-developer-meta-files/blob/master/release/compress_qcow2" class="onebox" target="_blank">https://github.com/Whonix/whonix-developer-meta-files/blob/master/release/compress_qcow2</a></p>
<p>Possible solution:</p>
<ul>
<li><a href="../../../external.html?link=http://linuxgazette.net/174/misc/lg/compressing_sparse_file_s_while_still_maintaining_their_holes.html">http://linuxgazette.net/174/misc/lg/compressing_sparse_file_s_while_still_maintaining_their_holes.html</a></li>
<li>while compressing:</li>
</ul>
<pre><code class="lang-auto"></code></pre>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-06T17:42:20Z' class='post-time'>
                May 6, 2014,  5:42pm
              </time>
              <meta itemprop='dateModified' content='2014-05-06T17:42:20Z'>
          <span itemprop='position'>#76</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I really don‚Äôt want to be nasty, but I mentioned before that this +100 GB image doesn‚Äôt make sense anyway^^<br>
Where is the problem to decrease workstation to let‚Äôs say 10 GB and gateway to 4 GB from the beginning? I‚Äôd prefer to download 2 huge files I can use instead of 2 small ones I can‚Äôt use‚Ä¶</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-06T18:21:32Z' class='post-time'>
                May 6, 2014,  6:21pm
              </time>
              <meta itemprop='dateModified' content='2014-05-06T18:21:32Z'>
          <span itemprop='position'>#77</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=‚Äúzweeble, post:76, topic:166‚Äù]I really don‚Äôt want to be nasty, but I mentioned before that this +100 GB image doesn‚Äôt make sense anyway^^<br>
Where is the problem to decrease workstation to let‚Äôs say 10 GB and gateway to 4 GB from the beginning? I‚Äôd prefer to download 2 huge files I can use instead of 2 small ones I can‚Äôt use‚Ä¶[/quote]<br>
I don‚Äôt find this question nasty/cynic or anything. I value your constructive comments. You have a valid point here.</p>
<p>Shipping a workstation with 10 GB max space would make users wanting to exceed that limit complain. They could grow the virtual hdd size (<a href="../../../external.html?link=https://www.whonix.org/wiki/Grow_Virtual_Harddisk">https://www.whonix.org/wiki/Grow_Virtual_Harddisk</a>) but that is rather cumbersome and complicated due to missing easy GUI access to the required functions.</p>
<p>Operating system‚Äôs / rsync / browser issue is:<br>
They don‚Äôt support sparse files well.</p>
<p>gzip‚Äôs issue is:<br>
It doesn‚Äôt support sparse files. (<a href="../../../external.html?link=https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=535987">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=535987</a>) And I should not have taken gzip for that reason in the first place. (Took gzip, because it can produce deterministic archives.)</p>
<p>KVM‚Äôs issue here is:<br>
KVM has no alternative to VirtualBox‚Äôs .ova feature. If they had one, we would not have to have this discussion. That‚Äôs why we have to compress them.</p>
<p>The new compression method will be:</p>
<pre><code class="lang-auto">tar \
   --create \
   --sparse \
   --xz \
   --mtime="2014-05-06 00:00:00" \
   --directory="$WHONIX_BINARY" \
   --file "$WHONIX_BINARY/Whonix-Gateway-$version.qcow2.xz" "Whonix-Gateway-$version.qcow2"</code></pre>
<p>Which produces a deterministic sparse archive.</p>
<p>You can then unpack using:</p>
<pre><code class="lang-auto">tar xvf Whonix-Gateway-8.2.qcow2.xz</code></pre>
<p>(<code>unxz</code> won‚Äôt work!)</p>
<p>And will end up with a spare image. Apparent size 100 GB, can grow up to 100 GB space, but will initially take no more than ~2GB space after extraction. I will re-compress, sign and upload soon.</p>
<p>You could still say you preferred non-compressed smaller 10 GB images that must be grown to take more than 10 GB? You would still have a point. In an ideal Whonix distro world, we would offer both types of images. In an ideal world, other projects would solve their issues with sparse files. [Best would still be, if KVM added an alternative to VirtualBox‚Äôs ova feature.]</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-07T08:03:22Z' class='post-time'>
                May 7, 2014,  8:03am
              </time>
              <meta itemprop='dateModified' content='2014-05-07T08:03:22Z'>
          <span itemprop='position'>#78</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Well, maybe we should ask around who really uses up to 10 GB with whonix. I want to point at the fact that using KVM opens the way for using LVM, that would improve performance considerably and makes resizing the images a piece of cake. So these imo very few users that might complain about a small 10 GB image are no subject anymore, plus using sparse files is not needed any more (also sparse files present a performance handicap).<br>
If I didn‚Äôt make a mistake, I can only add advantages:</p>
<ul>
<li>no trouble with the compressing process</li>
<li>much smaller but easy resizeable images</li>
<li>two possibilities to improve performance</li>
</ul>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-07T11:35:05Z' class='post-time'>
                May 7, 2014, 11:35am
              </time>
              <meta itemprop='dateModified' content='2014-05-07T11:35:05Z'>
          <span itemprop='position'>#79</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The thing I dislike about KVM is, that VirtualBox has no such issues with max disk size (which is set to 100 GB but could be increased to anything) and really using only used disk space. (Well, VirtualBox has other issues, such as only supporting vmdk images for exported ova‚Äôs, which make things harder later as well.)</p>
<aside class="quote" data-post="78" data-topic="166">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/zweeble/40/4_1.png" class="avatar"> zweeble:</div>
<blockquote>
<p>Well, maybe we should ask around who really uses up to 10 GB with whonix.</p>
</blockquote>
</aside>
<p>Want to write a blog post? (In <a href="../../../external.html?link=https://www.whonix.org/blog/offline-blog-feature" data-bbcode="true">this</a> style?)</p>
<blockquote>I want to point at the fact that using KVM opens the way for using LVM,</blockquote>
Since I am not that knowledgeable about KVM, I don't know what difference KVM makes in relation to LVM compared to VirtualBox. Please explain.
<blockquote>that would improve performance</blockquote>
KVM or LVM would improve performance? KVM has worse graphics performance, even when using SPICE. I am not sure we discussed this here or in the lost old forum. LVM slightly worsens performance (but so slightly, that no one minds)?
<blockquote>considerably and makes resizing the images a piece of cake.</blockquote>
How so?
<p>When not using LVM, I can grow my file system using gparted. When using LVM, this isn‚Äôt possible. Are there finally any GUI tools supporting growing lvm file systems?</p>
<blockquote>(also sparse files present a performance handicap).</blockquote>
After quick research, I haven't found any references for having a performance penalty for using sparse files.
<p>Also we‚Äôre using qcow2 images with metadata preallocation. According to <a href="../../../external.html?link=http://www.ilsistemista.net/index.php/virtualization/11-kvm-io-slowness-on-rhel-6.html" data-bbcode="true">this blog post</a> (That HulaHoop shared.) and earlier discussions with HulaHoop, qcow2 images using metadata preallocation are a good choice, size wise, performance wise and feature wise (support snapshots).</p>
<blockquote>If I didn't make a mistake, I can only add advantages:
- no trouble with the compressing process</blockquote>
Without compression, upload would (100 kb/s upload) would take me 2-3 days for 20 GB. Still bearable if this is the best solution, but I like uploading the ~1GB images more.
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-07T13:45:21Z' class='post-time'>
                May 7, 2014,  1:45pm
              </time>
              <meta itemprop='dateModified' content='2014-05-07T13:45:21Z'>
          <span itemprop='position'>#80</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Maybe my misunderstanding is how you build whonix?? I thought that the KVM version is build in a qemu/KVM VM using qcow2 or raw LV‚Ä¶</p>
<p>No need to make performance tests here: image based VMs (no matter if OVA using sparse files or qcow2) are slower than VMs that use a LVM raw partition. Working on files in an image file for sure is at least more disk IO.<br>
LVM itself is the GUI to manage LVs, also to resize them. But there is a also a simple command in the terminal.</p>
<p>And qcow2 images still can be compressed with gzip, so no worries about huge uploads. Watch out, a gzipped qcow2 image will be about 10% smaller than the native qcow2 zlib compression <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="1669ba9.html?page=3">‚Üê previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="166af4d.html?page=5">next page ‚Üí</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
