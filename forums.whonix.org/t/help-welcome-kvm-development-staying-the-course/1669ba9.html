<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Help Welcome] KVM Development - staying the course - KVM - Whonix Forum</title>
    <meta name="description" content="Congratulations Patrick on these new and exciting new developments for Whonix [:smile:]  Looks like I missed quite alot. I want to continue tackling the main blockers for Whonix KVM support. Let me know how I can help.">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1669ba9.html?page=3" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Help Welcome] KVM Development - staying the course&#39;" href="166.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/help-welcome-kvm-development-staying-the-course/166?page=3" />
<meta name="twitter:url" content="https://forums.whonix.org/t/help-welcome-kvm-development-staying-the-course/166?page=3" />
<meta property="og:title" content="[Help Welcome] KVM Development - staying the course" />
<meta name="twitter:title" content="[Help Welcome] KVM Development - staying the course" />
<meta property="og:description" content="Yes let‚Äôs stick with qcow2.  I pasted the logs on the wiki, but they are mangled badly. Blockquote tag doesn‚Äôt preserve their format like whats shown here. poem tag is not recognized at all. Please take a look and tell me what works.  If I was to ask more question on IRC, what would be our priority to know?" />
<meta name="twitter:description" content="Yes let‚Äôs stick with qcow2.  I pasted the logs on the wiki, but they are mangled badly. Blockquote tag doesn‚Äôt preserve their format like whats shown here. poem tag is not recognized at all. Please take a look and tell me what works.  If I was to ask more question on IRC, what would be our priority to know?" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="126 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="155 ‚ù§" />
<meta property="article:published_time" content="2014-03-29T14:33:55+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="1664658.html?page=2">
        <link rel="next" href="166fdb0.html?page=4">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="166.html">[Help Welcome] KVM Development - staying the course</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/kvm/11.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #9EB83B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>KVM</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-29T14:33:55Z' class='post-time'>
                March 29, 2014,  2:33pm
              </time>
              <meta itemprop='dateModified' content='2014-03-29T14:33:55Z'>
          <span itemprop='position'>#41</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes let‚Äôs stick with qcow2.</p>
<p>I pasted the logs on the wiki, but they are mangled badly. Blockquote tag doesn‚Äôt preserve their format like whats shown here. poem tag is not recognized at all. Please take a look and tell me what works.</p>
<p>If I was to ask more question on IRC, what would be our priority to know?</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-29T16:28:23Z' class='post-time'>
                March 29, 2014,  4:28pm
              </time>
              <meta itemprop='dateModified' content='2014-03-29T16:28:23Z'>
          <span itemprop='position'>#42</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I wrapped the irc logs into </p><pre>. That should do.
<p>Most important question is how to add the kvm command line parameters to the config file. As in, how to create a config file for all settings we required without using libvirt. (We discussed few days ago.)</p></pre>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-30T00:28:23Z' class='post-time'>
                March 30, 2014, 12:28am
              </time>
              <meta itemprop='dateModified' content='2014-03-30T00:28:23Z'>
          <span itemprop='position'>#43</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><span class="bbcode-b">Solved through libvirt xml  </span><img src="../../images/emoji/twitter/winkc164.png?v=9" title=":wink:" class="emoji only-emoji" alt=":wink:"></p>
<p>Turns out that adding clock=‚Äòvm‚Äô to the rtc timer in the xml file does it.  All that qemu-kvm workaround is not needed I disabled timesync and followed the console steps you listed to verify that there is a separation. I think the reason it didn‚Äôt accept the parameter in the past was because I was adding it to another timer or it was just a bug. Please confirm of course.</p>
<p>After the workstation is booted and running no change to host time affects the guest whatsoever. If the guest is shutdown and turned on again it does base its time off the host but at no point is it affected by changes to host clock.</p>
<p><span class="bbcode-u">Dev Wiki material:</span><br>
links about the patches to libvirt that set these features exposed by qemu-kvm. Among them are other useful settings.</p>
<blockquote>-rtc
base=localtime,clock=vm,driftfix=slew</blockquote>
<p>libvirt ‚Äúclock=vm‚Äù<br>
<a href="../../../external.html?link=https://www.redhat.com/archives/libvirt-users/2013-December/msg00019.html" class="onebox" target="_blank">https://www.redhat.com/archives/libvirt-users/2013-December/msg00019.html</a><br>
<a href="../../../external.html?link=https://www.redhat.com/archives/libvir-list/2010-March/msg01293.html" class="onebox" target="_blank">https://www.redhat.com/archives/libvir-list/2010-March/msg01293.html</a><br>
<a href="../../../external.html?link=https://lists.gnu.org/archive/html/qemu-discuss/2014-02/msg00018.html" class="onebox" target="_blank">https://lists.gnu.org/archive/html/qemu-discuss/2014-02/msg00018.html</a></p>
<p>The links in this section are a brainstorming of ideas for me on getting offsets on working, has nothing to do with the separate problem thats been solved above:</p>
<p>figuring out random offset:<br>
<a href="../../../external.html?link=https://www.redhat.com/archives/libvir-list/2010-March/msg00304.html" class="onebox" target="_blank">https://www.redhat.com/archives/libvir-list/2010-March/msg00304.html</a><br>
<a href="../../../external.html?link=https://docs.fedoraproject.org/en-US/Fedora_Draft_Documentation/0.1/html/Virtualization_Deployment_and_Administration_Guide/sect-Virtualization-Tips_and_tricks-Libvirt_Managed_Timers.html" class="onebox" target="_blank">https://docs.fedoraproject.org/en-US/Fedora_Draft_Documentation/0.1/html/Virtualization_Deployment_and_Administration_Guide/sect-Virtualization-Tips_and_tricks-Libvirt_Managed_Timers.html</a><br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/Advanced_Security_Guide" target="_blank" title="03:23AM - 18 June 2019">Whonix ‚Äì 18 Jun 19</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="../../../external.html?link=https://www.whonix.org/w/images/4/4e/Padlocks337569640.jpg" class="thumbnail" width="640" height="426"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Advanced_Security_Guide" target="_blank">Advanced Security Guide - Whonix</a></h3>

<p>THIS WIKI PAGE IS DEPRECATED AND OUTDATED. PLEASE REFER TO THE ADVANCED SECURITY GUIDE SECTION - https://www.whonix.org/wiki/Documentation</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-01T03:03:06Z' class='post-time'>
                April 1, 2014,  3:03am
              </time>
              <meta itemprop='dateModified' content='2014-04-01T03:03:06Z'>
          <span itemprop='position'>#44</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Unfortunately offsets are enforced at the number one chooses rather than a random figure falling into a range. Besides this, I don‚Äôt know if my findings for clock=vm are anything valid, which is disappointing.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-01T15:31:19Z' class='post-time'>
                April 1, 2014,  3:31pm
              </time>
              <meta itemprop='dateModified' content='2014-04-01T15:31:19Z'>
          <span itemprop='position'>#45</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="44" data-topic="166">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Unfortunately offsets are enforced at the number one chooses rather than a random figure falling into a range.</p>
</blockquote>
</aside>
<p>I am not surprised. Everyone has to choose it‚Äôs own random offset. Ideas:</p>
<ol>
<li>feature request for random offset between x and y (solution for everyone)</li>
<li>in meanwhile suggest everyone to choose its own random offset (advanced users)</li>
<li>startup script randomzing this value between x and y for advanced users randomzing that value</li>
</ol>
<aside class="quote" data-post="44" data-topic="166">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Besides this, I don‚Äôt know if my findings for clock=vm are anything valid, which is disappointing.</p>
</blockquote>
</aside>
<p>I don‚Äôt understand.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-01T22:41:41Z' class='post-time'>
                April 1, 2014, 10:41pm
              </time>
              <meta itemprop='dateModified' content='2014-04-01T22:41:41Z'>
          <span itemprop='position'>#46</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I think its important that everyone has it, so I agree with option 1). Is 3) a way to build this feature? If its a script it could easily be selected for running at startup through a DE‚Äôs settings GUI. Unless you have an even more seamless way to make this simpler of course.</p>
<blockquote>I don't understand.</blockquote>
<p>I‚Äôm not sure if I‚Äôm doing it right. I‚Äôll tell you what I mean. I type the setting and save the xml, but its not there when I open it for editing once again. When I turn on a vm and I change host clock while its running, I see from the terminal that the host date and clock did in fact advance one hour. But the guest doesn‚Äôt change in the slightest.<br>
Is this the  correct way to check?</p>
<p>N.B. I disabled the timesync as you told me.</p>
<p>If I edit the xml to add clock=‚Äòhost‚Äô, it too disappears, but the setting has no effect - meaning host time changes still don‚Äôt affect guests.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-02T02:48:59Z' class='post-time'>
                April 2, 2014,  2:48am
              </time>
              <meta itemprop='dateModified' content='2014-04-02T02:48:59Z'>
          <span itemprop='position'>#47</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="46" data-topic="166">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>I think its important that everyone has it, so I agree with option 1)</p>
</blockquote>
</aside>
<p>Okay. Can you write a feature request please? Then post it here. I‚Äôll look over it. Then we can post it.</p>
<blockquote>Is 3) a way to build this feature? If its a script it could easily be selected for running at startup through a DE's settings GUI. Unless you have an even more seamless way to make this simpler of course.</blockquote>
Depends on how the rest gets implemented. Best would be two .qcow2 images + a settings file + instructions how to get it installed and started? If so "start this extra script every here and now to randomize times" would make this more cumbersome.
<blockquote>I type the setting and save the xml, but its not there when I open it for editing once again.</blockquote>
Sounds like these filers are not supposed to be edited by hand? At least not while kvm is running? I guess they get reset by kvm. Your changes may persist when all kvm machines are shut down. Please try that.
<blockquote>When I turn on a vm and I change host clock while its running, I see from the terminal that the host date and clock did in fact advance one hour.
<p>But the guest doesn‚Äôt change in the slightest. Is this the  correct way to check?</p>
</blockquote><br>
Yes.
<blockquote>If I edit the xml to add clock='host', it too disappears, but the setting has no effect - meaning host time changes still don't affect guests.</blockquote>
Probably it was disregarded. As I said earlier in this post. Maybe this works when kvm was shut down, so it doesn't overwrite your manual changes.
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-02T04:04:50Z' class='post-time'>
                April 2, 2014,  4:04am
              </time>
              <meta itemprop='dateModified' content='2014-04-02T04:04:50Z'>
          <span itemprop='position'>#48</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Depends on how the rest gets implemented. Best would be two .qcow2 images + a settings file + instructions how to get it installed and started?</blockquote>
<p>Exactly, this is much simpler and what I had in mind. It makes kvm Whonix uniform on all systems it runs on too. Its also the closest to an .ova drop-in replacement as possible. The images with the xml configuration that is imported with the exact optimal settings we decide on.</p>
<blockquote>If so "start this extra script every here and now to randomize times" would make this more cumbersome.</blockquote>
<p>On second thought, yes you are right about this making things needlessly complicated, but if its very important in situations where a hidden service is being sniffed out, then we should include a script for it with optional instructions in the wiki. However I have an alternative last suggestion at making this setting applicable for everyone. How about  adding to UTC some offset based on some country‚Äôs timezone to solve this? That has the advantage of being something we could set in xml. If you agree I‚Äôll write the feature request based on this instead.</p>
<p>Update:<br>
I decided to ask on <span class="hashtag">#tor</span> about the benefit of the random offset. Its clear that we have different views of the threat model, but I decided to post it anyway for reference.</p>
<blockquote> Hi guys. I'm working on the Whonix project and wanted to know something
 about clock offsets and insecure time syncing
 I'll wait when someone can help
 bancfc: this is a group support environment, just throw your thing out and wait
 use UTC as default time is the first step @bancfc
 ok. So far we managed to set kvmclock to not be present and then we isolated the guest clock from the host 
 as to not allow any global adversary to induce a time skew detectable in both environments
 and?
 now we are decidding if adding a random time offset upon vm initiation is any useful
 a vm bases its time on the host clock when started from a cold state
 is this dangerous in any way?
 Keep in mind, that no changes to the host clock have an effect on the time inside the vm anymore
 sync all clock every one hour with local UTC time
 yes we have a timesync script inside the vm for that
 it shouldn't be a problem to have the clocks of host and guest in sync, especially if the host clock is in sync with the internet
 velope: so  as long as they don't affect each other its all good?
 bancfc: you are in the realm of very subtle and unlikely attacks. there should be no need to mess with this, again, especially if the clocks are reasonably in sync with the internet.
 velope: If we question unlikely attacks we could question the point of Whonix as being overkill, but its designed for extreme situations which *do* exist in the world unfortunately.
 Velope: Do you think there is no reason for the offset being random, or the whole concept of vm and host clock being isolated?
 i think it is something that even experienced people wouldn't bother with
 but if you want to create some small random difference, go ahead and knock yourself out
 If everyone is synced with insecure ntp
 are their clocks exactly the same to the T
 ?
 just remember that you don't want some consistent, repeatable difference from internet time, which itself could be a fingerprint, or an inaccuracy of more than a few minutes, which could break things in tor
 ok thanks</blockquote>
<blockquote>Sounds like these filers are not supposed to be edited by hand? At least not while kvm is running? I guess they get reset by kvm. Your changes may persist when all kvm machines are shut down. Please try that.</blockquote>
<p>ok I‚Äôll check.</p>
<p>Edited to add:<br>
Same thing happens with editing while vm shutdown, but the clocks are still separate.<br>
My config file looks like this:</p>
<p><code>&lt;clock offset='utc'&gt;
    &lt;timer name='kvmclock' present ='no'/&gt;
    &lt;timer name='rtc' present='yes'/&gt;
    &lt;timer name='pit' present='no'/&gt;
    &lt;timer name='hpet' present='no'/&gt;
&lt;/clock&gt;
</code></p>
<p>I add the clock=‚Äòvm‚Äô part in the middle of the rtc line.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-02T13:36:40Z' class='post-time'>
                April 2, 2014,  1:36pm
              </time>
              <meta itemprop='dateModified' content='2014-04-02T13:36:40Z'>
          <span itemprop='position'>#49</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Alright nevermind my last post. I thought all the attack scenarios through and think this is really important. A global adversary has all the time in the world to mount finely tuned MITM attacks on ntp - even on a per city or region basis to narrow down user sets. This is needed and for everyone, especially users who are not consistently online.</p>
<blockquote>[b]Feature Request:[/b]
<p>A global adversary has all the time in the world to mount finely tuned MITM attacks on ntp - even on a per city or region basis to narrow down user sets. This is needed and for everyone, especially users who are not consistently online.</p>
<p>I suggest the inclusion of a script to automate the process of setting a random clock offset upon vm start-up. This will be included in the tar.gz file with the image and xml configuration files. A simple readme file with instruction (that I can write) on how to use this is important to guide users. Running scripts on startup can be accomplished through the GUI of most modern Desktop Environments and should not be an impediment to usability.</p>
</blockquote>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-02T16:21:55Z' class='post-time'>
                April 2, 2014,  4:21pm
              </time>
              <meta itemprop='dateModified' content='2014-04-02T16:21:55Z'>
          <span itemprop='position'>#50</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="49" data-topic="166">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Alright nevermind my last post. I thought all the attack scenarios through and think this is really important. A global adversary has all the time in the world to mount finely tuned MITM attacks on ntp - even on a per city or region basis to narrow down user sets. This is needed and for everyone, especially users who are not consistently online.</p>
</blockquote>
</aside>
<p>Yes.</p>
<blockquote>[b]Feature Request:[/b]
<p>A global adversary has all the time in the world to mount finely tuned MITM attacks on ntp - even on a per city or region basis to narrow down user sets. This is needed and for everyone, especially users who are not consistently online.</p>
<p>I suggest the inclusion of a script to automate the process of setting a random clock offset upon vm start-up. This will be included in the tar.gz file with the image and xml configuration files. A simple readme file with instruction (that I can write) on how to use this is important to guide users. Running scripts on startup can be accomplished through the GUI of most modern Desktop Environments and should not be an impediment to usability.</p>
</blockquote><br>
Wrong recipient? I was thinking about a feature request against KVM, not Whonix. The KVM devs shouldn‚Äôt add a script.
<p>Maybe I am not doing a good job explaining what I mean by offset.</p>
<p>When setting.</p>
<pre><code class="lang-auto"></code></pre>
<p>VM will be set 27931milliseconds in future, thus unlinking milliseconds from the host.</p>
<p>Our first step needs to be to find an equivalent of this command or setting for KVM. Have we already figured that out?</p>
<p>Next step would be having a script that automates this.</p>
<pre><code class="lang-auto"></code></pre>
<p>Where variable $x is a random integer between 500(?) and 99500.</p>
<p>Next step would be getting rid of the script by having this range a feature of the virtualizer.</p>
<p>A feature request for VirtualBox could be:<br>
At the moment biossystemtimeoffset expects an integer in milliseconds.<br>
It would be nice to have to support random ranges for biossystemtimeoffset, i.e. biossystemtimeoffsetmin -99500, biossystemtimeoffsetmax +99500. VirtualBox would then pick a random value between -99500 and +99500 and use that as biossystemtimeoffset.<br>
This would help to defend against time based fingerprinting attacks.</p>
<p>Well, the feature request doesn‚Äôt sound so exciting. I doubt either VirtualBox or KVM developers will be excited about it. However, it is important to write <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/TimeSync">https://www.whonix.org/wiki/Dev/TimeSync</a> and the feature request as clear as possible, so as many people as possible understand it, so some day someone capable of C(++) can implement the feature for Whonix.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-02T16:41:53Z' class='post-time'>
                April 2, 2014,  4:41pm
              </time>
              <meta itemprop='dateModified' content='2014-04-02T16:41:53Z'>
          <span itemprop='position'>#51</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="48" data-topic="166">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>[quote]Depends on how the rest gets implemented. Best would be two .qcow2 images + a settings file + instructions how to get it installed and started?</p>
</blockquote>
</aside>
<p>Exactly, this is much simpler and what I had in mind. It makes kvm Whonix uniform on all systems it runs on too. Its also the closest to an .ova drop-in replacement as possible. The images with the xml configuration that is imported with the exact optimal settings we decide on.[/quote]<br>
Yes.</p>
<blockquote>[quote] If so "start this extra script every here and now to randomize times" would make this more cumbersome.[/quote]
<p>On second thought, yes you are right about this making things needlessly complicated, but if its very important in situations where a hidden service is being sniffed out, then we should include a script for it with optional instructions in the wiki.</p>
</blockquote><br>
Yes.
<blockquote>However I have an alternative last suggestion at making this setting applicable for everyone. How about  adding to UTC some offset based on some country's timezone to solve this?</blockquote>
Random time zones would only make hours relative, i.e. 02:53:45:35678 vs 05:53:45:35678 could still be linked.
<p>This time random offset feature is about setting for example 02:53:45:35678 to 02:53:45:12563. After boot, bootclockrandomization kicks in and sets it +/- range between 5 and 180 seconds in future or past, for example setting 02:53:45:12563 to 02:53:23:12563. After Tor succeeded connecting, sdwdate kicks in and sets it to maybe 02:53:40:12563.</p>
<blockquote>I decided to ask on #tor about the benefit of the random offset. Its clear that we have different views of the threat model, but I decided to post it anyway for reference.</blockquote>
Well, I am not sure if this topic gets a little to complicated for irc support. They may not be aware of my arguments from https://www.whonix.org/wiki/Dev/TimeSync and the linked papers. Also I may not be doing a good job explaining this issue. Very few have raised criticism or questions about that page. Either
- it is so perfect, that it can not be criticized.
- it is so complex, too much text, that no one bothers to check
- http://en.wikipedia.org/wiki/Parkinson%27s_law_of_triviality kicked in &lt;--- timesync is like the atomic reactor, very few comment on these designs; whonix logo is the bikeshed, where many seem to know The Truth(tm)
<blockquote>[quote]Sounds like these filers are not supposed to be edited by hand? At least not while kvm is running? I guess they get reset by kvm. Your changes may persist when all kvm machines are shut down. Please try that.[/quote]
<p>ok I‚Äôll check.</p>
<p>Edited to add:<br>
Same thing happens with editing while vm shutdown, but the clocks are still separate.</p>
</blockquote><br>
Well, it seems like there is still a process running overwriting these files. I wouldn‚Äôt know any other explanation why it keeps overwriting hand made settings. Or perhaps there is some kind of backup and integrity check, that restores the backup after hand made edits. How to hand edit xml files is a good question for search engines, irc, mailing lists.
<p>It seems like editing xml files is not that simple. Needs two more commands. First dump the xml, then edit it, then re-import the xml. It is described here:<br>
<a href="../../../external.html?link=https://help.ubuntu.com/community/KVM/Managing#Editing_the_attributes_of_a_Virtual_Machine" class="onebox" target="_blank">https://help.ubuntu.com/community/KVM/Managing#Editing_the_attributes_of_a_Virtual_Machine</a></p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-03T03:25:46Z' class='post-time'>
                April 3, 2014,  3:25am
              </time>
              <meta itemprop='dateModified' content='2014-04-03T03:25:46Z'>
          <span itemprop='position'>#52</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Wrong recipient? I was thinking about a feature request against KVM, not Whonix. The KVM devs shouldn't add a script.
<p>Maybe I am not doing a good job explaining what I mean by offset.</p>
</blockquote>
<p>No, you‚Äôve explained it well and I understand it completely. The request I typed was just me being confused about who you meant. If they add this to their timer back-end then of course no script is needed. I will type the feature request here for proof-reading before I find and post it in the proper place. I don‚Äôt want to blow it and lose the interest of the few readers who could make this happen.</p>
<blockquote>[b]Feature Request:[/b]
<p>Hello, this is a feature request, for adding the ability for the kvm timer back-end to spoof the initial virtual hardware clock offset by setting the clock X milliseconds, in the future or past, by picking a random value within a range of seconds chosen by the user. This is in contrast to what is only possible now, through only being allowed to pick a fixed and arbitrary timer offset.</p>
<p>VirtualBox has such a feature implemented by using this syntax:</p>
<p>VBoxManage modifyvm  --biossystemtimeoffset -<br>
VBoxManage modifyvm  --biossystemtimeoffset +</p>
<p>An important use case for this is the ability to defend against time fingerprinting attacks that could unmask anonymous users relying on Tor in their vms.</p>
<p>Thanks for your consideration.</p>
</blockquote>
<blockquote>Very few have raised criticism or questions about that page.</blockquote>
Or maybe most people think its "paranoid" until it becomes common knowledge that this and more is being actively done. Same complacency before the Snowden era, but its up to us to take precautions against worst cases.
<blockquote>timesync is like the atomic reactor, very few comment on these designs; whonix logo is the bikeshed, where many seem to know The Truth(tm)</blockquote>
Sad, but true. Though you've done your homework on this and it makes perfect sense to me.
<blockquote>Well, it seems like there is still a process running overwriting these files. I wouldn't know any other explanation why it keeps overwriting hand made settings. Or perhaps there is some kind of backup and integrity check, that restores the backup after hand made edits. How to hand edit xml files is a good question for search engines, irc, mailing lists</blockquote>
I don't think that's whats happening because I've managed to add a  line for kvmclock and edit it to not present, while the vm was running. Virtmanager always tells me that any edits I make will be applied on next vm startup too. I can look up the export/import/edit syntax for libvirt xml files if needed.
<blockquote>Well, the feature request doesn't sound so exciting. I doubt either VirtualBox or KVM developers will be excited about it. However, it is important to write https://www.whonix.org/wiki/Dev/TimeSync and the feature request as clear as possible, so as many people as possible understand it, so some day someone capable of C(++) can implement the feature for Whonix.</blockquote>
<p>This. I am pessimistic about them listening to us and implementing what they could see as a ‚Äòdsitro-specific‚Äô feature. Upstream is very tough to communicate with and tend to ignore feature requests or questions that they see as dumb. What fallback advice or plan do we have if it turns out this won‚Äôt ever see the light of day?</p>
<p>Maybe its enough if users allow autosyncing with ntp once on the host and then manually alter it a little before turning this off on the host? Turning it off prevents active attacks in the future, and as long as the host clock is close to ntp time then I don‚Äôt think users will stand out.<br>
This works out because, even if an adversary has already been doing global attacks during the event of a user‚Äôs first sync, they (the adversary) would have done so subtly and not changed the time so much as to not draw attention. Manually adjustment of a few seconds forwards or backwards is enough to muddy the waters. Not ideal but I believe it makes sense under this threat model. What do you think?</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-04T01:46:07Z' class='post-time'>
                April 4, 2014,  1:46am
              </time>
              <meta itemprop='dateModified' content='2014-04-04T01:46:07Z'>
          <span itemprop='position'>#53</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="../../../external.html?link=http://wiki.libvirt.org/page/Common_XML_errors#Vanishing_parts" class="onebox" target="_blank">http://wiki.libvirt.org/page/Common_XML_errors#Vanishing_parts</a></p>
<p>This explains why the setting i put keeps vanishing. I think its becuase of some wrong xml schema I‚Äôm using according to them. In this command they show, do I use the xml file name or the name of the vm to validate its input?</p>
<blockquote># virt-xml-validate libvirt.xml</blockquote>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-04T04:23:17Z' class='post-time'>
                April 4, 2014,  4:23am
              </time>
              <meta itemprop='dateModified' content='2014-04-04T04:23:17Z'>
          <span itemprop='position'>#54</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=‚ÄúHulaHoop, post:53, topic:166‚Äù]<a href="../../../external.html?link=http://wiki.libvirt.org/page/Common_XML_errors#Vanishing_parts">http://wiki.libvirt.org/page/Common_XML_errors#Vanishing_parts</a></p>
<p>This explains why the setting i put keeps vanishing. I think its becuase of some wrong xml schema I‚Äôm using according to them. In this command they show, do I use the xml file name or the name of the vm to validate its input?</p>
<aside class="quote">
<blockquote>
<p># virt-xml-validate libvirt.xml[/quote]</p>
</blockquote>
</aside>
<p>Good finding. Worth to be added to Dev/KVM. I will be happy to add this command to the build process when using --kvm (or --qemu?) switch. Scripting this should be simple and the build process could fail closed (break) and early.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-04T04:29:06Z' class='post-time'>
                April 4, 2014,  4:29am
              </time>
              <meta itemprop='dateModified' content='2014-04-04T04:29:06Z'>
          <span itemprop='position'>#55</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Added as non-blocker:<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/KVM#Run_virt-xml-validate_during_build_process" target="_blank" title="01:47PM - 23 April 2020">Whonix ‚Äì 23 Apr 20</a>
  </header>
  <article class="onebox-body">
    <img src="#" class="thumbnail" width="" height="">

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/KVM#Run_virt-xml-validate_during_build_process" target="_blank">Dev/KVM - Whonix</a></h3>

<p>Development Notes for adding KVM support to Whonix ‚Ñ¢.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>I am wondering how to best deploy this. I think we agree to deploy an xml file. Ideally, since xml files are difficult to create/edit by hand (that‚Äôs the reason, why I hate xml and prefer normal config files), it would be best if we provided the necessary commands to create such a file.</p>
<p>Once we have them, I am happy to write a script automating the process.</p>
<p>Added as non-blocker:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/KVM#Script.2Fautomate_creation_of_VM_description_files.3F" target="_blank" title="01:47PM - 23 April 2020">Whonix ‚Äì 23 Apr 20</a>
  </header>
  <article class="onebox-body">
    <img src="#" class="thumbnail" width="" height="">

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/KVM#Script.2Fautomate_creation_of_VM_description_files.3F" target="_blank">Dev/KVM - Whonix</a></h3>

<p>Development Notes for adding KVM support to Whonix ‚Ñ¢.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-04T12:12:49Z' class='post-time'>
                April 4, 2014, 12:12pm
              </time>
              <meta itemprop='dateModified' content='2014-04-04T12:12:49Z'>
          <span itemprop='position'>#56</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="../../../external.html?link=https://www.centos.org/docs/5/html/5.2/Virtualization/chap-Virtualization-Managing_guests_with_virsh.html" class="onebox" target="_blank">https://www.centos.org/docs/5/html/5.2/Virtualization/chap-Virtualization-Managing_guests_with_virsh.html</a><br>
<span class="bbcode-b">Creating a guest<br>
Creating a virtual machine XML dump(configuration file)</span></p>
<p>In this link is info on dumping the xml from a vm too. But there is an important thing worth mentioning.<br>
It turns out that dumping the xml for the virtual internal network is a separate affair. How to import it and use it, has many options too:<br>
<a href="../../../external.html?link=http://pic.dhe.ibm.com/infocenter/lnxinfo/v3r0m0/index.jsp?topic=%2Fliaat%2Fliaatkvmvirsh.htm" class="onebox" target="_blank">http://pic.dhe.ibm.com/infocenter/lnxinfo/v3r0m0/index.jsp?topic=%2Fliaat%2Fliaatkvmvirsh.htm</a><br>
&lt;&lt; <span class="bbcode-b"> Managing your virtual network with the virsh command</span></p>
<p><a href="../../../external.html?link=http://wiki.libvirt.org/page/FAQ#Where_are_VM_config_files_stored.3F_How_do_I_edit_a_VM.27s_XML_config.3F" class="onebox" target="_blank">http://wiki.libvirt.org/page/FAQ#Where_are_VM_config_files_stored.3F_How_do_I_edit_a_VM.27s_XML_config.3F</a></p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-04T14:03:27Z' class='post-time'>
                April 4, 2014,  2:03pm
              </time>
              <meta itemprop='dateModified' content='2014-04-04T14:03:27Z'>
          <span itemprop='position'>#57</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><span class="bbcode-u">Time offset</span></p>
<p>I am thinking about the time offset settings thing. When bootclockrandomization [which is now running before Tor and sdwdate] can be improved to also change milliseconds, then this feature can be omitted. I haven‚Äôt figured out yet how to change milliseconds using <code>date</code>, if this is even possible.</p>
<p><span class="bbcode-u">Scripting / xml</span></p>
<p>Ideally, we have a list of commands required to create the xml.</p>
<p>Looking like this.</p>
<blockquote>virsh create Whonix-Gateway
virsh setmem Whonix-Gateway kilobytes
virsh attach-device Whonix-Gateway /path/to
attach-interface Whonix-Gateway --mac mac
...
virsh dump /path/to</blockquote>
<p>You get the idea. This would be ideal to script (and easy to script) and perfectly auditable / extensible / clear.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-05T01:03:03Z' class='post-time'>
                April 5, 2014,  1:03am
              </time>
              <meta itemprop='dateModified' content='2014-04-05T01:03:03Z'>
          <span itemprop='position'>#58</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I will see what I can find and keep you updated.</p>
<p><aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../external.html?link=https://superuser.com/questions/210922/set-system-clock-in-unix-to-millisecond-precision" target="_blank">superuser.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://superuser.com/users/27814/alexey-romanov" target="_blank">
    <img alt="Alexey Romanov" src="../../../external.html?link=https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&amp;d=identicon&amp;r=PG" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="../../../external.html?link=https://superuser.com/questions/210922/set-system-clock-in-unix-to-millisecond-precision" target="_blank">Set system clock in Unix to millisecond precision</a>
</h4>

<div class="tags">
  <strong>linux</strong>
</div>

<div class="date">
  asked by
  
  <a href="../../../external.html?link=https://superuser.com/users/27814/alexey-romanov" target="_blank">
    Alexey Romanov
  </a>
  on <a href="../../../external.html?link=https://superuser.com/questions/210922/set-system-clock-in-unix-to-millisecond-precision" target="_blank">07:35AM - 15 Nov 10 UTC</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<a href="../../../external.html?link=http://linux.die.net/man/1/date" class="onebox" target="_blank">http://linux.die.net/man/1/date</a></p>
<p>The date can be set at the nanosecond level, with larger numbers being able to have an effect at the millisecond level.</p>
<blockquote>Ideally, we have a list of commands required to create the xml.</blockquote>
<p>Thats excellent.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-06T00:26:38Z' class='post-time'>
                April 6, 2014, 12:26am
              </time>
              <meta itemprop='dateModified' content='2014-04-06T00:26:38Z'>
          <span itemprop='position'>#59</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Random time offset for nanoseconds has been moved forward.</p>
<p>Check out the updated bootclockrandomization script:<br>
<a href="../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/whonix_shared/etc/init.d/bootclockrandomization" class="onebox" target="_blank">https://github.com/Whonix/Whonix/blob/master/whonix_shared/etc/init.d/bootclockrandomization</a></p>
<p>Copy to /etc/init.d/bootclockrandomization.</p>
<p>Test:<br>
In one window:</p>
<pre><code class="lang-auto"></code></pre>
<p>In another window:</p>
<pre><code class="lang-auto"></code></pre>
<p>Example log.</p>
<pre><code class="lang-auto">- 142 422538623
Changed time from Sun Apr  6 00:23:55 UTC 2014 (1396743835.348288794)
               to Sun Apr  6 00:21:33 UTC 2014 (1396743693.424668773).
- 23 718543726
Changed time from Sun Apr  6 00:21:34 UTC 2014 (1396743694.584517815)
               to Sun Apr  6 00:21:11 UTC 2014 (1396743671.720666713).
+ 37 918148837
Changed time from Sun Apr  6 00:21:12 UTC 2014 (1396743672.198839644)
               to Sun Apr  6 00:21:49 UTC 2014 (1396743709.920361623).</code></pre>
<p>Please review!</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-06T03:06:39Z' class='post-time'>
                April 6, 2014,  3:06am
              </time>
              <meta itemprop='dateModified' content='2014-04-06T03:06:39Z'>
          <span itemprop='position'>#60</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>root@host:/home/user# tail -f /var/log/bootclockrandomization.log
               to Sat Apr  5 00:52:34 UTC 2014.
+ 165
Changed time from Sat Apr  5 12:56:45 UTC 2014
               to Sat Apr  5 12:59:30 UTC 2014.
- 51
Changed time from Sun Apr  6 02:33:34 UTC 2014
               to Sun Apr  6 02:32:43 UTC 2014.
+ 111 029733597
Changed time from Sun Apr  6 02:59:25 UTC 2014 (1396753165.481980210)
               to Sun Apr  6 03:01:16 UTC 2014 (1396753276.033997830).</blockquote>
<p>Looking good  <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>What is your opinion about this suggestion used in combination with the updated script? If useful, we could add it as a readme in the tar.gz. If not needed, then nevermind.</p>
<blockquote>Maybe its enough if users allow autosyncing with ntp once on the host and then manually alter it a little before turning this off on the host? Turning it off prevents active attacks in the future, and as long as the host clock is close to ntp time then I don't think users will stand out.
This works out because, even if an adversary has already been doing global attacks during the event of a user's first sync, they (the adversary) would have done so subtly and not changed the time so much as to not draw attention. Manually adjustment of a few seconds forwards or backwards is enough to muddy the waters</blockquote>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="1664658.html?page=2">‚Üê previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="166fdb0.html?page=4">next page ‚Üí</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
