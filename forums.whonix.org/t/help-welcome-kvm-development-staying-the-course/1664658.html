<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Help Welcome] KVM Development - staying the course - KVM - Whonix Forum</title>
    <meta name="description" content="Congratulations Patrick on these new and exciting new developments for Whonix [:smile:]  Looks like I missed quite alot. I want to continue tackling the main blockers for Whonix KVM support. Let me know how I can help.">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1664658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Help Welcome] KVM Development - staying the course&#39;" href="166.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/help-welcome-kvm-development-staying-the-course/166?page=2" />
<meta name="twitter:url" content="https://forums.whonix.org/t/help-welcome-kvm-development-staying-the-course/166?page=2" />
<meta property="og:title" content="[Help Welcome] KVM Development - staying the course" />
<meta name="twitter:title" content="[Help Welcome] KVM Development - staying the course" />
<meta property="og:description" content="Since KVM requires Intel VT and/or AMD-V, would you also be interested to add Qemu support?  When virt-manager is started as root (using kdesudo or gksudo), you can choose between qemu and kvm.  Any idea how much difference there would be? If we’re lucky, Qemu/KVM is just one differencing settings." />
<meta name="twitter:description" content="Since KVM requires Intel VT and/or AMD-V, would you also be interested to add Qemu support?  When virt-manager is started as root (using kdesudo or gksudo), you can choose between qemu and kvm.  Any idea how much difference there would be? If we’re lucky, Qemu/KVM is just one differencing settings." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="126 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="155 ❤" />
<meta property="article:published_time" content="2014-03-20T14:57:56+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="166.html">
        <link rel="next" href="1669ba9.html?page=3">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="166.html">[Help Welcome] KVM Development - staying the course</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/kvm/11.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #9EB83B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>KVM</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-20T14:57:56Z' class='post-time'>
                March 20, 2014,  2:57pm
              </time>
              <meta itemprop='dateModified' content='2014-03-20T14:57:56Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Since KVM requires Intel VT and/or AMD-V, would you also be interested to add Qemu support?</p>
<p>When virt-manager is started as root (using kdesudo or gksudo), you can choose between qemu and kvm.</p>
<p>Any idea how much difference there would be? If we’re lucky, Qemu/KVM is just one differencing settings.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-21T03:41:19Z' class='post-time'>
                March 21, 2014,  3:41am
              </time>
              <meta itemprop='dateModified' content='2014-03-21T03:41:19Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sure, adding just plain qemu shouldn’t require anything more than specifying this as a on off setting. It could be useful for debugging scenarios, but as far as I know, the performance is going to be disappointing since all cpu instructions will be emulated instead of run on the metal directly.</p>
<p>On a related subject, communication with the KVM mailinglist looks pessimistic.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-24T05:16:59Z' class='post-time'>
                March 24, 2014,  5:16am
              </time>
              <meta itemprop='dateModified' content='2014-03-24T05:16:59Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hey Patrick were you able to solve the vm clock setting with a script? or is this still an outstanding problem?</p>
<p>After you confirm this is done, we could look at ways to improve the performance.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-24T11:53:33Z' class='post-time'>
                March 24, 2014, 11:53am
              </time>
              <meta itemprop='dateModified' content='2014-03-24T11:53:33Z'>
          <span itemprop='position'>#24</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I didn’t look into it. I didn’t know I am supposed to do it. The script is just the final step. Beforehand, it would be great if you could sort out this two questions:</p>
<ol>
<li>Are we 100% sure, that there is no config file setting to set this instead of using a command line option? It would really so much better not needed command line option and by extension would not need a script. Exhausted mailing lists / IRC already?</li>
<li>If the answer to 1) is, that we really need a command line option, then what is the command required to start KVM? Does it work? Add to the wiki?</li>
</ol>
<p>Please also have a look at the file size topic if you have time, which is also about performance (using metadata preallocation vs not using metadata preallocation):<br>
<a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,202.0/topicseen.html" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,202.0/topicseen.html</a></p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-25T02:59:43Z' class='post-time'>
                March 25, 2014,  2:59am
              </time>
              <meta itemprop='dateModified' content='2014-03-25T02:59:43Z'>
          <span itemprop='position'>#25</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I tried the kvm mailinglist, but not IRC. I’d be grateful if you create an account and pass on the nick/password to the email: bancfc openmailbox [.] org . Also let me know how I can connect to these servers anonymously using sasl as freenode is finicky about this.</p>
<p>Please let me know what to input in the terminal so I can experiment with this myself. Maybe the answer can be found without chasing these non cooperative support channels.</p>
<p>Edited to add:<br>
There is a way described here to store the qemu-kvm parameters as a configuration file to be used in the future rather than have it scripted or manually typed in. The caveat is that  we have to include eveything that we are doing from virt-manager in there. Its under this section in the very useful link beneath it:</p>
<p>13.2.2. Storing and Reading Configuration of Virtual Devices<br>
<a href="../../../external.html?link=https://doc.opensuse.org/products/draft/SLES/SLES-kvm_sd_draft/cha.qemu.running.html" class="onebox" target="_blank">https://doc.opensuse.org/products/draft/SLES/SLES-kvm_sd_draft/cha.qemu.running.html</a></p>
<p>I promise I am not being lazy,its just that I have limited knowledge in this area but I am trying to help as much as I can by testing things directly or finding out how.</p>
<p>I remember reading about pre-allocation as very beneficial for speed and vm performance, so its good that you are enabling this in the new images. However, paravitualization has a very important impact on a vm as well.</p>
<p>I have a question besides this topic. In the other thread on disk encryption, it was mentioned that Whonix doesn’t have a boot partition. Does this mean that the information on turning on virtio-blk won’t be of much use? <a href="../../../external.html?link=https://wiki.debian.org/DebianKVMGuests">https://wiki.debian.org/DebianKVMGuests</a></p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nrgaway'><span itemprop='name'>nrgaway</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-25T04:42:18Z' class='post-time'>
                March 25, 2014,  4:42am
              </time>
              <meta itemprop='dateModified' content='2014-03-25T04:42:18Z'>
          <span itemprop='position'>#26</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I have included a very close representation of an xml configuration file created when a snapshot was taken of a kvm image.</p>
<p>You will notice there is a clock section.  Wonder if any of those values are of any use to you?</p>
<p>As I mentioned in another thread, I am new to KVM as well so am not sure if any of this would be helpful or not but figured why not see anyway.</p>
<pre><code class="lang-auto">&lt;domainsnapshot&gt;
  &lt;name&gt;Initial configuration complete&lt;/name&gt;
  &lt;state&gt;shutoff&lt;/state&gt;
  &lt;creationTime&gt;1395643210&lt;/creationTime&gt;
  &lt;memory snapshot='no'/&gt;
  &lt;disks&gt;
    &lt;disk name='sda' snapshot='internal'/&gt;
  &lt;/disks&gt;
  &lt;domain type='kvm'&gt;
    &lt;name&gt;kvm-virtual-machine&lt;/name&gt;
    &lt;uuid&gt;12345678-9012-3456-7890-abcfef012345&lt;/uuid&gt;
    &lt;memory unit='KiB'&gt;4096000&lt;/memory&gt;
    &lt;currentMemory unit='KiB'&gt;4096000&lt;/currentMemory&gt;
    &lt;vcpu placement='static'&gt;2&lt;/vcpu&gt;
    &lt;os&gt;
      &lt;type arch='x86_64' machine='pc-i440fx-1.7'&gt;hvm&lt;/type&gt;
      &lt;boot dev='hd'/&gt;
      &lt;bootmenu enable='yes'/&gt;
    &lt;/os&gt;
    &lt;features&gt;
      &lt;acpi/&gt;
      &lt;apic/&gt;
      &lt;pae/&gt;
    &lt;/features&gt;
    &lt;cpu mode='custom' match='exact'&gt;
      &lt;model fallback='allow'&gt;Localhost&lt;/model&gt;
    &lt;/cpu&gt;
    &lt;clock offset='utc'&gt;
      &lt;timer name='rtc' tickpolicy='catchup'/&gt;
      &lt;timer name='pit' tickpolicy='delay'/&gt;
      &lt;timer name='hpet' present='no'/&gt;
    &lt;/clock&gt;
    &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt;
    &lt;on_reboot&gt;restart&lt;/on_reboot&gt;
    &lt;on_crash&gt;restart&lt;/on_crash&gt;
    &lt;pm&gt;
      &lt;suspend-to-mem enabled='no'/&gt;
      &lt;suspend-to-disk enabled='no'/&gt;
    &lt;/pm&gt;
    &lt;devices&gt;
      &lt;emulator&gt;/usr/bin/kvm-spice&lt;/emulator&gt;
      &lt;disk type='file' device='disk'&gt;
        &lt;driver name='qemu' type='qcow2'/&gt;
        &lt;source file='/tmp/image.qcow2'/&gt;
        &lt;target dev='sda' bus='scsi'/&gt;
        &lt;address type='drive' controller='0' bus='0' target='0' unit='0'/&gt;
      &lt;/disk&gt;
      &lt;controller type='usb' index='0' model='ich9-ehci1'&gt;
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x06' function='0x7'/&gt;
      &lt;/controller&gt;
      &lt;controller type='usb' index='0' model='ich9-uhci1'&gt;
        &lt;master startport='0'/&gt;
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x06' function='0x0' multifunction='on'/&gt;
      &lt;/controller&gt;
      &lt;controller type='usb' index='0' model='ich9-uhci2'&gt;
        &lt;master startport='2'/&gt;
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x06' function='0x1'/&gt;
      &lt;/controller&gt;
      &lt;controller type='usb' index='0' model='ich9-uhci3'&gt;
        &lt;master startport='4'/&gt;
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x06' function='0x2'/&gt;
      &lt;/controller&gt;
      &lt;controller type='scsi' index='0'&gt;
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x05' function='0x0'/&gt;
      &lt;/controller&gt;
      &lt;controller type='pci' index='0' model='pci-root'/&gt;
      &lt;interface type='network'&gt;
        &lt;mac address='01:23:45:67:89:10'/&gt;
        &lt;source network='default'/&gt;
        &lt;model type='virtio'/&gt;
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/&gt;
      &lt;/interface&gt;
      &lt;interface type='network'&gt;
        &lt;mac address='02:23:45:67:89:10'/&gt;
        &lt;source network='whonix'/&gt;
        &lt;model type='virtio'/&gt;
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/&gt;
      &lt;/interface&gt;
      &lt;serial type='pty'&gt;
        &lt;target port='0'/&gt;
      &lt;/serial&gt;
      &lt;console type='pty'&gt;
        &lt;target type='serial' port='0'/&gt;
      &lt;/console&gt;
      &lt;input type='tablet' bus='usb'/&gt;
      &lt;input type='mouse' bus='ps2'/&gt;
      &lt;input type='keyboard' bus='ps2'/&gt;
      &lt;graphics type='vnc' port='-1' autoport='yes' keymap='en-us'/&gt;
      &lt;video&gt;
        &lt;model type='cirrus' vram='9216' heads='1'/&gt;
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x0'/&gt;
      &lt;/video&gt;
      &lt;memballoon model='virtio'&gt;
        &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x09' function='0x0'/&gt;
      &lt;/memballoon&gt;
    &lt;/devices&gt;
  &lt;/domain&gt;
  &lt;active&gt;1&lt;/active&gt;
&lt;/domainsnapshot&gt;</code></pre>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-25T22:41:04Z' class='post-time'>
                March 25, 2014, 10:41pm
              </time>
              <meta itemprop='dateModified' content='2014-03-25T22:41:04Z'>
          <span itemprop='position'>#27</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>I'd be grateful if you create an account and pass on the nick/password to the email: bancfc openmailbox [.] org.</blockquote>
You're most helpful developing Whonix KVM support and I am happy to help out here.
<p>I’ve send you and e-mail. You gotta click the confirmation link within 24 hours. (Otherwise I need to do it again, no problem.)</p>
<blockquote>Also let me know how I can connect to these servers anonymously using sasl as freenode is finicky about this.</blockquote>
Yeah, freenode is quite important for development questions.
<p>In Whonix 8:</p>
<p>Safe <a href="../../../external.html?link=http://lwsitu.com/xchat/cap_sasl_xchat.pl">http://lwsitu.com/xchat/cap_sasl_xchat.pl</a> in ~/.xchat2/</p>
<p>Unfortunately, that file is down.</p>
<p>This is the version I am using.</p>
<p>[code]# based on cap_sasl.pl by Michael Tharp and Jilles Tjoelker</p>
<h1>ported to X-Chat 2 by Lian Wan Situ</h1>
<h1></h1>
<h1>license: GNU General Public License</h1>
<h1>Latest version at <a href="../../../external.html?link=http://lwsitu.com/xchat/cap_sasl_xchat.pl">http://lwsitu.com/xchat/cap_sasl_xchat.pl</a>
</h1>
<h3>Configuration</h3>
<h1>How long to wait between authentication messages</h1>
<p>my $AUTHENTICATION_TIMEOUT = 5;</p>
<h3>End Configuration</h3>
<p>use strict;<br>
use warnings;<br>
use Xchat qw(:all);</p>
<p>use MIME::Base64;</p>
<p>register(<br>
“CAP SASL”,<br>
“1.0107”,<br>
“Implements PLAIN SASL authentication mechanism for use with charybdis ircds, and enables CAP MULTI-PREFIX IDENTIFY-MSG”,<br>
&amp;cmd_sasl_save,<br>
);</p>
<p>my %timeouts;<br>
my %processing_cap;<br>
hook_print( “Connected”, &amp;event_connected );</p>
<p>hook_server( ‘CAP’, &amp;event_cap);<br>
hook_server( ‘AUTHENTICATE’, &amp;event_authenticate);<br>
hook_server( ‘900’, sub {<br>
cap_out( substr( $_[1][5], 1, ) );<br>
timeout_remove();<br>
return EAT_XCHAT;<br>
});<br>
hook_server( ‘903’, &amp;event_saslend);<br>
hook_server( ‘904’, &amp;event_saslend);<br>
hook_server( ‘905’, &amp;event_saslend);<br>
hook_server( ‘906’, &amp;event_saslend);<br>
hook_server( ‘907’, &amp;event_saslend);</p>
<p>hook_command( ‘SASL’, &amp;cmd_sasl, { help_text =&gt; cmd_sasl_help_text() } );</p>
<p>my $AUTH_TIMEOUT;<br>
if( $AUTHENTICATION_TIMEOUT ) {<br>
$AUTH_TIMEOUT = $AUTHENTICATION_TIMEOUT * 1_000;<br>
} else {<br>
$AUTH_TIMEOUT = 5_000;<br>
}</p>
<p>my %sasl_auth = ();<br>
my %mech = ();</p>
<p>sub send_raw {<br>
commandf( “QUOTE %s”, $_[0] );<br>
}</p>
<p>sub cap {<br>
send_raw( "CAP " . $_[0] );<br>
}</p>
<p>sub cap_end{<br>
delete $processing_cap{ get_info “id” };<br>
cap( “END” );<br>
}</p>
<p>sub connected {<br>
my $flags = context_info-&gt;{flags};<br>
return  $flags &amp; 1 || $flags &amp; 2;<br>
}</p>
<p>sub get_config_file {<br>
return get_info( “xchatdirfs” )."/sasl.auth";<br>
}</p>
<p>sub network_name {<br>
return lc get_info( “network” );<br>
}</p>
<h1>switch to the server tab for the current connection</h1>
<h1>return true if successful</h1>
<p>sub switch_to_server {<br>
my $connection_id = shift;</p>
<pre><code>for my $tab( get_list "channels") {
	if( $tab-&gt;{id} == $connection_id &amp;&amp; $tab-&gt;{type} == 1 ) {
		return set_context( $tab-&gt;{context} );
	}
}

return;
</code></pre>
<p>}</p>
<p>sub cap_out {<br>
my $output = shift;<br>
switch_to_server( get_info “id” );</p>
<pre><code>prnt( $output );
</code></pre>
<p>}</p>
<p>sub event_connected {<br>
cap( “LS” );</p>
<pre><code># reset everything for new connection
timeout_remove();
delete $processing_cap{ get_info( "id" ) };
return EAT_NONE;
</code></pre>
<p>}</p>
<p>sub event_cap {<br>
my $tosend = ‘’;<br>
my $subcmd = uc $<em>[0][3];<br>
my $caps = $</em>[1][4];<br>
$caps =~ s/^://;</p>
<pre><code>if ($subcmd eq 'LS') {
	my $id = get_info "id";
	if( $processing_cap{ $id } ) {
		return EAT_XCHAT;
	}
	$processing_cap{ $id } = 1;
	$tosend .= ' multi-prefix' if $caps =~ /\bmulti-prefix\b/xi;

	if( $caps =~ /\bsasl\b/xi ) {
		if( defined($sasl_auth{network_name()}) ) {
			$tosend .= ' sasl';
		} else {
			cap_out( "\cC05SASL is supported but there is no authentication information set for this network(\cC02".network_name()."\cC05)." );
		}
	}

	$tosend .= ' identify-msg' if $caps =~ /\bidentify-msg\b/;
	$tosend =~ s/^ //;
	cap_out( "CLICAP: supported by server: $caps" );

	if ( connected() ) {
		if ($tosend eq '') {
			cap_end();
		} else {
			cap_out( "CLICAP: requesting: $tosend" );
			cap( "REQ :$tosend" );
		}
	}
} elsif( $subcmd eq 'ACK' ) {
	cap_out( "CLICAP: now enabled: $caps" );

	if( $caps =~ /\bidentify-msg\b/i ) {
		commandf( "RECV %s 290 %s :IDENTIFY-MSG",
			$_[0][0], get_info( "nick" ) );
	}

	if( $caps =~ /\bsasl\b/i ) {
		$sasl_auth{network_name()}{buffer} = '';
		if($mech{$sasl_auth{network_name()}{mech}}) {
			send_raw( "AUTHENTICATE "
				. $sasl_auth{network_name()}{mech}
			);

			timeout_start();
		} else {
			cap_out( 'SASL: attempted to start unknown mechanism "%s"',
				$sasl_auth{network_name()}{mech}
			);
		}
	} elsif( connected() ) {
		cap_end;
	}
} elsif( $subcmd eq 'NAK' ) {
	cap_out( "CLICAP: refused:$caps" );
	if ( connected() ) {
		cap_end;
	}
} elsif( $subcmd eq 'LIST' ) {
	cap_out( "CLICAP: currently enabled:$caps" );
}

return EAT_XCHAT;
</code></pre>
<p>}</p>
<p>sub event_authenticate {<br>
my $args = $_[1][1] || “”;</p>
<pre><code>my $sasl = $sasl_auth{network_name()};
return EAT_XCHAT unless $sasl &amp;&amp; $mech{$sasl-&gt;{mech}};

$sasl-&gt;{buffer} .= $args;
timeout_reset();
return EAT_XCHAT if length($args) == 400;

my $data = $sasl-&gt;{buffer} eq '+' ? '' : decode_base64($sasl-&gt;{buffer});
my $out = $mech{$sasl-&gt;{mech}}($sasl, $data);
$out = '' unless defined $out;
$out = $out eq '' ? '+' : encode_base64($out, '');

while(length $out &gt;= 400) {
	my $subout = substr($out, 0, 400, '');
	send_raw("AUTHENTICATE $subout");
}
if(length $out) {
	send_raw("AUTHENTICATE $out");
}else{ # Last piece was exactly 400 bytes, we have to send some padding to indicate we're done
	send_raw("AUTHENTICATE +");
}

$sasl-&gt;{buffer} = '';
return EAT_XCHAT;
</code></pre>
<p>}</p>
<p>sub event_saslend {<br>
my $data = $_[1][1];<br>
$data =~ s/^\S+ :?//;</p>
<pre><code>if (connected()) {
	cap_end();
}

return EAT_XCHAT;
</code></pre>
<p>}</p>
<p>sub timeout_start {<br>
$timeouts{ context_info-&gt;{id} }<br>
= hook_timer( $AUTH_TIMEOUT, sub { timeout(); return REMOVE; } );<br>
}</p>
<p>sub timeout_remove {<br>
unhook( $timeouts{ context_info-&gt;{id} } ) if $timeouts{ context_info-&gt;{id} };<br>
}</p>
<p>sub timeout_reset {<br>
timeout_remove();<br>
timeout_start();<br>
}</p>
<p>sub timeout {<br>
my $id = get_info “id”;<br>
delete $processing_cap{ $id };</p>
<pre><code>if( connected() ) {
	cap_out( "SASL: authentication timed out" );
	cap_end();
}
</code></pre>
<p>}</p>
<p>my %sasl_actions = (<br>
load =&gt; &amp;cmd_sasl_load,<br>
save =&gt; &amp;cmd_sasl_save,<br>
set =&gt; &amp;cmd_sasl_set,<br>
delete =&gt; &amp;cmd_sasl_delete,<br>
show =&gt; &amp;cmd_sasl_show,<br>
help =&gt; &amp;cmd_sasl_help,<br>
mechanisms =&gt; &amp;cmd_sasl_mechanisms,<br>
);</p>
<p>sub cmd_sasl {<br>
my $action = $_[0][1];</p>
<pre><code>if( $action and my $action_code = $sasl_actions{ $action } ) {
	$action_code-&gt;( @_ );
} else {
	$sasl_actions{ help }-&gt;( @_ );
}

return EAT_XCHAT;
</code></pre>
<p>}</p>
<p>sub cmd_sasl_help_text {<br>
return &lt;&lt;“HELP_TEXT”;<br>
SASL [action] [action paramters]<br>
actions:<br>
load        reload SASL information from disk<br>
save        save the current SASL information to disk<br>
set         set the SASL information for a particular network<br>
set    <br>
delete      delete the SASL information for a particular network<br>
delete </p>
<pre><code>show        display which networks have SASL information set
mechanisms  display supported mechanisms

help        show help message
</code></pre>
<p>HELP_TEXT</p>
<p>}</p>
<p>sub cmd_sasl_set {<br>
my $data = $_[1][2] || “”;</p>
<pre><code>if (my($net, $u, $p, $m) = $data =~ /^(\S+) (\S+) (\S+) (\S+)$/) {
	if($mech{uc $m}) {
		$net = lc $net;
		$sasl_auth{$net}{user} = $u;
		$sasl_auth{$net}{password} = $p;
		$sasl_auth{$net}{mech} = uc $m;
		prnt( "SASL: added $net: [$m] $sasl_auth{$net}{user} *" );
	} else {
		prnt( "SASL: unknown mechanism $m" );
	}
} elsif( $data =~ /^(\S+)$/) {
	$net = lc $1;
	if (defined($sasl_auth{$net})) {
		delete $sasl_auth{$net};
		prnt( "SASL: deleted $net" );
	} else {
		prnt( "SASL: no entry for $net" );
	}
} else {
	prnt( "SASL: usage: /sasl set &lt;net&gt; &lt;user&gt; &lt;password or keyfile&gt; &lt;mechanism&gt;" );
}
</code></pre>
<p>}</p>
<p>sub cmd_sasl_delete {<br>
my $net = $_[0][2];<br>
prnt “Net: $net”;</p>
<pre><code>delete $sasl_auth{$net};
</code></pre>
<p>}</p>
<p>sub cmd_sasl_show {<br>
foreach my $net (keys %sasl_auth) {<br>
prnt( “SASL: $net: [$sasl_auth{$net}{mech}] $sasl_auth{$net}{user} *” );<br>
}<br>
prnt(“SASL: no networks defined”) if !%sasl_auth;<br>
}</p>
<p>sub cmd_sasl_save {<br>
my $file = get_config_file();</p>
<pre><code>if( open my $fh, "&gt;", $file ) {

foreach my $net (keys %sasl_auth) {
	printf $fh ("%s\t%s\t%s\t%s\n", lc $net, $sasl_auth{$net}{user}, $sasl_auth{$net}{password}, $sasl_auth{$net}{mech});
}

prnt( "SASL: auth saved to $file" );
} else {
	prnt qq{Couldn't open '$file' to save auth data: $!};
}
</code></pre>
<p>}</p>
<p>sub cmd_sasl_load {<br>
<span class="hashtag">#my</span> ($data, $server, $item) = <span class="mention">@_</span>;<br>
my $file = get_config_file();</p>
<pre><code>open FILE, "&lt; $file" or return;
%sasl_auth = ();
while (&lt;FILE&gt;) {
	chomp;
	my ($net, $u, $p, $m) = split (/\t/, $_, 4);
	$m ||= "PLAIN";
	$net = lc $net;
	if($mech{uc $m}) {
		$sasl_auth{$net}{user} = $u;
		$sasl_auth{$net}{password} = $p;
		$sasl_auth{$net}{mech} = uc $m;
	}else{
		prnt( "SASL: unknown mechanism $m" );
	}
}
close FILE;
prnt( "SASL: auth loaded from $file" );
</code></pre>
<p>}</p>
<p>sub cmd_sasl_mechanisms {<br>
prnt( “SASL: mechanisms supported: " . join(” ", keys %mech) );<br>
}</p>
<p>sub cmd_sasl_help {<br>
prnt( cmd_sasl_help_text() );<br>
}</p>
<p>$mech{PLAIN} = sub {<br>
my($sasl, $data) = <span class="mention">@_</span>;<br>
my $u = $sasl-&gt;{user};<br>
my $p = $sasl-&gt;{password};</p>
<pre><code>join("\0", $u, $u, $p);
</code></pre>
<p>};</p>
<h1>binary to BigInt</h1>
<p>sub bin2bi {<br>
return Crypt::OpenSSL::Bignum<br>
-&gt;new_from_bin(shift)<br>
-&gt;to_decimal;<br>
}</p>
<h1>BigInt to binary</h1>
<p>sub bi2bin {<br>
return Crypt::OpenSSL::Bignum<br>
-&gt;new_from_decimal((shift)-&gt;bstr)<br>
-&gt;to_bin;<br>
}</p>
<p>eval {<br>
require Crypt::OpenSSL::Bignum;<br>
require Crypt::DH;<br>
require Crypt::Blowfish;<br>
require Math::BigInt;</p>
<pre><code>$mech{'DH-BLOWFISH'} = sub {
	my($sasl, $data) = @_;
	my $u = $sasl-&gt;{user};
	my $pass = $sasl-&gt;{password};

	# Generate private key and compute secret key
	my($p, $g, $y) = unpack("(n/a*)3", $data);
	my $dh = Crypt::DH-&gt;new(p =&gt; bin2bi($p), g =&gt; bin2bi($g));
	$dh-&gt;generate_keys;

	my $secret = bi2bin($dh-&gt;compute_secret(bin2bi($y)));
	my $pubkey = bi2bin($dh-&gt;pub_key);

	# Pad the password to the nearest multiple of blocksize and encrypt
	$pass .= "\0";
	$pass .= chr(rand(256)) while length($pass) % 8;

	my $cipher = Crypt::Blowfish-&gt;new($secret);
	my $crypted = '';
	while(length $pass) {
		my $clear = substr($pass, 0, 8, '');
		$crypted .= $cipher-&gt;encrypt($clear);
	}

	pack("n/a*Z*a*", $pubkey, $u, $crypted);
};
</code></pre>
<p>};</p>
<p>cmd_sasl_load();</p>
<h1>vim: ts=4</h1>
<p>[/code]</p>
<p>Alternatively use the  cap_sasl_xchat.py.</p>
<p>To enable XChat perl or python, you can copy and paste the required command from here:<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/XChat#SASL" target="_blank" title="01:19PM - 06 November 2019">Whonix – 6 Nov 19</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://www.whonix.org/w/images/7/7b/Hexchaticon.png" class="thumbnail onebox-avatar" width="64" height="64">

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/XChat#SASL" target="_blank">HexChat: IRC Client</a></h3>

<p>Anonymous IRC Chat. HexChat (previously called XChat) over the Tor Anonymity Network.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>IRC servers can be found here (at the bottom, for Tor, you must use a Tor hidden service):<br>
<a href="../../../external.html?link=http://freenode.net/irc_servers.shtml" class="onebox" target="_blank">http://freenode.net/irc_servers.shtml</a></p>
<p>Official instructions:<br>
<a href="../../../external.html?link=http://freenode.net/sasl/" class="onebox" target="_blank">http://freenode.net/sasl/</a><br>
<a href="../../../external.html?link=http://freenode.net/sasl/sasl-xchat.shtml" class="onebox" target="_blank">http://freenode.net/sasl/sasl-xchat.shtml</a></p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-25T22:45:36Z' class='post-time'>
                March 25, 2014, 10:45pm
              </time>
              <meta itemprop='dateModified' content='2014-03-25T22:45:36Z'>
          <span itemprop='position'>#28</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Nevermind. Either use the instructions to use the account (that is working over Tor/sasl, I just tested that) or do you the .xchat2 folder, that I have just send to you by e-mail. (The folder, that I used for testing if this works.)</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-25T23:00:31Z' class='post-time'>
                March 25, 2014, 11:00pm
              </time>
              <meta itemprop='dateModified' content='2014-03-25T23:00:31Z'>
          <span itemprop='position'>#29</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“HulaHoop, post:25, topic:166”]There is a way described here to store the qemu-kvm parameters as a configuration file to be used in the future rather than have it scripted or manually typed in. The caveat is that  we have to include eveything that we are doing from virt-manager in there. Its under this section in the very useful link beneath it:</p>
<p>13.2.2. Storing and Reading Configuration of Virtual Devices<br>
<a href="../../../external.html?link=https://doc.opensuse.org/products/draft/SLES/SLES-kvm_sd_draft/cha.qemu.running.html%5B/quote%5D" class="onebox" target="_blank">https://doc.opensuse.org/products/draft/SLES/SLES-kvm_sd_draft/cha.qemu.running.html[/quote]</a><br>
This looks useful. That’s probably what I meant with native KVM config files, where virsh/libvirt is not involved.</p>
<p>If it would be possible to set all settings using such a config file, that would be better, I guess. (Curious what you find out and think.)</p>
<blockquote>I promise I am not being lazy,its just that I have limited knowledge in this area but I am trying to help as much as I can by testing things directly or finding out how.</blockquote>
Ok, great.
<blockquote>However, paravitualization has a very important impact on a vm as well.</blockquote>
Yes.
<blockquote>I have a question besides this topic. In the other thread on disk encryption, it was mentioned that Whonix doesn't have a boot partition.</blockquote>
It does not have a separate boot parition. Boot/root partition is shared. I don't see any indication, that this will be a limitation with respect to KVM.
<blockquote>Does this mean that the information on turning on virtio-blk won't be of much use? https://wiki.debian.org/DebianKVMGuests</blockquote>
<p>I guess you are referring to this.</p>
<p>[code]Editing grub configuration</p>
<p>On guests with grub 1 (e.g. Debian Lenny), you need to edit grub configuration:</p>
<pre><code>In /etc/grub/device.map change "(hd0) /dev/hda" to "(hd0) /dev/vda"
in /etc/grub/menu.lst change /dev/hda1 to /dev/vda1 [/code]
</code></pre>
<p>This does not apply to us. Seems like a relict in Debian wiki. We’re not using grub 1. We’re using grub 2.</p>
<p>Therefore I guess virtio_pci and virtio_blk will work.</p>
<p>I used these (<a href="../../../external.html?link=https://wiki.debian.org/DebianKVMGuests">https://wiki.debian.org/DebianKVMGuests</a>) instructions already.</p>
<p>There is an open todo item, though. [How to check, they are really in use?]</p>
<ul>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/KVM#How_to_check_if_virtio_storage_access_is_in_use_or_an_eventually_existing_fallback_driver.3F">https://www.whonix.org/wiki/Dev/KVM#How_to_check_if_virtio_storage_access_is_in_use_or_an_eventually_existing_fallback_driver.3F</a></li>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/KVM#How_to_check_if_virtio_network_is_really_in_use_or_an_eventually_existing_fallback_driver.3F">https://www.whonix.org/wiki/Dev/KVM#How_to_check_if_virtio_network_is_really_in_use_or_an_eventually_existing_fallback_driver.3F</a></li>
</ul>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-26T06:44:46Z' class='post-time'>
                March 26, 2014,  6:44am
              </time>
              <meta itemprop='dateModified' content='2014-03-26T06:44:46Z'>
          <span itemprop='position'>#30</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks for going through all that hassle for the IRC account, unfortunately though its not working. It keeps disconnecting me, saying I need to authenticate through SASL. Which it should automatically do since the plugin came prepackaged in the folder you sent me - I deleted the original and extracted the new one in its place BTW.</p>
<blockquote>If it would be possible to set all settings using such a config file, that would be better, I guess.</blockquote>
<p>Yes I agree. What I need to look up is if things like the internal networking we depend on is done through qemu-kvm or if ts and abstraction only possible through libvirt. Also if snapshots could be still done through virt-manager while the machine relies on this config file.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-26T14:08:02Z' class='post-time'>
                March 26, 2014,  2:08pm
              </time>
              <meta itemprop='dateModified' content='2014-03-26T14:08:02Z'>
          <span itemprop='position'>#31</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="30" data-topic="166">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Thanks for going through all that hassle for the IRC account, unfortunately though its not working. It keeps disconnecting me, saying I need to authenticate through SASL. Which it should automatically do since the plugin came prepackaged in the folder you sent me - I deleted the original and extracted the new one in its place BTW.</p>
</blockquote>
</aside>
<p>Have you enabled perl in XChat? Sorry, I forgot to remember to say that this step still has to be manually done.</p>
<pre><code class="lang-auto"></code></pre>
<p>Then restart XChat.</p>
<blockquote>Yes I agree. What I need to look up is if things like the internal networking we depend on is done through qemu-kvm or if ts and abstraction only possible through libvirt. Also if snapshots could be still done through virt-manager while the machine relies on this config file.</blockquote>
Good questions.
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-26T23:14:52Z' class='post-time'>
                March 26, 2014, 11:14pm
              </time>
              <meta itemprop='dateModified' content='2014-03-26T23:14:52Z'>
          <span itemprop='position'>#32</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This time it says perl is activated, but it still does not want to connect no matter what command I type in there.  :-[</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-27T00:38:16Z' class='post-time'>
                March 27, 2014, 12:38am
              </time>
              <meta itemprop='dateModified' content='2014-03-27T00:38:16Z'>
          <span itemprop='position'>#33</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I needed to verify the account myself. Used an e-mail address of mine.</p>
<p>I’ve sent you a new .xchat2 folder. Please delete the exiting and and use the new one. To connect.</p>
<p>XChat -&gt; Network List -&gt; freenode -&gt; connect -&gt; choose freenet2</p>
<p>(That worked during my test.)</p>
<p>Please change the account’s e-mail address after you’re connected.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-27T03:52:44Z' class='post-time'>
                March 27, 2014,  3:52am
              </time>
              <meta itemprop='dateModified' content='2014-03-27T03:52:44Z'>
          <span itemprop='position'>#34</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Now it works, thanks for your time doing this. Tell me how to change the email and I’ll do it.</p>
<p>Anyway lets see how this goes.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-27T04:28:00Z' class='post-time'>
                March 27, 2014,  4:28am
              </time>
              <meta itemprop='dateModified' content='2014-03-27T04:28:00Z'>
          <span itemprop='position'>#35</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>* Now talking on #kvm
* Topic for #kvm is: KVM wiki website is http://www.linux-kvm.org - try status and faq pages, no really, read them! || you can also check the qemu manual at http://wiki.qemu.org/download/qemu-doc.html || don't paste on chan, use http://pastebin.com/ instead || libvirt/virt-manager support is #virt on irc.oftc.net
* Topic for #kvm set by aliguori at Wed Mar 30 13:38:24 2011
 Hi How do I check if virtio storage is in use or an existing fallback driver for an emulated device?
 there's no fallback in kvm like in xen
 so a simple grep should verify if a virtio device is used then - not merely attached I mean?
 well... if you really want to check, it's going to be /dev/vdX
 and lspci will show virtio block device
 Thanks iggy I have a few more questions that I'd really appreciate your help with
 ask away
 I am trying to isolate the vm clock so no changes on the host can affect it. This is currently possible with -rtc clock=vm afaik,
 but it would be much more helpful for my project's purpose if this can be done through something like libvirt
 is this possible with libvirt?
 that I don't know
 the appealing part of using libvirt is the xml settings file it creates, but I think something similar can be done with qemu-kvm cfgfiles option
* iggy hates xml
 But that means all settings would have to be imitated but directly for the qemu-kvm utility which is fine if I can get it to do the same things
 namely the functionality of isoalted internal networking between two vms
 is that possible with qemu-kvm directly?
 libvirt has an option to pass options directly to qemu-kvm
 please tell me how this is done :-)
 or where I can know this.
 ok nevermind, I just want to know if this means that a setting in the xml file is passed directly to qemu-kvm then?
 ... You might try asking in the libvirt channel
 I did but no one seems to reply...
 I know it's possible, I don't remember it off the top of my head
 Thank you so far for your replies. I am actually working on a project that uses virtualization to route all of a vm's traffic through a TOR instance running on another network facing gateway vm.
 Its known as Whonix 
 Just letting you know that I'd appreciate any help on getting the main issues with porting it to KVM solved
 so we can prepare this for a greater good.
 This is the bugtracker page I am working on resolving: https://www.whonix.org/wiki/Dev/KVM#How_to_get_virtio_running_for_storage.3F
 iggy do you mind if I post the contents of this thread on our forum?
 no...</blockquote>
<p>I think I ruined the dialogue by mentioning alot of unnecessary details  :-\</p>
<p>Anyhow, going off of what he said, I found a thread with information on how libvirt can trigger speicifc scripts that pass commands directly to feature rich qemu-kvm:</p>
<p><a href="../../../external.html?link=http://ubuntuforums.org/showthread.php?t=826671&amp;s=b46a4b6ee2b45daaf55f16050c3b2dd2&amp;p=6017259#post6017259" class="onebox" target="_blank">http://ubuntuforums.org/showthread.php?t=826671&amp;s=b46a4b6ee2b45daaf55f16050c3b2dd2&amp;p=6017259#post6017259</a></p>
<p>Edit by Patrick:<br>
Removed join/part messages.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-27T12:44:27Z' class='post-time'>
                March 27, 2014, 12:44pm
              </time>
              <meta itemprop='dateModified' content='2014-03-27T12:44:27Z'>
          <span itemprop='position'>#36</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="34" data-topic="166">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Now it works, thanks for your time doing this. Tell me how to change the email and I’ll do it.</p>
</blockquote>
</aside>
<p>/msg nickserv set email <a href="mailto:youraddress@example.com">youraddress@example.com</a></p>
<p>Also useful for other stuff:<br>
/msg NickServ help</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-27T12:54:13Z' class='post-time'>
                March 27, 2014, 12:54pm
              </time>
              <meta itemprop='dateModified' content='2014-03-27T12:54:13Z'>
          <span itemprop='position'>#37</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="35" data-topic="166">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>I think I ruined the dialogue by mentioning alot of unnecessary details  :-\</p>
</blockquote>
</aside>
<p>Yes. Nevermind. You will keep improving your irc social skills.</p>
<blockquote>Anyhow, going off of what he said, I found a thread with information on how libvirt can trigger speicifc scripts that pass commands directly to feature rich qemu-kvm:
<p><a href="../../../external.html?link=http://ubuntuforums.org/showthread.php?t=826671&amp;s=b46a4b6ee2b45daaf55f16050c3b2dd2&amp;p=6017259#post6017259">http://ubuntuforums.org/showthread.php?t=826671&amp;s=b46a4b6ee2b45daaf55f16050c3b2dd2&amp;p=6017259#post6017259</a></p>
</blockquote><br>
This is a wrapper solution. Works well enough for own use, but not for redistribution.
<p>Config files.</p>
<blockquote>13.2.2. Storing and Reading Configuration of Virtual Devices
https://doc.opensuse.org/products/draft/SLES/SLES-kvm_sd_draft/cha.qemu.running.html</blockquote>
<p>Seems like the cleaner solution.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-27T13:04:36Z' class='post-time'>
                March 27, 2014,  1:04pm
              </time>
              <meta itemprop='dateModified' content='2014-03-27T13:04:36Z'>
          <span itemprop='position'>#38</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I changed the email.</p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-29T03:52:13Z' class='post-time'>
                March 29, 2014,  3:52am
              </time>
              <meta itemprop='dateModified' content='2014-03-29T03:52:13Z'>
          <span itemprop='position'>#39</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Storage format details/recommendations:</p>
<p>qcow2 is the best choice that has a good balance between features and speed.</p>
<p>raw does not snapshot directly.<br>
<a href="../../../external.html?link=http://wiki.qemu.org/Features/Snapshots" class="onebox" target="_blank">http://wiki.qemu.org/Features/Snapshots</a></p>
<blockquote>Overall concept
<p>The idea is to be able to issue a command to QEMU via the monitor or QMP, which causes QEMU to create a new snapshot image with the original image as the backing file, mounted read-only. This will allow the original image file to be backed up.</p>
<p>Roll-back to a previous version requires one to boot from the previous backing file, at which point the snapshot file becomes invalid. Unfortunately there is no way to detect that a backing file has been booted, making it important for administrators to take care to not rely on snapshot files being valid after a roll-back.</p>
<p>The snapshot image will have to be in a format which support backing files, ie QCOW2 and QED, however the original image can be of any supported format. Ie. it is possible to make a QCOW2 snapshot of a RAW image, or a QED snapshot of a QED image.</p>
</blockquote>
<p>lvm is a security risk AFAIK.</p>
<p><a href="../../../external.html?link=https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Virtualization_Administration_Guide/sect-Virtualization-Adding_storage_devices_to_guests-Adding_hard_drives_and_other_block_devices_to_a_guest.html">https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Virtualization_Administration_Guide/sect-Virtualization-Adding_storage_devices_to_guests-Adding_hard_drives_and_other_block_devices_to_a_guest.html</a></p>
<p>With your permission I’d like to move the IRC logs into dev kvm so we don’t lose this info if the forum software goes beserk.</p>
<blockquote>bancfc&gt; Is there any security drawbacks from using a raw image file? 
 bancfc: security drawbacks? like what?
 iggy: are its contents directly interpreted by the host or is that when lvm is used only?
 I'm not sure what you mean by "contents directly interpreted", but raw devices/files just means there's a 1:1 correlation between guest request and host request
 like a virus or advanced persistent threat running in the vm
 the host doesn't "interpret" what it's reading/writing... it just becomes a read/write in the host
 ok good just checking. iAnother question is raw snapshotting possible albeit not directly?
 I saw something about a differencing image applied in qcow format, yes?
 only if there's something underlying the files that supports it (btrfs, lvm, zfs, etc)
 so not at the "block" level I guess?
 iggy: just a question or two about storage if thats ok, becuase we are trying to see which can give maximum performance
 lvm &gt; raw files &gt; qcow2 &gt; everything else
 Is qcow2 the standard? Is qed recommended instead? When is the qcow"3" changes included into the present format?
 didn't mean to send this as you had already responded
 but anyhow qed seems to have been designed as a speedier replacement for qcow2. But qcow2 were adding changes to become more competitive again
 I wanted to know what you think about this and thats all. thanks 
 bancfc: qed is deprecated (as all of it's performance improvements that actually ended up helping were backported to qcow2)
 the features are handled by feature flags in the qcow2 format, so there's technically no need for a "qcow3" format
 as long as you don't use the features that qed didn't support (i.e. snapshots, etc.), qcow2 should be as fast
 iggy: thanks alot for your help
 np</blockquote>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="166.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-03-29T04:30:45Z' class='post-time'>
                March 29, 2014,  4:30am
              </time>
              <meta itemprop='dateModified' content='2014-03-29T04:30:45Z'>
          <span itemprop='position'>#40</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yeah, block devices / lvm are not very suitable for this. I mean, they’re pretty cool for advanced users. You can do lots of cool geeky stuff such as sometimes booting the partition on bare metal and some times using it in a VM. However, they’re not the best tool for Whonix. Not for security reasons. Difficult to redistribute. (And may result in data loss when used wrong. More difficult to use.)</p>
<p>Sounds like, qcow2 is a good choice and we just keep it?</p>
<blockquote>With your permission I'd like to move the IRC logs into dev kvm so we don't lose this info if the forum software goes beserk.</blockquote>
<p>Sure. Whatever you find useful. Especially (not exclusively) the /Dev pages are extra non-controversial. Whatever helps us moving this forward. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='[Help Welcome] KVM Development - staying the course'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="166.html">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="1669ba9.html?page=3">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
