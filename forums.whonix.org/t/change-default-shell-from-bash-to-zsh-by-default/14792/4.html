<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Change default shell from bash to zsh by default? - #4 by Patrick - Development - Whonix Forum</title>
    <meta name="description" content="Why? 
zsh seems to have much better usability, a much better completion features and other features. See demonstration here: 

  
    
  


Looks great: 


Size? 
2 Packages, ~ 5 MB. 
Non-issues: 

breaking bash scripts:&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../14792.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Change default shell from bash to zsh by default?&#39;" href="../14792.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/change-default-shell-from-bash-to-zsh-by-default/14792/4" />
<meta name="twitter:url" content="https://forums.whonix.org/t/change-default-shell-from-bash-to-zsh-by-default/14792/4" />
<meta property="og:title" content="Change default shell from bash to zsh by default?" />
<meta name="twitter:title" content="Change default shell from bash to zsh by default?" />
<meta property="og:description" content="Unicode needs to be removed.  (Detecting Malicious Unicode in Source Code and Pull Requests)  (Not saying it’s malicious but currently the easiest is to permit no unicode at all in scripts as per project policy.)  grep -P -n &#39;[^\x00-\x7F]&#39; -r --color .zshrc  It’s just the … sign." />
<meta name="twitter:description" content="Unicode needs to be removed.  (Detecting Malicious Unicode in Source Code and Pull Requests)  (Not saying it’s malicious but currently the easiest is to permit no unicode at all in scripts as per project policy.)  grep -P -n &#39;[^\x00-\x7F]&#39; -r --color .zshrc  It’s just the … sign." />
<meta property="article:published_time" content="2022-09-26T21:10:37+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="../147924658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../14792.html">Change default shell from bash to zsh by default?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-07T10:32:21Z' class='post-time'>
                September 7, 2022, 10:32am
              </time>
              <meta itemprop='dateModified' content='2022-09-07T10:32:21Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Why?</p>
<p>zsh seems to have much better usability, a much better completion features and other features. See demonstration here:</p>
<div class="onebox lazyYT lazyYT-container" data-youtube-id="E2WXc3qAg8A" data-youtube-title="ZSH Completion Demo" data-parameters="feature=oembed&amp;wmode=opaque">
  <a href="../../../../external.html?link=https://www.youtube.com/watch?v=E2WXc3qAg8A" target="_blank" rel="noopener">
    <img class="ytp-thumbnail-image" src="../../../../external.html?link=https://img.youtube.com/vi/E2WXc3qAg8A/hqdefault.jpg" title="ZSH Completion Demo" width="480" height="360">
  </a>
</div>

<p>Looks great:</p>
<aside class="quote quote-modified" data-post="73" data-topic="7205">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tnt_bom_bom/40/2148_2.jpg" class="avatar">
    <a href="../../xfce-theming-a-few-suggestions/7205/73.html">XFCE theming - a few suggestions</a> <a class="badge-wrapper  bullet" href="../../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of components looking for maintainer)">Development</span></a>
  </div>
  <blockquote>
    I saw some nice stuff in kali linux xfce, we might get some useful stuff from it: 
 <a class="lightbox" href="../../../uploads/default/original/2X/c/c51c84fa49ecf6d84ca5331deb5695dd21780138.png" data-download-href="//forums.whonix.org/uploads/default/c51c84fa49ecf6d84ca5331deb5695dd21780138" title="1234">[1234]</a> 

kali icon for the main menu
windows are numbered with 1234
graphical CPU usage (xfce plugin)

[autocompletion] 
[colorful] 

colorful terminal
and it can show previous lines while/instantly you type the command (not the bash-completion)
  </blockquote>
</aside>

<p>Size?</p>
<p>2 Packages, ~ 5 MB.</p>
<p>Non-issues:</p>
<ul>
<li>breaking bash scripts: each script nowadays has a shebang in its first line such as for example /usr/sbin/apparmor-info is a bash script, its first line is <code>#!/bin/bash</code>. Therefore the script will still run under bash, not zsh.</li>
<li>changing back default shell to bash by the user will still be simple</li>
<li>it will be trivial to start bash from zsh by typing command <code>bash</code>
</li>
</ul>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../xfce-theming-a-few-suggestions/7205/76.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../xfce-theming-a-few-suggestions/7205/76.html'>
                      <span itemprop='name'>XFCE theming - a few suggestions</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../whonix-16-0-8-2-for-virtualbox-point-release/15836.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../whonix-16-0-8-2-for-virtualbox-point-release/15836.html'>
                      <span itemprop='name'>Whonix 16.0.8.2 - for VirtualBox - Point Release!</span>
                    </a>
                    <meta itemprop='position' content='4'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-08T20:00:04Z' class='post-time'>
                September 8, 2022,  8:00pm
              </time>
              <meta itemprop='dateModified' content='2022-09-08T20:00:04Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I say go for it…</p>
<p>That said, I still use bash for my default shell because I have built all my dotfile config over the years to use bash. but I should just rip the bandaid off and embrace the zsh light</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-25T23:41:53Z' class='post-time'>
                September 25, 2022, 11:41pm
              </time>
              <meta itemprop='dateModified' content='2022-09-25T23:41:53Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Made zshrc and some others misc scripts to be portable to any shell (.aliasrc, .shrc are posix compliant).</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../../external.html?link=https://github.com/nyxnor/whonix-shell">
  <header class="source">
      <img src="../../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">

      <a href="../../../../external.html?link=https://github.com/nyxnor/whonix-shell" target="_blank" rel="noopener nofollow ugc">GitHub</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/345;"><img src="../../../../external.html?link=https://opengraph.githubassets.com/837e84ab8064a940b127a16d800ecf1b100c852f289b0213188ea4579593beed/nyxnor/whonix-shell" class="thumbnail" width="690" height="345"></div>

<h3><a href="../../../../external.html?link=https://github.com/nyxnor/whonix-shell" target="_blank" rel="noopener nofollow ugc">GitHub - nyxnor/whonix-shell: Temp repo to be merged upstream after more testing</a></h3>

  <p>Temp repo to be merged upstream after more testing - GitHub - nyxnor/whonix-shell: Temp repo to be merged upstream after more testing</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Please download the following packages:</p>
<pre><code class="lang-auto">sudo apt install zsh zsh-syntax-highlighting zsh-autosuggestions
</code></pre>
<p>Copy the dot files to the home dir.</p>
<p>If you want the developer prompt, uncomment it <a href="../../../../external.html?link=https://github.com/nyxnor/whonix-shell/blob/b835e3eeac83cbbb4eca2bd3c845a7aa497dccea/.zshrc#L59" class="inline-onebox" rel="noopener nofollow ugc">whonix-shell/.zshrc at b835e3eeac83cbbb4eca2bd3c845a7aa497dccea · nyxnor/whonix-shell · GitHub</a><br>
basically it shorts the path if too large and also show git branch</p>
<p>and <a href="../../../../external.html?link=https://github.com/nyxnor/whonix-shell/blob/b835e3eeac83cbbb4eca2bd3c845a7aa497dccea/.zshrc#L61" class="inline-onebox" rel="noopener nofollow ugc">whonix-shell/.zshrc at b835e3eeac83cbbb4eca2bd3c845a7aa497dccea · nyxnor/whonix-shell · GitHub</a><br>
uncomment the RPS1 if you want it to print the exit code of failed commands on the right side.</p>
<p>Tell me what you think, what should be changed, bugs etc.</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-26T21:10:37Z' class='post-time'>
                September 26, 2022,  9:10pm
              </time>
              <meta itemprop='dateModified' content='2022-09-26T21:10:37Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Unicode needs to be removed.<br>
(<a href="../../detecting-malicious-unicode-in-source-code-and-pull-requests/13754.html" class="inline-onebox">Detecting Malicious Unicode in Source Code and Pull Requests</a>)<br>
(Not saying it’s malicious but currently the easiest is to permit no unicode at all in scripts as per project policy.)</p>
<pre><code>grep -P -n '[^\x00-\x7F]' -r --color .zshrc
</code></pre>
<p>It’s just the <code>…</code> sign.</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-26T21:11:49Z' class='post-time'>
                September 26, 2022,  9:11pm
              </time>
              <meta itemprop='dateModified' content='2022-09-26T21:11:49Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Maybe it could be encoded somehow (such as <code>&lt;b&gt;</code> becoming bold in html) to have a similar optical effect?</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-26T21:27:16Z' class='post-time'>
                September 26, 2022,  9:27pm
              </time>
              <meta itemprop='dateModified' content='2022-09-26T21:27:16Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Other than above minor comments… Excellent! Excited to see this being added to Whonix. The command completion is just on steroids. Easier than reading man pages. Makes less common command line parameters much more accessible.</p>
<p>Showing the exit code seems highly useful. Instead of telling users in documentation to append <code>; echo $?</code> to commands or <code>echo $?</code>… What do you think about always showing the exit code? If zero, a (0). Probably in a green color. Other colors for other numbers.</p>
<p>However, showing the exit code in the terminal could have some unintended side effects? Such as… When the user copy/pasted the log, the reader (other forums etc.) might be confused?</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-27T10:08:05Z' class='post-time'>
                September 27, 2022, 10:08am
              </time>
              <meta itemprop='dateModified' content='2022-09-27T10:08:05Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>It’s just the <code>…</code> sign.</p>
</blockquote>
</aside>
<p>This is the effect it has:</p>
<pre><code class="lang-auto">[workstation user …ault.service.d/test/test/test]%
</code></pre>
<p>I am gonne replace it for three normal dots <code>...</code>:</p>
<pre><code class="lang-auto">[workstation user ...lt.service.d/test/test/test]%
</code></pre>
<p>It eats two characters more, but that is not a problem.</p>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="14792" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Maybe it could be encoded somehow (such as <code>&lt;b&gt;</code> becoming bold in html) to have a similar optical effect?</p>
</blockquote>
</aside>
<p>It is 1 character containing 3 small dots, I don’t know how to do that without unicode, but 3 normal dots in 3 characters is still fine.</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-27T10:30:35Z' class='post-time'>
                September 27, 2022, 10:30am
              </time>
              <meta itemprop='dateModified' content='2022-09-27T10:30:35Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Showing the exit code seems highly useful. Instead of telling users in documentation to append <code>; echo $?</code> to commands or <code>echo $?</code>… What do you think about always showing the exit code? If zero, a (0). Probably in a green color. Other colors for other numbers.</p>
</blockquote>
</aside>
<p>The unix way is to be silent when the exit code is 0, and I think that if there is an exit code worth checking is the one that is &gt;0, because than the brain is just warned to look at the exit code if an error ocurrs.</p>
<aside class="onebox stackexchange" data-onebox-src="../../../../external.html?link=https://unix.stackexchange.com/questions/703918/print-exit-status-code-after-each-command-in-terminal">
  <header class="source">

      <a href="../../../../external.html?link=https://unix.stackexchange.com/questions/703918/print-exit-status-code-after-each-command-in-terminal" target="_blank" rel="noopener">unix.stackexchange.com</a>
  </header>

  <article class="onebox-body">
      <a href="../../../../external.html?link=https://unix.stackexchange.com/users/527303/lecciovich95" target="_blank" rel="noopener">
    <img alt="lecciovich95" src="../../../../external.html?link=https://i.stack.imgur.com/qKoFO.jpg?s=256&amp;g=1" class="thumbnail onebox-avatar" width="256" height="256">
  </a>

<h4>
  <a href="../../../../external.html?link=https://unix.stackexchange.com/questions/703918/print-exit-status-code-after-each-command-in-terminal" target="_blank" rel="noopener">Print exit status code after each command in terminal</a>
</h4>

<div class="tags">
  <strong>terminal, zsh, exit-status</strong>
</div>

<div class="date">
  asked by
  
  <a href="../../../../external.html?link=https://unix.stackexchange.com/users/527303/lecciovich95" target="_blank" rel="noopener">
    lecciovich95
  </a>
  on <a href="../../../../external.html?link=https://unix.stackexchange.com/questions/703918/print-exit-status-code-after-each-command-in-terminal" target="_blank" rel="noopener">09:45AM - 26 May 22 UTC</a>
</div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>I found this but it only works to print on the line before and not on the prompt.</p>
<p><code>setopt PRINT_EXIT_VALUE</code> seems to be the better to print the line before:</p>
<pre><code class="lang-auto">[workstation user ~/git/whonix-shell(main)]% zsh
[workstation user ~/git/whonix-shell(main)]% a
zsh: command not found: a
zsh: exit 127   a
[workstation user ~/git/whonix-shell(main)]%
</code></pre>
<p>but still doesn’t print exit code 0 because it is not relevant?</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>However, showing the exit code in the terminal could have some unintended side effects? Such as… When the user copy/pasted the log, the reader (other forums etc.) might be confused?</p>
</blockquote>
</aside>
<p>not with <code>setopt PRINT_EXIT_VAUE</code> example from above, it already has the text <code>zsh: exit 127    command</code>.<br>
It may take oneline more on errors but may be better?</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-27T10:33:01Z' class='post-time'>
                September 27, 2022, 10:33am
              </time>
              <meta itemprop='dateModified' content='2022-09-27T10:33:01Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubcommit" data-onebox-src="../../../../external.html?link=https://github.com/nyxnor/whonix-shell/commit/ba4e1efb8b5820e8cefb3909ccb7f5e82a5b6ac7">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/whonix-shell/commit/ba4e1efb8b5820e8cefb3909ccb7f5e82a5b6ac7" target="_blank" rel="noopener">github.com/nyxnor/whonix-shell</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/nyxnor/whonix-shell/commit/ba4e1efb8b5820e8cefb3909ccb7f5e82a5b6ac7" target="_blank" rel="noopener">remove unicode in favor of ascii</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2022-09-27" data-time="10:31:29" data-timezone="UTC">10:31AM - 27 Sep 22 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/nyxnor" target="_blank" rel="noopener">
          <img alt="nyxnor" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>

      <div class="lines" title="changed 1 files with 3 additions and 3 deletions">
        <a href="../../../../external.html?link=https://github.com/nyxnor/whonix-shell/commit/ba4e1efb8b5820e8cefb3909ccb7f5e82a5b6ac7" target="_blank" rel="noopener">
          <span class="added">+3</span>
          <span class="removed">-3</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-27T15:59:27Z' class='post-time'>
                September 27, 2022,  3:59pm
              </time>
              <meta itemprop='dateModified' content='2022-09-27T15:59:27Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Please feel free to proceed with integrating this by default in Kicksecure / Whonix.</p>
<p>Ideally using <code>ZDOTDIR</code> environment variable if possible. “Stealing” (overwriting) config files from Debian’s zsh (or any other) package using config-package-dev should be avoided if somehow possible.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="8" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>The unix way is to be silent when the exit code is 0, and I think that if there is an exit code worth checking is the one that is &gt;0, because than the brain is just warned to look at the exit code if an error ocurrs.</p>
</blockquote>
</aside>
<p>Ok.</p>
<aside class="quote no-group quote-modified" data-username="nyxnor" data-post="8" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p><a href="../../../../external.html?link=https://unix.stackexchange.com/questions/703918/print-exit-status-code-after-each-command-in-terminal" class="inline-onebox">zsh - Print exit status code after each command in terminal - Unix &amp; Linux Stack Exchange</a></p>
<p>I found this but it only works to print on the line before and not on the prompt.</p>
<p><code>setopt PRINT_EXIT_VALUE</code> seems to be the better to print the line before:</p>
<pre><code class="lang-auto">[workstation user ~/git/whonix-shell(main)]% zsh
[workstation user ~/git/whonix-shell(main)]% a
zsh: command not found: a
zsh: exit 127   a
[workstation user ~/git/whonix-shell(main)]%
</code></pre>
</blockquote>
</aside>
<p>Looks really nice.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="8" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>but still doesn’t print exit code 0 because it is not relevant?</p>
</blockquote>
</aside>
<p>Yeah, I guess so. No strong opinion here.</p>
<p>I am looking at this from a different perspective. More like: I always want to see some result even if it means “OK” because otherwise I question if the mechanism to show the error itself is broken. Maybe very likely unlikely here. These fail-safe considerations of mine are probably less important than the usability impact of only showing exit codes on failure.</p>
<p>Or to find out about unexpected exit codes. (Zero when it should be non-zero.)</p>
<p>If nobody else has an opinion here, probably best to only show the non-zero exit codes by default.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="8" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>not with <code>setopt PRINT_EXIT_VAUE</code> example from above, it already has the text <code>zsh: exit 127    command</code>.<br>
It may take oneline more on errors but may be better?</p>
</blockquote>
</aside>
<p>Looks really great.</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-27T16:11:59Z' class='post-time'>
                September 27, 2022,  4:11pm
              </time>
              <meta itemprop='dateModified' content='2022-09-27T16:11:59Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="10" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Ideally using <code>ZDOTDIR</code> environment variable if possible. “Stealing” (overwriting) config files from Debian’s zsh (or any other) package using config-package-dev should be avoided if somehow possible.</p>
</blockquote>
</aside>
<p>Where should ZDOTDIR be set? Which file will export that variable?</p>
<aside class="quote no-group" data-username="Patrick" data-post="10" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Looks really nice.</p>
</blockquote>
</aside>
<p>Change for that? Remove RPS1 in favor of the <code>setopt PRINT_EXIT_VALUE</code>?</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-27T17:28:32Z' class='post-time'>
                September 27, 2022,  5:28pm
              </time>
              <meta itemprop='dateModified' content='2022-09-27T17:28:32Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="nyxnor" data-post="11" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>Change for that? Remove RPS1 in favor of the <code>setopt PRINT_EXIT_VALUE</code>?</p>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="11" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>Where should ZDOTDIR be set? Which file will export that variable?</p>
</blockquote>
</aside>
<p>/etc/X11/Xsession.d + /etc/profile.d<br>
Similar to other examples in Whonix source code.<br>
…unless there are other solutions that I am not aware of. Distributions setting global environment variables is messy. There are probably no better solutions.</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-27T17:39:46Z' class='post-time'>
                September 27, 2022,  5:39pm
              </time>
              <meta itemprop='dateModified' content='2022-09-27T17:39:46Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="12" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>/etc/X11/Xsession.d</p>
</blockquote>
</aside>
<p>Seems to be dependent on Xorg being installed</p>
<aside class="quote no-group" data-username="Patrick" data-post="12" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>/etc/profile.d</p>
</blockquote>
</aside>
<p>Zsh does not source that folder unless in compatibility mode, which is not what we want.</p>
<p>I am still searching for other directories…</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-27T19:38:27Z' class='post-time'>
                September 27, 2022,  7:38pm
              </time>
              <meta itemprop='dateModified' content='2022-09-27T19:38:27Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group quote-modified" data-username="nyxnor" data-post="13" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="12" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>/etc/X11/Xsession.d</p>
</blockquote>
</aside>
<p>Seems to be dependent on Xorg being installed</p>
</blockquote>
</aside>
<p>Yes but it’s OK to drop config file snippets in that folder independent of Xorg being installed. So that doesn’t speak against using it. If a drop-in is there, then Xorg is supported.</p>
<aside class="quote no-group quote-modified" data-username="nyxnor" data-post="13" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="12" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>/etc/profile.d</p>
</blockquote>
</aside>
<p>Zsh does not source that folder unless in compatibility mode, which is not what we want.</p>
</blockquote>
</aside>
<p>So seems setting that environment variable in Xorg is easy and reliably possible thanks to /etc/X11/Xsession.d.</p>
<p>For <a href="../../../../external.html?link=https://www.whonix.org/wiki/Desktop#Virtual_Consoles">Virtual Consoles</a> I am not sure. I will probably open a separate forum thread because setting environment variables might need a re-design if possible.</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-27T20:05:20Z' class='post-time'>
                September 27, 2022,  8:05pm
              </time>
              <meta itemprop='dateModified' content='2022-09-27T20:05:20Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote quote-modified" data-post="1" data-topic="15635">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar">
    <a href="../../how-to-set-global-environment-variables-as-a-linux-distribution-etc-environment-d/15635.html">How to set global environment variables as a Linux distribution? - /etc/environment.d</a> <a class="badge-wrapper  bullet" href="../../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of components looking for maintainer)">Development</span></a>
  </div>
  <blockquote>
    How to set global environment variables as a Linux distribution? 
Possibilities… 

systemd <a href="../../../../external.html?link=https://www.freedesktop.org/software/systemd/man/environment.d.html">/etc/environment.d</a> might not be designed for that: 

<a href="../../../../external.html?link=https://www.freedesktop.org/software/systemd/man/environment.d.html#Applicability">Applicability</a>
<a href="../../../../external.html?link=https://github.com/systemd/systemd/issues/12938#issuecomment-508381592" class="inline-onebox">config files in /etc/environment.d/*.conf don't work · Issue #12938 · systemd/systemd · GitHub</a>
<a href="../../../../external.html?link=https://github.com/QubesOS/qubes-issues/issues/6408" class="inline-onebox">Qubes VMs ignore /etc/environment.d drop-in folder · Issue #6408 · QubesOS/qubes-issues · GitHub</a>

Pretty weird that systemd implemented /etc/environment.d in a way that is different from what would be expected similar to /etc/environment. 

Perhap…
  </blockquote>
</aside>

        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-27T20:12:44Z' class='post-time'>
                September 27, 2022,  8:12pm
              </time>
              <meta itemprop='dateModified' content='2022-09-27T20:12:44Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="../../../../external.html?link=https://manpages.debian.org/bullseye/zsh-common/zshall.1.en.html#STARTUP/SHUTDOWN_FILES" class="onebox" target="_blank" rel="noopener">https://manpages.debian.org/bullseye/zsh-common/zshall.1.en.html#STARTUP/SHUTDOWN_FILES</a></p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-27T21:18:40Z' class='post-time'>
                September 27, 2022,  9:18pm
              </time>
              <meta itemprop='dateModified' content='2022-09-28T10:16:34Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Maybe I found a solution…</p>
<ul>
<li>No need to use <code>/etc/X11/Xsession.d</code>.</li>
<li>No need to use <code>/etc/profile.d</code>.</li>
<li>Only use <code>/usr/lib/systemd/system.conf.d</code> mechanism.</li>
</ul>
<p><code>/usr/lib/systemd/system.conf.d/30_desktop-config-dist.conf</code></p>
<pre><code class="lang-auto">[Manager]
DefaultEnvironment=ZDOTDIR=/etc/zsh/dist
</code></pre>
<p>Reboot required.</p>
<p><code>dist</code> stands for distribution. What distribution? Kicksecure and Whonix. I couldn’t come up with a better common name. That’s where the “dist” is coming from. Kept it open so potentially other distributions could fork it so neither Kicksecure nor Whonix are inside the package or folder name if not required.</p>
<p>Does this work? What do you think?</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-28T09:45:43Z' class='post-time'>
                September 28, 2022,  9:45am
              </time>
              <meta itemprop='dateModified' content='2022-09-28T09:45:43Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>What is the reason it can’t be in Skel?</p>
<p>Systemd does not work on Qubes apparently per your mentioned post.</p>
<p><code>.zprofile</code> symlink to <code>.config/shell/profile</code></p><aside class="onebox githubblob" data-onebox-src="../../../../external.html?link=https://github.com/LukeSmithxyz/voidrice/blob/master/.zprofile">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/LukeSmithxyz/voidrice/blob/master/.zprofile" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/LukeSmithxyz/voidrice/blob/master/.zprofile" target="_blank" rel="noopener">LukeSmithxyz/voidrice/blob/master/.zprofile</a></h4>


      <pre><code class="lang-zprofile">.config/shell/profile</code></pre>




  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p><code>.config/shell/profile</code> exports <code>ZDOTDIR="${XDG_CONFIG_HOME:-$HOME/.config}/zsh"</code></p><aside class="onebox githubblob" data-onebox-src="../../../../external.html?link=https://github.com/LukeSmithxyz/voidrice/blob/master/.config/shell/profile#L29">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/LukeSmithxyz/voidrice/blob/master/.config/shell/profile#L29" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/LukeSmithxyz/voidrice/blob/master/.config/shell/profile#L29" target="_blank" rel="noopener">LukeSmithxyz/voidrice/blob/master/.config/shell/profile#L29</a></h4>



    <pre class="onebox">      <code class="lang-config/shell/profile">
        <ol class="start lines" start="19" style="counter-reset: li-counter 18 ;">
            <li>export XDG_CONFIG_HOME="$HOME/.config"</li>
            <li>export XDG_DATA_HOME="$HOME/.local/share"</li>
            <li>export XDG_CACHE_HOME="$HOME/.cache"</li>
            <li>export XINITRC="${XDG_CONFIG_HOME:-$HOME/.config}/x11/xinitrc"</li>
            <li>#export XAUTHORITY="$XDG_RUNTIME_DIR/Xauthority" # This line will break some DMs.</li>
            <li>export NOTMUCH_CONFIG="${XDG_CONFIG_HOME:-$HOME/.config}/notmuch-config"</li>
            <li>export GTK2_RC_FILES="${XDG_CONFIG_HOME:-$HOME/.config}/gtk-2.0/gtkrc-2.0"</li>
            <li>export LESSHISTFILE="-"</li>
            <li>export WGETRC="${XDG_CONFIG_HOME:-$HOME/.config}/wget/wgetrc"</li>
            <li>export INPUTRC="${XDG_CONFIG_HOME:-$HOME/.config}/shell/inputrc"</li>
            <li class="selected">export ZDOTDIR="${XDG_CONFIG_HOME:-$HOME/.config}/zsh"</li>
            <li>#export ALSA_CONFIG_PATH="$XDG_CONFIG_HOME/alsa/asoundrc"</li>
            <li>#export GNUPGHOME="${XDG_DATA_HOME:-$HOME/.local/share}/gnupg"</li>
            <li>export WINEPREFIX="${XDG_DATA_HOME:-$HOME/.local/share}/wineprefixes/default"</li>
            <li>export KODI_DATA="${XDG_DATA_HOME:-$HOME/.local/share}/kodi"</li>
            <li>export PASSWORD_STORE_DIR="${XDG_DATA_HOME:-$HOME/.local/share}/password-store"</li>
            <li>export TMUX_TMPDIR="$XDG_RUNTIME_DIR"</li>
            <li>export ANDROID_SDK_HOME="${XDG_CONFIG_HOME:-$HOME/.config}/android"</li>
            <li>export CARGO_HOME="${XDG_DATA_HOME:-$HOME/.local/share}/cargo"</li>
            <li>export GOPATH="${XDG_DATA_HOME:-$HOME/.local/share}/go"</li>
            <li>export ANSIBLE_CONFIG="${XDG_CONFIG_HOME:-$HOME/.config}/ansible/ansible.cfg"</li>
        </ol>
      </code>
    </pre>



  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p><code>ZDOTDIR</code> contains the <code>.zshrc</code></p><aside class="onebox githubfolder" data-onebox-src="../../../../external.html?link=https://github.com/LukeSmithxyz/voidrice/tree/master/.config/zsh">
  <header class="source">
      <img src="../../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">

      <a href="../../../../external.html?link=https://github.com/LukeSmithxyz/voidrice/tree/master/.config/zsh" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <h3><a href="../../../../external.html?link=https://github.com/LukeSmithxyz/voidrice/tree/master/.config/zsh" target="_blank" rel="noopener">voidrice/.config/zsh at master · LukeSmithxyz/voidrice</a></h3>

  <p><a href="../../../../external.html?link=https://github.com/LukeSmithxyz/voidrice/tree/master/.config/zsh" target="_blank" rel="noopener">master/.config/zsh</a></p>

  <p><span class="label1">My dotfiles (deployed by LARBS). Contribute to LukeSmithxyz/voidrice development by creating an account on GitHub.</span></p>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>I think this is the cleanest way. The only thing is that skel needs to have some files. Is there a problem in that?</p>
<p>It does not depend on external program being installed and used.</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-28T10:17:19Z' class='post-time'>
                September 28, 2022, 10:17am
              </time>
              <meta itemprop='dateModified' content='2022-09-28T10:17:19Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Oops. Forgot to write <code>DefaultEnvironment=</code>. Now fixed and edited in above post.</p>
<aside class="quote no-group" data-username="Patrick" data-post="17" data-topic="14792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><code>/usr/lib/systemd/system.conf.d/30_desktop-config-dist.conf</code></p>
<pre><code class="lang-auto">[Manager]
DefaultEnvironment=ZDOTDIR=/etc/zsh/dist
</code></pre>
</blockquote>
</aside>
<p>Could you try again please?</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../14792.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-09-28T10:19:41Z' class='post-time'>
                September 28, 2022, 10:19am
              </time>
              <meta itemprop='dateModified' content='2022-09-28T10:19:41Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I tested it with other variable names. Maybe it only works for other variable names and unfortunately there is some mechanism breaking it for <code>ZDOTDIR</code>.</p>
        </div>

        <meta itemprop='headline' content='Change default shell from bash to zsh by default?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="../147924658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
