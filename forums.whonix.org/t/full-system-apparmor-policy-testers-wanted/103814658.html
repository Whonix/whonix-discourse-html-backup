<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Full System AppArmor Policy - Testers Wanted! - News - Whonix Forum</title>
    <meta name="description" content="apparmor-profile-everything is an experimental AppArmor policy which confines all user space processes on the system. It is still currently in development and requires testing. 
Install it by executing: 
sudo apt-get ins&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="103814658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Full System AppArmor Policy - Testers Wanted!&#39;" href="10381.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/full-system-apparmor-policy-testers-wanted/10381?page=2" />
<meta name="twitter:url" content="https://forums.whonix.org/t/full-system-apparmor-policy-testers-wanted/10381?page=2" />
<meta property="og:title" content="Full System AppArmor Policy - Testers Wanted!" />
<meta name="twitter:title" content="Full System AppArmor Policy - Testers Wanted!" />
<meta property="og:description" content="Yes madiadan, here is the log for journalctl with apparmor-profile-everything enabled and grub settings apparmor set to 1.  Using your custom kernel with kprobes enabled for LKRG.    There is another issue prior to booting in which async io failed to start, used sync io instead.  This is when I enter my passphrase for the encrypted LUKS.  I appreciate all your support!  sudobash" />
<meta name="twitter:description" content="Yes madiadan, here is the log for journalctl with apparmor-profile-everything enabled and grub settings apparmor set to 1.  Using your custom kernel with kprobes enabled for LKRG.    There is another issue prior to booting in which async io failed to start, used sync io instead.  This is when I enter my passphrase for the encrypted LUKS.  I appreciate all your support!  sudobash" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="98 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="94 ❤" />
<meta property="article:published_time" content="2020-12-17T12:43:21+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="10381.html">
        <link rel="next" href="103819ba9.html?page=3">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="10381.html">Full System AppArmor Policy - Testers Wanted!</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/news/21.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #AB9364'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>News</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/testers-wanted.html' class='discourse-tag' rel="tag">testers-wanted</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/sudobash'><span itemprop='name'>sudobash</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-17T12:43:21Z' class='post-time'>
                December 17, 2020, 12:43pm
              </time>
              <meta itemprop='dateModified' content='2020-12-17T13:30:14Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes madiadan, here is the log for journalctl with apparmor-profile-everything enabled and grub settings apparmor set to 1.  Using your custom kernel with kprobes enabled for LKRG.</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://pastebin.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://pastebin.com/DCjSXDCp" target="_blank" rel="noopener nofollow ugc">Pastebin</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://pastebin.com/i/facebook.png" class="thumbnail" width="" height="">

<h3><a href="../../../external.html?link=https://pastebin.com/DCjSXDCp" target="_blank" rel="noopener nofollow ugc">journalctl 12-17-2020 - Pastebin.com</a></h3>

<p>Pastebin.com is the number one paste tool since 2002. Pastebin is a website where you can store text online for a set period of time.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>There is another issue prior to booting in which async io failed to start, used sync io instead.  This is when I enter my passphrase for the encrypted LUKS.</p>
<p>I appreciate all your support!<br>
sudobash</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>
          <meta itemprop='keywords' content='testers-wanted'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-17T17:08:03Z' class='post-time'>
                December 17, 2020,  5:08pm
              </time>
              <meta itemprop='dateModified' content='2020-12-17T17:08:03Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Extracted errors:</p>
<pre><code class="lang-auto">audit[1164]: AVC apparmor="DENIED" operation="exec" profile="networking-aae" name="/etc/wpa_supplicant/ifupdown.sh" pid=1164 comm="run-parts" requested_mask="x" denied_mask="x" fsuid=0 ouid=0
audit[1165]: AVC apparmor="DENIED" operation="open" profile="rsyslogd" name="/etc/resolv.conf" pid=1165 comm="rsyslogd" requested_mask="r" denied_mask="r" fsuid=0 ouid=0
audit[1165]: AVC apparmor="DENIED" operation="open" profile="rsyslogd" name="/etc/hosts" pid=1165 comm="rsyslogd" requested_mask="r" denied_mask="r" fsuid=0 ouid=0
audit[1258]: AVC apparmor="DENIED" operation="open" profile="init-systemd" name="/sys/devices/virtual/dmi/id/product_uuid" pid=1258 comm="systemd-hostnam" requested_mask="r" denied_mask="r" fsuid=0 ouid=0
audit[1258]: AVC apparmor="DENIED" operation="open" profile="init-systemd" name="/sys/devices/virtual/dmi/id/chassis_type" pid=1258 comm="systemd-hostnam" requested_mask="r" denied_mask="r" fsuid=0 ouid=0
audit[1258]: AVC apparmor="DENIED" operation="open" profile="init-systemd" name="/sys/firmware/acpi/pm_profile" pid=1258 comm="systemd-hostnam" requested_mask="r" denied_mask="r" fsuid=0 ouid=0
audit[1279]: AVC apparmor="DENIED" operation="open" profile="Xorg" name="/sys/devices/pci0000:00/0000:00:02.0/0000:03:00.0/drm/" pid=1279 comm="Xorg" requested_mask="r" denied_mask="r" fsuid=0 ouid=0
audit[1279]: AVC apparmor="DENIED" operation="open" profile="Xorg" name="/sys/devices/pci0000:00/0000:00:02.0/0000:03:00.0/" pid=1279 comm="Xorg" requested_mask="r" denied_mask="r" fsuid=0 ouid=0
audit[1279]: AVC apparmor="DENIED" operation="capable" profile="Xorg" pid=1279 comm="Xorg" capability=23  capname="sys_nice"
audit[1279]: AVC apparmor="DENIED" operation="open" profile="Xorg" name="/sys/devices/pci0000:00/0000:00:02.0/0000:03:00.1/sound/card1/id" pid=1279 comm="Xorg" requested_mask="r" denied_mask="r" fsuid=0 ouid=0
audit[1279]: AVC apparmor="DENIED" operation="open" profile="Xorg" name="/sys/devices/pci0000:00/0000:00:1b.0/sound/card0/id" pid=1279 comm="Xorg" requested_mask="r" denied_mask="r" fsuid=0 ouid=0
audit[1178]: AVC apparmor="DENIED" operation="file_receive" profile="dbus-daemon" name="/run/systemd/inhibit/2.ref" pid=1178 comm="dbus-daemon" requested_mask="w" denied_mask="w" fsuid=104 ouid=0
audit[1279]: AVC apparmor="DENIED" operation="signal" profile="Xorg" pid=1279 comm="Xorg" requested_mask="send" denied_mask="send" signal=usr1 peer="unconfined"
audit[1475]: AVC apparmor="DENIED" operation="open" profile="init-systemd" name="/dev/tty1" pid=1475 comm="systemd-logind" requested_mask="wr" denied_mask="wr" fsuid=0 ouid=1000
</code></pre>
<p>Please edit the specified files in <code>/etc/apparmor.d/</code> and enter the required rules as follows. Make sure to enter the rules within the profile section, below the line “{” but above the “}”.</p>
<p><code>sbin.networking-aae</code>:</p>
<pre><code class="lang-auto">/etc/wpa_supplicant/ifupdown.sh mrix,
</code></pre>
<p><code>usr.sbin.rsyslogd</code>:</p>
<pre><code class="lang-auto">/etc/resolv.conf r,
/etc/hosts r,
</code></pre>
<p><code>abstractions/init-systemd</code>:</p>
<pre><code class="lang-auto">/sys/devices/virtual/dmi/id/{product_uuid,chassis_type} r,
/sys/firmware/acpi/pm_profile r,
/dev/tty[0-9]* rw,
</code></pre>
<p><code>usr.lib.xorg.Xorg</code>:</p>
<pre><code class="lang-auto">/sys/devices/pci[0-9]**/{,drm/} r,
/sys/devices/pci[0-9]**/sound/card[0-9]*/id r,
capability sys_nice,
signal send set=usr1 peer=unconfined,
</code></pre>
<p>Report back if this fixes anything. If not, send the logs in again.</p>
<p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a>:</p>
<p>We need a good way of formatting the logs so it’s easier for us to parse. I’ve been experimenting with:</p>
<pre><code class="lang-auto">journalctl | grep "DENIED" | awk '{sub(/([^ ]+ +){4}/,"")}1' | grep -v "kernel: audit: type=" | sed -e 's/audit\[.*\]: //g' | sed -e 's/pid=.* comm/comm/g' | awk '!x[$0]++'
</code></pre>
<p>It seems to work well.</p>
<ul>
<li>Removes the date and time.</li>
<li>Excludes the <code>kernel:</code> lines which are just duplicates of audit’s.</li>
<li>Removes the <code>audit:</code> and <code>pid=</code> parts since they are never really needed.</li>
<li>Removes duplicates.</li>
</ul>
<p>We should also implement abstractions for certain weird files. E.g. <code>/dev/tty*</code> and those pci directories in <code>/sys</code>:</p>
<pre><code class="lang-auto">@{sysfs_pci}=/sys/devices/pci[0-9][0-9][0-9][0-9]:[0-9][0-9]/[0-9][0-9][0-9][0-9]:[0-9][0-9]:*.*/{,[0-9][0-9][0-9][0-9]:[0-9][0-9]:*.*/}
@{dev_tty}=/dev/tty[0-9]{,[0-9])
</code></pre>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-18T08:45:21Z' class='post-time'>
                December 18, 2020,  8:45am
              </time>
              <meta itemprop='dateModified' content='2020-12-18T08:57:59Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="madaidan" data-post="22" data-topic="10381">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>We need a good way of formatting the logs so it’s easier for us to parse. I’ve been experimenting with:</p>
</blockquote>
</aside>
<p>Would be good addition for package <code>helper-scripts</code>. Much better to tell users to run that command than logs with tons of duplicates. <code>/usr/sbin/apparmor-info</code>? Tool could later add further output. Anything needed for analysis.</p>
<p>Perhaps even an <code>/etc/sudoers.d</code> exception so users could run this from user <code>user</code> to ease gathering logs? That is, if this is safe. Maybe not? Could an application exfiltrate information using this? Inter process communication of confined compromised applications?</p>
<p>Maybe this helps with wrapper development. Systemd journal, since current boot only (better drop <code>-b</code> and eat duplicates later?), kernel messages only, output format without timestamps.</p>
<pre><code>sudo journalctl -b -k --output cat | grep DENIED
</code></pre>
<p>or</p>
<pre><code>sudo dmesg | grep DENIED
</code></pre>
<p>I guess journalctl output is an easier to parse starting point.</p>
<p>EDIT</p>
<p>Even better:</p>
<pre><code>sudo journalctl _TRANSPORT=audit --output cat
</code></pre>
<p>Wrapper could be</p>
<pre><code>sudo journalctl _TRANSPORT=audit --output cat "$@" | grep DENIED [...]
</code></pre>
<p>The <code>"$@"</code> to allow adding extra journalctl parameters such as <code>-b</code>.</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/sudobash'><span itemprop='name'>sudobash</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-18T23:14:22Z' class='post-time'>
                December 18, 2020, 11:14pm
              </time>
              <meta itemprop='dateModified' content='2020-12-18T23:14:22Z'>
          <span itemprop='position'>#26</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank you for the support! I was able to boot into XFCE via LightDM no problem. However, sdwdate/gui is broken. The notification icon keeps looping and when trying to access the terminal log, it’s blank. sdwdate being broken disables Tor Browser due to time not syncing.</p>
<p>System Monitor upon opening the app Resources works fine, however, Processes and File Systems tab are disabled. Perhaps due to hardened kernel as well as AppArmor?</p>
<p>Here are the current denieds in AppArmor:</p>
<p>sudo journalctl | grep “DENIED” | awk ‘{sub(/([^ ]+ +){4}/,"")}1’ | grep -v “kernel: audit: type=” | sed -e ‘s/audit[.]: //g’ | sed -e 's/pid=. comm/comm/g’ | awk ‘!x[$0]++’<br>
[sudo] password for user:<br>
Dec 18 15:15:46 os AVC apparmor=“DENIED” operation=“open” profile=“networking-aae” name="/etc/wpa_supplicant/functions.sh" comm=“wpasupplicant” requested_mask=“r” denied_mask=“r” fsuid=0 ouid=0<br>
Dec 18 15:13:39 os AVC apparmor=“DENIED” operation=“open” profile=“Xorg” name="/dev/dri/renderD128" comm=“Xorg” requested_mask=“wr” denied_mask=“wr” fsuid=0 ouid=0<br>
Dec 18 15:13:40 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=108 ouid=0<br>
Dec 18 15:13:47 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/desktop-base/profiles/xdg-config/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml" comm=“xfconfd” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 15:13:47 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 15:13:47 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/desktop-base/profiles/xdg-config/xfce4/xfconf/xfce-perchannel-xml/xfce4-desktop.xml" comm=“xfconfd” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 15:13:48 os AVC apparmor=“DENIED” operation=“open” profile=“Xorg” name="/dev/dri/renderD128" comm=“Xorg” requested_mask=“wr” denied_mask=“wr” fsuid=0 ouid=0<br>
Dec 18 15:13:53 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/at-spi2-core/at-spi-bus-launcher" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=109 ouid=0<br>
Dec 18 15:14:22 os AVC apparmor=“DENIED” operation=“open” profile=“Xorg” name="/dev/dri/renderD128" comm=“Xorg” requested_mask=“wr” denied_mask=“wr” fsuid=0 ouid=0<br>
Dec 18 15:14:57 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 15:14:58 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 15:19:43 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/at-spi2-core/at-spi-bus-launcher" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=109 ouid=0<br>
Dec 18 15:20:40 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/at-spi2-core/at-spi-bus-launcher" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=109 ouid=0<br>
Dec 18 15:21:51 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 15:21:51 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:21:52 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:21:54 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:21:56 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:21:58 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:22:00 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:47:52 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 15:48:36 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 15:48:36 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/x86_64-linux-gnu/tumbler-1/tumblerd" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:48:43 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/bin/gnome-keyring-daemon" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:49:00 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 15:49:21 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 15:49:22 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:49:23 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:49:24 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:49:28 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:49:35 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:49:36 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:49:37 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:49:38 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:49:42 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:52:47 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 15:52:52 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:52:53 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:52:54 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:53:03 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/dconf/dconf-service" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:54:03 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/x86_64-linux-gnu/tumbler-1/tumblerd" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=1000 ouid=0<br>
Dec 18 15:55:36 os AVC apparmor=“DENIED” operation=“open” profile=“Xorg” name="/dev/dri/renderD128" comm=“Xorg” requested_mask=“wr” denied_mask=“wr” fsuid=0 ouid=0<br>
Dec 18 15:55:38 os AVC apparmor=“DENIED” operation=“open” profile="/**/*-browser/Browser/firefox" name="/proc/5285/cgroup" comm=“firefox.real” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=1000<br>
Dec 18 15:56:30 os AVC apparmor=“DENIED” operation=“open” profile=“Xorg” name="/dev/dri/renderD128" comm=“Xorg” requested_mask=“wr” denied_mask=“wr” fsuid=0 ouid=0<br>
Dec 18 15:56:34 os AVC apparmor=“DENIED” operation=“open” profile=“Xorg” name="/dev/dri/renderD128" comm=“Xorg” requested_mask=“wr” denied_mask=“wr” fsuid=0 ouid=0<br>
Dec 18 16:06:11 os AVC apparmor=“DENIED” operation=“open” profile=“Xorg” name="/dev/dri/renderD128" comm=“Xorg” requested_mask=“wr” denied_mask=“wr” fsuid=0 ouid=0<br>
Dec 18 16:07:01 os AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/at-spi2-core/at-spi-bus-launcher" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x” fsuid=109 ouid=0<br>
Dec 18 16:08:01 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0<br>
Dec 18 16:08:02 os AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/defaults/at-spi2/accessibility.conf" comm=“dbus-daemon” requested_mask=“r” denied_mask=“r” fsuid=1000 ouid=0</p>
<p>Should I enable all of these?</p>
<p>Thank you,<br>
sudobash</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-19T16:36:32Z' class='post-time'>
                December 19, 2020,  4:36pm
              </time>
              <meta itemprop='dateModified' content='2020-12-19T16:36:32Z'>
          <span itemprop='position'>#27</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="23" data-topic="10381">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Perhaps even an <code>/etc/sudoers.d</code> exception so users could run this from user <code>user</code> to ease gathering logs? That is, if this is safe. Maybe not? Could an application exfiltrate information using this? Inter process communication of confined compromised applications?</p>
</blockquote>
</aside>
<p>I think it should be restricted to root to be safe.</p>
<aside class="quote no-group" data-username="sudobash" data-post="26" data-topic="10381">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/s/a4c791/40.png" class="avatar"> sudobash:</div>
<blockquote>
<p>Here are the current denieds in AppArmor:</p>
</blockquote>
</aside>
<p>Add the following rules and see if it fixes anything:</p>
<p><code>sbin.networking-aae</code>:</p>
<pre><code class="lang-auto">/etc/wpa_supplicant/*.sh mrix,
</code></pre>
<p><code>usr.lib.xorg.Xorg</code>:</p>
<pre><code class="lang-auto">/dev/dri/renderD[0-9]* rw,
</code></pre>
<p><code>usr.bin.dbus-daemon</code>:</p>
<pre><code class="lang-auto">/usr/share/defaults/at-spi2/accessibility.conf r,
/usr/share/desktop-base/profiles/xdg-config/xfce4/xfconf/xfce-perchannel-xml/*.xml{,.new} r,
/usr/lib/at-spi2-core/at-spi-bus-launcher mrix,
/usr/lib/dconf/dconf-service mrix,
/usr/lib/x86_64-linux-gnu/tumbler-1/tumblerd mrix,
/usr/bin/gnome-keyring-daemon mrix,
</code></pre>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-19T16:50:24Z' class='post-time'>
                December 19, 2020,  4:50pm
              </time>
              <meta itemprop='dateModified' content='2020-12-19T16:50:24Z'>
          <span itemprop='position'>#28</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubpullrequest">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/helper-scripts/pull/5" target="_blank" rel="noopener nofollow ugc">github.com/Whonix/helper-scripts</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Whonix/helper-scripts/pull/5" target="_blank" rel="noopener nofollow ugc">Create apparmor-info</a>
    </h4>

    <div class="branches">
      <code>Whonix:master</code> ← <code>madaidan:apparmor-info</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2020-12-19" data-time="16:50:34" data-timezone="UTC">04:50PM - 19 Dec 20 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/madaidan" target="_blank" rel="noopener nofollow ugc">
          <img alt="madaidan" src="../../../external.html?link=https://avatars0.githubusercontent.com/u/50278627?v=4" class="onebox-avatar-inline" width="20" height="20">
          madaidan
        </a>
      </div>

      <div class="lines" title="2 commits changed 1 files with 7 additions and 0 deletions">
        <a href="../../../external.html?link=https://github.com/Whonix/helper-scripts/pull/5/files" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+7</span>
          <span class="removed">-0</span>
        </a>
      </div>
    </div>

  </div>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-20T07:20:07Z' class='post-time'>
                December 20, 2020,  7:20am
              </time>
              <meta itemprop='dateModified' content='2020-12-20T07:20:07Z'>
          <span itemprop='position'>#29</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Merged. This will be very handy. Added few minor commits on top.<br>
Removed <code>sudo</code> from script. I am not sure we should have any interactive sudo uses hardcoded in any scripts.  Reasons:</p>
<ul>
<li>major: shouldn’t train users to enter their sudo password at random applications. Using <code>sudo</code> should be a conscious action.</li>
<li>medium: not introducing an unnecessary dependency. <code>sudo</code> is not required for users already logged in as root / using capablities. Perhaps one day we can go SUID free, which includes sudo free.</li>
<li>minor: sudo removed environment variables (for whatever use case that would be good here)</li>
</ul>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-20T07:35:27Z' class='post-time'>
                December 20, 2020,  7:35am
              </time>
              <meta itemprop='dateModified' content='2020-12-20T07:35:27Z'>
          <span itemprop='position'>#30</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Man page.</p>
<blockquote>
<p>NAME<br>
apparmor-info - Shows AppArmor DENIED Log Messages</p>
<p>SYNOPSIS<br>
apparmor-info</p>
<p>DESCRIPTION<br>
Shows AppArmor DENIED log messages.</p>
<p>If there are no DENIED log messages, outputs nothing.</p>
<p>RETURN VALUES<br>
○   0 No DENIED messages found, OK.</p>
<p>○   1 DENIED messages found.</p>
<p>EXAMPLE<br>
sudo apparmor-info ; echo $?</p>
<p>0</p>
<p>No output from apparmor-info with exit code 0. Meaning, no DENIED messages found, OK.</p>
</blockquote>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/sudobash'><span itemprop='name'>sudobash</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-20T11:04:55Z' class='post-time'>
                December 20, 2020, 11:04am
              </time>
              <meta itemprop='dateModified' content='2020-12-20T13:07:57Z'>
          <span itemprop='position'>#31</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>We are getting closer to a working OS, however sdwdate is broken still on boot. The sdwdate-gui is looping.  When you go to status in the gui it displays - Time fetching in progress. When you try to stop or restart sdwdate-gui, it does not work and when you open the log, a terminal shows up but is blank.</p>
<p><strong>sudo apt dist-upgrade &amp;&amp; sudo apt update &amp;&amp; sudo apt upgrade</strong><br>
Reading package lists… Done<br>
Building dependency tree<br>
Reading state information… Done<br>
Calculating upgrade… Done<br>
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.<br>
Hit:1 tor+https://deb.debian.org/debian-security buster/updates InRelease<br>
Hit:2 tor+https://deb.debian.org/debian buster-updates InRelease<br>
Hit:3 tor+http://sgvtcaew4bxjd7ln.onion buster/updates InRelease<br>
Hit:4 tor+http://vwakviie2ienjx6t.onion/debian buster-updates InRelease<br>
Hit:5 tor+https://deb.debian.org/debian buster InRelease<br>
Hit:6 tor+https://deb.Whonix.org buster InRelease<br>
Hit:7 tor+http://vwakviie2ienjx6t.onion/debian buster InRelease<br>
Reading package lists… Done<br>
E: Release file for tor+https://deb.debian.org/debian/dists/buster-updates/InRelease is not valid yet (invalid for another 4h 26min 21s). Updates for this repository will not be applied.<br>
E: Release file for tor+http://vwakviie2ienjx6t.onion/debian/dists/buster-updates/InRelease is not valid yet (invalid for another 4h 26min 20s). Updates for this repository will not be applied.</p>
<p><strong>However, when I run sudo sdwdate</strong></p>
<p>2020-12-20 03:38:08 - sdwdate - INFO - sdwdate started. PID: 2955<br>
2020-12-20 03:38:08 - sdwdate - INFO - create temp_dir: /tmp/tmp.ZnnDVEdjIk<br>
2020-12-20 03:38:08 - sdwdate - INFO - Tor socks host: 127.0.0.1 Tor socks port: 9050<br>
2020-12-20 03:38:08 - sdwdate - INFO - Running sdwdate main loop. iteration: 1 / 10000<br>
2020-12-20 03:38:09 - sdwdate - INFO - Prerequisite check: The clock is sane.<br>
Within build timestamp Sat 12 Dec 2020 05:44:06 AM UTC and expiration timestamp Tue 17 May 2033 10:00:00 AM UTC.<br>
2020-12-20 03:38:09 - sdwdate - INFO - Prerequisite check: The clock might be too slow. Clock is slower than consensus/valid-after 2020-12-20 10:00:00.</p>
<p>Possible causes:</p>
<ul>
<li>
<p>The host clock is wrong -&gt; shut down the VM, fix the clock in the host and restart the VM.</p>
</li>
<li>
<p>The VM clock is wrong -&gt; manually fix the clock. Restart Tor if necessary. Then restart sdwdate.</p>
</li>
<li>
<p>A host clock attack succeeded.</p>
</li>
<li>
<p>A hardware issue (for example bios clock issues).</p>
</li>
</ul>
<p>Tor fully bootstrapped.<br>
2020-12-20 03:38:09 - sdwdate - INFO - Start fetching remote times.<br>
2020-12-20 03:38:09 - sdwdate - INFO - Initial time fetching in progress…<br>
2020-12-20 03:38:09 - sdwdate - INFO - Running sdwdate fetch loop. iteration: 1<br>
2020-12-20 03:38:09 - sdwdate - INFO - Requested urls [‘mprt35sjunnxfa76.onion’, ‘o2jdk5mdsijm2b7l.onion’, ‘privacyintyqcroe.onion’]<br>
2020-12-20 03:38:59 - sdwdate - INFO - Returned urls “[‘mprt35sjunnxfa76.onion’, ‘o2jdk5mdsijm2b7l.onion’, ‘privacyintyqcroe.onion’]”<br>
2020-12-20 03:38:59 - sdwdate - INFO - remote 0: mprt35sjunnxfa76.onion<br>
2020-12-20 03:38:59 - sdwdate - INFO - * comment: <a href="../../../external.html?link=https://informant.taz.de/" rel="noopener nofollow ugc">https://informant.taz.de</a>	<a href="../../../external.html?link=https://web.archive.org/web/20170329061908/https://informant.taz.de" rel="noopener nofollow ugc">https://web.archive.org/web/20170329061908/https://informant.taz.de</a><br>
2020-12-20 03:38:59 - sdwdate - INFO - * remote_unixtime: 1608460283<br>
2020-12-20 03:38:59 - sdwdate - INFO - * consensus/valid-after: 2020-12-20 10:00:00<br>
2020-12-20 03:38:59 - sdwdate - INFO - * remote_time          : 2020-12-20 10:31:23<br>
2020-12-20 03:38:59 - sdwdate - INFO - * consensus/valid-until: 2020-12-20 13:00:00<br>
2020-12-20 03:38:59 - sdwdate - INFO - * time_diff: 24744 second(s)<br>
2020-12-20 03:38:59 - sdwdate - INFO - * timesanitycheck: sane<br>
2020-12-20 03:38:59 - sdwdate - INFO - * time_consensus_sanity_check: sane<br>
2020-12-20 03:38:59 - sdwdate - INFO - * remote_status: True<br>
2020-12-20 03:38:59 - sdwdate - INFO - remote 1: o2jdk5mdsijm2b7l.onion<br>
2020-12-20 03:38:59 - sdwdate - INFO - * comment: <a href="../../../external.html?link=https://search.gibberfish.orghttps/" rel="noopener nofollow ugc">https://search.gibberfish.orghttps</a>://gibberfish.org/community-resources/	<a href="../../../external.html?link=https://web.archive.org/web/20170512060744/https://gibberfish.org/community-resources/" rel="noopener nofollow ugc">https://web.archive.org/web/20170512060744/https://gibberfish.org/community-resources/</a><br>
2020-12-20 03:38:59 - sdwdate - INFO - * status: False<br>
2020-12-20 03:38:59 - sdwdate - INFO - * value: Timeout<br>
2020-12-20 03:38:59 - sdwdate - INFO - remote 2: privacyintyqcroe.onion<br>
2020-12-20 03:38:59 - sdwdate - INFO - * comment: <a href="../../../external.html?link=https://www.privacyinternational.org/" rel="noopener nofollow ugc">https://www.privacyinternational.org</a> <a href="../../../external.html?link=https://twitter.com/privacyint/status/762656779272593408" rel="noopener nofollow ugc">https://twitter.com/privacyint/status/762656779272593408</a>	<a href="../../../external.html?link=https://web.archive.org/web/20170421233214/https:/twitter.com/privacyint/status/762656779272593408" rel="noopener nofollow ugc">https://web.archive.org/web/20170421233214/https:/twitter.com/privacyint/status/762656779272593408</a><br>
2020-12-20 03:38:59 - sdwdate - INFO - * remote_unixtime: 1608460282<br>
2020-12-20 03:38:59 - sdwdate - INFO - * consensus/valid-after: 2020-12-20 10:00:00<br>
2020-12-20 03:38:59 - sdwdate - INFO - * remote_time          : 2020-12-20 10:31:22<br>
2020-12-20 03:38:59 - sdwdate - INFO - * consensus/valid-until: 2020-12-20 13:00:00<br>
2020-12-20 03:38:59 - sdwdate - INFO - * time_diff: 24743 second(s)<br>
2020-12-20 03:38:59 - sdwdate - INFO - * timesanitycheck: sane<br>
2020-12-20 03:38:59 - sdwdate - INFO - * time_consensus_sanity_check: sane<br>
2020-12-20 03:38:59 - sdwdate - INFO - * remote_status: True<br>
2020-12-20 03:38:59 - sdwdate - INFO - Pool 1: mprt35sjunnxfa76.onion, web unixtime: 1608460283, web time: Sun Dec 20 10:31:23 UTC 2020, diff: 24744 seconds<br>
2020-12-20 03:38:59 - sdwdate - INFO - Pool 3: privacyintyqcroe.onion, web unixtime: 1608460282, web time: Sun Dec 20 10:31:22 UTC 2020, diff: 24743 seconds<br>
2020-12-20 03:38:59 - sdwdate - INFO - Running sdwdate fetch loop. iteration: 2<br>
2020-12-20 03:38:59 - sdwdate - INFO - Requested urls [‘nxhhwbbxc4khvvlw.onion’]<br>
2020-12-20 03:39:03 - sdwdate - INFO - Returned urls “[‘nxhhwbbxc4khvvlw.onion’]”<br>
2020-12-20 03:39:03 - sdwdate - INFO - remote 0: nxhhwbbxc4khvvlw.onion<br>
2020-12-20 03:39:03 - sdwdate - INFO - * comment: <a href="../../../external.html?link=https://searx.gotrust.de/" rel="noopener nofollow ugc">https://searx.gotrust.de</a>	<a href="../../../external.html?link=https://web.archive.org/web/20170519171857/https://github.com/asciimoo/searx/wiki/Searx-instances" rel="noopener nofollow ugc">https://web.archive.org/web/20170519171857/https://github.com/asciimoo/searx/wiki/Searx-instances</a><br>
2020-12-20 03:39:03 - sdwdate - INFO - * remote_unixtime: 1608460920<br>
2020-12-20 03:39:03 - sdwdate - INFO - * consensus/valid-after: 2020-12-20 10:00:00<br>
2020-12-20 03:39:03 - sdwdate - INFO - * remote_time          : 2020-12-20 10:42:00<br>
2020-12-20 03:39:03 - sdwdate - INFO - * consensus/valid-until: 2020-12-20 13:00:00<br>
2020-12-20 03:39:03 - sdwdate - INFO - * time_diff: 25377 second(s)<br>
2020-12-20 03:39:03 - sdwdate - INFO - * timesanitycheck: sane<br>
2020-12-20 03:39:03 - sdwdate - INFO - * time_consensus_sanity_check: sane<br>
2020-12-20 03:39:03 - sdwdate - INFO - * remote_status: True<br>
2020-12-20 03:39:03 - sdwdate - INFO - Pool 2: nxhhwbbxc4khvvlw.onion, web unixtime: 1608460920, web time: Sun Dec 20 10:42:00 UTC 2020, diff: 25377 seconds<br>
2020-12-20 03:39:03 - sdwdate - INFO - End fetching remote times.<br>
2020-12-20 03:39:03 - sdwdate - INFO - Pool differences, sorted: [24743, 24744, 25377]<br>
2020-12-20 03:39:03 - sdwdate - INFO - Median time difference: +24744.000000000<br>
2020-12-20 03:39:03 - sdwdate - INFO - randomize             : +0.052989251<br>
2020-12-20 03:39:03 - sdwdate - INFO - New time difference   : +24744.052989251<br>
2020-12-20 03:39:03 - sdwdate - INFO - Old unixttime: 1608435543.369919062<br>
2020-12-20 03:39:03 - sdwdate - INFO - New unixtime : 1608460287.422908306<br>
2020-12-20 03:39:03 - sdwdate - INFO - Instantly setting the time by using command: /bin/date --set “<span class="mention">@1608460287.422908306</span>”<br>
2020-12-20 10:31:27 - sdwdate - INFO - /bin/date output: Sun 20 Dec 2020 10:31:27 AM UTC</p>
<p>2020-12-20 10:31:27 - sdwdate - INFO - Success. Sleeping for 66.08333333333333 minutes.<br>
2020-12-20 10:31:27 - sdwdate - INFO - Running command: sleep 3965.178781784<br>
^Z<br>
[1]+  Stopped                 sudo sdwdate</p>
<p><strong>The icon for the sdwdate-gui does display the working icon but then loops between the X and inactive icon and keeps looping.</strong></p>
<p>TOR Browser works and I’m able to update:</p>
<p><strong>sudo apt dist-upgrade &amp;&amp; sudo apt update &amp;&amp; sudo apt upgrade</strong><br>
[sudo] password for user:<br>
Reading package lists… Done<br>
Building dependency tree<br>
Reading state information… Done<br>
Calculating upgrade… Done<br>
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.<br>
Hit:1 tor+https://deb.debian.org/debian-security buster/updates InRelease<br>
Hit:2 tor+https://deb.debian.org/debian buster-updates InRelease<br>
Hit:3 tor+http://vwakviie2ienjx6t.onion/debian buster-updates InRelease<br>
Hit:4 tor+https://deb.debian.org/debian buster InRelease<br>
Hit:5 tor+https://deb.Whonix.org buster InRelease<br>
Hit:6 tor+http://sgvtcaew4bxjd7ln.onion buster/updates InRelease<br>
Hit:7 tor+http://vwakviie2ienjx6t.onion/debian buster InRelease<br>
Reading package lists… Done<br>
Building dependency tree<br>
Reading state information… Done<br>
All packages are up to date.<br>
Reading package lists… Done<br>
Building dependency tree<br>
Reading state information… Done<br>
Calculating upgrade… Done<br>
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.</p>
<p>But for some reason, I cannot acquire the merged packages such as apparmor-info and hardened-kernel.</p>
<p><strong>I run sudo apt reinstall helper-scripts and sudo apparmor-info<br>
sudo: apparmor-info: command not found</strong></p>
<p><strong>I switched to the older kernel for these test - uname -r</strong><br>
<strong>4.19.0-13-amd64 so that it wouldn’t be a hardened kernel issue</strong></p>
<p><strong>I also tested sudo sdwdate-gui</strong><br>
[sudo] password for user:<br>
access control disabled, clients can connect from any host<br>
QStandardPaths: XDG_RUNTIME_DIR not set, defaulting to ‘/tmp/runtime-sdwdate-gui’<br>
tor_status_changed unexpected error: &lt;class ‘NameError’&gt;<br>
^Z<br>
[2]+  Stopped                 sudo sdwdate-gui</p>
<p><strong>And lastly, I ran this just now:</strong></p>
<p>sudo journalctl _TRANSPORT=audit --output cat “${@}” | grep “DENIED” | sed -e ‘s/pid=.* comm/comm/g’ | sed -e 's/ fsuid.<em>//g’ | awk ‘!x[$0]++’<br>
AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/at-spi2-core/at-spi2-registryd" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“apt.systemd.daily” name="/usr/bin/dirname" comm=“savelog” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“apt.systemd.daily” name="/usr/bin/rm" comm=“savelog” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“apt.systemd.daily” name="/usr/bin/mv" comm=“savelog” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“apt.systemd.daily” name="/usr/bin/gzip" comm=“savelog” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“apt.systemd.daily” name="/usr/bin/apt-get" comm=“apt.systemd.dai” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“open” profile="/**/</em>-browser/Browser/firefox" name="/proc/5064/cgroup" comm=“firefox.real” requested_mask=“r” denied_mask=“r”</p>
<p><strong>System Monitor does briefly show the 2 tabs that were not showing up but then disables access to it. I ran it just now and did another journalctl:</strong></p>
<p>sudo journalctl _TRANSPORT=audit --output cat “${@}” | grep “DENIED” | sed -e ‘s/pid=.* comm/comm/g’ | sed -e 's/ fsuid.<em>//g’ | awk ‘!x[$0]++’<br>
AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/at-spi2-core/at-spi2-registryd" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“apt.systemd.daily” name="/usr/bin/dirname" comm=“savelog” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“apt.systemd.daily” name="/usr/bin/rm" comm=“savelog” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“apt.systemd.daily” name="/usr/bin/mv" comm=“savelog” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“apt.systemd.daily” name="/usr/bin/gzip" comm=“savelog” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“apt.systemd.daily” name="/usr/bin/apt-get" comm=“apt.systemd.dai” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“open” profile="/**/</em>-browser/Browser/firefox" name="/proc/5064/cgroup" comm=“firefox.real” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/proc/cmdline" comm=“dconf-service” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.N4ZIV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.VVZIV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.77ZIV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.U9ZIV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.R9XIV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.7LYIV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.U2YIV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.MJZIV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.JBEDV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.WVEDV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.S7SHV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.SPTHV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.BDNFV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.0OKFV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.HIOOV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.G0OOV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.I14EV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.6T4EV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.G1PPV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.NCQPV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.GT5GV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.7A6GV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.B5KXV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.QUKXV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.090UV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.TR1UV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.S7JQV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.UOKQV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.1ADKV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.0RDKV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.5UIIV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.1CJIV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.6EVDV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.3WVDV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.VAEWV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.FXEWV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.DKQRV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.S9PRV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.BUPPV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.5BQPV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.FF8JV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.Z47JV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.84OEV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.YMPEV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.HLCYV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.1Y9XV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.7ETSV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.5QQSV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.9DWQV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.0VWQV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.H8VLV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.UQWLV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.W4VJV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.7TVJV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.S1VEV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.ZQVEV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.OH4WV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.KA4WV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.AA1MV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.KT1MV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.UF2QV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.VSZQV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.R1ZQV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.config/dconf/user.OI0QV0" comm=“dconf-service” requested_mask=“c” denied_mask=“c”</p>
<p><strong>I also noticed this in boot log:</strong></p>
<p>Warning from stdin (line 1): config file ‘/etc/apparmor/parser.conf’ not found<br>
Warning from stdin (line 1): config file ‘/etc/apparmor/parser.conf’ not found<br>
Warning from stdin (line 1): config file ‘/etc/apparmor/parser.conf’ not found<br>
Warning from stdin (line 1): config file ‘/etc/apparmor/parser.conf’ not found</p>
<p>Failed to start Load AppArmor profiles.<br>
See ‘systemctl status apparmor.service’ for details.</p>
<p><strong>When checking out systemctl status apparmor.service within the OS, the result is:</strong></p>
<p>● apparmor.service - Load AppArmor profiles<br>
Loaded: loaded (/lib/systemd/system/apparmor.service; enabled; vendor preset: enabled)<br>
Drop-In: /usr/lib/systemd/system/apparmor.service.d<br>
└─30_live_mode.conf<br>
Active: failed (Result: exit-code) since Sun 2020-12-20 05:57:21 UTC; 7h ago<br>
Docs: man:apparmor(7)<br>
<a href="../../../external.html?link=https://gitlab.com/apparmor/apparmor/wikis/home/" rel="noopener nofollow ugc">https://gitlab.com/apparmor/apparmor/wikis/home/</a><br>
Process: 783 ExecStart=/lib/apparmor/apparmor.systemd reload (code=exited, status=1/FAILURE)<br>
Main PID: 783 (code=exited, status=1/FAILURE)</p>
<p>Dec 20 05:57:20 os systemd[1]: Starting Load AppArmor profiles…<br>
Dec 20 05:57:20 os apparmor.systemd[783]: Restarting AppArmor<br>
Dec 20 05:57:20 os apparmor.systemd[783]: Reloading AppArmor profiles<br>
Dec 20 05:57:20 os apparmor.systemd[783]: AppArmor parser error for /etc/apparmor.d in /etc/apparmor.d/abstractions/init-systemd at line 252: Found unexpected character: ‘2’<br>
Dec 20 05:57:20 os apparmor.systemd[783]: AppArmor parser error for /etc/apparmor.d/init-systemd in /etc/apparmor.d/abstractions/init-systemd at line 252: Found unexpected character: ‘2’<br>
Dec 20 05:57:21 os apparmor.systemd[783]: Error: At least one profile failed to load<br>
Dec 20 05:57:21 os systemd[1]: apparmor.service: Main process exited, code=exited, status=1/FAILURE<br>
Dec 20 05:57:21 os systemd[1]: apparmor.service: Failed with result ‘exit-code’.<br>
Dec 20 05:57:21 os systemd[1]: Failed to start Load AppArmor profiles.<br>
~</p>
<p>Thanks,<br>
sudobash</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../whonix-apparmor-profiles-development-discussion/108/717.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../whonix-apparmor-profiles-development-discussion/108/717.html'>
                      <span itemprop='name'>Whonix AppArmor Profiles Development Discussion</span>
                    </a>
                    <meta itemprop='position' content='11'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-21T19:52:45Z' class='post-time'>
                December 21, 2020,  7:52pm
              </time>
              <meta itemprop='dateModified' content='2020-12-21T19:52:45Z'>
          <span itemprop='position'>#32</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="sudobash" data-post="31" data-topic="10381">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/s/a4c791/40.png" class="avatar"> sudobash:</div>
<blockquote>
<p>But for some reason, I cannot acquire the merged packages such as apparmor-info and hardened-kernel.</p>
</blockquote>
</aside>
<p>They haven’t been uploaded to the repositories yet. Download <a href="../../../external.html?link=https://raw.githubusercontent.com/Whonix/helper-scripts/master/usr/sbin/apparmor-info" rel="noopener nofollow ugc">https://raw.githubusercontent.com/Whonix/helper-scripts/master/usr/sbin/apparmor-info</a> and then execute it.</p>
<p>Edit the policies as follows:</p>
<p><code>usr.bin.dbus-daemon</code>:</p>
<pre><code class="lang-auto">/usr/lib/at-spi2-core/at-spi2-registryd mrix,
/proc/cmdline r,
/home/user/.config/dconf/user.* rw,
</code></pre>
<p><code>apt.systemd.daily</code>:</p>
<pre><code class="lang-auto">/{,usr/}bin/dirname mrix,
/{,usr/}bin/rm mrix,
/{,usr/}bin/mv mrix,
/{,usr/}bin/gzip mrix,
/{,usr/}bin/apt-get mrix,
</code></pre>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/sudobash'><span itemprop='name'>sudobash</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-22T10:41:11Z' class='post-time'>
                December 22, 2020, 10:41am
              </time>
              <meta itemprop='dateModified' content='2020-12-22T10:41:11Z'>
          <span itemprop='position'>#33</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I applied the edits stated above and sdwdate is still broken with the loop issue within sdwdate-gui. Also, System Monitor seems to have the same bug with the tabs not working.</p>
<p><strong>Here is my AppArmor Info:</strong></p>
<p>sudo bash ‘/home/user/Downloads/apparmor-info.bash’<br>
AVC apparmor=“DENIED” operation=“rename_dest” profile=“dbus-daemon” name="/home/user/.config/dconf/user" comm=“dconf-service” requested_mask=“wc” denied_mask=“wc”<br>
AVC apparmor=“DENIED” operation=“open” profile=“apt.systemd.daily” name="/var/backups/" comm=“gzip” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“apt.systemd.daily” name="/var/lib/dpkg/lock-frontend" comm=“apt-get” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“open” profile=“apt.systemd.daily” name="/var/lib/dpkg/lock-frontend" comm=“apt-get” requested_mask=“wrc” denied_mask=“wrc”</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-22T19:05:42Z' class='post-time'>
                December 22, 2020,  7:05pm
              </time>
              <meta itemprop='dateModified' content='2020-12-22T19:05:42Z'>
          <span itemprop='position'>#34</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Much easier now with apparmor-info. Edit the policies:</p>
<p><code>usr.bin.dbus-daemon</code>:</p>
<pre><code class="lang-auto">/home/user/.config/dconf/user rw,
</code></pre>
<p><code>apt.systemd.daily</code>:</p>
<pre><code class="lang-auto">/var/backups/ r,
/var/lib/dpkg/lock-frontend rw,
</code></pre>
<p>However, none of these seem to be sdwdate / system monitor related. Are you absolutely sure that it’s apparmor-profile-everything causing this?</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/sudobash'><span itemprop='name'>sudobash</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">

            <link itemprop="image" href="../../uploads/default/original/2X/9/9146b6a9ee56326f81f12680e12bc7fb4dfc0ed1.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-23T12:02:44Z' class='post-time'>
                December 23, 2020, 12:02pm
              </time>
              <meta itemprop='dateModified' content='2020-12-23T12:52:28Z'>
          <span itemprop='position'>#35</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes, it happens after apparmor-profile-everything is installed.  I also confirmed this with a KVM version of Whonix-Gateway in which the same thing happens when apparmor-profile-everything is installed within the VM.</p>
<p>I’m positive if you install a new KVM gateway, update it, then install apparmor-profile-everything, this will surely happen. I also closed sdwdate-gui and reopened it, clicked status then log, then restart and stop, then closed it and reopened once more so that maybe I could get another denied operation pertaining to sdwdate-gui.  This was the result:</p>
<p>sudo bash ‘/home/user/Downloads/apparmor-info.bash’<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“apt.systemd.daily” name="/var/lib/dpkg/lock-frontend" comm=“apt-get” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“open” profile=“apt.systemd.daily” name="/var/lib/dpkg/lock-frontend" comm=“apt-get” requested_mask=“wrc” denied_mask=“wrc”<br>
AVC apparmor=“DENIED” operation=“open” profile="/**/*-browser/Browser/firefox" name="/proc/5363/cgroup" comm=“firefox.real” requested_mask=“r” denied_mask=“r”</p>
<p>Firefox is TorBrowser posting to this forum.</p>
<p>Also, how may I get a browser installed such as Tor Browser working in Whonix-Gateway so that I can download the apparmor-info and send my logs from that VM?</p>
<p>I also did set the new rules you posted above and will reboot just for measure.</p>
<p><strong>Update after Reboot:</strong></p>
<p>I ran this just now while TOR is open with your edits applied.</p>
<p>sudo sdwdate-gui<br>
[sudo] password for user:<br>
access control disabled, clients can connect from any host<br>
QStandardPaths: XDG_RUNTIME_DIR not set, defaulting to ‘/tmp/runtime-sdwdate-gui’<br>
tor_status_changed unexpected error: &lt;class ‘NameError’&gt;<br>
^Z<br>
[1]+  Stopped                 sudo sdwdate-gui</p>
<p>sudo bash ‘/home/user/Downloads/apparmor-info.bash’<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/etc/xdg/tumbler/tumbler.rc" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/home/user/.cache/gstreamer-1.0/registry.x86_64.bin" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/proc/2641/fd/" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/x86_64-linux-gnu/gstreamer1.0/gstreamer-1.0/gst-plugin-scanner" comm=“tumblerd” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/sys/devices/system/node/" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/dev/" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.cache/gstreamer-1.0/registry.x86_64.bin.tmpSZH8V0" comm=“tumblerd” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.cache/gstreamer-1.0/registry.x86_64.bin.tmpT4H8V0" comm=“tumblerd” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/thumbnailers/" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile="/**/*-browser/Browser/firefox" name="/proc/2704/cgroup" comm=“firefox.real” requested_mask=“r” denied_mask=“r”</p>
<p>All the new denieds are Firefox related (TB) as it was output 0 prior to opening TOR Browser.</p>
<p><strong>Edit - Testing Whonix-Gateway in KVM using hardened-kernel VM version with -lkrg support.  Apparmor-profile-everything is the only profile installed other than the pre-installed profiles pertaining to Whonix-Gateway.</strong></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../uploads/default/original/2X/9/9146b6a9ee56326f81f12680e12bc7fb4dfc0ed1.png" data-download-href="//forums.whonix.org/uploads/default/9146b6a9ee56326f81f12680e12bc7fb4dfc0ed1" title="Screenshot_Whonix-Gateway-Debug_2020-12-23_12:38:54"><img src="../../uploads/default/optimized/2X/9/9146b6a9ee56326f81f12680e12bc7fb4dfc0ed1_2_666x500.png" alt="Screenshot_Whonix-Gateway-Debug_2020-12-23_12:38:54" data-base62-sha1="kJaJEagyPc1B2hBX5Mrc5HCzS3n" width="666" height="500" srcset="//forums.whonix.org/uploads/default/optimized/2X/9/9146b6a9ee56326f81f12680e12bc7fb4dfc0ed1_2_666x500.png, //forums.whonix.org/uploads/default/optimized/2X/9/9146b6a9ee56326f81f12680e12bc7fb4dfc0ed1_2_999x750.png 1.5x, //forums.whonix.org/uploads/default/original/2X/9/9146b6a9ee56326f81f12680e12bc7fb4dfc0ed1.png 2x" data-small-upload="../../uploads/default/optimized/2X/9/9146b6a9ee56326f81f12680e12bc7fb4dfc0ed1_2_10x10.png"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot_Whonix-Gateway-Debug_2020-12-23_12:38:54</span><span class="informations">1024×768 180 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>To the left, the terminal shows the sdwdate-gui log when clicking on it. You can see the log is blank besides the firewall notices.</p>
<p>To the right is trying to install the app-armor profile so that’s another issue which I think was addressed with the Kicksecure edits. You also see the kernel version I’m using. How do I install a browser so I can send my logs to the forum on KVM Whonix-Gateway? Or should I setup a shared folder so I can send logs to the host machine then upload to the forum?</p>
<p><strong>This is running sdwdate-gui in KVM Whonix-Gateway</strong></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../uploads/default/original/2X/0/0d1154ad17b0e5595961a2045e8d01bc8d5708e0.png" data-download-href="//forums.whonix.org/uploads/default/0d1154ad17b0e5595961a2045e8d01bc8d5708e0" title="Screenshot_Whonix-Gateway-Debug_2020-12-23_12:38:54"><img src="../../uploads/default/optimized/2X/0/0d1154ad17b0e5595961a2045e8d01bc8d5708e0_2_666x500.png" alt="Screenshot_Whonix-Gateway-Debug_2020-12-23_12:38:54" data-base62-sha1="1RBkXHlM19oGw3PFAuxV5FRalgc" width="666" height="500" srcset="//forums.whonix.org/uploads/default/optimized/2X/0/0d1154ad17b0e5595961a2045e8d01bc8d5708e0_2_666x500.png, //forums.whonix.org/uploads/default/optimized/2X/0/0d1154ad17b0e5595961a2045e8d01bc8d5708e0_2_999x750.png 1.5x, //forums.whonix.org/uploads/default/original/2X/0/0d1154ad17b0e5595961a2045e8d01bc8d5708e0.png 2x" data-small-upload="../../uploads/default/optimized/2X/0/0d1154ad17b0e5595961a2045e8d01bc8d5708e0_2_10x10.png"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot_Whonix-Gateway-Debug_2020-12-23_12:38:54</span><span class="informations">1024×768 187 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>How can I download apparmor-info via terminal or get a browser installed like TOR to download within Whonix-Gateway?</p>
<p>Thanks,<br>
sudobash</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-23T18:43:01Z' class='post-time'>
                December 23, 2020,  6:43pm
              </time>
              <meta itemprop='dateModified' content='2020-12-23T18:43:01Z'>
          <span itemprop='position'>#36</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The screenshot shows that you’re using <code>apt</code> to install programs — you are meant to be using the <code>rapt</code> wrapper.</p>
<p>You don’t need a browser. You can enable clipboard sharing and copy/paste across the VMs.</p>
<p><a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#Clipboard_Sharing" rel="noopener nofollow ugc">https://www.whonix.org/wiki/KVM#Clipboard_Sharing</a></p>
<p>You can download apparmor-info from the terminal with:</p>
<pre><code>scurl-download https://raw.githubusercontent.com/Whonix/helper-scripts/master/usr/sbin/apparmor-info
</code></pre>
<p>You should learn how to parse the AppArmor logs yourself so you can quickly apply the necessary rules and then you can post the end result here so that I can upload them to git. Will save a lot of time instead of having to go back and forth on the forums.</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-24T09:41:07Z' class='post-time'>
                December 24, 2020,  9:41am
              </time>
              <meta itemprop='dateModified' content='2020-12-24T09:41:07Z'>
          <span itemprop='position'>#37</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Relationship between sdwdate-gui and APT does currently not exist. sdwdate-gui can restart sdwdate. Story could stop there.</p>
<p>sdwdate runs <code>prerequisite_check</code>  which then runs <code>/usr/lib/helper-scripts/te_pe_tb_check</code>. I am not sure what the acronym meant but what it does is:</p>
<ul>
<li>Time Sanity Check</li>
<li>Tor enabled check</li>
<li>Tor circuit established</li>
</ul>
<p>It used to check if there is currently a package manager running using <code>/usr/lib/helper-scripts/pkg_manager_running_check</code> but that is disabled for a long time.</p>
<aside class="quote no-group" data-username="sudobash" data-post="35" data-topic="10381">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/s/a4c791/40.png" class="avatar"> sudobash:</div>
<blockquote>
<p>sudo sdwdate-gui</p>
</blockquote>
</aside>
<p>Not supposed to run as <code>root</code>. For proper reproduction, if manually started:</p>
<ul>
<li>make sure all existing related processes have been terminated (duplicates might cause issues, generally, probably not the case here).</li>
<li>application has to be run the same way it is being run by the system.</li>
</ul>
<p><code>/etc/xdg/autostart/sdwdate-gui.desktop</code> runs</p>
<pre><code>/usr/lib/sdwdate-gui/start-maybe
</code></pre>
<p>which then in Qubes-Whonix runs</p>
<pre><code>sdwdate-gui
</code></pre>
<aside class="quote no-group" data-username="sudobash" data-post="35" data-topic="10381">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/s/a4c791/40.png" class="avatar"> sudobash:</div>
<blockquote>
<p>How do I install a browser so I can send my logs to the forum on KVM Whonix-Gateway?</p>
</blockquote>
</aside>
<p>This should be avoided. Better use a browser on the host or even better in another VM. Use shared folder or copy/paste/<code>chmod +x file-name</code>. <code>scurl-download</code> method is also better.</p>
<p>Running a browser inside Whonix-Gateway may be possible but I am not sure that’s currently documented.</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/sudobash'><span itemprop='name'>sudobash</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-24T12:21:09Z' class='post-time'>
                December 24, 2020, 12:21pm
              </time>
              <meta itemprop='dateModified' content='2020-12-24T12:23:07Z'>
          <span itemprop='position'>#38</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><strong>I booted into Kicksecure with the profile changes all mentioned above and ran:</strong></p>
<p>sudo bash ‘/home/user/Downloads/apparmor-info.bash’</p>
<p><strong>This came up with zero results and yet the sdwdate-gui is still having the looping bug.  I can confirm it also has the bug within KVM Whonix-Gateway using the same apparmor profile edits that Kicksecure shares.</strong></p>
<p><strong>I next ran:</strong></p>
<p>/usr/lib/sdwdate-gui/start-maybe<br>
access control disabled, clients can connect from any host<br>
QStandardPaths: XDG_RUNTIME_DIR not set, defaulting to ‘/tmp/runtime-sdwdate-gui’<br>
tor_status_changed unexpected error: &lt;class ‘NameError’&gt;<br>
^Z<br>
[3]+  Stopped                 /usr/lib/sdwdate-gui/start-maybe</p>
<p>/etc/xdg/autostart/sdwdate-gui.desktop runs<br>
bash: /etc/xdg/autostart/sdwdate-gui.desktop: Permission denied</p>
<p><strong>Only thing that comes up:</strong></p>
<p>sudo bash ‘/home/user/Downloads/apparmor-info.bash’<br>
AVC apparmor=“DENIED” operation=“file_lock” profile=“apt.systemd.daily” name="/var/lib/dpkg/lock-frontend" comm=“apt-get” requested_mask=“k” denied_mask=“k”<br>
AVC apparmor=“DENIED” operation=“open” profile="/**/*-browser/Browser/firefox" name="/proc/2650/cgroup" comm=“firefox.real” requested_mask=“r” denied_mask=“r”</p>
<p><strong>It’s safe to say that both denieds above have nothing to do with sdwdate. Good news though is everything else works in Kicksecure that I’ve tested from KVM to System Monitor and all is running normally.</strong></p>
<p><strong>My next goal is to install apparmor-profile-everything within KVM Whonix-Workstation with the VM hardened kernel with -lkrg.  I will apply the same edits stated in this forum. I’ll test the basics like NGINX, PHP, MySQL, etc.</strong></p>
<p><strong>The looping bug can be bypassed by running sdwdate in the terminal and syncs properly.</strong></p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/madaidan'><span itemprop='name'>madaidan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-24T19:20:41Z' class='post-time'>
                December 24, 2020,  7:20pm
              </time>
              <meta itemprop='dateModified' content='2020-12-24T19:20:41Z'>
          <span itemprop='position'>#39</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubpullrequest">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/apparmor-profile-everything/pull/71" target="_blank" rel="noopener nofollow ugc">github.com/Whonix/apparmor-profile-everything</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Whonix/apparmor-profile-everything/pull/71" target="_blank" rel="noopener nofollow ugc">Fixes</a>
    </h4>

    <div class="branches">
      <code>Whonix:master</code> ← <code>madaidan:fixes</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2020-12-24" data-time="19:20:52" data-timezone="UTC">07:20PM - 24 Dec 20 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/madaidan" target="_blank" rel="noopener nofollow ugc">
          <img alt="madaidan" src="../../../external.html?link=https://avatars0.githubusercontent.com/u/50278627?v=4" class="onebox-avatar-inline" width="20" height="20">
          madaidan
        </a>
      </div>

      <div class="lines" title="1 commits changed 6 files with 25 additions and 8 deletions">
        <a href="../../../external.html?link=https://github.com/Whonix/apparmor-profile-everything/pull/71/files" target="_blank" rel="noopener nofollow ugc">
          <span class="added">+25</span>
          <span class="removed">-8</span>
        </a>
      </div>
    </div>

  </div>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-25T07:58:19Z' class='post-time'>
                December 25, 2020,  7:58am
              </time>
              <meta itemprop='dateModified' content='2020-12-25T07:58:19Z'>
          <span itemprop='position'>#40</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Merged.</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/sudobash'><span itemprop='name'>sudobash</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-25T17:49:26Z' class='post-time'>
                December 25, 2020,  5:49pm
              </time>
              <meta itemprop='dateModified' content='2020-12-25T17:49:26Z'>
          <span itemprop='position'>#41</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><strong>I forgot what I updated via the testers repo for Kicksecure but it broke some things.</strong></p>
<p>sudo apt-get-update-plus dist-upgrade<br>
Hit:1 tor+https://deb.debian.org/debian-security buster/updates InRelease<br>
Hit:2 tor+https://deb.debian.org/debian buster-updates InRelease<br>
Hit:3 tor+https://deb.debian.org/debian buster InRelease<br>
Get:4 tor+https://deb.whonix.org buster-testers InRelease [37.5 kB]<br>
Get:5 tor+https://deb.whonix.org buster-testers/non-free amd64 Packages [1,542 B]<br>
Get:6 tor+https://deb.whonix.org buster-testers/main amd64 Packages [58.3 kB]<br>
Get:7 tor+https://deb.whonix.org buster-testers/contrib amd64 Packages [1,390 B]<br>
Fetched 98.7 kB in 7s (13.3 kB/s)<br>
Reading package lists…<br>
Reading package lists… Done<br>
Building dependency tree<br>
Reading state information… Done<br>
Calculating upgrade… Done<br>
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.</p>
<p><strong>Here is my apparmor status:</strong></p>
<p>sudo aa-status<br>
apparmor module is loaded.<br>
66 profiles are loaded.<br>
49 profiles are in enforce mode.<br>
/**/*-browser/Browser/firefox<br>
/usr/bin/gwenview<br>
/usr/bin/hexchat<br>
/usr/bin/man<br>
/usr/bin/okular<br>
/usr/bin/pidgin<br>
/usr/bin/pidgin//sanitized_helper<br>
/usr/bin/totem<br>
/usr/bin/totem-audio-preview<br>
/usr/bin/totem-video-thumbnailer<br>
/usr/bin/totem//sanitized_helper<br>
/usr/bin/xchat<br>
/usr/lib/helper-scripts/first-boot-skel<br>
/usr/lib/sdwdate/url_to_unixtime<br>
/usr/lib/security-misc/pam-abort-on-locked-password<br>
/usr/lib/security-misc/pam_only_if_login<br>
/usr/lib/security-misc/pam_tally2-info<br>
/usr/lib/security-misc/panic-on-oops<br>
/usr/lib/security-misc/permission-lockdown<br>
/usr/lib/security-misc/remove-system.map<br>
/usr/lib/x86_64-linux-gnu/lightdm/lightdm-guest-session<br>
/usr/lib/x86_64-linux-gnu/lightdm/lightdm-guest-session//chromium<br>
/usr/sbin/apt-cacher-ng<br>
/usr/sbin/haveged<br>
/usr/sbin/kloak<br>
/usr/sbin/libvirtd<br>
/usr/sbin/libvirtd//qemu_bridge_helper<br>
Xorg<br>
apt.systemd.daily<br>
bootclockrandomization<br>
dbus-daemon<br>
init-systemd<br>
init-systemd-debug<br>
init-systemd-superroot<br>
lsblk<br>
man_filter<br>
man_groff<br>
networking-aae<br>
nvidia_modprobe<br>
nvidia_modprobe//kmod<br>
rapt<br>
rsyslogd<br>
spice-vdagent<br>
spice-vdagentd<br>
system_tor<br>
systemd-modules-load<br>
systemd-shutdown<br>
systemd-sysctl<br>
virt-aa-helper<br>
17 profiles are in complain mode.<br>
/usr/bin/irssi<br>
/usr/bin/sdwdate<br>
/usr/sbin/dnsmasq<br>
/usr/sbin/dnsmasq//libvirt_leaseshelper<br>
avahi-daemon<br>
identd<br>
klogd<br>
mdnsd<br>
nmbd<br>
nscd<br>
ping<br>
smbd<br>
smbldap-useradd<br>
smbldap-useradd///etc/init.d/nscd<br>
syslog-ng<br>
syslogd<br>
traceroute<br>
27 processes have profiles defined.<br>
16 processes are in enforce mode.<br>
/usr/sbin/haveged (843)<br>
/usr/sbin/kloak (847)<br>
/usr/sbin/libvirtd (989)<br>
/usr/lib/xorg/Xorg (1002) Xorg<br>
/usr/bin/dbus-daemon (862) dbus-daemon<br>
/usr/bin/dbus-daemon (1321) dbus-daemon<br>
/usr/lib/at-spi2-core/at-spi-bus-launcher (1328) dbus-daemon<br>
/usr/bin/dbus-daemon (1582) dbus-daemon<br>
/usr/bin/dbus-daemon (1610) dbus-daemon<br>
/usr/lib/x86_64-linux-gnu/xfce4/xfconf/xfconfd (1632) dbus-daemon<br>
/usr/lib/at-spi2-core/at-spi-bus-launcher (1679) dbus-daemon<br>
/usr/bin/dbus-daemon (1749) dbus-daemon<br>
/usr/lib/systemd/systemd (1452) init-systemd<br>
/usr/lib/systemd/systemd (1651) init-systemd<br>
/usr/sbin/rsyslogd (869) rsyslogd<br>
/usr/bin/tor (1027) system_tor<br>
11 processes are in complain mode.<br>
/usr/bin/python3.7 (2210) /usr/bin/sdwdate<br>
/usr/bin/dash (2297) /usr/bin/sdwdate<br>
/usr/bin/sleep (2298) /usr/bin/sdwdate<br>
/usr/bin/python3.7 (2706) /usr/bin/sdwdate<br>
/usr/bin/python3.7 (2736) /usr/bin/sdwdate<br>
/usr/sbin/dnsmasq (985)<br>
/usr/sbin/dnsmasq (1185)<br>
/usr/sbin/dnsmasq (1325)<br>
/usr/sbin/dnsmasq (1327)<br>
/usr/sbin/avahi-daemon (871) avahi-daemon<br>
/usr/sbin/avahi-daemon (936) avahi-daemon<br>
0 processes are unconfined but have a profile defined.</p>
<p><strong>Apparmor-info gives these new denied(s):</strong></p>
<p>sudo bash ‘/home/user/Downloads/apparmor-info.bash’<br>
AVC apparmor=“DENIED” operation=“file_receive” profile=“dbus-daemon” name="/run/systemd/inhibit/2.ref" comm=“dbus-daemon” requested_mask=“w” denied_mask=“w”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/var/lib/lightdm/.Xauthority" comm=“at-spi-bus-laun” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/var/lib/lightdm/.cache/dconf/user" comm=“at-spi-bus-laun” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/var/lib/lightdm/.cache/dconf/user" comm=“at-spi-bus-laun” requested_mask=“wrc” denied_mask=“wrc”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/var/lib/lightdm/.cache/dconf/user" comm=64636F6E6620776F726B6572 requested_mask=“wrc” denied_mask=“wrc”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/proc/1348/fd/" comm=“at-spi-bus-laun” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/bin/dbus-daemon" comm=“at-spi-bus-laun” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/gvfs/gvfsd" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.cache/dconf/user" comm=“at-spi-bus-laun” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/home/user/.cache/dconf/user" comm=“at-spi-bus-laun” requested_mask=“wrc” denied_mask=“wrc”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/home/user/.cache/dconf/user" comm=64636F6E6620776F726B6572 requested_mask=“wrc” denied_mask=“wrc”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/proc/1698/fd/" comm=“at-spi-bus-laun” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/x86_64-linux-gnu/xfce4/notifyd/xfce4-notifyd" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“open” profile=“init-systemd” name="/sys/class/" comm=“systemd-logind” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/gvfs/gvfs-udisks2-volume-monitor" comm=“dbus-daemon” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/etc/xdg/tumbler/tumbler.rc" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/home/user/.cache/gstreamer-1.0/registry.x86_64.bin" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/proc/2850/fd/" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“exec” profile=“dbus-daemon” name="/usr/lib/x86_64-linux-gnu/gstreamer1.0/gstreamer-1.0/gst-plugin-scanner" comm=“tumblerd” requested_mask=“x” denied_mask=“x”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/sys/devices/system/node/" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/dev/" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.cache/gstreamer-1.0/registry.x86_64.bin.tmpKW3EW0" comm=“tumblerd” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mknod” profile=“dbus-daemon” name="/home/user/.cache/gstreamer-1.0/registry.x86_64.bin.tmpYZ3EW0" comm=“tumblerd” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/thumbnailers/" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/usr/share/gvfs/remote-volume-monitors/" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/proc/2847/mountinfo" comm=“gmain” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/etc/fstab" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/proc/2847/mountinfo" comm=“tumblerd” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“mkdir” profile=“dbus-daemon” name="/run/sdwdate-gui/.cache/dconf/" comm=“at-spi-bus-laun” requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“mkdir” profile=“dbus-daemon” name="/run/sdwdate-gui/.cache/dconf/" comm=64636F6E6620776F726B6572 requested_mask=“c” denied_mask=“c”<br>
AVC apparmor=“DENIED” operation=“open” profile=“dbus-daemon” name="/proc/4337/fd/" comm=“at-spi-bus-laun” requested_mask=“r” denied_mask=“r”<br>
AVC apparmor=“DENIED” operation=“open” profile="/**/*-browser/Browser/firefox" name="/proc/4389/cgroup" comm=“firefox.real” requested_mask=“r” denied_mask=“r”</p>
<p><strong>sdwdate-gui is still looping after downloading testing repo update as of this post. I noticed there is some sdwdate items in complain mode.  I would try to diagnose this myself but I’m still learning app-armor and its functionality.</strong></p>
<p><strong>Looks like whatever update I did it broke DEVICES within File Manager where my USB drives nor my additional sata drives do NOT show up as an available drive to mount.</strong></p>
<p><strong>What is displayed now is File System, File System root, boot, and cdrom0 whereas I had a couple sata drives show up as well as USB drives such as a flash drive and an WD external drive.</strong></p>
<p>I have tested Whonix-Gateway and Whonix-Workstation with apparmor-profile-everything but we won’t get ahead of ourselves.</p>
<p>Thanks,<br>
sudobash</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="10381.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-26T09:09:11Z' class='post-time'>
                December 26, 2020,  9:09am
              </time>
              <meta itemprop='dateModified' content='2020-12-26T09:09:11Z'>
          <span itemprop='position'>#42</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>One thing about that is confusing:</p>
<ul>
<li>now for those enabled persistent systemd journal log and</li>
<li>Qubes users (shows systemd journal messages from previous boot in TemplateVM)</li>
<li>in future in Debian bullseye and above when Debian enables persistent systemd journal log by default</li>
</ul>
<p>are shows DENIED messages from any previous boot. (As far back as systemd journal log goes.)</p>
<p>Should we add parameter <code>--boot</code> to <code>journalctl</code> in <code>apparmor-info</code> by default? Or should we have two different wrappers? One with <code>--boot</code> and one without?</p>
<ul>
<li>
<code>apparmor-info-all-boots</code> (not using <code>--boot</code>)</li>
<li>
<code>apparmor-info-current-boot</code> (using <code>--boot</code>)</li>
</ul>
<p>Meanwhile one can manually run</p>
<pre><code>sudo apparmor-info --boot
</code></pre>
<p>which results in showing apparmor messages cor current boot only.</p>
<p>References:</p>
<ul>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/Troubleshooting#Enable_Persistent_Systemd_Journal_Log">https://www.whonix.org/wiki/Troubleshooting#Enable_Persistent_Systemd_Journal_Log</a></li>
<li><a href="../../../external.html?link=https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=801906">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=801906</a></li>
</ul>
<hr>
<p>For now <code>apparmor-info</code> shows only <code>DENIED</code> messages. Objections against adding <code>ALLOWED</code> messages too? We need to see these too so these profiles can be fixed too.<br>
(These aren’t operations which where actually allowed. That would be too many. In apparmor profile enforce mode, these are <code>DENIED</code> while in complain mode these are <code>ALLOWED</code>. )<br>
(Apparmor should have probably named these <code>COMPLAIN</code> in logs instead of <code>ALLOWED</code>. Would be less confusing.)</p>
        </div>

        <meta itemprop='headline' content='Full System AppArmor Policy - Testers Wanted!'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="10381.html">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="103819ba9.html?page=3">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
