<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Did something happen to the 9.2 repo?</title>
    <link>http://forums.whonix.org/t/did-something-happen-to-the-9-2-repo/675</link>
    <description>I just started to do final testing on the Qubes build and all of a sudden I am now getting build errors which I was not getting a few days ago.

I am using [font=courier]9.2[/font], the latest tag available at [font=courier]https://github.com/Whonix/Whonix.git[/font].  There are o 9.3 or 9.4 tags there to build against.

I do not believe I have changed any code locally related to Whonix directly and have not changed the tag I am building against but am now getting this error:

[code]
+ for item in &#39;$list&#39;
+ &#39;[&#39; &#39;!&#39; -d /home/user/Whonix/packages/anon-gw-build-upgrade-tor &#39;]&#39;
+ cd /home/user/Whonix/packages/anon-gw-build-upgrade-tor
+ &#39;[&#39; &#39;&#39; = true &#39;]&#39;
+ sudo -E -u user make deb-pkg
sudo: unable to resolve host development-qubes
./make-helper.bsh deb-pkg 
+ &#39;[&#39; -f /usr/lib/pre.bsh &#39;]&#39;
+ set -e
+ set -o pipefail
+ cd .
+ mydir=anon-gw-build-upgrade-tor
+ parse_cmd deb-pkg
+ local matched=false
+ :
+ case $1 in
+ matched=true
+ deb=true
+ shift
+ :
+ case $1 in
+ break
+ &#39;[&#39; &#39;!&#39; true = true &#39;]&#39;
+ &#39;[&#39; true = true &#39;]&#39;
+ make_deb-pkg
+ debuild_maybe_unsigned_opts=&#39;-us -uc&#39;
+ make_deb-pkg_helper
+ make_dist
+ get_variables
+ local temp
+ command -v dpkg-parsechangelog
+ OIFS=&#39; 	
&#39;
+ NIFS=&#39;
&#39;
+ IFS=&#39;
&#39;
++ dpkg-parsechangelog
+ for line in &#39;$(dpkg-parsechangelog)&#39;
+ IFS=&#39; 	
&#39;
+ read -r first second _
+ first=source:
+ &#39;[&#39; source: = version: &#39;]&#39;
+ for line in &#39;$(dpkg-parsechangelog)&#39;
+ IFS=&#39; 	
&#39;
+ read -r first second _
+ first=version:
+ &#39;[&#39; version: = version: &#39;]&#39;
+ changelog_version=3:0.3-1
+ revision=1
+ temp=3:0.3
+ version=0.3
+ epoch=3
+ break
+ IFS=&#39; 	
&#39;
+ &#39;[&#39; 0.3 = &#39;&#39; &#39;]&#39;
+ main_package_name=anon-gw-build-upgrade-tor
+ &#39;[&#39; anon-gw-build-upgrade-tor = &#39;&#39; &#39;]&#39;
+ main_deb_file=../anon-gw-build-upgrade-tor_0.3-1_all.deb
+ local grep_output line a package
++ grep Package: debian/control
+ grep_output=&#39;Package: anon-gw-build-upgrade-tor&#39;
+ package_list=anon-gw-build-upgrade-tor
+ OIFS=&#39; 	
&#39;
+ NIFS=&#39;
&#39;
+ IFS=&#39;
&#39;
+ for line in &#39;$grep_output&#39;
+ IFS=&#39; 	
&#39;
+ read a package _
+ &#39;[&#39; anon-gw-build-upgrade-tor = anon-gw-build-upgrade-tor &#39;]&#39;
+ continue
+ IFS=&#39; 	
&#39;
+ shopt -s globstar dotglob
+ touch -t 201308151102.35 ./debian
+ touch -t 201308151102.35 ./debian/ ./debian/changelog ./debian/compat ./debian/control ./debian/copyright ./debian/gain-root-command ./debian/rules ./debian/source ./debian/source/format ./debian/watch
+ shopt -u globstar dotglob
+ rm --force ../anon-gw-build-upgrade-tor_0.3.orig.tar.gz
+ git archive --format=tar HEAD --prefix=anon-gw-build-upgrade-tor-0.3/
+ gzip -n
fatal: Not a git repository: /home/user/qubes-builder/qubes-src/Whonix/.git/modules/packages/anon-gw-build-upgrade-tor
make: *** [deb-pkg] Error 128
++ error_handler_general
++ error_handler_shared
++ last_exit_code=2
++ last_bash_command=&#39;sudo -E -u &quot;$user_name&quot; make deb-pkg&#39;
++ &#39;[&#39; test -o xtrace = 0 &#39;]&#39;
++ set +x
ERROR in pre detected!
Please have a look above &quot;error_handler_general&quot;, note the command that failed, its output and last_exit_code.
- Please enter c and press enter to ignore the error and continue building. (Recommended against!)
- Please press s and enter to open an chroot interactive shell.
- Please press enter to cleanup and exit. c
++ &#39;[&#39; false = true &#39;]&#39;
+++ caller
++ last_caller=&#39;128 pre&#39;
++ last_script=pre
++ error_handler_exit
++ &#39;[&#39; true = true &#39;]&#39;
++ abort_or_continue=Continue
++ true &#39;
############################################################
ERROR in pre detected! Continue!
(benchmark: 00:01:56)
BASH_COMMAND: sudo -E -u &quot;$user_name&quot; make deb-pkg
last_exit_code: 2
caller: 128 pre
ERROR in pre! Continue!
############################################################
[/code]</description>
    <language>en</language>
    <lastBuildDate>Wed, 12 Nov 2014 16:52:38 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/did-something-happen-to-the-9-2-repo/675.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Did something happen to the 9.2 repo?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Just now pushed the 9.3 (stable) and 9.4 (testers-only, probably soon stable). Should now be available.</p>
<p>[hr]</p>
<p>When you go into that anon-gw-build-upgrade-tor folder, you likely also would not be able to run “git status”. For some reason git is not in that folder or broken.</p>
<p>Dunno why this could happen. Never happened to me. Eventually an issue with file system permissions? Can you check “sudo ls -la” in that folder? Perhaps the Qubes script and/or Whonix build script messed up permissions or did run stuff under the wrong user?</p>
<p>What does “git status” in the main source folder say?</p>
<p>The easiest would be to delete that folder.</p>
<pre><code class="lang-auto"></code></pre>
<p>Then get that submodule again.</p>
<pre><code class="lang-auto"></code></pre>
          <p><a href="http://forums.whonix.org/t/did-something-happen-to-the-9-2-repo/675/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/did-something-happen-to-the-9-2-repo/675/2</link>
        <pubDate>Wed, 12 Nov 2014 16:52:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-675-2</guid>
        <source url="http://forums.whonix.org/t/did-something-happen-to-the-9-2-repo/675.rss">Did something happen to the 9.2 repo?</source>
      </item>
      <item>
        <title>Did something happen to the 9.2 repo?</title>
        <dc:creator><![CDATA[nrgaway]]></dc:creator>
        <description><![CDATA[
            <p>I just started to do final testing on the Qubes build and all of a sudden I am now getting build errors which I was not getting a few days ago.</p>
<p>I am using [font=courier]9.2[/font], the latest tag available at [font=courier]<a href="https://github.com/Whonix/Whonix.git%5B/font%5D" rel="nofollow noopener">https://github.com/Whonix/Whonix.git[/font]</a>.  There are o 9.3 or 9.4 tags there to build against.</p>
<p>I do not believe I have changed any code locally related to Whonix directly and have not changed the tag I am building against but am now getting this error:</p>
<pre><code class="lang-auto">+ for item in '$list'
+ '[' '!' -d /home/user/Whonix/packages/anon-gw-build-upgrade-tor ']'
+ cd /home/user/Whonix/packages/anon-gw-build-upgrade-tor
+ '[' '' = true ']'
+ sudo -E -u user make deb-pkg
sudo: unable to resolve host development-qubes
./make-helper.bsh deb-pkg 
+ '[' -f /usr/lib/pre.bsh ']'
+ set -e
+ set -o pipefail
+ cd .
+ mydir=anon-gw-build-upgrade-tor
+ parse_cmd deb-pkg
+ local matched=false
+ :
+ case $1 in
+ matched=true
+ deb=true
+ shift
+ :
+ case $1 in
+ break
+ '[' '!' true = true ']'
+ '[' true = true ']'
+ make_deb-pkg
+ debuild_maybe_unsigned_opts='-us -uc'
+ make_deb-pkg_helper
+ make_dist
+ get_variables
+ local temp
+ command -v dpkg-parsechangelog
+ OIFS=' 	
'
+ NIFS='
'
+ IFS='
'
++ dpkg-parsechangelog
+ for line in '$(dpkg-parsechangelog)'
+ IFS=' 	
'
+ read -r first second _
+ first=source:
+ '[' source: = version: ']'
+ for line in '$(dpkg-parsechangelog)'
+ IFS=' 	
'
+ read -r first second _
+ first=version:
+ '[' version: = version: ']'
+ changelog_version=3:0.3-1
+ revision=1
+ temp=3:0.3
+ version=0.3
+ epoch=3
+ break
+ IFS=' 	
'
+ '[' 0.3 = '' ']'
+ main_package_name=anon-gw-build-upgrade-tor
+ '[' anon-gw-build-upgrade-tor = '' ']'
+ main_deb_file=../anon-gw-build-upgrade-tor_0.3-1_all.deb
+ local grep_output line a package
++ grep Package: debian/control
+ grep_output='Package: anon-gw-build-upgrade-tor'
+ package_list=anon-gw-build-upgrade-tor
+ OIFS=' 	
'
+ NIFS='
'
+ IFS='
'
+ for line in '$grep_output'
+ IFS=' 	
'
+ read a package _
+ '[' anon-gw-build-upgrade-tor = anon-gw-build-upgrade-tor ']'
+ continue
+ IFS=' 	
'
+ shopt -s globstar dotglob
+ touch -t 201308151102.35 ./debian
+ touch -t 201308151102.35 ./debian/ ./debian/changelog ./debian/compat ./debian/control ./debian/copyright ./debian/gain-root-command ./debian/rules ./debian/source ./debian/source/format ./debian/watch
+ shopt -u globstar dotglob
+ rm --force ../anon-gw-build-upgrade-tor_0.3.orig.tar.gz
+ git archive --format=tar HEAD --prefix=anon-gw-build-upgrade-tor-0.3/
+ gzip -n
fatal: Not a git repository: /home/user/qubes-builder/qubes-src/Whonix/.git/modules/packages/anon-gw-build-upgrade-tor
make: *** [deb-pkg] Error 128
++ error_handler_general
++ error_handler_shared
++ last_exit_code=2
++ last_bash_command='sudo -E -u "$user_name" make deb-pkg'
++ '[' test -o xtrace = 0 ']'
++ set +x
ERROR in pre detected!
Please have a look above "error_handler_general", note the command that failed, its output and last_exit_code.
- Please enter c and press enter to ignore the error and continue building. (Recommended against!)
- Please press s and enter to open an chroot interactive shell.
- Please press enter to cleanup and exit. c
++ '[' false = true ']'
+++ caller
++ last_caller='128 pre'
++ last_script=pre
++ error_handler_exit
++ '[' true = true ']'
++ abort_or_continue=Continue
++ true '
############################################################
ERROR in pre detected! Continue!
(benchmark: 00:01:56)
BASH_COMMAND: sudo -E -u "$user_name" make deb-pkg
last_exit_code: 2
caller: 128 pre
ERROR in pre! Continue!
############################################################</code></pre>
          <p><a href="http://forums.whonix.org/t/did-something-happen-to-the-9-2-repo/675/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/did-something-happen-to-the-9-2-repo/675/1</link>
        <pubDate>Wed, 12 Nov 2014 15:20:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-675-1</guid>
        <source url="http://forums.whonix.org/t/did-something-happen-to-the-9-2-repo/675.rss">Did something happen to the 9.2 repo?</source>
      </item>
  </channel>
</rss>
