<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
    <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952</link>
    <description>&lt;small&gt;Originally published at:			https://www.whonix.org/blog/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14
		&lt;/small&gt;&lt;br&gt;Qubes-Whonix 14 testers-only. Upgrades are possible.

&lt;a href=&quot;https://www.whonix.org/wiki/Upgrading_Whonix_13_to_Whonix_14&quot;&gt;https://www.whonix.org/wiki/Upgrading_Whonix_13_to_Whonix_14&lt;/a&gt;

Qubes-Whonix 14 downloadable TemplateVMs will be released later.</description>
    <language>en</language>
    <lastBuildDate>Fri, 22 Jun 2018 04:04:23 +0000</lastBuildDate>
    <category>News</category>
    <atom:link href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Besides the known bugs on the Whonix and Qubes issue trackers, this should be ready as stable Whonix 14 release. Only waiting for new Qubes templates to be built and tested before the Whonix 14 release will be made.</p>
<p><a href="https://www.whonix.org/wiki/Upgrading_Whonix_13_to_Whonix_14" class="onebox" target="_blank">https://www.whonix.org/wiki/Upgrading_Whonix_13_to_Whonix_14</a></p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/23</link>
        <pubDate>Fri, 22 Jun 2018 04:04:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-23</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote quote-modified" data-post="1" data-topic="5348">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar">
    <a href="https://forums.whonix.org/t/whonix-14-will-be-a-rolling-distribution/5348">Whonix 14 will be a rolling distribution</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    I am giving up trying to provide a stable and testers-only version. 
Whonix 13 is too outdated now. Still on jessie. 
I was trying to deliver a perfect Whonix 14 version, but this wish for perfection comes at a price that it takes too long. Upgraded package versions are currently of a much higher importance than minor outstanding bugs like “Connecting to Tor.”, “Connected to Tor.” passive popups no longer working in Whonix 14. 
It’s too much maintenance burden to maintain a stable version for lo…
  </blockquote>
</aside>

<aside class="quote quote-modified" data-post="1" data-topic="5111">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/whonix-14-release-blockers-status-of-whonix-14-development/5111">Whonix 14 release blockers - status of Whonix 14 development</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Related -&gt; Qubes-Whonix 14 Salt Issue 
I presume the anon-vm tag and salt issues for configuration / downloading of new Whonix 14 templates are the only blockers for Qubes-Whonix 14. 
Since the salt issue has stalled, it might be helped along by this individual below (vic viq), who claims to be a salt expert and has put his hand up to help in the qubes-devel forums during the last week -&gt; 
https://groups.google.com/forum/?_escaped_fragment_=topic/qubes-devel/EfQCiYcnc4g#!topic/qubes-devel/EfQCiY…
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/22</link>
        <pubDate>Fri, 22 Jun 2018 02:54:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-22</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>iry:</p>
<blockquote>
<aside class="quote" data-post="15" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<blockquote>
<p>anon-connection-wizard becomes a dependency of whonixsetup now</p>
</blockquote>
<p>Could be resolved by moving the shared cli-only code to whonixsetup or better anon-shared-helper scripts for Whonix 15.</p>
</blockquote>
</aside>
<p>I was thinking about this. But it seems this will make both whonixsetup and anon-connection-wizard depends on <code>anon-shared-helper scripts</code>.</p>
</blockquote>
<p>True.</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/21</link>
        <pubDate>Sun, 25 Mar 2018 06:22:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-21</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[iry]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="16" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>This is now covered in upgrade documentation.</p>
<p><a href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_13_to_Whonix_14&amp;type=revision&amp;diff=33401&amp;oldid=33234">https://www.whonix.org/w/index.php?title=Upgrading_Whonix_13_to_Whonix_14&amp;type=revision&amp;diff=33401&amp;oldid=33234</a></p>
<p>Please test.</p>
</blockquote>
</aside>
<p>Tested in the Whonix-Gateway Template VM.</p>
<p>The problem has been fixed after adopting the steps in the instructions. Thank you, <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> !</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/20</link>
        <pubDate>Sat, 24 Mar 2018 17:25:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-20</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[iry]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="15" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<blockquote>
<p>anon-connection-wizard becomes a dependency of whonixsetup now</p>
</blockquote>
<p>Could be resolved by moving the shared cli-only code to whonixsetup or better anon-shared-helper scripts for Whonix 15.</p>
</blockquote>
</aside>
<p>I was thinking about this. But it seems this will make both whonixsetup and anon-connection-wizard depends on <code>anon-shared-helper scripts</code>.</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/19</link>
        <pubDate>Sat, 24 Mar 2018 17:17:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-19</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="9" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/i/c5a1d2/40.png" class="avatar"> iry:</div>
<blockquote>
<p>More accurate approach to detect if Tor is connected to the Tor network</p>
</blockquote>
</aside>
<p>Generally it’s good to have code to check these things.</p>
<p>Could you please grep all of Whonix code to see how <code>check_tor_enabled_do</code> is used? It’s used multiple times. Changing it could break various things. Would require a rebuild of Whonix and test.</p>
<p><code>check_tor_enabled_do</code> is a bad function name chosen by me back then. It’s more like <code>check_tor_networking_enabling_in_config_do</code> and specific as that.</p>
<blockquote>
<ul>
<li>Q: Can we say Tor is not enabled just because its control port does not exit?</li>
</ul>
<ul>
<li>
<pre><code> file_name_list+=" "
</code></pre>
</li>
</ul>
<ul>
<li>if [ ! -e “/var/run/tor/control” ]; then</li>
<li>
<pre><code> TOR_ENABLED="1"
</code></pre>
</li>
<li>
<pre><code> return 0
</code></pre>
fi<br>
fi</li>
</ul>
</blockquote>
<p>Not in that function <code>check_tor_enabled_do</code>. Config might be <code>DisableNetwork 0</code> but but some other error prevents Tor from starting. Then whonixcheck would advice to run Whonix Setup to enable Tor but this is not really the issue.</p>
<blockquote>
<p>socat - UNIX-CONNECT:/var/run/tor/control &lt; &lt;(echo $command_auth;echo $command_get_conf; echo $command_quit) | grep “250 DisableNetwork=0”</p>
</blockquote>
<p>This needs to be protected by <code>timeout</code>. Please refer to other uses of <code>timeout</code> in Whonix source code. Also needs exit code checking since likely to exit non-zero in error case.</p>
<p>Maybe a new separate whonixcheck test in the appropriate order? There are quiet a few check_tor_… tests already.</p>
<ul>
<li><a href="https://github.com/Whonix/whonixcheck/tree/master/usr/lib/whonixcheck">https://github.com/Whonix/whonixcheck/tree/master/usr/lib/whonixcheck</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/18</link>
        <pubDate>Sat, 24 Mar 2018 08:06:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-18</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="4" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/i/c5a1d2/40.png" class="avatar"> iry:</div>
<blockquote>
<p>These two commands seems inflexibly related to the name of two VMs:</p>
<p>sudo qubesctl state.sls qvm.anon-whonix</p>
<p>sudo qubesctl state.sls qvm.updates-via-whonix</p>
</blockquote>
</aside>
<p>Yes, it’s hardcoded.</p>
<p><a href="https://github.com/QubesOS/qubes-mgmt-salt-dom0-virtual-machines/tree/master/qvm">https://github.com/QubesOS/qubes-mgmt-salt-dom0-virtual-machines/tree/master/qvm</a></p>
<aside class="quote" data-post="4" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/i/c5a1d2/40.png" class="avatar"> iry:</div>
<blockquote>
<p>Should people who use Whonix in Qubes always have anon-whonix and sys-whonix?</p>
</blockquote>
</aside>
<p>Easy answer for 99,9% of users: Yes.</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/17</link>
        <pubDate>Sat, 24 Mar 2018 07:49:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-17</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote">
<blockquote>
<p>I also had this experience on Qubes upgrade - both in 3.2 and 4.</p>
<p>As stated, systemctl status whonix-firewall shows it is masked.</p>
<p>Removing the mask and enabling the service in the template allows sys-whonix to start as expected.</p>
<p>It whonix-firewall.service shouldn’t be masked to begin with. That might</p>
<p>be the root cause. I wonder what I masking it.</p>
<p>There was a migration from package whonix-gw-firewall /</p>
<p>whonix-ws-firewall to whonix-firewall package:</p>
<p><a href="https://github.com/Whonix/whonix-firewall/blob/master/lib/systemd/system/whonix-firewall.service">https://github.com/Whonix/whonix-firewall/blob/master/lib/systemd/system/whonix-firewall.service</a></p>
</blockquote>
</aside>
<p>I have an idea now why this might be happening.</p>
<p>First whonix-firewall (new merged package) gets installed. Then either whonix-gw-firewall or whonix-ws-firewall package (old separate package) gets autoremoved. The latter may be running the prerm / postrm Debian maintainer scripts which disables systemd. Could be a bug in the Debian package migration process.</p>
<p>This is now covered in upgrade documentation.</p>
<p><a href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_13_to_Whonix_14&amp;type=revision&amp;diff=33401&amp;oldid=33234">https://www.whonix.org/w/index.php?title=Upgrading_Whonix_13_to_Whonix_14&amp;type=revision&amp;diff=33401&amp;oldid=33234</a></p>
<p>Please test.</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/16</link>
        <pubDate>Sat, 24 Mar 2018 07:45:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-16</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="13" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/i/c5a1d2/40.png" class="avatar"> iry:</div>
<blockquote>
<p>Fixed by switching to another implementation. Not sure if this is a good idea. <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<aside class="quote" data-post="13" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/i/c5a1d2/40.png" class="avatar"> iry:</div>
<blockquote>
<p>Use set_enabled() and set_disabled() instead</p>
</blockquote>
</aside>
<p>This is very clever, very good!</p>
<aside class="quote" data-post="13" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/i/c5a1d2/40.png" class="avatar"> iry:</div>
<blockquote>
<p>The disadvantages are as follows:</p>
<p>anon-connection-wizard becomes a dependency of whonixsetup now</p>
</blockquote>
</aside>
<p>Could be resolved by moving the shared cli-only code to whonixsetup or better anon-shared-helper scripts for Whonix 15.</p>
<p>(“shared cli-only code” roughly defined:</p>
<ul>
<li>just doing “cli stuff” (systemd, config files)</li>
<li>no gui dependencies)</li>
</ul>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/15</link>
        <pubDate>Sat, 24 Mar 2018 07:34:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-15</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="12" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/i/c5a1d2/40.png" class="avatar"> iry:</div>
<blockquote>
<p>This may cause whonixcheck has different result from what Tor is really using (like what happened to unman, whonixcheck complains about Tor is disabled while Tor works fine. )</p>
</blockquote>
</aside>
<p>It didn’t happen to unman as far as I understand. It’s not what he reported.</p>
<aside class="quote" data-post="7" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/u/d78d45/40.png" class="avatar"> unman:</div>
<blockquote>
<p>I found that in 4.0rc5 whonixcheck in sys-whonix reports that Tor is disabled, although systemctl status shows it is running.</p>
<p>Trying to enable using whonixsetup results in error 0 unable to add “DisableNetwork 0” to /usr/local/etc/torrc.d/40_anon_connection_wizard.conf.</p>
<p>Indeed that file does not exist, although 95_whonix.conf does in same location.</p>
</blockquote>
</aside>
<p>The report is a mismatch between Tor enabled and Tor systemd running status. They are related. Sound the same rationally but are different on technical level. That is causing confusion.</p>
<p>Bug:</p>
<ul>
<li>
<a href="https://github.com/Whonix/whonixcheck/blob/master/usr/lib/whonixcheck/check_tor_enabled.bsh">https://github.com/Whonix/whonixcheck/blob/master/usr/lib/whonixcheck/check_tor_enabled.bsh</a> should include debugging information (something like “Debugging Information: DisableNetwork 0 is set in …” similar to other such “debugging information” messages)</li>
<li><a href="https://phabricator.whonix.org/T456">https://phabricator.whonix.org/T456</a></li>
</ul>
<p>I would prefer to keep the parsing code as is:</p>
<ul>
<li>hopefully soon enough whole torrc.d gets parsed</li>
<li>we could even call it a bug calling the folder .d if not all of it gets parsed but we also don’t want to change implementation too much back and forth to finally get the release out</li>
<li>simply ignoring config files not parsed here that would disable Tor if above bug didn’t exist also seems bad</li>
</ul>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/14</link>
        <pubDate>Sat, 24 Mar 2018 07:17:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-14</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[iry]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-post="11" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>If /usr/local/etc/torrc.d/40_anon_connection_wizard.conf exists but does</p>
<p>not include <span class="hashtag">#DisableNetwork</span> 0, then ed -s /usr/local/etc/torrc.d/40_anon_connection_wizard.conf […]  will fail.</p>
<p>Please fix.</p>
</blockquote>
</aside>
<p>Fixed by switching to another implementation. Not sure if this is a good idea. <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p><a href="https://github.com/Whonix/whonixsetup/pull/1" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/Whonix/whonixsetup/pull/1</a></p>
<p>When parsing the torrc file, we switch from command line flavor to using the python functions availabed in anon_connection_wizard package.</p>
<p>The <strong>advantages</strong> are as follows:</p>
<ol>
<li>Better consistency with anon_connection_wizard style parsing</li>
</ol>
<p>While the command line flavor parsing comments (out) <code>#DisableNetwork 0</code>, anon_connection_wizard writes <code>DisableNetwork 0</code> or <code>DisableNetwork 1</code> to 40_connection_wizard.conf . This can be a issue when user uses both anon-connection-wizard and whonixsetup for at least once. Using the same implementation will aviod the inconsistency.</p>
<ol start="2">
<li>More robust in handling different cases</li>
</ol>
<p>Considering the inconsistency descriped above, the command line flavor parsing was not robust enough. For example, it will assume the final value in anon_connection_wizard.conf is 0 right after it sees a <code>DisableNetwork 0</code> line. This will ignore the case where there is also a <code>DisableNetwork 1</code> line after it.</p>
<ol start="3">
<li>Lower maintanance cost</li>
</ol>
<p>It allows us to only maintance one piece of code.</p>
<ol start="4">
<li>Simplified the logic in the bash script</li>
</ol>
<p>The <strong>disadvantages</strong> are as follows:</p>
<ol>
<li>anon-connection-wizard becomes a dependency of whonixsetup now</li>
</ol>
<p>However, since whonixsetup should be installed in both Whonox-Gateway and Whonox-Workstation, but anon-connection-wizard should NOT be installed in Whonix-Worksatation, we cannot claim the dependency in Debian control.</p>
<ol start="2">
<li>Less error info in CLI</li>
</ol>
<p>The error happens in the python function may not be well-reflected to the CLI which is seen by user. For example, user may only know the attempt to enable Tor failed, but does not know if the problem is because of the missing of anon_connection_wizard package or anything else.</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/13</link>
        <pubDate>Sat, 24 Mar 2018 05:06:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-13</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[iry]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="10" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I don’t think this is good. Why should we parse fewer files there?</p>
</blockquote>
</aside>
<p>Because I was thinking since Whonix 14 is not really using <code>%include directory</code> feature by default, parsing all the files will also parse those are not actually used by Tor. This may cause whonixcheck has different result from what Tor is really using (like what happened to unman, whonixcheck complains about Tor is disabled while Tor works fine. )</p>
<p>For example, if there is a file called <code>60_xx.conf</code> or <code>50_user.conf~</code> which contains an option <code>DisableNetwork 1</code>. The files are never used by Tor but they will be  parsed by whonixcheck and then whonixcheck think Tor is disabled.</p>
<aside class="quote" data-post="10" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>it should be fixed so it would still generically parse all files.</p>
</blockquote>
</aside>
<p>I agree that we should generically parse all the files but maybe only after Whonix really supports <code>%include directory</code> by default?</p>
<p>At that time, I can do a PR to parse all the files ends with <code>.conf</code> .</p>
<p>How do you like this idea?</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/12</link>
        <pubDate>Sat, 24 Mar 2018 01:32:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-12</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>unman:</p>
<blockquote>
<p>I also had this experience on Qubes upgrade - both in 3.2 and 4.<br>
As stated, <code>systemctl status whonix-firewall</code> shows it is masked.<br>
Removing the mask and enabling the service in the template allows sys-whonix to start as expected.</p>
</blockquote>
<p>It whonix-firewall.service shouldn’t be masked to begin with. That might<br>
be the root cause. I wonder what I masking it.</p>
<p>There was a migration from package whonix-gw-firewall /<br>
whonix-ws-firewall to whonix-firewall package:</p>
<p><a href="https://github.com/Whonix/whonix-firewall/blob/master/lib/systemd/system/whonix-firewall.service">https://github.com/Whonix/whonix-firewall/blob/master/lib/systemd/system/whonix-firewall.service</a></p>
<blockquote>
<p>(Question - is this the right thing to do?</p>
</blockquote>
<p>Maybe an ok workaround for testing but not the right fix.</p>
<blockquote>
<p>Or is there service that will run in sys-whonix that will unmask and enable?)</p>
</blockquote>
<p>No such services in Debian. Not a usual way to do things in Debian.</p>
<blockquote>
<p>N.B Because the service is initially masked,</p>
</blockquote>
<blockquote>
<p>whonixcheck takes a loooong time to produce any output.</p>
</blockquote>
<p>There is code to wait up to 30 seconds to avoid race conditions.</p>
<p><a href="https://github.com/Whonix/whonixcheck/blob/master/usr/lib/whonixcheck/check_services.bsh#L93">https://github.com/Whonix/whonixcheck/blob/master/usr/lib/whonixcheck/check_services.bsh#L93</a></p>
<blockquote>
<p>Once this is fixed, sys-whonix started with firewall enabled and running.</p>
<p>I found that in 4.0rc5 whonixcheck in sys-whonix reports that Tor is disabled, although <code>systemctl status</code> shows it is running.</p>
</blockquote>
<p>Not related to systemctl status.</p>
<p>This check:<br>
<a href="https://github.com/Whonix/whonixcheck/blob/master/usr/lib/whonixcheck/check_tor_enabled.bsh">https://github.com/Whonix/whonixcheck/blob/master/usr/lib/whonixcheck/check_tor_enabled.bsh</a></p>
<p>Backend:<br>
<a href="https://github.com/Whonix/anon-shared-helper-scripts/blob/master/usr/lib/anon-shared-helper-scripts/tor_enabled_check">https://github.com/Whonix/anon-shared-helper-scripts/blob/master/usr/lib/anon-shared-helper-scripts/tor_enabled_check</a></p>
<blockquote>
<p>Trying to enable using whonixsetup results in <code>error 0 unable to add "DisableNetwork 0" to /usr/local/etc/torrc.d/40_anon_connection_wizard.conf</code>.</p>
</blockquote>
<p>really whonixsetup?</p>
<p>whonixsetup refers to <a href="https://github.com/Whonix/whonixsetup">https://github.com/Whonix/whonixsetup</a> CLI tool.</p>
<p>There is a bug in<br>
</p><aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/whonixsetup/blob/master/usr/lib/whonixsetup_/ft_m_1" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/whonixsetup/blob/master/usr/lib/whonixsetup_/ft_m_1" target="_blank" rel="nofollow noopener">Whonix/whonixsetup/blob/master/usr/lib/whonixsetup_/ft_m_1</a></h4>
<pre><code class="lang-">#!/bin/bash

## Copyright (C) 2012 - 2018 ENCRYPTED SUPPORT LP &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

set -x
set -o pipefail
set -o errtrace

error_handler() {
   local MSG="\
###########################################################
## Something went wrong. Please report this bug!
##
## BASH_COMMAND: $BASH_COMMAND
###########################################################\
"
   echo "$MSG"
   exit 1
}
</code></pre>

  This file has been truncated. <a href="https://github.com/Whonix/whonixsetup/blob/master/usr/lib/whonixsetup_/ft_m_1" target="_blank" rel="nofollow noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
indeed.<p></p>
<p>If /usr/local/etc/torrc.d/40_anon_connection_wizard.conf exists but does<br>
not include <code>#DisableNetwork 0</code>, then <code>ed -s /usr/local/etc/torrc.d/40_anon_connection_wizard.conf [...]</code>  will fail.<br>
Please fix.</p>
<blockquote>
<p>Indeed that file does not exist, although 95_whonix.conf <strong>does</strong> in same location.</p>
</blockquote>
<p>So it must be yet another bug. Running with <code>bash -x</code> might help to find<br>
out why it’s not created by <code>whonixsetup</code>?</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/11</link>
        <pubDate>Fri, 23 Mar 2018 13:55:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-11</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>iry:</p>
<blockquote>
<aside class="quote" data-post="7" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/u/d78d45/40.png" class="avatar"> unman:</div>
<blockquote>
<p>I found that in 4.0rc5 whonixcheck in sys-whonix reports that Tor is disabled, although systemctl status shows it is running.</p>
</blockquote>
</aside>
<p>Hi <a class="mention" href="http://forums.whonix.org/u/unman">@unman</a> ! Thank you so much for reporting the bug. I tried to fix it in this PR. Could you please help to test it, <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> ?</p>
<p><a href="https://github.com/Whonix/anon-shared-helper-scripts/pull/3">https://github.com/Whonix/anon-shared-helper-scripts/pull/3</a></p>
</blockquote>
<p>I don’t think this is good. Why should we parse fewer files there? If<br>
the code is broken, it should be fixed so it would still generically<br>
parse all files.</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/10</link>
        <pubDate>Fri, 23 Mar 2018 13:34:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-10</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[iry]]></dc:creator>
        <description><![CDATA[
            <p>ust because the torrc parsing result is <code>DisableNework 0</code> does not necessarily mean Tor is connected to the Tor network. For example:</p>
<ol>
<li>Tor process may even not start (because of a corrupted torrc option)</li>
<li>Tor process starts, but <code>DisableNetwork</code> is set to 1 through control port/socket without writing to any torrc files.</li>
</ol>
<p>This commit is an experimental demonstration on if we should talk to Tor control port directly. There are three questions need answering before adopting it:</p>
<p>Q: Can we say Tor is not enabled just because cookie does not exit?<br>
Q: Can we say Tor is not enabled just because its control port does not exit?<br>
Q: Shall we make it another check to say if Tor control socket is available?</p>
<p><a href="https://github.com/irykoon/anon-shared-helper-scripts/commit/7aa1c8db475f89a118be05f40dda277aca4ab874" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/irykoon/anon-shared-helper-scripts/commit/7aa1c8db475f89a118be05f40dda277aca4ab874</a></p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/9</link>
        <pubDate>Fri, 16 Mar 2018 23:09:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-9</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[iry]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="7" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/u/d78d45/40.png" class="avatar"> unman:</div>
<blockquote>
<p>I found that in 4.0rc5 whonixcheck in sys-whonix reports that Tor is disabled, although systemctl status shows it is running.</p>
</blockquote>
</aside>
<p>Hi <a class="mention" href="http://forums.whonix.org/u/unman">@unman</a> ! Thank you so much for reporting the bug. I tried to fix it in this PR. Could you please help to test it, <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> ?</p>
<p><a href="https://github.com/Whonix/anon-shared-helper-scripts/pull/3" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/Whonix/anon-shared-helper-scripts/pull/3</a></p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/8</link>
        <pubDate>Fri, 16 Mar 2018 20:56:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-8</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[unman]]></dc:creator>
        <description><![CDATA[
            <p>I also had this experience on Qubes upgrade - both in 3.2 and 4.<br>
As stated, <code>systemctl status whonix-firewall</code> shows it is masked.<br>
Removing the mask and enabling the service in the template allows sys-whonix to start as expected.<br>
(Question - is this the right thing to do? Or is there service that will run in sys-whonix that will unmask and enable?)</p>
<p>N.B Because the service is initially masked, whonixcheck takes a loooong time to produce any output.</p>
<p>Once this is fixed, sys-whonix started with firewall enabled and running.</p>
<p>I found that in 4.0rc5 whonixcheck in sys-whonix reports that Tor is disabled, although <code>systemctl status</code> shows it is running.<br>
Trying to enable using whonixsetup results in <code>error 0 unable to add "DisableNetwork 0" to /usr/local/etc/torrc.d/40_anon_connection_wizard.conf</code>.<br>
Indeed that file does not exist, although 95_whonix.conf <strong>does</strong> in same location.</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/7</link>
        <pubDate>Fri, 16 Mar 2018 16:09:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-7</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[iry]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="3" data-topic="4952">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/i/c5a1d2/40.png" class="avatar"> iry:</div>
<blockquote>
<p>And then, when using arm in the gateway, there were established circuits, but there were neither Internet connection nor Tor control port connection in the workstation, which was as expected.</p>
</blockquote>
</aside>
<p>It turns out every time I (re)boot up the gateway, it will complain about <code>ERROR: whonix_firewall failed to load!</code>. And I have to do a <code>sudo whonix_firewall</code> to temporarily fix it.</p>
<p>I even tried to reload the firewall in template whonix-gw (not sure if I should do that), but the problem still exists.</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/6</link>
        <pubDate>Thu, 15 Mar 2018 14:47:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-6</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[iry]]></dc:creator>
        <description><![CDATA[
            <p>All over all, the upgrading process is very smooth. The previous problem that forever waiting on <code>apt-get remove</code> also disappeared. <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>I will keep using the newly upgraded templates and report issues if I meet one.</p>
<p><strong>Great job for everybody who has been contributing to the Whonix!</strong></p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/5</link>
        <pubDate>Thu, 15 Mar 2018 02:46:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-5</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[iry]]></dc:creator>
        <description><![CDATA[
            <p>Some trivial thing about the Wiki page :<br>
<a href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Upgrading_Whonix_13_to_Whonix_14" class="onebox" target="_blank">http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Upgrading_Whonix_13_to_Whonix_14</a></p>
<p>I noticed that when using Tor Browser with media or high security level, the select code function does not work. There is no such a button anymore. What I did was double left-click my mouse to select all and the tricky thing is it actually select something like:</p>
<pre><code>\n
code
\n
</code></pre>
<p>Therefore, when I copy and paste the selected thing to the Konsole, it will actually not work the first time I do a choice on <code>[y/n]</code>.</p>
<p>This is definitely not a Whonix issue, but other testers may be aware of it now. <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<hr>
<p>These two commands seems inflexibly related to the name of two VMs:</p>
<p><code>sudo qubesctl state.sls qvm.anon-whonix</code></p>
<p><code>sudo qubesctl state.sls qvm.updates-via-whonix</code></p>
<p>Should people who use Whonix in Qubes always have <code>anon-whonix</code> and <code>sys-whonix</code>?</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/4</link>
        <pubDate>Thu, 15 Mar 2018 02:41:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-4</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[iry]]></dc:creator>
        <description><![CDATA[
            <p>And then, when using arm in the gateway, there were established circuits, but there were neither Internet connection nor Tor control port connection in the workstation, which was as expected.</p>
<p>Firewall status in gateway:</p>
<pre><code>user@host:~$ systemctl status whonix-firewall
● whonix-firewall.service
   Loaded: masked (/dev/null; bad)
   Active: inactive (dead)
user@host:~$ sudo journalctl -u whonix-firewall | cat
-- No entries --
</code></pre>
<p>Everything works fine after doing:</p>
<pre><code>user@host:~$ sudo whonix_firewall 
OK: Loading Whonix firewall...
OK: Skipping firewall mode detection since already set to 'full'.
OK: (Full torified network access allowed.)
OK: TOR_USER: 107
OK: CLEARNET_USER: 1001
OK: USER_USER: 1000
OK: ROOT_USER: 0
OK: TUNNEL_USER: 1002
OK: SDWDATE_USER: 108
OK: WHONIXCHECK_USER: 113
OK: NO_NAT_USERS:  1001 1002 107
OK: The firewall should not show any messages,
OK: besides output beginning with prefix OK:...
OK: Whonix firewall loaded.</code></pre>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/3</link>
        <pubDate>Thu, 15 Mar 2018 02:16:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-3</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[iry]]></dc:creator>
        <description><![CDATA[
            <p>I did an upgrade from Qubes-Whonix 13 -&gt; Qubes-Whonix 14:</p>
<p>After starting up the AppVM based on Whonix Workstation 14 template, along with the ProxyVM based on Whonix Gateway 14. It poped up this:</p>
<pre><code>ERROR: whonix_firewall failed to load! 

The whonix_firewall failed to load for some reason. This could be due to the firewall being mis-configured or race-condition. Try restarting the VM to see if this error persists. 

Failure file /var/run/anon-firewall/failed.status does not exist, ok. 

output of systemctl status whonix-firewall: 

######################################## 
● whonix-firewall.service
Loaded: masked (/dev/null; bad)
Active: inactive (dead) 
######################################## 

To see this for yourself... 
1. Open a terminal. (dom0 -&gt; Start Menu -&gt; ServiceVM: sys-whonix-14-test -&gt; Terminal) 
2. Run. 
systemctl status whonix-firewall

2. Also see. 
sudo journalctl -u whonix-firewall | cat

3. Try to manually start Whonix firewall. 
sudo whonix_firewall
If you know what you are doing, feel free to disable this check. Create a file /etc/whonix.d/50_whonixcheck_user.conf and add: 
whonixcheck_skip_functions+=" check_whonix_firewall_systemd_status "</code></pre>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/2</link>
        <pubDate>Thu, 15 Mar 2018 02:06:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-2</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
      <item>
        <title>Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><small>Originally published at:			<a href="https://www.whonix.org/blog/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14">https://www.whonix.org/blog/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14</a><br>
</small><br>Qubes-Whonix 14 testers-only. Upgrades are possible.</p>
<p><a href="https://www.whonix.org/wiki/Upgrading_Whonix_13_to_Whonix_14">https://www.whonix.org/wiki/Upgrading_Whonix_13_to_Whonix_14</a></p>
<p>Qubes-Whonix 14 downloadable TemplateVMs will be released later.</p>
          <p><a href="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952/1</link>
        <pubDate>Thu, 08 Mar 2018 22:04:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-4952-1</guid>
        <source url="http://forums.whonix.org/t/testers-wanted-upgrade-qubes-whonix-13-qubes-whonix-14/4952.rss">Testers wanted! Upgrade Qubes-Whonix 13 -&gt; Qubes-Whonix 14</source>
      </item>
  </channel>
</rss>
