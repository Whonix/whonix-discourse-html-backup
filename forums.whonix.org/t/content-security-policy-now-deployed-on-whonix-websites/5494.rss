<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Content-Security-Policy now deployed on Whonix websites</title>
    <link>http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494</link>
    <description>Good news! We&#39;ve implemented Content-Security-Policy headers on various areas of the  Whonix infrastructure.

This includes the main site, the wiki, this forum, and a few other places.

We also implemented Referrer-Policy and some other headers in recent weeks.

We now get an A+ rating on the main page at https://securityheaders.com \o/

![whonix-securityheaders-rating-july2018|690x447](upload://zINON1Ne1zI8ENRkuBt7dGwf31O.png)

Some things to note:

1) We deliberately are not allowing loading images from third party sites on the forum and also in the wiki. If you find your hotlinked Wikipedia, Imgur, etc is not loading: that&#39;s a feature, not a bug. @Patrick&#39;s request.

2) Some apps such as the wiki, the forum etc, regrettably still involve the use of unsafe-inline for some javascript/css. This is due to the design of the third party software these apps run, and forking in order to fix is not practical. Where you find that securityheaders.com caps the site to &#39;A&#39; instead of &#39;A+&#39;, it&#39;s likely due to the use of unsafe-inline. 

Both Discourse and MediaWiki have upstream tickets to look at shipping with a decent CSP. Phabricator recently added one, so we are using the default one there.

Nonetheless, even with some limited use of unsafe-inline, a CSP is better than none at all, and where possible with simple cases of javascript (such as on the main page, and in Mailman/Pipermail interfaces) we have used the sha256 technique to avoid having to fall back to unsafe-inline.

We ran with these CSPs for about week in &#39;Report-Only&#39; mode, so we&#39;re pretty confident things were looking OK in order to activate these for real. Of course:

1) if you find any pages on any areas of the whonix.org infra that are totally broken, and
2) the &#39;Console&#39; tab of your browser debugger identifies this as a Content-Security-Policy issue, and
3) it&#39;s not a case of a hot-linked image, font, etc, which quite deliberately is a violation of our chosen policy

..then please mention it here and I can take a look.

The various CSPs we&#39;ve deployed, should significantly enhance the safety for users when browsing the Whonix.org public sites, including on .onion.

We&#39;ll continue to assess and tune the CSPs as needed.

Any questions, just reply!

Cheers!</description>
    <language>en</language>
    <lastBuildDate>Tue, 27 Jul 2021 19:38:52 +0000</lastBuildDate>
    <category>Website</category>
    <atom:link href="http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Content-Security-Policy now deployed on Whonix websites</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>2 posts were split to a new topic: <a href="http://forums.whonix.org/t/feature-policy-security-header-for-the-whonix-org-website/12053">Feature-Policy security header for the whonix.org website</a></p>
          <p><a href="http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494/3</link>
        <pubDate>Sun, 01 Aug 2021 16:18:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5494-3</guid>
        <source url="http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494.rss">Content-Security-Policy now deployed on Whonix websites</source>
      </item>
      <item>
        <title>Content-Security-Policy now deployed on Whonix websites</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>A post was split to a new topic: <a href="http://forums.whonix.org/t/coep-coop-corp-cors-corb-security-headers-for-whonix-org/12052">COEP COOP CORP CORS CORB security headers for whonix.org</a></p>
          <p><a href="http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494/5</link>
        <pubDate>Sun, 01 Aug 2021 16:05:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5494-5</guid>
        <source url="http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494.rss">Content-Security-Policy now deployed on Whonix websites</source>
      </item>
      <item>
        <title>Content-Security-Policy now deployed on Whonix websites</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>A post was merged into an existing topic: <a href="http://forums.whonix.org/t/dns-certification-authority-authorization-caa-policy-dnssec-for-whonix-org-ssllabs-com-test-results/5487/3">DNS Certification Authority Authorization (CAA) Policy / DNSSEC for whonix.org / ssllabs.com test results</a></p>
          <p><a href="http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494/2</link>
        <pubDate>Sat, 01 Sep 2018 19:18:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5494-2</guid>
        <source url="http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494.rss">Content-Security-Policy now deployed on Whonix websites</source>
      </item>
      <item>
        <title>Content-Security-Policy now deployed on Whonix websites</title>
        <dc:creator><![CDATA[mig5]]></dc:creator>
        <description><![CDATA[
            <p>Good news! We’ve implemented Content-Security-Policy headers on various areas of the  Whonix infrastructure.</p>
<p>This includes the main site, the wiki, this forum, and a few other places.</p>
<p>We also implemented Referrer-Policy and some other headers in recent weeks.</p>
<p>We now get an A+ rating on the main page at <a href="https://securityheaders.com" rel="nofollow noopener">https://securityheaders.com</a> \o/</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="//forums.whonix.org/uploads/default/original/2X/f/fa5ca0696e7ba3c5d8c704d65419aa34e389b984.png" data-download-href="//forums.whonix.org/uploads/default/fa5ca0696e7ba3c5d8c704d65419aa34e389b984" title="whonix-securityheaders-rating-july2018.png"><img src="//forums.whonix.org/uploads/default/optimized/2X/f/fa5ca0696e7ba3c5d8c704d65419aa34e389b984_2_690x447.png" alt="whonix-securityheaders-rating-july2018" width="690" height="447" srcset="//forums.whonix.org/uploads/default/optimized/2X/f/fa5ca0696e7ba3c5d8c704d65419aa34e389b984_2_690x447.png, //forums.whonix.org/uploads/default/optimized/2X/f/fa5ca0696e7ba3c5d8c704d65419aa34e389b984_2_1035x670.png 1.5x, //forums.whonix.org/uploads/default/original/2X/f/fa5ca0696e7ba3c5d8c704d65419aa34e389b984.png 2x" data-small-upload="//forums.whonix.org/uploads/default/optimized/2X/f/fa5ca0696e7ba3c5d8c704d65419aa34e389b984_2_10x10.png"></a></div><p></p>
<p>Some things to note:</p>
<ol>
<li>
<p>We deliberately are not allowing loading images from third party sites on the forum and also in the wiki. If you find your hotlinked Wikipedia, Imgur, etc is not loading: that’s a feature, not a bug. <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a>’s request.</p>
</li>
<li>
<p>Some apps such as the wiki, the forum etc, regrettably still involve the use of unsafe-inline for some javascript/css. This is due to the design of the third party software these apps run, and forking in order to fix is not practical. Where you find that <a href="http://securityheaders.com" rel="nofollow noopener">securityheaders.com</a> caps the site to ‘A’ instead of ‘A+’, it’s likely due to the use of unsafe-inline.</p>
</li>
</ol>
<p>Both Discourse and MediaWiki have upstream tickets to look at shipping with a decent CSP. Phabricator recently added one, so we are using the default one there.</p>
<p>Nonetheless, even with some limited use of unsafe-inline, a CSP is better than none at all, and where possible with simple cases of javascript (such as on the main page, and in Mailman/Pipermail interfaces) we have used the sha256 technique to avoid having to fall back to unsafe-inline.</p>
<p>We ran with these CSPs for about week in ‘Report-Only’ mode, so we’re pretty confident things were looking OK in order to activate these for real. Of course:</p>
<ol>
<li>if you find any pages on any areas of the <a href="http://whonix.org" rel="nofollow noopener">whonix.org</a> infra that are totally broken, and</li>
<li>the ‘Console’ tab of your browser debugger identifies this as a Content-Security-Policy issue, and</li>
<li>it’s not a case of a hot-linked image, font, etc, which quite deliberately is a violation of our chosen policy</li>
</ol>
<p>…then please mention it here and I can take a look.</p>
<p>The various CSPs we’ve deployed, should significantly enhance the safety for users when browsing the <a href="http://Whonix.org" rel="nofollow noopener">Whonix.org</a> public sites, including on .onion.</p>
<p>We’ll continue to assess and tune the CSPs as needed.</p>
<p>Any questions, just reply!</p>
<p>Cheers!</p>
          <p><a href="http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494/1</link>
        <pubDate>Mon, 16 Jul 2018 02:07:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5494-1</guid>
        <source url="http://forums.whonix.org/t/content-security-policy-now-deployed-on-whonix-websites/5494.rss">Content-Security-Policy now deployed on Whonix websites</source>
      </item>
  </channel>
</rss>
