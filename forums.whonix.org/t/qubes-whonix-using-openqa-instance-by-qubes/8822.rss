<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Qubes-Whonix using openQA Instance by Qubes</title>
    <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822</link>
    <description>In Qubes we have openQA instance, which is running various tests. Basically there are two types of them:
 - external: run some script, check output and exit status - this is the majority of the tests, using python unittest framework (https://www.qubes-os.org/doc/automated-tests/)
 - native openQA: click somewhere, then compare (part of) screenshot - we have some tests for qubes manager and other GUI elements done this way; and also tests for installation itself

One of the tests run this way is `whonixcheck` in all Whonix-related VMs (sys-whonix, anon-whonix, whonix-* templates). Recent example: https://openqa.qubes-os.org/tests/5550

We run them in three modes:
 - new installation image - here only installation tests are run and only basic sanity checks on installed system
 - updates in current-testing repositories
 - proposed changes (open pull-requests)

Recently we also have reporting results back to github, like here: https://github.com/QubesOS/qubes-core-libvirt/pull/21#issuecomment-575955949 (pull request) or here: https://github.com/QubesOS/updates-status/issues/1589#issuecomment-575683166 (update).

What is missing and hard to automate is correlating individual test failures with a specific change (for example which package in current-testing caused problem). We don&#39;t have resources to run test with each package separately and it would also be undesirable, as in the final system all those updates are together.

For Whonix templates, the second point includes also proposed-updates repository.
I can easily add another Whonix repository to the test system. And also some more commands to run and check results. But if some more elaborate tests would be desired, someone would need to write them. I can help with technicalities.</description>
    <language>en</language>
    <lastBuildDate>Fri, 31 Jan 2020 09:47:33 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Ok. Run just now.</p>
<pre><code>openqa-client --host https://openqa.qubes-os.org isos post DISTRI=qubesos VERSION=4.0 FLAVOR=qubes-whonix ARCH=x86_64 BUILD=$(date +%Y%m%d%H)-4.0 UPDATE=1 WHONIX_REPO=developers</code></pre>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/18</link>
        <pubDate>Fri, 31 Jan 2020 09:47:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-18</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="marmarek" data-post="8" data-topic="8822">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/df705f/40.png" class="avatar"> marmarek:</div>
<blockquote>
<ul>
<li>
<code>BUILD</code> - arbitrary build number, but needs to be unique and monotonic; it is listed on the main page, so should be meaningful. Doesn’t need to be fully numeric - for example some meaningful word as a suffix is fine</li>
</ul>
</blockquote>
</aside>
<p>My own recommended command is against this requirement… All 4.0 tests are now considered older than all 4.1, in practice meaning only 4.1 test runs are visible on the main page…<br>
Can you change it in subsequent builds to put date first and <code>-4.0</code> or <code>-4.1</code> as suffix?</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/17</link>
        <pubDate>Thu, 30 Jan 2020 22:16:46 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-17</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <pre><code>openqa-client --host https://openqa.qubes-os.org isos post DISTRI=qubesos VERSION=4.0 FLAVOR=qubes-whonix ARCH=x86_64 BUILD=4.0-$(date +%Y%m%d%H) UPDATE=1 WHONIX_REPO=developers
</code></pre>
<p>Run just now.</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/16</link>
        <pubDate>Thu, 23 Jan 2020 14:42:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-16</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <p>Should be just <code>WHONIX_REPO=developers</code> (no dash)</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/15</link>
        <pubDate>Thu, 23 Jan 2020 14:04:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-15</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="13" data-topic="8822">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>openqa-client --host <a href="https://openqa.qubes-os.org">https://openqa.qubes-os.org</a> isos post DISTRI=qubesos VERSION=4.0 FLAVOR=qubes-whonix ARCH=x86_64 BUILD=4.0-$(date +%Y%m%d%H) UPDATE=1 WHONIX_REPO=buster-developers</p>
</blockquote>
</aside>
<p>As per <a href="https://github.com/Whonix/updates-status/issues/2">https://github.com/Whonix/updates-status/issues/2</a></p>
<p><code>WHONIX_REPO=buster-developers</code> resulted in <code>buster-buster-developers</code>.</p>
<p>Try now:</p>
<pre><code>openqa-client --host https://openqa.qubes-os.org isos post DISTRI=qubesos VERSION=4.0 FLAVOR=qubes-whonix ARCH=x86_64 BUILD=4.0-$(date +%Y%m%d%H) UPDATE=1 WHONIX_REPO=-developers
</code></pre>
<blockquote>
<p>{<br>
count =&gt; 3,<br>
failed =&gt; [],<br>
ids =&gt; [5643, 5644, 5645],<br>
scheduled_product_id =&gt; 230,<br>
}</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/14</link>
        <pubDate>Thu, 23 Jan 2020 13:58:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-14</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>That added the job.</p>
<pre><code>openqa-client --host https://openqa.qubes-os.org isos post DISTRI=qubesos VERSION=4.0 FLAVOR=qubes-whonix ARCH=x86_64 BUILD=4.0-$(date +%Y%m%d%H) UPDATE=1 WHONIX_REPO=buster-developers
</code></pre>
<blockquote>
<p>{<br>
count =&gt; 3,<br>
failed =&gt; [],<br>
ids =&gt; [5640, 5641, 5642],<br>
scheduled_product_id =&gt; 229,<br>
}</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/13</link>
        <pubDate>Thu, 23 Jan 2020 12:50:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-13</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="11" data-topic="8822">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>count =&gt; 0</p>
</blockquote>
</aside>
<p>Indeed 0 jobs were added.</p>
<aside class="quote no-group" data-post="11" data-topic="8822">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>ARCH=x64_64</p>
</blockquote>
</aside>
<p>Oops, that’s the issue, it should obviously be <code>ARCH=x86_64</code>.</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/12</link>
        <pubDate>Wed, 22 Jan 2020 15:59:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-12</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="8" data-topic="8822">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/df705f/40.png" class="avatar"> marmarek:</div>
<blockquote>
<p>openqa-client --host <a href="https://openqa.qubes-os.org">https://openqa.qubes-os.org</a> isos post DISTRI=qubesos VERSION=4.1 FLAVOR=qubes-whonix ARCH=x64_64 BUILD=4.1-$(date +%Y%m%d%H) UPDATE=1 WHONIX_REPO=developers</p>
</blockquote>
</aside>
<pre><code>openqa-client --host https://openqa.qubes-os.org isos post DISTRI=qubesos VERSION=4.0 FLAVOR=qubes-whonix ARCH=x64_64 BUILD=4.1-$(date +%Y%m%d%H) UPDATE=1 WHONIX_REPO=buster-developers
</code></pre>
<blockquote>
<p>{ count =&gt; 0, failed =&gt; [], ids =&gt; [], scheduled_product_id =&gt; 228 }</p>
</blockquote>
<p>Does not show up under <a href="https://openqa.qubes-os.org/tests">https://openqa.qubes-os.org/tests</a> running, scheduled or finished.</p>
<p>(Made mistake on command line 4.0 vs 4.1 but that shouldn’t influence this.)</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/11</link>
        <pubDate>Wed, 22 Jan 2020 13:23:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-11</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <p>Try now, upgraded your user.</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/10</link>
        <pubDate>Tue, 21 Jan 2020 16:43:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-10</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="9" data-topic="5942">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/df705f/40.png" class="avatar"> marmarek:</div>
<blockquote>
<p>(replace with actual values you get from the web interface)</p>
</blockquote>
</aside>
<p>Where to find the API key?</p>
<p>What I can see in web interface:</p>
<p><a href="https://openqa.qubes-os.org/admin/job_templates/8#">Logged in as adrelanos </a></p>
<p>Operators Menu</p>
<p><a href="https://openqa.qubes-os.org/admin/products">Medium types</a> <a href="https://openqa.qubes-os.org/admin/machines">Machines</a><br>
<a href="https://openqa.qubes-os.org/admin/test_suites">Test suites</a><br>
<a href="https://openqa.qubes-os.org/admin/groups">Job groups</a><br>
<a href="https://openqa.qubes-os.org/admin/productlog">Scheduled products</a><br>
<a href="https://openqa.qubes-os.org/admin/assets">Assets</a><br>
<a href="https://openqa.qubes-os.org/admin/workers">Workers</a><br>
<a href="https://openqa.qubes-os.org/api_help">API help</a><br>
<a href="https://openqa.qubes-os.org/changelog">Changelog</a><br>
<a href="https://openqa.qubes-os.org/logout">Logout</a></p>
<p>API help shows:</p>
<blockquote>
<p>API help</p>
</blockquote>
<blockquote>
<p>For developers, devops, and similar folks to get routes is easy. Call <code>script/openqa routes</code> . Even with matching regexes (with <code>-v</code> option).</p>
</blockquote>
<blockquote>
<p><strong>Hint:</strong> Calling any non-existant route from your browser will show an error page with all available routes as help. E.g. try <a href="https://openqa.qubes-os.org/not_found">this link</a>.</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/9</link>
        <pubDate>Tue, 21 Jan 2020 16:05:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-9</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <p>openqa-client configuration is in <code>~/.config/openqa/client.conf</code> (you need to create it):</p>
<pre><code class="lang-auto">[openqa.qubes-os.org]
key = APIKEY
secret = APISECRET
</code></pre>
<p>(replace with actual values you get from the web interface)</p>
<p>Then you can call:</p>
<pre><code class="lang-auto">openqa-client --host https://openqa.qubes-os.org isos post DISTRI=qubesos VERSION=4.1 FLAVOR=qubes-whonix ARCH=x64_64 BUILD=4.1-$(date +%Y%m%d%H) UPDATE=1 WHONIX_REPO=developers
</code></pre>
<p>Interesting variables:</p>
<ul>
<li>
<code>BUILD</code> - arbitrary build number, but needs to be unique and monotonic; it is listed on the main page, so should be meaningful. Doesn’t need to be fully numeric - for example some meaningful word as a suffix is fine</li>
<li>
<code>VERSION</code> - qubes version to test on - currently supported <code>4.0</code> and <code>4.1</code>
</li>
<li>
<code>WHONIX_REPO</code> - which repository to install updates from (appended to <code>buster-</code> or whatever base distro is there)</li>
</ul>
<p>Others should stay the same</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/8</link>
        <pubDate>Mon, 20 Jan 2020 17:58:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-8</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="7" data-topic="5942">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/df705f/40.png" class="avatar"> marmarek:</div>
<blockquote>
<p>If using <code>openqa-client</code> directly would be an issue, I can probably write some ~10 lines of python doing the same.</p>
</blockquote>
</aside>
<p>I guess I could use qrexec service or fedora chroot for that.</p>
<aside class="quote no-group" data-post="7" data-topic="5942">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/df705f/40.png" class="avatar"> marmarek:</div>
<blockquote>
<p>That can be the simplest option for now. Do you want to create one under Whonix org?</p>
</blockquote>
</aside>
<p>Created <a href="https://github.com/Whonix/updates-status">https://github.com/Whonix/updates-status</a> invited you with permission “maintain”, Invitation link: <a href="https://github.com/Whonix/updates-status/invitations">https://github.com/Whonix/updates-status/invitations</a></p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/7</link>
        <pubDate>Mon, 20 Jan 2020 16:46:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-7</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="6" data-topic="5942">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Weekly is good. Manual would be super useful too. If it’s either/or,<br>
then I need manually more. If both are possible, I take that.</p>
</blockquote>
</aside>
<p>Ok, I’ll setup both.</p>
<aside class="quote no-group" data-post="6" data-topic="5942">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Any easy (little time effort on your side) way to trigger these from<br>
command line (such as curl POST)? Then I could automate that with my<br>
package build scripts.</p>
</blockquote>
</aside>
<p>Yes, this is basically how it works. There is <code>openqa-client</code> tool for that (looks like it’s packaged in Fedora, but not in Debian), it pulls in ~250 perl packages…<br>
Generally what is does it making a single POST request with fairly simple content, but authentication headers would need to be prepared manually (hmac of API path and timestamp using API secret). If using <code>openqa-client</code> directly would be an issue, I can probably write some ~10 lines of python doing the same.<br>
Credentials request for openQA access sent in private email.</p>
<aside class="quote no-group" data-post="6" data-topic="5942">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Some dedicated github repository? Great!</p>
</blockquote>
</aside>
<p>That can be the simplest option for now. Do you want to create one under Whonix org?</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/6</link>
        <pubDate>Mon, 20 Jan 2020 15:32:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-6</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Sounds great!</p>
<blockquote>
<p>I need from you:</p>
<ul>
<li>info when should those tests be run (some schedule, like weekly? give you access to triggering them manually?)</li>
</ul>
</blockquote>
<p>Ideally when new package tags are created but I guess that has to wait<br>
until <a href="https://phabricator.whonix.org/T709">https://phabricator.whonix.org/T709</a> exists.</p>
<p>Weekly is good. Manual would be super useful too. If it’s either/or,<br>
then I need manually more. If both are possible, I take that.</p>
<p>Any easy (little time effort on your side) way to trigger these from<br>
command line (such as curl POST)? Then I could automate that with my<br>
package build scripts.</p>
<blockquote>
<ul>
<li>how would you like be notified about results</li>
</ul>
</blockquote>
<p>Only one strong preference: I cannot follow (github watch) all of<br>
<a href="https://github.com/QubesOS/updates-status/issues">https://github.com/QubesOS/updates-status/issues</a> since it generates way<br>
too many e-mails. Or is there a way to github e-mail subscribe to 1<br>
specific tag only?</p>
<p>A public place preferred over private - to not add needlessly<br>
centralization into me.</p>
<p>Some dedicated github repository? Great!</p>
<p>I could create a new dedicated mailing list too if that is required.<br>
(Would not want to mix with whonix-devel.)</p>
<p>E-mail me privately: least preferred way since not public.</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/5</link>
        <pubDate>Mon, 20 Jan 2020 12:09:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-5</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <p>Added separate group on <a href="http://openqa.qubes-os.org" rel="nofollow noopener">openqa.qubes-os.org</a> for Qubes-Whonix tests. Example test run: <a href="https://openqa.qubes-os.org/tests/overview?distri=qubesos&amp;version=4.1&amp;build=4.1-2020011919&amp;groupid=8" rel="nofollow noopener">https://openqa.qubes-os.org/tests/overview?distri=qubesos&amp;version=4.1&amp;build=4.1-2020011919&amp;groupid=8</a><br>
If you click on green dot on “system_tests_update” job, you’ll see:</p>
<ul>
<li>Logs &amp; Assets tab containing list of packages in each template</li>
<li>Settings tab with test settings, including <code>WHONIX_REPO</code> set here to <code>developers</code>
</li>
</ul>
<p>Failed “suspend” test is unrelated to Whonix (some issue in Xen).</p>
<p>I need from you:</p>
<ul>
<li>info when should those tests be run (some schedule, like weekly? give you access to triggering them manually?)</li>
<li>how would you like be notified about results</li>
</ul>
<p>Later we can expand the actual tests, but for now it at least verifies that packages successfully install and basic stuff still works (according to whonixcheck).</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/4</link>
        <pubDate>Mon, 20 Jan 2020 01:09:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-4</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="3" data-topic="5942">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>If I am somehow notified that a change in the developers repository breaks something - the challenge here is that there are many different version combinations (also TemplateBasedVM vs standalone vs DispVM etc.) - then of course I will fix that first</p>
</blockquote>
</aside>
<p>Any preference? I already have a script commenting on github (existing issues/pull requests), but something else should be easy too (email to a mailing list? irc?)</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/3</link>
        <pubDate>Sun, 19 Jan 2020 14:11:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-3</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Need to read this more carefully, but…</p>
<aside class="quote no-group" data-post="2" data-topic="5942">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/df705f/40.png" class="avatar"> marmarek:</div>
<blockquote>
<p>I can easily add another Whonix repository to the test system.</p>
</blockquote>
</aside>
<p>…immediately clear to me that I would like to see the <code>buster-developers</code> repository added there too. If resources allow also all the other repositories, <code>buster-testers</code> and <code>buster</code> (stable).</p>
<p>If I am somehow notified that a change in the developers repository breaks something - the challenge here is that there are many different version combinations (also TemplateBasedVM vs standalone vs DispVM etc.) - then of course I will fix that first. Upload a fixed package to the developers repository. And never migrate any broken package (combination) to any other repository.</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/2</link>
        <pubDate>Sun, 19 Jan 2020 13:04:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-2</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
      <item>
        <title>Qubes-Whonix using openQA Instance by Qubes</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <p>In Qubes we have openQA instance, which is running various tests. Basically there are two types of them:</p>
<ul>
<li>external: run some script, check output and exit status - this is the majority of the tests, using python unittest framework (<a href="https://www.qubes-os.org/doc/automated-tests/" rel="nofollow noopener">https://www.qubes-os.org/doc/automated-tests/</a>)</li>
<li>native openQA: click somewhere, then compare (part of) screenshot - we have some tests for qubes manager and other GUI elements done this way; and also tests for installation itself</li>
</ul>
<p>One of the tests run this way is <code>whonixcheck</code> in all Whonix-related VMs (sys-whonix, anon-whonix, whonix-* templates). Recent example: <a href="https://openqa.qubes-os.org/tests/5550" rel="nofollow noopener">https://openqa.qubes-os.org/tests/5550</a></p>
<p>We run them in three modes:</p>
<ul>
<li>new installation image - here only installation tests are run and only basic sanity checks on installed system</li>
<li>updates in current-testing repositories</li>
<li>proposed changes (open pull-requests)</li>
</ul>
<p>Recently we also have reporting results back to github, like here: <a href="https://github.com/QubesOS/qubes-core-libvirt/pull/21#issuecomment-575955949" rel="nofollow noopener">https://github.com/QubesOS/qubes-core-libvirt/pull/21#issuecomment-575955949</a> (pull request) or here: <a href="https://github.com/QubesOS/updates-status/issues/1589#issuecomment-575683166" rel="nofollow noopener">https://github.com/QubesOS/updates-status/issues/1589#issuecomment-575683166</a> (update).</p>
<p>What is missing and hard to automate is correlating individual test failures with a specific change (for example which package in current-testing caused problem). We don’t have resources to run test with each package separately and it would also be undesirable, as in the final system all those updates are together.</p>
<p>For Whonix templates, the second point includes also proposed-updates repository.<br>
I can easily add another Whonix repository to the test system. And also some more commands to run and check results. But if some more elaborate tests would be desired, someone would need to write them. I can help with technicalities.</p>
          <p><a href="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822/1</link>
        <pubDate>Sun, 19 Jan 2020 12:56:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8822-1</guid>
        <source url="http://forums.whonix.org/t/qubes-whonix-using-openqa-instance-by-qubes/8822.rss">Qubes-Whonix using openQA Instance by Qubes</source>
      </item>
  </channel>
</rss>
