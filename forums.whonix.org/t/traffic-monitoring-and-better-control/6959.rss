<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Traffic monitoring and better control</title>
    <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959</link>
    <description>I would like to have a better picture of network traffic in Whonix. 

First, I want to look into OS-initiated traffic (when the user doesn&#39;t open any applications or performs any actions at all). Where does Whonix initiate connections to? Anything apart from the sdwdate lists? I want to look all the related code for those operations.

In general though, the monitoring I have in mind should include all traffic.

Ideally I would like to have a service that shows, at any given time, a list of connections, with:
- The process initiating the connection
- Destination of the connection

this should include both clearnet and onion destinations, and with a readable, concise log.

At a second stage, perhaps a blacklisting / whitelisting mechanism.

Examples for whitelisting use cases:
- A workstation is used for Electrum only. The user wants to only allow connections to certain bitcoin nodes, plus anything that is absolutely a must for Whonix to function (debian / whonix updates, sdwdate?). Nothing else.
- A workstation is used for chat with Gajim for example. After an initial research into the required destinations, only those are whitelisted.
- A workstation is used only for email using say protonmail.com. Whitelisting of their site only (I don&#39;t think they load scripts from elsewhere. If so, review and whitelist those as necessary).
- A workstation is used to manage a remote server. Only that IP is whitelisted.
- When working with a longer list of sites: assists in avoiding phishing attacks.

Motivation: prevent both mistakes and malicious outgoing connections / destinations. A malware will need to circumvent the whitelisting mechanism itself to work (perhaps the whitelisting should be done on the Gateway?).

Perhaps some of that is already possible. I will appreciate any comments, pointers and advice.</description>
    <language>en</language>
    <lastBuildDate>Tue, 07 May 2019 21:02:17 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Traffic monitoring and better control</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="10" data-topic="6959" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Onion whitelist fits well into this request. Just now edited the draft.</p>
</blockquote>
</aside>
<p>FYI can be done indirectly with IPTables and the MapAddress Tor feature:</p>
<aside class="quote" data-post="8" data-topic="2707">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/block-all-traffic-except-some-hidden-addresses/2707/8">Block all traffic except some hidden addresses</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/general-tor-and-anonymity-talk"><span class="badge-category-bg" style="background-color: #92278F;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="General topics about Tor and Anonymity that can be discussed independently from Whonix.">General Tor and Anonymity Talk</span></a>
  </div>
  <blockquote>
    Interesting, there might be a way to do this. 
Drop all incoming/outgoing traffic. Make an exception for a local-only subnet range say 192.168 
Use MapAddress to assign private addresses in the whitelisted range to the Onion Services you want to permit. 
Some steps that can help:
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/11</link>
        <pubDate>Tue, 07 May 2019 21:02:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6959-11</guid>
        <source url="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss">Traffic monitoring and better control</source>
      </item>
      <item>
        <title>Traffic monitoring and better control</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Onion whitelist fits well into this request. Just now edited the draft.</p>
          <p><a href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/10</link>
        <pubDate>Tue, 07 May 2019 18:03:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6959-10</guid>
        <source url="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss">Traffic monitoring and better control</source>
      </item>
      <item>
        <title>Traffic monitoring and better control</title>
        <dc:creator><![CDATA[xariv]]></dc:creator>
        <description><![CDATA[
            <p>Not sure if it can be part of this request or not, but essentially this system should also not allow non-whitelisted onion sites too. Onion sites are the perfect place to host malware. So much, that they are used for this purpose even for targets that don’t have tor, via tor2web.</p>
          <p><a href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/9</link>
        <pubDate>Tue, 07 May 2019 17:56:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6959-9</guid>
        <source url="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss">Traffic monitoring and better control</source>
      </item>
      <item>
        <title>Traffic monitoring and better control</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This is actually a missing feature in Tor. For why, see [1].</p>
<p>Tor feature request draft:</p>
<p>subject:</p>
<blockquote>
<p>allow Tor clients to restrict which IPs / ports they can connect to</p>
</blockquote>
<p>text:</p>
<blockquote>
<p>syntax</p>
<p>currently:<br>
<code>SocksPort [address:]port|unix:path|auto [flags] [isolation flags]</code></p>
<p>suggested:<br>
<code>SocksPort [address:]port|unix:path|auto [flags] [isolation flags] [whitelist_ip_port:IP[/MASK][:PORT]] [whitelist_ip:IP] [whitelist_onion:onion] [whitelist_port:port] [OnionTrafficOnly]</code></p>
<p>Similar for <code>TransPort</code> / <code>DnsPort</code>.</p>
<p>The best syntax is not clear to me. If you have better ideas, by all means.</p>
<p>Examples for whitelisting use cases:</p>
<ul>
<li>A Tor SocksPort is used for Electrum (or any bitcoin client) only. The user wants to only allow connections to certain Electrum nodes.</li>
<li>A Tor SocksPort is used for chat with Gajim for example. After an initial research into the required destinations, only those are whitelisted.</li>
<li>A Tor SocksPort is used only for email using say for <a href="http://some-service.org" rel="nofollow noopener">some-service.org</a> only. Whitelisting of their site only.</li>
<li>A Tor SocksPort is used to manage a remote server. Only that IP is whitelisted.</li>
</ul>
<p>Motivation</p>
<p>Prevent both user mistakes and malicious outgoing connections / destinations. Malware would need to circumvent the whitelisting mechanism itself which would require special support by the malware for this. When restricting by outgoing IP or onion service, this may not be simple for malware writers (who might defer to easier targets). Might prevent some exploitation. If a vulnerable application gets a malicious, exploitable reply with a request to download code from a non-whitelisted IP, onion service or port, this would be blocked.</p>
<p>Of course this is only a building block. Restrictive firewall rules etc. are required as a prerequisite which is out of scope here.</p>
<p><code>OnionTrafficOnly</code> is a similar already existing feature. (<span class="hashtag">#18693</span>)</p>
<p>What this is not:</p>
<p>This is not about configuration option <code>FirewallPorts PORTS</code> / <code>ReachableAddresses IP[/MASK][:PORT]…</code> / <code>FascistFirewall 0|1</code>. This is not about the user’s local firewall which restricts things without the user wanting the restriction. This is a feature for users who choose to add additional restrictions for themselves.</p>
</blockquote>
<p>Can we make this a sound request that does not sound as if it would only be useful for Whonix? This is to higher chances that Tor Project would implement this feature.</p>
<p>Please post enhanced drafts.</p>
<hr>
<p>[1] Tor is a censorship circumvention software. Once an application (let’s say Tor Browser, <code>gpg</code>, <code>curl</code> or <code>electrum</code> is talking to a Tor <code>SocksPort</code> it is talking to a censorship circumvention software, Tor, and all bets (any iptables/firewall/Whonix power over it) are off. Tor then forwards the request through the Tor network to a Tor exit relay.</p>
<p>Should the Tor exit relays censor any connections to any IPs (perhaps only if not listed in the Tor relay’s exit policy), it would be eventually removed from Tor census by Tor directory authorities. So filtering by destination IP is not yet supported by Tor. Tor exit relays can restrict which ports they like to forward but last time I checked there is always some exit relay that allows any port, so Tor is also great to get around port restrictions.</p>
<p>Tor does not have any options to restrict which destination IPs and ports it can reach. This is mentioned in above draft.</p>
<p>//cc <a class="mention" href="http://forums.whonix.org/u/xariv">@xariv</a></p>
          <p><a href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/8</link>
        <pubDate>Tue, 07 May 2019 17:33:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6959-8</guid>
        <source url="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss">Traffic monitoring and better control</source>
      </item>
      <item>
        <title>Traffic monitoring and better control</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="5" data-topic="6959">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/z/b5ac83/40.png" class="avatar"> zrtqee1:</div>
<blockquote>
<p>I’ve used tcpdump so far in a Workstation, all packets are (as expected) between the Workstation and the Gateway, not easy to find the destination IP.</p>
</blockquote>
</aside>
<p>For that you need to run it on the host and listen on your physical NIC</p>
<aside class="quote no-group" data-post="5" data-topic="6959">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/z/b5ac83/40.png" class="avatar"> zrtqee1:</div>
<blockquote>
<p>Can we consider building a similar (basic, simpler) functionality in VirtualBox Whonix-Gateway?</p>
</blockquote>
</aside>
<p>There are firewall for Debian now that can restrict outgoing connections per program but I can;t remember its name nor if it has made it into upstream repos.</p>
          <p><a href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/7</link>
        <pubDate>Fri, 15 Mar 2019 17:38:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6959-7</guid>
        <source url="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss">Traffic monitoring and better control</source>
      </item>
      <item>
        <title>Traffic monitoring and better control</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="5" data-topic="6959">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/z/b5ac83/40.png" class="avatar"> zrtqee1:</div>
<blockquote>
<p>Can we consider building a similar (basic, simpler) functionality in VirtualBox Whonix-Gateway?</p>
</blockquote>
</aside>
<p>This and <a href="https://forums.whonix.org/t/walled-garden-firewall-whitelisting-application-whitelisting-sudo-lockdown-superuser-mode-protected-mode/5725" class="inline-onebox">walled garden, firewall whitelisting, application whitelisting, sudo lockdown, superuser mode, protected mode</a> is interesting.</p>
<ul>
<li><a href="https://www.whonix.org/wiki/FAQ#Feedback_and_Suggestions" rel="nofollow noopener">https://www.whonix.org/wiki/FAQ#Feedback_and_Suggestions</a></li>
<li><a href="https://www.whonix.org/wiki/FAQ#Patches_are_Welcome" rel="nofollow noopener">https://www.whonix.org/wiki/FAQ#Patches_are_Welcome</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/6</link>
        <pubDate>Thu, 14 Mar 2019 06:49:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6959-6</guid>
        <source url="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss">Traffic monitoring and better control</source>
      </item>
      <item>
        <title>Traffic monitoring and better control</title>
        <dc:creator><![CDATA[zrtqee1]]></dc:creator>
        <description><![CDATA[
            <p>Replying from a new account since I didn’t keep the credentials to the old one.</p>
<aside class="quote no-group" data-post="3" data-topic="6959">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Monitoring can be done with many tools such as wireshark.</p>
</blockquote>
</aside>
<p>Thanks <a class="mention" href="http://forums.whonix.org/u/hulahoop">@HulaHoop</a> for your response. I’ve used tcpdump so far in a Workstation, all packets are (as expected) between the Workstation and the Gateway, not easy to find the destination IP. Running it with -A shows http requests with the destination IP however parsing it will probably be less easy with other applications. I suspect I will have a similar issue with wireshark.</p>
<aside class="quote no-group" data-post="3" data-topic="6959">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Your goal of preveting leaks by limiting destinations is however a pipe dream. If ANY connection is allowed to the outside, an adversary (especially one monitoring the entire internet) could easily exfiltrate that information even if sent to whitelisted IPs. Also with encryption, there is no way an IDS can catch everything. Also don’t forget about steganography where non-apparent changes in the TCP packet layer can be used to encode data and send it in plain sight.</p>
<p>Even if no connections are allowed there is the risk of a clever malware using side-channels to affect legit traffic outside the VM on the same machine to leak data.</p>
</blockquote>
</aside>
<p>No intention to solve all of those issues, certainly not battle an adversary that monitors the entire internet.</p>
<p>Without advanced means, a malware would need to be very clever indeed to adapt itself to specific destinations that it can manipulate, if such exist in the list (for example to send info through it’s own protonmail account).</p>
<p>Recent example - the exploit on electrum, where user were prompted through it’s messaging system to download a new version, then the malware is downloaded. This exploit could not have worked with the same ease in a whitelisted environment.</p>
<p>Qubes already provides an easily editable firewall.<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.qubes-os.org/attachment/icons/512x512/apps/qubes-logo-icon.png" class="site-icon" width="16" height="16">
      <a href="https://www.qubes-os.org/doc/firewall/" target="_blank" rel="nofollow noopener">Qubes OS</a>
  </header>
  <article class="onebox-body">
    <img src="https://www.qubes-os.org/attachment/icons/qubes-logo-icon-name-slogan-fb.png" class="thumbnail" width="" height="">

<h3><a href="https://www.qubes-os.org/doc/firewall/" target="_blank" rel="nofollow noopener">The Qubes Firewall</a></h3>

<p>Understanding Qubes networking and firewall Understanding firewalling in Qubes Every qube in Qubes is connected to the network via a FirewallVM, which is used to enforce network-level policies. By default there is one default FirewallVM, but the user...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<p>Can we consider building a similar (basic, simpler) functionality in VirtualBox Whonix-Gateway?</p>
<aside class="quote no-group" data-post="4" data-topic="6959" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/s/c67d28/40.png" class="avatar"> sheep:</div>
<blockquote>
<p>I believe you can use iptables for such whitelisting.</p>
</blockquote>
</aside>
<p>OK. I am weary however to mess with the Gateway’s iptables. Easier with <a href="http://ipset.netfilter.org/" rel="nofollow noopener">http://ipset.netfilter.org/</a> ?</p>
          <p><a href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/5</link>
        <pubDate>Wed, 13 Mar 2019 07:09:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6959-5</guid>
        <source url="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss">Traffic monitoring and better control</source>
      </item>
      <item>
        <title>Traffic monitoring and better control</title>
        <dc:creator><![CDATA[sheep]]></dc:creator>
        <description><![CDATA[
            <p>I believe you can use iptables for such whitelisting.</p>
          <p><a href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/4</link>
        <pubDate>Wed, 13 Mar 2019 03:31:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6959-4</guid>
        <source url="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss">Traffic monitoring and better control</source>
      </item>
      <item>
        <title>Traffic monitoring and better control</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1" data-topic="6959">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/z/7cd45c/40.png" class="avatar"> zrtqee:</div>
<blockquote>
<p>Motivation: prevent both mistakes and malicious outgoing connections / destinations. A malware will need to circumvent the whitelisting mechanism itself to work (perhaps the whitelisting should be done on the Gateway?).</p>
</blockquote>
</aside>
<p>Monitoring can be done with many tools such as wireshark.</p>
<p>Your goal of preveting leaks by limiting destinations is however a pipe dream. If ANY connection is allowed to the outside, an adversary (especially one monitoring the entire internet) could easily exfiltrate that information even if sent to whitelisted IPs.  Also with encryption, there is no way an IDS can catch everything. Also don’t forget about steganography where non-apparent changes in the TCP packet layer can be used to encode data and send it in plain sight.</p>
<p>Even if no connections are allowed there is the risk of a clever malware using side-channels to affect legit traffic outside the VM on the same machine to leak data.</p>
          <p><a href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/3</link>
        <pubDate>Tue, 12 Mar 2019 18:31:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6959-3</guid>
        <source url="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss">Traffic monitoring and better control</source>
      </item>
      <item>
        <title>Traffic monitoring and better control</title>
        <dc:creator><![CDATA[zrtqee]]></dc:creator>
        <description><![CDATA[
            <p>Will help solve or at least reduce the risk of issues discussed in:</p>
<p></p><aside class="quote quote-modified" data-post="1" data-topic="5725">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v2/letter/d/e99b99/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/a-bit-of-pentesting-on-whonix-workstation-13/5725">A bit of pentesting on Whonix Workstation (13)</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/support"><span class="badge-category-bg" style="background-color: #8C6238;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="User support for the Whonix operating system. (devs)">Support</span></a>
  </div>
  <blockquote>
    Using Empire, I generated a bash launcher and saved it on the target (Whonix workstation 13). Added +x and ran it. This launcher runs a base64 encoded python script. 
The steps above require some convincing aka social engineering (or just being naive about security of this or that system). The rest doesn’t. 
Seconds after the script silently runs (and deletes itself) I have a shell into Whonix Workstation. 
I use a ruby keylogger module, and hey, I’m lucky today, the user runs sudo apt-get updat…
  </blockquote>
</aside>
<br>
<aside class="quote quote-modified" data-post="1" data-topic="6866">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v2/letter/x/a88e4f/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/simple-clearnet-connection-proof-of-concept-for-tails/6866">Simple clearnet connection proof of concept for Tails</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/general-tor-and-anonymity-talk"><span class="badge-category-bg" style="background-color: #92278F;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="General topics about Tor and Anonymity that can be discussed independently from Whonix.">General Tor and Anonymity Talk</span></a>
  </div>
  <blockquote>
    Unlike in Whonix, it’s very easy to start a clearnet connection in Tails - one can use the "Unsafe browser’ (included for the purpose of connecting to captive networks). 
<a href="https://tails.boum.org/contribute/design/Unsafe_Browser/" class="onebox" target="_blank" rel="nofollow noopener">https://tails.boum.org/contribute/design/Unsafe_Browser/</a> 
This browser comes with many warnings though to prevent the user from gaining a false sense of safely. 
The browser runs with the clearnet user. Code for that is at the above link. 
I am looking for a simple proof of concept though, demonstrating that a simple bash scrip…
  </blockquote>
</aside>
<br>
<aside class="quote" data-post="1" data-topic="6925">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v2/letter/a/e68b1a/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/transport-privacy-issue/6925">TransPort = privacy issue</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/support"><span class="badge-category-bg" style="background-color: #8C6238;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="User support for the Whonix operating system. (devs)">Support</span></a>
  </div>
  <blockquote>
    Why does whonix Gateway allows TransPort by default? For convenience? It is security and privacy issue. If you use botnet OS like Windows for Whonix-Workstation, it can communicate with NSA or Microsoft easily, since all traffic will just be sent through Tor by TransPort. 
However, TransPort allows to use socks proxies in TBB, so not sure if to disable it.
  </blockquote>
</aside>
<p></p>
          <p><a href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/2</link>
        <pubDate>Tue, 12 Mar 2019 06:14:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6959-2</guid>
        <source url="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss">Traffic monitoring and better control</source>
      </item>
      <item>
        <title>Traffic monitoring and better control</title>
        <dc:creator><![CDATA[zrtqee]]></dc:creator>
        <description><![CDATA[
            <p>I would like to have a better picture of network traffic in Whonix.</p>
<p>First, I want to look into OS-initiated traffic (when the user doesn’t open any applications or performs any actions at all). Where does Whonix initiate connections to? Anything apart from the sdwdate lists? I want to look all the related code for those operations.</p>
<p>In general though, the monitoring I have in mind should include all traffic.</p>
<p>Ideally I would like to have a service that shows, at any given time, a list of connections, with:</p>
<ul>
<li>The process initiating the connection</li>
<li>Destination of the connection</li>
</ul>
<p>this should include both clearnet and onion destinations, and with a readable, concise log.</p>
<p>At a second stage, perhaps a blacklisting / whitelisting mechanism.</p>
<p>Examples for whitelisting use cases:</p>
<ul>
<li>A workstation is used for Electrum only. The user wants to only allow connections to certain bitcoin nodes, plus anything that is absolutely a must for Whonix to function (debian / whonix updates, sdwdate?). Nothing else.</li>
<li>A workstation is used for chat with Gajim for example. After an initial research into the required destinations, only those are whitelisted.</li>
<li>A workstation is used only for email using say <a href="http://protonmail.com" rel="nofollow noopener">protonmail.com</a>. Whitelisting of their site only (I don’t think they load scripts from elsewhere. If so, review and whitelist those as necessary).</li>
<li>A workstation is used to manage a remote server. Only that IP is whitelisted.</li>
<li>When working with a longer list of sites: assists in avoiding phishing attacks.</li>
</ul>
<p>Motivation: prevent both mistakes and malicious outgoing connections / destinations. A malware will need to circumvent the whitelisting mechanism itself to work (perhaps the whitelisting should be done on the Gateway?).</p>
<p>Perhaps some of that is already possible. I will appreciate any comments, pointers and advice.</p>
          <p><a href="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959/1</link>
        <pubDate>Tue, 12 Mar 2019 03:59:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-6959-1</guid>
        <source url="http://forums.whonix.org/t/traffic-monitoring-and-better-control/6959.rss">Traffic monitoring and better control</source>
      </item>
  </channel>
</rss>
