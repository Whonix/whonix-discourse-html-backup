<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix KVM dnsmasq - listen port on host operating system - attack surface reduction</title>
    <link>http://forums.whonix.org/t/whonix-kvm-dnsmasq-listen-port-on-host-operating-system-attack-surface-reduction/15973</link>
    <description>dnsmasq on the host operating system is increasing the attack surface.

How did I find that out?

1. Install Debian.

2. Check open ports and write them to a file.

    &gt; sudo netstat -tulpen &gt; old

3. Install packages required for Whonix KVM according to Whonix KVM documentation.

4. Check open ports again and write them to a different file.

    &gt; sudo netstat -tulpen &gt; new

5. Use any (graphical) diff viewer of your choice.

    &gt; meld old new

6. Result:

dnsmasq opens a listen port on the host operating system that is reachable from LAN and from the Internet (if not using a NAT router or host operating system firewall)

&gt; tcp        0      0 0.0.0.0:53              0.0.0.0:*               LISTEN      0          19969      1975/dnsmasq        

&gt; tcp6       0      0 :::53                   :::*                    LISTEN      0          19971      1975/dnsmasq        

Whonix KVM TODO: Include instructions how to configure dnsmasq to listen on localhost only (if no way to get rid of it completely).

----

NOTE: I am not a maintainer of Whonix KVM.</description>
    <language>en</language>
    <lastBuildDate>Thu, 17 Nov 2022 19:06:57 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/whonix-kvm-dnsmasq-listen-port-on-host-operating-system-attack-surface-reduction/15973.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix KVM dnsmasq - listen port on host operating system - attack surface reduction</title>
        <dc:creator><![CDATA[NotFound]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox allowlistedgeneric" data-onebox-src="https://www.whonix.org/wiki/KVM#cite_note-21">
  <header class="source">
      <img src="https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="https://www.whonix.org/wiki/KVM#cite_note-21" target="_blank" rel="noopener nofollow ugc" title="05:37PM - 16 November 2022">Whonix – 16 Nov 22</a>
  </header>

  <article class="onebox-body">
    <img src="https://www.whonix.org/w/images/0/0f/Kvm-new-logo.png?version=60934fd6e6a249d039291ddd586d1200" class="thumbnail onebox-avatar" width="500" height="500">

<h3><a href="https://www.whonix.org/wiki/KVM#cite_note-21" target="_blank" rel="noopener nofollow ugc">Whonix ™ for KVM</a></h3>

  <p>Using Whonix ™ with KVM (Kernel Virtual Machine)</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/whonix-kvm-dnsmasq-listen-port-on-host-operating-system-attack-surface-reduction/15973/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-kvm-dnsmasq-listen-port-on-host-operating-system-attack-surface-reduction/15973/2</link>
        <pubDate>Thu, 17 Nov 2022 19:06:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15973-2</guid>
        <source url="http://forums.whonix.org/t/whonix-kvm-dnsmasq-listen-port-on-host-operating-system-attack-surface-reduction/15973.rss">Whonix KVM dnsmasq - listen port on host operating system - attack surface reduction</source>
      </item>
      <item>
        <title>Whonix KVM dnsmasq - listen port on host operating system - attack surface reduction</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>dnsmasq on the host operating system is increasing the attack surface.</p>
<p>How did I find that out?</p>
<ol>
<li>
<p>Install Debian.</p>
</li>
<li>
<p>Check open ports and write them to a file.</p>
<blockquote>
<p>sudo netstat -tulpen &gt; old</p>
</blockquote>
</li>
<li>
<p>Install packages required for Whonix KVM according to Whonix KVM documentation.</p>
</li>
<li>
<p>Check open ports again and write them to a different file.</p>
<blockquote>
<p>sudo netstat -tulpen &gt; new</p>
</blockquote>
</li>
<li>
<p>Use any (graphical) diff viewer of your choice.</p>
<blockquote>
<p>meld old new</p>
</blockquote>
</li>
<li>
<p>Result:</p>
</li>
</ol>
<p>dnsmasq opens a listen port on the host operating system that is reachable from LAN and from the Internet (if not using a NAT router or host operating system firewall)</p>
<blockquote>
<p>tcp        0      0 0.0.0.0:53              0.0.0.0:*               LISTEN      0          19969      1975/dnsmasq</p>
</blockquote>
<blockquote>
<p>tcp6       0      0 :::53                   :::*                    LISTEN      0          19971      1975/dnsmasq</p>
</blockquote>
<p>Whonix KVM TODO: Include instructions how to configure dnsmasq to listen on localhost only (if no way to get rid of it completely).</p>
<hr>
<p>NOTE: I am not a maintainer of Whonix KVM.</p>
          <p><a href="http://forums.whonix.org/t/whonix-kvm-dnsmasq-listen-port-on-host-operating-system-attack-surface-reduction/15973/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-kvm-dnsmasq-listen-port-on-host-operating-system-attack-surface-reduction/15973/1</link>
        <pubDate>Thu, 17 Nov 2022 11:45:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-15973-1</guid>
        <source url="http://forums.whonix.org/t/whonix-kvm-dnsmasq-listen-port-on-host-operating-system-attack-surface-reduction/15973.rss">Whonix KVM dnsmasq - listen port on host operating system - attack surface reduction</source>
      </item>
  </channel>
</rss>
