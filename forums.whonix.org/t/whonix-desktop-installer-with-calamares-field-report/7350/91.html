<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix Desktop Installer with Calamares - field report - #91 by Patrick - Development - Whonix Forum</title>
    <meta name="description" content="So after a few days playing with Calamares and my “Whonix Desktop” VM and ISO files, I thought it would be time to report back my experience. 
See also 


For the discussion related to the Whonix Host/Desktop project. 
I&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../7350af4d.html?page=5" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix Desktop Installer with Calamares - field report&#39;" href="../7350.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5564981a244c37b36b7c1610924d97da327c5b88.png" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5564981a244c37b36b7c1610924d97da327c5b88.png" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/91" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/91" />
<meta property="og:title" content="Whonix Desktop Installer with Calamares - field report" />
<meta name="twitter:title" content="Whonix Desktop Installer with Calamares - field report" />
<meta property="og:description" content="onion_knight via Whonix Forum:    There is no such file:  ls var/lib/dpkg/info/anon-* var/lib/dpkg/info/anon-icon-pack.list var/lib/dpkg/info/anon-icon-pack.md5sums var/lib/dpkg/info/anon-icon-pack.postinst var/lib/dpkg/info/anon-icon-pack.postrm   No anon-base-files installed package then. “Good” because nothing  “randomly” pulls the package. “Bad” because then also nothing sets  password for user “user” to “changeme”. Expected that sudo does not work  then since no password is set.  Just now a..." />
<meta name="twitter:description" content="onion_knight via Whonix Forum:    There is no such file:  ls var/lib/dpkg/info/anon-* var/lib/dpkg/info/anon-icon-pack.list var/lib/dpkg/info/anon-icon-pack.md5sums var/lib/dpkg/info/anon-icon-pack.postinst var/lib/dpkg/info/anon-icon-pack.postrm   No anon-base-files installed package then. “Good” because nothing  “randomly” pulls the package. “Bad” because then also nothing sets  password for user “user” to “changeme”. Expected that sudo does not work  then since no password is set.  Just now a..." />
<meta property="article:published_time" content="2019-07-17T20:33:00+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="../7350fdb0.html?page=4">
        <link rel="next" href="../7350c575.html?page=6">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../7350.html">Whonix Desktop Installer with Calamares - field report</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-16T23:13:06Z' class='post-time'>
                July 16, 2019, 11:13pm
              </time>
              <meta itemprop='dateModified' content='2019-07-16T23:13:06Z'>
          <span itemprop='position'>#86</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group quote-modified" data-post="84" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Error starting network ‘Whonix-External’: Unable to create bridge virbr1: Package not installed</p>
</blockquote>
</aside>
<p>OK as per the official guide there is a virtinst package needed for creating/cloning VMs via commandline. Please install and let me know if it works.</p>
<p><a href="../../../../external.html?link=https://wiki.debian.org/KVM#Installation" class="onebox" target="_blank" rel="nofollow noopener">https://wiki.debian.org/KVM#Installation</a></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-17T07:55:13Z' class='post-time'>
                July 17, 2019,  7:55am
              </time>
              <meta itemprop='dateModified' content='2019-07-17T08:28:34Z'>
          <span itemprop='position'>#87</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="85" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Sure you are not building from git master?<br>
There was work on this:<br>
<a href="../../restrict-root-access/7658.html">Restrict root access</a><br>
These are not yet tested in a new build and might cause some issues.</p>
<p>Does <code>/var/lib/dpkg/info/anon-base-files.postinst</code> contain <code>passwd</code> ? To check:</p>
<pre><code class="lang-auto">cat /var/lib/dpkg/info/anon-base-files.postinst | grep 
</code></pre>
<p>This would mean you build from git master.</p>
</blockquote>
</aside>
<p>There is no such file:</p>
<pre><code>ls var/lib/dpkg/info/anon-*
var/lib/dpkg/info/anon-icon-pack.list
var/lib/dpkg/info/anon-icon-pack.md5sums
var/lib/dpkg/info/anon-icon-pack.postinst
var/lib/dpkg/info/anon-icon-pack.postrm
</code></pre>
<p>This is all the commands I used for building. Is it correct?:</p>
<pre><code>git clone --jobs=4 --recursive https://github.com/Whonix/Whonix
cd Whonix
git branch 15.0.0.3.3-stable
git checkout 15.0.0.3.3-stable
sudo -E ./whonix_build --build --redistribute --target iso --flavor whonix-host-xfce --freedom false
</code></pre>
<aside class="quote no-group" data-post="85" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Timezone issue? Sometimes it is a “BIOS” (virtual or real BIOS) vs system clock issue.<br>
Is package <code>timezone-utc</code> installed? I guess we want to go for that?</p>
</blockquote>
</aside>
<p>Already installed:</p>
<pre><code>root@test-pc:~# apt install timezone-utc
Reading package lists... Done
Building dependency tree       
Reading state information... Done
timezone-utc is already the newest version (3:2.4-1).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
</code></pre>
<aside class="quote no-group quote-modified" data-post="86" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<blockquote>
<p>Error starting network ‘Whonix-External’: Unable to create bridge virbr1: Package not installed</p>
</blockquote>
<p>OK as per the official guide there is a virtinst package needed for creating/cloning VMs via commandline. Please install and let me know if it works.</p>
<p><a href="../../../../external.html?link=https://wiki.debian.org/KVM#Installation" rel="nofollow noopener">https://wiki.debian.org/KVM#Installation</a></p>
</blockquote>
</aside>
<p>Thanks, will try it later. I didn’t have this problem last time I built a Whonix-Host-ISO (in May I think). Was the package removed from the Whonix-Host build?</p>
<p>EDIT: the package is already installed.<br>
Currently looking what else could cause the issue.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-17T09:47:21Z' class='post-time'>
                July 17, 2019,  9:47am
              </time>
              <meta itemprop='dateModified' content='2019-07-17T10:01:19Z'>
          <span itemprop='position'>#88</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>OK, I have found the cause of</p>
<p><code>Error starting network 'Whonix-External': Unable to create bridge virbr1: Package not installed</code></p>
<p>One or some of the following protocols listed in <code>/etc/modprobe.d/uncommon-network-protocols.conf</code> are needed:</p>
<pre><code>install dccp /bin/true
install sctp /bin/true
install rds /bin/true
install tipc /bin/true
install n-hdlc /bin/true
install ax25 /bin/true
install netrom /bin/true
install x25 /bin/true
install rose /bin/true
install decnet /bin/true
install econet /bin/true
install af_802154 /bin/true
install ipx /bin/true
install appletalk /bin/true
install psnap /bin/true
install p8023 /bin/true
install llc /bin/true
install p8022 /bin/true
</code></pre>
<p>Reverting back to a previous version of this file (I think, June?) solves the problem:</p>
<pre><code>install dccp /bin/true
install sctp /bin/true
install rds /bin/true
install tipc /bin/true
</code></pre>
<p>Now, next problem is</p>
<p><code>Error starting network 'Whonix-External': Cannot check dnsmasq binary /usr/sbin/dnsmasq: No such file or directory</code></p>
<p>Seems easier to fix <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Installing dns-masq solves the problem (as reported earlier in this thread by <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-17T12:00:25Z' class='post-time'>
                July 17, 2019, 12:00pm
              </time>
              <meta itemprop='dateModified' content='2019-07-17T12:00:25Z'>
          <span itemprop='position'>#89</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Bravo. It would have never come to my mind.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-17T20:10:00Z' class='post-time'>
                July 17, 2019,  8:10pm
              </time>
              <meta itemprop='dateModified' content='2019-07-17T20:10:00Z'>
          <span itemprop='position'>#90</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>onion_knight via Whonix Forum:</p>
<blockquote>
<p>OK, I have found the cause of</p>
<p><code>Error starting network 'Whonix-External': Unable to create bridge virbr1: Package not installed</code></p>
<p>One or some of the following protocols listed in <code>/etc/modprobe.d/uncommon-network-protocols.conf</code> are needed:</p>
<pre><code>install dccp /bin/true
install sctp /bin/true
install rds /bin/true
install tipc /bin/true
install n-hdlc /bin/true
install ax25 /bin/true
install netrom /bin/true
install x25 /bin/true
install rose /bin/true
install decnet /bin/true
install econet /bin/true
install af_802154 /bin/true
install ipx /bin/true
install appletalk /bin/true
install psnap /bin/true
install p8023 /bin/true
install llc /bin/true
install p8022 /bin/true
</code></pre>
</blockquote>
<p>Strange you have them all Whonix <code>15.0.0.3.3-stable</code>. This means somehow<br>
you’re using packages from git master. Nonetheless this needs to be<br>
fixes as this change is coming.</p>
<blockquote>
<p>Reverting back to a previous version of this file (I think, June?) solves the problem:</p>
<pre><code>install dccp /bin/true
install sctp /bin/true
install rds /bin/true
install tipc /bin/true
</code></pre>
</blockquote>
<p>Could you please find out which module it is? Once root access is<br>
restored…</p>
<pre><code>sudo lsmod
</code></pre>
<p>Or <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/madaidan">@madaidan</a> <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a> any idea which module that could be?</p>
<blockquote>
<p>Now, next problem is</p>
<p><code>Error starting network 'Whonix-External': Cannot check dnsmasq binary /usr/sbin/dnsmasq: No such file or directory</code></p>
</blockquote>
<p>I speculate installing <code>dnsmasq-base</code> package would solve this.</p>
<p>Is dnsmasq a dependency of Whonix KVM? Should <code>dnsmasq-base</code> be a<br>
<code>Depends:</code> of <code>whonix-libvirt</code> package? <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
<p>Can you make (sanely) Whonix KVM work while <code>sudo apt purge dnsmasq*</code>?<br>
<a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-17T20:33:00Z' class='post-time'>
                July 17, 2019,  8:33pm
              </time>
              <meta itemprop='dateModified' content='2019-07-17T20:33:00Z'>
          <span itemprop='position'>#91</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>onion_knight via Whonix Forum:</p>
<blockquote>
<aside class="quote no-group" data-post="85" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Sure you are not building from git master?<br>
There was work on this:<br>
<a href="../../restrict-root-access/7658.html">Restrict root access</a><br>
These are not yet tested in a new build and might cause some issues.</p>
<p>Does <code>/var/lib/dpkg/info/anon-base-files.postinst</code> contain <code>passwd</code> ? To check:</p>
<pre><code class="lang-auto">cat /var/lib/dpkg/info/anon-base-files.postinst | grep 
</code></pre>
<p>This would mean you build from git master.</p>
</blockquote>
</aside>
<p>There is no such file:</p>
<pre><code>ls var/lib/dpkg/info/anon-*
var/lib/dpkg/info/anon-icon-pack.list
var/lib/dpkg/info/anon-icon-pack.md5sums
var/lib/dpkg/info/anon-icon-pack.postinst
var/lib/dpkg/info/anon-icon-pack.postrm
</code></pre>
</blockquote>
<p>No anon-base-files installed package then. “Good” because nothing<br>
“randomly” pulls the package. “Bad” because then also nothing sets<br>
password for user “user” to “changeme”. Expected that sudo does not work<br>
then since no password is set.</p>
<p>Just now added anon-base-files to whonix-host-xfce-kvm-freedom for user<br>
“user” creation. Will be included in next git tag.</p>
<p>To gain “emergency” root, next git tag will also include a passwordless<br>
recovery mode.</p>
<p>( <a href="../../restrict-root-access/7658/46.html" class="inline-onebox">Restrict root access</a> )<br>
( <a href="../../../../external.html?link=https://www.whonix.org/wiki/Recovery#Recovery_Mode" rel="nofollow noopener">https://www.whonix.org/wiki/Recovery#Recovery_Mode</a> )</p>
<p>(But that might already work in your build too.)<br>
(For example, set a root password from recovery mode, or whatever<br>
needed, type “exit” and continue boot.)</p>
<p>Can you boot the raw image of Whonix host for further experimentation<br>
rather than iso? That might help making persistent changes (such</p>
<blockquote>
<p>This is all the commands I used for building. Is it correct?:</p>
<pre><code>git clone --jobs=4 --recursive https://github.com/Whonix/Whonix
cd Whonix
git branch 15.0.0.3.3-stable
git checkout 15.0.0.3.3-stable
sudo -E ./whonix_build --build --redistribute --target iso --flavor whonix-host-xfce --freedom false
</code></pre>
</blockquote>
<p>Looks correct.</p>
<p>build-steps.d/1100_prepare-build-machine does</p>
<p>sudo $SUDO_OPTS git submodule sync --recursive<br>
sudo $SUDO_OPTS git submodule update --init --recursive --jobs=200</p>
<p>the latter should set the git submodules to the correct git revision.</p>
<p>Does manually running <code>git submodule update</code> do something? It should not<br>
but if it does it sets the correct revision (as it should reflect the<br>
git tag).</p>
<blockquote>
<p>OK as per the official guide there is a virtinst package needed for creating/cloning VMs via commandline. Please install and let me know if it works.</p>
<p><a href="../../../../external.html?link=https://wiki.debian.org/KVM#Installation" rel="nofollow noopener">https://wiki.debian.org/KVM#Installation</a></p>
</blockquote>
<p>Could you please make <a href="../../../../external.html?link=https://wiki.debian.org/KVM#Installation" rel="nofollow noopener">https://wiki.debian.org/KVM#Installation</a> suitable<br>
for use with <code>apt --no-install-recommends</code>? <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
<blockquote>
<p>Thanks, will try it later. I didn’t have this problem last time I built a Whonix-Host-ISO (in May I think). Was the package removed from the Whonix-Host build?</p>
</blockquote>
<p>I did not touch it. Manual build vs <code>--no-install-recommends</code> issue?</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-17T21:52:48Z' class='post-time'>
                July 17, 2019,  9:52pm
              </time>
              <meta itemprop='dateModified' content='2019-07-17T21:52:48Z'>
          <span itemprop='position'>#92</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="90" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Could you please find out which module it is? Once root access is<br>
restored…</p>
</blockquote>
</aside>
<p>I can try, but I will need to blacklist each module one by one to see which one(s) causes the failure of bridge creation.</p>
<aside class="quote no-group" data-post="90" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I speculate installing <code>dnsmasq-base</code> package would solve this</p>
</blockquote>
</aside>
<p>Installing <code>dnsmasq</code> solved the problem. I didn’t try with <code>dnsmasq-base</code>.</p>
<aside class="quote no-group" data-post="91" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>No anon-base-files installed package then. “Good” because nothing<br>
“randomly” pulls the package. “Bad” because then also nothing sets<br>
password for user “user” to “changeme”. Expected that sudo does not work<br>
then since no password is set.</p>
</blockquote>
</aside>
<p>By default, there is no user <code>user</code>  with the ISO build. Only a live user when booted in live-mode. I think it has sudo rights by default (I’ll check that again).</p>
<p>Important: problem with sudo/su arises in the <strong>installed machine</strong> (post Calamares), But I still can log in to graphical target with root.</p>
<aside class="quote no-group" data-post="91" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Can you boot the raw image of Whonix host for further experimentation<br>
rather than iso? That might help making persistent changes (such</p>
</blockquote>
</aside>
<p>Yes, that’s what I’m doing.</p>
<p>Once again, sudo/su problems are not with the ISO/raw Whonix Host, but on the installed image after Calamares install</p>
<aside class="quote no-group quote-modified" data-post="91" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<blockquote>
<p>Thanks, will try it later. I didn’t have this problem last time I built a Whonix-Host-ISO (in May I think). Was the package removed from the Whonix-Host build?</p>
</blockquote>
<p>I did not touch it. Manual build vs <code>--no-install-recommends</code> issue?</p>
</blockquote>
</aside>
<p>.The package was already installed.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-18T12:46:50Z' class='post-time'>
                July 18, 2019, 12:46pm
              </time>
              <meta itemprop='dateModified' content='2019-07-18T12:46:50Z'>
          <span itemprop='position'>#93</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="92" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>.The package was already installed.</p>
</blockquote>
</aside>
<p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> do I still need t change the guide?</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-18T12:55:43Z' class='post-time'>
                July 18, 2019, 12:55pm
              </time>
              <meta itemprop='dateModified' content='2019-07-18T12:55:43Z'>
          <span itemprop='position'>#94</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="93" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> do I still need t change the guide?</p>
</blockquote>
</aside>
<p>Yes. Would be very helpful. Starting with minimal packages (Debian minimal or so) and then setting all up with --no-install-recommends.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-18T12:58:26Z' class='post-time'>
                July 18, 2019, 12:58pm
              </time>
              <meta itemprop='dateModified' content='2019-07-18T12:58:26Z'>
          <span itemprop='position'>#95</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="90" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Or <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/madaidan">@madaidan</a> <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a> any idea which module that could be?</p>
</blockquote>
</aside>
<p>Comapred the blaklisted modules with the loaded ones on my host and <code>llc</code> is needed for bridging in libvirt.</p>
<aside class="quote no-group" data-post="90" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Is dnsmasq a dependency of Whonix KVM? Should <code>dnsmasq-base</code> be a<br>
<code>Depends:</code> of <code>whonix-libvirt</code> package? <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
</blockquote>
</aside>
<p>It is  fetched as part of the collection. Do you know the reverse depends command so I can check it quickly?</p>
<blockquote>
<p>Can you make (sanely) Whonix KVM work while <code>sudo apt purge dnsmasq*</code> ?</p>
</blockquote>
<p>I remember trying that some time ago and this would break NAT networks.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-18T13:03:48Z' class='post-time'>
                July 18, 2019,  1:03pm
              </time>
              <meta itemprop='dateModified' content='2019-07-18T13:03:48Z'>
          <span itemprop='position'>#96</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="95" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>It is fetched as part of the collection. Do you know the reverse depends command so I can check it quickly?</p>
</blockquote>
</aside>
<p>OK it seems dnsmasq-base needes to be added explicitly for it to be fetched.</p>
<p>EDIT:</p>
<p>Nope. Seems it is included in the Whonix base install by default.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-18T13:09:33Z' class='post-time'>
                July 18, 2019,  1:09pm
              </time>
              <meta itemprop='dateModified' content='2019-07-18T13:09:33Z'>
          <span itemprop='position'>#97</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Here’s the suggested packages. I hesitate to exclude them because I don’t know what features we need rely on these packages. They are relatively few compared to the mandatory collection anyhow.</p>
<pre><code>Suggested packages:
  augeas-doc wodim cdrkit-doc augeas-tools libdv-bin oss-compat libosinfo-l10n
  sidplay-base gstreamer1.0-plugins-bad libvirt-daemon-driver-storage-gluster
  libvirt-daemon-driver-storage-rbd libvirt-daemon-driver-storage-zfs numad
  auditd nfs-common open-iscsi radvd systemtap zfsutils libvisual-0.4-plugins
  python-cryptography-doc python-cryptography-vectors python-enum34-doc
  python-openssl-doc python-openssl-dbg python-socks python-ntlm
  python-dbus-doc python3-dbus-dbg samba vde2 qemu-block-extra sgabios
  debootstrap ssh-askpass gnome-keyring gir1.2-secret-1 python3-guestfs</code></pre>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-18T13:31:41Z' class='post-time'>
                July 18, 2019,  1:31pm
              </time>
              <meta itemprop='dateModified' content='2019-07-18T13:31:41Z'>
          <span itemprop='position'>#98</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="95" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Do you know the reverse depends command so I can check it quickly?</p>
</blockquote>
</aside>
<pre><code>reverse-depends dnsmasq-base
</code></pre>
<p>Shows:</p>
<pre><code>Reverse-Recommends
==================
* libvirt-daemon-system
* lxc
* network-manager

Reverse-Depends
===============
* concordance-common
* dnsmasq
* mahimahi
* neutron-dhcp-agent
</code></pre>
<p>Try to remove the package and see what happens. Still enough time to abort. Also good to experiment in live mode. Then perhaps try to uninstall another package from that list instead to track further and further. Or uninstall and reinstall one by one using --no-install-recommends and see at which point something would pull the package.</p>
<aside class="quote no-group" data-post="97" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Here’s the suggested packages. I hesitate to exclude them because I don’t know what features we need rely on these packages. They are relatively few compared to the mandatory collection anyhow.</p>
<pre><code class="lang-auto">Suggested packages:
</code></pre>
</blockquote>
</aside>
<p>Suggested packages are never installed by default. Only when using <code>--install-suggests</code>, which I saw never anyone using. This is only about <code>Recommends:</code>.</p>
<p>That list of <code>Suggests:</code> contains packages definitively to be avoided. Packages like gnome-keyring can cause other issues. Just not great to have any packages without really needing those.</p>
<p>As for <code>Recommends:</code> these should not be relied upon. Installation vs non-installation depends on which packages the user already has installed. Therefore this can lead to inconsistent / non-compareable results.</p>
<p>For example dnsmasq-base might recommend dnsmasq for no reason which could then interfere with host DNS. In worst case a world reachable port could be opened.</p>
<p>Another example for what mess it can create:<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T921" rel="nofollow noopener"><code>Installing git-all will delete some Whonix packages</code></a></p>
<p>More on why we need <code>--no-install-recommends</code>:<br>
<a href="../../../../external.html?link=https://www.whonix.org/wiki/Whonix_Debian_Packages#Technical_Stuff" rel="nofollow noopener">https://www.whonix.org/wiki/Whonix_Debian_Packages#Technical_Stuff</a></p>
<p>In conclusion we really need start with Debian minimal, then install with and without <code>--no-install-recommends</code>. Understanding the difference in packages being installed and having a basic understanding which each of this different packages would make.</p>
<p>By Debian policy, packages must not depend on any <code>Recommends:</code> being installed for secure configuration. It won’t be that difficult after all. Just some features might break when some package is missing which can be easily fixed when knowing the difference of which packages are missing.</p>
<aside class="quote no-group" data-post="96" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>OK it seems dnsmasq-base needes to be added explicitly for it to be fetched.</p>
<p>EDIT:</p>
<p>Nope. Seems it is included in the Whonix base install by default.</p>
</blockquote>
</aside>
<p>Whonix base install? You mean inside VMs? I wouldn’t know what pulls it . Not existing in Qubes-Whonix. Try to purge it:</p>
<pre><code>sudo apt purge dnsmasq*
</code></pre>
<p>It might be a leftover in upgraded images. If it is removable inside Whonix VMs, it should be removed. Just cruft. That could even break alternative DNS resolvers.<br>
(<a href="../../mx-srv-dnssec-any-dns-requests-over-tor-dnscrypt/7757.html" class="inline-onebox">MX / SRV / DNSSEC / any DNS requests over Tor / DNSCrypt</a>) (dnsmasq-base not so much but dnsmasq might create an unwanted listener port.)</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-18T23:57:54Z' class='post-time'>
                July 18, 2019, 11:57pm
              </time>
              <meta itemprop='dateModified' content='2019-07-18T23:57:54Z'>
          <span itemprop='position'>#99</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="98" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>It might be a leftover in upgraded images. If it is removable inside Whonix VMs, it should be removed. Just cruft. That could even break alternative DNS resolvers.</p>
</blockquote>
</aside>
<p>It must have been pulled by dino because a clean snapshot doesn’t have it.</p>
<aside class="quote no-group" data-post="98" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>For example dnsmasq-base might recommend dnsmasq for no reason which could then interfere with host DNS. In worst case a world reachable port could be opened.</p>
</blockquote>
</aside>
<p>This is not the case on my host where it is installed. I confirmed with netstat.  Also the documentation on libvirt makes this clear that it is not configured in a way that exposes the system but bound only to specific libvirt interfaces.</p>
<p>Nuking it breaks ‘default’ and any VM relying on NAT virtual network to access the outside world. Bridged adapters are not available for most Laptops out there. so we must rely on it.</p>
<p>If I were to purge it, only the dnsmasq -base package would be removed. Nothing else.</p>
<aside class="quote no-group" data-post="98" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>That list of <code>Suggests:</code> contains packages definitively to be avoided. Packages like gnome-keyring can cause other issues. Just not great to have any packages without really needing those.</p>
</blockquote>
</aside>
<p>All right good to know.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-07-19T09:02:08Z' class='post-time'>
                July 19, 2019,  9:02am
              </time>
              <meta itemprop='dateModified' content='2019-07-19T09:02:08Z'>
          <span itemprop='position'>#100</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/92d73f3ba9dd89529a32ac16e19515f713988660" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-libvirt</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/92d73f3ba9dd89529a32ac16e19515f713988660" target="_blank" rel="nofollow noopener">add dnsmasq-base to Depends:</a>
</h4>

  <pre class="message" style="white-space: normal;">https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/96</pre>

<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/92d73f3ba9dd89529a32ac16e19515f713988660" target="_blank" rel="nofollow noopener">09:01AM - 19 Jul 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-09T02:41:47Z' class='post-time'>
                August 9, 2019,  2:41am
              </time>
              <meta itemprop='dateModified' content='2019-08-09T02:41:47Z'>
          <span itemprop='position'>#101</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>git tag <code>15.0.0.3.6-developers-only</code> builds, boot fine, looks good at first look.<br>
Preciously there were some issues with root/sudo in an intermediate development version in the VM version of Whonix. These are now fixed.</p>
<p>Some changes to how root/sudo works beginning with <code>15.0.0.3.6-developers-only</code>: The default root account is locked. This is a purposeful security feature. See:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../../external.html?link=https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../../external.html?link=https://www.whonix.org/wiki/Root" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:103/54;"><img src="../../../../external.html?link=https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" class="thumbnail"></div>

<h3><a href="../../../../external.html?link=https://www.whonix.org/wiki/Root" target="_blank" rel="nofollow noopener">Root</a></h3>

<p>Tips on using sudo / root (privileged) commands safely</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-15T11:44:37Z' class='post-time'>
                August 15, 2019, 11:44am
              </time>
              <meta itemprop='dateModified' content='2019-08-15T11:44:37Z'>
          <span itemprop='position'>#102</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sorry for low activity lately, much to do IRL.<br>
Will try a new build and hopefully will have more time to pursue this project.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-15T12:04:26Z' class='post-time'>
                August 15, 2019, 12:04pm
              </time>
              <meta itemprop='dateModified' content='2019-08-15T12:04:26Z'>
          <span itemprop='position'>#103</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I noticed I did a <code>git checkout 15.0.0.3.6-developers-only</code> but it’s building <code>15.0.0.3.9-27</code> regardless… Any idea why?</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-15T12:35:30Z' class='post-time'>
                August 15, 2019, 12:35pm
              </time>
              <meta itemprop='dateModified' content='2019-08-15T12:35:30Z'>
          <span itemprop='position'>#104</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Looking into that now. Will try to reproduce.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-15T12:55:37Z' class='post-time'>
                August 15, 2019, 12:55pm
              </time>
              <meta itemprop='dateModified' content='2019-08-15T12:55:37Z'>
          <span itemprop='position'>#105</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>These are the commands I am using. (Taken from <a href="../../../../external.html?link=https://www.whonix.org/wiki/Dev/Build_Documentation/15_full" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/Build_Documentation/15_full</a>)</p>
<pre><code>git clone --jobs=4 --recursive https://github.com/Whonix/Whonix
cd Whonix
git verify-tag 15.0.0.3.6-developers-only
git checkout 15.0.0.3.6-developers-only
git describe
</code></pre>
<p>(<code>git describe</code> just now added as a test.)</p>
<p><code>git describe</code> should output</p>
<blockquote>
<p>15.0.0.3.6-developers-only</p>
</blockquote>
<pre><code>sudo ~/Whonix/whonix_build --flavor whonix-gateway-xfce --target virtualbox --build
</code></pre>
<p>Build output should contain pretty early (copy to text editor and search perhaps):</p>
<blockquote>
<p>INFO: Variable anon_dist_build_version was unset. Auto detected. Set to: 15.0.0.3.6</p>
</blockquote>
<p>Later on the build output should include:</p>
<blockquote>
<ul>
<li>true '/home/user/Whonix/help-steps/git_sanity_test INFO: git_tag_nearest: 15.0.0.3.6-developers-only ’</li>
<li>true '/home/user/Whonix/help-steps/git_sanity_test INFO: git_tag_current: 15.0.0.3.6-developers-only</li>
</ul>
</blockquote>
<p>Building form a non-tagged release is actually deliberately protected against and made a tiny bit more difficult. Requires adding:</p>
<pre><code>--allow-untagged true --allow-uncommitted true
</code></pre>
<p>(But this is mentioned in the error message when that happens.)</p>
<p>Build would actually fail, but also advice why.</p>
<blockquote>
<ul>
<li>
<p>true ‘---------------------------------------------------------------------’</p>
</li>
<li>
<p>true '/home/user/Whonix/help-steps/git_sanity_test ERROR: Git reports uncommitted changes! ’</p>
</li>
<li>
<p>true '/home/user/Whonix/help-steps/git_sanity_test INFO: (And you are not using --allow-uncommitted true, which you also should not do for security reasons, unless you are a developer or advanced user and know what you are doing. Such as in case you added custom code.) ’</p>
</li>
<li>
<p>git_sanity_test_hint</p>
</li>
<li>
<p>true '/home/user/Whonix/help-steps/git_sanity_test INFO: (As a developer or advanced user you might want to use:)<br>
–allow-untagged true --allow-uncommitted true<br>
’</p>
</li>
<li>
<p>true '/home/user/Whonix/help-steps/git_sanity_test INFO: Running “git status” for your convenience. ’</p>
</li>
<li>
<p>git status<br>
HEAD detached at 15.0.0.3.6-developers-only<br>
Untracked files:<br>
(use “git add …” to include in what will be committed)</p>
<p>packages/binaries-freedom/<br>
packages/kicksecure-base-files/</p>
</li>
</ul>
<p>nothing added to commit but untracked files present (use “git add” to track)</p>
<ul>
<li>true '/home/user/Whonix/help-steps/git_sanity_test INFO: Running git “clean -d --force --force --dry-run” for your convenience. ’</li>
<li>git clean -d --force --force --dry-run<br>
Would remove packages/binaries-freedom/<br>
Would remove packages/kicksecure-base-files/</li>
<li>true '/home/user/Whonix/help-steps/git_sanity_test You most likely like to run:<br>
/home/user/Whonix/help-steps/cleanup-files<br>
or if you know what you are doing:<br>
git clean -d --force --force<br>
git reset --hard<br>
’</li>
<li>true ‘---------------------------------------------------------------------’</li>
<li>error ‘Uncommitted changes! See above!’</li>
<li>echo ‘############################################################’<br>
############################################################</li>
<li>echo ‘ERROR: Uncommitted changes! See above!’<br>
ERROR: Uncommitted changes! See above!</li>
<li>echo ‘############################################################’<br>
############################################################</li>
<li>error_ ‘See above! (There should be a bold, red message surrounded by blue hashtags (#).)’<br>
pre: line 30: error_: command not found</li>
</ul>
</blockquote>
<p><code>git clean -d --force --force</code> solves that.</p>
<p>Btw just finished testing Whonix git tag <code>15.0.0.3.9</code> which is uploaded already with a call for testers coming soon.</p>
<p>(Also has such an extraneous folder.)</p>
<p>If that does not work for you, please paste the commands you’re using here. Or post the output of a whole build until around the <code>git_tag_current</code> line.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="../7350fdb0.html?page=4">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="../7350c575.html?page=6">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
