<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix Desktop Installer with Calamares - field report - #119 by onion_knight - Development - Whonix Forum</title>
    <meta name="description" content="So after a few days playing with Calamares and my “Whonix Desktop” VM and ISO files, I thought it would be time to report back my experience. 
See also 


For the discussion related to the Whonix Host/Desktop project. 
I&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../7350c575.html?page=6" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix Desktop Installer with Calamares - field report&#39;" href="../7350.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5564981a244c37b36b7c1610924d97da327c5b88.png" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5564981a244c37b36b7c1610924d97da327c5b88.png" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/119" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/119" />
<meta property="og:title" content="Whonix Desktop Installer with Calamares - field report" />
<meta name="twitter:title" content="Whonix Desktop Installer with Calamares - field report" />
<meta property="og:description" content="To avoid overlooking  some issues, here is a summary of last two days bugs and fixes:  Summary of bugs report and fixes, Whonix-Host 15.0.0.3.6  A. Already fixed  1. Virtual Machine Manager/KVM   Blacklisted llc module: fixed and merged (see https://github.com/Whonix/security-misc/pull/29) By default, the VMs do no start until the CPU configuration is set to host + Error starting domain: unsupported configuration: host doesn&#39;t support paravirtual spinlocks fixed (see Error starting domain: unsup..." />
<meta name="twitter:description" content="To avoid overlooking  some issues, here is a summary of last two days bugs and fixes:  Summary of bugs report and fixes, Whonix-Host 15.0.0.3.6  A. Already fixed  1. Virtual Machine Manager/KVM   Blacklisted llc module: fixed and merged (see https://github.com/Whonix/security-misc/pull/29) By default, the VMs do no start until the CPU configuration is set to host + Error starting domain: unsupported configuration: host doesn&#39;t support paravirtual spinlocks fixed (see Error starting domain: unsup..." />
<meta property="article:published_time" content="2019-08-20T12:01:17+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="../7350af4d.html?page=5">
        <link rel="next" href="../7350235c.html?page=7">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../7350.html">Whonix Desktop Installer with Calamares - field report</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-19T14:38:11Z' class='post-time'>
                August 19, 2019,  2:38pm
              </time>
              <meta itemprop='dateModified' content='2019-08-19T14:38:11Z'>
          <span itemprop='position'>#114</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="109" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Grub menu also provides a <em>Debian-Live</em> option, although it does not work (results in kernel panic since live packages are removed during the installation part and are not part of the installed system). Grub menu needs to be fixed accordingly in the installed machine (must be somewhere in the Calamares modules). Similarly, the persistent/live icons must be removed from the installed version.</p>
</blockquote>
</aside>
<p>Booting the installed Whonix Host into Live mode would be a great feature. I am using <code>grub-live</code> for a Debian host machine. Should be possible to fix that.</p>
<aside class="quote no-group" data-post="109" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>As we are dealing with a host system (be it ISO or HDD install), it would be nice to have a power-manager plugin on the panel ( <code>xfce4-power-manager</code> ), something expected on a laptop for instance, I think this package does the trick (I must retest it on laptop hardware):</p>
</blockquote>
</aside>
<p>I get that done, created <a href="../../../../external.html?link=https://phabricator.whonix.org/T928" rel="nofollow noopener">https://phabricator.whonix.org/T928</a> for it.</p>
<aside class="quote no-group" data-post="109" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>same thing with pulseaudio plugin (already installed, just needs to be added in the panel tray)</p>
</blockquote>
</aside>
<p>Should be sorted in next git tag. <code>15.0.0.4.0-developers-only</code> (upcoming)<br>
Sorted that in <a href="../../../../external.html?link=https://github.com/Whonix/whonix-xfce-desktop-config/commit/12dad74b906c675f834fa6431a3892e7dc499128" rel="nofollow noopener">https://github.com/Whonix/whonix-xfce-desktop-config/commit/12dad74b906c675f834fa6431a3892e7dc499128</a> for Whonix VMs so śhould also work on Whonix Host since also using package <code>whonix-xfce-desktop-config</code>.</p>
<aside class="quote no-group" data-post="109" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>The Whonix Host should be graphically differentiated from the Whonix-VMs. Maybe simply a different background image/color?</p>
</blockquote>
</aside>
<p>That would be very good. I also want to differentiate Whonix VMs gateway vs workstation as well as differentiate from the host. Technical challenge:</p>
<p>Package package <code>whonix-xfce-desktop-config</code> owns <a href="../../../../external.html?link=https://github.com/Whonix/whonix-xfce-desktop-config/blob/master/etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-panel.xml" rel="nofollow noopener"><code>/etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-panel.xml</code></a>. As per Debian dpkg default one file can only be owned by one pacakge.</p>
<p>I wouldn’t know how to cleanly stack these packages. I.e. how to add yet another package on top that only ships one different config file?</p>
<p>[1] <code>whonix-xfce-workstation-config</code><br>
[2] <code>whonix-xfce-host-config</code></p>
<p>These packages could duplicate that package and then say in <code>debian/control</code> <code>Replaces: whonix-xfce-desktop-config</code>. Lots of code duplication. Not great.</p>
<p>Or <code>whonix-libvirt</code> (or some other Whonix host package) could do <code>config-package-dev</code> <code>displace</code> <code>/etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-panel.xml</code>. Better but still one fully duplicated config file.</p>
<p>Any other way to just change the background image? A command line command that runs one time after first login? Is it possible to change the background image on the command line?</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-19T14:53:03Z' class='post-time'>
                August 19, 2019,  2:53pm
              </time>
              <meta itemprop='dateModified' content='2019-08-19T15:07:41Z'>
          <span itemprop='position'>#115</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group quote-modified" data-post="113" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<blockquote>
<p>Theming lacks arc-icons (currently using Adwaita icons, not so bad IMHO). Probably normal if not yet implemented in Whonix? Cosmetic issue, not a big deal.</p>
</blockquote>
<p>arc-icons not in use due to unavailable from <a href="../../../../external.html?link=http://packages.debian.org/" rel="nofollow noopener">packages.debian.org</a></p>
</blockquote>
</aside>
<p>Ok, understood.</p>
<aside class="quote no-group" data-post="114" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Booting the installed Whonix Host into Live mode would be a great feature. I am using <code>grub-live</code> for a Debian host machine. Should be possible to fix that.</p>
</blockquote>
</aside>
<p>Ok, should be possible, maybe by not removing live-config packages from the install target. Trying now.</p>
<aside class="quote no-group" data-post="114" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Any other way to just change the background image? A command line command that runs one time after first login? Is it possible to change the background image on the command line?</p>
</blockquote>
</aside>
<p>Should be possible, but sounds hackish.</p>
<p>EDIT: if I remember well, Whonix 13 already had different backgrounds and general appearances for Gateway and Workstation. Would it be possible to reproduce this with more or less the same code?</p>
<p>EDIT2: not removing the live-boot packages from the target install allows for a live-boot of the host. See my pull request on <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/pull/91" rel="nofollow noopener">github</a>.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-19T15:44:02Z' class='post-time'>
                August 19, 2019,  3:44pm
              </time>
              <meta itemprop='dateModified' content='2019-08-19T16:07:45Z'>
          <span itemprop='position'>#116</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="111" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Considered a bug. Superuser hardening is specifically useful for live mode. Even more useful later on when optional non-root boot gets added.</p>
<p>(<a href="../../multiple-boot-modes-for-better-security-persistent-user-live-user-persistent-secureadmin-persistent-superadmin-persistent-recovery-mode/7708.html">multiple boot modes for better security: persistent + root | persistent + noroot | live + root | live + noroot</a>)</p>
<p>Likely package <code>live-config</code> file <code>/lib/live/config/0040-sudo</code> is causing this. Also package <code>live-config</code> is doing a lot other stuff which we need to understand. Or get rid of <code>live-config</code> package. Had a similar issue due to <code>live-config</code> earlier I have written about here.</p>
</blockquote>
</aside>
<p>It is possible to boot in live-mode without root account by appending <code>live-config.noroot</code> as a boot parameter (although in my test, it only works if I first remove the user <code>user</code> installed during the build and reburn the ISO). The problem is that Calamares needs administrator rights to run by default, unless we change this rule in its polkit settings (<code>/usr/share/polkit-1/actions/com.github.calamares.calamares.policy</code>).</p>
<aside class="quote no-group" data-post="111" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Can we just leave out the <code>live-config</code> package or what do we rely on it for?</p>
</blockquote>
</aside>
<p>My understanding is that it is useful for a lot of configuration files that allow for fine customization such as booting without root privileges. See also <a href="../../../../external.html?link=https://manpages.debian.org/buster/live-config-doc/live-config.7.en.html:" rel="nofollow noopener">https://manpages.debian.org/buster/live-config-doc/live-config.7.en.html:</a></p>
<p><code>live-config contains the components that configure a live system during the boot process (late userspace).</code></p>
<p>It seems at least useful for the ISO version.  I will try to remove it entirely from the RAW file before the ISO step and see how it goes.</p>
<p>EDIT: I don’t think it’s a good idea to remove altogether live-config. Currently, we need it during the ISO stage to create a live-user which is a member of libvirt and kvm groups (<code>live-config.user-default-groups=libvirt,kvm</code>) + we can use it to disable passwordless sudo live-user and root account (see above).</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-20T06:41:00Z' class='post-time'>
                August 20, 2019,  6:41am
              </time>
              <meta itemprop='dateModified' content='2019-08-20T06:41:00Z'>
          <span itemprop='position'>#117</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>onion_knight via Whonix Forum:</p>
<blockquote>
<p>EDIT: if I remember well, Whonix 13 already had different backgrounds and general appearances for Gateway and Workstation. Would it be possible to reproduce this with more or less the same code?</p>
</blockquote>
<p>Whonix 13 was KDE based. KDE supports environment variable<br>
<code>XDG_CONFIG_DIRS</code>. These are stackable ad infinitum.</p>
<p>(<br>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/adrelanos/whonix-gw-kde-desktop-conf/blob/master/etc/X11/Xsession.d/50whonix-gw-kde-desktop-conf" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/adrelanos/whonix-gw-kde-desktop-conf/blob/master/etc/X11/Xsession.d/50whonix-gw-kde-desktop-conf" target="_blank" rel="nofollow noopener">adrelanos/whonix-gw-kde-desktop-conf/blob/master/etc/X11/Xsession.d/50whonix-gw-kde-desktop-conf</a></h4>
<pre><code class="lang-d/50whonix-gw-kde-desktop-conf">## Copyright (C) 2012 - 2018 ENCRYPTED SUPPORT LP &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

if [ -z "$XDG_CONFIG_DIRS" ]; then
   XDG_CONFIG_DIRS=/etc/xdg
fi
export XDG_CONFIG_DIRS=/usr/share/whonix-gw-kde-desktop-conf/:$XDG_CONFIG_DIRS
</code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
)</p>
<p>XFCE does not support environment variable <code>XDG_CONFIG_DIRS</code> /<br>
configuration folder stacking.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-20T09:16:01Z' class='post-time'>
                August 20, 2019,  9:16am
              </time>
              <meta itemprop='dateModified' content='2019-08-20T09:16:01Z'>
          <span itemprop='position'>#118</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><strong>New issue with virt-manager (both on ISO and install target):</strong></p>
<p><code>Error connecting to graphical console: Error opening Spice console, SpiceClientGTK missing</code></p>
<p>The VM is running, but cannot be viewed with Spice display.</p>
<p>Installing <code>gir1.2-spiceclientgtk-3.0</code> and needed dependencies solves the problem (didn’t have this problem before, was this package dropped in a latest Whonix release?)</p>
<pre><code>apt install --no-install-recommends gir1.2-spiceclientgtk-3.0
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  gir1.2-spiceclientglib-2.0 libphodav-2.0-0 libphodav-2.0-common
  libspice-client-glib-2.0-8 libspice-client-gtk-3.0-5 libusbredirhost1
  spice-client-glib-usb-acl-helper
Suggested packages:
  gstreamer1.0-plugins-bad gstreamer1.0-plugins-base gstreamer1.0-plugins-good
  gstreamer1.0-libav
The following NEW packages will be installed:
  gir1.2-spiceclientglib-2.0 gir1.2-spiceclientgtk-3.0 libphodav-2.0-0
  libphodav-2.0-common libspice-client-glib-2.0-8 libspice-client-gtk-3.0-5
  libusbredirhost1 spice-client-glib-usb-acl-helper
0 upgraded, 8 newly installed, 0 to remove and 0 not upgraded.
Need to get 1,559 kB of archives.
After this operation, 2,957 kB of additional disk space will be used.
Do you want to continue? [Y/n]</code></pre>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-20T12:01:17Z' class='post-time'>
                August 20, 2019, 12:01pm
              </time>
              <meta itemprop='dateModified' content='2019-08-20T12:09:44Z'>
          <span itemprop='position'>#119</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>To avoid overlooking  some issues, here is a summary of last two days bugs and fixes:</p>
<p><strong>Summary of bugs report and fixes, Whonix-Host 15.0.0.3.6</strong></p>
<p><strong>A. Already fixed</strong></p>
<p><strong>1. Virtual Machine Manager/KVM</strong></p>
<ul>
<li>Blacklisted llc module: <strong>fixed and merged</strong> (see <a href="../../../../external.html?link=https://github.com/Whonix/security-misc/pull/29" rel="nofollow noopener">https://github.com/Whonix/security-misc/pull/29</a>)</li>
<li>By default, the VMs do no start until the CPU configuration is set to host + <code>Error starting domain: unsupported configuration: host doesn't support paravirtual spinlocks</code> <strong>fixed</strong> (see <a href="../../error-starting-domain-unsupported-configuration-host-doesnt-support-paravirtual-spinlocks/7916/5.html" class="inline-onebox">Error starting domain: unsupported configuration: host doesn't support paravirtual spinlocks</a>)  <strong>but needs merging</strong> (see pull request <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/pull/92" rel="nofollow noopener">https://github.com/Whonix/whonix-libvirt/pull/92</a>)</li>
</ul>
<p><strong>3. Whonix-Host install on HDD</strong></p>
<ul>
<li>Grub menu also provides a <em>Debian-Live</em> option, although it does not work -&gt; <strong>fixed and merged</strong> by not removing live-boot packages from the host install in calamares (see pull request <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/pull/91" rel="nofollow noopener">https://github.com/Whonix/whonix-libvirt/pull/91</a>)</li>
</ul>
<p><strong>4. Miscellaneous</strong></p>
<ul>
<li>Theming lacks arc-icons (currently using Adwaita icons, not so bad IMHO) -&gt; not an option, so <strong>fixed</strong>
</li>
</ul>
<p><strong>B. still needs work</strong></p>
<p><strong>1. Virtual Machine Manager/KVM</strong></p>
<ul>
<li>New issue with virt-manager (both on ISO and install target):<br>
<code>Error connecting to graphical console: Error opening Spice console, SpiceClientGTK missing</code> -&gt;<br>
<strong>can be fixed</strong> by installing <code>gir1.2-spiceclientgtk-3.0</code> and needed dependencies (<code>apt install --no-install-recommends gir1.2-spiceclientgtk-3.0</code>) (didn’t do a pull request yet as I don’t know exactly where it goes)</li>
</ul>
<p><strong>2. Calamares Installer</strong></p>
<ul>
<li>Needs correct branding -&gt;  <strong>to be done</strong> (see also: <a href="../../whonix-host-calamares-branding-suggestion/7772/3.html">Whonix Host Calamares Branding Suggestion</a>)</li>
<li>Does it work in EFI mode? Needs more testing -&gt; <strong>to be done</strong>
</li>
</ul>
<p><strong>3. Whonix-Host install on HDD</strong></p>
<ul>
<li>at least one of the kernel hardening boot parameters somehow messes with the CPU detection on the host -&gt; <strong>to be done</strong> (needs further testing, see also <a href="../../kernel-hardening/7296/153.html" class="inline-onebox">Kernel Hardening</a>)</li>
<li>the installed system has no virtual console root access. Very unpractical, especially for a host system. Maybe consider reverting back this recent change for the Whonix-Host version? (see also <a href="../../restrict-root-access/7658/64.html" class="inline-onebox">Restrict root access</a>) -&gt; <strong>to be discussed</strong>
</li>
</ul>
<p><strong>4. Miscellaneous</strong></p>
<ul>
<li>power-manager plugin + pulseaudio plugin -&gt; <strong>task open</strong> (<a href="../../../../external.html?link=https://phabricator.whonix.org/T928" rel="nofollow noopener">https://phabricator.whonix.org/T928</a>)</li>
<li>The Whonix Host should be graphically differentiated from the Whonix-VMs. Maybe simply a different background image/color? -&gt; <strong>to be done</strong>, see <a href="114.html" class="inline-onebox">Whonix Desktop Installer with Calamares - field report</a>)</li>
</ul>
<ul>
<li>Somehow a user <code>user</code> was created during the build although it should be avoided at all costs (messes with live-user <code>user</code> config + is being copied over onto the host install) -&gt; <strong>to be verified/fixed</strong> (I am currently rebuilding a whonix-host machine to see if this error still happen. Didn’t do a pull request yet as I don’t know exactly what to change)</li>
</ul>
<ul>
<li>
<p>By default, the VMs do not start because the virtual disks are not set to readonly -&gt; <strong>in discussion</strong> (<a href="../../../../external.html?link=https://phabricator.whonix.org/T914" rel="nofollow noopener">https://phabricator.whonix.org/T914</a>)</p>
</li>
<li>
<p>Currently the live system in ISO mode provides a live-user account with passwordless sudo rights -&gt; <strong>can be fixed</strong> by adding <code>live-config.noroot</code> to live ISO boot parameters (but then we need to change calamares polkit to allow its execution by sudoless user)</p>
</li>
</ul>
<p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> if you want to open new tasks on phabricator and assign me some, please be aware that I have just recreated an account (previous credentials lost): onion_knight2, waiting for your approval <img src="../../../images/emoji/twitter/winkc164.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-20T14:16:11Z' class='post-time'>
                August 20, 2019,  2:16pm
              </time>
              <meta itemprop='dateModified' content='2019-08-20T14:16:11Z'>
          <span itemprop='position'>#120</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Regarding the issue</p>
<ul>
<li>Somehow a user <code>user</code> was created during the build although it should be avoided at all costs (messes with live-user <code>user</code> config + is being copied over onto the host install) -&gt; <strong>to be verified/fixed</strong> (I am currently rebuilding a whonix-host machine to see if this error still happen. Didn’t do a pull request yet as I don’t know exactly what to change)</li>
</ul>
<p>After rebuilding a Whonix-Host-15.0.0.3.6, I found the following: while testing the <strong>RAW</strong> file (not the ISO)</p>
<ul>
<li>no home folder for user <code>user</code> was created during the build</li>
<li>
<strong>BUT the file<code>/etc/passwd</code> contains a valid entry for user <code>user</code></strong>, whose /home directory is created during first boot in persistent mode (along with Desktop, Downloads and Pictures directories, I guess copied from <code>/etc/skel</code>)<br>
<code>user:x:1000:1000::/home/user:/bin/bash</code>
</li>
<li>If I remove this entry from the /etc/passwd file, no /home/user directory is created, and instead of the graphical session, the lightdm login page is loaded (expected behavior)</li>
<li>guess what, default user <code>user</code> password is… changeme -&gt; inherited from Whonix</li>
</ul>
<p>I guess all this is is faulty behavior and not on purpose?</p>
<p>Also, shouldn’t we remove the line autologin-user=user from <code>/etc/lightdm/lightdm.conf</code> (not as problematic, but still).</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-21T05:44:02Z' class='post-time'>
                August 21, 2019,  5:44am
              </time>
              <meta itemprop='dateModified' content='2019-08-21T05:44:02Z'>
          <span itemprop='position'>#121</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>More answers soon.</p>
<aside class="quote no-group" data-post="119" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> if you want to open new tasks on phabricator and assign me some, please be aware that I have just recreated an account (previous credentials lost): onion_knight2, waiting for your approval <img src="../../../images/emoji/twitter/winkc164.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
</blockquote>
</aside>
<p>Account confirmed. As for assignment, I don’t know which tasks could be assigned which not. Please pick whatever you like to work on and then self-assign (if that is possible) or just leave a comment that you started working on it on the ticket.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-21T16:18:07Z' class='post-time'>
                August 21, 2019,  4:18pm
              </time>
              <meta itemprop='dateModified' content='2019-08-21T16:18:07Z'>
          <span itemprop='position'>#122</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="118" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>apt install --no-install-recommends gir1.2-spiceclientgtk-3.0</p>
</blockquote>
</aside>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/978da522e9cdc16115459ff569773c4906d3a761" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-libvirt</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/978da522e9cdc16115459ff569773c4906d3a761" target="_blank" rel="nofollow noopener">add Depends: gir1.2-spiceclientgtk-3.0</a>
</h4>

  <pre class="message" style="white-space: normal;">Thanks to @onions-knight for the bug report!
https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/118</pre>

<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/978da522e9cdc16115459ff569773c4906d3a761" target="_blank" rel="nofollow noopener">04:15PM - 21 Aug 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Also added to KVM wiki page:</p>
<p><a href="../../../../external.html?link=https://www.whonix.org/w/index.php?title=KVM&amp;type=revision&amp;diff=50396&amp;oldid=50386" rel="nofollow noopener">https://www.whonix.org/w/index.php?title=KVM&amp;type=revision&amp;diff=50396&amp;oldid=50386</a></p>
<aside class="quote no-group" data-post="118" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>(didn’t have this problem before, was this package dropped in a latest Whonix release?)</p>
</blockquote>
</aside>
<p>Not that I remember and nothing easily found in git history.</p>
<p>//cc <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-21T16:26:48Z' class='post-time'>
                August 21, 2019,  4:26pm
              </time>
              <meta itemprop='dateModified' content='2019-08-21T16:26:48Z'>
          <span itemprop='position'>#123</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="120" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Also, shouldn’t we remove the line autologin-user=user from <code>/etc/lightdm/lightdm.conf</code> (not as problematic, but still).</p>
</blockquote>
</aside>
<p>Done.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/whonix-xfce-desktop-config/commit/a02502a45c754d18856e984bc0d4547cbe759a9a" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-xfce-desktop-config</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/whonix-xfce-desktop-config/commit/a02502a45c754d18856e984bc0d4547cbe759a9a" target="_blank" rel="nofollow noopener">rename /etc/lightdm/lightdm.conf.d/whonix.conf to /etc/lightdm/lightdm.conf.d/whonix-autologin.conf and</a>
</h4>

  <pre class="message" style="white-space: normal;">remove /etc/lightdm/lightdm.conf.d/whonix.conf
to make it a single purpose file which can be easily config-package-dev `displace`ed</pre>

<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/whonix-xfce-desktop-config/commit/a02502a45c754d18856e984bc0d4547cbe759a9a" target="_blank" rel="nofollow noopener">04:24PM - 21 Aug 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>2 files</strong>
  with <strong>1 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/e3395ea7b63d16e2d7c42eea51f002f0b3b425ad" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-libvirt</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/e3395ea7b63d16e2d7c42eea51f002f0b3b425ad" target="_blank" rel="nofollow noopener">config-package-dev hide /etc/lightdm/lightdm.conf.d/whonix-autologin.conf</a>
</h4>

  <pre class="message" style="white-space: normal;">to disable autologin on Whonix-Host
Thanks to @onion-knight for the suggestion!
https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/120</pre>

<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/e3395ea7b63d16e2d7c42eea51f002f0b3b425ad" target="_blank" rel="nofollow noopener">04:25PM - 21 Aug 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>4 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-21T16:40:36Z' class='post-time'>
                August 21, 2019,  4:40pm
              </time>
              <meta itemprop='dateModified' content='2019-08-21T16:40:36Z'>
          <span itemprop='position'>#124</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="120" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Regarding the issue</p>
<ul>
<li>Somehow a user <code>user</code> was created during the build although it should be avoided at all costs (messes with live-user <code>user</code> config + is being copied over onto the host install) -&gt; <strong>to be verified/fixed</strong> (I am currently rebuilding a whonix-host machine to see if this error still happen. Didn’t do a pull request yet as I don’t know exactly what to change)</li>
</ul>
<p>After rebuilding a Whonix-Host-15.0.0.3.6, I found the following: while testing the <strong>RAW</strong> file (not the ISO)</p>
<ul>
<li>no home folder for user <code>user</code> was created during the build</li>
<li>
<strong>BUT the file <code>/etc/passwd</code> contains a valid entry for user <code>user</code></strong> , whose /home directory is created during first boot in persistent mode (along with Desktop, Downloads and Pictures directories, I guess copied from <code>/etc/skel</code> )<br>
<code>user:x:1000:1000::/home/user:/bin/bash</code>
</li>
<li>If I remove this entry from the /etc/passwd file, no /home/user directory is created, and instead of the graphical session, the lightdm login page is loaded (expected behavior)</li>
<li>guess what, default user <code>user</code> password is… changeme -&gt; inherited from Whonix</li>
</ul>
<p>I guess all this is is faulty behavior and not on purpose?</p>
</blockquote>
</aside>
<p>Related source files:</p>
<ul>
<li><a href="../../../../external.html?link=https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst" rel="nofollow noopener">https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst</a></li>
<li><a href="../../../../external.html?link=https://github.com/Whonix/security-misc/blob/master/usr/share/pam-configs/mkhomedir-security-misc" rel="nofollow noopener">https://github.com/Whonix/security-misc/blob/master/usr/share/pam-configs/mkhomedir-security-misc</a></li>
</ul>
<p>So package <code>anon-base-files</code> maintainer script <code>debian/anon-base-files.postinst</code> currently creates user <code>user</code> but without home folder.</p>
<p>Home folder is created on login using PAM mkhomedir.</p>
<p>That is the current implementation which fixes <a href="../../bug-not-all-files-form-etc-skel-are-copied-to-home-user/6778.html" class="inline-onebox">bug: not all files form /etc/skel are copied to /home/user</a>.</p>
<p>What you describe sounds very much like the current implementation.</p>
<p>We could add a feature to skip creation of user <code>user</code> in <a href="../../../../external.html?link=https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst" rel="nofollow noopener">https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst</a>.</p>
<p>Package <code>live-config</code> file <code>/lib/live/config/0030-user-setup</code> seems to be responsible for user creation? That script seems to have a lot parameters / options we can consider. It also does a lot stuff we need to understand. Can we consider to skip <code>/lib/live/config/0030-user-setup</code> and leave that to the existing implementation for greater simplicity and consistency (user <code>user</code> created everywhere the same as much as possible)? Looks like (by reading <code>/lib/live/config/0030-user-setup</code>) by setting <code>LIVE_USERNAME=user</code> we might be able to skip <code>/lib/live/config/0030-user-setup</code>. Untested. Could you try please?</p>
<p>Generally, should we use package <code>live-config</code> folder <code>/lib/live/config/</code> as much or little as possible? We at least need an overview what <code>/lib/live/config/</code> does to check if it compatible with what we want.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../whonix-host-operating-system/3931/92.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../whonix-host-operating-system/3931/92.html'>
                      <span itemprop='name'>Whonix host operating system</span>
                    </a>
                    <meta itemprop='position' content='4'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-22T03:03:28Z' class='post-time'>
                August 22, 2019,  3:03am
              </time>
              <meta itemprop='dateModified' content='2019-08-22T03:03:28Z'>
          <span itemprop='position'>#125</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="122" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Not that I remember and nothing easily found in git history.</p>
<p>//cc <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
</blockquote>
</aside>
<p>Not that I know of. spiceclientgtk used to be pulled automatically as a dep of the packages listed on the KVM wiki page. Could have been changed with Buster (but I had no way to know since I did an in place upgrade of an already installed system).</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-22T08:41:08Z' class='post-time'>
                August 22, 2019,  8:41am
              </time>
              <meta itemprop='dateModified' content='2019-08-22T08:41:08Z'>
          <span itemprop='position'>#126</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="124" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>So package <code>anon-base-files</code> maintainer script <code>debian/anon-base-files.postinst</code> currently creates user <code>user</code> but without home folder.</p>
<p>Home folder is created on login using PAM mkhomedir.</p>
<p>That is the current implementation which fixes <a href="../../bug-not-all-files-form-etc-skel-are-copied-to-home-user/6778.html">bug: not all files form /etc/skel are copied to /home/user </a>.</p>
<p>What you describe sounds very much like the current implementation.</p>
</blockquote>
</aside>
<p>OK, makes sense.</p>
<aside class="quote no-group" data-post="124" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>We could add a feature to skip creation of user <code>user</code> in <a href="../../../../external.html?link=https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst" rel="nofollow noopener">https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst</a>.</p>
</blockquote>
</aside>
<p>If building Whonix-Host? Yes.</p>
<aside class="quote no-group" data-post="124" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Package <code>live-config</code> file <code>/lib/live/config/0030-user-setup</code> seems to be responsible for user creation? That script seems to have a lot parameters / options we can consider. It also does a lot stuff we need to understand. Can we consider to skip <code>/lib/live/config/0030-user-setup</code> and leave that to the existing implementation for greater simplicity and consistency (user <code>user</code> created everywhere the same as much as possible)?</p>
</blockquote>
</aside>
<p>The existing implementation causes too many issues IMHO. What for instance if I want to install Whonix-Host with user <code>user</code>? It will conflict with the existing user + files might be copied over to the install target,  unclean (<code>/etc/passwd</code>, <code>/etc/group</code>, maybe other files even?).</p>
<p>To allow a clean environment for Whonix-Host ISO+installer I think we need to completely skip the user creation part during the build.</p>
<aside class="quote no-group" data-post="124" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Looks like (by reading <code>/lib/live/config/0030-user-setup</code> ) by setting <code>LIVE_USERNAME=user</code> we might be able to skip <code>/lib/live/config/0030-user-setup</code> . Untested. Could you try please?</p>
</blockquote>
</aside>
<p>From <code>man live-config</code>:</p>
<pre><code>   live-config.username=USERNAME | username=USERNAME
       Allows one to set the username that gets created for autologin. The
       default is 'user'.
</code></pre>
<p>-&gt; by default, it already creates a user <code>user</code>. I don’t see the benefits of adding this parameter ourselves?</p>
<aside class="quote no-group" data-post="124" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Generally, should we use package <code>live-config</code> folder <code>/lib/live/config/</code> as much or little as possible? We at least need an overview what <code>/lib/live/config/</code> does to check if it compatible with what we want.</p>
</blockquote>
</aside>
<p>Two solutions:</p>
<ol>
<li>
<p>Explicitly exclude unwanted components as boot parameters: l<code>ive-config.nocomponents=COMPONENT1,COMPONENT2.</code>… (from <code>man live-config</code>) (default behavior is loading all components in <code>/lib/live/config</code>)</p>
</li>
<li>
<p>"Shiping a locally modified live-config package or using dpkg-divert: (from<code>man live-config</code>):</p>
<pre><code>Removing existing config components
    It is not really possible to remove components itself in a sane way yet
    without requiring either to ship a locally modified live-config package
    or using dpkg-divert. However, the same can be  achieved  by  disabling
    the  respective  components through the live-config.nocomponents mecha‐
    nism, see above. To avoid to always need specifying disabled components
    through  the  boot  parameter, a configuration file should be used, see
    above.</code></pre>
</li>
</ol>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-22T08:56:34Z' class='post-time'>
                August 22, 2019,  8:56am
              </time>
              <meta itemprop='dateModified' content='2019-08-22T08:56:34Z'>
          <span itemprop='position'>#127</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a><br>
What git version should I chose if I want to test the newest code with latest changes?</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-22T09:59:52Z' class='post-time'>
                August 22, 2019,  9:59am
              </time>
              <meta itemprop='dateModified' content='2019-08-22T09:59:52Z'>
          <span itemprop='position'>#128</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Building 15.0.0.3.9-developers-only.<br>
Need to start afresh - too many changes in my raw files.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-22T14:02:58Z' class='post-time'>
                August 22, 2019,  2:02pm
              </time>
              <meta itemprop='dateModified' content='2019-08-22T14:21:39Z'>
          <span itemprop='position'>#129</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Building done.</p>
<p>Now using 15.0.0.3.9-developers-only ISO without user <code>user</code> (i.e. manually ran <code>userdel -r</code> user in the raw file before burning the ISO)</p>
<p>First tests seem OK. Autologin works.</p>
<p>I don’t know why yet, but appending <code>live-config.username=test</code> to the boot parameters do not work, i.e. the live-user is always named user regardless.</p>
<p><strong>EDIT:</strong> this works (order is important,<code>live-config.username</code> must be placed before <code>live-config.user-default-groups</code>):</p>
<pre><code>/live/vmlinuz initrd=/live/initrd boot=live live-config.username=test live-config.user-default-groups=libvirt,kvm apparmor=1 security=apparmor ip=frommedia
</code></pre>
<p>Now I have a live user named test, who is part of groups libvirt and kvm (just for testing purposes).</p>
<p>While we are at it, we should probably also change the live user full name from <code>Debian Live User</code> to  <code>Whonix Live User</code>? It is visible in the whisker menu, and probably other place ls as well (<code>live-config.user-fullname=</code> parameter)</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-23T12:34:56Z' class='post-time'>
                August 23, 2019, 12:34pm
              </time>
              <meta itemprop='dateModified' content='2019-08-23T12:34:56Z'>
          <span itemprop='position'>#130</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="125" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Not that I know of. spiceclientgtk used to be pulled automatically as a dep of the packages listed on the KVM wiki page. Could have been changed with Buster (but I had no way to know since I did an in place upgrade of an already installed system).</p>
</blockquote>
</aside>
<p>Hence previously my request to upgrade <a href="../../../../external.html?link=https://www.whonix.org/wiki/KVM" rel="nofollow noopener">https://www.whonix.org/wiki/KVM</a> instructions be be using <code>apt-get --no-install-recommends</code>.</p>
<aside class="quote no-group quote-modified" data-post="126" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<blockquote>
<p>We could add a feature to skip creation of user <code>user</code> in <a href="../../../../external.html?link=https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst" rel="nofollow noopener">https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst</a>.</p>
</blockquote>
<p>If building Whonix-Host? Yes.</p>
</blockquote>
</aside>
<p>Ok.</p>
<aside class="quote no-group" data-post="127" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>What git version should I chose if I want to test the newest code with latest changes?</p>
</blockquote>
</aside>
<aside class="quote no-group" data-post="128" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Building 15.0.0.3.9-developers-only.</p>
</blockquote>
</aside>
<p>There is no newer one yet. I could create an untested one (which I didn’t try to even build, doing that sometimes).</p>
<aside class="quote no-group" data-post="129" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Autologin works.</p>
</blockquote>
</aside>
<p>No git tag includes that change yet to disable that.</p>
<aside class="quote no-group" data-post="129" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>While we are at it, we should probably also change the live user full name from <code>Debian Live User</code> to <code>Whonix Live User</code> ? It is visible in the whisker menu, and probably other place ls as well ( <code>live-config.user-fullname=</code> parameter)</p>
</blockquote>
</aside>
<p>Anything which would be more in line with the idea of <a href="../../../../external.html?link=https://github.com/Whonix/anon-base-files" rel="nofollow noopener">https://github.com/Whonix/anon-base-files</a>?</p>
<p>Can we set full name to (<code>""</code>) empty? Or we set it to <code>user</code>?</p>
<p>Should we set such boot config options using <code>/etc/default/grub.d</code> drop-in folder?<br>
(Quite a few examples in Whonix source code.)</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-23T17:09:55Z' class='post-time'>
                August 23, 2019,  5:09pm
              </time>
              <meta itemprop='dateModified' content='2019-08-23T17:09:55Z'>
          <span itemprop='position'>#131</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Git tag <code>15.0.0.4.0-developers-only</code> (untested) created. Autologin should be sorted.</p>
<p>Not done and coming next as discussed somewhere:</p>
<ul>
<li>disable hardened malloc for in torbrowser wrapper</li>
<li>skip user “user” creation during Whonix host builds</li>
<li>undo umask changes</li>
</ul>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-24T09:21:52Z' class='post-time'>
                August 24, 2019,  9:21am
              </time>
              <meta itemprop='dateModified' content='2019-08-24T09:21:52Z'>
          <span itemprop='position'>#132</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Build fails at <code>././build-steps.d/1200_create-debian-packages</code></p>
<p>Not a big deal, I will wait for the next changes (skip user user)</p>
<p>Full log:</p>
<pre><code>INFO: Variable anon_dist_build_version was already set to: 15.0.0.4.0
++ true 'INFO: Currently running script: ../whonix-developer-meta-files/debug-steps/reprepro-wrapper removesrc' local 'hardened-malloc'
++ true 'INFO: LD_PRELOAD: '
+ set_WHONIX_BUILD_REPREPRO_FOLDER_OPTIONS
+ '[' local = '' ']'
+ '[' local = local ']'
+ temp=aptrepo_local
+ '[' -n '' ']'
+ WHONIX_APT_REPOSITORY_FOLDER=/home/user/whonix_binary/aptrepo_local
+ export WHONIX_APT_REPOSITORY_FOLDER
+ '[' -n '' ']'
+ WHONIX_BUILD_REPREPRO_FOLDER_OPTIONS='         --basedir /home/user/Whonix/aptrepo_local          --outdir /home/user/whonix_binary/aptrepo_local          --dbdir /home/user/whonix_binary/aptrepo_local/db          --logdir /home/user/whonix_binary/aptrepo_local/log'
+ export WHONIX_BUILD_REPREPRO_FOLDER_OPTIONS
+ main removesrc local hardened-malloc
+ reprepro_exit_code=0
++ reprepro --basedir /home/user/Whonix/aptrepo_local --outdir /home/user/whonix_binary/aptrepo_local --dbdir /home/user/whonix_binary/aptrepo_local/db --logdir /home/user/whonix_binary/aptrepo_local/log removesrc local hardened-malloc
+ reprepro_output=
+ echo ''
+ grep 'is already registered with different checksums!'
+ return 0
+ exithandler
+ local exit_code=0
+ '[' '!' 0 = 0 ']'
++ benchmarktimeend 1566588090
+++ date +%s
++ benchmarktimeend=1566588090
++ benchmark_took_seconds=0
+++ convertsecs 0
+++ local h m s
+++ (( h=0/3600 ))
+++ true
+++ (( m=(0%3600)/60 ))
+++ true
+++ (( s=0%60 ))
+++ true
+++ printf '%02d:%02d:%02d\n' 0 0 0
++ echo 00:00:00
+ benchmark_took_time=00:00:00
+ output_cmd_set
+ '[' -o xtrace ']'
+ output_cmd=true
+ '[' 0 = 0 ']'
+ true 'INFO: End of: ../whonix-developer-meta-files/debug-steps/reprepro-wrapper | exit_code: 0 | error(s) detected: 0 | benchmark: 00:00:00'
+ exit 0
+ make -f Makefile deb-cleanup
/usr/share/genmkfile/make-helper.bsh deb-cleanup
/usr/share/genmkfile/make-helper-one.bsh: INFO: deb-cleanup
/usr/share/genmkfile/make-helper-one.bsh: INFO: (internal) make clean
make[1]: Entering directory '/home/user/Whonix/packages/hardened_malloc'
rm -f libhardened_malloc.so chacha.o h_malloc.o memory.o pages.o random.o util.o new.o
make[1]: Leaving directory '/home/user/Whonix/packages/hardened_malloc'
+ sudo --non-interactive -u user -E make -f Makefile deb-pkg
/usr/share/genmkfile/make-helper.bsh deb-pkg 
dpkg: warning: failed to open configuration file '/root/.dpkg.cfg' for reading: Permission denied
/usr/share/genmkfile/make-helper-one.bsh: INFO: deb-cleanup
dpkg: warning: failed to open configuration file '/root/.dpkg.cfg' for reading: Permission denied
/usr/share/genmkfile/make-helper-one.bsh: INFO: (internal) make clean
make[1]: Entering directory '/home/user/Whonix/packages/hardened_malloc'
rm -f libhardened_malloc.so chacha.o h_malloc.o memory.o pages.o random.o util.o new.o
make[1]: Leaving directory '/home/user/Whonix/packages/hardened_malloc'
/usr/share/genmkfile/make-helper-one.bsh: INFO: dist
dpkg: warning: failed to open configuration file '/root/.dpkg.cfg' for reading: Permission denied
/usr/share/genmkfile/make-helper-one.bsh: INFO: debdist
dpkg: warning: failed to open configuration file '/root/.dpkg.cfg' for reading: Permission denied
/usr/share/genmkfile/make-helper-one.bsh: INFO: debdsc
dpkg: warning: failed to open configuration file '/root/.dpkg.cfg' for reading: Permission denied
dpkg-source: info: using source format '3.0 (custom)'
dpkg-source: info: building hardened-malloc in hardened-malloc_0.5-1.dsc
/usr/share/genmkfile/make-helper-one.bsh: INFO: deb-pkg-build
dpkg: warning: failed to open configuration file '/root/.dpkg.cfg' for reading: Permission denied
I: Copying COW directory
I: forking: rm -rf /var/cache/pbuilder/cow.cow_amd64/cow.2314
I: forking: cp -al /var/cache/pbuilder/base.cow_amd64 /var/cache/pbuilder/cow.cow_amd64/cow.2314
I: removed stale ilistfile /var/cache/pbuilder/cow.cow_amd64/cow.2314/.ilist
I: forking: chroot /var/cache/pbuilder/cow.cow_amd64/cow.2314 cowdancer-ilistcreate /.ilist 'find . -xdev -path ./home -prune -o \( \( -type l -o -type f \) -a -links +1 -print0 \) | xargs -0 stat --format '%d %i ''
I: Invoking pbuilder
I: forking: pbuilder build --host-arch amd64 --buildplace /var/cache/pbuilder/cow.cow_amd64/cow.2314 --buildresult /home/user/whonix_binary/genmkfile-packages-result --mirror http://HTTPS///deb.debian.org/debian --distribution buster --extrapackages ' debhelper  genmkfile clang llvm-7-dev clang-tidy' --no-targz --internal-chrootexec 'chroot /var/cache/pbuilder/cow.cow_amd64/cow.2314 cow-shell' /home/user/whonix_binary/genmkfile-packages-result/hardened-malloc_0.5-1.dsc
W: /root/.pbuilderrc does not exist
I: Running in no-targz mode
I: pbuilder: network access will be disabled during build
I: Current time: Fri Aug 23 19:21:31 UTC 2019
I: pbuilder-time-stamp: 1566588091
I: copying local configuration
W: --override-config is not set; not updating apt.conf Read the manpage for details.
I: mounting /proc filesystem
I: mounting /sys filesystem
I: creating /{dev,run}/shm
I: mounting /dev/pts filesystem
I: redirecting /dev/ptmx to /dev/pts/ptmx
I: policy-rc.d already exists
I: Obtaining the cached apt archive contents
I: Copying source file
I: copying [/home/user/whonix_binary/genmkfile-packages-result/hardened-malloc_0.5-1.dsc]
I: copying [/home/user/whonix_binary/genmkfile-packages-result/hardened-malloc_0.5.orig.tar.xz]
I: copying [/home/user/whonix_binary/genmkfile-packages-result/hardened-malloc_0.5-1.debian.tar.xz]
I: Extracting source
dpkg-source: warning: extracting unsigned source package (hardened-malloc_0.5-1.dsc)
dpkg-source: info: extracting hardened-malloc in hardened-malloc-0.5
dpkg-source: info: unpacking hardened-malloc_0.5.orig.tar.xz
dpkg-source: info: unpacking hardened-malloc_0.5-1.debian.tar.xz
I: using fakeroot in build.
I: Installing the build-deps
 -&gt; Attempting to satisfy build-dependencies
 -&gt; Creating pbuilder-satisfydepends-dummy package
Package: pbuilder-satisfydepends-dummy
Version: 0.invalid.0
Architecture: amd64
Maintainer: Debian Pbuilder Team &lt;pbuilder-maint@lists.alioth.debian.org&gt;
Description: Dummy package to satisfy dependencies with aptitude - created by pbuilder
 This package was created automatically by pbuilder to satisfy the
 build-dependencies of the package being currently built.
Depends: debhelper (&gt;= 12), genmkfile, clang, llvm-7-dev, clang-tidy
dpkg-deb: building package 'pbuilder-satisfydepends-dummy' in '/tmp/satisfydepends-aptitude/pbuilder-satisfydepends-dummy.deb'.
Selecting previously unselected package pbuilder-satisfydepends-dummy.
(Reading database ... 20411 files and directories currently installed.)
Preparing to unpack .../pbuilder-satisfydepends-dummy.deb ...
Unpacking pbuilder-satisfydepends-dummy (0.invalid.0) ...
dpkg: pbuilder-satisfydepends-dummy: dependency problems, but configuring anyway as you requested:
 pbuilder-satisfydepends-dummy depends on clang; however:
  Package clang is not installed.
 pbuilder-satisfydepends-dummy depends on llvm-7-dev; however:
  Package llvm-7-dev is not installed.
 pbuilder-satisfydepends-dummy depends on clang-tidy; however:
  Package clang-tidy is not installed.

Setting up pbuilder-satisfydepends-dummy (0.invalid.0) ...
pbuilder-satisfydepends-dummy is already installed at the requested version (0.invalid.0)
pbuilder-satisfydepends-dummy is already installed at the requested version (0.invalid.0)
The following NEW packages will be installed:
  binfmt-support{a} clang{a} clang-7{a} clang-tidy{a} clang-tidy-7{a} 
  clang-tools-7{a} lib32gcc1{a} lib32stdc++6{a} libc6-i386{a} 
  libclang-common-7-dev{a} libclang1-7{a} libedit2{a} libffi-dev{a} 
  libgc1c2{a} libllvm7{a} libncurses-dev{a} libobjc-8-dev{a} libobjc4{a} 
  libtinfo-dev{a} libyaml-0-2{a} llvm-7{a} llvm-7-dev{a} llvm-7-runtime{a} 
  python-yaml{a} 
The following packages are RECOMMENDED but will NOT be installed:
  libomp-7-dev 
0 packages upgraded, 24 newly installed, 0 to remove and 0 not upgraded.
Need to get 122 MB/122 MB of archives. After unpacking 612 MB will be used.
Get: 1 http://HTTPS///deb.debian.org/debian buster/main amd64 binfmt-support amd64 2.2.0-2 [70.0 kB]
Get: 2 http://HTTPS///deb.debian.org/debian buster/main amd64 libedit2 amd64 3.1-20181209-1 [94.0 kB]
Get: 3 http://HTTPS///deb.debian.org/debian buster/main amd64 libllvm7 amd64 1:7.0.1-8 [13.0 MB]
Get: 4 http://HTTPS///deb.debian.org/debian buster/main amd64 libgc1c2 amd64 1:7.6.4-0.4 [224 kB]
Get: 5 http://HTTPS///deb.debian.org/debian buster/main amd64 libobjc4 amd64 8.3.0-6 [50.3 kB]
Get: 6 http://HTTPS///deb.debian.org/debian buster/main amd64 libobjc-8-dev amd64 8.3.0-6 [226 kB]
Get: 7 http://HTTPS///deb.debian.org/debian buster/main amd64 libc6-i386 amd64 2.28-10 [2872 kB]
Get: 8 http://HTTPS///deb.debian.org/debian buster/main amd64 lib32gcc1 amd64 1:8.3.0-6 [47.9 kB]
Get: 9 http://HTTPS///deb.debian.org/debian buster/main amd64 lib32stdc++6 amd64 8.3.0-6 [407 kB]
Get: 10 http://HTTPS///deb.debian.org/debian buster/main amd64 libclang-common-7-dev amd64 1:7.0.1-8 [3154 kB]
Get: 11 http://HTTPS///deb.debian.org/debian buster/main amd64 libclang1-7 amd64 1:7.0.1-8 [5993 kB]
Get: 12 http://HTTPS///deb.debian.org/debian buster/main amd64 clang-7 amd64 1:7.0.1-8 [7891 kB]
Get: 13 http://HTTPS///deb.debian.org/debian buster/main amd64 clang amd64 1:7.0-47 [7468 B]
Get: 14 http://HTTPS///deb.debian.org/debian buster/main amd64 clang-tools-7 amd64 1:7.0.1-8 [55.2 MB]
Get: 15 http://HTTPS///deb.debian.org/debian buster/main amd64 python-yaml amd64 3.13-2 [127 kB]
Get: 16 http://HTTPS///deb.debian.org/debian buster/main amd64 clang-tidy-7 amd64 1:7.0.1-8 [5745 kB]
Get: 17 http://HTTPS///deb.debian.org/debian buster/main amd64 clang-tidy amd64 1:7.0-47 [7232 B]
Get: 18 http://HTTPS///deb.debian.org/debian buster/main amd64 libffi-dev amd64 3.2.1-9 [156 kB]
Get: 19 http://HTTPS///deb.debian.org/debian buster/main amd64 libncurses-dev amd64 6.1+20181013-2 [333 kB]
Get: 20 http://HTTPS///deb.debian.org/debian buster/main amd64 libtinfo-dev amd64 6.1+20181013-2 [932 B]
Get: 21 http://HTTPS///deb.debian.org/debian buster/main amd64 llvm-7-runtime amd64 1:7.0.1-8 [190 kB]
Get: 22 http://HTTPS///deb.debian.org/debian buster/main amd64 llvm-7 amd64 1:7.0.1-8 [4553 kB]
Get: 23 http://HTTPS///deb.debian.org/debian buster/main amd64 llvm-7-dev amd64 1:7.0.1-8 [21.3 MB]
Fetched 122 MB in 1s (125 MB/s)       
Selecting previously unselected package binfmt-support.
(Reading database ... 20411 files and directories currently installed.)
Preparing to unpack .../00-binfmt-support_2.2.0-2_amd64.deb ...
Unpacking binfmt-support (2.2.0-2) ...
Selecting previously unselected package libedit2:amd64.
Preparing to unpack .../01-libedit2_3.1-20181209-1_amd64.deb ...
Unpacking libedit2:amd64 (3.1-20181209-1) ...
Selecting previously unselected package libllvm7:amd64.
Preparing to unpack .../02-libllvm7_1%3a7.0.1-8_amd64.deb ...
Unpacking libllvm7:amd64 (1:7.0.1-8) ...
Selecting previously unselected package libgc1c2:amd64.
Preparing to unpack .../03-libgc1c2_1%3a7.6.4-0.4_amd64.deb ...
Unpacking libgc1c2:amd64 (1:7.6.4-0.4) ...
Selecting previously unselected package libobjc4:amd64.
Preparing to unpack .../04-libobjc4_8.3.0-6_amd64.deb ...
Unpacking libobjc4:amd64 (8.3.0-6) ...
Selecting previously unselected package libobjc-8-dev:amd64.
Preparing to unpack .../05-libobjc-8-dev_8.3.0-6_amd64.deb ...
Unpacking libobjc-8-dev:amd64 (8.3.0-6) ...
Selecting previously unselected package libc6-i386.
Preparing to unpack .../06-libc6-i386_2.28-10_amd64.deb ...
Unpacking libc6-i386 (2.28-10) ...
Selecting previously unselected package lib32gcc1.
Preparing to unpack .../07-lib32gcc1_1%3a8.3.0-6_amd64.deb ...
Unpacking lib32gcc1 (1:8.3.0-6) ...
Selecting previously unselected package lib32stdc++6.
Preparing to unpack .../08-lib32stdc++6_8.3.0-6_amd64.deb ...
Unpacking lib32stdc++6 (8.3.0-6) ...
Selecting previously unselected package libclang-common-7-dev.
Preparing to unpack .../09-libclang-common-7-dev_1%3a7.0.1-8_amd64.deb ...
Unpacking libclang-common-7-dev (1:7.0.1-8) ...
Selecting previously unselected package libclang1-7.
Preparing to unpack .../10-libclang1-7_1%3a7.0.1-8_amd64.deb ...
Unpacking libclang1-7 (1:7.0.1-8) ...
Selecting previously unselected package clang-7.
Preparing to unpack .../11-clang-7_1%3a7.0.1-8_amd64.deb ...
Unpacking clang-7 (1:7.0.1-8) ...
Selecting previously unselected package clang.
Preparing to unpack .../12-clang_1%3a7.0-47_amd64.deb ...
Unpacking clang (1:7.0-47) ...
Selecting previously unselected package clang-tools-7.
Preparing to unpack .../13-clang-tools-7_1%3a7.0.1-8_amd64.deb ...
Unpacking clang-tools-7 (1:7.0.1-8) ...
Selecting previously unselected package libyaml-0-2:amd64.
Preparing to unpack .../14-libyaml-0-2_0.2.1-1_amd64.deb ...
Unpacking libyaml-0-2:amd64 (0.2.1-1) ...
Selecting previously unselected package python-yaml.
Preparing to unpack .../15-python-yaml_3.13-2_amd64.deb ...
Unpacking python-yaml (3.13-2) ...
Selecting previously unselected package clang-tidy-7.
Preparing to unpack .../16-clang-tidy-7_1%3a7.0.1-8_amd64.deb ...
Unpacking clang-tidy-7 (1:7.0.1-8) ...
Selecting previously unselected package clang-tidy.
Preparing to unpack .../17-clang-tidy_1%3a7.0-47_amd64.deb ...
Unpacking clang-tidy (1:7.0-47) ...
Selecting previously unselected package libffi-dev:amd64.
Preparing to unpack .../18-libffi-dev_3.2.1-9_amd64.deb ...
Unpacking libffi-dev:amd64 (3.2.1-9) ...
Selecting previously unselected package libncurses-dev:amd64.
Preparing to unpack .../19-libncurses-dev_6.1+20181013-2_amd64.deb ...
Unpacking libncurses-dev:amd64 (6.1+20181013-2) ...
Selecting previously unselected package libtinfo-dev:amd64.
Preparing to unpack .../20-libtinfo-dev_6.1+20181013-2_amd64.deb ...
Unpacking libtinfo-dev:amd64 (6.1+20181013-2) ...
Selecting previously unselected package llvm-7-runtime.
Preparing to unpack .../21-llvm-7-runtime_1%3a7.0.1-8_amd64.deb ...
Unpacking llvm-7-runtime (1:7.0.1-8) ...
Selecting previously unselected package llvm-7.
Preparing to unpack .../22-llvm-7_1%3a7.0.1-8_amd64.deb ...
Unpacking llvm-7 (1:7.0.1-8) ...
Selecting previously unselected package llvm-7-dev.
Preparing to unpack .../23-llvm-7-dev_1%3a7.0.1-8_amd64.deb ...
Unpacking llvm-7-dev (1:7.0.1-8) ...
E: Sub-process /usr/bin/dpkg exited unexpectedly
Setting up libncurses-dev:amd64 (6.1+20181013-2) ...
Setting up libgc1c2:amd64 (1:7.6.4-0.4) ...
Setting up libyaml-0-2:amd64 (0.2.1-1) ...
Setting up libedit2:amd64 (3.1-20181209-1) ...
Setting up libobjc4:amd64 (8.3.0-6) ...
Setting up libffi-dev:amd64 (3.2.1-9) ...
Setting up libobjc-8-dev:amd64 (8.3.0-6) ...
Setting up binfmt-support (2.2.0-2) ...
Created symlink /etc/systemd/system/multi-user.target.wants/binfmt-support.service -&gt; /lib/systemd/system/binfmt-support.service.
Running in chroot, ignoring request.
invoke-rc.d: policy-rc.d denied execution of start.
Setting up libc6-i386 (2.28-10) ...
Setting up libllvm7:amd64 (1:7.0.1-8) ...
Setting up python-yaml (3.13-2) ...
Setting up libclang1-7 (1:7.0.1-8) ...
Setting up libtinfo-dev:amd64 (6.1+20181013-2) ...
Setting up llvm-7-runtime (1:7.0.1-8) ...
Setting up llvm-7 (1:7.0.1-8) ...
Setting up lib32gcc1 (1:8.3.0-6) ...
Setting up lib32stdc++6 (8.3.0-6) ...
Setting up libclang-common-7-dev (1:7.0.1-8) ...
Setting up clang-7 (1:7.0.1-8) ...
Setting up clang-tools-7 (1:7.0.1-8) ...
Setting up clang (1:7.0-47) ...
Setting up clang-tidy-7 (1:7.0.1-8) ...
Setting up clang-tidy (1:7.0-47) ...
Processing triggers for systemd (241-5) ...
Processing triggers for man-db (2.8.5-2) ...
Processing triggers for libc-bin (2.28-10) ...
[ ERR] Writing extended state information
[ ERR] Building tag database

Current status: 0 (-1) broken, 1 (+1) upgradable.
E: Failed to fork process for dpkg selections.
E: failed to save selections to dpkg database
E: pbuilder-satisfydepends failed.
I: Copying back the cached apt archive contents
I: new cache content 'llvm-7-dev_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'llvm-7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'llvm-7-runtime_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'libtinfo-dev_6.1+20181013-2_amd64.deb' added
I: new cache content 'libncurses-dev_6.1+20181013-2_amd64.deb' added
I: new cache content 'libffi-dev_3.2.1-9_amd64.deb' added
I: new cache content 'clang-tidy_1%3a7.0-47_amd64.deb' added
I: new cache content 'clang-tidy-7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'python-yaml_3.13-2_amd64.deb' added
I: new cache content 'clang-tools-7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'clang_1%3a7.0-47_amd64.deb' added
I: new cache content 'clang-7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'libclang1-7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'libclang-common-7-dev_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'lib32stdc++6_8.3.0-6_amd64.deb' added
I: new cache content 'lib32gcc1_1%3a8.3.0-6_amd64.deb' added
I: new cache content 'libc6-i386_2.28-10_amd64.deb' added
I: new cache content 'libobjc-8-dev_8.3.0-6_amd64.deb' added
I: new cache content 'libobjc4_8.3.0-6_amd64.deb' added
I: new cache content 'libgc1c2_1%3a7.6.4-0.4_amd64.deb' added
I: new cache content 'libllvm7_1%3a7.0.1-8_amd64.deb' added
I: new cache content 'libedit2_3.1-20181209-1_amd64.deb' added
I: new cache content 'binfmt-support_2.2.0-2_amd64.deb' added
I: unmounting dev/ptmx filesystem
I: unmounting dev/pts filesystem
I: unmounting dev/shm filesystem
I: unmounting proc filesystem
I: unmounting sys filesystem
I: Cleaning COW directory
I: forking: rm -rf /var/cache/pbuilder/cow.cow_amd64/cow.2314
make: *** [/usr/share/genmkfile/makefile-full:67: deb-pkg] Error 1
++ errorhandlergeneral ERR
++ last_failed_exit_code=2
++ last_failed_bash_command='sudo $SUDO_OPTS -E make -f "$make_file" deb-pkg'
++ output_cmd_set
++ '[' -o xtrace ']'
++ output_cmd=true
++ true 'INFO: Middle of function errorhandlergeneral of ././build-steps.d/1200_create-debian-packages.'
++ errorhandlerprocessshared ERR
++ last_script=././build-steps.d/1200_create-debian-packages
++ trap_signal_type_previous=
++ '[' '' = '' ']'
++ trap_signal_type_previous=unset
++ trap_signal_type_last=ERR
++ whonix_build_error_counter=1
+++ benchmarktimeend 1566588089
++++ date +%s
+++ benchmarktimeend=1566588107
+++ benchmark_took_seconds=18
++++ convertsecs 18
++++ local h m s
++++ (( h=18/3600 ))
++++ true
++++ (( m=(18%3600)/60 ))
++++ true
++++ (( s=18%60 ))
++++ printf '%02d:%02d:%02d\n' 0 0 18
+++ echo 00:00:18
++ benchmark_took_time=00:00:18
++ processbacktracefunction
++ true 'INFO: BEGIN: processbacktracefunction'
++ '[' -o xtrace ']'
++ set +x
++ true 'INFO: END  : processbacktracefunction'
++ functiontracefunction
++ true 'INFO: BEGIN: functiontracefunction'
++ '[' -o xtrace ']'
++ set +x
++ true 'INFO: END  : functiontracefunction'
++ output_cmd_set
++ '[' -o xtrace ']'
++ output_cmd=true
++ true '</code></pre>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../hardened-malloc-package-build-failed-unpacking-llvm-7-dev-1-7-0-1-8-e-sub-process-usr-bin-dpkg-exited-unexpectedly/7950.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../hardened-malloc-package-build-failed-unpacking-llvm-7-dev-1-7-0-1-8-e-sub-process-usr-bin-dpkg-exited-unexpectedly/7950.html'>
                      <span itemprop='name'>hardened-malloc package build failed - Unpacking llvm-7-dev (1:7.0.1-8) ... - E: Sub-process /usr/bin/dpkg exited unexpectedly</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../cowbuilder-debugging/7951/26.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../cowbuilder-debugging/7951/26.html'>
                      <span itemprop='name'>cowbuilder debugging</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../cowbuilder-debugging/7951/22.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../cowbuilder-debugging/7951/22.html'>
                      <span itemprop='name'>cowbuilder debugging</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../cowbuilder-debugging/7951.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../cowbuilder-debugging/7951.html'>
                      <span itemprop='name'>cowbuilder debugging</span>
                    </a>
                    <meta itemprop='position' content='4'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-24T13:05:00Z' class='post-time'>
                August 24, 2019,  1:05pm
              </time>
              <meta itemprop='dateModified' content='2019-08-24T13:05:00Z'>
          <span itemprop='position'>#133</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>onion_knight via Whonix Forum:</p>
<blockquote>
<pre><code>Preparing to unpack .../23-llvm-7-dev_1%3a7.0.1-8_amd64.deb ...
Unpacking llvm-7-dev (1:7.0.1-8) ...
E: Sub-process /usr/bin/dpkg exited unexpectedly
</code></pre>
</blockquote>
<p>Strange. Why would that unpacking a random package in the middle of tons<br>
of others fail.</p>
<p>Disk full perhaps?</p>
<p>Trying to build now…</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="../7350af4d.html?page=5">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="../7350235c.html?page=7">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
