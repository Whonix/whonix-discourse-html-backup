<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix Desktop Installer with Calamares - field report - #187 by Patrick - Development - Whonix Forum</title>
    <meta name="description" content="So after a few days playing with Calamares and my ‚ÄúWhonix Desktop‚Äù VM and ISO files, I thought it would be time to report back my experience. 
See also 


For the discussion related to the Whonix Host/Desktop project. 
I&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../73501448.html?page=10" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix Desktop Installer with Calamares - field report&#39;" href="../7350.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5564981a244c37b36b7c1610924d97da327c5b88.png" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5564981a244c37b36b7c1610924d97da327c5b88.png" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/187" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/187" />
<meta property="og:title" content="Whonix Desktop Installer with Calamares - field report" />
<meta name="twitter:title" content="Whonix Desktop Installer with Calamares - field report" />
<meta property="og:description" content="Yes, sure.  As soon as I know the name of these packages, these can be - depending on the package either added to documentation and/or be added here https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine for automatic installation during build.   Yay! ü•≥   https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine#L236  package https://packages.debian.org/buster/syslinux  contains /usr/lib/SYSLINUX/ (all upper case)  https:/..." />
<meta name="twitter:description" content="Yes, sure.  As soon as I know the name of these packages, these can be - depending on the package either added to documentation and/or be added here https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine for automatic installation during build.   Yay! ü•≥   https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine#L236  package https://packages.debian.org/buster/syslinux  contains /usr/lib/SYSLINUX/ (all upper case)  https:/..." />
<meta property="article:published_time" content="2019-08-29T16:46:17+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="../73500b08.html?page=9">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../7350.html">Whonix Desktop Installer with Calamares - field report</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-27T13:53:21Z' class='post-time'>
                August 27, 2019,  1:53pm
              </time>
              <meta itemprop='dateModified' content='2019-08-27T13:53:21Z'>
          <span itemprop='position'>#181</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Speculation: an old version of helper-scripts (<code>pre.bsh</code>) shipped in Whonix stable is the cause of this. By installing newer helper-scripts before building Whonix, none of this might happen.</p>
<p>I am probably building with a newer version of helper-scripts, hence not able to reproduce.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-27T14:09:30Z' class='post-time'>
                August 27, 2019,  2:09pm
              </time>
              <meta itemprop='dateModified' content='2019-08-27T14:09:30Z'>
          <span itemprop='position'>#182</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I‚Äôll be away for some time as usual.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-28T13:55:59Z' class='post-time'>
                August 28, 2019,  1:55pm
              </time>
              <meta itemprop='dateModified' content='2019-08-28T13:55:59Z'>
          <span itemprop='position'>#183</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>All my build attempts failed, both on the fresh and the old VM.</p>
<p>As of now, I am unable to build Whonix.</p>
<p>Different errors were thrown, I didn‚Äôt have time to take note of all of them. I will retry afresh as soon as possible and report back.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-28T14:07:41Z' class='post-time'>
                August 28, 2019,  2:07pm
              </time>
              <meta itemprop='dateModified' content='2019-08-28T14:07:41Z'>
          <span itemprop='position'>#184</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Building inside Whonix?<br>
Not sure that would help but deleting old pre.bsh might help.<br>
Or getting newer helper-scripts (pre.bsh) from testers repository (i.e upgrade from testers repository).</p>
<p>sudo rm /usr/lib/helper-scripts/pre.bsh<br>
sudo rm /usr/lib/pre.bsh</p>
<p>Also the umask changes (later undone already) might cause some issues.</p>
<p>I am building either in Debian buster VMs (with newest security-misc package) or in Whonix VMs which are updated from testers repository. That might make the difference if you‚Äôre using stable or testers version of Whonix.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-28T14:34:45Z' class='post-time'>
                August 28, 2019,  2:34pm
              </time>
              <meta itemprop='dateModified' content='2019-08-28T14:34:45Z'>
          <span itemprop='position'>#185</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The ‚Äúold‚Äù VM is an up-to-date debian buster VM. I always built Whonix with it, without problems, until now, where it always fails.<br>
The newer one is a Whonix-Workstation VM, didn‚Äôt check the repos I am using.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">

            <link itemprop="image" href="../../../uploads/default/original/2X/7/745fb065d1f3811c63ddad6ccdf7463f1e58aa43.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-29T15:01:52Z' class='post-time'>
                August 29, 2019,  3:01pm
              </time>
              <meta itemprop='dateModified' content='2019-08-29T15:01:52Z'>
          <span itemprop='position'>#186</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>OK, so I recreated a fresh debian buster VM as build machine (not a Whonix Workstation).</p>
<p>First remark: there are a bunch of packages that are needed in order to build Whonix that are not listed in the building documentation and that I had to add manually. Maybe worth updating the documentation?</p>
<p><strong>The good news: the build finally succeeded</strong></p>
<p>Well, it did fail at <code>././build-steps.d/2550_convert-raw-to-iso</code>**</p>
<pre><code>+++ cp /home/user/whonix_binary/image/boot/isolinux/
cp: missing destination file operand after '/home/user/whonix_binary/image/boot/isolinux/'
</code></pre>
<p>As far as I understand the real cause is that I had no directory <code>/usr/lib/syslinux</code> on the building host, and therefore the following cp command could not be executed:<br>
<code>cp /usr/lib/syslinux/modules/bios/* "$WHONIX_BINARY/image/boot/isolinux/"</code><br>
<strong>Installing syslinux package on the building host solved the problem.</strong></p>
<p>ISO seems to work. Boots normally into X. I will do more tests tomorrow.<br>
Screenshot:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="../../../uploads/default/original/2X/7/745fb065d1f3811c63ddad6ccdf7463f1e58aa43.png" data-download-href="//forums.whonix.org/uploads/default/745fb065d1f3811c63ddad6ccdf7463f1e58aa43" title="17.png"><img src="../../../uploads/default/optimized/2X/7/745fb065d1f3811c63ddad6ccdf7463f1e58aa43_2_673x500.png" alt="17" data-base62-sha1="gBuoLnVFGtpfZuhMFraQ0qQa7TB" width="673" height="500" srcset="//forums.whonix.org/uploads/default/optimized/2X/7/745fb065d1f3811c63ddad6ccdf7463f1e58aa43_2_673x500.png, //forums.whonix.org/uploads/default/optimized/2X/7/745fb065d1f3811c63ddad6ccdf7463f1e58aa43_2_1009x750.png 1.5x, //forums.whonix.org/uploads/default/original/2X/7/745fb065d1f3811c63ddad6ccdf7463f1e58aa43.png 2x" data-small-upload="../../../uploads/default/optimized/2X/7/745fb065d1f3811c63ddad6ccdf7463f1e58aa43_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">17.png</span><span class="informations">1027√ó763 203 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-29T16:46:17Z' class='post-time'>
                August 29, 2019,  4:46pm
              </time>
              <meta itemprop='dateModified' content='2019-08-29T16:46:17Z'>
          <span itemprop='position'>#187</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="186" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>First remark: there are a bunch of packages that are needed in order to build Whonix that are not listed in the building documentation and that I had to add manually. Maybe worth updating the documentation?</p>
</blockquote>
</aside>
<p>Yes, sure.</p>
<p>As soon as I know the name of these packages, these can be - depending on the package either added to documentation and/or be added here <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine" rel="nofollow noopener">https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine</a> for automatic installation during build.</p>
<aside class="quote no-group" data-post="186" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><strong>The good news: the build finally succeeded</strong></p>
</blockquote>
</aside>
<p>Yay! <img src="../../../images/emoji/twitter/partying_facec164.png?v=9" title=":partying_face:" class="emoji" alt=":partying_face:"></p>
<aside class="quote no-group" data-post="186" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>As far as I understand the real cause is that I had no directory <code>/usr/lib/syslinux</code> on the building host,</p>
</blockquote>
</aside>
<p><a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine#L236" rel="nofollow noopener">https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine#L236</a></p>
<p>package <a href="../../../../external.html?link=https://packages.debian.org/buster/syslinux" rel="nofollow noopener">https://packages.debian.org/buster/syslinux</a><br>
contains /usr/lib/SYSLINUX/ (all upper case)<br>
<a href="../../../../external.html?link=https://packages.debian.org/buster/amd64/syslinux/filelist" rel="nofollow noopener">https://packages.debian.org/buster/amd64/syslinux/filelist</a></p>
<p>Would you like to add it here</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine#L236" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine#L236" target="_blank" rel="nofollow noopener">Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine#L236</a></h4>
<pre class="onebox"><code class="lang-d/1120_prepare-build-machine"><ol class="start lines" start="226" style="counter-reset: li-counter 225 ;">
<li>      packages_to_be_installed+=" virtualbox-source "</li>
<li>      ## The cli package which provides 'VBoxManage'.</li>
<li>      packages_to_be_installed+=" virtualbox "</li>
<li>      ## The gui package which provides 'virtualbox'.</li>
<li>      ## Not required for build but makes sense to have installed for everyone who wants to run their own builds.</li>
<li>      packages_to_be_installed+=" virtualbox-qt "</li>
<li>   fi</li>
<li>
</li>
<li>fi</li>
<li>
</li>
<li class="selected">if [ "$WHONIX_BUILD_ISO" = "true" ]; then</li>
<li>   ## xorriso</li>
<li>   packages_to_be_installed+=" xorriso "</li>
<li>   ## mksquashfs</li>
<li>   packages_to_be_installed+=" squashfs-tools "</li>
<li>   ## grub-mkimage</li>
<li>   packages_to_be_installed+=" grub-common "</li>
<li>   ## /usr/lib/ISOLINUX/isolinux.bin</li>
<li>   packages_to_be_installed+=" isolinux "</li>
<li>   ## /boot/memtest86+.bin</li>
<li>   packages_to_be_installed+=" memtest86+ "</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>or I could add it there too.</p>
<p>Btw why isolinux / syslinux?</p>
<p>Low priority: worth switching to grub2? Would you know how to do that?</p>
<p>Would grub2 be better for UEFI support?</p>
<p>And would grub2 be better for Secure Boot support?<br>
(<a href="../../enable-linux-kernel-gpg-verification-in-grub-and-or-enable-secure-boot-by-default/7894.html" class="inline-onebox">enable Linux kernel gpg verification in grub and/or enable Secure Boot by default</a>)</p>
<p>Maybe it doesn‚Äôt really matter since if we wanted to be compatible with Secure Boot (on the host) we might be able to combine shim-signed with isolinux/syslinux too?</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-30T08:36:11Z' class='post-time'>
                August 30, 2019,  8:36am
              </time>
              <meta itemprop='dateModified' content='2019-08-30T08:36:11Z'>
          <span itemprop='position'>#188</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This has a small chance of a regression in next build (<code>15.0.0.4.9-developers-only</code> and above but that tag is yet to be created).</p>
<aside class="quote" data-post="1" data-topic="7977">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="../../port-from-useradd-groupadd-and-usermod-to-adduser-and-addgroup/7977.html">port from useradd, groupadd and usermod to adduser and addgroup</a> <a class="badge-wrapper  bullet" href="../../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    adduser and addgroup

Quoted from Debian adduser manpage: 

They are friendlier front ends to the low level tools like useradd, groupadd and usermod programs, by default choosing Debian policy conformant UID and GID values, creating a home directory with skeletal configuration, running a custom script, and other features.
  </blockquote>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">

            <link itemprop="image" href="../../../uploads/default/original/2X/d/d95d833ffb819ba06d2942ff512b05e31bae777c.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-30T10:02:09Z' class='post-time'>
                August 30, 2019, 10:02am
              </time>
              <meta itemprop='dateModified' content='2019-08-30T10:02:09Z'>
          <span itemprop='position'>#189</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="187" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes, sure.</p>
<p>As soon as I know the name of these packages, these can be - depending on the package either added to documentation and/or be added here <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine" rel="nofollow noopener">https://github.com/Whonix/Whonix/blob/master/build-steps.d/1120_prepare-build-machine</a> for automatic installation during build.</p>
</blockquote>
</aside>
<p>Ok, I‚Äôll try to update the list later. Nothing urgent.</p>
<aside class="quote no-group" data-post="187" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>package <a href="../../../../external.html?link=https://packages.debian.org/buster/syslinux" rel="nofollow noopener">https://packages.debian.org/buster/syslinux</a><br>
contains /usr/lib/SYSLINUX/ (all upper case)<br>
<a href="../../../../external.html?link=https://packages.debian.org/buster/amd64/syslinux/filelist" rel="nofollow noopener">https://packages.debian.org/buster/amd64/syslinux/filelist</a></p>
<p>Would you like to add it here</p>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-post="187" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Btw why isolinux / syslinux?</p>
</blockquote>
</aside>
<p>Used for legacy bios boot. Not sure why isolinux instead of grub2‚Ä¶ Grub2 is used for EFI bios. This is why we have both in the ISO file. If you boot the ISO in EFI mode, it automatically loads the grub loader. See screenshots below (KVM virtualization, not real hardware):<br>
<div class="lightbox-wrapper"><a class="lightbox" href="../../../uploads/default/original/2X/d/d95d833ffb819ba06d2942ff512b05e31bae777c.png" data-download-href="//forums.whonix.org/uploads/default/d95d833ffb819ba06d2942ff512b05e31bae777c" title="19.png"><img src="../../../uploads/default/original/2X/d/d95d833ffb819ba06d2942ff512b05e31bae777c.png" alt="19" data-base62-sha1="v0TXAw2jAPHaRg500pZf8BgQzE0" width="690" height="449" data-small-upload="../../../uploads/default/optimized/2X/d/d95d833ffb819ba06d2942ff512b05e31bae777c_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">19.png</span><span class="informations">876√ó571 1.63 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
<div class="lightbox-wrapper"><a class="lightbox" href="../../../uploads/default/original/2X/8/8662b363e5dc7639e9482efb2b3a12cf510fa204.png" data-download-href="//forums.whonix.org/uploads/default/8662b363e5dc7639e9482efb2b3a12cf510fa204" title="20.png"><img src="../../../uploads/default/optimized/2X/8/8662b363e5dc7639e9482efb2b3a12cf510fa204_2_664x500.png" alt="20" data-base62-sha1="jaPrFZgRjAcdmPPx3zPYJ2Wk580" width="664" height="500" srcset="//forums.whonix.org/uploads/default/optimized/2X/8/8662b363e5dc7639e9482efb2b3a12cf510fa204_2_664x500.png, //forums.whonix.org/uploads/default/optimized/2X/8/8662b363e5dc7639e9482efb2b3a12cf510fa204_2_996x750.png 1.5x, //forums.whonix.org/uploads/default/original/2X/8/8662b363e5dc7639e9482efb2b3a12cf510fa204.png 2x" data-small-upload="../../../uploads/default/optimized/2X/8/8662b363e5dc7639e9482efb2b3a12cf510fa204_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">20.png</span><span class="informations">1024√ó770 228 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Maybe grub could be used for both ISO legacy and EFI boots? Maybe worth investigating, maybe not. Not sure of the implications/complexity involved.</p>
<aside class="quote no-group" data-post="187" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Maybe it doesn‚Äôt really matter since if we wanted to be compatible with Secure Boot (on the host) we might be able to combine shim-signed with isolinux/syslinux too?</p>
</blockquote>
</aside>
<p>Don‚Äôt know yet.</p>
<p>More to come later on testing 15.0.0.4.7 ISO!</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-30T11:49:26Z' class='post-time'>
                August 30, 2019, 11:49am
              </time>
              <meta itemprop='dateModified' content='2019-08-30T11:49:26Z'>
          <span itemprop='position'>#190</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sounds really good!</p>
<p>Pretty sure grub2 supports both BIOS booting from ISO (or anywhere) as well as EFI booting.</p>
<p>This is the package which is for BIOS booting (source: grub2): <a href="../../../../external.html?link=https://packages.debian.org/search?keywords=grub-pc" rel="nofollow noopener">https://packages.debian.org/search?keywords=grub-pc</a></p>
<p>This is the package which is for EFI booting (source: grub2):<br>
<a href="../../../../external.html?link=https://packages.debian.org/search?keywords=grub-efi" class="onebox" target="_blank" rel="nofollow noopener">https://packages.debian.org/search?keywords=grub-efi</a></p>
<p><a href="../../../../external.html?link=https://packages.debian.org/buster/grub-rescue-pc" rel="nofollow noopener">https://packages.debian.org/buster/grub-rescue-pc</a> (source: grub2) has:</p>
<ul>
<li>grub-rescue-floppy.img: floppy image.</li>
<li>grub-rescue-cdrom.iso: El Torito CDROM image.</li>
<li>grub-rescue-usb.img: USB image.</li>
</ul>
<p>There is also:</p>
<p><a href="../../../../external.html?link=https://www.supergrubdisk.org/" class="onebox" target="_blank" rel="nofollow noopener">https://www.supergrubdisk.org/</a></p>
<p>I don‚Äôt yet relationship between isolinux, syslinux and grub2.</p>
<p>Not sure too. And low priority. Could be changed anytime later.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">

            <link itemprop="image" href="../../../uploads/default/original/2X/b/bb1a4520506e3b962097263421a89835437b4537.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-30T12:17:03Z' class='post-time'>
                August 30, 2019, 12:17pm
              </time>
              <meta itemprop='dateModified' content='2019-08-30T12:22:24Z'>
          <span itemprop='position'>#191</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><strong>Whonix-Host (Kicksecure) Testing Report, v. 15.0.0.4.7</strong></p>
<p>All tests done in KVM until now, not yet on hardware.</p>
<p>Addressing first the last list of bugs as per <a href="119.html" class="inline-onebox">Whonix Desktop Installer with Calamares - field report</a> (skipping issues already reported as fixed)</p>
<p><strong>1. Virtual Machine Manager/KVM</strong></p>
<ul>
<li>New issue with virt-manager (both on ISO and install target): Error connecting to graphical console: Error opening Spice console, SpiceClientGTK missing -&gt; <strong>FIXED</strong> by adding package gir1.2-spiceclientgtk-3.0 and needed dependencies</li>
</ul>
<p><strong>2. Calamares Installer</strong></p>
<ul>
<li>
<p>Needs correct branding -&gt; <strong>still to be done</strong> (see also: <a href="../../whonix-host-calamares-branding-suggestion/7772/3.html" class="inline-onebox">Whonix Host Calamares Branding Suggestion</a>)<br>
<strong>Problem: shouldn‚Äôt we need a complete new branding now that Whonix-Host has been officially relabeled ‚ÄúKicksecure‚Äù?</strong> Shouldn‚Äôt we be installing Kicksecure on the install target instead of generic ‚ÄúWhonix-Host‚Äù? Any existing suggestions for graphical design?</p>
</li>
<li>
<p>Does it work in EFI mode? <strong>Still failing in KVM</strong>, maybe related to virtualization, will try on real hardware.</p>
</li>
</ul>
<p><strong>3. Whonix-Host install on HDD</strong></p>
<ul>
<li>
<p>at least one of the kernel hardening boot parameters somehow messes with the CPU detection on the host -&gt; <strong>needs testing on real hardware, see if it still an issue</strong></p>
</li>
<li>
<p>the installed system has no virtual console root access. Very unpractical, especially for a host system. Maybe consider reverting back this recent change for the Whonix-Host version? (see also Restrict root access) -&gt; <strong>still to be discussed and decided</strong></p>
</li>
</ul>
<p><strong>4. Miscellaneous</strong></p>
<ul>
<li>
<p>power-manager plugin + pulseaudio plugin -&gt; <strong>FIXED</strong> (and audio working, at least in KVM)</p>
</li>
<li>
<p>The Whonix Host should be graphically differentiated from the Whonix-VMs. Maybe simply a different background image/color? -&gt; <strong>still to be done</strong></p>
</li>
<li>
<p>Somehow a user user was created during the build ‚Ä¶ <strong>FIXED</strong></p>
</li>
<li>
<p>By default, the VMs do not start because the virtual disks are not set to readonly in virt-manager -&gt; <strong>still in discussion</strong> (<a href="../../../../external.html?link=https://phabricator.whonix.org/T914" rel="nofollow noopener">https://phabricator.whonix.org/T914</a>)<br>
As of now: Whonix-Gateway/Workstation virtualization using ISO file only works, but disks must be manually set to read-only in virt-manager AND booted in live-mode (expected behavior, but may be overwhelming/unpractical for end-user, at least needs documentation).<br>
Same problem on the install target.<br>
<strong>Desired behavior:</strong> when booting in live-mode, set the disks to read-only (in their xml files, as their file permissions are already 0444). <strong>BUT</strong> on the install target change .qcow2 files permissions from  0444 to 0644 during the install process (0444 only needed for live ISO. Probably achievable using some Calamares tweaks/scripting to change the permissions when they are copied over. Needs some researches).</p>
</li>
<li>
<p>Currently the live system in ISO mode provides a live-user account with passwordless sudo rights -&gt; can be fixed by adding<code>live-config.noroot</code> to live ISO boot parameters (but then we need to change calamares polkit to allow its execution by sudoless user) -&gt; <strong>still to be discussed and decided</strong></p>
</li>
</ul>
<p><strong>No more new bugs to report as of now. <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></strong></p>
<p><strong>Small suggestion: add the ‚ÄúShow Desktop‚Äù button on the XFCE4-panel</strong> (minimize all windows immediately, very practical when you are overwhelmed with stuff, exists on Windows since ages). It is already installed, just needs to be added in the XFCE4-panel config file.</p>
<p>I will test on real hardware and see how it behaves.</p>
<p><strong>Overall, good progress!</strong></p>
<p><strong>Some screenshots below</strong></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../../uploads/default/original/2X/b/bb1a4520506e3b962097263421a89835437b4537.png" data-download-href="//forums.whonix.org/uploads/default/bb1a4520506e3b962097263421a89835437b4537" title="18.png"><img src="../../../uploads/default/optimized/2X/b/bb1a4520506e3b962097263421a89835437b4537_2_671x500.png" alt="18" data-base62-sha1="qHbzm0wdixqO50StoeUnsUjHAub" width="671" height="500" srcset="//forums.whonix.org/uploads/default/optimized/2X/b/bb1a4520506e3b962097263421a89835437b4537_2_671x500.png, //forums.whonix.org/uploads/default/optimized/2X/b/bb1a4520506e3b962097263421a89835437b4537_2_1006x750.png 1.5x, //forums.whonix.org/uploads/default/original/2X/b/bb1a4520506e3b962097263421a89835437b4537.png 2x" data-small-upload="../../../uploads/default/optimized/2X/b/bb1a4520506e3b962097263421a89835437b4537_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">18.png</span><span class="informations">1024√ó763 152 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
<em>Whonix-Host (Kicksecure) 15.0.0.4.7 booting from the live ISO file in KVM , showing a work session with both Whonix-Gateway and Whonix-Workstation running in live-mode ((nested virtualzation,Tor tab is within the Workstation) and the host system monitor. As expected, a solid amount of RAM is needed (already 5.6 GiB consumed)</em></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../../uploads/default/original/2X/7/7cead66522a81a9181dc7bfa9e4b4b9e88b99c59.png" data-download-href="//forums.whonix.org/uploads/default/7cead66522a81a9181dc7bfa9e4b4b9e88b99c59" title="21.png"><img src="../../../uploads/default/original/2X/7/7cead66522a81a9181dc7bfa9e4b4b9e88b99c59.png" alt="21" data-base62-sha1="hP4lhIcTXAVwjUS3kuQB5kmdp33" width="690" height="495" data-small-upload="../../../uploads/default/optimized/2X/7/7cead66522a81a9181dc7bfa9e4b4b9e88b99c59_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">21.png</span><span class="informations">848√ó609 3.04 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
<em>Whonix-Host (Kicksecure) 15.0.0.4.7 grub menu on the install target (KVM), providing both persistent and live-mode options. Both work.</em></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-30T12:50:53Z' class='post-time'>
                August 30, 2019, 12:50pm
              </time>
              <meta itemprop='dateModified' content='2019-08-30T12:50:53Z'>
          <span itemprop='position'>#192</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="191" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Problem: shouldn‚Äôt we need a complete new branding now that Whonix-Host has been officially relabeled ‚ÄúKicksecure‚Äù?</p>
</blockquote>
</aside>
<p>Kicksecure and Whonix Host are independent projects.</p>
<p>Well, Whonix Host and Whonix VMs are based on Kicksecure, but that‚Äôs about it.</p>
<p>Kicksecure doesn‚Äôt focus on Tor / Whonix integration at all. It might come with Tor installed by default for secure network time synchronization, i.e. sdwdate. The ultimate goal is to move Kicksecure on its own domain name. This may or may never happen due to lack of resources. Depends on how much traction the project will get.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../../external.html?link=https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../../external.html?link=https://www.whonix.org/wiki/Kicksecure" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:103/68;"><img src="../../../../external.html?link=https://www.whonix.org/w/images/5/52/Hardening-13423213.jpg" class="thumbnail"></div>

<h3><a href="../../../../external.html?link=https://www.whonix.org/wiki/Kicksecure" target="_blank" rel="nofollow noopener">Kicksecure</a></h3>

<p>Kicksecure ‚Ñ¢ is a security-hardened Debian based Linux distribution that provides better protection from virus infections.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-post="191" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Shouldn‚Äôt we be installing Kicksecure on the install target instead of generic ‚ÄúWhonix-Host‚Äù?</p>
</blockquote>
</aside>
<p>Therefore, no.</p>
<aside class="quote no-group" data-post="191" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>the installed system has no virtual console root access. Very unpractical, especially for a host system. Maybe consider reverting back this recent change for the Whonix-Host version? (see also Restrict root access) -&gt; <strong>still to be discussed and decided</strong></p>
</blockquote>
</aside>
<p>I think no - because then the user needs to have two different passwords.</p>
<p>sudo/root is now nicely sorted and documented here:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../../external.html?link=https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../../external.html?link=https://www.whonix.org/wiki/Root" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:103/154;"><img src="../../../../external.html?link=https://www.whonix.org/w/images/e/e2/Root123123.jpg" class="thumbnail"></div>

<h3><a href="../../../../external.html?link=https://www.whonix.org/wiki/Root" target="_blank" rel="nofollow noopener">Root</a></h3>

<p>Tips on using sudo / root (privileged) commands safely</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>root login can be enabled by the user as per:<br>
<a href="../../../../external.html?link=https://www.whonix.org/wiki/Root#Root_Login" rel="nofollow noopener">https://www.whonix.org/wiki/Root#Root_Login</a></p>
<p>But why root login? Why not login as user and <code>sudo su</code>? What advantage does root login on virtual console give?</p>
<aside class="quote no-group" data-post="191" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>By default, the VMs do not start because the virtual disks are not set to readonly in virt-manager -&gt; <strong>still in discussion</strong> (<a href="../../../../external.html?link=https://phabricator.whonix.org/T914" rel="nofollow noopener">https://phabricator.whonix.org/T914</a>)</p>
</blockquote>
</aside>
<p>Settings disks to read-only when booted in live mode (i.e. <code>ConditionKernelCommandLine=|boot=live</code>) is actually implemented as per <a href="../../../../external.html?link=https://phabricator.whonix.org/T914#18825" rel="nofollow noopener">https://phabricator.whonix.org/T914#18825</a><br>
It might not work though. To debug also see that ticket. Also perhaps run manually to see what the script does not or does wrong.</p>
<p>sudo /<a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/bb7773e62850fdc76b794500e6bb0c282a55bb2b#diff-6b101485a43d94fa79b3a5dd77a21093" rel="nofollow noopener">usr/lib/whonix-libvirt/live-mode-to-read-only</a></p>
<aside class="quote no-group" data-post="191" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><strong>BUT</strong> on the install target change .qcow2 files permissions from 0444 to 0644 during the install process</p>
</blockquote>
</aside>
<p>This could be done during the boot process. Another systemd unit file. Similar to that commit <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/bb7773e62850fdc76b794500e6bb0c282a55bb2b" rel="nofollow noopener">https://github.com/Whonix/whonix-libvirt/commit/bb7773e62850fdc76b794500e6bb0c282a55bb2b</a></p>
<p>Using <code>ConditionKernelCommandLine=!boot=live</code> - i.e. do not do that in when kernel boot parameter includes <code>boot=live</code>.</p>
<p>Or we drop ConditionKernelCommandLine from the systemd unit file and let the script handle chmod change depending on</p>
<pre><code class="lang-auto">if grep -qs "boot=live" /proc/cmdline; then
   ## live mode
   true "do things for live mode"
else
   ## persistent mode
   true "do things for persistent mode"
fi
</code></pre>
<p>I can implement that if you like.</p>
<p>But are you sure chmod permissions from 0444 to 0644 is really useful? Once <a href="../../../../external.html?link=https://phabricator.whonix.org/T914#18825" rel="nofollow noopener">https://phabricator.whonix.org/T914#18825</a> is fully working, is that still required?</p>
<aside class="quote no-group" data-post="191" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Currently the live system in ISO mode provides a live-user account with passwordless sudo rights -&gt; can be fixed by adding <code>live-config.noroot</code> to live ISO boot parameters (but then we need to change calamares polkit to allow its execution by sudoless user) -&gt; <strong>still to be discussed and decided</strong></p>
</blockquote>
</aside>
<p>Not passwordless sudo since that circumvnets the security enhancements made through <a href="../../restrict-root-access/7658.html" class="inline-onebox">Restrict root access</a> / <a href="../../../../external.html?link=https://www.whonix.org/wiki/Root" rel="nofollow noopener">https://www.whonix.org/wiki/Root</a>.</p>
<aside class="quote no-group" data-post="191" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><strong>Small suggestion: add the ‚ÄúShow Desktop‚Äù button on the XFCE4-panel</strong> (minimize all windows immediately, very practical when you are overwhelmed with stuff, exists on Windows since ages). It is already installed, just needs to be added in the XFCE4-panel config file.</p>
</blockquote>
</aside>
<p>Yes, why not.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-08-31T13:52:20Z' class='post-time'>
                August 31, 2019,  1:52pm
              </time>
              <meta itemprop='dateModified' content='2019-08-31T13:52:20Z'>
          <span itemprop='position'>#193</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="191" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><strong>Small suggestion: add the ‚ÄúShow Desktop‚Äù button on the XFCE4-panel</strong> (minimize all windows immediately, very practical when you are overwhelmed with stuff, exists on Windows since ages). It is already installed, just needs to be added in the XFCE4-panel config file.</p>
</blockquote>
</aside>
<p>‚ÄúShow Desktop‚Äù button is already implemented, see <a href="../../../../external.html?link=https://github.com/Whonix/whonix-xfce-desktop-config/blob/master/etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-panel.xml#L44" rel="nofollow noopener">https://github.com/Whonix/whonix-xfce-desktop-config/blob/master/etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-panel.xml#L44</a><br>
Works for me in Whonix XFCE VMs in <code>15.0.0.4.8</code>.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-02T09:52:26Z' class='post-time'>
                September 2, 2019,  9:52am
              </time>
              <meta itemprop='dateModified' content='2019-09-02T09:52:26Z'>
          <span itemprop='position'>#194</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="192" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Kicksecure and Whonix Host are independent projects.</p>
<p>Well, Whonix Host and Whonix VMs are based on Kicksecure, but that‚Äôs about it.</p>
</blockquote>
</aside>
<p>OK</p>
<aside class="quote no-group quote-modified" data-post="192" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<blockquote>
<p>Shouldn‚Äôt we be installing Kicksecure on the install target instead of generic ‚ÄúWhonix-Host‚Äù?</p>
</blockquote>
<p>Therefore, no.</p>
</blockquote>
</aside>
<p>OK</p>
<aside class="quote no-group" data-post="192" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>But why root login? Why not login as user and <code>sudo su</code> ? What advantage does root login on virtual console give?</p>
</blockquote>
</aside>
<p>During Calamares install, the user is given the choice of having the same password for administrator user (root) and his newly created user.</p>
<p>My understanding is that when choosing same password, the newly created user is added to sudo group, if not, then he doesn‚Äôt have sudo rights. I need to verify this however.</p>
<p>As of now, no user can <code>sudo</code>, <code>sudo su</code> or <code>su</code> - it never works.</p>
<aside class="quote no-group" data-post="192" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>This could be done during the boot process. Another systemd unit file. Similar to that commit <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/bb7773e62850fdc76b794500e6bb0c282a55bb2b" rel="nofollow noopener">https://github.com/Whonix/whonix-libvirt/commit/bb7773e62850fdc76b794500e6bb0c282a55bb2b</a></p>
<p>Using <code>ConditionKernelCommandLine=!boot=live</code> - i.e. do not do that in when kernel boot parameter includes <code>boot=live</code> .</p>
<p>Or we drop ConditionKernelCommandLine from the systemd unit file and let the script handle chmod change depending on</p>
<pre><code class="lang-auto">if grep -qs "boot=live" /proc/cmdline; then
   ## live mode
   true "do things for live mode"
else
   ## persistent mode
   true "do things for persistent mode"
fi
</code></pre>
<p>I can implement that if you like.</p>
</blockquote>
</aside>
<p>That could be great but I‚Äôm afraid that changing the permissions in life-mode will result in copying the entire files into RAM (we had this problem before if I remember correctly) before the permission change can be performed. Worth a try.</p>
<aside class="quote no-group" data-post="192" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Settings disks to read-only when booted in live mode (i.e. <code>ConditionKernelCommandLine=|boot=live</code> ) is actually implemented as per <a href="../../../../external.html?link=https://phabricator.whonix.org/T914#18825" rel="nofollow noopener">https://phabricator.whonix.org/T914#18825</a><br>
It might not work though. To debug also see that ticket. Also perhaps run manually to see what the script does not or does wrong.</p>
<p>sudo /<a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/bb7773e62850fdc76b794500e6bb0c282a55bb2b#diff-6b101485a43d94fa79b3a5dd77a21093" rel="nofollow noopener">usr/lib/whonix-libvirt/live-mode-to-read-only</a></p>
</blockquote>
</aside>
<p>The script <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/bb7773e62850fdc76b794500e6bb0c282a55bb2b#diff-6b101485a43d94fa79b3a5dd77a21093" rel="nofollow noopener">usr/lib/whonix-libvirt/live-mode-to-read-only</a> works when ran manually. It seems to fail during build.</p>
<aside class="quote no-group" data-post="192" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Not passwordless sudo since that circumvnets the security enhancements made through <a href="../../restrict-root-access/7658.html">Restrict root access</a> / <a href="../../../../external.html?link=https://www.whonix.org/wiki/Root" rel="nofollow noopener">https://www.whonix.org/wiki/Root</a>.</p>
</blockquote>
</aside>
<p>This is easily solved by adding a boot parameter, but then we must address the fact that Calamares needs root rights to run (polkit?).</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-02T09:57:52Z' class='post-time'>
                September 2, 2019,  9:57am
              </time>
              <meta itemprop='dateModified' content='2019-09-02T09:57:52Z'>
          <span itemprop='position'>#195</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="193" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>‚ÄúShow Desktop‚Äù button is already implemented, see <a href="../../../../external.html?link=https://github.com/Whonix/whonix-xfce-desktop-config/blob/master/etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-panel.xml#L44" rel="nofollow noopener">https://github.com/Whonix/whonix-xfce-desktop-config/blob/master/etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-panel.xml#L44</a><br>
Works for me in Whonix XFCE VMs in <code>15.0.0.4.8</code> .</p>
</blockquote>
</aside>
<p>You are right, my mistake, I didn‚Äôt see it <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-02T13:22:18Z' class='post-time'>
                September 2, 2019,  1:22pm
              </time>
              <meta itemprop='dateModified' content='2019-09-02T13:22:18Z'>
          <span itemprop='position'>#196</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="194" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>As of now, no user can <code>sudo</code> , <code>sudo su</code> or <code>su</code> - it never works.</p>
</blockquote>
</aside>
<p>This is working in Non-Qubes-Whonix VMs in <code>15.0.0.4.8</code> (broken tb-starter).<br>
(<code>15.0.0.4.9</code> with fixed tb-starter will be tested soon.)</p>
<p>Since Whonix Host builds are skipping creation of user <code>user</code><br>
i.e. skipping part of <a href="../../../../external.html?link=https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst" rel="nofollow noopener">https://github.com/Whonix/anon-base-files/blob/master/debian/anon-base-files.postinst</a><br>
also the following code is skipped</p>
<pre><code>        ## setting password to changeme
        ##
        ## How this password was created:
        ## sudo apt-get install whois
        ## mkpasswd
        ## changeme
        ## Resulted in: aTayYxVyw5kDo
        password="aTayYxVyw5kDo"

           ## Use --encrypted to be able to use a static, precalculated hash for reproducible builds.
           echo "${user_to_be_created}:${password}" | chpasswd --encrypted

           ## old:
           #usermod --append --groups cdrom,audio,dip,sudo,plugdev "$user_to_be_created"
           ##
           ## Prefer addgroup over usermod.
           addgroup "$user_to_be_created" cdrom
           addgroup "$user_to_be_created" audio
           addgroup "$user_to_be_created" dip
           addgroup "$user_to_be_created" sudo
           addgroup "$user_to_be_created" plugdev
</code></pre>
<p>Most importantly skipped:</p>
<pre><code>addgroup "$user_to_be_created" sudo
</code></pre>
<p>Whonix-Host build: To make <code>sudo</code> , <code>sudo su</code> work during ISO Live Boot, at some point these addgroup commands need to be run or some calamares config.</p>
<p>(Optional, not needed, user documentation:) To be able to run <code>su</code> from user <code>user</code> , it is necessary to, see:<br>
<a href="../../../../external.html?link=https://www.whonix.org/wiki/Root#Substitute_User_.28su.29_Command" rel="nofollow noopener">https://www.whonix.org/wiki/Root#Substitute_User_.28su.29_Command</a></p>
<aside class="quote no-group" data-post="194" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>The script <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/bb7773e62850fdc76b794500e6bb0c282a55bb2b#diff-6b101485a43d94fa79b3a5dd77a21093" rel="nofollow noopener">usr/lib/whonix-libvirt/live-mode-to-read-only</a> works when ran manually. It seems to fail during build.</p>
</blockquote>
</aside>
<p>Please post output here if you see it failing. Probably/hopefully fixable.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-09-12T13:29:56Z' class='post-time'>
                September 12, 2019,  1:29pm
              </time>
              <meta itemprop='dateModified' content='2019-09-12T13:29:56Z'>
          <span itemprop='position'>#197</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Note: <a href="../../../../external.html?link=https://www.whonix.org/w/index.php?title=Dev%2FBuild_Documentation%2F15_full&amp;type=revision&amp;diff=51000&amp;oldid=50915" rel="nofollow noopener">https://www.whonix.org/w/index.php?title=Dev%2FBuild_Documentation%2F15_full&amp;type=revision&amp;diff=51000&amp;oldid=50915</a></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-10-17T17:31:36Z' class='post-time'>
                October 17, 2019,  5:31pm
              </time>
              <meta itemprop='dateModified' content='2019-10-17T17:31:36Z'>
          <span itemprop='position'>#198</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Calamares in Debian integration progress and the way forward in Bullseye:</p>
<p><a href="../../../../external.html?link=https://jonathancarter.org/2019/10/17/calamares-plans-for-debian-11/" class="onebox" target="_blank" rel="nofollow noopener">https://jonathancarter.org/2019/10/17/calamares-plans-for-debian-11/</a></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-10-29T15:52:19Z' class='post-time'>
                October 29, 2019,  3:52pm
              </time>
              <meta itemprop='dateModified' content='2019-10-29T15:52:19Z'>
          <span itemprop='position'>#199</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sorry for my long absence, I was very busy lately. I hope that I will have more time in the coming days/weeks to pursue this matter. Hopefully we can have something ready before the end of the year‚Ä¶<br>
Any help is welcome if someone has some time to spare <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
I‚Äôll do a new build from scratch and see what remains to be done, as it‚Äôs been so long since I did the last one‚Ä¶<br>
Cheers</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-04T16:40:30Z' class='post-time'>
                November 4, 2019,  4:40pm
              </time>
              <meta itemprop='dateModified' content='2019-11-04T16:40:30Z'>
          <span itemprop='position'>#200</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>No worries. Yes, please move this forward. Looks like halfway done. Whonix still very much alive and kicking. Kept on merging lots of unrelated (security) enhancements lately. Let me know how things are going.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="../73500b08.html?page=9">‚Üê previous page</a></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
