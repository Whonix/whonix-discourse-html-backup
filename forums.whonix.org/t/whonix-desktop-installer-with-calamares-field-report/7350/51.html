<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix Desktop Installer with Calamares - field report - #51 by Patrick - Development - Whonix Forum</title>
    <meta name="description" content="So after a few days playing with Calamares and my “Whonix Desktop” VM and ISO files, I thought it would be time to report back my experience. 
See also 


For the discussion related to the Whonix Host/Desktop project. 
I&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../73509ba9.html?page=3" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix Desktop Installer with Calamares - field report&#39;" href="../7350.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5564981a244c37b36b7c1610924d97da327c5b88.png" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5564981a244c37b36b7c1610924d97da327c5b88.png" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/51" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-desktop-installer-with-calamares-field-report/7350/51" />
<meta property="og:title" content="Whonix Desktop Installer with Calamares - field report" />
<meta name="twitter:title" content="Whonix Desktop Installer with Calamares - field report" />
<meta property="og:description" content="Build step 1800_copy_vms_into_raw now looks good in theory but untested.    I did not put qcow2 images into packages (yet) because I am not sure how to implement this and implementing above is quicker and easier. Maybe future work." />
<meta name="twitter:description" content="Build step 1800_copy_vms_into_raw now looks good in theory but untested.    I did not put qcow2 images into packages (yet) because I am not sure how to implement this and implementing above is quicker and easier. Maybe future work." />
<meta property="article:published_time" content="2019-05-13T14:48:54+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="../73504658.html?page=2">
        <link rel="next" href="../7350fdb0.html?page=4">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../7350.html">Whonix Desktop Installer with Calamares - field report</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-13T14:25:17Z' class='post-time'>
                May 13, 2019,  2:25pm
              </time>
              <meta itemprop='dateModified' content='2019-05-13T14:25:17Z'>
          <span itemprop='position'>#46</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Build step <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/2550_convert-raw-to-iso" rel="nofollow noopener">https://github.com/Whonix/Whonix/blob/master/build-steps.d/2550_convert-raw-to-iso</a> is now tested standalone in git tag <code>15.0.0.2.4-developers-only</code> in so far that it creates an <code>iso</code>! <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>The following worked for me.</p>
<pre><code>sudo anon_dist_build_version=15.0.0.2.0 ./build-steps.d/2550_convert-raw-to-iso --build --redistribute --target iso --flavor whonix-host-xfce --freedom false
</code></pre>
<p>Now have a file <code>/home/user/whonix_binary/Whonix-Host-XFCE-15.0.0.2.0.raw</code>.</p>
<pre><code>du -sh whonix_binary/*
...
824M	whonix_binary/Whonix-Host-XFCE-15.0.0.2.0.iso
4.3G	whonix_binary/Whonix-Host-XFCE-15.0.0.2.0.raw
</code></pre>
<p>(I’ve prepended <code>anon_dist_build_version=15.0.0.2.0</code> after <code>sudo</code> so I did not have to create a wholly new build. git tag <code>15.0.0.2.4-developers-only</code> isn’t tested yet as a full build but I am positive it has good chances to succeed. More testing soon.)</p>
<p>I did not test yet if the iso would actually boot.</p>
<p>Due to the widely generic nature of Whonix build script it may even be possible to re-use <code>2550_convert-raw-to-iso</code> to create bootable Whonix-Gateway or Whonix-Workstation, for whatever that may be worth.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-13T14:26:42Z' class='post-time'>
                May 13, 2019,  2:26pm
              </time>
              <meta itemprop='dateModified' content='2019-05-13T14:26:42Z'>
          <span itemprop='position'>#47</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/commit/738bee328898f61379f7c9dc12120f293a3a7e9d" target="_blank" rel="nofollow noopener">github.com/Whonix/anon-meta-packages</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/commit/738bee328898f61379f7c9dc12120f293a3a7e9d" target="_blank" rel="nofollow noopener">move Whonix KVM dependencies to whonix-libvirt</a>
</h4>


<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/commit/738bee328898f61379f7c9dc12120f293a3a7e9d" target="_blank" rel="nofollow noopener">02:20PM - 13 May 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>0 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/commit/734755c46f7fcb135fb99f17b9dfa408b2b247a4" target="_blank" rel="nofollow noopener">github.com/Whonix/anon-meta-packages</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/commit/734755c46f7fcb135fb99f17b9dfa408b2b247a4" target="_blank" rel="nofollow noopener">remove calamares dependencies so calamares can remove them</a>
</h4>

  <pre class="message" style="white-space: normal;">make them weak recommended packages instead</pre>

<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/commit/734755c46f7fcb135fb99f17b9dfa408b2b247a4" target="_blank" rel="nofollow noopener">02:22PM - 13 May 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>0 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/9e6c30e1c96f32e06a6f5379e71bc87ebe08a63d" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/9e6c30e1c96f32e06a6f5379e71bc87ebe08a63d" target="_blank" rel="nofollow noopener">Weak recommended packages for iso build so calamares can remove them.</a>
</h4>


<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/9e6c30e1c96f32e06a6f5379e71bc87ebe08a63d" target="_blank" rel="nofollow noopener">02:25PM - 13 May 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>8 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-13T14:35:56Z' class='post-time'>
                May 13, 2019,  2:35pm
              </time>
              <meta itemprop='dateModified' content='2019-05-13T14:35:56Z'>
          <span itemprop='position'>#48</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/419640124f98d683c3c4d093f95d11b2d5ab1223" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-libvirt</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/419640124f98d683c3c4d093f95d11b2d5ab1223" target="_blank" rel="nofollow noopener"> initial import from https://github.com/onions-knight/whonix-stuff</a>
</h4>


<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/419640124f98d683c3c4d093f95d11b2d5ab1223" target="_blank" rel="nofollow noopener">02:30PM - 13 May 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>8 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/ab0cfdde9dcf81c1bab461318e312163fcb505e5" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-libvirt</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/ab0cfdde9dcf81c1bab461318e312163fcb505e5" target="_blank" rel="nofollow noopener"> initial import from https://github.com/onions-knight/whonix-stuff</a>
</h4>


<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/ab0cfdde9dcf81c1bab461318e312163fcb505e5" target="_blank" rel="nofollow noopener">02:33PM - 13 May 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>15 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/5581117170f827f630b6173bf8397df8637488fc" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/5581117170f827f630b6173bf8397df8637488fc" target="_blank" rel="nofollow noopener">moved to https://github.com/Whonix/whonix-libvirt/blob/master/etc/calamares/modules/packages.conf</a>
</h4>


<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/5581117170f827f630b6173bf8397df8637488fc" target="_blank" rel="nofollow noopener">02:34PM - 13 May 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>0 additions</strong>
  and <strong>28 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/b2cb893c135cd8b5ce658d92a2271f60f9fa9889" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/b2cb893c135cd8b5ce658d92a2271f60f9fa9889" target="_blank" rel="nofollow noopener">moved to https://github.com/Whonix/whonix-libvirt/blob/master/etc/calamares/modules/users.conf</a>
</h4>


<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/b2cb893c135cd8b5ce658d92a2271f60f9fa9889" target="_blank" rel="nofollow noopener">02:32PM - 13 May 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>0 additions</strong>
  and <strong>14 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-13T14:36:17Z' class='post-time'>
                May 13, 2019,  2:36pm
              </time>
              <meta itemprop='dateModified' content='2019-05-13T14:36:17Z'>
          <span itemprop='position'>#49</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/tree/master/etc/calamares/modules" rel="nofollow noopener">https://github.com/Whonix/whonix-libvirt/tree/master/etc/calamares/modules</a></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-13T14:39:11Z' class='post-time'>
                May 13, 2019,  2:39pm
              </time>
              <meta itemprop='dateModified' content='2019-05-13T14:39:11Z'>
          <span itemprop='position'>#50</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/1b543e2148b99bd29e7a0d5d9f288e0b61c499ac" target="_blank" rel="nofollow noopener">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/1b543e2148b99bd29e7a0d5d9f288e0b61c499ac" target="_blank" rel="nofollow noopener">renamed 2900_configure_desktop_sketch to 1800_copy_vms_into_raw</a>
</h4>

  <pre class="message" style="white-space: normal;">and made executable so it will be actually run</pre>

<div class="date">
  by <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/1b543e2148b99bd29e7a0d5d9f288e0b61c499ac" target="_blank" rel="nofollow noopener">02:38PM - 13 May 19 UTC</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>0 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-13T14:48:54Z' class='post-time'>
                May 13, 2019,  2:48pm
              </time>
              <meta itemprop='dateModified' content='2019-05-13T14:48:54Z'>
          <span itemprop='position'>#51</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Build step <code>1800_copy_vms_into_raw</code> now looks good in theory but untested.</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/1800_copy_vms_into_raw" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/1800_copy_vms_into_raw" target="_blank" rel="nofollow noopener">Whonix/Whonix/blob/master/build-steps.d/1800_copy_vms_into_raw</a></h4>
<pre><code class="lang-d/1800_copy_vms_into_raw">#!/bin/bash

## Copyright (C) 2019 - 2019 ENCRYPTED SUPPORT LP &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

set -x
set -e

true "INFO: Currently running script: $BASH_SOURCE $@"

MYDIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &amp;&amp; pwd )"

cd "$MYDIR"
cd ..
cd help-steps

source pre
source colors
source variables

</code></pre>

  This file has been truncated. <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/1800_copy_vms_into_raw" target="_blank" rel="nofollow noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>I did not put qcow2 images into packages (yet) because I am not sure how to implement this and implementing above is quicker and easier. Maybe future work.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../help-welcome-kvm-development-staying-the-course/166/299.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../help-welcome-kvm-development-staying-the-course/166/299.html'>
                      <span itemprop='name'>[Help Welcome] KVM Development - staying the course</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-13T15:11:20Z' class='post-time'>
                May 13, 2019,  3:11pm
              </time>
              <meta itemprop='dateModified' content='2019-05-13T15:11:20Z'>
          <span itemprop='position'>#52</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The two scripts by <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/onion_knight">@onion_knight</a> are now fully incorporated into Whonix source code.</p>
<p>Done in git tag <code>15.0.0.2.6-developers-only</code>.</p>
<p>In theory the following three commands should have the same ISO as result as <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/onion_knight">@onion_knight</a>.</p>
<pre><code>sudo -E /home/user/Whonix/whonix_build --build --redistribute --target qcow2 --flavor whonix-gateway-xfce
sudo -E /home/user/Whonix/whonix_build --build --redistribute --target qcow2 --flavor whonix-workstation-xfce
sudo -E /home/user/Whonix/whonix_build --build --redistribute --target iso   --flavor whonix-host-xfce --freedom false
</code></pre>
<p>My activity will be lower for the next few days.</p>
<p>Please create tickets for any bugs, missing features, future work and/or pull requests with fixes.</p>
<hr>
<p>I stopped posting all git commits here. Just too many and maybe not useful. I’ll move on the post only “major” ones, “interesting” ones, those who could use extra scrutiny and like that. The full set of changes after first import of the two scripts by <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/onion_knight">@onion_knight</a> and the result now can be seen here.</p>
<p><a href="../../../../external.html?link=https://github.com/Whonix/Whonix/compare/15.0.0.1.2-developers-only...15.0.0.2.6-developers-only" rel="nofollow noopener">https://github.com/Whonix/Whonix/compare/15.0.0.1.2-developers-only...15.0.0.2.6-developers-only</a></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-13T17:37:47Z' class='post-time'>
                May 13, 2019,  5:37pm
              </time>
              <meta itemprop='dateModified' content='2019-05-13T17:37:47Z'>
          <span itemprop='position'>#53</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><code>15.0.0.2.7-developers-only</code> includes whonix-libvirt <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/f7302034b1c5d6caee40766eb7fca150d6d6944e" rel="nofollow noopener">fix</a>.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-14T08:17:23Z' class='post-time'>
                May 14, 2019,  8:17am
              </time>
              <meta itemprop='dateModified' content='2019-05-14T08:17:23Z'>
          <span itemprop='position'>#54</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="52" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>sudo -E /home/user/Whonix/whonix_build --build --redistribute --target iso --flavor whonix-host-xfce --freedom false</p>
</blockquote>
</aside>
<p>Amazing, testing now</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-14T09:08:17Z' class='post-time'>
                May 14, 2019,  9:08am
              </time>
              <meta itemprop='dateModified' content='2019-05-14T09:28:36Z'>
          <span itemprop='position'>#55</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>OK, currently building with</p>
<pre><code class="lang-auto">sudo -E /home/user/Whonix/whonix_build --build --redistribute --target iso   --flavor whonix-host-xfce --freedom false
</code></pre>
<p>and git branch <code>15.0.0.2.7-developers-only</code></p>
<p>I have added the Whonix-Gateway/Workstation .qcow2 myself with the correct version numbers in the build host.</p>
<p>The build fails at</p>
<p><code>build-steps.d/1800_copy_vms_into_raw</code></p>
<pre><code>chown -v -R libvirt-qemu:libvirt-qemu /home/user/whonix_binary/Whonix-Host-XFCE_image/var/lib/libvirt/images/Whonix-Gateway.qcow2
chown: invalid user: ‘libvirt-qemu:libvirt-qemu’
</code></pre>
<p>It’s because this should be done in chroot, otherwise it will look for the user:group libvirt-qemu on the host (building machine) and fail if they do not exist:</p>
<pre><code>   chown -v -R libvirt-qemu:libvirt-qemu "$CHROOT_FOLDER/var/lib/libvirt/images/Whonix-Gateway.qcow2"
   chown -v -R libvirt-qemu:libvirt-qemu "$CHROOT_FOLDER/var/lib/libvirt/images/Whonix-Workstation.qcow2"
</code></pre>
<p>This instead seems to work:</p>
<pre><code>   $CHROOT chown -v -R libvirt-qemu:libvirt-qemu /var/lib/libvirt/images/Whonix-Gateway.qcow2
   $CHROOT chown -v -R libvirt-qemu:libvirt-qemu /var/lib/libvirt/images/Whonix-Workstation.qcow2</code></pre>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">

            <link itemprop="image" href="../../../uploads/default/original/2X/c/c67db3f746a82d3f0cce1e30fd31157b1929a29e.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-14T12:25:19Z' class='post-time'>
                May 14, 2019, 12:25pm
              </time>
              <meta itemprop='dateModified' content='2019-05-14T12:25:19Z'>
          <span itemprop='position'>#56</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Build complete.<br>
Problems:</p>
<ol>
<li>
<p>No live user is created. I think this due to the package <code>user-setup</code> not being installed, from <code>cat /lib/live/config/0030-user-setup</code> :</p>
<p>Init ()<br>
{<br>
# Checking if package is installed or already configured<br>
if [ ! -e /var/lib/dpkg/info/user-setup.list ] || <br>
[ -e /var/lib/live/config/user-setup ]<br>
then<br>
exit 0<br>
fi</p>
<pre><code> echo -n " user-setup"
</code></pre>
<p>}</p>
</li>
</ol>
<p>After install, it seems to work. “Seems” because I was not able to start a graphical session (see below).</p>
<ol start="2">
<li>There is a weird stupid annoying xfce4 error that fails to start a xfce4 session:</li>
</ol>
<p><img src="../../../uploads/default/original/2X/c/c67db3f746a82d3f0cce1e30fd31157b1929a29e.png" alt="Screenshot_2019-05-14_14-12-04" width="489" height="172"></p>
<p>Debugging this is long and very frustrating. I’ll just do a full rebuild and see if it still fails.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-14T14:34:27Z' class='post-time'>
                May 14, 2019,  2:34pm
              </time>
              <meta itemprop='dateModified' content='2019-05-14T14:34:27Z'>
          <span itemprop='position'>#57</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Rebuilt everything. Still fails to load graphical session with</p>
<blockquote>
<p>unable to load failsafe session<br>
Unable to determine a failsafe session name. Possible causes:<br>
xfconfd isn’t running (D-Bus setup problem);<br>
environment variable $XDG_CONFIG_DIRS is set incorrectly (must include “/etc”), or xfce4-session is installed incorrectly</p>
</blockquote>
<p>Something must be missing somewhere… It’s a very generic error that may be caused by many different issues.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-14T15:31:10Z' class='post-time'>
                May 14, 2019,  3:31pm
              </time>
              <meta itemprop='dateModified' content='2019-05-14T15:31:10Z'>
          <span itemprop='position'>#58</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Using the RAW disk file (in chroot) I’ve tried reinstalling manually X stuff, dbus, xinit (wasn’t installed), nothing works.<br>
This error might be useful to debug:</p>
<p><code>Failed to open connection to "system" message bus: Failed to connect to socket /var/run/dbus/system_bus_socket: No such file or directory</code></p>
<p>Recreating the non-existent dbus directory and reinstalling dbus (and even systemd) does not solve the problem. I still have the <code>unable to load failsafe session</code> after lightdm (even though the file <code>/var/run/dbus/system_bus_socket</code> now exists).</p>
<p>I have no idea what causes this crazy error and how to solve it. My head is about to explode…</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-14T22:40:07Z' class='post-time'>
                May 14, 2019, 10:40pm
              </time>
              <meta itemprop='dateModified' content='2019-05-14T22:40:07Z'>
          <span itemprop='position'>#59</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I did another build of normal hardened raw debian to compare and try to understand what went wrong. ( version: <code>15.0.0.2.7-developers-only</code>):</p>
<p><code>sudo ./whonix_build --flavor hardened-debian-xfce --target raw --build</code></p>
<p>Result: I have the same exact error…</p>
<p>Also, I noticed that the user <code>user</code> is also inexistent on the <code>--target raw build</code> (no iso). Isn’t he supposed to be skipped only in the iso build?</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-15T09:43:25Z' class='post-time'>
                May 15, 2019,  9:43am
              </time>
              <meta itemprop='dateModified' content='2019-05-15T09:58:40Z'>
          <span itemprop='position'>#60</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>After literally HOURS of useless debugging I think I have finally found the culprit.</p>
<p>The following xfce4 config files are unique to version 15.0.0.2.7 when compared to version 15.0.0.1.0-2:</p>
<pre><code>/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/thunar.xml
/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-desktop.xml
/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-panel.xml
/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml.dpkg-new
/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml.whonix
/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfwm4.xml
/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xsettings.xml.dpkg-new
/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xsettings.xml.whonix
</code></pre>
<p>The file <code>/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session</code> is now a link to <code>/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml.whonix</code>.</p>
<p>This breaks XFCE4 as <code>/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml.whonix</code>'s content does not seem to be compliant with what is expected to be in this file, thus preventing xfce4-session to be launched.</p>
<p>A simple</p>
<p><code>mv /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml.dpkg-new /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml</code></p>
<p>seems to solve the problem! (or just reviewing this particular file in the build process)</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">

            <link itemprop="image" href="../../../uploads/default/original/2X/d/ddbb73b5536187a316ba5025da296db5fbb1e6a7.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-15T13:54:14Z' class='post-time'>
                May 15, 2019,  1:54pm
              </time>
              <meta itemprop='dateModified' content='2019-05-15T14:05:05Z'>
          <span itemprop='position'>#61</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>OK, I rebuilt <code>sudo -E /home/user/Whonix/whonix_build --build --redistribute --target iso --flavor whonix-host-xfce --freedom false</code> using <code>git branch 15.0.0.2.7-developers-only</code> and <strong>I am glad to report that it is working now, provided the following corrections:</strong></p>
<ul>
<li>
<p>File <code>/etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml.whonix</code> breaks XFCE4, needs to be corrected (in the meantime I just did   <code>mv /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml.dpkg-new /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml</code>)</p>
</li>
<li>
<p>Package <code>user-setup</code> needs to be installed in the master whonix-host-xfce VM otherwise live-boot will fail to create a live user</p>
</li>
<li>
<p>Package <code>squashfs-tools</code> needs to be installed in the master whonix-host-xfce VM otherwise Calamares will fail to install (it needs it to unsquashfs the filesystem.squashfs file into the target)</p>
</li>
<li>
<p>Package <code>live-config</code> needs to be installed in the master whonix-host-xfce VM otherwise live user will not be created in live-boot mode (it may already be the case, just a reminder)</p>
</li>
</ul>
<p><strong>Furthermore, the following bugs/corrections need to be addressed (and probably more to come):</strong></p>
<ul>
<li>
<p>Theming is completely broken. Live user starts with a default environment, while root user and newly installed user in the target have broken panel launchers (see screenshots below). Probably related to missing config in <code>/etc/skel</code></p>
</li>
<li>
<p>Live user by default still has passwordless root rights. It seems it can be easily corrected by creating /etc/sudoers.d/live with right syntax and permissions, as described in <code>live-config</code> script <code>/lib/live/config/0040-sudo</code>:</p>
<p>Config ()<br>
{<br>
# Skip sudo configuration if username is root<br>
case “${LIVE_USERNAME}” in<br>
root)<br>
exit 0<br>
;;<br>
esac</p>
<pre><code>  # Checking if package is already configured differently
  if grep -qs "^${LIVE_USERNAME}" /etc/sudoers.d/live
  then
  	exit 0
  fi

  echo "${LIVE_USERNAME} ALL=(ALL) NOPASSWD: ALL" &gt;&gt; /etc/sudoers.d/live
  chmod 0440 /etc/sudoers.d/live
</code></pre>
</li>
<li>
<p>Grub boot menu of install target still has the same parameters of default Whonix-Host grub boot menu, i.e. normal + Live Boot. The live boot option line should be suppressed since the install target does not have live-boot packages anymore (suppressed during install). Furthermore, Debian/GNU Linux should be replaced by Whonix/GNU Linux</p>
</li>
<li>
<p>Some branding work to be done on the default debian Calamares installer. Very easy (working in progress, will post suggestions soon).</p>
</li>
<li>
<p>Still having problems with getting the clock right both on the ISO and install target.</p>
</li>
<li>
<p>The master Whonix-XFCE VM has no apt sources other than whonix. Is it on purpose?</p>
</li>
</ul>
<p>Some screenshots:</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../../uploads/default/original/2X/d/ddbb73b5536187a316ba5025da296db5fbb1e6a7.png" data-download-href="//forums.whonix.org/uploads/default/ddbb73b5536187a316ba5025da296db5fbb1e6a7" title="Screenshot_2019-05-15_15-59-30.png"><img src="../../../uploads/default/optimized/2X/d/ddbb73b5536187a316ba5025da296db5fbb1e6a7_2_668x500.png" alt="Screenshot_2019-05-15_15-59-30" width="668" height="500" srcset="//forums.whonix.org/uploads/default/optimized/2X/d/ddbb73b5536187a316ba5025da296db5fbb1e6a7_2_668x500.png, //forums.whonix.org/uploads/default/optimized/2X/d/ddbb73b5536187a316ba5025da296db5fbb1e6a7_2_1002x750.png 1.5x, //forums.whonix.org/uploads/default/original/2X/d/ddbb73b5536187a316ba5025da296db5fbb1e6a7.png 2x" data-small-upload="../../../uploads/default/optimized/2X/d/ddbb73b5536187a316ba5025da296db5fbb1e6a7_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot_2019-05-15_15-59-30.png</span><span class="informations">1023×765 269 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
<em>booting the ISO with Debian Live user</em></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../../uploads/default/original/2X/f/f5a38e9fff971283e225cc79261a5d1f589faa85.png" data-download-href="//forums.whonix.org/uploads/default/f5a38e9fff971283e225cc79261a5d1f589faa85" title="Screenshot_2019-05-15_16-00-03.png"><img src="../../../uploads/default/optimized/2X/f/f5a38e9fff971283e225cc79261a5d1f589faa85_2_669x500.png" alt="Screenshot_2019-05-15_16-00-03" width="669" height="500" srcset="//forums.whonix.org/uploads/default/optimized/2X/f/f5a38e9fff971283e225cc79261a5d1f589faa85_2_669x500.png, //forums.whonix.org/uploads/default/optimized/2X/f/f5a38e9fff971283e225cc79261a5d1f589faa85_2_1003x750.png 1.5x, //forums.whonix.org/uploads/default/original/2X/f/f5a38e9fff971283e225cc79261a5d1f589faa85.png 2x" data-small-upload="../../../uploads/default/optimized/2X/f/f5a38e9fff971283e225cc79261a5d1f589faa85_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot_2019-05-15_16-00-03.png</span><span class="informations">1021×762 258 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><em>Booting the ISO with root user</em></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../../uploads/default/original/2X/e/ee4dd55616ea729accfc610128dee1602196216b.png" data-download-href="//forums.whonix.org/uploads/default/ee4dd55616ea729accfc610128dee1602196216b" title="Screenshot_2019-05-15_16-00-44.png"><img src="../../../uploads/default/original/2X/e/ee4dd55616ea729accfc610128dee1602196216b.png" alt="Screenshot_2019-05-15_16-00-44" width="690" height="461" data-small-upload="../../../uploads/default/optimized/2X/e/ee4dd55616ea729accfc610128dee1602196216b_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot_2019-05-15_16-00-44.png</span><span class="informations">730×488 2.76 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
<em>GRUB menu after install</em></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../../uploads/default/original/2X/2/26f54b43641c0d63b86bb4e3d97b334667a3ee63.png" data-download-href="//forums.whonix.org/uploads/default/26f54b43641c0d63b86bb4e3d97b334667a3ee63" title="Screenshot_2019-05-15_16-01-31.png"><img src="../../../uploads/default/optimized/2X/2/26f54b43641c0d63b86bb4e3d97b334667a3ee63_2_671x500.png" alt="Screenshot_2019-05-15_16-01-31" width="671" height="500" srcset="//forums.whonix.org/uploads/default/optimized/2X/2/26f54b43641c0d63b86bb4e3d97b334667a3ee63_2_671x500.png, //forums.whonix.org/uploads/default/optimized/2X/2/26f54b43641c0d63b86bb4e3d97b334667a3ee63_2_1006x750.png 1.5x, //forums.whonix.org/uploads/default/original/2X/2/26f54b43641c0d63b86bb4e3d97b334667a3ee63.png 2x" data-small-upload="../../../uploads/default/optimized/2X/2/26f54b43641c0d63b86bb4e3d97b334667a3ee63_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot_2019-05-15_16-01-31.png</span><span class="informations">1027×765 257 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
<em>First boot into the newly installed target. Theming needs fixing</em></p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-16T09:23:00Z' class='post-time'>
                May 16, 2019,  9:23am
              </time>
              <meta itemprop='dateModified' content='2019-05-16T09:23:00Z'>
          <span itemprop='position'>#62</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>chroot changing of permissions should now be fixed but untested in<br>
actual build.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-16T09:38:00Z' class='post-time'>
                May 16, 2019,  9:38am
              </time>
              <meta itemprop='dateModified' content='2019-05-16T09:38:00Z'>
          <span itemprop='position'>#63</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>onion_knight via Whonix Forum:</p>
<blockquote>
<p>Build complete.</p>
</blockquote>
<p>Great!</p>
<blockquote>
<p>Problems:</p>
<ol>
<li>No live user is created. I think this due to the package <code>user-setup</code> not being installed, from <code>cat /lib/live/config/0030-user-setup</code> :</li>
</ol>
</blockquote>
<p>added in git master</p>
<blockquote>
<p>Debugging this is long and very frustrating.</p>
</blockquote>
<p>Would it help to debug this using <code>--target qcow2</code> (or <code>--target raw</code>)?<br>
Then only that would be created, and no ISO. That might make starting<br>
the build in a VM more convenient? (These --target’s are implemented and<br>
might already build as is.)</p>
<p>Any other suggestions to ease debugging? I am all for making debugging<br>
as simple as possible.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-16T09:46:00Z' class='post-time'>
                May 16, 2019,  9:46am
              </time>
              <meta itemprop='dateModified' content='2019-05-16T09:46:00Z'>
          <span itemprop='position'>#64</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>onion_knight via Whonix Forum:</p>
<blockquote>
<p>I did another build of normal hardened raw debian to compare and try to understand what went wrong. ( version: <code>15.0.0.2.7-developers-only</code>):</p>
<p><code>sudo ./whonix_build --flavor hardened-debian-xfce --target raw --build</code></p>
<p>Result: I have the same exact error…</p>
<p>Also, I noticed that the user <code>user</code> is also inexistent on the <code>--target raw build</code> (no iso). Isn’t he supposed to be skipped only in the iso build?</p>
</blockquote>
<p>Currently user “user” creation is an open question for Whonix host and<br>
hardened debian builds. It’s not created in either. Also target raw,<br>
qcow2 or iso, all currently does not create user “user” by any packages<br>
by Whonix. Let me know if you have suggestion show to implement this. I<br>
was considering to add a systemd unit file that creates user “user” at<br>
first - perhaps persistent-only (?) - boot. What do you think?</p>
<p>Another inconsistency (during debugging)… build-step<br>
1700_install-packages currently uses:</p>
<pre><code class="lang-auto">   ## Weak recommended packages so calamares can remove them.
   if [ "$WHONIX_BUILD_ISO" = "true" ]; then
      pkg-install-maybe calamares
      pkg-install-maybe calamares-settings-debian
      pkg-install-maybe live-config
      pkg-install-maybe rsync
      pkg-install-maybe user-setup
   fi
</code></pre>
<p>I.e. it installs these packages only when using <code>--target iso</code>. I’ve<br>
changed this in git master to</p>
<pre><code>if [ "$WHONIX_BUILD_TYPE" = "whonix-host" ]; then
</code></pre>
<p>I.e. this will work for any --flavor whonix-host…</p>
<p>(Not implemented yet for hardened debian.)</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Algernon'><span itemprop='name'>Algernon</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../7350.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-16T10:57:30Z' class='post-time'>
                May 16, 2019, 10:57am
              </time>
              <meta itemprop='dateModified' content='2019-05-16T10:57:30Z'>
          <span itemprop='position'>#65</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="61" data-topic="7350">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Grub boot menu of install target still has the same parameters of default Whonix-Host grub boot menu, i.e. normal + Live Boot. The live boot option line should be suppressed since the install target does not have live-boot packages anymore (suppressed during install)</p>
</blockquote>
</aside>
<p>Alternatively install the required packages or just don’t remove them so you can also run the host live.</p>
        </div>

        <meta itemprop='headline' content='Whonix Desktop Installer with Calamares - field report'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="../73504658.html?page=2">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="../7350fdb0.html?page=4">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
