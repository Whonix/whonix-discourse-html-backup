<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Running 2+ isolated workstations on a single gateway - Support - Whonix Forum</title>
    <meta name="description" content="So I have the Whonix configuration as follows: 

Gateway 10.152.152.10 (eth1) Internal Network: whonix 

Workstation 1 10.152.152.11 (eth1) Internal Network: whonix 

Workstation 2 10.152.152.12 (eth1) Internal Network: &amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="835.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Running 2+ isolated workstations on a single gateway&#39;" href="835.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/running-2-isolated-workstations-on-a-single-gateway/835" />
<meta name="twitter:url" content="https://forums.whonix.org/t/running-2-isolated-workstations-on-a-single-gateway/835" />
<meta property="og:title" content="Running 2+ isolated workstations on a single gateway" />
<meta name="twitter:title" content="Running 2+ isolated workstations on a single gateway" />
<meta property="og:description" content="So I have the Whonix configuration as follows:  Gateway  10.152.152.10 (eth1)  Internal Network: whonix  Workstation 1  10.152.152.11 (eth1)  Internal Network: whonix  Workstation 2  10.152.152.12 (eth1)  Internal Network: whonix  So the two workstations are using the same gateway in a pretty standard setup. But the problem is, let’s say, workstation 1 has been hijacked and an attacker now has root control of Workstation 1, how would I be able to defend workstation 2?  Now one solution is of cou..." />
<meta name="twitter:description" content="So I have the Whonix configuration as follows:  Gateway  10.152.152.10 (eth1)  Internal Network: whonix  Workstation 1  10.152.152.11 (eth1)  Internal Network: whonix  Workstation 2  10.152.152.12 (eth1)  Internal Network: whonix  So the two workstations are using the same gateway in a pretty standard setup. But the problem is, let’s say, workstation 1 has been hijacked and an attacker now has root control of Workstation 1, how would I be able to defend workstation 2?  Now one solution is of cou..." />
<meta property="article:published_time" content="2015-01-26T02:49:09+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="835.html">Running 2+ isolated workstations on a single gateway</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Cthulhu'><span itemprop='name'>Cthulhu</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="835.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-01-26T02:49:09Z' class='post-time'>
                January 26, 2015,  2:49am
              </time>
              <meta itemprop='dateModified' content='2015-01-26T02:49:09Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>So I have the Whonix configuration as follows:</p>
<p><span class="bbcode-b">Gateway</span><br>
10.152.152.10 (eth1)<br>
Internal Network: whonix</p>
<p><span class="bbcode-b">Workstation 1</span><br>
10.152.152.11 (eth1)<br>
Internal Network: whonix</p>
<p><span class="bbcode-b">Workstation 2</span><br>
10.152.152.12 (eth1)<br>
Internal Network: whonix</p>
<p>So the two workstations are using the same gateway in a pretty standard setup. But the problem is, let’s say, workstation 1 has been hijacked and an attacker now has root control of Workstation 1, how would I be able to defend workstation 2?</p>
<p>Now one solution is of course things like IP tables and firewalls, but these are a half measure. Preferably, for the sake of anonymity and proper safety, I would prefer they not even be able to communicate at all in the first place and thus can be immune from application exploits etc. So I changed the settings to as follows:</p>
<p><span class="bbcode-b">Gateway</span><br>
10.152.152.10 (eth1)<br>
Internal Network: whonix<br>
10.152.153.10 (eth2)<br>
Internal Network: whonix-1</p>
<p><span class="bbcode-b">Workstation 1</span><br>
10.152.152.11 (eth1)<br>
Internal Network: whonix</p>
<p><span class="bbcode-b">Workstation 2</span><br>
10.152.153.11 (eth1)<br>
Internal Network: whonix-1</p>
<p>I also went to <span class="bbcode-b">/etc/network/interfaces</span> on the gateway and added the following to try and enable workstation 2:</p>
<p>auto eth2<br>
iface eth2 inet static<br>
address 10.152.153.10<br>
netmask 255.255.192.0</p>
<p>This is basically a clone of eth1 except notching up the IP addresses. However, this configuration does not work. Workstation 2 is unable to get any connection despite me double checking that all the IPs and networks match up correctly. As a matter of disclosing information, I also followed up on a suggestion to look into how the gateways and workstations interact, and it appears they can still communicate when the gateway is completely offline, so there is nothing on the gateway software which can be done to my knowledge to help this (ie so IPTables on the gateway won’t help).</p>
<p>What more do I need to do or is there a better way to implement entirely separate internal networks so workstations cannot talk to each other?</p>
<p><span class="bbcode-i">To those saying I should just start a second gateway, that sure is possible, but when scaled to many workstations (30-40 per server) it becomes too onerous on the hardware. My full intent of this information is to setup an .onion VPS hosting service based on the Whonix model (I don’t use the whonix gateway or workstation, but I use the same idea/model to do it) so keeping client separate is quite important so they cannot attack each other.</span></p>
        </div>

        <meta itemprop='headline' content='Running 2+ isolated workstations on a single gateway'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="835.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-01-26T06:07:33Z' class='post-time'>
                January 26, 2015,  6:07am
              </time>
              <meta itemprop='dateModified' content='2015-01-26T06:07:33Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Just now cooked something up.</p>
<p>Worked for me. See this chapter:<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/Connections_between_Whonix-Gateway_and_Whonix-Workstation#Instructions" target="_blank" title="07:33PM - 30 March 2020">Whonix – 30 Mar 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/452;"><img src="../../../external.html?link=https://www.whonix.org/w/images/9/95/Binary-503583640.jpg" class="thumbnail" width="640" height="452"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Connections_between_Whonix-Gateway_and_Whonix-Workstation#Instructions" target="_blank">Connections between Whonix-Gateway ™ and Whonix-Workstation ™</a></h3>

<p>Authenticated / Encrypted Connections between Whonix-Gateway ™ and Whonix-Workstation ™, ARP spoofing defense, SSH, OpenVPN, Using additional (isolated) network interfaces</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Documentation is very chaotic. Needs more work. Hope that helps. Will clean up and retest instructions later.</p>
        </div>

        <meta itemprop='headline' content='Running 2+ isolated workstations on a single gateway'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
