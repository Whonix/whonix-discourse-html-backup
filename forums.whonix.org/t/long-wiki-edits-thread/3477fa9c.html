<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Long Wiki Edits Thread - Website - Whonix Forum</title>
    <meta name="description" content="I think it&amp;#39;s worth having a &amp;#39;Long Wiki Edits&amp;#39; thread, where people can highlight what they&amp;#39;re working on etc.  

I understand this material will always be around, even when short guides and long form guides are finished &amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="3477fa9c.html?page=32" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Long Wiki Edits Thread&#39;" href="3477.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/long-wiki-edits-thread/3477?page=32" />
<meta name="twitter:url" content="https://forums.whonix.org/t/long-wiki-edits-thread/3477?page=32" />
<meta property="og:title" content="Long Wiki Edits Thread" />
<meta name="twitter:title" content="Long Wiki Edits Thread" />
<meta property="og:description" content="I would agree that adding password requirements for root does not substantially improve security for VMs.  However, there has been further discussion on Github. After reading this Qubes issue that tasket created, it seems there would be a small benefit to configuring dom0 to promt for sudo authorization?   tasket  Very understandable, since VM isolation must remain the paramount organizational principle for Qubes (both in terms of code and motivations). I‚Äôm actually glad the community has been ..." />
<meta name="twitter:description" content="I would agree that adding password requirements for root does not substantially improve security for VMs.  However, there has been further discussion on Github. After reading this Qubes issue that tasket created, it seems there would be a small benefit to configuring dom0 to promt for sudo authorization?   tasket  Very understandable, since VM isolation must remain the paramount organizational principle for Qubes (both in terms of code and motivations). I‚Äôm actually glad the community has been ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="477 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1662 ‚ù§" />
<meta property="article:published_time" content="2018-04-26T21:59:38+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="3477dcf3.html?page=31">
        <link rel="next" href="3477bd1b.html?page=33">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="3477.html">Long Wiki Edits Thread</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/website/6.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0E76BD'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Website</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-04-26T21:59:38Z' class='post-time'>
                April 26, 2018,  9:59pm
              </time>
              <meta itemprop='dateModified' content='2018-04-27T00:45:25Z'>
          <span itemprop='position'>#622</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="621" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>There was some discussion on Qubes forums about how adding password requirement didn‚Äôt really increase security.</p>
</blockquote>
</aside>
<p>I would agree that adding password requirements for root does not substantially improve security for VMs.</p>
<p>However, there has been further discussion on Github. After reading this <a href="../../../external.html?link=https://github.com/QubesOS/qubes-issues/issues/2695">Qubes issue</a> that <code>tasket</code> created, it seems there would be a small benefit to configuring <code>dom0</code> to promt for <code>sudo</code> authorization?</p>
<blockquote>
<p><code>tasket</code></p>
<p>Very understandable, since VM isolation must remain the paramount organizational principle for Qubes (both in terms of code and motivations). I‚Äôm actually glad the community has been able to evolve without the conventional security mindset. Yet, spotty as guest OS security is, in Qubes it represents a measure of security offered but not taken, even though Qubes integration makes it resemble the ease of Windows UAC. There is also the question of whether our VMs appear to be easily-acquired resources for attackers (i.e. the ‚Äòwelcome mat‚Äô layed out), which promises to be at least a nuissance factor in operations.</p>
</blockquote>
<blockquote>
<p>tasket</p>
<p>Apart from the possibility of protecting Xen, I feel that offering root capabilities within VMs ‚Äì without resistance ‚Äì could make Qubes guests attractive resources to attackers of just about any skill level.</p>
</blockquote>
<p>Its hard to get a handle on the entire thread by reading these two snippets but if there is even a small benefit should the documentation (how to) be offered to Whonix users? With a disclaimer. <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p>Edit: Qubes-VM-hardening also disables Qubes default password-less root <strong>and</strong> has a tangible security benefit. This chapter is now moot. No?</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-04-26T23:23:34Z' class='post-time'>
                April 26, 2018, 11:23pm
              </time>
              <meta itemprop='dateModified' content='2018-04-26T23:23:34Z'>
          <span itemprop='position'>#623</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="621" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>One obvious (and mostly overlooked) security improvement in Qubes R4.0 would be setting the net-VM and firewall-VM to be disposable. I read somewhere that is possible, but didn‚Äôt see any instructions.</p>
<p>Anyone see this or attempt it?</p>
</blockquote>
</aside>
<p>Yes, I‚Äôm using both ATM</p>
<p>IIRC setting up the sys-net was a PITA. I can‚Äôt remember exactly what the problem was. I had to use part command line, part GUI (which I hardly ever use) to finalize the config.</p>
<p>Belay my last! I just remembered what the problem was!</p>
<p>I had to use the GUI to set VM class to HVM and select the PCI devices i.e. Ethernet card, Wireless card. If I tried to use the CLI <code>sys-net</code> would just hang or not start.</p>
<p>If you like I can come up with steps for <code>sys-net</code>, <code>sys-firewall</code> (dvm and DispVM). Will need both since pci devices need to be set to <code>sys-net</code> DispVM not dvm. Although I‚Äôm gnawing at the bit to start the ‚ÄúOne Time Pad‚Äù wiki chapter, I guess its not going anywhere. <img src="../../images/emoji/twitter/drooling_faceae52.png?v=5" title=":drooling_face:" class="emoji" alt=":drooling_face:"><img src="../../images/emoji/twitter/grinningae52.png?v=5" title=":grinning:" class="emoji" alt=":grinning:"></p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/torjunkie'><span itemprop='name'>torjunkie</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-04-27T09:04:33Z' class='post-time'>
                April 27, 2018,  9:04am
              </time>
              <meta itemprop='dateModified' content='2018-04-27T09:04:33Z'>
          <span itemprop='position'>#624</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="623" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>Yes, I‚Äôm using both ATM</p>
</blockquote>
</aside>
<p><img src="../../images/emoji/twitter/%2b1ae52.png?v=5" title=":+1:" class="emoji" alt=":+1:"></p>
<p>That would be excellent 0brand and instructions would be a significant security enhancement. I for one would very much welcome it, since I haven‚Äôt investigated the issue at all.</p>
<p>I‚Äôm glad you‚Äôve managed it! <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote" data-post="622" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>Edit: Qubes-VM-hardening also disables Qubes default password-less root and has a tangible security benefit. This chapter is now moot. No?</p>
</blockquote>
</aside>
<p>Agree the issue is moot re: enforcing passwords in Qubes, given the VM hardening tool enforces that anyhow, and provides a much higher security standard. So save your efforts for more valuable things.</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-04-28T02:35:56Z' class='post-time'>
                April 28, 2018,  2:35am
              </time>
              <meta itemprop='dateModified' content='2018-04-29T21:42:46Z'>
          <span itemprop='position'>#625</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="621" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>One obvious (and mostly overlooked) security improvement in Qubes R4.0 would be setting the net-VM and firewall-VM to be disposable. I read somewhere that is possible, but didn‚Äôt see any instructions.</p>
</blockquote>
</aside>
<p>These steps work for me 9 out of 10 times for <code>net-disp</code>, 10 out of 10 for <code>firewall-disp</code>. The troubleshooting section fixes any problems with attaching PCI device and <code>net-disp</code> not booting. After completion, the new VMs function the same as AppVMs only non-persistent.</p>
<p><strong>Q:</strong> If the PCI device is attached to the <code>service-dvm</code> will <code>net-disp</code> inherit the attached PCI device?</p>
<p><strong>A:</strong> No, I tried that numerous times, does not work</p>
<p><strong>Q:</strong> What do you mean by "the new DispVMs function like AppVMs only non-persistent?</p>
<p><strong>A:</strong> These new service VMs can be set to auto-start, can be NetVM for other AppVMs, PCI devices can be attached and will be attached at every VM boot (persistent) with no user input required. DispVM for the most part can be used the same as a regular AppVM.</p>
<p><strong>Q</strong> What names should the DispVMs be given in the steps?</p>
<p><strong>A:</strong> ?</p>
<p><strong>Q:</strong> Should the steps be broken up (Section 1. create service-dvm)  (Section 2.  create net-disp) (Section 3. create firewall-disp) (Section 4. starting VMs) (Section 6. troubleshooting)</p>
<p><strong>A:</strong> ?</p>
<p>Off topic: Also VPN DispVMs and USB DispVMs &lt;‚Äìworking on this now) can be created <img src="../../images/emoji/twitter/grinningae52.png?v=5" title=":grinning:" class="emoji" alt=":grinning:"></p>
<p>Please let me know what changes need to be made to the instructions</p>
<h3>Create sys-net and sys-firewall Disposable VMs</h3>
<p>Qubes R4.0 only!</p>
<p>Qubes users can configure both the <code>sys-net</code> and <code>sys-firewall</code> VMs as Disposable VMs. Using DispVMs for service VMs has the advantage of preventing malware from getting persistent hooks in the VMs‚Äô filesystem. Whereas AppVMs <code>/home</code> folder is persistent accross reboots, when a DisposableVM is shutdown, the VM is removed from Qubes and all related VM images are deleted from the host filesystem. Since fresh VMs are created every time a Dispvm is started, this ensures no malware could remain persistent across reboots.</p>
<p>Note: if users intend to use the same naming convention for the new VMs as currently on their system. The old <code>sys-net</code> and <code>sys-firewall</code> VMs must either be deleted or cloned with a new name.</p>
<p>These steps create the <code>service-dvm</code> (template for DispVMs) <code>net-disp</code> (Dispvm) and <code>firewall-disp</code> (Dispvm)</p>
<p><strong>1.</strong>  In <code>dom0</code>, create the dvm that will be used as Template for service DispVMs</p>
<blockquote>
<p><code>qvm-create -P &lt;pool_name&gt; --template &lt;template_name&gt; --class AppVM --label gray service-dvm</code></p>
</blockquote>
<p><strong>2.</strong> In <code>dom0</code>, set <code>service-dvm</code> virtualizaion mode to <code>hvm</code></p>
<blockquote>
<p><code>qvm-prefs service-dvm virt_mode hvm</code></p>
</blockquote>
<p><strong>3.</strong> In <code>dom0</code>, set <code>service-dvm</code> as template for disposable VMs</p>
<blockquote>
<p><code>qvm-prefs service-dvm template_for_dispvms true</code></p>
</blockquote>
<p><strong>4.</strong> In <code>dom0</code>, create <code>net-disp</code> DispVM based on <code>service-dvm</code></p>
<blockquote>
<p><code>qvm-create -P &lt;pool_name&gt; --template service-dvm --class DispVM --label red net-disp</code></p>
</blockquote>
<p><strong>5.</strong> In <code>dom0</code>, set <code>net-disp</code> to provide network for other VMs</p>
<blockquote>
<p><code>qvm-prefs net-disp provides_network true</code></p>
</blockquote>
<p><strong>6.</strong> In <code>dom0</code>, set <code>net-disp</code> NetVM to none</p>
<blockquote>
<p><code>qvm-prefs net-disp netvm ""</code></p>
</blockquote>
<p><strong>7.</strong> In <code>dom0</code>, list all available PCI devices to determine the correct <em>backend:BDF</em> address(es) to assign to <code>net-disp</code></p>
<p>Note: the bakend:BDF address will look similar to this  <code>dom0:00_1a.0</code></p>
<blockquote>
<p><code>qvm-pci</code></p>
</blockquote>
<p><strong>8.</strong> In <code>dom0</code>, attach the network PCI device(s) to <code>net-disp</code></p>
<p>Note: if <code>00_1a.0</code> is the BDF of the Ethernet controller that will be assigned to <code>net-disp</code>, the command would look similar to this:  <code>qvm-pci attach --persistent net-test dom0:00_1a.0</code></p>
<blockquote>
<p><code>qvm-pci attach --persistent net-disp &lt;backend&gt;:&lt;bdf&gt;</code></p>
</blockquote>
<p><strong>9.</strong> (Optional) In <code>dom0</code>, set <code>net-disp</code> to start automatically when Qubes boots</p>
<blockquote>
<p><code>qvm-prefs net-disp autostart true</code></p>
</blockquote>
<p><strong>10.</strong> (Optional) In <code>dom0</code>, set <code>net-disp</code> as the <code>dom0</code> time source</p>
<blockquote>
<p><code>qubes-prefs clockvm net-disp</code></p>
</blockquote>
<p><strong>11.</strong> In <code>dom0</code>, create <code>firewall-disp</code></p>
<blockquote>
<p><code>qvm-create -P appvm_pool --template service-test --class DispVM --label green firewall-disp</code></p>
</blockquote>
<p><strong>12.</strong> In <code>dom0</code>, set <code>firewall-disp</code> to provide network for other VMs</p>
<blockquote>
<p><code>qvm-prefs firewall-disp provides_network true</code></p>
</blockquote>
<p><strong>13.</strong> In <code>dom0</code>, set <code>net-disp</code> as NetVM for <code>firewall-disp</code></p>
<blockquote>
<p><code>qvm-prefs firewall-testing netvm net-testing</code></p>
</blockquote>
<p><strong>14.</strong> In <code>dom0</code>, set <code>firewall-disp</code> as NetVM for other AppVMs</p>
<blockquote>
<p><code>qvm-prefs &lt;vm_name&gt; netvm firewall-disp</code></p>
</blockquote>
<p><strong>15.</strong> (Optional) In <code>dom0</code>, set <code>firewall-disp</code> to auto-start when Qubes boots</p>
<blockquote>
<p><code>qvm-prefs firewall-disp autostart true</code></p>
</blockquote>
<p><strong>16.</strong> (Optional) In <code>dom0</code>, set <code>firewall-disp</code> as the default NetVM</p>
<blockquote>
<p><code>qubes-prefs default_netvm firewall-disp</code></p>
</blockquote>
<p><strong>Starting <code>net-disp</code> and <code>firewall-disp</code> VMs</strong></p>
<p>Prior to starting <code>net-disp</code>, users must ensure that no currently running VMs ‚Äì such as the current <code>sys-net</code> ‚Äì has the same PCI device attached. These VMs must be either shutdown or the PCI device detached.</p>
<p>Once VMs have been successfully started, users should ensure no other VMs will interfere with the VMs at the next Qubes boot. If the new <code>net-disp</code> VM and the current <code>sys-net</code> VM are both set to auto-start ‚Äì and have identical PCI devices attached ‚Äì may lead to failed starts for both VMs.</p>
<p><strong>1.</strong> In <code>dom0</code>, start <code>net-disp</code></p>
<blockquote>
<p><code>qvm-start net-disp</code></p>
</blockquote>
<p><strong>2.</strong> In <code>dom0</code>, start <code>firewall-disp</code></p>
<blockquote>
<p><code>qvm-start firewall-disp</code></p>
</blockquote>
<p><strong>Troubleshooting</strong></p>
<p>If users see an error stating ‚ÄúThe PCI device could be attached‚Äù, rebooting the Qubes system will likely rectify the problem. After <code>net-disp</code> boots successfully for the first time, users should have no further VM boot problems. The network PCI device will be attached with every VM boot without the need to manually attach proir to every VM start.</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-04-29T02:32:40Z' class='post-time'>
                April 29, 2018,  2:32am
              </time>
              <meta itemprop='dateModified' content='2018-04-29T02:32:40Z'>
          <span itemprop='position'>#626</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>My last post ‚ÄúCreating sys-net and sys-firwall Disposable VMs‚Äù instructions has been extensively modified</p>
<p>Steps added to create firewall DispVM,<br>
All other steps have been updated as well</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-04-30T05:58:14Z' class='post-time'>
                April 30, 2018,  5:58am
              </time>
              <meta itemprop='dateModified' content='2018-04-30T05:58:14Z'>
          <span itemprop='position'>#627</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/pano">@pano</a></p>
<aside class="quote" data-post="6" data-topic="5108">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/p/3e96dc/40.png" class="avatar"><a href="../bridges-documentation/5108/6">Bridges documentation</a>
</div>
<blockquote>
<p>The explanations throughout the document are mostly good and helpful, but I find it exhausting to continuously filter through  instructions not relevant to me (Qubes-Whonix and graphical whonix). It takes more time - instead of following sequentially, I need to skip sections, but very carefully, not to miss anything by mistake. This of course applies not to this page specifically. Maybe color - code the different versions (inspired by the Qubes frames colors concept <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> )</p>
</blockquote>
</aside>
<p>Colors may be useful? Opinions?</p>
<p>Color relations?</p>
<ul>
<li>Qubes: blue - since the Q logo of Qubes is blue</li>
<li>console: black (maybe ‚Äúmore black then black‚Äù? can we do bold or something other than block to illustrate console)</li>
<li>VirtualBox: ?</li>
</ul>
<p>Maybe colors for box colors?</p>
<p>Or maybe symbols for Qubes, console and graphical would help?</p>
<p>Some templates that could use such a revision:</p>
<ul>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/Template:Open_with_root_rights">https://www.whonix.org/wiki/Template:Open_with_root_rights</a></li>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/Template:Open_a_Whonix-Workstation_Terminal">https://www.whonix.org/wiki/Template:Open_a_Whonix-Workstation_Terminal</a></li>
<li>and some more‚Ä¶</li>
</ul>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="3" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/torjunkie'><span itemprop='name'>torjunkie</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-04-30T08:43:19Z' class='post-time'>
                April 30, 2018,  8:43am
              </time>
              <meta itemprop='dateModified' content='2018-04-30T08:43:19Z'>
          <span itemprop='position'>#628</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>That‚Äôs outstanding work 0brand!</p>
<p>I wonder whether the method for setting disposableVMs for <code>sys-net</code> and <code>sys-firewall</code> belongs on the Qubes website, since it is Qubes-specific? <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/adw">@adw</a> We could then link to it and add it as an obvious hardening step.</p>
<p>If we don‚Äôt hear anything, I think we just add all this text, clearly mark it as experimental / testers-only, and find an appropriate home for it (Advanced Security Guide?).</p>
<p>Also keen for someone to chime in that it is the canonical method and safe - although it looks logical to me. Also, does the <code>anon-ws</code> VM and Tor Browser work fine in a disposableVM in this configuration i.e. <code>disp-sys-net</code>, <code>disp-sys-firewall</code>, <code>disp-anon-whonix</code>? If so, you‚Äôre probably the first person to pull it off.</p>
<p>My main worry is that anonymity might be affected somehow given previous (still open) Qubes issues with dvm-templates.</p>
<p>For bonus points or fun (since you like testing), you could attempt customizing the <code>disp-anon-whonix</code> with the alpha sandboxed Tor Browser (that requires Whonix 14) and see it works okay in this combo. That would be another first in the community probably. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote" data-post="627" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Colors may be useful? Opinions?</p>
</blockquote>
</aside>
<p>Good idea Patrick. It‚Äôs just a case of getting around to it.</p>
<p>If anyone wants to edit those templates, I‚Äôll unprotect them.</p>
<p>PS Community is humming along nicely. I see in different threads: I2P development, VBox .ova shrinking, dispVMs in Qubes, encrypted email etc, new contributors solving issues on phabricator etc. Good stuff.</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="3" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-04-30T09:22:00Z' class='post-time'>
                April 30, 2018,  9:22am
              </time>
              <meta itemprop='dateModified' content='2018-04-30T09:22:00Z'>
          <span itemprop='position'>#629</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>torjunkie:</p>
<blockquote>
<p>I wonder whether the method for setting disposableVMs for <code>sys-net</code> and <code>sys-firewall</code> belongs on the Qubes website, since it is Qubes-specific?</p>
</blockquote>
<p>Yes.</p>
<p><a href="../../../external.html?link=https://github.com/QubesOS/qubes-issues/issues/3629">https://github.com/QubesOS/qubes-issues/issues/3629</a> applies? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<blockquote>
<p>If we don‚Äôt hear anything, I think we just add all this text, clearly mark it as experimental / testers-only, and find an appropriate home for it (Advanced Security Guide?).</p>
</blockquote>
<p>Yes.</p>
<p>Also this shouldn‚Äôt be manual instructions for long. Is there a Qubes<br>
ticket yet to make that the default?</p>
<blockquote>
<p>PS Community is humming along nicely. I see in different threads: I2P development, VBox .ova shrinking, dispVMs in Qubes, encrypted email etc, new contributors solving issues on phabricator etc. Good stuff.</p>
</blockquote>
<p>:))</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-04-30T09:45:22Z' class='post-time'>
                April 30, 2018,  9:45am
              </time>
              <meta itemprop='dateModified' content='2018-04-30T09:45:22Z'>
          <span itemprop='position'>#630</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="628" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>I wonder whether the method for setting disposableVMs for sys-net and sys-firewall belongs on the Qubes website, since it is Qubes-specific? <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/adw">@adw</a> We could then link to it and add it as an obvious hardening step.</p>
</blockquote>
</aside>
<p>Once again, great minds think alike! I was thinking this would be something that should be on the Qubes Docs. I didn‚Äôt know how to ask though.</p>
<aside class="quote" data-post="628" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>If we don‚Äôt hear anything, I think we just add all this text, clearly mark it as experimental / testers-only, and find an appropriate home for it (Advanced Security Guide?).</p>
</blockquote>
</aside>
<p>That sounds great!</p>
<aside class="quote" data-post="628" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>Also keen for someone to chime in that it is the canonical method and safe - although it looks logical to me.</p>
</blockquote>
</aside>
<p>If one of the qubes devs could take a look at this would be very helpful. If we don‚Äôt here back, maybe ask on Qubes mailing list?</p>
<aside class="quote" data-post="628" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>Also, does the anon-ws VM and Tor Browser work fine in a disposableVM in this configuration i.e. disp-sys-net, disp-sys-firewall, disp-anon-whonix? If so, you‚Äôre probably the first person to pull it off.</p>
</blockquote>
</aside>
<p>Yes! I‚Äôve been using this setup since RC3 or RC4 (can‚Äôt remember which) The only problem I have is the <code>disp-anon-whonix</code> will not start after updating my system when I first boot every once in a great while. Requires system reboot for <code>disp-anon-whonix</code> to launch.</p>
<p><strong>Example</strong></p>
<p>Debian and Whonix Templates</p>
<p><code>sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade (all template VMs)</code></p>
<p><code>sudo dom0-qubes-updates</code></p>
<p><code>qvm-run disp-anon-whonix 'firejail torbrowser'</code></p>
<p>Seems like the Dispvm starts but no apps can be run?</p>
<aside class="quote" data-post="628" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>My main worry is that anonymity might be affected somehow given previous (still open) Qubes issues with dvm-templates.</p>
</blockquote>
</aside>
<p>Very possible</p>
<aside class="quote" data-post="628" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>For bonus points or fun (since you like testing), you could attempt customizing the disp-anon-whonix with the alpha sandboxed Tor Browser (that requires Whonix 14) and see it works okay in this combo. That would be another first in the community probably. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>No problem!</p>
<p>BTW  <code>disp-sys-usb</code> functioning.  Should be finished writing the steps later on today <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="3" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-04-30T10:02:00Z' class='post-time'>
                April 30, 2018, 10:02am
              </time>
              <meta itemprop='dateModified' content='2018-04-30T10:02:00Z'>
          <span itemprop='position'>#631</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>0brand:</p>
<blockquote>
<p>If one of the qubes devs could take a look at this would be very helpful. If we don‚Äôt here back, maybe ask on Qubes mailing list?</p>
</blockquote>
<p>I wouldn‚Äôt recommend wait here. Looks to me they have an even bigger<br>
flood of incoming inquiries than Whonix.</p>
<p>The proper process as far as I understand would be to create a<br>
qubes-issues ticket ‚Äúdocument ‚Ä¶‚Äù. Offering to provide a pull request.<br>
Maybe wait for answers. Only maybe if it looks required. And then to<br>
provide a pull request against qubes-doc on github.</p>
<blockquote>
<p><code>qvm-run disp-anon-whonix 'firejail torbrowser'</code></p>
</blockquote>
<p>For debugging‚Ä¶ Does this help?</p>
<p><code>qvm-run disp-anon-whonix konsole</code></p>
<p>Does it work that far?</p>
<p><code>firejail torbrowser</code></p>
<p>Might give more clues.</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-04-30T10:19:21Z' class='post-time'>
                April 30, 2018, 10:19am
              </time>
              <meta itemprop='dateModified' content='2018-04-30T10:19:21Z'>
          <span itemprop='position'>#632</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="631" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>If one of the qubes devs could take a look at this would be very helpful. If we don‚Äôt here back, maybe ask on Qubes mailing list?</p>
<p>I wouldn‚Äôt recommend wait here. Looks to me they have an even bigger</p>
<p>flood of incoming inquiries than Whonix.</p>
<p>The proper process as far as I understand would be to create a</p>
<p>qubes-issues ticket ‚Äúdocument ‚Ä¶‚Äù. Offering to provide a pull request.</p>
<p>Maybe wait for answers. Only maybe if it looks required. And then to</p>
<p>provide a pull request against qubes-doc on github.</p>
</blockquote>
</aside>
<p>Sorry, I replied to torjunkies post without reading through your post first. I just finished reading through <a href="../../../external.html?link=https://github.com/QubesOS/qubes-issues/issues/3629">https://github.com/QubesOS/qubes-issues/issues/3629</a></p>
<p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/torjunkie">@torjunkie</a> I can create the Qubes ticket if you like? I have a lot on my plate so it may take a few day to get this completed.</p>
<aside class="quote" data-post="631" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>qvm-run disp-anon-whonix ‚Äòfirejail torbrowser‚Äô</p>
<p>For debugging‚Ä¶ Does this help?</p>
<p>qvm-run disp-anon-whonix konsole</p>
</blockquote>
</aside>
<p>I know this command works</p>
<p><code>qvm-run disp-anon-whonix konsole</code></p>
<p>I can‚Äôt remember if I tried running running any apps from it when I was having problems. I will try runnig <code>firejail torbrowser</code> from the konsole next time it happens. Thanks!</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/adw'><span itemprop='name'>adw</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">

            <link itemprop="image" href="../../uploads/default/original/2X/f/f674195f5ac81cdee482084cfe34cb6918b6dc9b.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-01T01:24:54Z' class='post-time'>
                May 1, 2018,  1:24am
              </time>
              <meta itemprop='dateModified' content='2018-05-01T01:24:54Z'>
          <span itemprop='position'>#633</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="628" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>I wonder whether the method for setting disposableVMs for sys-net and sys-firewall belongs on the Qubes website, since it is Qubes-specific? <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/adw">@adw</a> We could then link to it and add it as an obvious hardening step.</p>
</blockquote>
</aside>
<aside class="quote no-group" data-post="630" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>Once again, great minds think alike! I was thinking this would be something that should be on the Qubes Docs. I didn‚Äôt know how to ask though.</p>
</blockquote>
</aside>
<p>We always welcome quality documentation contributions! The procedure for contributing Qubes documentation is explained here:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../uploads/default/original/2X/f/f674195f5ac81cdee482084cfe34cb6918b6dc9b.png" class="site-icon" width="500" height="500">
      <a href="../../../external.html?link=https://www.qubes-os.org/doc/doc-guidelines/#how-to-contribute" target="_blank" rel="nofollow noopener">Qubes OS</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="../../uploads/default/original/2X/f/f9dbba66fcd8e930f39601ac1345e04b18d538f5.png" class="thumbnail"></div>

<h3><a href="../../../external.html?link=https://www.qubes-os.org/doc/doc-guidelines/#how-to-contribute" target="_blank" rel="nofollow noopener">Documentation Guidelines</a></h3>

<p>Documentation Guidelines All Qubes OS documentation pages are stored as plain text files in the dedicated qubes-doc repository. By cloning and regularly pulling from this repo, users can maintain their own up-to-date offline copy of all Qubes...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Basically: Submit a pull request to <code>qubes-doc</code>. We‚Äôll review it and may ask for changes, if necessary. Once it passes review, it‚Äôll be merged and appear on the live website.</p>
<aside class="quote no-group" data-post="630" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>If one of the qubes devs could take a look at this would be very helpful. If we don‚Äôt here back, maybe ask on Qubes mailing list?</p>
</blockquote>
</aside>
<p>I‚Äôm afraid you‚Äôll probably never receive a response from the Qubes devs here or on our mailing lists about this. It‚Äôs not intentional or malicious; they‚Äôre simply so swamped that they probably won‚Äôt reply or even see it. Moreover, all of their time spent on reviewing documentation submissions is spent on the ones submitted via the proper channels (which are explained above), so your best bet for getting developer eyes on the document is by submitting it that way.</p>
<aside class="quote no-group" data-post="631" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I wouldn‚Äôt recommend wait here. Looks to me they have an even bigger<br>
flood of incoming inquiries than Whonix.</p>
</blockquote>
</aside>
<p>Yes, Patrick understands. <img src="../../images/emoji/twitter/slightly_smiling_face1bce.png?v=6" title=":slightly_smiling_face:" class="emoji" alt=":slightly_smiling_face:"></p>
<aside class="quote no-group" data-post="631" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The proper process as far as I understand would be to create a<br>
qubes-issues ticket ‚Äúdocument ‚Ä¶‚Äù. Offering to provide a pull request.<br>
Maybe wait for answers. Only maybe if it looks required. And then to<br>
provide a pull request against qubes-doc on github.</p>
</blockquote>
</aside>
<aside class="quote no-group" data-post="632" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>I can create the Qubes ticket if you like? I have a lot on my plate so it may take a few day to get this completed.</p>
</blockquote>
</aside>
<p>For a documentation contribution, it is not necessary to create an issue in <code>qubes-issues</code>. Instead, you can just submit a pull request as explained on the page linked above.</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-01T01:58:26Z' class='post-time'>
                May 1, 2018,  1:58am
              </time>
              <meta itemprop='dateModified' content='2018-05-01T02:10:19Z'>
          <span itemprop='position'>#634</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="633" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/adw/40/686_1.png" class="avatar"> adw:</div>
<blockquote>
<p>Basically: Submit a pull request to qubes-doc. We‚Äôll review it and may ask for changes, if necessary. Once it passes review, it‚Äôll be merged and appear on the live website.</p>
</blockquote>
</aside>
<p>Awesome! There is still some fine tuning needed before the instruction will be ready. Should not take long to complete. Once the changes are reviewed, I will submit a pull request to <code>qubes-doc</code></p>
<aside class="quote" data-post="633" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/adw/40/686_1.png" class="avatar"> adw:</div>
<blockquote>
<p>It‚Äôs not intentional or malicious; they‚Äôre simply so swamped that they probably won‚Äôt reply or even see it.</p>
</blockquote>
</aside>
<p>Completely understood. I can well imagine the workload you/they have. I have problems myself just keeping up with Whonix wiki edits in a timely manner. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Thanks for the quick reply.</p>
<p>And as always, Thanks for all the hard work!</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/pano'><span itemprop='name'>pano</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-01T04:38:11Z' class='post-time'>
                May 1, 2018,  4:38am
              </time>
              <meta itemprop='dateModified' content='2018-05-01T04:38:11Z'>
          <span itemprop='position'>#635</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="627" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Maybe colors for box colors?</p>
<p>Or maybe symbols for Qubes, console and graphical would help?</p>
</blockquote>
</aside>
<p>I think it can help, but if you want something really good, then allow the reader to see only the sections he need.</p>
<p>If for example there was a dropdown or two, at the top of the page, instead of all the ‚ÄúIf you are using‚Ä¶‚Äù boxes throughout the page, using the wiki would be much easier.</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-01T10:53:00Z' class='post-time'>
                May 1, 2018, 10:53am
              </time>
              <meta itemprop='dateModified' content='2018-05-01T10:53:00Z'>
          <span itemprop='position'>#636</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>pano:</p>
<blockquote>
<aside class="quote" data-post="627" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Maybe colors for box colors?</p>
<p>Or maybe symbols for Qubes, console and graphical would help?</p>
</blockquote>
</aside>
<p>I think it can help, but if you want something really good, then allow the reader to see only the sections he need.</p>
<p>If for example there was a dropdown or two, at the top of the page, instead of all the ‚ÄúIf you are using‚Ä¶‚Äù boxes throughout the page, using the wiki would be much easier.</p>
</blockquote>
<p>That would be very good, but we don‚Äôt have this skill in Whonix team at<br>
the moment. So not realistic. (We stuck without webmaster, stuck with<br>
mediawiki, let alone such sophisticated web development.)</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-02T02:16:05Z' class='post-time'>
                May 2, 2018,  2:16am
              </time>
              <meta itemprop='dateModified' content='2018-05-02T09:56:15Z'>
          <span itemprop='position'>#637</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Instructions for Disposable USB qube are complete. These instructions assume the the <code>service-dvm</code> in the previous instructions would be used as the <code>disp-sys-usb</code> template i.e. <code>template_for_dispvms true</code></p>
<p>My next step is to do some fine tuning on both sets of DispVM instructions. Get feedback for any changes. Then I will submit a pull request to <code>qubes-docs</code> (if that is OK with everyone)</p>
<p>Also, I know much of the <code>sys-usb</code> info I mentioned is already in the Qubes docs. I wanted to add it here in case anyone wanted to test the instructions. Having all info in the same place makes it easier.</p>
<p><strong>Create a Disposable <code>sys-usb</code> VM</strong></p>
<p>Qubes 4.0 users now have the option of creating a <code>sys-usb</code> Disposable VM. This will provide significant benefits over the default <code>sys-usb</code> VM. Considering that USB devises can pose a serious security risk, the use of a disposable USB qube would mitigate many of the risks associated with attaching a USB. Not only is dom0 afforded the same protections the default USB qube provides from a malicious USB. The Disposable USB qubes‚Äô non-persistent filesystem prevents malware from gaining a persistent foothold in the VMs <code>/home</code> folder.</p>
<p>Users must first create the dvm template which the disposable USB VM is based on (steps 1-3  ‚ÄúCreate sys-net and sys-firewall Disposable VMs‚Äù chapter)</p>
<p><strong>1.</strong> In <code>dom0</code>, create the disposable USB VM</p>
<blockquote>
<p><code>qvm-create -P &lt;pool_name&gt; --template service-dvm --class DispVM --label red disp-sys-usb</code></p>
</blockquote>
<p><strong>2.</strong> In <code>dom0</code>, set the virtualization mode to <code>hvm</code></p>
<blockquote>
<p><code>qvm-prefs disp-sys-usb virt_mode hvm</code></p>
</blockquote>
<p><strong>3.</strong> In <code>dom0</code>, set <code>disp-sys-usb</code> NetVM to none</p>
<blockquote>
<p><code>qvm-prefs usb-disp netvm ""</code></p>
</blockquote>
<p><strong>4.</strong> In <code>dom0</code>, list all available PCI devices</p>
<blockquote>
<p><code>qvm-pci</code></p>
</blockquote>
<p><strong>5.</strong> In <code>dom0</code>, attach the USB controller to the USB VM</p>
<p>Note: the bakend:BDF address will look similar to this dom0:00_1a.0</p>
<blockquote>
<p><code>qvm-pci attach --persistent disp-sys-usb &lt;backined&gt;:&lt;bdf&gt;</code></p>
</blockquote>
<p><strong>6.</strong> Hide USB controllers from dom0</p>
<p>Warning: If a USB AEM is being used, all USB controllers should not be hidden from dom0. This would prevent  the USB AEM devices from functioning.</p>
<p>Note: If users created a usb qube during qubes install or by using salt, the following steps can be ignored.</p>
<p>If users have created a USB qube manually, there will be a brief period of time during the boot process when <code>dom0</code> will be exposed to your USB controllers and any attached devices. This is a security risk, since even a brief exposure to a malicious USB device could result in <code>dom0</code> being compromised. It is recommended users hide (blacklist) all USB controllers from dom0.</p>
<p><strong>GRUB2</strong></p>
<p>In <code>dom0</code> terminal, open GRUB2 configuration file in a text editor</p>
<blockquote>
<p><code>sudo nano /etc/default/grub</code></p>
</blockquote>
<p>Locate the line that begins with <code>GRUB_CMDLINE_LINUX</code> and append the following text</p>
<blockquote>
<p><code>rd.qubes.hide_all_usb</code></p>
</blockquote>
<p>save and exit</p>
<p>In <code>dom0</code> , update GRUB2 for the new changes to take affect</p>
<blockquote>
<p><code>grub2-mkconfig -o /boot/grub2/grub.cfg</code></p>
</blockquote>
<p>In <code>dom0</code>, reboot Qubes for the new boot parameters to take affect</p>
<blockquote>
<p><code>sudo reboot</code></p>
</blockquote>
<p><strong>EFI</strong></p>
<p>In <code>dom0</code>, open EFI boot configuration file in a text editor</p>
<blockquote>
<p><code>sudo nano /boot/efi/EFI/qubes/xen.cfg</code></p>
</blockquote>
<p>Locate the line that begins with ‚Äú<code>kernel=</code>‚Äù and append the following text</p>
<p>Note: more than one ‚Äú<code>kernel=</code>‚Äù line may be present</p>
<blockquote>
<p><code>rd.qubes.hide_all_usb</code></p>
</blockquote>
<p>save and exit</p>
<p><strong>Troublshooting</strong></p>
<p>If the USB qube fails to start the likely reason is one of the controllers does not support reset. Quite often the offending contoller is a USB 3.0 device. The following errors would suggest this is the issue.</p>
<p>In <code>dom0</code>, <code>xl dmesg</code> output</p>
<blockquote>
<p><em>(XEN) [VT-D] It‚Äôs disallowed to assign 0000:00:1a.0 with shared RMRR at dbe9a000 for Dom19.</em><br>
<em>(XEN) XEN_DOMCTL_assign_device: assign 0000:00:1a.0 to dom19 failed (-1)</em></p>
</blockquote>
<p>In <code>dom0</code>, when <code>qvm-start disp-sys-usb</code> is run</p>
<blockquote>
<p><em>internal error: Unable to reset PCI device [‚Ä¶]  no FLR, PM reset or bus reset available</em></p>
</blockquote>
<p>Users have serveral solutions available to restore VM functionality</p>
<ul>
<li>
<p>remove the offending controller from the <code>disp-sys-usb</code> VM and try to restart the VM.</p>
</li>
<li>
<p>disable the USB 3.0 in the BIOS.</p>
</li>
<li>
<p>try to force USB 2.0 modes for the USB ports</p>
<p>In <code>dom0</code>, force USB modes for all USB ports</p>
<blockquote>
<p><code>lspci -nn | grep USB | cut -d '[' -f3 | cut -d ']' -f1 | xargs -I@ setpci -H1 -d @ d0.l=0</code></p>
</blockquote>
</li>
<li>
<p>set the <code>pci_strictreset</code> option</p>
<p>In dom0, set the <code>no-strict-reset</code> option</p>
<blockquote>
<p><code>qvm-pci attach --persistent --option no-strict-reset=true disp-sys-usb &lt;backend&gt;:&lt;bdf&gt;</code></p>
</blockquote>
</li>
</ul>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">

            <link itemprop="image" href="../../uploads/default/original/2X/e/ed9021669384b5db9ddd1fa4784b570c0c65b0a2.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-03T02:31:10Z' class='post-time'>
                May 3, 2018,  2:31am
              </time>
              <meta itemprop='dateModified' content='2018-05-03T09:47:42Z'>
          <span itemprop='position'>#638</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>It looks like <code>dispvm-sys-net</code>, <code>dispvm-sys-firewall</code>, and <code>disp-sys-usb</code> have been pushed to the qubes docs. Not by me.</p>
<aside class="onebox githubpullrequest">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/QubesOS/qubes-doc/pull/640/files#diff-0" target="_blank" rel="nofollow noopener">github.com/QubesOS/qubes-doc</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://github.com/awokd" target="_blank" rel="nofollow noopener">
    <img alt="awokd" src="../../uploads/default/original/2X/e/ed9021669384b5db9ddd1fa4784b570c0c65b0a2.png" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="../../../external.html?link=https://github.com/QubesOS/qubes-doc/pull/640" target="_blank" rel="nofollow noopener">dispvm-customization add static Disposable VMs for sys-*</a>
</h4>

<div class="date">
  by <a href="../../../external.html?link=https://github.com/awokd" target="_blank" rel="nofollow noopener">awokd</a>
  on <a href="../../../external.html?link=https://github.com/QubesOS/qubes-doc/pull/640" target="_blank" rel="nofollow noopener">10:09AM - 30 Apr 18 UTC</a>
</div>

<div class="github-commit-stats">
  <strong>4 commits</strong>
  changed <strong>1 files</strong>
  with <strong>54 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>I looked it over and with the method described you are not able to use custom firewall rules set with static DispvVMs . However it is possible If users follow the instructions in this thread. The rule set must be added to the dvm template which the <code>disp-sys-firewall</code> is based on. Obviously firewall rules cannot be added for Whonix due to stream isolation.</p>
<p>This method is a little complicated but it is possible.</p>
<p><strong>1.</strong> Create dvm template disp-sys-firewall is based on<br>
<strong>2.</strong> Create <code>disp-sys-firewall</code><br>
<strong>3.</strong> Add custom rule set to dvm template. Note: Use the <code>disp-sys-firewall</code>  IP address when creating rule set</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/torjunkie'><span itemprop='name'>torjunkie</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-03T10:11:55Z' class='post-time'>
                May 3, 2018, 10:11am
              </time>
              <meta itemprop='dateModified' content='2018-05-03T10:11:55Z'>
          <span itemprop='position'>#639</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="629" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Is there a Qubes</p>
<p>ticket yet to make that the default?</p>
</blockquote>
</aside>
<p>I haven‚Äôt seen one. It would be a nice option at install time - [x] Create disposable sys-net, sys-firewall, and sys-usb VMs.</p>
<p>Or some fancy script that runs all those commands in order so the user doesn‚Äôt screw up.</p>
<aside class="quote" data-post="630" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>I was thinking this would be something that should be on the Qubes Docs.</p>
</blockquote>
</aside>
<p>He stole your thunder <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Great work on all of this BTW!</p>
<p>At least it‚Äôs done. You could suggest your improvements  on github? Easy enough to create an anonymous account there.</p>
<aside class="quote" data-post="630" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>If one of the qubes devs could take a look at this would be very helpful.</p>
</blockquote>
</aside>
<p>Marek is assigned to review it ATM.</p>
<aside class="quote" data-post="630" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>Yes! I‚Äôve been using this setup since RC3 or RC4 (can‚Äôt remember which)</p>
</blockquote>
</aside>
<p>Excellent!</p>
<aside class="quote" data-post="633" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/adw/40/686_1.png" class="avatar"> adw:</div>
<blockquote>
<p>Basically: Submit a pull request to qubes-doc. We‚Äôll review it and may ask for changes, if necessary. Once it passes review, it‚Äôll be merged and appear on the live website.</p>
</blockquote>
</aside>
<p>Thanks for chiming in Andrew. Appreciated.</p>
<aside class="quote" data-post="638" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/0/ec9cab/40.png" class="avatar"> 0brand:</div>
<blockquote>
<p>It looks like dispvm-sys-net, dispvm-sys-firewall, and disp-sys-usb have been pushed to the qubes docs.</p>
</blockquote>
</aside>
<p>I like yours better. If the docs don‚Äôt have your suggested improvements and passes Marek‚Äôs approval, you are welcome to add all your text to a page here somewhere, as it is more user-friendly and educational which is better for low-intermediate users IMO.</p>
<p>Qubers are more about getting the job done with few beginner tips, which doesn‚Äôt do it for everyone <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/torjunkie'><span itemprop='name'>torjunkie</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-03T10:31:24Z' class='post-time'>
                May 3, 2018, 10:31am
              </time>
              <meta itemprop='dateModified' content='2018-05-03T10:31:24Z'>
          <span itemprop='position'>#640</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>To summarise, I think there is where it‚Äôs at.</p>
<p><strong>TO DO</strong></p>
<ul>
<li>Startpage bypass of Tor blocks.</li>
<li>0brand‚Äôs dispVM 101 for low-intermediate users. Perhaps a whole new page, with a section in Advanced Security Guide pointing to it (?)</li>
<li>Footnote Qubes-Whonix VM protection script as per Patrick suggestion</li>
<li>Remaining email fixes (numerous)</li>
</ul>
<p><strong>Up-for-grabs</strong></p>
<ul>
<li>Proxy steps as per entropy‚Äôs info in previous post.</li>
<li>One Time Pads</li>
<li>Prettying up boxes in documentation perhaps (color)?</li>
<li>Template request</li>
<li>Debian developer request re that system-d setting that is a risk to anonymity (in another forum post)</li>
</ul>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/0brand'><span itemprop='name'>0brand</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3477.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-04T01:53:59Z' class='post-time'>
                May 4, 2018,  1:53am
              </time>
              <meta itemprop='dateModified' content='2018-05-04T01:53:59Z'>
          <span itemprop='position'>#641</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="639" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>You could suggest your improvements  on github? Easy enough to create an anonymous account there.</p>
</blockquote>
</aside>
<p>I have an pseudonymous github account. Don‚Äôt use it much though.</p>
<aside class="quote" data-post="639" data-topic="3477">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>I like yours better. If the docs don‚Äôt have your suggested improvements and passes Marek‚Äôs approval,</p>
</blockquote>
</aside>
<p>I completed the changes needed for <code>qubes-docs</code> and added a few thing that may be of interest the users (i think) <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>It would be helpful if i could get a little feedback before the pull request is submitted. So I don‚Äôt duplicate all the content already on this tread. Just the introduction and the first 2 sections are posted.</p>
<p>I wanted to kill 2 birds with one stone with this submission.</p>
<ul>
<li>find out if this way of creating DispVMs is sound</li>
<li>find out if adding custom scripts, software in the <code>dvm</code> is OK (I use them). This would be great to know for future wiki docs?</li>
</ul>
<h3>Create Custom sys-net, sys-firewall, and sys-usb DispVMs</h3>
<p>Users have the option of creating cusomized DispVMs for the sys-net, sys-firewall and USB VMs. These VMs behave much like the default VMs created during Qubes installation with the exception of a non-persistent filesystem. Another similarity shared with the default service VMs is the option to use custom fireall rulesets as will as  Qubes VPN scripts. This can be accomplished in spite of the fact that a fresh VM is created each time a DispVM is launched by adding rules or cusum scripts to the dvm template. Users also have the option to set the DispVMs to autostart at system boot in addition to attaching pci devices with the --persisent option. Since both of the aformentioned configuration options are required only at the initial DispVM creation. Using DispVMs in this manner is ideally suited for untrusted VMs which reqire persistent pci devices such as USB VMs and NetVMs.</p>
<p>Note: if the dvm is customized with a VPN or firewall ruleset. A seperate dvm must be created for use by each DispVM. Otherwise, if no custimizations are made to the dvm. Users need only create a singular dvm which can be used as template for all DispVMs</p>
<p><strong>Create the dvm from which the DispVM will be based on</strong></p>
<p><strong>1.</strong> In <code>dom0</code>, create the <code>dvm</code> template</p>
<blockquote>
<p><code>qvm-create -P &lt;pool_name&gt; --template &lt;template_name&gt; --class AppVM --label gray service-dvm</code></p>
</blockquote>
<p><strong>2.</strong> (Optional) In <code>dvm</code>, add user customizations</p>
<pre><code>Firewall rulestets and Qubes VPN scripts can be added like any other VM   
</code></pre>
<p><strong>3.</strong> In <code>dom0</code>, set <code>service-dvm</code> as template for disposable VMs</p>
<blockquote>
<p><code>qvm-prefs service-dvm template_for_dispvms true</code></p>
</blockquote>
<p><strong>Create the <code>sys-net</code> DispVM</strong></p>
<p><strong>1.</strong> In <code>dom0</code>, create <code>sys-net</code> <code>DispVM</code> based on <code>service-dvm</code></p>
<blockquote>
<p><code>qvm-create -P &lt;pool_name&gt; --template service-dvm --class DispVM --label red disp-sys-net</code></p>
</blockquote>
<p><strong>2.</strong> In <code>dom0</code>, set <code>disp-sys-net</code> virtualizaion mode to <code>hvm</code></p>
<blockquote>
<p><code>qvm-prefs service-dvm virt_mode hvm</code></p>
</blockquote>
<p><strong>3.</strong> In <code>dom0</code>, set <code>disp-sys-net</code> to provide network for other VMs</p>
<blockquote>
<p><code>qvm-prefs disp-sys-net provides_network true</code></p>
</blockquote>
<p><strong>4.</strong> In <code>dom0</code>, set <code>disp-sys-net</code> NetVM to none</p>
<blockquote>
<p><code>qvm-prefs net-disp netvm ""</code></p>
</blockquote>
<p><strong>5.</strong> In <code>dom0</code>, list all available PCI devices to determine the correct <em>backend:BDF</em> address(es) to assign to <code>disp-sys-net</code></p>
<blockquote>
<p><code>qvm-pci</code></p>
</blockquote>
<p><strong>6.</strong> In <code>dom0</code>, attach the network PCI device(s) to <code>disp-sys-net</code> instructions on finding and assigning pci devices can be found here (link to documention)</p>
<blockquote>
<p><code>qvm-pci attach --persistent net-disp &lt;backend&gt;:&lt;bdf&gt;</code></p>
</blockquote>
<p><strong>7.</strong> (recommended) In <code>dom0</code>, set <code>disp-sys-net</code> to start automatically when Qubes boots</p>
<blockquote>
<p><code>qvm-prefs disp-sys-net autostart true</code></p>
</blockquote>
<p><strong>8.</strong> (Optional) In <code>dom0</code>, set <code>disp-sys-net</code> as the <code>dom0</code> time source</p>
<blockquote>
<p><code>qubes-prefs clockvm disp-sys-net</code></p>
</blockquote>
<p>If after reading this you think it should be reverted back to the original content/format please let me know. Maybe bring up the custom scripting in the dvm another time?</p>
        </div>

        <meta itemprop='headline' content='Long Wiki Edits Thread'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="3477dcf3.html?page=31">‚Üê previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="3477bd1b.html?page=33">next page ‚Üí</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
