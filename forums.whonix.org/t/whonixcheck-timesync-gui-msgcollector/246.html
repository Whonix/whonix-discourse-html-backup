<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonixcheck, timesync GUI, msgcollector - Development - Whonix Forum</title>
    <meta name="description" content="Yeah. Now that we have a python coder, I am really excited! That would have to be added to https://github.com/Whonix/msgcollector [message notification system developed for Whonix, that can show messages in X as well a&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="246.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonixcheck, timesync GUI, msgcollector&#39;" href="246.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/whonixcheck-timesync-gui-msgcollector/246" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonixcheck-timesync-gui-msgcollector/246" />
<meta property="og:title" content="Whonixcheck, timesync GUI, msgcollector" />
<meta name="twitter:title" content="Whonixcheck, timesync GUI, msgcollector" />
<meta property="og:description" content="Yeah. Now that we have a python coder, I am really excited! That would have to be added to https://github.com/Whonix/msgcollector [message notification system developed for Whonix, that can show messages in X as well as in terminal, usable by anyone, not just Whonix, soon]. I package it a bit better soon. Nevertheless, a python GUI could be called from https://github.com/Whonix/msgcollector/blob/master/usr/lib/msgcollector/msgdispatcher.  Not required to understand full msgcollector (certainly ..." />
<meta name="twitter:description" content="Yeah. Now that we have a python coder, I am really excited! That would have to be added to https://github.com/Whonix/msgcollector [message notification system developed for Whonix, that can show messages in X as well as in terminal, usable by anyone, not just Whonix, soon]. I package it a bit better soon. Nevertheless, a python GUI could be called from https://github.com/Whonix/msgcollector/blob/master/usr/lib/msgcollector/msgdispatcher.  Not required to understand full msgcollector (certainly ..." />
<meta property="article:published_time" content="2014-04-27T00:02:17+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="2464658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="246.html">Whonixcheck, timesync GUI, msgcollector</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-27T00:02:17Z' class='post-time'>
                April 27, 2014, 12:02am
              </time>
              <meta itemprop='dateModified' content='2014-04-27T00:02:17Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="19" data-topic="196">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/d9b06d/40.png" class="avatar"><a href="../solved-gateway-desktop-background-notice-message-is-god-awful/196/19">[Solved] Gateway desktop background notice message is god-awful</a>
</div>
<blockquote>
<p>I’ll start again with the packaging, but I think it would be nice to try replacing the popups for whonixcheck and timesync too.</p>
</blockquote>
</aside>
<p>Yeah. Now that we have a python coder, I am really excited! That would have to be added to <a href="../../../external.html?link=https://github.com/Whonix/msgcollector">https://github.com/Whonix/msgcollector</a> [message notification system developed for Whonix, that can show messages in X as well as in terminal, usable by anyone, not just Whonix, soon]. I package it a bit better soon. Nevertheless, a python GUI could be called from <a href="../../../external.html?link=https://github.com/Whonix/msgcollector/blob/master/usr/lib/msgcollector/msgdispatcher">https://github.com/Whonix/msgcollector/blob/master/usr/lib/msgcollector/msgdispatcher</a>.<br>
Not required to understand full msgcollector (certainly helpful, but not mandatory for this). When you search that script for zenity, that’s the part that would have to be changed. Instead of running zenity with all those arguments, a python script could be called. Also instead of running kdialog (for passive popups) we could also consider using python if that would bring any advantages.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-04-27T18:53:30Z' class='post-time'>
                April 27, 2014,  6:53pm
              </time>
              <meta itemprop='dateModified' content='2014-04-27T18:53:30Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="1" data-topic="246">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I package it a bit better soon.</p>
</blockquote>
</aside>
<p>Done.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-13T15:10:05Z' class='post-time'>
                May 13, 2014,  3:10pm
              </time>
              <meta itemprop='dateModified' content='2014-05-13T15:10:05Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Working on msgdispatcher popups.</p>
<p>Is there a way to reload msgcollector/msgdispatcher without restarting the VM?</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-13T16:25:56Z' class='post-time'>
                May 13, 2014,  4:25pm
              </time>
              <meta itemprop='dateModified' content='2014-05-13T16:25:56Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Less important background information in [].</p>
<p>To stop.</p>
<pre><code class="lang-auto"></code></pre>
<p>To start.</p>
<p>[Emulate /etc/xdg/autostart/msgdispatcher.desktop.]</p>
<p>Just run.</p>
<pre><code class="lang-auto"></code></pre>
<p>[Which doesn’t do much more than “/usr/lib/whonix/msgdispatcher --x”.]</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-13T16:27:44Z' class='post-time'>
                May 13, 2014,  4:27pm
              </time>
              <meta itemprop='dateModified' content='2014-05-13T16:27:44Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>For completeness sake. To check if running or not.</p>
<pre><code class="lang-auto"></code></pre>
<p>(Useful for a manual check. Not an automated one. For an automated one I’d check “ps -p $pid”'s exit code.)</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-13T21:38:54Z' class='post-time'>
                May 13, 2014,  9:38pm
              </time>
              <meta itemprop='dateModified' content='2014-05-13T21:38:54Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Some progress on the python popups (zenity replacement only). Not easy to navigate in the different scripts involved by msgcollector/msgdispatcher.</p>
<p>I have some trouble trying to get the value of icon ($icon) in msgdispatcher, in order to display the proper message icon (information, warning or critical).</p>
<p>On a larger point of view, in bash, where do you assign a value to the variable ‘msg’, for example? In msgdispatcher, the only place is at the beginning of the scripts, the rest are references to its content ($msg). Is ‘msg’, or ‘title’, or whatever, a system wide variable? If so, how is that possible? I am still in wonder when I read a shell script.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-13T22:36:11Z' class='post-time'>
                May 13, 2014, 10:36pm
              </time>
              <meta itemprop='dateModified' content='2014-05-13T22:36:11Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="6" data-topic="246">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/d9b06d/40.png" class="avatar"> troubadour:</div>
<blockquote>
<p>Some progress on the python popups (zenity replacement only). Not easy to navigate in the different scripts involved by msgcollector/msgdispatcher.</p>
</blockquote>
</aside>
<p>msgcollector isn’t very relevant here. Well, depending on our goals. In essence msgcollector is gets run by whonixcheck etc. and stores information (such as message type, message, etc.) in text files. When whonixcheck says “it’s done”, it tells msgcollector, which will create a .done file.</p>
<p>msgdispatcher gets started in CLI (by /etc/profile.d) and X as a background progress that watches for .done files. As soon one exists, it reads the other information (message type, message, etc.) and dispatches the message using zentiy.</p>
<p>I created that message notification system, because non existed that would allow background processes to write messages to X as well as to CLI. For performance reasons, timesync and whonixcheck start when able to (using the dependency based init.d system). In other situations, like with NTP and other daemons, users would never know it it failed, since they only write failures into their log. Also such background processes usually have no way to send messages to CLI. In general, in Linux systems there was no way to keep users who are using CLI posted about important status messages. Also such background processes usually have no way to send messages to X. In Whonix’s case, network time synchronization is important for anonymity reasons. When it’s still in progress, failed or succeeded are information the user should be aware about. Also without msgcollector there is no simple “add this to X AND CLI output”.</p>
<p>Due to absence of python skills during development, I had to work around limitations of zenity. Whonixcheck / timesync gather lots of bits of information. But once a zenity window opened, at least as far I know after extensive research, content of the window can be no longer changed. And a million zenity popups would be annoying. So the idea was to collect messages and to show one when it’s done. msgcollector provides a nice interface for shell scripts to interact with CLI and X output messages including features such as “show progress bar only if needed”.</p>
<p>I guess only replacing the zenity part with python would be the simplest. Make a much more pretty popup. Depending on moot, the whole msgcollector system could be rewritten some day in python. Or as a partial rewrite, other nice things such as filling up the whonixcheck result window as results come in could be doable.</p>
<blockquote>I have some trouble trying to get the value of icon ($icon) in msgdispatcher, in order to display the proper message icon (information, warning or critical).</blockquote>
That is a bug. Sorry about that. In Whonix 8, the icon variable is empty. Hence zentiy never shows a small icon on the left side of the window title (favicon). in Whonix 9 the following code will be used to set the icon variable.
<pre><code class="lang-auto">   if [ -f "/var/run/msgcollector/${identifier}.icon" ]; then
      local icon
      icon="$(cat "/var/run/msgcollector/${identifier}.icon")"
   else
      ## Fallback.
      local icon
      icon="/usr/share/icons/anon-icon-pack/whonix.ico"
   fi</code></pre>
<p>In meanwhile for your tests in Whonix 8, I suggest to add a line.</p>
<pre><code class="lang-auto"></code></pre>
<p>Right above the zenity line.</p>
<blockquote>On a larger point of view, in bash, where do you assign a value to the variable 'msg', for example?</blockquote>
Search msgdispatcher script for.
<pre><code class="lang-auto"></code></pre>
<p>Then you’ll find it. In essence it’s read from a file, that was previously created by msgcollector. But you don’t have to worry about that. When you replace the zenity command with ‘/some/python/script --msg “$msg” --type “$type”’, then these variables will be already set. They are already available to you.</p>
<blockquote>Is 'msg', or 'title', or whatever, a system wide variable?</blockquote>
No.
<blockquote>If so, how is that possible?</blockquote>
It's not possible.
<blockquote>I am still in wonder when I read a shell script.</blockquote>
Same for me when I look at python. :) Makes me hope that it's not that difficult after all.
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-13T23:05:25Z' class='post-time'>
                May 13, 2014, 11:05pm
              </time>
              <meta itemprop='dateModified' content='2014-05-13T23:05:25Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>I guess only replacing the zenity part with python would be the simplest. Make a much more pretty popup. Depending on moot, the whole msgcollector system could be rewritten some day in python. Or as a partial rewrite, other nice things such as filling up the whonixcheck result window as results come in could be doable.</blockquote>
<p>For the moment, zenity is the priority, to get rid of the window resizing outside the screen space. Filling up the whonixcheck result window as results come in would be very nice. I don’t think I have seen it before, graphically.</p>
<blockquote>That is a bug. Sorry about that. In Whonix 8, the icon variable is empty. Hence zentiy never shows a small icon on the left side of the window title (favicon). in Whonix 9 the following code will be used to set the icon variable.</blockquote>
<p>I’ll check on that. Still not crystal clear to me.</p>
<blockquote>Then you'll find it. In essence it's read from a file, that was previously created by msgcollector. But you don't have to worry about that. When you replace the zenity command with '/some/python/script --msg "$msg" --type "$type"', then these variables will be already set. They are already available to you.</blockquote>
<p>Yes, the script is working, except for the icon. For the moment, there is only an information icon. It looks prettier, using the system font, and the size of the window is automatically adjusted to the text.</p>
<blockquote>Same for me when I look at python. :) Makes me hope that it's not that difficult after all.</blockquote>
<p>I’m surprised you never gave it a try. With PyQt or PyGtk, you have to deal with objects and events, but the core python seems largely affordable, I think, especially when you master bash scripting.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-14T16:25:08Z' class='post-time'>
                May 14, 2014,  4:25pm
              </time>
              <meta itemprop='dateModified' content='2014-05-14T16:25:08Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The preliminary version of the python script replacing zenity in msgdispatcher is ready.</p>
<p>I could not clone <a href="../../../external.html?link=https://github.com/Whonix/msgcollector/blob/master/usr/lib/msgcollector/msgdispatcher" rel="nofollow noopener">https://github.com/Whonix/msgcollector/blob/master/usr/lib/msgcollector/msgdispatcher</a>.</p>
<pre><code class="lang-auto">error: The requested URL returned error: 403 while accessing https://github.com/Whonix/msgcollector/blob/master/usr/lib/msgcollector/msgdispatcher/info/refs</code></pre>
<p>So, here are the modifications.</p>
<p>In msgdispatcher.<br>
error-handler()</p>
<pre><code class="lang-auto">error_handler() {
   local exit_code="$?"

   local msg="\
###############################################################################
## $scriptname script bug.
## No panic. Nothing is broken. Just some rare condition has been hit.
## Try again later. There is likely a solution for this problem.
## Please see Whonix News, Whonix Blog and Whonix User Help Forum.
## Please report this bug!
##
## BASH_COMMAND: $BASH_COMMAND
## exit_code: $exit_code
###############################################################################\
"
   echo "$msg"
   mkdir --parents ~/".whonix"
   echo "$scriptname: BASH_COMMAND: $BASH_COMMAND | exit_code: $exit_code" &gt; ~/".whonix/msgdispatcher-error.log"
   #####################################################
   ## Should pop a graphical message.
   /usr/lib/whonix/dispatch_X.py "warning" "$scriptname" "$msg" 
   #####################################################
   true
}</code></pre>
<p>dispatch_x_active()</p>
<p>[code]dispatch_x_active() {<br>
trap “error_handler” ERR</p>
<h2>Pyhton script replacing the zenity call below.</h2>
<p>/usr/lib/whonix/dispatch_X.py “$type” “$title” “$msg”</p>
<p><span class="hashtag">#if</span> [ “$display” = “” ]; then</p>
<h1>display=":0"</h1>
<p><span class="hashtag">#fi</span></p>
<p><span class="hashtag">#if</span> [ -f “/var/run/msgcollector/${identifier}.lefttop” ]; then</p>
<h1>local lefttop</h1>
<h1>lefttop=“1”</h1>
<p><span class="hashtag">#fi</span></p>
<h2>“sudo -u user” is required, because /etc/init.d/sdwdate runs</h2>
<h2>as root. When making changes, test this using:</h2>
<h2>sudo touch /var/lib/whonix/sdw_error</h2>
<h2>sudo service sdwdate restart</h2>
<p><span class="hashtag">#sudo</span> -u user zenity \</p>
<h1>–display="$display" \</h1>
<h1>–height=600 \</h1>
<h1>–width=800 \</h1>
<h1>–timeout 86400 \</h1>
<h1>–no-markup \</h1>
<h1>–window-icon “$icon” \</h1>
<h1>–title="$title" \</h1>
<h1>“–$type” \</h1>
<h1>–text “$msg” \</h1>
<h1>&gt;/dev/null 2&gt;/dev/null &amp;</h1>
<p><span class="hashtag">#echo</span> “$msg”</p>
<p><span class="hashtag">#if</span> [ “$lefttop” = “1” ]; then<br>
## provided by /usr/lib/whonix/msgwmctrl</p>
<h1>output_wmctrl_move_window_to_left_top “$title”</h1>
<pre><code>  ## Not in Debian Wheezy, due to a bug in zenity resulting in no visible
  ## text. Can be re-enabled in Debian Jessie.
  #output_wmctrl_maximize_window "$title"
</code></pre>
<p><span class="hashtag">#fi</span><br>
}<br>
[/code]</p>
<p>New script /usr/lib/whonix/dispatch_X.py</p>
<pre><code class="lang-auto">#!/usr/bin/python
# -*- coding: utf-8 -*-

import sys
from PyQt4 import QtGui


class dispatch(QtGui.QMessageBox):
    
    def __init__(self):
        super(dispatch, self).__init__()
        
        self.initUI()
        
    def initUI(self):               
        
	## To be done: set maximum size, scrollbar if text too long
        #self.setMinimumHeight(0)
        #self.setMaximumHeight(768)
        #self.setMinimumWidth(0)
        #self.setMaximumWidth(1024)
        #self.setSizePolicy(QtGui.QSizePolicy.Expanding, QtGui.QSizePolicy.Expanding)

        if str(sys.argv[1]) == "info":
            self.reply = QtGui.QMessageBox.information(self, str(sys.argv[2]) , str(sys.argv[3]),    
            QtGui.QMessageBox.Ok, QtGui.QMessageBox.Ok)
            sys.exit(0)
        elif str(sys.argv[1]) == "warning":
            self.reply = QtGui.QMessageBox.warning(self, str(sys.argv[2]), str(sys.argv[3]),  
            QtGui.QMessageBox.Ok, QtGui.QMessageBox.Ok)
            sys.exit(0)
        elif str(sys.argv[1]) == "critcal":    ## This one puzzled me.
            self.reply = QtGui.QMessageBox.critical(self, str(sys.argv[2]), str(sys.argv[3]),   
            QtGui.QMessageBox.Ok, QtGui.QMessageBox.Ok)
            sys.exit(0)
        else:
            sys.exit(1)


def main():
    
    app = QtGui.QApplication(sys.argv)
    ex = dispatch()
    sys.exit(app.exec_())


if __name__ == '__main__':
    main()</code></pre>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-14T22:07:47Z' class='post-time'>
                May 14, 2014, 10:07pm
              </time>
              <meta itemprop='dateModified' content='2014-05-14T22:07:47Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“troubadour, post:9, topic:246”]The preliminary version of the python script replacing zenity in msgdispatcher is ready.</p>
<p>I could not clone <a href="../../../external.html?link=https://github.com/Whonix/msgcollector/blob/master/usr/lib/msgcollector/msgdispatcher">https://github.com/Whonix/msgcollector/blob/master/usr/lib/msgcollector/msgdispatcher</a>.</p>
<p><code>
error: The requested URL returned error: 403 while accessing https://github.com/Whonix/msgcollector/blob/master/usr/lib/msgcollector/msgdispatcher/info/refs
</code>[/quote]<br>
You can’t clone direct links to files. To get the link for cloning got to the repository’s main page, i.e. go to:<br>
<a href="../../../external.html?link=https://github.com/Whonix/msgcollector" class="onebox" target="_blank">https://github.com/Whonix/msgcollector</a></p>
<p>Search for the text “HTTPS clone URL”. It will show:<br>
<a href="../../../external.html?link=https://github.com/Whonix/msgcollector.git" class="onebox" target="_blank">https://github.com/Whonix/msgcollector.git</a></p>
<p>To clone:</p>
<pre><code class="lang-auto">git clone https://github.com/Whonix/msgcollector.git</code></pre>
<p>I’ll be testing your code.</p>
<p>Anyhow, if you make the commit, you get the credit. Otherwise I falsely get it. I don’t mind to commit the code you posted here, but I think it’s better if you do it.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-14T22:45:45Z' class='post-time'>
                May 14, 2014, 10:45pm
              </time>
              <meta itemprop='dateModified' content='2014-05-14T22:45:45Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Anyhow, if you make the commit, you get the credit. Otherwise I falsely get it. I don't mind to commit the code you posted here, but I think it's better if you do it.</blockquote>
<p>You can commit, no harm, there will be more to come when I am comfortable with git. The popup does not show in error_handler(), though, so you should remove the line calling ‘dispatch_X.py’. The zenity replacement in dispatch_x_active has been thoroughly checked.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-15T21:03:33Z' class='post-time'>
                May 15, 2014,  9:03pm
              </time>
              <meta itemprop='dateModified' content='2014-05-15T21:03:33Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>It works well.</p>
<p>What do you think about the move to left top feature? whonixcheck progress bar and result window generally is in left top. Other windows, such as from timesync are normal (centric). This is especially useful so they don’t overlap.</p>
<p>Could you move the window to the left top using python?</p>
<p>When,</p>
<p>[code]if [ -f “/var/run/msgcollector/${identifier}.lefttop” ]; then</p>
<p>fi[/code]</p>
<p>is true, you could just add an extra argument. Such as,</p>
<p><code>if [ -f "/var/run/msgcollector/${identifier}.lefttop" ]; then
   local maybe_lefttop
   maybe_lefttop="--lefttop"
fi</code></p>
<pre><code class="lang-auto">/usr/lib/whonix/dispatch_X.py --type "$type" --title "$title" --msg "$msg" "$maybe_lefttop"</code></pre>
<p>What about the favicon? (The small icon in the left top?) --icon “$icon”? Where $icon contains the path to the icon?</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-20T22:14:32Z' class='post-time'>
                May 20, 2014, 10:14pm
              </time>
              <meta itemprop='dateModified' content='2014-05-20T22:14:32Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Pushed the new msgdipatcher at <a href="../../../external.html?link=https://github.com/troubadoour/msgcollector" rel="nofollow noopener">https://github.com/troubadoour/msgcollector</a>.</p>
<p>Have added the $lefttop feature, but for reasons difficult to explain here (it’s difficult to follow Qt’s logic when it comes to moving windows around the screen), it has become bottom right when timesync and whonixcheck popups may hide each other. It should not be a big issue if we rename ‘/var/run/msgcollector/${identifier}.lefttop’ to ‘/var/run/msgcollector/${identifier}.bottomright’ in the scripts.</p>
<p>For the moment, I did not manage to display the flavicon in the popup title bar, may be a size problem, and the script does not run when it’s called from error_handler(). Still a mystery, but since ii popped up a couple of times, it might be working for you.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-21T14:44:28Z' class='post-time'>
                May 21, 2014,  2:44pm
              </time>
              <meta itemprop='dateModified' content='2014-05-21T14:44:28Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>What python debian packages must be installed, i.e. what are the dependencies for your script?</p>
<p>What do you think about a no-filenames-with-uppercase-chars policy?</p>
<p>Please use an editor that shows or even automatically deletes leading spaces.</p>
<p>I merged your changes and pushed a few on top of that. Please get them.</p>
<p>(Paths are changed to match the newly spitted packages, because msgcollector will be a fully standalone package. Making good progress. This breaks compatibly with for example whonixcheck in Whonix 8, but will work again in Whonix 9, because then whonixcheck paths are updates as well. Due to split packages, installing Whonix could become almost as simple as “sudo apt-get install whonix-workstation”.)</p>
<p>bottomright vs lefttop is a bit sad. Do you think you can fix this and the favicon? Keep your time, maybe inspiration will come later, will be still plenty of time before Whonix 9.</p>
<blockquote>Still a mystery, but since ii popped up a couple of times, it might be working for you.</blockquote>
Most likely fixed. (https://github.com/Whonix/msgcollector/commit/d88d8dcc6467f06beb8779ed1026250889613dc4)
(Sometimes it's best to simulate the command by copy and pasting a likely example [variables] in the shell. Sometimes I get some "live" variables first before trying.)
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-21T20:55:00Z' class='post-time'>
                May 21, 2014,  8:55pm
              </time>
              <meta itemprop='dateModified' content='2014-05-21T20:55:00Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>What python debian packages must be installed, i.e. what are the dependencies for your script?</blockquote>
Pushed troubadoour/msgcollector with python-qt4 in debian/control Depends.
<blockquote>What do you think about a no-filenames-with-uppercase-chars policy?</blockquote>
Do you mean something like "msgCollector",  "msgCollectorDispatchX", or timesyncPostError?
<blockquote>Please use an editor that shows or even automatically deletes leading spaces.</blockquote>
I'm using kate for everything from now on. I don't know if it can do that. Can you tell where I was wrong?
<blockquote>bottomright vs lefttop is a bit sad. Do you think you can fix this and the favicon? Keep your time, maybe inspiration will come later, will be still plenty of time before Whonix 9.</blockquote>
I'll work on that, it is definitely feasible. Ant idea when Whonix 9 should be released?
<blockquote>Most likely fixed. (https://github.com/Whonix/msgcollector/commit/d88d8dcc6467f06beb8779ed1026250889613dc4)</blockquote>
Yeah... fixed and tested.
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-21T22:20:18Z' class='post-time'>
                May 21, 2014, 10:20pm
              </time>
              <meta itemprop='dateModified' content='2014-05-21T22:20:18Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Added a minor commit on top of yours. (No more than 80 lines per debian/control - I thought that’s a convention for debian/control files, but looks like I was wrong. Nevermind)</p>
<blockquote>Do you mean something like "msgCollector",  "msgCollectorDispatchX", or timesyncPostError?</blockquote>
I am suggesting to use msgdispatcher_dispatch_x (all lower case) instead of msgdispatcher_dispatch_X (X is upper case). All other file names in Whonix's code are also lower case only. I guess when always using lower case, there is less chance of messing it up somewhere. As for file names, I most times use copy and paste, so this is also only a minor point.
<blockquote>I'm using kate for everything from now on. I don't know if it can do that. Can you tell where I was wrong?</blockquote>
Example:
https://github.com/Whonix/msgcollector/commit/28d6a61abd512611c7b150bd89e5862d767b6456
<p>With Kate you’re lucky. It can show trailing spaces as well as automagically remove them when saving.</p>
<p>Kate Setting (version 4.8.4-1):</p>
<ul>
<li>Kate -&gt; Settings -&gt; configure Kate -&gt; check “highlight tabulators” and “highlight trailing spaces” (all recent</li>
<li>Kate -&gt; Settings -&gt; open/save -&gt; check “Remove trailing spaces”</li>
</ul>
<blockquote>Ant idea when Whonix 9 should be released?</blockquote>
Not sure. After splitting packages with new msgcollector would be worth a new release. Maybe in two or three months.
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-26T03:04:06Z' class='post-time'>
                May 26, 2014,  3:04am
              </time>
              <meta itemprop='dateModified' content='2014-05-26T03:04:06Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Pushed msgcollector with “msgdispatcher_dispatch_x”.</p>
<p>It seems that the window position problem was caused by Xfce, or my combination of Xfce and KDE, I’ll have to check. Anyhow, I have reverted to KDE for GUI programming and the logic is back. When $lefttop is set, It moves to the leftop position now. The proper flavicon is displayed too.</p>
<p>Now, as the result messages from timesync and whonixchek are handled by the same script, they cannot be displayed at the same time. If they are running at the same time,  the user has to close one for the other one to show, hence they will never overlap. We could put back both at the center of the screen, it would be more consistent and would look more urgent.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-26T11:35:32Z' class='post-time'>
                May 26, 2014, 11:35am
              </time>
              <meta itemprop='dateModified' content='2014-05-26T11:35:32Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I also pushed some changes as well, please get them.</p>
<blockquote>We could put back both at the center of the screen, it would be more consistent and would look more urgent.</blockquote>
whonixcheck/timesync both could show results after boot. Having them overlap was confusing in past.
<p>Doing a testrun (from msgcollector folder):</p>
<pre><code class="lang-auto"></code></pre>
<p>Please move the window elsewhere. Below that window, there is another empty useless window. Can you remove this?</p>
<blockquote>they cannot be displayed at the same time</blockquote>
Blocking all output of msgdispatcher (X + CLI) as long as the user doesn't click a window sounds like a major bug. It's supposed to become a general message notification dev toolkit.
<p>To show multiple windows at the same time, we could simply launch msgdispatcher_dispatch_x into the background. Example:</p>
<pre><code class="lang-auto"></code></pre>
<p>(We just need to add a “&amp;” behind our current invocations of msgdispatcher_dispatch_x.)</p>
<p>I could even add some job control to check msgdispatcher_dispatch_x’s exit code after a few seconds to log any eventual failures.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-26T19:46:52Z' class='post-time'>
                May 26, 2014,  7:46pm
              </time>
              <meta itemprop='dateModified' content='2014-05-26T19:46:52Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Please move the window elsewhere.</blockquote>
Where is it showing? Not at the left top?
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-05-26T21:04:31Z' class='post-time'>
                May 26, 2014,  9:04pm
              </time>
              <meta itemprop='dateModified' content='2014-05-26T21:04:31Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="19" data-topic="246">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/d9b06d/40.png" class="avatar"> troubadour:</div>
<blockquote>
<p>[quote]Please move the window elsewhere.</p>
</blockquote>
</aside>
<p>Where is it showing? Not at the left top?[/quote]<br>
It is. But that was not what I was talking about.</p>
<p>When you run dispatch_x once, you already get two popups. The real one on top. Please move it elsewhere. You. With your mice. Just to see it. Not with programming. Just to look what I mean. Then you’ll see that there is a second popup below the real popup. The second one should get rid of. I can make a screenshot if necessary.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="2464658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
