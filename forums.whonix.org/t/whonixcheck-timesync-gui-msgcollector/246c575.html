<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonixcheck, timesync GUI, msgcollector - Development - Whonix Forum</title>
    <meta name="description" content="Yeah. Now that we have a python coder, I am really excited! That would have to be added to https://github.com/Whonix/msgcollector [message notification system developed for Whonix, that can show messages in X as well a&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="246c575.html?page=6" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonixcheck, timesync GUI, msgcollector&#39;" href="246.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/whonixcheck-timesync-gui-msgcollector/246?page=6" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonixcheck-timesync-gui-msgcollector/246?page=6" />
<meta property="og:title" content="Whonixcheck, timesync GUI, msgcollector" />
<meta name="twitter:title" content="Whonixcheck, timesync GUI, msgcollector" />
<meta property="og:description" content="Yes, probably the best option is to merge generic-gui-message in msgcollector. I put it in originally /usr/lib because I thought it could be a system wide script (I was ambitious at that particular moment…), but Debian have their own messaging system, for debugging especially.  And the bash scripts would remain standard, more readable. Python in Python, bash in bash." />
<meta name="twitter:description" content="Yes, probably the best option is to merge generic-gui-message in msgcollector. I put it in originally /usr/lib because I thought it could be a system wide script (I was ambitious at that particular moment…), but Debian have their own messaging system, for debugging especially.  And the bash scripts would remain standard, more readable. Python in Python, bash in bash." />
<meta property="article:published_time" content="2014-07-03T22:45:46+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="246af4d.html?page=5">
        <link rel="next" href="246235c.html?page=7">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="246.html">Whonixcheck, timesync GUI, msgcollector</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-03T22:45:46Z' class='post-time'>
                July 3, 2014, 10:45pm
              </time>
              <meta itemprop='dateModified' content='2014-07-03T22:45:46Z'>
          <span itemprop='position'>#101</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes, probably the best option is to merge generic-gui-message in msgcollector. I put it in originally /usr/lib because I thought it could be a system wide script (I was ambitious at that particular moment…), but Debian have their own messaging system, for debugging especially.</p>
<p>And the bash scripts would remain standard, more readable. Python in Python, bash in bash.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-03T22:56:37Z' class='post-time'>
                July 3, 2014, 10:56pm
              </time>
              <meta itemprop='dateModified' content='2014-07-03T22:56:37Z'>
          <span itemprop='position'>#102</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="98" data-topic="246">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/d9b06d/40.png" class="avatar"> troubadour:</div>
<blockquote>
<p>Yes, on this… and that… But when I run your script, the whole of ‘date -s “17 FEB 2012 24:00:00” &amp;&amp; hwclock -w’ is shown. Just checked, you have the latest version of dispatch_x .</p>
</blockquote>
</aside>
<p>Strange. <a href="../../../external.html?link=https://raw.githubusercontent.com/Whonix/msgcollector/master/usr/lib/msgcollector/msgdispatcher_dispatch_x">https://raw.githubusercontent.com/Whonix/msgcollector/master/usr/lib/msgcollector/msgdispatcher_dispatch_x</a> matches<br>
<a href="../../../external.html?link=https://raw.githubusercontent.com/troubadoour/msgcollector/master/usr/lib/msgcollector/msgdispatcher_dispatch_x">https://raw.githubusercontent.com/troubadoour/msgcollector/master/usr/lib/msgcollector/msgdispatcher_dispatch_x</a> matches my version on hdd. Still, I only see half line of “date -s “17 FEB 2012 24:00:00” &amp;&amp; hwclock -w”.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-05T07:50:44Z' class='post-time'>
                July 5, 2014,  7:50am
              </time>
              <meta itemprop='dateModified' content='2014-07-05T07:50:44Z'>
          <span itemprop='position'>#103</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I recently learned about more standard exit codes and adjusted a few Whonix deamons/programs.</p>
<p>Could you please make all your python scripts, generic_gui_message, msgdispatcher_dispatch_x, striphtml listen for signals sigterm and sigint? On sigint exit 130, on sigterm exit 143.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-05T12:31:53Z' class='post-time'>
                July 5, 2014, 12:31pm
              </time>
              <meta itemprop='dateModified' content='2014-07-05T12:31:53Z'>
          <span itemprop='position'>#104</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I am working on a whonixcheck-gui.</p>
<p>Basically, it would (and does partly) start whonixcheck in a GUI, grab stdout, display it in a scrolling window, and update a progress bar at the same time. In broad terms, it is working, but in order to leave whonixcheck untouched there is much left to do, first to display stdout properly (there are some unforeseen issues) with a translation of pretty_type.</p>
<blockquote>Could you please make all your python scripts, generic_gui_message, msgdispatcher_dispatch_x, striphtml listen for signals sigterm and sigint? On sigint exit 130, on sigterm exit 143.</blockquote>
<p>In this course, I am learning about exit codes too, so it should be the next step.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-05T13:30:10Z' class='post-time'>
                July 5, 2014,  1:30pm
              </time>
              <meta itemprop='dateModified' content='2014-07-05T13:30:10Z'>
          <span itemprop='position'>#105</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>whonixcheck can run in CLI and/or X. I think it is the only application that can, thanks to the msgcollector gui toolkit. I would enjoy if we could keep it that way, but probably it will work.</p>
<p>Reading from stdout may not be neccessary. There may be an even cleaner and more generic solution.</p>
<p>Messages for X are stored in.</p>
<pre><code class="lang-auto"></code></pre>
<p>Ex</p>
<pre><code class="lang-auto"></code></pre>
<p>At the moment they are dispatched ti dispatch_x as soon as</p>
<pre><code class="lang-auto"></code></pre>
<p>gets created.</p>
<p>The text for the progress bar is stored in /var/run/msgcollector/$who_ami/${identifier}.${progressbaridx}.progressbarx</p>
<p>and at the moment only dispatched (by zenity) when /var/run/msgcollector/$who_ami/${identifier}.${progressbaridx}.progressbarx.done gets created.</p>
<p>Progress is stored in</p>
<pre><code class="lang-auto"></code></pre>
<p>Ex</p>
<pre><code class="lang-auto"></code></pre>
<p>Msgcollector runs</p>
<pre><code class="lang-auto"></code></pre>
<p>But it could also run your python script.</p>
<p>Maybe with little extra effort you could make a msgcollector-gui instead of whonixcheck-gui? msgcollector tries to abstract these things.</p>
<p>The bonus point of msgcollector is, that applications such as whonixcheck can start right after boot and messages are only shown as soon as a desktop gets available.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-05T16:37:55Z' class='post-time'>
                July 5, 2014,  4:37pm
              </time>
              <meta itemprop='dateModified' content='2014-07-05T16:37:55Z'>
          <span itemprop='position'>#106</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The idea is to have a consistent GUI messaging through the whole distribution, based on Qt. And also from</p>
<aside class="quote" data-post="36" data-topic="246">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>You know whonixcheck colors in terminal… Maybe we can make something similar for whonixcheck in X?</p>
</blockquote>
</aside>
<p>I took it rather literally, and to get the whonicheck messages in real time, I saw this solution, reading whonixcheck stdout (it’s actually msgcollector dealing with cli, yes?) because the messages are not available before the end of the process. And read/ var/run/msgcollector/${identifier}.${progressbaridx}.progresstxt to update the progress bar (there is no $who_ami in 8.3 and I am working a little blindly since the last update as whonixcheck and msgcollector have been reset).</p>
<p>Now, we could run a msgcollector-gui called from msgcollector. It would read /var/run/msgcollector/$who_ami/${identifier}.messagex and stop when  /var/run/msgcollector/$who_ami/${identifier}.messagex.done is created. To me, it’s as good a solution.</p>
<p>Note: with whonixcheck-gui, whonixcheck can still be run from the terminal.</p>
<p>I propose to carry on with my work on whonixcheck-gui (see if I can write a script with a neat output, not obvious so far) and then start with msgcollector-gui.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-05T18:56:14Z' class='post-time'>
                July 5, 2014,  6:56pm
              </time>
              <meta itemprop='dateModified' content='2014-07-05T18:56:14Z'>
          <span itemprop='position'>#107</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sounds good so far.</p>
<p>Ideally, if we have msgcollector-gui, we do not need whonixcheck-gui. But most likely you already meant that.</p>
<blockquote>it's actually msgcollector dealing with cli, yes?</blockquote>
Yes. The following code block of msgcollector is involved.
<pre><code class="lang-auto">   ## {{ --messagecli
   if [ "$messagecli" = "1" ]; then
      write_to_file="/var/run/msgcollector/$who_ami/${identifier}.messagecli"
      if [ ! -z "$message" ]; then
         ## variable $message exists
         message="$(/usr/lib/msgcollector/striphtml "$message")"
         pretty_type_cli "$typecli"
         message="[$p_type] [$identifier] $message"
         echo "$message"
      fi
      append_to_file
   fi
   ## }}</code></pre>
<p>It writes the message to a file for tty0 (where msgdispatcher --cli is running in background [started by /etc/profile.d]) and also directly echo’s it to the (virtual) console it is connected to (normal echo “$message” [unless it’s tty0 to avoid duplicate messages]).</p>
<blockquote>because the messages are not available before the end of the process</blockquote>
They're available in text files in msgcollector's folder.
<blockquote>Now, we could run a msgcollector-gui called from msgcollector. It would read /var/run/msgcollector/$who_ami/${identifier}.messagex and stop when  /var/run/msgcollector/$who_ami/${identifier}.messagex.done is created. To me, It's as good a solution.</blockquote>
Sounds good so far. But how do you know when you are ready to write to X? Because you have to wait for X first. Otherwise messages are lost in nirvana.
<p>msgdispatcher could tell you (because it gets started by /etc/xdg/autostart). There is no msgcollector x start status file yet. Also there is no msgcollector x start progress bar file yet.</p>
<p>But I guess I could add create them. I guess it would be best if your python script gets all the info it requires from msgdispatcher? Once there is a msgcollector x start file, msgdispatcher could start your python gui. You then read progress from progress file and text from msgcollector x message file. And msgdispatcher could send a signal (sigusr1 or sigusr2) to your python gui, so you know it’s finished now. [Note, not all result windows have a progress bar.]</p>
<p>[The zenity progress bar is very responsive, because of using a fifo (named pipe).]</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-06T19:55:39Z' class='post-time'>
                July 6, 2014,  7:55pm
              </time>
              <meta itemprop='dateModified' content='2014-07-06T19:55:39Z'>
          <span itemprop='position'>#108</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Ideally, if we have msgcollector-gui, we do not need whonixcheck-gui. But most likely you already meant that.</blockquote>
<p>Yes, I had to solve an issue with the format out to the pseudo-terminal in whonixcheck(msgcollector)-gui. Seems OK.</p>
<blockquote>[quote]
    Now, we could run a msgcollector-gui called from msgcollector. It would read /var/run/msgcollector/$who_ami/${identifier}.messagex and stop when  /var/run/msgcollector/$who_ami/${identifier}.messagex.done is created. To me, It's as good a solution.[/quote]
<p>Sounds good so far. But how do you know when you are ready to write to X? Because you have to wait for X first. Otherwise messages are lost in nirvana.</p>
</blockquote>
<p>Actually, I meant</p>
<blockquote>It would read /var/run/msgcollector/$who_ami/${identifier}.messagecli</blockquote>
<p>It does not make sense to duplicate dispatch_x. The purpose is to get a terminal-like widget above the progress bar, showing the same output as whonixcheck (or timesync) in the terminal.</p>
<p>For the moment, I have to find out what is the best place to call the script from, and more important, how to read the messages and the progress bar values (daemon or not daemon, there is msdispatcher already, so…)</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-06T20:24:09Z' class='post-time'>
                July 6, 2014,  8:24pm
              </time>
              <meta itemprop='dateModified' content='2014-07-06T20:24:09Z'>
          <span itemprop='position'>#109</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This is the most challenging task you are currently approaching in Whonix development, I guess. I’d love to talk to you on IRC about this, since we can easily talk past each other here. Perhaps we need another network / chat method?</p>
<blockquote>It does not make sense to duplicate dispatch_x. The purpose is to get a terminal-like widget above the progress bar, showing the same output as whonixcheck (or timesync) in the terminal.</blockquote>
I am still not 100% sure what you have in mind here. (Either way, I applicate your efforts!)
<p>So you basically want a progress bar that is superior to the current zenity one? So a better progress bar, that has same features as zenity + showing cli messages as they are coming in? Sounds nice either way.</p>
<p>If we had such as tool, would we still require dispatch_x? Once progress is done, the old progress window could be transformed into a dispatch_x result window? Or whonixcheck(msgcollector)-gui could have a special mode for no progress bar (=same as dispatch_x)?</p>
<blockquote>For the moment, I have to find out what is the best place to call the script from, and more important, how to read the messages and the progress bar values (daemon or not daemon, there is msdispatcher already, so...)</blockquote>
<p>In case I rightly understand you now, this sounds like you are rewriting parts of zenity? In that case, whonixcheck(msgcollector)-gui should be called from usr/lib/msgcollector/msgprogress and usr/lib/msgcollector/msgprogressbar - because zenity gets called from those scripts right now and it works well.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-06T21:37:41Z' class='post-time'>
                July 6, 2014,  9:37pm
              </time>
              <meta itemprop='dateModified' content='2014-07-06T21:37:41Z'>
          <span itemprop='position'>#110</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>So you basically want a progress bar that is superior to the current zenity one? So a better progress bar, that has same features as zenity + showing cli messages as they are coming in? Sounds nice either way.</blockquote>
<p>Yes to both. First, I think it would be nice to have a consistent X messaging  system, and it looks better with Qt, more Debian-like.</p>
<p>The cli message widget is not strictly necessary, as we have dispatch_x, but it looks nice (there is a part of fun in my approach).  :).</p>
<blockquote>If we had such as tool, would we still require dispatch_x?</blockquote>
<p>Yes. the tool in  whonixcheck(msgcollector)-gui is plain text (there striphtml in between x and cli), and dispatch_x is rich text.</p>
<p>It works, based on whonixcheck stdout. I do realize that it would be better to manage it from msgcollector-msgdispatcher. I am working on it, but first I want to finish the proper formatting of the output, which is common to either version. As soon as I’m finished with that part (shouldn’t be long) I’ll push it on github so you can have a glimpse.</p>
<blockquote>I'd love to talk to you on IRC about this, since we can easily talk past each other here. Perhaps we need another network / chat method?</blockquote>
<p>I have tried the replies you had in tor-talk, no success. Are you using another channel? We could use email, but it’s not live either.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-07T08:55:00Z' class='post-time'>
                July 7, 2014,  8:55am
              </time>
              <meta itemprop='dateModified' content='2014-07-07T08:55:00Z'>
          <span itemprop='position'>#111</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The replies to my tor-talk messages did not work for me either. I am wondering they’re accepting, that no Tor users can join official <span class="hashtag">#Tor</span> for over one week now. Hence for Tor users our WebChat and IRC links are also broken. I was looking for some real time chat method.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/z11'><span itemprop='name'>z11</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-07T15:21:16Z' class='post-time'>
                July 7, 2014,  3:21pm
              </time>
              <meta itemprop='dateModified' content='2014-07-07T15:21:16Z'>
          <span itemprop='position'>#112</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Is TorChat not an option?</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-08T12:56:52Z' class='post-time'>
                July 8, 2014, 12:56pm
              </time>
              <meta itemprop='dateModified' content='2014-07-08T12:56:52Z'>
          <span itemprop='position'>#113</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I would like to have some official Whonix public chat room. IRC is quite common and suitable for that.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-08T15:11:31Z' class='post-time'>
                July 8, 2014,  3:11pm
              </time>
              <meta itemprop='dateModified' content='2014-07-08T15:11:31Z'>
          <span itemprop='position'>#114</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Pushed <a href="../../../external.html?link=https://github.com/troubadoour/whonixcheck-gui" rel="nofollow noopener">https://github.com/troubadoour/whonixcheck-gui</a>.</p>
<p>Notes:</p>
<ul>
<li>to leave the window on the screen, comment out</li>
</ul>
<pre><code class="lang-auto">    self.connect(self.process, QtCore.SIGNAL("finished(int)"), self.completed)</code></pre>
<ul>
<li>the progress bar stops at 61%.</li>
</ul>
<p>Please understand that it is as much an exercise in python scripting as an exploration of the Whonix’s internals, and that in no way, I am trying to force it.<br>
But it looks neat . <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-23T13:08:28Z' class='post-time'>
                July 23, 2014,  1:08pm
              </time>
              <meta itemprop='dateModified' content='2014-07-23T13:08:28Z'>
          <span itemprop='position'>#115</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Opened two tickets:</p>
<ul>
<li><a href="../../../external.html?link=https://github.com/Whonix/Whonix/issues/231">https://github.com/Whonix/Whonix/issues/231</a></li>
<li><a href="../../../external.html?link=https://github.com/Whonix/Whonix/issues/232">https://github.com/Whonix/Whonix/issues/232</a></li>
</ul>
<p>I guess you’re getting e-mail notifications, so I can/should omit duplicating this here or what do you think?</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-23T20:26:31Z' class='post-time'>
                July 23, 2014,  8:26pm
              </time>
              <meta itemprop='dateModified' content='2014-07-23T20:26:31Z'>
          <span itemprop='position'>#116</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>I guess you're getting e-mail notifications, so I can/should omit duplicating this here or what do you think?</blockquote>
<p>Yes, I’m getting the e-mail notifications.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-08-11T22:45:25Z' class='post-time'>
                August 11, 2014, 10:45pm
              </time>
              <meta itemprop='dateModified' content='2014-08-11T22:45:25Z'>
          <span itemprop='position'>#117</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Added pretty-type style (INFO WARNING ERROR) in whonixcheck results. <a href="../../../external.html?link=https://github.com/troubadoour/whonixcheck" rel="nofollow noopener">https://github.com/troubadoour/whonixcheck</a></p>
<p>I had to make a couple of commits before being able to push [I actually had to pull troubadoour first]. The main commit is  7c59d87. You’d probably better check that I did not mess it up before merging.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-08-11T23:24:46Z' class='post-time'>
                August 11, 2014, 11:24pm
              </time>
              <meta itemprop='dateModified' content='2014-08-11T23:24:46Z'>
          <span itemprop='position'>#118</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Those commits are a bit erroneous.</p>
<p>Looking at:<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">
      <a href="../../../external.html?link=https://github.com/troubadoour/whonixcheck/commits/master" target="_blank">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://avatars1.githubusercontent.com/u/7442918?s=400&amp;v=4" class="thumbnail onebox-avatar" width="420" height="420">

<h3><a href="../../../external.html?link=https://github.com/troubadoour/whonixcheck/commits/master" target="_blank">troubadoour/whonixcheck</a></h3>

<p>Contribute to troubadoour/whonixcheck development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Commits,</p>
<ul>
<li><a href="../../../external.html?link=https://github.com/troubadoour/whonixcheck/commit/bec804bf16f0e636ddb1858d506eb3213bcc03cd">https://github.com/troubadoour/whonixcheck/commit/bec804bf16f0e636ddb1858d506eb3213bcc03cd</a></li>
<li>
<a href="../../../external.html?link=https://github.com/troubadoour/whonixcheck/commit/76c8d7645e41793efa495f846ac8f85ab501abbd">https://github.com/troubadoour/whonixcheck/commit/76c8d7645e41793efa495f846ac8f85ab501abbd</a><br>
seems to be mistakes.</li>
</ul>
<p>And in commit,</p>
<ul>
<li>
<a href="../../../external.html?link=https://github.com/troubadoour/whonixcheck/commit/7c59d87aa3f55a904481d5fe91305bda5d24a565">https://github.com/troubadoour/whonixcheck/commit/7c59d87aa3f55a904481d5fe91305bda5d24a565</a><br>
many changes such as</li>
</ul>
<pre><code class="lang-auto">- local temp_cli_tool="&lt;code&gt;&lt;blockquote&gt;sudo whonix_repository&lt;/blockquote&gt;&lt;/code&gt;"
+ local temp_cli_tool="&lt;blockquote&gt;&lt;code&gt;sudo whonix_repository&lt;/code&gt;&lt;/blockquote&gt;"</code></pre>
<p>Seam to be offtopic. I guess those were not intended.</p>
<p>Using</p>
<p><code>msgINFO="&lt;p&gt;&lt;span style=color:#008000&gt;INFO&lt;/span&gt;: "
msgWARNING="&lt;p&gt;&lt;span style=color:#c00000&gt;WARNING&lt;/span&gt;: "
msgERROR="&lt;p&gt;&lt;span style=font-weight:600;color:#ff0000&gt;ERROR&lt;/span&gt;: "</code></p>
<p>everywhere is not required. Since those are not using “local”, those are globally visible in all functions anyway. It would suffice to define them only once in function “preparation()”. (<a href="../../../external.html?link=https://github.com/Whonix/whonixcheck/blob/master/usr/lib/whonixcheck/preparation#L77">https://github.com/Whonix/whonixcheck/blob/master/usr/lib/whonixcheck/preparation#L77</a>)</p>
<p>I am wondering if there is a better way to implement this.</p>
<p>Removing the ‘</p><p>’  from ‘local MSG="</p><p>’ makes things also more difficult to grasp.</p>
<p>Maybe instead of</p>
<pre><code class="lang-auto">- local MSG="&lt;p&gt;Check Hostname Result: \"hostname --fqdn\" output is not \
+ local MSG="Check Hostname Result: \"hostname --fqdn\" output is not \</code></pre>
<p>We could do.</p>
<pre><code class="lang-auto">local MSG="&lt;p&gt;${msgINFO} Check Hostname Result: \"hostname --fqdn\" output is not \</code></pre>
<p>I think this looks cleaner, easier to grasp?</p>
<p>We could also add a new default output_opt in function “preparation()” (<a href="../../../external.html?link=https://github.com/troubadoour/whonixcheck/blob/master/usr/lib/whonixcheck/preparation#L125">https://github.com/troubadoour/whonixcheck/blob/master/usr/lib/whonixcheck/preparation#L125</a>). Maybe called.</p>
<pre><code class="lang-auto">output_opt_6="--autotexttype"</code></pre>
<p>And if msgcollector gets run by using --type info and “–autotexttype”, it could look for.</p>
<pre><code class="lang-auto">&lt;p&gt;xyz...</code></pre>
<p>and after the first </p><p> in $MSG, inject ${msgINFO} so it looks like this</p>
<pre><code class="lang-auto">&lt;p&gt;${msgINFO} xyz...</code></pre>
<p>Does that make sense?</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-08-11T23:50:46Z' class='post-time'>
                August 11, 2014, 11:50pm
              </time>
              <meta itemprop='dateModified' content='2014-08-11T23:50:46Z'>
          <span itemprop='position'>#119</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I was curious to a proof of concept injection code running.  <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Small test script.</p>
<pre><code class="lang-auto">#!/bin/bash

set -x

msgINFO="&lt;span style=color:#008000&gt;INFO&lt;/span&gt;:"
msgWARNING="&lt;span style=color:#c00000&gt;WARNING&lt;/span&gt;:"
msgERROR="&lt;span style=font-weight:600;color:#ff0000&gt;ERROR&lt;/span&gt;:"

teststring="&lt;p&gt;This is a test.&lt;/p&gt;"

first_three="${teststring:0:3}"
if [ "$first_three" = "&lt;p&gt;" ]; then
   teststring_length="${#teststring}"
   remaining_chars="$(( $teststring_length - 3 ))"

   string_without_first_angle_bracket="${teststring:3:$remaining_chars}"
   newstring="&lt;p&gt;$msgINFO $string_without_first_angle_bracket"
fi</code></pre>
<p>Output.</p>
<pre><code class="lang-auto">+ msgINFO='&lt;span style=color:#008000&gt;INFO&lt;/span&gt;:'
+ msgWARNING='&lt;span style=color:#c00000&gt;WARNING&lt;/span&gt;:'
+ msgERROR='&lt;span style=font-weight:600;color:#ff0000&gt;ERROR&lt;/span&gt;:'
+ teststring='&lt;p&gt;This is a test.&lt;/p&gt;'
+ first_three='&lt;p&gt;'
+ '[' '&lt;p&gt;' = '&lt;p&gt;' ']'
+ teststring_length=22
+ remaining_chars=19
+ string_without_first_angle_bracket='This is a test.&lt;/p&gt;'
+ newstring='&lt;p&gt;&lt;span style=color:#008000&gt;INFO&lt;/span&gt;: This is a test.&lt;/p&gt;'</code></pre>
<p>If you think this is a good idea, I can add this to msgcollector.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-08-12T21:13:01Z' class='post-time'>
                August 12, 2014,  9:13pm
              </time>
              <meta itemprop='dateModified' content='2014-08-12T21:13:01Z'>
          <span itemprop='position'>#120</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>[code]
- local temp_cli_tool="<code><blockquote>sudo whonix_repository</blockquote></code>"
+ local temp_cli_tool="<blockquote><code>sudo whonix_repository</code></blockquote>"
[/code]
<p>Seam to be offtopic. I guess those were not intended.</p>
</blockquote><br>
I have seen it after pushing. A total mystery. There is more, I’ll come back to it later on.
<blockquote>[code]
msgINFO="<p><span>INFO</span>: "
msgWARNING="</p>
<p><span>WARNING</span>: "
msgERROR="</p>
<p><span>ERROR</span>: "
[/code]
</p>
<p>everywhere is not required. Since those are not using “local”, those are globally visible in all functions anyway. It would suffice to define them only once in function “preparation()”.</p>
</blockquote><br>
Yes, it is shell scripting. Actually, that simple remark solves a big part of my wondering when I read a bash script. Where is this stupid variable coming from? In Python or other language, the scope of a variable is narrow, and never global.<br>
I first tried to put the three lines in “preparation”. They were visible from the scripts in whonixcheck, but not from msgcollector when I was installing you magic, though.
<blockquote>I was curious to a proof of concept injection code running.  :)
~
~
If you think this is a good idea, I can add this to msgcollector.</blockquote>
<p>This is a good idea, and it is much more elegant, so I could not resist implementing it myself. Please review <a href="../../../external.html?link=https://github.com/troubadoour/msgcollector" rel="nofollow noopener">https://github.com/troubadoour/msgcollector</a>. There is again a few extra unintended commits like</p>
<pre><code class="lang-auto"> +loop_protection() {
+ trap "error_handler" ERR
+
+ prot="$(( $prot + 1 ))"
+ if [ $prot -gt "60" ]; then
+ exit 2
+ fi
+}
+
+## {{ In case /etc/init.d/msgcollector has not started yet, i.e. has not
+## created "/var/run/msgcollector" yet, wait a bit.
+maybe_wait() {
+ trap "error_handler" ERR</code></pre>
<p>I am clueless.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="246af4d.html?page=5">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="246235c.html?page=7">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
