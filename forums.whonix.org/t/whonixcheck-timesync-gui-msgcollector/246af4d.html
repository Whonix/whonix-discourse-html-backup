<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonixcheck, timesync GUI, msgcollector - Development - Whonix Forum</title>
    <meta name="description" content="Yeah. Now that we have a python coder, I am really excited! That would have to be added to https://github.com/Whonix/msgcollector [message notification system developed for Whonix, that can show messages in X as well a&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="246af4d.html?page=5" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonixcheck, timesync GUI, msgcollector&#39;" href="246.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/whonixcheck-timesync-gui-msgcollector/246?page=5" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonixcheck-timesync-gui-msgcollector/246?page=5" />
<meta property="og:title" content="Whonixcheck, timesync GUI, msgcollector" />
<meta name="twitter:title" content="Whonixcheck, timesync GUI, msgcollector" />
<meta property="og:description" content="Off topic, but I tried to go on IRC.  * Connected. Now logging in... * *** Looking up your hostname... * *** Checking Ident * *** Your forward and reverse DNS do not match, ignoring hostname. * *** No Ident response * Closing Link: 195.154.243.53 (No more connections permitted from your host) * Disconnected (Remote host closed socket). Same if I change identity. Should I open a topic in support?" />
<meta name="twitter:description" content="Off topic, but I tried to go on IRC.  * Connected. Now logging in... * *** Looking up your hostname... * *** Checking Ident * *** Your forward and reverse DNS do not match, ignoring hostname. * *** No Ident response * Closing Link: 195.154.243.53 (No more connections permitted from your host) * Disconnected (Remote host closed socket). Same if I change identity. Should I open a topic in support?" />
<meta property="article:published_time" content="2014-06-28T21:20:17+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="246fdb0.html?page=4">
        <link rel="next" href="246c575.html?page=6">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="246.html">Whonixcheck, timesync GUI, msgcollector</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-28T21:20:17Z' class='post-time'>
                June 28, 2014,  9:20pm
              </time>
              <meta itemprop='dateModified' content='2014-06-28T21:20:17Z'>
          <span itemprop='position'>#81</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Off topic, but I tried to go on IRC.</p>
<pre><code class="lang-auto">* Connected. Now logging in...
* *** Looking up your hostname...
* *** Checking Ident
* *** Your forward and reverse DNS do not match, ignoring hostname.
* *** No Ident response
* Closing Link: 195.154.243.53 (No more connections permitted from your host)
* Disconnected (Remote host closed socket).</code></pre>
<p>Same if I change identity. Should I open a topic in support?</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-28T21:29:46Z' class='post-time'>
                June 28, 2014,  9:29pm
              </time>
              <meta itemprop='dateModified' content='2014-06-28T21:29:46Z'>
          <span itemprop='position'>#82</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“troubadour, post:81, topic:246”]Off topic, but I tried to go on IRC.</p>
<pre><code class="lang-auto">* Connected. Now logging in...
* *** Looking up your hostname...
* *** Checking Ident
* *** Your forward and reverse DNS do not match, ignoring hostname.
* *** No Ident response
* Closing Link: 195.154.243.53 (No more connections permitted from your host)
* Disconnected (Remote host closed socket).</code></pre>
<p>Same if I change identity. Should I open a topic in support?[/quote]<br>
It’s a non-Whonix related issue with oftc. Seems they are banning the whole Tor network at times. All we can do in meanwhile is switching to another irc network.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-28T23:28:30Z' class='post-time'>
                June 28, 2014, 11:28pm
              </time>
              <meta itemprop='dateModified' content='2014-06-28T23:28:30Z'>
          <span itemprop='position'>#83</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Your open-link-confirmation branch still contains extraneous text changes. Please “git diff origin/master” and remove the extraneous parts.</p>
<p>Merged your msgcollector changes.</p>
<p>/usr/lib/msgcollector/error_handler by the way provides a function that gets sourced by whonixcheck and timesync.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-29T20:33:26Z' class='post-time'>
                June 29, 2014,  8:33pm
              </time>
              <meta itemprop='dateModified' content='2014-06-29T20:33:26Z'>
          <span itemprop='position'>#84</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Your open-link-confirmation branch still contains extraneous text changes. Please "git diff origin/master" and remove the extraneous parts.</blockquote>
<p>Pushed a modified open-link-confirmation without the modifications made tot he text.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-30T10:15:26Z' class='post-time'>
                June 30, 2014, 10:15am
              </time>
              <meta itemprop='dateModified' content='2014-06-30T10:15:26Z'>
          <span itemprop='position'>#85</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>There were still some extra changes in open-link-confirmation, but nevermind, I simply fixed them after merging.</p>
<p>Pushed some minor packaging fixes to generic-gui-message.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-01T11:46:21Z' class='post-time'>
                July 1, 2014, 11:46am
              </time>
              <meta itemprop='dateModified' content='2014-07-01T11:46:21Z'>
          <span itemprop='position'>#86</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>As long as open-link-confirmation was using zenity, we were using zenity with --no-markup for security reasons, because cmd args are untrusted input.</p>
<p>At the moment we’re forwarding that untrusted input (could contain html tags) to generic_gui_message. I think we must run the cmd args though striphtml before we can safely forward them to generic_gui_message. But since striphtml is part of msgcollector, open-link-confirmation would have to depend on msgcollector. Not ideal. Should we go that route?</p>
<p>Perhaps striphtml would be better off in an extra package, but which one? Too many packages also isn’t good for inclusion into distributions. Code duplication they also do not like.</p>
<p>I am having in mind inclusion of open-link-confirmation into other distributions. But I guess that is rather unlikely anyway. So we could go with the less ideal solution of letting open-link-confirmation depend on msgcollector. What do you think?</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-01T12:10:04Z' class='post-time'>
                July 1, 2014, 12:10pm
              </time>
              <meta itemprop='dateModified' content='2014-07-01T12:10:04Z'>
          <span itemprop='position'>#87</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>A (perhaps) lesser-known but useful feature in bash.</p>
<p>We can call generic_gui_message that way:</p>
<pre><code class="lang-auto">   if [ ! "$open_in_tool_exit_code" = "0" ]; then
      python -c 'import sys
from PyQt4 import QtGui,  QtCore

class Notice(QtGui.QMessageBox):

    def __init__(self):
        super(Notice, self).__init__()
        self.initUI()

    def initUI(self):
        itype = "error"
        title = "ERROR"
        message = "ERROR: $open_in_tool_bin does not exist! Please report this bug"
        question = ""
        button = "ok"

        if itype ==  "information":
            self.setIcon(QtGui.QMessageBox.Question)
        elif itype == "warning":
            self.setIcon(QtGui.QMessageBox.Warning)
        elif itype == "error":
            self.setIcon(QtGui.QMessageBox.Critical)

        self.setWindowTitle(title)
        self.setText(message)
        self.setInformativeText(question)

        if button == "yesno":
            self.setStandardButtons(QtGui.QMessageBox.Yes | QtGui.QMessageBox.No)
        elif button == "ok":
            self.setStandardButtons(QtGui.QMessageBox.Ok)

        self.setTextFormat(QtCore.Qt.RichText)

        self.exec_()

        result = self.result()
        if button == "yesno":
            print result

        sys.exit()

def main():
    app = QtGui.QApplication(sys.argv)
    ex = Notice()
    sys.exit(app.exec_())

if __name__ == "__main__":
    main()'
      exit 1
   fi</code></pre>
<p>To redirect python stdout in ‘answer’:</p>
<pre><code class="lang-auto">   if [ "$ask_for_confirmation" = "1" ]; then
      answer="$(cat &lt;&lt; EOF | python -
import sys
from PyQt4 import QtGui,  QtCore

class Notice(QtGui.QMessageBox):

    def __init__(self):
        super(Notice, self).__init__()
        self.initUI()

    def initUI(self):
        itype = "warning"
        title = "Link Open Confirmation"
        message = """&lt;p&gt;The following $type will be opened in $open_in_tool_bin_name.&lt;/p&gt;
                     &lt;p&gt;Be careful. If $open_in_tool_bin_name is already running as your activities might get linked.&lt;/p&gt;"""
        question = "Continue?"
        button = "yesno"

        if itype ==  "information":
            self.setIcon(QtGui.QMessageBox.Question)
        elif itype == "warning":
            self.setIcon(QtGui.QMessageBox.Warning)
        elif itype == "error":
            self.setIcon(QtGui.QMessageBox.Critical)

        self.setWindowTitle(title)
        self.setText(message)
        self.setInformativeText(question)

        if button == "yesno":
            self.setStandardButtons(QtGui.QMessageBox.Yes | QtGui.QMessageBox.No)
        elif button == "ok":
            self.setStandardButtons(QtGui.QMessageBox.Ok)

        self.setTextFormat(QtCore.Qt.RichText)

        self.exec_()

        result = self.result()
        if button == "yesno":
            print result

        sys.exit()

def main():
    app = QtGui.QApplication(sys.argv)
    ex = Notice()
    sys.exit(app.exec_())

if __name__ == "__main__":
    main()    
EOF
)"
   fi</code></pre>
<p>Of course, it does not make sense to call the script that way in open-link-confirmation, but it is nice to know that one can write in line python in a bash script. That might save a a few lines of scripting in some cases, and it gives some extra power to bash.</p>
<p>Off-topic note. Feel free to rename generic_gui_message, or anything I push/publish, at your liking. It’s not written in stone.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-01T16:05:36Z' class='post-time'>
                July 1, 2014,  4:05pm
              </time>
              <meta itemprop='dateModified' content='2014-07-01T16:05:36Z'>
          <span itemprop='position'>#88</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I’ll keep that in mind.  <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>dispatch_x currently has only a minimize and close button. Could you add the maximize button as well please? (whonixcheck had an error at the very end. The window became scrollable. But if I was a user, I would wish to maximize the window to make a screenshot with all the text.)</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-01T17:15:04Z' class='post-time'>
                July 1, 2014,  5:15pm
              </time>
              <meta itemprop='dateModified' content='2014-07-01T17:15:04Z'>
          <span itemprop='position'>#89</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>A whonixcheck message is not correctly shown. Test script:</p>
<p>(Need to adjust path to dispatch_x.)</p>
<pre><code class="lang-auto">#!/bin/bash

set -x

msg="&lt;p&gt;Tor Bootstrap Result:
&lt;br&gt;&lt;/br&gt;Tor's Control Port could not be reached. (Code: "$tor_bootstrap_percent")
&lt;br&gt;&lt;/br&gt;(tor_bootstrap_timeout_type: $tor_bootstrap_timeout_type)
&lt;br&gt;&lt;/br&gt;(tor_bootstrap_status: $tor_bootstrap_status)
&lt;br&gt;&lt;/br&gt;(check_socks_port_open_test: $check_socks_port_open_test)
&lt;br&gt;&lt;/br&gt;Please report this Whonix bug!&lt;/p&gt;"

./Whonix/packages/msgcollector/usr/lib/msgcollector/msgdispatcher_dispatch_x "error" "test title" "$msg" "1" ""</code></pre>
<p>Any idea?</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-01T19:13:12Z' class='post-time'>
                July 1, 2014,  7:13pm
              </time>
              <meta itemprop='dateModified' content='2014-07-01T19:13:12Z'>
          <span itemprop='position'>#90</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>A whonixcheck message is not correctly shown. Test script:</blockquote>
<p>“not corretly shown”, that is wrong format, missing part?</p>
<p>In ./Whonix/packages/msgcollector/usr/lib/msgcollector/msgdispatcher_dispatch_x “error” “test title” “$msg” “1” “”, you give six arguments when five are expected, but it should not affect the result.</p>
<p>By the way, in msgdispatcher error_handler, I have left six arguments. That’s a remain from some tests. I’ll correct it, or may be you can do in the Whonix repository, just removinf the last “”. When I modify msgcollector next time, I’ll have to fetch and merge anyhow.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-01T23:20:44Z' class='post-time'>
                July 1, 2014, 11:20pm
              </time>
              <meta itemprop='dateModified' content='2014-07-01T23:20:44Z'>
          <span itemprop='position'>#91</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>No more text after.</p>
<blockquote>(tor_bootstrap_timeout_type: $tor_bootstrap_timeout_type)</blockquote>
Only quarter of next line is visible.
<pre><code class="lang-auto"></code></pre>
<p>It’s just 5 arguments.<br>
1 "error"<br>
2 "test title"<br>
3 "$msg"<br>
4 "1"<br>
5 “”</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-02T10:51:36Z' class='post-time'>
                July 2, 2014, 10:51am
              </time>
              <meta itemprop='dateModified' content='2014-07-02T10:51:36Z'>
          <span itemprop='position'>#92</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="troubadour" data-post="90" data-topic="246">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/t/d9b06d/40.png" class="avatar"> troubadour:</div>
<blockquote>
<p>By the way, in msgdispatcher error_handler, I have left six arguments. That’s a remain from some tests. I’ll correct it, or may be you can do in the Whonix repository, just removinf the last “”.</p>
</blockquote>
</aside>
<p>It was 4 arguments before and didn’t work. Fixed to 5 arguments. Please review:<br>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/msgcollector/commit/a2faca06f814bcfaa47e9611938a20c13877026f" target="_blank">github.com/Whonix/msgcollector</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Whonix/msgcollector/commit/a2faca06f814bcfaa47e9611938a20c13877026f" target="_blank">fix</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2014-07-02" data-time="10:50:46" data-timezone="UTC">10:50AM - 02 Jul 14 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 5 additions and 3 deletions">
        <a href="../../../external.html?link=https://github.com/Whonix/msgcollector/commit/a2faca06f814bcfaa47e9611938a20c13877026f" target="_blank">
          <span class="added">+5</span>
          <span class="removed">-3</span>
        </a>
      </div>
    </div>

  </div>
</div>




  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-02T22:58:52Z' class='post-time'>
                July 2, 2014, 10:58pm
              </time>
              <meta itemprop='dateModified' content='2014-07-02T22:58:52Z'>
          <span itemprop='position'>#93</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Only quarter of next line is visible.</blockquote>
<p>Pushed a modified dispatch_x. The vertical size calculation is flawed, as it will never manage all the possible situations. Looking into it, including the maximize button.</p>
<blockquote>It was 4 arguments before and didn't work. Fixed to 5 arguments. Please review:
https://github.com/Whonix/msgcollector/commit/a2faca06f814bcfaa47e9611938a20c13877026f</blockquote>
<p>Let’s forget yesterday  :’( and start again on the right foot.</p>
<p>[quote=“Patrick, post:72, topic:246”]Can dispatch_x show colors? Such as we are using for whonixcheck in CLI, where [INFO] is colored? INFO is colored, while [ and ] are uncolored (default: white).</p>
<p>Maybe we color the text or we use background color for test? Maybe strings like “Tor Bootstrap Result” (without colon?) would have either green (info), yellow (warning) or red (error) background color?</p>
<p>Can you tell me please an example on how to use dispatch_x to show colored text?</p>
<p>If it’s possible and we think it’s a good idea, I would implement it into msgcollector as function pretty_type_x.</p>
<p>Maybe help.</p>
<p><code>
&lt;b&gt;&lt;p style="color: white; background-color: green"&gt;info&lt;/p&gt;&lt;/b&gt;
&lt;b&gt;&lt;p style="color: black; background-color: yellow"&gt;warning&lt;/p&gt;&lt;/b&gt;
&lt;b&gt;&lt;p style="color: black; background-color: red"&gt;error&lt;/p&gt;&lt;/b&gt;
</code>[/quote]</p>
<p>pretty_type_x plus plus bold result in case of warning-error would look nice. In my opinion we should not touch the background (looks good in the console, but does not look professional in a GUI, too reminiscent of home made HTML only web pages).</p>
<p>A set of basic colors to choose from.</p>
<pre><code class="lang-auto">#!/bin/bash

set -x

msg="&lt;p&gt;&lt;br&gt;&lt;/br&gt;orange&lt;span style=color:#ff8000&gt;WARNING&lt;/span&gt; 
&lt;br&gt;&lt;/br&gt;dark red&lt;span style=color:#c00000&gt;WARNING&lt;/span&gt; 
&lt;br&gt;&lt;/br&gt;dark green&lt;span style=color:#008000&gt;INFO&lt;/span&gt; 
&lt;br&gt;&lt;/br&gt;green&lt;span style=color:#00c000&gt;INFO&lt;/span&gt;: 
&lt;br&gt;&lt;/br&gt;red&lt;span style=color:#ff0000&gt;ERROR&lt;/span&gt;&lt;/p&gt;&lt;p&gt;
&lt;br&gt;&lt;/br&gt;orange bold&lt;span style=font-weight:600;color:#ff8000&gt;WARNING&lt;/span&gt;
&lt;br&gt;&lt;/br&gt;dark red bold&lt;span style=font-weight:600;color:#c00000&gt;WARNING&lt;/span&gt;
&lt;br&gt;&lt;/br&gt;dark green bold&lt;span style=font-weight:600;color:#008000&gt;INFO&lt;/span&gt;
&lt;br&gt;&lt;/br&gt;green bold&lt;span style=font-weight:600;color:#00c000&gt;INFO&lt;/span&gt;
&lt;br&gt;&lt;/br&gt;red bold&lt;span style=font-weight:600;color:#ff0000&gt;ERROR&lt;/span&gt;&lt;/p&gt;"

./Whonix/packages/msgcollector/usr/lib/msgcollector/msgdispatcher_dispatch_x "error" "test title" "$msg" "1" ""</code></pre>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-03T12:48:23Z' class='post-time'>
                July 3, 2014, 12:48pm
              </time>
              <meta itemprop='dateModified' content='2014-07-03T12:48:23Z'>
          <span itemprop='position'>#94</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I wanted to update messages for timesync.</p>
<pre><code class="lang-auto">#!/bin/bash

set -x

testfunct() {

      local HELPTEXT="See logfile: &lt;code&gt;tail -f -n 20 /var/log/sdwdate.log&lt;/code&gt;
&lt;br&gt;&lt;/br&gt;See status files: &lt;code&gt;cd /var/run/sdwdate &amp;&amp; dir&lt;/code&gt;
&lt;br&gt;&lt;/br&gt;Try again: Start menu -&gt; Applications -&gt; System -&gt; Timesync
&lt;br&gt;&lt;/br&gt;           or in Terminal: &lt;code&gt;timesync&lt;/code&gt;
&lt;br&gt;&lt;/br&gt;Last resort: manually set the clock! (In UTC!):
                      &lt;br&gt;&lt;/br&gt;&lt;code&gt;sudo su
                      &lt;br&gt;&lt;/br&gt;date -s \"17 FEB 2012 24:00:00\" &amp;&amp; hwclock -w&lt;/code&gt;"

      local MSG="&lt;p&gt;Network Time Synchronization (timesync) failed!!!
&lt;br&gt;&lt;/br&gt;TIMESANITYCHECK_STATUS: "$TIMESANITYCHECK_STATUS_WORD"
&lt;br&gt;&lt;/br&gt;"$SDWDATE_STATUS" Please report this bug!
&lt;br&gt;&lt;/br&gt;
&lt;br&gt;&lt;/br&gt;$HELPTEXT&lt;p&gt;"

./Whonix/packages/msgcollector/usr/lib/msgcollector/msgdispatcher_dispatch_x "error" "test title" "$MSG" "1" ""

}

testfunct</code></pre>
<p>And noticed, that spaces are omitted.</p>
<blockquote>Last resort: manually set the clock! (In UTC!):
                  sudo su
                  date -s \"17 FEB 2012 24:00:00\" &amp;&amp; hwclock -w</blockquote>
<p>Becomes.</p>
<blockquote>Last resort: manually set the clock! (In UTC!):
sudo su
date -s \"17 FEB 2012 24:00:00\" &amp;&amp; hwclock -w</blockquote>
<p>Can this be fixed or must we use a special html code for spaces?</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-03T13:14:11Z' class='post-time'>
                July 3, 2014,  1:14pm
              </time>
              <meta itemprop='dateModified' content='2014-07-03T13:14:11Z'>
          <span itemprop='position'>#95</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“Patrick, post:86, topic:246”]As long as open-link-confirmation was using zenity, we were using zenity with --no-markup for security reasons, because cmd args are untrusted input.</p>
<p>At the moment we’re forwarding that untrusted input (could contain html tags) to generic_gui_message. I think we must run the cmd args though striphtml before we can safely forward them to generic_gui_message. But since striphtml is part of msgcollector, open-link-confirmation would have to depend on msgcollector. Not ideal. Should we go that route?</p>
<p>Perhaps striphtml would be better off in an extra package, but which one? Too many packages also isn’t good for inclusion into distributions. Code duplication they also do not like.</p>
<p>I am having in mind inclusion of open-link-confirmation into other distributions. But I guess that is rather unlikely anyway. So we could go with the less ideal solution of letting open-link-confirmation depend on msgcollector. What do you think?[/quote]<br>
Depend on msgcollector (for striphtml) and using striphtml before invoking generic_gui_message until there are better suggestions:<br>
</p><aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/open-link-confirmation/commit/91a26143cf838e2230de6457037f31fad934d579" target="_blank">github.com/Whonix/open-link-confirmation</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Whonix/open-link-confirmation/commit/91a26143cf838e2230de6457037f31fad934d579" target="_blank">strip html before showing in generic_gui_message for security reasons</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2014-07-03" data-time="13:09:28" data-timezone="UTC">01:09PM - 03 Jul 14 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 2 files with 4 additions and 1 deletions">
        <a href="../../../external.html?link=https://github.com/Whonix/open-link-confirmation/commit/91a26143cf838e2230de6457037f31fad934d579" target="_blank">
          <span class="added">+4</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>

  </div>
</div>




  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Using more secure defaults (does nothing if generic_gui_message does not work for some reason; default do nothing, only open link if yes button is clicked):<br>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/open-link-confirmation/commit/845a8ff4c63cce7266f905f0ad7e6806c65baa62" target="_blank">github.com/Whonix/open-link-confirmation</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Whonix/open-link-confirmation/commit/845a8ff4c63cce7266f905f0ad7e6806c65baa62" target="_blank">fix</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2014-07-03" data-time="13:04:24" data-timezone="UTC">01:04PM - 03 Jul 14 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 1 additions and 1 deletions">
        <a href="../../../external.html?link=https://github.com/Whonix/open-link-confirmation/commit/845a8ff4c63cce7266f905f0ad7e6806c65baa62" target="_blank">
          <span class="added">+1</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>

  </div>
</div>




  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-03T15:39:20Z' class='post-time'>
                July 3, 2014,  3:39pm
              </time>
              <meta itemprop='dateModified' content='2014-07-03T15:39:20Z'>
          <span itemprop='position'>#96</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>HTML tags in<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">
      <a href="../../../external.html?link=https://github.com/troubadoour/tb-updater" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://avatars1.githubusercontent.com/u/7442918?s=400&amp;v=4" class="thumbnail onebox-avatar" width="420" height="420">

<h3><a href="../../../external.html?link=https://github.com/troubadoour/tb-updater" target="_blank" rel="nofollow noopener">troubadoour/tb-updater</a></h3>

<p>Tor Browser Updater - Automates download and verification of Tor Browser from The Tor Project's website. This package is produced independently of, and carries no guarantee from, The Tor Projec...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">
      <a href="../../../external.html?link=https://github.com/troubadoour/tb-starter" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://avatars1.githubusercontent.com/u/7442918?s=400&amp;v=4" class="thumbnail onebox-avatar" width="420" height="420">

<h3><a href="../../../external.html?link=https://github.com/troubadoour/tb-starter" target="_blank" rel="nofollow noopener">troubadoour/tb-starter</a></h3>

<p>Contribute to troubadoour/tb-starter development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<a href="../../../external.html?link=https://github.com/troubadoour/timesync" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/troubadoour/timesync</a></p>
<blockquote>Can this be fixed or must we use a special html code for spaces?</blockquote>
<p>Yes, </p><blockquote> creates an indented paragraph. Used every time there are spaces in the messages. Should be OK in the above, but I did not test locally. Please let me know.
</blockquote>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-03T16:28:22Z' class='post-time'>
                July 3, 2014,  4:28pm
              </time>
              <meta itemprop='dateModified' content='2014-07-03T16:28:22Z'>
          <span itemprop='position'>#97</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I am proposing a stylistic change. How do you like it when using the <code> tag as well? This is more a matter of taste.</code></p>
<p>In the following example, there is a problem.</p>
<pre><code class="lang-auto">#!/bin/bash

set -x

testfunct() {

      local HELPTEXT="&lt;p&gt;See logfile: &lt;blockquote&gt;&lt;code&gt;tail -f -n 20 /var/log/sdwdate.log&lt;/code&gt;&lt;/blockquote&gt;
See status files: &lt;blockquote&gt;&lt;code&gt;cd /var/run/sdwdate &amp;&amp; dir&lt;/code&gt;&lt;/blockquote&gt;
Try again: &lt;blockquote&gt;Start menu -&gt; Applications -&gt; System -&gt; Timesync
           &lt;br&gt;&lt;/br&gt;or in Terminal: &lt;code&gt;timesync&lt;/code&gt;&lt;/blockquote&gt;
Last resort: manually set the clock! (In UTC!):
             &lt;blockquote&gt;&lt;code&gt;sudo su
             &lt;br&gt;&lt;/br&gt;date -s \"17 FEB 2012 24:00:00\" &amp;&amp; hwclock -w&lt;/code&gt;&lt;/blockquote&gt;&lt;/p&gt;"

      local MSG="&lt;p&gt;&lt;b&gt;Network Time Synchronization (timesync) failed!!!&lt;/b&gt;
&lt;br&gt;&lt;/br&gt;TIMESANITYCHECK_STATUS: "$TIMESANITYCHECK_STATUS_WORD"
&lt;br&gt;&lt;/br&gt;"$SDWDATE_STATUS" Please report this bug!&lt;/p&gt;

$HELPTEXT"

./Whonix/packages/msgcollector/usr/lib/msgcollector/msgdispatcher_dispatch_x "error" "test title" "$MSG" "1" ""

}

testfunct</code></pre>
<p>Only half of</p>
<blockquote>date -s "17 FEB 2012 24:00:00" &amp;&amp; hwclock -w</blockquote>
<p>is shown. If I understood you right last time, you are still working on this?</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-03T19:37:29Z' class='post-time'>
                July 3, 2014,  7:37pm
              </time>
              <meta itemprop='dateModified' content='2014-07-03T19:37:29Z'>
          <span itemprop='position'>#98</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>I am proposing a stylistic change. How do you like it when using the <code> tag as well? This is more a matter of taste.</code>
</blockquote>
<p>Nice stylistic change, to my taste too.  :).</p>
<blockquote>Only half of
<aside class="quote">
<blockquote>
<pre><code>date -s "17 FEB 2012 24:00:00" &amp;&amp; hwclock -w
</code></pre>
</blockquote>
</aside>
<p>is shown. If I understood you right last time, you are still working on this?</p>
</blockquote>
<p>Yes, on this… and that… But when I run your script, the whole of ‘date -s “17 FEB 2012 24:00:00” &amp;&amp; hwclock -w’ is shown. Just checked, you have the latest version of dispatch_x .</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-03T20:32:56Z' class='post-time'>
                July 3, 2014,  8:32pm
              </time>
              <meta itemprop='dateModified' content='2014-07-03T20:32:56Z'>
          <span itemprop='position'>#99</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“Patrick, post:95, topic:246”][quote author=Patrick link=topic=261.msg2592#msg2592 date=1404215181]<br>
As long as open-link-confirmation was using zenity, we were using zenity with --no-markup for security reasons, because cmd args are untrusted input.</p>
<p>At the moment we’re forwarding that untrusted input (could contain html tags) to generic_gui_message. I think we must run the cmd args though striphtml before we can safely forward them to generic_gui_message. But since striphtml is part of msgcollector, open-link-confirmation would have to depend on msgcollector. Not ideal. Should we go that route?</p>
<p>Perhaps striphtml would be better off in an extra package, but which one? Too many packages also isn’t good for inclusion into distributions. Code duplication they also do not like.</p>
<p>I am having in mind inclusion of open-link-confirmation into other distributions. But I guess that is rather unlikely anyway. So we could go with the less ideal solution of letting open-link-confirmation depend on msgcollector. What do you think?<br>
[/quote]<br>
Depend on msgcollector (for striphtml) and using striphtml before invoking generic_gui_message until there are better suggestions:<br>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/open-link-confirmation/commit/91a26143cf838e2230de6457037f31fad934d579" target="_blank" rel="nofollow noopener">github.com/Whonix/open-link-confirmation</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Whonix/open-link-confirmation/commit/91a26143cf838e2230de6457037f31fad934d579" target="_blank" rel="nofollow noopener">strip html before showing in generic_gui_message for security reasons</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2014-07-03" data-time="13:09:28" data-timezone="UTC">01:09PM - 03 Jul 14 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
          <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 2 files with 4 additions and 1 deletions">
        <a href="../../../external.html?link=https://github.com/Whonix/open-link-confirmation/commit/91a26143cf838e2230de6457037f31fad934d579" target="_blank" rel="nofollow noopener">
          <span class="added">+4</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>

  </div>
</div>




  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Using more secure defaults (does nothing if generic_gui_message does not work for some reason; default do nothing, only open link if yes button is clicked):<br>
<a href="../../../external.html?link=https://github.com/Whonix/open-link-confirmation/commit/845a8ff4c63cce7266f905f0ad7e6806c65baa62%5B/quote%5D" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/Whonix/open-link-confirmation/commit/845a8ff4c63cce7266f905f0ad7e6806c65baa62[/quote]</a></p>
<p>First of all, the problem expands, as generic_gui_message is now called from tb-starter and tb-updater. But…</p>
<p>open-link-confirmation and the other packages do not have to depend on msgcollector if we run the code inline in a simplified version.</p>
<p><code> #!/bin/bash
msg="&lt;p&gt;This is a link:&lt;/p&gt;
&lt;a href=https://www.whonix.org&gt;https://www.whonix.org&lt;/a&gt;"
export msg
stripped_msg="$(cat &lt;&lt; EOF | python -
import os, re
message=re.sub('&lt;[^&lt;]+?&gt;', '', os.getenv('msg'))
print message
EOF
)"
echo $stripped_msg
</code></p>
<p>striphtml is not called from many places (at the moment…). It should not clutter the scripts too much.</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="246.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-07-03T22:10:51Z' class='post-time'>
                July 3, 2014, 10:10pm
              </time>
              <meta itemprop='dateModified' content='2014-07-03T22:10:51Z'>
          <span itemprop='position'>#100</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>That’s one option.</p>
<p>Another one could be merging generic-gui-message into msgcollector? What do you think?</p>
<p>generic-gui-message is unlikely to be accepted into Debian, I think, because it’s too tiny?</p>
<p>And msgcollector is unlikely to be accepted into Debian, I think, because Debian, because it’s too non-standard*? [* using acl; background process the gets started by /etc/profile.d and writes to tty0]</p>
<p>So it shouldn’t matter?</p>
        </div>

        <meta itemprop='headline' content='Whonixcheck, timesync GUI, msgcollector'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="246fdb0.html?page=4">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="246c575.html?page=6">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
