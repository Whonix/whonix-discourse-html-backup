<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix host operating system - #193 by Patrick - Development - Whonix Forum</title>
    <meta name="description" content="There is already some discussion ongoing in the Whonix-Live mode thread but I guess a dedicated thread is more suitable. 
What would you consider important for an (official) Whonix host OS? 
Which OS should be used? 
Sim&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../39311448.html?page=10" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix host operating system&#39;" href="../3931.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-host-operating-system/3931/193" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-host-operating-system/3931/193" />
<meta property="og:title" content="Whonix host operating system" />
<meta name="twitter:title" content="Whonix host operating system" />
<meta property="og:description" content="4 posts were split to a new topic: Whonix-Host Firewall" />
<meta name="twitter:description" content="4 posts were split to a new topic: Whonix-Host Firewall" />
<meta property="article:published_time" content="2020-03-18T14:36:40+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="../39310b08.html?page=9">
        <link rel="next" href="../39311c8b.html?page=11">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../3931.html">Whonix host operating system</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../../tag/component_whonix-host.html' class='discourse-tag' rel="tag">component_whonix-host</a>, 
            <a href='../../../tag/status_open_issue_todo.html' class='discourse-tag' rel="tag">status_open_issue_todo</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-17T11:19:05Z' class='post-time'>
                March 17, 2020, 11:19am
              </time>
              <meta itemprop='dateModified' content='2020-03-17T11:19:05Z'>
          <span itemprop='position'>#188</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="onion_knight" data-post="187" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Anything else?</p>
</blockquote>
</aside>
<p><a href="../../../../external.html?link=https://phabricator.whonix.org/project/view/26/">https://phabricator.whonix.org/project/view/26/</a> and <a href="../../../../external.html?link=https://phabricator.whonix.org/project/view/145/">https://phabricator.whonix.org/project/view/145/</a> could use some triage. Tasks required for first public release could be tagged <code>Whonix_15</code> vs tasks for future work could be left as is.</p>
<p>Which tasks would you consider release blockers?</p>
<p>I guess for example at minimum we should have a basic host firewall. -&gt; <a href="../../../../external.html?link=https://phabricator.whonix.org/T942">https://phabricator.whonix.org/T942</a></p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>
          <meta itemprop='keywords' content='component_whonix-host, status_open_issue_todo'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../whonix-host-firewall/9151.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../whonix-host-firewall/9151.html'>
                      <span itemprop='name'>Whonix-Host Firewall</span>
                    </a>
                    <meta itemprop='position' content='4'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-17T12:05:58Z' class='post-time'>
                March 17, 2020, 12:05pm
              </time>
              <meta itemprop='dateModified' content='2020-03-17T12:05:58Z'>
          <span itemprop='position'>#189</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="../../../../external.html?link=https://phabricator.whonix.org/T914#19541" class="onebox" target="_blank">https://phabricator.whonix.org/T914#19541</a></p>
<blockquote>
<pre><code>Then what about hdd live mode boot? Does this issue apply there too?
This implementation path might not work for installed disk live mode boot?
</code></pre>
<p>I don’t know. Not implemented yet. Currently installed (persistent) Whonix-Host does not have live-boot option.</p>
</blockquote>
<p>Should be easy.</p>
<pre><code>sudo apt install grub-live
</code></pre>
<p>If that works, could be added to anon-meta-packages.</p>
<p>Related:</p>
<aside class="quote quote-modified" data-post="1" data-topic="8912">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/r/9f8e36/40.png" class="avatar">
    <a href="../../running-live-host-via-grub-live/8912.html">Running live host via Grub-live</a> <a class="badge-wrapper  bullet" href="../../../c/support/5.html"><span class="badge-category-bg" style="background-color: #8C6238;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="User support for the Whonix operating system. (devs)">Support</span></a>
  </div>
  <blockquote>
    In the Whonix wiki there is a topic entitled ‘Boot your existing, installed Debian Host into Live Mode with GRUB LIVE’. That would be a good state of affairs. You run your Whonix, but no trace of it, not even in the host, would be detectable. Problem is that running my host (Buster) live, prevents running Whonix. Start of Gateway dies with the message that there is no disk space available. When I check via Nautilus I see in effect I have only 4 Gb left. So installing the Gateway.qcow2 file does …
  </blockquote>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../../running-live-host-via-grub-live/8912/4.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../../running-live-host-via-grub-live/8912/4.html'>
                      <span itemprop='name'>Running live host via Grub-live</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-17T12:06:29Z' class='post-time'>
                March 17, 2020, 12:06pm
              </time>
              <meta itemprop='dateModified' content='2020-03-17T12:06:29Z'>
          <span itemprop='position'>#190</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Personally I don’t see any blocker in the two lists.</p>
<p>This may however be a problem (not a blocker to me anyway) if swap is really a concern to you, as Calamares installer creates a swap partition by default:<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T904" class="onebox" target="_blank" rel="nofollow noopener">https://phabricator.whonix.org/T904</a></p>
<p>Solutions:</p>
<ul>
<li>Don’t care (the installation should be on a encrypted disk anyway, swap is encrypted too)</li>
<li>See how we can change Calamares settings so as to not provide a swap partition by default during partition</li>
</ul>
<p>Regarding host firewall, I have no experience in that. So I am afraid I won’t be able to help much with that.</p>
<p>This being said, a lot of bugs/desired features will probably appear when we can test Whonix-Host (both live and persistent installation) more thoroughly.</p>
<p>Maybe already consider a first “alpha” build based on what we have (still pending last desktop configuration changes) that multiple people could test and report back?</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-17T12:13:29Z' class='post-time'>
                March 17, 2020, 12:13pm
              </time>
              <meta itemprop='dateModified' content='2020-03-17T12:13:29Z'>
          <span itemprop='position'>#191</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>EDIT:<br>
I forgot this one<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T914" class="onebox" target="_blank" rel="nofollow noopener">https://phabricator.whonix.org/T914</a><br>
Maybe not a blocker, but should definitely be taken care of, as it is inconvenient (as currently needs editing on first boot after Whonix-Host persistent installation in order to make it work).</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-17T12:23:13Z' class='post-time'>
                March 17, 2020, 12:23pm
              </time>
              <meta itemprop='dateModified' content='2020-03-17T12:23:13Z'>
          <span itemprop='position'>#192</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="onion_knight" data-post="190" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>This may however be a problem (not a blocker to me anyway) if swap is really a concern to you, as Calamares installer creates a swap partition by default:<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T904">https://phabricator.whonix.org/T904</a></p>
</blockquote>
</aside>
<p>Yes, ideally there would be a swap file but it’s not super critical as its encrypted swap partition.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="190" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Solutions:</p>
<ul>
<li>Don’t care (the installation should be on a encrypted disk anyway, swap is encrypted too)</li>
</ul>
</blockquote>
</aside>
<p>Yes, that’s it for now since calamares does not support swap file support yet.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="190" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>See how we can change Calamares settings so as to not provide a swap partition by default during partition</p>
</blockquote>
</aside>
<p>Not sure that is a good idea. For users with 4 GB RAM and more that might be OK but with less I don’t know if we should care and/or if swap would help.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
              split this topic 
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-18T14:36:40Z' class='post-time'>
                March 18, 2020,  2:36pm
              </time>
              <meta itemprop='dateModified' content='2020-03-18T14:36:40Z'>
          <span itemprop='position'>#193</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>4 posts were split to a new topic: <a href="../../whonix-host-firewall/9151.html">Whonix-Host Firewall</a></p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-18T10:17:44Z' class='post-time'>
                March 18, 2020, 10:17am
              </time>
              <meta itemprop='dateModified' content='2020-03-18T10:17:44Z'>
          <span itemprop='position'>#197</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Currently building 15.0.1.0.2-developers-only from scratch, to see how it goes.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-18T13:19:41Z' class='post-time'>
                March 18, 2020,  1:19pm
              </time>
              <meta itemprop='dateModified' content='2020-03-18T13:19:41Z'>
          <span itemprop='position'>#198</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox twitterstatus">
  <header class="source">
      <a href="../../../../external.html?link=https://twitter.com/Whonix/status/1240182963511398402" target="_blank">twitter.com</a>
  </header>
  <article class="onebox-body">
    <img src="../../../../external.html?link=https://pbs.twimg.com/profile_images/747394861549162496/q6YdTSix_400x400.jpg" class="thumbnail onebox-avatar" width="60" height="60">

<h4><a href="../../../../external.html?link=https://twitter.com/Whonix/status/1240182963511398402" target="_blank">Whonix ™ (Whonix)</a></h4>

<div class="tweet"> What would you expect from a Whonix-Host?

(Non-Qubes-Whonix)

^PS</div>

<div class="date">
  <a href="../../../../external.html?link=https://twitter.com/Whonix/status/1240182963511398402" target="_blank">7:47 AM - 18 Mar 2020</a>
    <span class="like">
      <svg viewbox="0 0 512 512" width="14px" height="16px" aria-hidden="true">
        <path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"></path>
      </svg> 2
    </span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../../external.html?link=https://static.xx.fbcdn.net/rsrc.php/yz/r/KFyVIAWzntM.ico" class="site-icon" width="16" height="16">
      <a href="../../../../external.html?link=https://www.facebook.com/622399681135624/posts/3611155568926672/" target="_blank">facebook.com</a>
  </header>
  <article class="onebox-body">
    <img src="../../../../external.html?link=https://scontent-ams4-1.xx.fbcdn.net/v/t1.0-1/p200x200/13528976_1138315219544065_1835192466839892987_n.png?_nc_cat=111&amp;_nc_sid=dbb9e7&amp;_nc_ohc=tH16dcd2U0YAX_KMSmm&amp;_nc_ht=scontent-ams4-1.xx&amp;oh=2de428e4fe6fd9752f672bc4df0f2e40&amp;oe=5E98C837" class="thumbnail" width="" height="">

<h3><a href="../../../../external.html?link=https://www.facebook.com/622399681135624/posts/3611155568926672/" target="_blank">Whonix</a></h3>

<p>What would you expect from a Whonix-Host?

(Non-Qubes-Whonix)

^PS</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-18T14:54:42Z' class='post-time'>
                March 18, 2020,  2:54pm
              </time>
              <meta itemprop='dateModified' content='2020-03-18T14:54:42Z'>
          <span itemprop='position'>#199</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <ul>
<li><a href="../../should-whonix-host-be-fully-torified-by-default/7404.html" class="inline-onebox">Should Whonix host be fully torified by default?</a></li>
<li><a href="../../should-whonix-host-have-any-features-besides-hosting-whonix-vms-in-a-secure-way/9150.html" class="inline-onebox">Should Whonix-Host have any features besides hosting Whonix VMs in a secure way?</a></li>
<li><a href="../../whonix-host-firewall/9151.html" class="inline-onebox">Whonix-Host Firewall</a></li>
</ul>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-21T10:47:03Z' class='post-time'>
                March 21, 2020, 10:47am
              </time>
              <meta itemprop='dateModified' content='2020-03-21T10:47:03Z'>
          <span itemprop='position'>#200</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This is a search for project <code>whonix-host</code>, <code>whonix-15</code> with status <code>open</code>.</p>
<p><a href="../../../../external.html?link=https://phabricator.whonix.org/maniphest/query/_Obk7yld9FTN/#R" class="onebox" target="_blank">https://phabricator.whonix.org/maniphest/query/_Obk7yld9FTN/#R</a></p>
<p>These tasks I think we should get done before the first release aka Whonix-Host release blocker.</p>
<p>All open Whonix-Host tasks (also lower priority, non-blockers):</p>
<p><a href="../../../../external.html?link=https://phabricator.whonix.org/maniphest/query/tJZ0eiJ0CrLl/#R" class="onebox" target="_blank">https://phabricator.whonix.org/maniphest/query/tJZ0eiJ0CrLl/#R</a></p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-22T17:05:38Z' class='post-time'>
                March 22, 2020,  5:05pm
              </time>
              <meta itemprop='dateModified' content='2020-03-22T17:05:38Z'>
          <span itemprop='position'>#201</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="200" data-topic="3931" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>This is a search for project <code>whonix-host</code> , <code>whonix-15</code> with status <code>open</code> .</p>
<p><a href="../../../../external.html?link=https://phabricator.whonix.org/maniphest/query/_Obk7yld9FTN/#R" rel="nofollow noopener">https://phabricator.whonix.org/maniphest/query/_Obk7yld9FTN/#R</a></p>
<p>These tasks I think we should get done before the first release aka Whonix-Host release blocker.</p>
<p>All open Whonix-Host tasks (also lower priority, non-blockers):</p>
<p><a href="../../../../external.html?link=https://phabricator.whonix.org/maniphest/query/tJZ0eiJ0CrLl/#R" rel="nofollow noopener">https://phabricator.whonix.org/maniphest/query/tJZ0eiJ0CrLl/#R</a></p>
</blockquote>
</aside>
<p>Great, I can take<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T910" class="onebox" target="_blank" rel="nofollow noopener">https://phabricator.whonix.org/T910</a><br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T969" class="onebox" target="_blank" rel="nofollow noopener">https://phabricator.whonix.org/T969</a><br>
I’ll first start with a new build, see if everything works fine, and test it further.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-25T11:39:11Z' class='post-time'>
                March 25, 2020, 11:39am
              </time>
              <meta itemprop='dateModified' content='2020-03-25T11:45:18Z'>
          <span itemprop='position'>#202</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><strong>Whonix-Host-15.0.1.0.7-developers-only: field report</strong></p>
<p>I build a new Whonix-Host 15.0.1.0.7, as well as Whonix-Gateway and Whonix-Workstation VMs and tested it out on real hardware. Not an extensive test, just to see if everything works as expected.</p>
<p><strong>First of all, there is one thing important to consider during Whonix-Host build.</strong> If gw and ws VMs are not compressed first, the Calamares installation will take hours, and likely fail if not installing on a disk with less than 250 GB capacity. This is because Calamares installer seems to “think” that Whonix VMs really use 100 GB of space each. Compressing the gw and ws disk images BEFORE building Whonix-Host using<code> qemu-img convert</code> solves the problem:</p>
<p><code>qemu-img convert -f qcow2 -O qcow2</code></p>
<p>This is just an observation for builders, it is done manually at this stage, but could be added in the whonix-host build process.</p>
<p><strong>Results:</strong></p>
<p><strong>Whonix-Host ISO/Calamares</strong></p>
<ul>
<li>
<p>Consider changing<code> /etc/motd</code>: “Whonix GNU/Linux” -&gt; “Whonix-Host GNU/Linux”</p>
</li>
<li>
<p>BIOS installation works fine. Installed and tested on real hardware. -&gt; great!</p>
</li>
<li>
<p><strong>EFI installation is broken. The installation cannot proceed (more on this later).</strong></p>
</li>
<li>
<p>EFI ISO doesn’t use the current kernel flags, see my pull requests (also replaced “Whonix Desktop” by “Whonix-Host” in both grub.cfg and isolinux.cfg files):<br>
<a href="../../../../external.html?link=https://github.com/Whonix/Whonix/pull/432" rel="nofollow noopener">https://github.com/Whonix/Whonix/pull/432</a><br>
<a href="../../../../external.html?link=https://github.com/Whonix/Whonix/pull/433" rel="nofollow noopener">https://github.com/Whonix/Whonix/pull/433</a></p>
</li>
<li>
<p>Whonix-Host currently does not have ntfs filesystem support. Quite annoying. I suggest adding <code>ntfs-3g</code> package. Maybe also consider adding <code>dosfstools</code> package. Both packages are very lightweight. <em>(“dosfstools consists of the programs mkfs.fat, fsck.fat and fatlabel to create, check and label file systems of the FAT family.” <a href="../../../../external.html?link=https://github.com/dosfstools/dosfstools" rel="nofollow noopener">https://github.com/dosfstools/dosfstools</a>)</em></p>
</li>
<li>
<p>Some functionalities to fully support desktop integration of mounting encrypted and non-encrypted disks appear to be missing: this means encrypted partitions must be decrypted and mounted manually (likely related to some polkit configuration nightmare…).</p>
</li>
</ul>
<p><strong>Whonix gw/ws VMs integration</strong></p>
<ul>
<li>Whonix-VM resolution size is fixed (automatic 1920x1080 on first boot) -&gt; great!</li>
<li>Whonix-VMs desktop background colors are currently wrong (inverted: gw uses ws color and ws uses gw color). Couldn’t do a pull request as I don’t remember what files take care of this <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:">
</li>
</ul>
<p><strong>Whonix-Host installed version</strong></p>
<ul>
<li>
<p>Installed Whonix-Host GRUB menuentry is currently “Whonix GNU/Linux” -&gt; shouldn’t it be changed to “Whonix-Host GNU/Linux”? Same thing for <code>/etc/motd</code></p>
</li>
<li>
<p><code>persistent-mode-to-read-write</code> half works: after installation, Whonix VMs are correctly set to <code>-disk readonly=off</code> but their file permissions are still read-only (0440). They will fail to boot in virt-manager (<code>Error starting domain: internal error: process exited while connecting to monitor: qemu-system-x86_64: -drive file=/var/lib/libvirt/images/Whonix-Workstation.qcow2,format=qcow2,if=none,id=drive-virtio-disk0: Block node is read-only</code>)</p>
</li>
<li>
<p>nfts filesystem, mounting disks in thunar: see above</p>
</li>
</ul>
<p><strong>In general, what further tests would you suggest me to perform on an installed Whonix-Host system?</strong></p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="3" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-25T12:17:16Z' class='post-time'>
                March 25, 2020, 12:17pm
              </time>
              <meta itemprop='dateModified' content='2020-03-25T12:17:16Z'>
          <span itemprop='position'>#203</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Awesome!</p>
<p>Packages: yes, please add here <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/blob/master/debian/control">https://github.com/Whonix/anon-meta-packages/blob/master/debian/control</a></p>
<aside class="quote no-group" data-username="onion_knight" data-post="202" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><strong>First of all, there is one thing important to consider during Whonix-Host build.</strong> If gw and ws VMs are not compressed first, the Calamares installation will take hours, and likely fail if not installing on a disk with less than 250 GB capacity. This is because Calamares installer seems to “think” that Whonix VMs really use 100 GB of space each. Compressing the gw and ws disk images BEFORE building Whonix-Host using <code> qemu-img convert</code> solves the problem:</p>
<p><code>qemu-img convert -f qcow2 -O qcow2</code></p>
<p>This is just an observation for builders, it is done manually at this stage, but could be added in the whonix-host build process.</p>
</blockquote>
</aside>
<p>Strange.</p>
<p>Don’t we create a sparse qcow2 image here? //cc <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
<p><a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/2400_convert-raw-to-qcow2#L37">https://github.com/Whonix/Whonix/blob/master/build-steps.d/2400_convert-raw-to-qcow2#L37</a></p>
<p>And then don’t we copy the sparse qcow2 image as sparse qcow2 image into the Whonix-Host raw image?</p>
<p><a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/1800_copy_vms_into_raw#L32">https://github.com/Whonix/Whonix/blob/master/build-steps.d/1800_copy_vms_into_raw#L32</a></p>
<p>Anything that needs to be fixed to make it sparse indeed?</p>
<p>Related:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../../external.html?link=https://www.whonix.org/wiki/Sparse_files" target="_blank" title="01:47PM - 22 April 2019">whonix.org – 22 Apr 19</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:104/69;"><img src="../../../../external.html?link=https://www.whonix.org/w/images/d/db/Backgrounds-164099640.jpg" class="thumbnail" width="104" height="69"></div>

<h3><a href="../../../../external.html?link=https://www.whonix.org/wiki/Sparse_files" target="_blank">Sparse files - Whonix</a></h3>

<p>On Sparse Files, checking their real size versus their apparent size.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-username="onion_knight" data-post="202" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><code>qemu-img convert -f qcow2 -O qcow2</code></p>
</blockquote>
</aside>
<p>I don’t understand this command.</p>
<ul>
<li>-f filename</li>
<li>-O output format</li>
</ul>
<p>Possible to use long instead of short qemu-img command line parameters?</p>
<p>We convert qcow2 to qcow2? At what point that command says “use compression”?</p>
<p>Does that mean we have to settle for compressed qcow2 images for Whonix-Host ISO and Whonix-Host installed? Performance degradation? Unpack on installed Whonix-Host?</p>
<aside class="quote no-group" data-username="onion_knight" data-post="202" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Consider changing <code> /etc/motd</code> : “Whonix GNU/Linux” -&gt; “Whonix-Host GNU/Linux”</p>
</blockquote>
</aside>
<p>Yeah. There’s /etc/motd.d and /etc/issue.d nowadays. I’d like to port to that.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="202" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Some functionalities to fully support desktop integration of mounting encrypted and non-encrypted disks appear to be missing: this means encrypted partitions must be decrypted and mounted manually (likely related to some polkit configuration nightmare…).</p>
</blockquote>
</aside>
<p>Hopefully fixed when working on these:</p>
<ul>
<li><a href="../../../../external.html?link=https://phabricator.whonix.org/T965">https://phabricator.whonix.org/T965</a></li>
<li><a href="../../../../external.html?link=https://phabricator.whonix.org/T961">https://phabricator.whonix.org/T961</a></li>
<li><a href="../../../../external.html?link=https://phabricator.whonix.org/T966">https://phabricator.whonix.org/T966</a></li>
</ul>
<p>Need to make special note to test Whonix-Host too.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="202" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Whonix-VMs desktop background colors are currently wrong (inverted: gw uses ws color and ws uses gw color). Couldn’t do a pull request as I don’t remember what files take care of this <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>I thought the blue color is most friendly, pretty and workstation the place to spend most time. Therefore added there.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="202" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Installed Whonix-Host GRUB menuentry is currently “Whonix GNU/Linux” -&gt; shouldn’t it be changed to “Whonix-Host GNU/Linux”? Same thing for <code>/etc/motd</code></p>
</blockquote>
</aside>
<p>Should be doable. That, /etc/issue, /etc/motd could use a ticket.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="202" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><code>persistent-mode-to-read-write</code> half works: after installation, Whonix VMs are correctly set to <code>-disk readonly=off</code> but their file permissions are still read-only (0440). They will fail to boot in virt-manager ( <code>Error starting domain: internal error: process exited while connecting to monitor: qemu-system-x86_64: -drive file=/var/lib/libvirt/images/Whonix-Workstation.qcow2,format=qcow2,if=none,id=drive-virtio-disk0: Block node is read-only</code> )</p>
</blockquote>
</aside>
<p>Please add comment to the ticket.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="202" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><strong>In general, what further tests would you suggest me to perform on an installed Whonix-Host system?</strong></p>
</blockquote>
</aside>
<p>I guess <a href="../../../../external.html?link=https://phabricator.whonix.org/T910">https://phabricator.whonix.org/T910</a> is the only major test for now that comes to mind that you’re already aware off. Everything else you seem to have covered already. <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="4" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-25T12:41:49Z' class='post-time'>
                March 25, 2020, 12:41pm
              </time>
              <meta itemprop='dateModified' content='2020-03-25T12:44:27Z'>
          <span itemprop='position'>#204</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="203" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I don’t understand this command.</p>
<ul>
<li>-f filename</li>
<li>-O output format</li>
</ul>
<p>Possible to use long instead of short qemu-img command line parameters?</p>
<p>We convert qcow2 to qcow2? At what point that command says “use compression”?</p>
<p>Does that mean we have to settle for compressed qcow2 images for Whonix-Host ISO and Whonix-Host installed? Performance degradation? Unpack on installed Whonix-Host?</p>
</blockquote>
</aside>
<p>It’s just an empiric finding. The term “compress” is probably not appropriate. When using qemu-img convert command, the .qcow2 size seems to match its real size, not its virtual potential one:</p>
<pre><code>user@host:~$ sudo ls -lh /var/lib/libvirt/images/
total 5.3G
-rwxr-xr-x 1 libvirt-qemu libvirt-qemu 2.5G Mar 24 14:34 Whonix-Gateway.qcow2
-r--r----- 1 root         root         2.9G Mar 24 14:34 Whonix-Workstation.qcow2
</code></pre>
<p>(instead of 100G before qemu-img).</p>
<p>I didn’t notice any performance degradation. Once again, “compress” is probably not the right term.</p>
<p>Full command:</p>
<pre><code>qemu-img convert -f qcow2 -O qcow2 /path_to_whonix_vms/whonix_vms.qcow2 /path_to_whonix_binary/whonix_vms.qcow2
</code></pre>
<aside class="quote no-group" data-username="Patrick" data-post="203" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Don’t we create a sparse qcow2 image here? //cc <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
<p><a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/2400_convert-raw-to-qcow2#L37" rel="nofollow noopener">https://github.com/Whonix/Whonix/blob/master/build-steps.d/2400_convert-raw-to-qcow2#L37</a></p>
<p>And then don’t we copy the sparse qcow2 image as sparse qcow2 image into the Whonix-Host raw image?</p>
<p><a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/1800_copy_vms_into_raw#L32" rel="nofollow noopener">https://github.com/Whonix/Whonix/blob/master/build-steps.d/1800_copy_vms_into_raw#L32</a></p>
</blockquote>
</aside>
<p>I guess we could probably replace the<code> cp --sparse=always</code> command by <code>qemu-img convert</code>. In my experience, the result is the same, only .qcow2 images “advert” their real size when using <code>qemu-img convert</code>.</p>
<aside class="quote no-group" data-username="Patrick" data-post="203" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Hopefully fixed when working on these:</p>
<ul>
<li><a href="../../../../external.html?link=https://phabricator.whonix.org/T965" rel="nofollow noopener">https://phabricator.whonix.org/T965</a></li>
<li><a href="../../../../external.html?link=https://phabricator.whonix.org/T961" rel="nofollow noopener">https://phabricator.whonix.org/T961</a></li>
<li><a href="../../../../external.html?link=https://phabricator.whonix.org/T966" rel="nofollow noopener">https://phabricator.whonix.org/T966</a></li>
</ul>
<p>Need to make special note to test Whonix-Host too.</p>
</blockquote>
</aside>
<p>OK!</p>
<aside class="quote no-group quote-modified" data-username="onion_knight" data-post="202" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<blockquote>
<p>Whonix-VMs desktop background colors are currently wrong (inverted: gw uses ws color and ws uses gw color). Couldn’t do a pull request as I don’t remember what files take care of this <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
<p>I thought the blue color is most friendly, pretty and workstation the place to spend most time. Therefore added there.</p>
</blockquote>
</aside>
<p>OK, so not an issue. Although I prefer it the other way personnally <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote no-group quote-modified" data-username="onion_knight" data-post="202" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<blockquote>
<p><code>persistent-mode-to-read-write</code> half works: after installation, Whonix VMs are correctly set to <code>-disk readonly=off</code> but their file permissions are still read-only (0440). They will fail to boot in virt-manager ( <code>Error starting domain: internal error: process exited while connecting to monitor: qemu-system-x86_64: -drive file=/var/lib/libvirt/images/Whonix-Workstation.qcow2,format=qcow2,if=none,id=drive-virtio-disk0: Block node is read-only</code> )</p>
</blockquote>
<p>Please add comment to the ticket.</p>
</blockquote>
</aside>
<p>OK</p>
<aside class="quote no-group" data-username="Patrick" data-post="203" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I guess <a href="../../../../external.html?link=https://phabricator.whonix.org/T910" rel="nofollow noopener">https://phabricator.whonix.org/T910</a> is the only major test for now that comes to mind that you’re already aware off. Everything else you seem to have covered already. <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>Ok, will test later</p>
<p>I’ll try to find out what’s happening with this EFI installation failure. More details on that later.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-25T15:08:54Z' class='post-time'>
                March 25, 2020,  3:08pm
              </time>
              <meta itemprop='dateModified' content='2020-03-25T15:16:50Z'>
          <span itemprop='position'>#205</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="203" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Don’t we create a sparse qcow2 image here? //cc <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
</blockquote>
</aside>
<p>Yes</p>
<p>Maybe the problem onion_knight ran into was caused by incorrect order of operations?</p>
<aside class="quote no-group" data-username="Patrick" data-post="203" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>And then don’t we copy the sparse qcow2 image as sparse qcow2 image into the Whonix-Host raw image?</p>
</blockquote>
</aside>
<p>Yes</p>
<aside class="quote no-group" data-username="Patrick" data-post="203" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>We convert qcow2 to qcow2? At what point that command says “use compression”?</p>
</blockquote>
</aside>
<p>Seems redundant. qcow2 does the optimal compression by default IIRC. I will read more.</p>
<p>EDIT:</p>
<p>We already do the best we can in the compression department.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../../external.html?link=https://s1.wp.com/i/favicon.ico" class="site-icon" width="32" height="32">
      <a href="../../../../external.html?link=https://rwmj.wordpress.com/2010/05/18/tip-compress-raw-disk-images-using-qcow2/" target="_blank" title="02:16PM - 18 May 2010">Richard WM Jones – 18 May 10</a>
  </header>
  <article class="onebox-body">
    <img src="../../../../external.html?link=https://s0.wp.com/i/blank.jpg" class="thumbnail onebox-avatar" width="200" height="200">

<h3><a href="../../../../external.html?link=https://rwmj.wordpress.com/2010/05/18/tip-compress-raw-disk-images-using-qcow2/" target="_blank">Tip: compress raw disk images using qcow2</a></h3>

<p>$ qemu-img convert -c -f raw -O qcow2 win.img winq.img $ ls -lh win* -rw-r–r–. 1 root root 10G May 18 14:34 win.img -rw-r–r–. 1 rjones rjones 6.5G May 18 14:59 winq.img Of c…</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<blockquote>
<p>Of course the degree of compression you get depends on the amount of zeroed free space in the image, and the amount by which qcow2 is able to compress the other blocks containing data.</p>
<p><a href="../../../../external.html?link=http://people.gnome.org/~markmc/qcow-image-format.html">qcow2 uses zlib for compression</a>, so the compression won’t be that spectacular. It’s better to keep the filesystems “sparse” in the first place, by ensuring unused disk blocks are zeroed.</p>
<p>For ext2/3 filesystems, Fedora ships a utility called <a href="../../../../external.html?link=http://intgat.tigress.co.uk/rmy/uml/sparsify.html">zerofree</a>, which you can either run inside the guest, or <a href="../../../../external.html?link=http://libguestfs.org/guestfish.1.html#zerofree">run offline from guestfish</a>. This turns unused filesystem blocks into zeroes, which will make outside compression eg with qcow2 much more efficient. For other filesystems, the usual trick is to create a large file of all zeroes until you fill up the free space, then delete it.</p>
</blockquote>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-25T18:51:11Z' class='post-time'>
                March 25, 2020,  6:51pm
              </time>
              <meta itemprop='dateModified' content='2020-03-25T20:07:55Z'>
          <span itemprop='position'>#206</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>As I said I don’t think it’s a compression issue, I think it is related to how Calamares “perceives” the gw/ws VM size when it <code>rsync</code> the ISO squashfs filesystem into the install target. When copying .qcow2 files created by <code>cp --sparse</code> it interprets their virtual 101G size as a real size, whereas when copying .qcow2 files obtained with <code>qemu-img convert</code>, it sticks to their actual size.</p>
<p>See also <code>ls</code> command output:</p>
<pre><code>user@host:~$ ls -lh Whonix-Gateway-15.0.1.0.7.qcow2 
-rw-r--r--  1 user user 101G Mar 22 18:30 Whonix-Gateway-15.0.1.0.7.qcow2
user@host:~$ cp --sparse=always Whonix-Gateway-15.0.1.0.7.qcow2 Whonix-Gateway-cp-sparse.qcow2     
user@host:~$ qemu-img convert -f qcow2 -O qcow2 Whonix-Gateway-15.0.1.0.7.qcow2 Whonix-Gateway-qemu-img.qcow2
user@host:~$ ls -lh Whonix-Gateway-*
-rw-r--r-- 1 user user 101G Mar 22 18:30 Whonix-Gateway-15.0.1.0.7.qcow2
-rw-r--r-- 1 user user 101G Mar 25 18:31 Whonix-Gateway-cp-sparse.qcow2
-rw-r--r-- 1 user user 2.5G Mar 25 18:32 Whonix-Gateway-qemu-img.qcow2</code></pre>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-26T21:24:27Z' class='post-time'>
                March 26, 2020,  9:24pm
              </time>
              <meta itemprop='dateModified' content='2020-03-26T21:24:27Z'>
          <span itemprop='position'>#207</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="203" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Awesome!</p>
<p>Packages: yes, please add here <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/blob/master/debian/control" rel="nofollow noopener">https://github.com/Whonix/anon-meta-packages/blob/master/debian/control</a></p>
</blockquote>
</aside>
<p>See pull request. Added packages as dependencies for whonix-host-xfce-kvm-freedom. Not sure it’s the right place to have them?<br>
<aside class="onebox githubpullrequest">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/pull/22" target="_blank" rel="nofollow noopener">github.com/Whonix/anon-meta-packages</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Pull Request">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 12 16" aria-hidden="true"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/pull/22" target="_blank" rel="nofollow noopener">Update control</a>
    </h4>

    <div class="branches">
      <code>Whonix:master</code> ← <code>onions-knight:patch-1</code>
    </div>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2020-03-26" data-time="20:52:28" data-timezone="UTC">08:52PM - 26 Mar 20 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/onions-knight" target="_blank" rel="nofollow noopener">
          <img alt="onions-knight" src="../../../../external.html?link=https://avatars2.githubusercontent.com/u/38859709?v=4" class="onebox-avatar-inline" width="20" height="20">
          onions-knight
        </a>
      </div>

      <div class="lines" title="1 commits changed 1 files with 1 additions and 0 deletions">
        <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/pull/22/files" target="_blank" rel="nofollow noopener">
          <span class="added">+1</span>
          <span class="removed">-0</span>
        </a>
      </div>
    </div>

  </div>
</div>
  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="203" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<blockquote>
<p>Don’t we create a sparse qcow2 image here? //cc <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a></p>
</blockquote>
<p>Yes</p>
<p>Maybe the problem onion_knight ran into was caused by incorrect order of operations?</p>
<blockquote>
<p>And then don’t we copy the sparse qcow2 image as sparse qcow2 image into the Whonix-Host raw image?</p>
</blockquote>
<p>Yes</p>
</blockquote>
</aside>
<p>It’s definitely weird, as during the build qcow2 images are actually created using <code>qemu-img convert</code><br>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/2400_convert-raw-to-qcow2#L37" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Whonix/Whonix/blob/master/build-steps.d/2400_convert-raw-to-qcow2#L37" target="_blank" rel="nofollow noopener">Whonix/Whonix/blob/master/build-steps.d/2400_convert-raw-to-qcow2#L37</a></h4>
<pre class="onebox"><code class="lang-d/2400_convert-raw-to-qcow2"><ol class="start lines" start="27" style="counter-reset: li-counter 26 ;">
<li>sudo $SUDO_OPTS mkdir --parents "$WHONIX_BINARY/"</li>
<li>
</li>
<li>## Debugging.</li>
<li>sudo $SUDO_OPTS \</li>
<li>   qemu-img \</li>
<li>      info \</li>
<li>         "$binary_image_raw"</li>
<li>
</li>
<li>## Create qcow2 image form raw image.</li>
<li>## VMSIZE defaults to 100G as per help-steps/variables.</li>
<li class="selected">sudo $SUDO_OPTS \</li>
<li>   qemu-img \</li>
<li>      convert \</li>
<li>         -p \</li>
<li>         -O qcow2 \</li>
<li>         -o cluster_size=2M \</li>
<li>         -o preallocation=metadata \</li>
<li>         "$binary_image_raw" \</li>
<li>         "$binary_image_qcow2"</li>
<li>
</li>
<li>## Debugging.</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>But this is an empiric observation that I already did in the past: when using <code>qemu-img convert</code> in Whonix script, size is kept at 101G (although it’s a virtual size). When using <code>qemu-img convert</code> manually outside the script on the same files, the resulting qcow2 images are shown as using their real size, i.e. approximately 2.5G. I don’t have an explanation for that. Tested again just now:</p>
<pre><code>user@host:~$ ls -lh Whonix-Gateway-XFCE-15.0.1.0.7.raw
-rw-r--r-- 1 user user 100G Mar 26 22:17 Whonix-Gateway-XFCE-15.0.1.0.7.raw
user@host:~$ qemu-img convert -f raw -O qcow2 Whonix-Gateway-XFCE-15.0.1.0.7.raw Whonix-Gateway-XFCE-15.0.1.0.7.test-qemu-img.qcow2
user@host:~$ ls -lh Whonix-Gateway-XFCE-15.0.1.0.7.*
-rw-r--r-- 1 user user 100G Mar 26 22:17 Whonix-Gateway-XFCE-15.0.1.0.7.raw
-rw-r--r-- 1 user user 2.5G Mar 26 22:20 Whonix-Gateway-XFCE-15.0.1.0.7.test-qemu-img.qcow2
</code></pre>
<aside class="quote no-group quote-modified" data-username="onion_knight" data-post="202" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<blockquote>
<p>Installed Whonix-Host GRUB menuentry is currently “Whonix GNU/Linux” -&gt; shouldn’t it be changed to “Whonix-Host GNU/Linux”? Same thing for <code>/etc/motd</code></p>
</blockquote>
<p>Should be doable. That, /etc/issue, /etc/motd could use a ticket.</p>
</blockquote>
</aside>
<p>Do you want me to create a ticket on phabricator?</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-27T08:18:08Z' class='post-time'>
                March 27, 2020,  8:18am
              </time>
              <meta itemprop='dateModified' content='2020-03-27T08:18:08Z'>
          <span itemprop='position'>#208</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>onion_knight via Whonix Forum:</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="203" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Awesome!</p>
<p>Packages: yes, please add here <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/blob/master/debian/control">https://github.com/Whonix/anon-meta-packages/blob/master/debian/control</a></p>
</blockquote>
</aside>
<p>See pull request.</p>
</blockquote>
<p>Merged.</p>
<blockquote>
<p>Added packages as dependencies for whonix-host-xfce-kvm-freedom. Not sure it’s the right place to have them?</p>
</blockquote>
<p>Not sure if perfect but good enough for now. Could be split into a<br>
different package later on that makes clear that it’s non-essential.<br>
Supposing these packages should only be there on an Whonix-Host XFCE<br>
build but not inside VMs.</p>
<blockquote>
<p>Do you want me to create a ticket on phabricator?</p>
</blockquote>
<p>Yes.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-27T08:27:10Z' class='post-time'>
                March 27, 2020,  8:27am
              </time>
              <meta itemprop='dateModified' content='2020-03-27T08:27:10Z'>
          <span itemprop='position'>#209</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/commit/2eef11e73d5892fd8e7262de1ef57d1cb703d37b" target="_blank">github.com/Whonix/anon-meta-packages</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/commit/2eef11e73d5892fd8e7262de1ef57d1cb703d37b" target="_blank">add 'grub-live | grub-live-boot | boot-live' to kicksecure-xfce</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2020-03-27" data-time="08:20:49" data-timezone="UTC">08:20AM - 27 Mar 20 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 1 additions and 0 deletions">
        <a href="../../../../external.html?link=https://github.com/Whonix/anon-meta-packages/commit/2eef11e73d5892fd8e7262de1ef57d1cb703d37b" target="_blank">
          <span class="added">+1</span>
          <span class="removed">-0</span>
        </a>
      </div>
    </div>

  </div>
</div>




  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>^ Kicksecure-Hosts and Whonix-Hosts will now have <a href="../../../../external.html?link=https://www.whonix.org/wiki/Grub-live">grub-live</a> installed by default. I.e. installed Whonix-Host should have the grub live boot menu entries.</p>
<hr>
<p>When booting the host for the first time it might be interesting to boot into <a href="../../../../external.html?link=https://www.whonix.org/wiki/Recovery#Recovery_Mode">recovery mode</a>. In Whonix VMs I could see that /home/user does not exist yet at that time (no pam mkhomedir run yet), which is expected. Might be interesting for installed Whonix-Host.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-27T11:46:11Z' class='post-time'>
                March 27, 2020, 11:46am
              </time>
              <meta itemprop='dateModified' content='2020-03-27T11:46:11Z'>
          <span itemprop='position'>#210</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Using qemu-img now instead of <code>cp --sparse=always</code> to hopefully fix sparse file issue.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/7cb5ca4e7f52de5cfd7557655fc05e629e565dd1" target="_blank">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/7cb5ca4e7f52de5cfd7557655fc05e629e565dd1" target="_blank">fix Whonix-Host sparse file handling for Whonix qcow2 images</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2020-03-27" data-time="11:41:56" data-timezone="UTC">11:41AM - 27 Mar 20 UTC</span>
      </div>

      <div class="user">
        <a href="../../../../external.html?link=https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="../../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
        
      </div>

      <div class="lines" title="changed 1 files with 18 additions and 2 deletions">
        <a href="../../../../external.html?link=https://github.com/Whonix/Whonix/commit/7cb5ca4e7f52de5cfd7557655fc05e629e565dd1" target="_blank">
          <span class="added">+18</span>
          <span class="removed">-2</span>
        </a>
      </div>
    </div>

  </div>
</div>


  <div class="github-row">
    <pre class="github-content" style="white-space: normal;">use qemu-img instead of cp --sparse=always
https://forums.whonix.org/t/whonix-host-operating-system/3931/202
Thanks to @onions-knight for the bug report and fix suggestion!</pre>
  </div>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>See TODO in commit above.</p>
<p>Should we use these qemu-img command line parameters?</p>
<ul>
<li>
<code>-p</code> - progress - that one shouldn’t hurt.</li>
<li><code>-o cluster_size=2M</code></li>
<li><code>-o preallocation=metadata</code></li>
</ul>
<p>Or would these cause the issue?</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="../39310b08.html?page=9">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="../39311c8b.html?page=11">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
