<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix host operating system - #302 by Patrick - Development - Whonix Forum</title>
    <meta name="description" content="There is already some discussion ongoing in the Whonix-Live mode thread but I guess a dedicated thread is more suitable. 
What would you consider important for an (official) Whonix host OS? 
Which OS should be used? 
Sim&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../39315760.html?page=15" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix host operating system&#39;" href="../3931.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-host-operating-system/3931/302" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-host-operating-system/3931/302" />
<meta property="og:title" content="Whonix host operating system" />
<meta name="twitter:title" content="Whonix host operating system" />
<meta property="og:description" content="Yay! üôÇ üôÇ üôÇ  Welcome back again and happy new year!   whonix-libvirt /usr/lib/whonix-libvirt/install is started by /lib/systemd/system/whonix-libvirt-install.service    That script creates a .done file:   /var/lib/whonix-libvirt/install.done   whonix-libvirt-install.service won‚Äôt run /usr/lib/whonix-libvirt/install again if the .done file exists.   ConditionPathExists=!/var/lib/whonix-libvirt/install.done   If you have suggestions on how to improve that plea..." />
<meta name="twitter:description" content="Yay! üôÇ üôÇ üôÇ  Welcome back again and happy new year!   whonix-libvirt /usr/lib/whonix-libvirt/install is started by /lib/systemd/system/whonix-libvirt-install.service    That script creates a .done file:   /var/lib/whonix-libvirt/install.done   whonix-libvirt-install.service won‚Äôt run /usr/lib/whonix-libvirt/install again if the .done file exists.   ConditionPathExists=!/var/lib/whonix-libvirt/install.done   If you have suggestions on how to improve that plea..." />
<meta property="article:published_time" content="2021-01-23T10:30:41+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="../3931a7f1.html?page=14">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../3931.html">Whonix host operating system</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../../tag/component_whonix-host.html' class='discourse-tag' rel="tag">component_whonix-host</a>, 
            <a href='../../../tag/status_open_issue_todo.html' class='discourse-tag' rel="tag">status_open_issue_todo</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-05-29T09:28:21Z' class='post-time'>
                May 29, 2020,  9:28am
              </time>
              <meta itemprop='dateModified' content='2020-05-29T09:28:21Z'>
          <span itemprop='position'>#288</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>A lot of progress has been done lately on the Whonix-Host project.</p>
<p>I think we are quite close to be release-ready, at least in beta state. I also thought a nice sum-up of what blockers/issues remain would be nice to set priorities <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p><strong>Whonix-Host to-do list as of May 29, 2020</strong><br>
We currently have 21 open issues on phabricator:<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/project/view/26/" class="onebox" target="_blank">https://phabricator.whonix.org/project/view/26/</a></p>
<p>Let‚Äôs break them down (subjective triage by myself):</p>
<p><strong>1. Severity: blocker</strong><br>
<em>needs to be addressed before official release</em></p>
<ul>
<li>
<p>anti-forensics / amnesia testing of Whonix-Host in Live mode<br>
*<a href="../../../../external.html?link=https://phabricator.whonix.org/T910">https://phabricator.whonix.org/T910</a><br>
<em>Note: this is a routine test that should be successful but that I was just too lazy to run. I will take care of it</em></p>
</li>
<li>
<p>Whonix Host Firewall for Whonix Host<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T942">https://phabricator.whonix.org/T942</a><br>
<em>Note: discussed here. Don‚Äôt know what remains to be done?</em><br>
<a href="../../whonix-host-firewall/9151.html" class="inline-onebox">Whonix-Host Firewall</a></p>
</li>
<li>
<p>instructions how to burn Whonix-Host ISO image to DVD or USB<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T969">https://phabricator.whonix.org/T969</a><br>
<em>Not sure if it‚Äôs technically a blocker, but should be ready for official release date. Work in progress</em></p>
</li>
<li>
<p>add Whonix-Host EFI booting support<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T978">https://phabricator.whonix.org/T978</a><br>
<em>EFI booting support for INSTALLED Whonix-Host still not working (works for ISO). No progress here. We should probably ask for upstream help (Calamares github?)</em></p>
</li>
<li>
<p>co-install grub-efi-amd64 and grub-pc by default on Whonix-Host ISO<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T979">https://phabricator.whonix.org/T979</a><br>
<em>Note: this is a blocker only if the possibility of installing Whonix-Host without Internet access is a requirement. Otherwise the correct grub version is downloaded by Calamares during installation</em></p>
</li>
</ul>
<p><strong>2. Severity: not a blocker</strong><br>
<em>small issue/might be implemented in a future release</em></p>
<ul>
<li>
<p>Packaging USBKill<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T552">https://phabricator.whonix.org/T552</a><br>
‚Äú<em>Its purpose is to trigger protection events that prevents adversaries from siphoning files/installing malware/running a mouse jiggler. It creates a USB whitelist of allowed devices of which anything else plugged into the machine causes it to erase its RAM and immediately shutdown. This can be adjusted to exclude all devices.</em>‚Äù</p>
</li>
<li>
<p>Package and test wiperam for Debian<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T901">https://phabricator.whonix.org/T901</a></p>
</li>
<li>
<p>disable removable drives auto-mounting - XFCE only<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T902">https://phabricator.whonix.org/T902</a></p>
</li>
<li>
<p>emergency shutdown on USB removal<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T905">https://phabricator.whonix.org/T905</a></p>
</li>
<li>
<p>encrypt Whonix-Host disk after first boot of Whonix-Host<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T906">https://phabricator.whonix.org/T906</a><br>
<em>Note: needed only when (and if) Whonix-Host without Calamares will be available</em></p>
</li>
<li>
<p>resize Whonix-Host disk at first boot of Whonix-Host<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T907">https://phabricator.whonix.org/T907</a><br>
<em>Note: needed only when (and if) Whonix-Host without Calamares will be available</em></p>
</li>
<li>
<p>installing Whonix-Host without installer (calamares)<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T909">https://phabricator.whonix.org/T909</a><br>
<em>Note: needed only when (and if) Whonix-Host without Calamares will be available</em></p>
</li>
<li>
<p>grub boot password<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T940">https://phabricator.whonix.org/T940</a></p>
</li>
<li>
<p>Whonix Images Quick Rebuild<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T974">https://phabricator.whonix.org/T974</a></p>
</li>
</ul>
<p><strong>3. Severity: unknown (needs triage)</strong><br>
<em>Maybe a blocker, maybe not, maybe a non-issue. Needs advising</em></p>
<ul>
<li>
<p>Clock Drift Detection<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T550">https://phabricator.whonix.org/T550</a></p>
</li>
<li>
<p>sdwdate connectivity check host support<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T915">https://phabricator.whonix.org/T915</a></p>
</li>
<li>
<p>Whonix-Host Tor configuration and anon-connection-wizard (ACW); ipv6 disable; ipv4 forward disable<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T981">https://phabricator.whonix.org/T981</a></p>
</li>
<li>
<p>connect to public Tor network by default<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T983">https://phabricator.whonix.org/T983</a></p>
</li>
</ul>
<p><strong>To sum-up, as of today, and pending decision on ‚Äúneed triage‚Äù issues, there are only 2 identified blocking issues:</strong></p>
<ul>
<li>Implementation of Whonix-Host firewall</li>
<li>Fixing EFI booting problem on installed Whonix-Host</li>
</ul>
<p>Alternatively, to speed things up, we could decide that the inability of installing Whonix-Host on a EFI machine is not a blocker (as the main innovation we offer is the ability to boot an GRUB/EFI ISO with Whonix VMs pre-installed and pre-configured).</p>
<p>Of course, many other issues will probably pop up once we will have more test time‚Ä¶</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>
          <meta itemprop='keywords' content='component_whonix-host, status_open_issue_todo'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-05-30T20:00:20Z' class='post-time'>
                May 30, 2020,  8:00pm
              </time>
              <meta itemprop='dateModified' content='2020-05-30T20:00:20Z'>
          <span itemprop='position'>#289</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><strong>1. Severity: blocker</strong><br>
<em>needs to be addressed before official release</em></p>
<ul>
<li>anti-forensics / amnesia testing of Whonix-Host in Live mode<br>
*<a href="../../../../external.html?link=https://phabricator.whonix.org/T910">https://phabricator.whonix.org/T910</a><br>
<em>Note: this is a routine test that should be successful but that I was just too lazy to run. I will take care of it</em>
</li>
</ul>
</blockquote>
</aside>
<p>Doesn‚Äôt need to be blocked. Forensics testing would be OK for beta.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Whonix Host Firewall for Whonix Host<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T942">https://phabricator.whonix.org/T942</a><br>
<em>Note: discussed here. Don‚Äôt know what remains to be done?</em><br>
<a href="../../whonix-host-firewall/9151.html">Whonix-Host Firewall</a></p>
</blockquote>
</aside>
<p>Blocker indeed. It needs to be developed.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>instructions how to burn Whonix-Host ISO image to DVD or USB<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T969">https://phabricator.whonix.org/T969</a><br>
<em>Not sure if it‚Äôs technically a blocker, but should be ready for official release date. Work in progress</em></p>
</blockquote>
</aside>
<p>Right.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>add Whonix-Host EFI booting support<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T978">https://phabricator.whonix.org/T978</a><br>
<em>EFI booting support for INSTALLED Whonix-Host still not working (works for ISO). No progress here. We should probably ask for upstream help (Calamares github?)</em></p>
</blockquote>
</aside>
<p>Yes, also does not need to be a blocker. In beta testing can be called a known issue. Perhaps by then we find out or someone else finds out.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>co-install grub-efi-amd64 and grub-pc by default on Whonix-Host ISO<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T979">https://phabricator.whonix.org/T979</a><br>
<em>Note: this is a blocker only if the possibility of installing Whonix-Host without Internet access is a requirement. Otherwise the correct grub version is downloaded by Calamares during installation</em></p>
</blockquote>
</aside>
<p>Same as above. As long as efi booting is broken, this is not too bad either.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><strong>2. Severity: not a blocker</strong></p>
</blockquote>
</aside>
<p>Indeed.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Whonix-Host Tor configuration and anon-connection-wizard (ACW); ipv6 disable; ipv4 forward disable<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T981">https://phabricator.whonix.org/T981</a></p>
</blockquote>
</aside>
<p>Actually blocker. Without Tor host config, sdwdate and apt is broken by default.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<ul>
<li>connect to public Tor network by default<br>
<a href="../../../../external.html?link=https://phabricator.whonix.org/T983">https://phabricator.whonix.org/T983</a>
</li>
</ul>
</blockquote>
</aside>
<p>Blocker since this needs to be documented.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Alternatively, to speed things up, we could decide that the inability of installing Whonix-Host on a EFI machine is not a blocker (as the main innovation we offer is the ability to boot an GRUB/EFI ISO with Whonix VMs pre-installed and pre-configured).</p>
</blockquote>
</aside>
<p>Yes.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-10-27T15:29:22Z' class='post-time'>
                October 27, 2020,  3:29pm
              </time>
              <meta itemprop='dateModified' content='2020-10-27T16:18:15Z'>
          <span itemprop='position'>#290</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Greetings!<br>
Coming back from a looooong pause‚Ä¶ <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
But still alive and willing to complete this project.</p>
<p>I just built Whonix-Host from source, from stable branch (15.0.1.3.4).</p>
<p><strong>Good news:</strong> what did work still works apparently (didn‚Äôt run extensive tests, but on the surface looks good):</p>
<ul>
<li>Boot ISO in BIOS mode: OK</li>
<li>Boot ISO in EFI mode: OK</li>
<li>Run VM machines in ISO live mode: OK</li>
<li>Install in BIOS mode: OK</li>
<li>Run VM machines in host persistent (post-installation) mode: OK</li>
</ul>
<p><strong>"Bad" news</strong> (but expected): what didn‚Äôt work, still doesn‚Äôt work:</p>
<ul>
<li>Whonix-Host (post-installation) fails to boot in EFI, although installation reports no error</li>
<li>Whonix-Host Firewall and Whonix-Host Tor configuration and anon-connection-wizard are still not implemented (as far as I know)</li>
</ul>
<p>I have no idea how to work out the Firewall and Tor configuration issues. I hoped someone more knowledgeable would take up the challenge <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Meanwhile, I will try to solve the EFI issue. I will contact the debian-live team on Gitlab, see if they can help. I will post the link here once it‚Äôs posted.<br>
EDIT: I cannot post any issue there, only pull requests.</p>
<p>In the meantime, if we want the EFI installation to work, we must add the modules<br>
<code>sources-media</code><br>
and<br>
<code>sources-media-unmount</code><br>
in <code>/etc/calamares/settings.conf</code> otherwise it will fail to download the package <code>grub-efi-amd64</code> during the installation process and the installation will abort.<br>
See pull request: <a href="../../../../external.html?link=https://github.com/Whonix/live-config-dist/pull/4">https://github.com/Whonix/live-config-dist/pull/4</a></p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-10-27T16:29:32Z' class='post-time'>
                October 27, 2020,  4:29pm
              </time>
              <meta itemprop='dateModified' content='2020-10-27T16:29:32Z'>
          <span itemprop='position'>#291</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Welcome back! We missed you around here <img src="../../../images/emoji/twitter/smileyc164.png?v=9" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>Yeah <code>grub-efi</code> is definitely a hard dep AFAICT.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-10-27T17:03:58Z' class='post-time'>
                October 27, 2020,  5:03pm
              </time>
              <meta itemprop='dateModified' content='2020-10-27T17:03:58Z'>
          <span itemprop='position'>#292</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yay! <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Welcome back!</p>
<p>Whonix-Host Firewall is rather difficult to invent. -&gt; <a href="../../whonix-host-firewall/9151.html" class="inline-onebox">Whonix-Host Firewall</a></p>
<p>Maybe now after working on other things I‚Äôll have new inspiration.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="290" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>I will contact the debian-live team on Gitlab, see if they can help. I will post the link here once it‚Äôs posted.<br>
EDIT: I cannot post any issue there, only pull requests.</p>
</blockquote>
</aside>
<p>They use mailing lists.</p>
<p><a href="../../../../external.html?link=https://lists.debian.org/debian-live/" class="onebox" target="_blank">https://lists.debian.org/debian-live/</a></p>
<aside class="quote no-group" data-username="onion_knight" data-post="290" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>n the meantime, if we want the EFI installation to work, we must add the modules<br>
<code>sources-media</code><br>
and<br>
<code>sources-media-unmount</code><br>
in <code>/etc/calamares/settings.conf</code> otherwise it will fail to download the package <code>grub-efi-amd64</code> during the installation process and the installation will abort.<br>
See pull request: <a href="../../../../external.html?link=https://github.com/Whonix/live-config-dist/pull/4">https://github.com/Whonix/live-config-dist/pull/4</a></p>
</blockquote>
</aside>
<p>Merged. Now included in <code>15.0.1.5.2-developers-only</code>.</p>
<p>A bit non-ideal to download during installation but we can perfect that later (somehow cache the package during build process).</p>
<p>EFI booting might be broken because of this. In a VM with grub-pc installed:</p>
<pre><code>sudo apt install grub-efi-amd64
</code></pre>
<blockquote>
<p>The following NEW packages will be installed:<br>
efibootmgr grub-efi-amd64 grub-efi-amd64-bin grub-efi-amd64-signed mokutil shim-helpers-amd64-signed shim-signed shim-signed-common<br>
shim-unsigned</p>
</blockquote>
<p>Most of these packages seem to be <code>Recommends:</code>.</p>
<p>When using</p>
<pre><code>sudo apt install grub-efi-amd64 --no-install-recommends
</code></pre>
<blockquote>
<p>The following NEW packages will be installed:<br>
grub-efi-amd64 grub-efi-amd64-bin</p>
</blockquote>
<p>These <code>Recommends:</code> in Debian packaging terms might actually be required for successful EFI booting.</p>
<p>Since Whonix source code doesn‚Äôt mention <code>grub-efi</code> or other packages in the build script or in anon-meta-packages, I guess that could be why EFI booting is broken.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-10-27T23:35:33Z' class='post-time'>
                October 27, 2020, 11:35pm
              </time>
              <meta itemprop='dateModified' content='2020-10-27T23:35:33Z'>
          <span itemprop='position'>#293</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank for the warm welcoming back <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote no-group" data-username="Patrick" data-post="292" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Since Whonix source code doesn‚Äôt mention <code>grub-efi</code> or other packages in the build script or in anon-meta-packages, I guess that could be why EFI booting is broken.</p>
</blockquote>
</aside>
<p>Great suggestion.<br>
I installed<code> grub-efi-amd64-bin</code> (wouldn‚Äôt allow me to install <code>grub-efi-amd64</code>) and all its dependencies (7 additional packages, forgot to write down which ones exactly‚Ä¶) in the Host raw file and reburnt the ISO.</p>
<p>Still stuck at ‚ÄúMinimal BASH-like editing‚Ä¶‚Äù / ‚Äúgrub&gt;‚Äù prompt after installation.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-10-27T23:39:53Z' class='post-time'>
                October 27, 2020, 11:39pm
              </time>
              <meta itemprop='dateModified' content='2020-10-27T23:39:53Z'>
          <span itemprop='position'>#294</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>It‚Äôs something really small and stupid that is messing (missing?) somewhere. We will eventually find out.</p>
<p>Installation works, and the Host EFI installed machine actually boots into GRUB if repaired using grub&gt; commands or if it is booted with the ISO still in (I know, strange. Same behavior last time I checked in May).</p>
<p>Of course, all these tests are performed in QEMU/KVM (virt-manager) for now, but if it doesn‚Äôt work here at this level it won‚Äôt work on real hardware.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-11-02T02:56:57Z' class='post-time'>
                November 2, 2020,  2:56am
              </time>
              <meta itemprop='dateModified' content='2020-11-02T02:56:57Z'>
          <span itemprop='position'>#295</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>New functionality added for overlayfs may be useful for live mode:</p>
<p><a href="../../../../external.html?link=https://www.phoronix.com/scan.php?page=news_item&amp;px=OverlayFS-Linux-5.10" class="onebox" target="_blank">https://www.phoronix.com/scan.php?page=news_item&amp;px=OverlayFS-Linux-5.10</a></p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-22T14:33:09Z' class='post-time'>
                January 22, 2021,  2:33pm
              </time>
              <meta itemprop='dateModified' content='2021-01-22T14:33:09Z'>
          <span itemprop='position'>#296</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hello and happy new year!<br>
GOOD NEWS for EFI install mode! <img src="../../../images/emoji/twitter/grinningc164.png?v=9" title=":grinning:" class="emoji" alt=":grinning:"><br>
I think I have FINALLY found the culprit!</p>
<p>-&gt; Just tried it with version 15.0.1.5.4 (built myself).</p>
<p>It appears that unless specified otherwise, Calamares installation in EFI mode creates a directory on the EFI partition using the default branding name, i.e. in our case ‚ÄúWhonix-Host‚Äù:</p>
<pre><code>user@host:/mnt$ ls -lR
.:
total 4
drwxr-xr-x 4 root root 4096 Jan 22 14:05 EFI

./EFI:
total 8
drwxr-xr-x 2 root root 4096 Jan 22 14:05 boot
drwxr-xr-x 2 root root 4096 Jan 22 14:05 Whonix-Host

./EFI/boot:
total 0

./EFI/Whonix-Host:
total 5212
-rwxr-xr-x 1 root root     108 Jan 22 14:05 BOOTX64.CSV
-rwxr-xr-x 1 root root 1206824 Jan 22 14:05 fbx64.efi
-rwxr-xr-x 1 root root     209 Jan 22 14:05 grub.cfg
-rwxr-xr-x 1 root root 1533296 Jan 22 14:05 grubx64.efi
-rwxr-xr-x 1 root root 1261192 Jan 22 14:05 mmx64.efi
-rwxr-xr-x 1 root root 1322936 Jan 22 14:05 shimx64.ef
</code></pre>
<p>But for some reason, the installed machine is unable to boot if the directory containing the bootloader files is not named ‚ÄúDebian‚Äù.</p>
<p>It seems to be an obscure bug on which few  relevant information is readily available online.</p>
<p>-&gt; renaming /EFI/Whonix-Host into /EFI/Debian solves the problem.</p>
<p>I will upload a pull request on gitlab in a few moments.</p>
<p>Apart from that, didn‚Äôt run extensive tries, but everything else seemed to work as expected.</p>
<p>All tested on KVM so far (not on real hardware).</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-22T14:54:14Z' class='post-time'>
                January 22, 2021,  2:54pm
              </time>
              <meta itemprop='dateModified' content='2021-01-22T14:54:14Z'>
          <span itemprop='position'>#297</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../../external.html?link=https://gitlab.com/assets/favicon-7901bd695fb93edb07975966062049829afb56cf11511236e61bcf425070e36e.png" class="site-icon" width="16" height="16">
      <a href="../../../../external.html?link=https://gitlab.com/whonix/live-config-dist/-/merge_requests/1/commits" target="_blank" rel="noopener">GitLab</a>
  </header>
  <article class="onebox-body">
    <img src="../../../../external.html?link=https://assets.gitlab-static.net/assets/gitlab_logo-7ae504fe4f68fdebb3c2034e36621930cd36ea87924c11ff65dbcb8ed50dca58.png" class="thumbnail onebox-avatar" width="128" height="128">

<h3><a href="../../../../external.html?link=https://gitlab.com/whonix/live-config-dist/-/merge_requests/1/commits" target="_blank" rel="noopener">Add new file bootloader.conf. Default debian calamares file, with line... (!1)...</a></h3>

<p>Add new file bootloader.conf. Default debian calamares file, with line "efiBootloaderId:" uncommented and added "Debian" to solve ‚ÄúMinimal BASH-like editing‚Ä¶‚Äù / ‚Äúgrub&gt;‚Äù at boot. See</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-22T15:49:46Z' class='post-time'>
                January 22, 2021,  3:49pm
              </time>
              <meta itemprop='dateModified' content='2021-01-22T15:49:46Z'>
          <span itemprop='position'>#298</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="onion_knight" data-post="296" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Hello and happy new year!</p>
</blockquote>
</aside>
<p>Happy New Year to you too. I always love the moments of epiphany when finally hunting down an annoying bug. This is great progress <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-22T18:23:19Z' class='post-time'>
                January 22, 2021,  6:23pm
              </time>
              <meta itemprop='dateModified' content='2021-01-22T18:30:35Z'>
          <span itemprop='position'>#299</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes, exactly. I wasn‚Äôt very actively working on it for months, and decided to give it a try with a fresh head. Then I tried to change the name of this directory and bingo! <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>I am currently testing (and writing this post) using Whonix-Workstation on Whonix-Host installed on real hardware (high capacity USB stick)! Works fine.</p>
<p>Only thing, had to change back the domain name from qemu to kvm, as it was set to qemu for testing purposes in KVM (for nested virtualization). Just a reminder that we need to it back in the release candidate. Otherwise the VMs are unbearably slow.</p>
<p>See post 237 by <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a>:</p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="242" data-topic="3931" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>HulaHoop via Whonix Forum:</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="239" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>What about re-adding minimal QEMU support? Would be useful during development. Then one could try Whonix-Host inside VirtualBox or any other virtualizer.</p>
</blockquote>
</aside>
<p>OK will work on resurrecting it. Any suggestion where you want the config templates?</p>
</blockquote>
<p>Great! Maybe no separate xml files. Just what kind of modifications are<br>
required / suggested. If that seems as a workable appraoch.</p>
<p>If <code>sudo virsh capabilities</code> does not contain <code>&lt;domain type='kvm'&gt;</code> then<br>
the xml files are currently in git master copied to a temporary location<br>
and patched before import. For now it‚Äôs just two replacements.</p>
<pre><code class="lang-auto">   search="&lt;domain type='kvm'&gt;"
   replace="&lt;domain type='qemu'&gt;"

   search="&lt;cpu mode='host-passthrough'/&gt;"
   replace=""
</code></pre>
<p>Implemented here:</p>
<p><a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install">https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install </a></p>
</blockquote>
</aside>
<p>EDIT: I see that per <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/b77262fd318432745cc12b4da8f0f08915726771">https://github.com/Whonix/whonix-libvirt/commit/b77262fd318432745cc12b4da8f0f08915726771</a> there should be a check during the first installed Host boot for kvm capabilities (If I understand correctly). As I used KVM with virt-manager to install Whonix-Host on the USB stick (easier to debug), that might explain why the VMs xml files were set to qemu on first boot (also in KVM). I should try to run the entire installation process on real hardware to see if kvm domain is correctly set. Then we wouldn‚Äôt need to change anything.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/onion_knight'><span itemprop='name'>onion_knight</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-22T18:26:15Z' class='post-time'>
                January 22, 2021,  6:26pm
              </time>
              <meta itemprop='dateModified' content='2021-01-22T18:26:15Z'>
          <span itemprop='position'>#300</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>So now as per our roadmap we ‚Äúonly‚Äù lack Whonix-Host Firewall. Whonix-Host Tor configuration and anon-connection-wizard and we are good to go.</p>
<p>Any news on the development of these features? How can it be helped?</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-23T06:43:38Z' class='post-time'>
                January 23, 2021,  6:43am
              </time>
              <meta itemprop='dateModified' content='2021-01-23T06:43:38Z'>
          <span itemprop='position'>#301</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../../external.html?link=https://gitlab.com/assets/favicon-7901bd695fb93edb07975966062049829afb56cf11511236e61bcf425070e36e.png" class="site-icon" width="16" height="16">
      <a href="../../../../external.html?link=https://gitlab.com/whonix/live-config-dist/-/merge_requests/1/commits" target="_blank" rel="noopener">GitLab</a>
  </header>
  <article class="onebox-body">
    <img src="../../../../external.html?link=https://assets.gitlab-static.net/assets/gitlab_logo-7ae504fe4f68fdebb3c2034e36621930cd36ea87924c11ff65dbcb8ed50dca58.png" class="thumbnail onebox-avatar" width="128" height="128">

<h3><a href="../../../../external.html?link=https://gitlab.com/whonix/live-config-dist/-/merge_requests/1/commits" target="_blank" rel="noopener">Add new file bootloader.conf. Default debian calamares file, with line... (!1)...</a></h3>

<p>Add new file bootloader.conf. Default debian calamares file, with line "efiBootloaderId:" uncommented and added "Debian" to solve ‚ÄúMinimal BASH-like editing‚Ä¶‚Äù / ‚Äúgrub&gt;‚Äù at boot. See</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-23T10:30:41Z' class='post-time'>
                January 23, 2021, 10:30am
              </time>
              <meta itemprop='dateModified' content='2021-01-23T10:30:41Z'>
          <span itemprop='position'>#302</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yay! <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> <img src="../../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Welcome back again and happy new year!</p>
<aside class="quote no-group" data-username="onion_knight" data-post="299" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>EDIT: I see that per <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/commit/b77262fd318432745cc12b4da8f0f08915726771">https://github.com/Whonix/whonix-libvirt/commit/b77262fd318432745cc12b4da8f0f08915726771</a> there should be a check during the first installed Host boot for kvm capabilities (If I understand correctly).</p>
</blockquote>
</aside>
<p>whonix-libvirt <code>/usr/lib/whonix-libvirt/install</code> is started by <code>/lib/systemd/system/whonix-libvirt-install.service</code></p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install" target="_blank" rel="noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install" target="_blank" rel="noopener">Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install</a></h4>
<pre><code class="lang-">#!/bin/bash

## Copyright (C) 2019 - 2020 ENCRYPTED SUPPORT LP &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

set -x
set -e

## {{ Taken from qemu-system-common.postinst.
# Add the kvm group unless it's already there
if ! getent group kvm &gt;/dev/null; then
   addgroup --quiet --system kvm || true
fi
## }} Taken from qemu-system-common.postinst.

## {{ Taken from libvirt-bin.postinst.
if ! getent group libvirt &gt;/dev/null; then
   addgroup --system libvirt
fi
## }} Taken from libvirt-bin.postinst.
</code></pre>

  This file has been truncated. <a href="../../../../external.html?link=https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install" target="_blank" rel="noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>That script creates a <code>.done</code> file:</p>
<blockquote>
<p>/var/lib/whonix-libvirt/install.done</p>
</blockquote>
<p><code>whonix-libvirt-install.service</code> won‚Äôt run <code>/usr/lib/whonix-libvirt/install</code> again if the <code>.done</code> file exists.</p>
<blockquote>
<p>ConditionPathExists=!/var/lib/whonix-libvirt/install.done</p>
</blockquote>
<p>If you have suggestions on how to improve that please let me know. Would be good to support this use case somehow. Why not. Installation of Whonix-Host in a VM on USB can be a good idea how beginners/testers since that guarantees really installation to USB. Internal boot disk which the user currently booted from remains unchanged. We also need to keep things comfortable for developers/testers.</p>
<p>([X] There is also a use case of sometimes running an operating system from hardware and sometimes inside a VM. Suppose you just made a full <code>dd</code> backup and now want to try if the backup is functional. Assign the USB drive to a VM and boot it.)</p>
<p>What would be a sane way to implement this? At every boot iterate over all installed libvirt XLM‚Äôs (multiple gateway‚Äôs, workstation‚Äôs) and change back/forth from qemu to kvm? That seems surprising / intrusive? Users who set up some non-Whonix VM to qemu to notice that these where just changed to kvm after reboot.</p>
<p>A bit hard to script. kvm to qemu includes ‚Äúremove <code>&lt;pvspinlock state='on'/&gt;</code> from XML file‚Äù but qemu to kvm would mean "re-add <code>&lt;pvspinlock state='on'/&gt;</code>". Re-adding is more difficult because it needs to be added in the correct position.</p>
<p>XML files don‚Äôt support comments so comment in/out isn‚Äôt possible either.</p>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../../external.html?link=https://unix.stackexchange.com/questions/148163/is-it-possible-to-use-comments-in-virsh-libvirt-xml-files" target="_blank" rel="noopener">unix.stackexchange.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../../external.html?link=https://unix.stackexchange.com/users/49297/adrelanos" target="_blank" rel="noopener">
    <img alt="adrelanos" src="../../../../external.html?link=https://www.gravatar.com/avatar/83f6805262f0dcc117814487c5b2d1c4?s=128&amp;d=identicon&amp;r=PG" class="thumbnail onebox-avatar" width="60" height="60">
  </a>
<h4>
  <a href="../../../../external.html?link=https://unix.stackexchange.com/questions/148163/is-it-possible-to-use-comments-in-virsh-libvirt-xml-files" target="_blank" rel="noopener">Is it possible to use comments in virsh / libvirt xml files?</a>
</h4>

<div class="tags">
  <strong>libvirt, virsh</strong>
</div>

<div class="date">
  asked by
  
  <a href="../../../../external.html?link=https://unix.stackexchange.com/users/49297/adrelanos" target="_blank" rel="noopener">
    adrelanos
  </a>
  on <a href="../../../../external.html?link=https://unix.stackexchange.com/questions/148163/is-it-possible-to-use-comments-in-virsh-libvirt-xml-files" target="_blank" rel="noopener">05:37PM - 03 Aug 14 UTC</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Neither we should delete the user‚Äôs local version in /etc/ and copy over the original from /usr/share because then user modifications would be lost.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="300" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>So now as per our roadmap we ‚Äúonly‚Äù lack Whonix-Host Firewall. Whonix-Host Tor configuration and anon-connection-wizard and we are good to go.</p>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="300" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Any news on the development of these features?</p>
</blockquote>
</aside>
<p>Unfortunately not.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="300" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>How can it be helped?</p>
</blockquote>
</aside>
<p>If anyone could implement any of that, that would help.</p>
<p>As for <a href="../../whonix-host-firewall/9151.html" class="inline-onebox">Whonix-Host Firewall</a> I never got any idea how to filter traffic by ‚ÄúVM name‚Äù. Simplified: How do we allow Whonix-Gateway to use the internet but prohibit everyone else?</p>
<p>Ideally the user could configure a list of VM names which have networking permitted. The default list would only include <code>Whonix-Gateway</code>.</p>
<p>More advanced:</p>
<ul>
<li>allow Whonix-Gateway (default)</li>
<li>allow Whonix-Gateway 2 (custom, multiple Whonix-Gateway)</li>
<li>allow Kicksecure VM</li>
<li>allow <code>debian-tor</code> user (host operating system Tor process)</li>
</ul>
<p>After the simplified question is solved, implementing the advanced stuff might actually be easy.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-02-02T10:32:30Z' class='post-time'>
                February 2, 2021, 10:32am
              </time>
              <meta itemprop='dateModified' content='2021-02-02T10:32:30Z'>
          <span itemprop='position'>#303</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I now have an idea how to write the host firewall‚Ä¶ Looking at network interfaces before/after installation of KVM and then white listing the new device.</p>
<hr>
<p>Could you please make SecureBoot work as well? <a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/onion_knight">@onion_knight</a>  I.e. ‚Äújust‚Äù as good as Debian has it.</p>
<p>Purpose: Usability. Boot compatibility. Let users where SecureBoot is enabled by default boot while SecureBoot stays enabled. Not require them to disable SecureBoot in the BIOS.</p>
<p>Non-purpose: Security.</p>
<p>Related:</p>
<aside class="quote quote-modified" data-post="1" data-topic="7894">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="../../enable-linux-kernel-gpg-verification-in-grub-and-or-enable-secure-boot-by-default/7894.html">enable Linux kernel gpg verification in grub and/or enable Secure Boot by default</a> <a class="badge-wrapper  bullet" href="../../../c/development/8.html"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Since we are going for <a href="../../enforce-kernel-module-software-signature-verification-module-signing-disallow-kernel-module-loading-by-default/7880.html" class="inline-onebox">enforce kernel module software signature verification [module signing] / disallow kernel module loading by default</a>, should we also work towards enable Linux kernel gpg verification in grub and/or enable Secure Boot by default? 
Looks doable in principle. 

KVM: supports both EFI boot and Secure Boot. 
On <a href="../../../../external.html?link=https://blog.heckel.io/2018/08/06/booting-image-files-and-isos-with-kvm-qemu-efi-and-bios/">https://blog.heckel.io/2018/08/06/booting-image-files-and-isos-with-kvm-qemu-efi-and-bios/</a> see 2. Booting image files with KVM (EFI) 
The <a href="../../../../external.html?link=https://packages.debian.org/buster/ovmf">https://packages.debian.org/buste‚Ä¶</a>
  </blockquote>
</aside>

        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-07-06T16:38:40Z' class='post-time'>
                July 6, 2021,  4:38pm
              </time>
              <meta itemprop='dateModified' content='2021-07-06T16:38:40Z'>
          <span itemprop='position'>#304</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Changes to EFI boot with Debian Bullseye, might affect how we do things:</p>
<p><a href="../../../../external.html?link=https://michael-prokop.at/blog/2021/06/09/efivars-is-gone-with-debian-bullseye-newinbullseye/" class="onebox" target="_blank" rel="noopener">https://michael-prokop.at/blog/2021/06/09/efivars-is-gone-with-debian-bullseye-newinbullseye/</a></p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/tempest'><span itemprop='name'>tempest</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-08-11T13:36:24Z' class='post-time'>
                August 11, 2021,  1:36pm
              </time>
              <meta itemprop='dateModified' content='2021-08-11T13:36:24Z'>
          <span itemprop='position'>#305</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>does the host firewall need to be an issue here?  currently, on numerous other implementations of whonix, no such firewall configs are used. would a solution be to have the typical ‚Äúall incoming ports‚Äù disabled with the standard disclaimer that the host itself should not be used for standard workstation activities?</p>
<p>as a side note, i don‚Äôt think restricting network traffic to the gateway will work. it would prevent system updates on the host os. so, there is going to need to be an allowance for some host network activity.</p>
<p>i‚Äôm very glad to hear that progress is still being made here. but, if it‚Äôs near done, i‚Äôm not sure the lack of a perfect custom firewall should block release.</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-08-11T15:21:10Z' class='post-time'>
                August 11, 2021,  3:21pm
              </time>
              <meta itemprop='dateModified' content='2021-08-11T15:21:10Z'>
          <span itemprop='position'>#306</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="tempest" data-post="305" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tempest/40/2451_2.jpg" class="avatar"> tempest:</div>
<blockquote>
<p>would a solution be to have the typical ‚Äúall incoming ports‚Äù disabled with the standard disclaimer that the host itself should not be used for standard workstation activities?</p>
</blockquote>
</aside>
<p>That has potential to generate a bad reputation.</p>
<aside class="quote no-group" data-username="tempest" data-post="305" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tempest/40/2451_2.jpg" class="avatar"> tempest:</div>
<blockquote>
<p>so, there is going to need to be an allowance for some host network activity.</p>
</blockquote>
</aside>
<p>For sure.</p>
<p>Implementing a host user <code>clearnet</code> is simple. (Similar to Whonix-Gateway user <code>clearnet</code>.) White listing VM traffic is a lot harder.</p>
<aside class="quote no-group" data-username="tempest" data-post="305" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/tempest/40/2451_2.jpg" class="avatar"> tempest:</div>
<blockquote>
<p>i‚Äôm not sure the lack of a perfect custom firewall should block release.</p>
</blockquote>
</aside>
<p>There‚Äôs a lot more todo.</p>
<p><a href="../../../search45ca.html?q=%23status_open_issue_todo%20%23component_whonix-host%20%20tag:component_whonix-host">https://forums.whonix.org/search?q=%23status_open_issue_todo%20%23component_whonix-host%20%20tag:component_whonix-host</a></p>
<p><a href="../../../../external.html?link=https://phabricator.whonix.org/project/view/26/" class="onebox" target="_blank" rel="noopener">https://phabricator.whonix.org/project/view/26/</a></p>
<p>Not all has to be done but essentials seems to be EFI boot support, SecureBoot support, Anon Connection Wizard host support, an installer ISO that works for both EFI and non-EFI booting (<a href="../../../../external.html?link=https://phabricator.whonix.org/T979" class="inline-onebox">‚öì T979 co-install grub-efi-amd64 and grub-pc by default on Whonix-Host ISO</a>).</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/tempest'><span itemprop='name'>tempest</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../3931.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-08-26T03:05:54Z' class='post-time'>
                August 26, 2021,  3:05am
              </time>
              <meta itemprop='dateModified' content='2021-08-26T03:30:43Z'>
          <span itemprop='position'>#307</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="306" data-topic="3931" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Implementing a host user <code>clearnet</code> is simple. (Similar to Whonix-Gateway user <code>clearnet</code>.) White listing VM traffic is a lot harder.</p>
</blockquote>
</aside>
<p>maybe not? since whonix host will be using kvm, all that traffic should be owned by user ‚Äúlibvirt-qemu.‚Äù it‚Äôs not as perfect as filtering by vm name. but, it‚Äôs a start and narrows traffic down a little bit.</p>
<p>or, here‚Äôs another idea, what about filtering by source ip? for example, the whonix gateway in the kvm version has the local ip address on the host of 10.0.2.2. could this not effectively serve as a ‚Äúvirtual machine name‚Äù in implementation?</p>
        </div>

        <meta itemprop='headline' content='Whonix host operating system'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="../3931a7f1.html?page=14">‚Üê previous page</a></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
