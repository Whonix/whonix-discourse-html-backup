<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix host operating system</title>
    <link>http://forums.whonix.org/t/whonix-host-operating-system/3931</link>
    <description>There is already some discussion ongoing in the Whonix-Live mode thread but I guess a dedicated thread is more suitable.

What would you consider important for an (official) Whonix host OS?

Which OS should be used? 
Similar to @Hexagon I would also suggest something debian based. Linux Mint is said to be the most user friendly for linux newbies but as far as I know the security track is not good.
However, Debian is usually not that up to date so it might not run on the latest and greatest hardware. Maybe using backports and tracking the vanilla kernel could help to some extend. 
I think Fedora is more up to date but hence it also is more volatile and changes happen more often. Practically I don&#39;t have much experiences with it.
There is already qubes-whonix and I would like to use Qubes but (in particular with the upcoming 4.0 version) hardware support will be even more of a problem.

UEFI and graphics drivers are the biggest issues I can think of and then maybe other drivers for ethernet, wifi ... .
Tails and Knoppix work on most hardware I have so installing the same packages would probably solve most problems with drivers

Most stuff should happen in VMs.
For general usability maybe network manager and a browser for captive portals would be useful. This could maybe also be implemented in a VM; starts to look like Qubes then ...

Full disk encryption should be mandatory. For this you either need an installer/tutorial or make an already encrypted image available with some setup utility where the user changes the master key and password, expands the image to fill the disk ...

In general I think a hd image which is just transferred to an USB stick or normal hard drive would be the most useful. The advantage for the end user would be a rather easy setup (except maybe FDE) and using a host which does not spy on the user.
Disadvantages would be the need to download a likely big image, customization will be harder (not a disadvantage regarding anonymity), driver problems (but could be the same if you install manually), a higher workload for the devs.</description>
    <language>en</language>
    <lastBuildDate>Thu, 08 Dec 2022 16:22:01 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote quote-modified" data-post="1" data-topic="16094">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/g/96bed5/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/whonixs-host-naming/16094">Whonix's Host naming</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development/8"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of components looking for maintainer)">Development</span></a>
  </div>
  <blockquote>
    I am not good at names but Whonix-Host is not good. 
All Whonix-Hosts are Whonix’s host, but not the opposite. 
Many other OSes can be a Whonix’s host. 
When you are reading for a long time, it is easy to not get the point that Whonix-Host is meant to be an OS developed to be a Whonix’s host, not any other disribution with different purposes. 
When talking about Whonix OSes, there are two deployed as of now, Gateway and Workstation. Gateway could be named proxy, but Gateway is a much better name…
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/308">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/308</link>
        <pubDate>Thu, 08 Dec 2022 16:22:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-308</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[tempest]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="306" data-topic="3931" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Implementing a host user <code>clearnet</code> is simple. (Similar to Whonix-Gateway user <code>clearnet</code>.) White listing VM traffic is a lot harder.</p>
</blockquote>
</aside>
<p>maybe not? since whonix host will be using kvm, all that traffic should be owned by user “libvirt-qemu.” it’s not as perfect as filtering by vm name. but, it’s a start and narrows traffic down a little bit.</p>
<p>or, here’s another idea, what about filtering by source ip? for example, the whonix gateway in the kvm version has the local ip address on the host of 10.0.2.2. could this not effectively serve as a “virtual machine name” in implementation?</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/307">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/307</link>
        <pubDate>Thu, 26 Aug 2021 03:05:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-307</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="tempest" data-post="305" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/tempest/40/2451_2.png" class="avatar"> tempest:</div>
<blockquote>
<p>would a solution be to have the typical “all incoming ports” disabled with the standard disclaimer that the host itself should not be used for standard workstation activities?</p>
</blockquote>
</aside>
<p>That has potential to generate a bad reputation.</p>
<aside class="quote no-group" data-username="tempest" data-post="305" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/tempest/40/2451_2.png" class="avatar"> tempest:</div>
<blockquote>
<p>so, there is going to need to be an allowance for some host network activity.</p>
</blockquote>
</aside>
<p>For sure.</p>
<p>Implementing a host user <code>clearnet</code> is simple. (Similar to Whonix-Gateway user <code>clearnet</code>.) White listing VM traffic is a lot harder.</p>
<aside class="quote no-group" data-username="tempest" data-post="305" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/tempest/40/2451_2.png" class="avatar"> tempest:</div>
<blockquote>
<p>i’m not sure the lack of a perfect custom firewall should block release.</p>
</blockquote>
</aside>
<p>There’s a lot more todo.</p>
<p><a href="https://forums.whonix.org/search?q=%23status_open_issue_todo%20%23component_whonix-host%20%20tag:component_whonix-host">https://forums.whonix.org/search?q=%23status_open_issue_todo%20%23component_whonix-host%20%20tag:component_whonix-host</a></p>
<p><a href="https://phabricator.whonix.org/project/view/26/" class="onebox" target="_blank" rel="noopener">https://phabricator.whonix.org/project/view/26/</a></p>
<p>Not all has to be done but essentials seems to be EFI boot support, SecureBoot support, Anon Connection Wizard host support, an installer ISO that works for both EFI and non-EFI booting (<a href="https://phabricator.whonix.org/T979" class="inline-onebox">⚓ T979 co-install grub-efi-amd64 and grub-pc by default on Whonix-Host ISO</a>).</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/306">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/306</link>
        <pubDate>Wed, 11 Aug 2021 15:21:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-306</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[tempest]]></dc:creator>
        <description><![CDATA[
            <p>does the host firewall need to be an issue here?  currently, on numerous other implementations of whonix, no such firewall configs are used. would a solution be to have the typical “all incoming ports” disabled with the standard disclaimer that the host itself should not be used for standard workstation activities?</p>
<p>as a side note, i don’t think restricting network traffic to the gateway will work. it would prevent system updates on the host os. so, there is going to need to be an allowance for some host network activity.</p>
<p>i’m very glad to hear that progress is still being made here. but, if it’s near done, i’m not sure the lack of a perfect custom firewall should block release.</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/305">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/305</link>
        <pubDate>Wed, 11 Aug 2021 13:36:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-305</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Changes to EFI boot with Debian Bullseye, might affect how we do things:</p>
<p><a href="https://michael-prokop.at/blog/2021/06/09/efivars-is-gone-with-debian-bullseye-newinbullseye/" class="onebox" target="_blank" rel="noopener">https://michael-prokop.at/blog/2021/06/09/efivars-is-gone-with-debian-bullseye-newinbullseye/</a></p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/304">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/304</link>
        <pubDate>Tue, 06 Jul 2021 16:38:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-304</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I now have an idea how to write the host firewall… Looking at network interfaces before/after installation of KVM and then white listing the new device.</p>
<hr>
<p>Could you please make SecureBoot work as well? <a class="mention" href="http://forums.whonix.org/u/onion_knight">@onion_knight</a>  I.e. “just” as good as Debian has it.</p>
<p>Purpose: Usability. Boot compatibility. Let users where SecureBoot is enabled by default boot while SecureBoot stays enabled. Not require them to disable SecureBoot in the BIOS.</p>
<p>Non-purpose: Security.</p>
<p>Related:</p>
<aside class="quote quote-modified" data-post="1" data-topic="7894">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="https://forums.whonix.org/t/enable-linux-kernel-gpg-verification-in-grub-and-or-enable-secure-boot-by-default/7894">enable Linux kernel gpg verification in grub and/or enable Secure Boot by default</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development/8"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Since we are going for <a href="https://forums.whonix.org/t/allow-loading-signed-kernel-modules-by-default-disallow-kernel-module-loading-by-default/7880" class="inline-onebox">enforce kernel module software signature verification [module signing] / disallow kernel module loading by default</a>, should we also work towards enable Linux kernel gpg verification in grub and/or enable Secure Boot by default? 
Looks doable in principle. 

KVM: supports both EFI boot and Secure Boot. 
On <a href="https://blog.heckel.io/2018/08/06/booting-image-files-and-isos-with-kvm-qemu-efi-and-bios/">https://blog.heckel.io/2018/08/06/booting-image-files-and-isos-with-kvm-qemu-efi-and-bios/</a> see 2. Booting image files with KVM (EFI) 
The <a href="https://packages.debian.org/buster/ovmf">https://packages.debian.org/buste…</a>
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/303">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/303</link>
        <pubDate>Tue, 02 Feb 2021 10:32:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-303</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Yay! <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Welcome back again and happy new year!</p>
<aside class="quote no-group" data-username="onion_knight" data-post="299" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>EDIT: I see that per <a href="https://github.com/Whonix/whonix-libvirt/commit/b77262fd318432745cc12b4da8f0f08915726771">https://github.com/Whonix/whonix-libvirt/commit/b77262fd318432745cc12b4da8f0f08915726771</a> there should be a check during the first installed Host boot for kvm capabilities (If I understand correctly).</p>
</blockquote>
</aside>
<p>whonix-libvirt <code>/usr/lib/whonix-libvirt/install</code> is started by <code>/lib/systemd/system/whonix-libvirt-install.service</code></p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install" target="_blank" rel="noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install" target="_blank" rel="noopener">Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install</a></h4>
<pre><code class="lang-">#!/bin/bash

## Copyright (C) 2019 - 2020 ENCRYPTED SUPPORT LP &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

set -x
set -e

## {{ Taken from qemu-system-common.postinst.
# Add the kvm group unless it's already there
if ! getent group kvm &gt;/dev/null; then
   addgroup --quiet --system kvm || true
fi
## }} Taken from qemu-system-common.postinst.

## {{ Taken from libvirt-bin.postinst.
if ! getent group libvirt &gt;/dev/null; then
   addgroup --system libvirt
fi
## }} Taken from libvirt-bin.postinst.
</code></pre>

  This file has been truncated. <a href="https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install" target="_blank" rel="noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>That script creates a <code>.done</code> file:</p>
<blockquote>
<p>/var/lib/whonix-libvirt/install.done</p>
</blockquote>
<p><code>whonix-libvirt-install.service</code> won’t run <code>/usr/lib/whonix-libvirt/install</code> again if the <code>.done</code> file exists.</p>
<blockquote>
<p>ConditionPathExists=!/var/lib/whonix-libvirt/install.done</p>
</blockquote>
<p>If you have suggestions on how to improve that please let me know. Would be good to support this use case somehow. Why not. Installation of Whonix-Host in a VM on USB can be a good idea how beginners/testers since that guarantees really installation to USB. Internal boot disk which the user currently booted from remains unchanged. We also need to keep things comfortable for developers/testers.</p>
<p>([X] There is also a use case of sometimes running an operating system from hardware and sometimes inside a VM. Suppose you just made a full <code>dd</code> backup and now want to try if the backup is functional. Assign the USB drive to a VM and boot it.)</p>
<p>What would be a sane way to implement this? At every boot iterate over all installed libvirt XLM’s (multiple gateway’s, workstation’s) and change back/forth from qemu to kvm? That seems surprising / intrusive? Users who set up some non-Whonix VM to qemu to notice that these where just changed to kvm after reboot.</p>
<p>A bit hard to script. kvm to qemu includes “remove <code>&lt;pvspinlock state='on'/&gt;</code> from XML file” but qemu to kvm would mean "re-add <code>&lt;pvspinlock state='on'/&gt;</code>". Re-adding is more difficult because it needs to be added in the correct position.</p>
<p>XML files don’t support comments so comment in/out isn’t possible either.</p>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="https://unix.stackexchange.com/questions/148163/is-it-possible-to-use-comments-in-virsh-libvirt-xml-files" target="_blank" rel="noopener">unix.stackexchange.com</a>
  </header>
  <article class="onebox-body">
      <a href="https://unix.stackexchange.com/users/49297/adrelanos" target="_blank" rel="noopener">
    <img alt="adrelanos" src="https://www.gravatar.com/avatar/83f6805262f0dcc117814487c5b2d1c4?s=128&amp;d=identicon&amp;r=PG" class="thumbnail onebox-avatar" width="60" height="60">
  </a>
<h4>
  <a href="https://unix.stackexchange.com/questions/148163/is-it-possible-to-use-comments-in-virsh-libvirt-xml-files" target="_blank" rel="noopener">Is it possible to use comments in virsh / libvirt xml files?</a>
</h4>

<div class="tags">
  <strong>libvirt, virsh</strong>
</div>

<div class="date">
  asked by
  
  <a href="https://unix.stackexchange.com/users/49297/adrelanos" target="_blank" rel="noopener">
    adrelanos
  </a>
  on <a href="https://unix.stackexchange.com/questions/148163/is-it-possible-to-use-comments-in-virsh-libvirt-xml-files" target="_blank" rel="noopener">05:37PM - 03 Aug 14 UTC</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Neither we should delete the user’s local version in /etc/ and copy over the original from /usr/share because then user modifications would be lost.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="300" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>So now as per our roadmap we “only” lack Whonix-Host Firewall. Whonix-Host Tor configuration and anon-connection-wizard and we are good to go.</p>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="300" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Any news on the development of these features?</p>
</blockquote>
</aside>
<p>Unfortunately not.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="300" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>How can it be helped?</p>
</blockquote>
</aside>
<p>If anyone could implement any of that, that would help.</p>
<p>As for <a href="https://forums.whonix.org/t/whonix-host-firewall/9151" class="inline-onebox">Whonix-Host Firewall</a> I never got any idea how to filter traffic by “VM name”. Simplified: How do we allow Whonix-Gateway to use the internet but prohibit everyone else?</p>
<p>Ideally the user could configure a list of VM names which have networking permitted. The default list would only include <code>Whonix-Gateway</code>.</p>
<p>More advanced:</p>
<ul>
<li>allow Whonix-Gateway (default)</li>
<li>allow Whonix-Gateway 2 (custom, multiple Whonix-Gateway)</li>
<li>allow Kicksecure VM</li>
<li>allow <code>debian-tor</code> user (host operating system Tor process)</li>
</ul>
<p>After the simplified question is solved, implementing the advanced stuff might actually be easy.</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/302">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/302</link>
        <pubDate>Sat, 23 Jan 2021 10:30:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-302</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://gitlab.com/assets/favicon-7901bd695fb93edb07975966062049829afb56cf11511236e61bcf425070e36e.png" class="site-icon" width="16" height="16">
      <a href="https://gitlab.com/whonix/live-config-dist/-/merge_requests/1/commits" target="_blank" rel="noopener">GitLab</a>
  </header>
  <article class="onebox-body">
    <img src="https://assets.gitlab-static.net/assets/gitlab_logo-7ae504fe4f68fdebb3c2034e36621930cd36ea87924c11ff65dbcb8ed50dca58.png" class="thumbnail onebox-avatar" width="128" height="128">

<h3><a href="https://gitlab.com/whonix/live-config-dist/-/merge_requests/1/commits" target="_blank" rel="noopener">Add new file bootloader.conf. Default debian calamares file, with line... (!1)...</a></h3>

<p>Add new file bootloader.conf. Default debian calamares file, with line "efiBootloaderId:" uncommented and added "Debian" to solve “Minimal BASH-like editing…” / “grub&gt;” at boot. See</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/301">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/301</link>
        <pubDate>Sat, 23 Jan 2021 06:43:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-301</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>So now as per our roadmap we “only” lack Whonix-Host Firewall. Whonix-Host Tor configuration and anon-connection-wizard and we are good to go.</p>
<p>Any news on the development of these features? How can it be helped?</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/300">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/300</link>
        <pubDate>Fri, 22 Jan 2021 18:26:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-300</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>Yes, exactly. I wasn’t very actively working on it for months, and decided to give it a try with a fresh head. Then I tried to change the name of this directory and bingo! <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>I am currently testing (and writing this post) using Whonix-Workstation on Whonix-Host installed on real hardware (high capacity USB stick)! Works fine.</p>
<p>Only thing, had to change back the domain name from qemu to kvm, as it was set to qemu for testing purposes in KVM (for nested virtualization). Just a reminder that we need to it back in the release candidate. Otherwise the VMs are unbearably slow.</p>
<p>See post 237 by <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a>:</p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="242" data-topic="3931" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>HulaHoop via Whonix Forum:</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="239" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>What about re-adding minimal QEMU support? Would be useful during development. Then one could try Whonix-Host inside VirtualBox or any other virtualizer.</p>
</blockquote>
</aside>
<p>OK will work on resurrecting it. Any suggestion where you want the config templates?</p>
</blockquote>
<p>Great! Maybe no separate xml files. Just what kind of modifications are<br>
required / suggested. If that seems as a workable appraoch.</p>
<p>If <code>sudo virsh capabilities</code> does not contain <code>&lt;domain type='kvm'&gt;</code> then<br>
the xml files are currently in git master copied to a temporary location<br>
and patched before import. For now it’s just two replacements.</p>
<pre><code class="lang-auto">   search="&lt;domain type='kvm'&gt;"
   replace="&lt;domain type='qemu'&gt;"

   search="&lt;cpu mode='host-passthrough'/&gt;"
   replace=""
</code></pre>
<p>Implemented here:</p>
<p><a href="https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install">https://github.com/Whonix/whonix-libvirt/blob/master/usr/lib/whonix-libvirt/install </a></p>
</blockquote>
</aside>
<p>EDIT: I see that per <a href="https://github.com/Whonix/whonix-libvirt/commit/b77262fd318432745cc12b4da8f0f08915726771">https://github.com/Whonix/whonix-libvirt/commit/b77262fd318432745cc12b4da8f0f08915726771</a> there should be a check during the first installed Host boot for kvm capabilities (If I understand correctly). As I used KVM with virt-manager to install Whonix-Host on the USB stick (easier to debug), that might explain why the VMs xml files were set to qemu on first boot (also in KVM). I should try to run the entire installation process on real hardware to see if kvm domain is correctly set. Then we wouldn’t need to change anything.</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/299">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/299</link>
        <pubDate>Fri, 22 Jan 2021 18:23:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-299</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="onion_knight" data-post="296" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Hello and happy new year!</p>
</blockquote>
</aside>
<p>Happy New Year to you too. I always love the moments of epiphany when finally hunting down an annoying bug. This is great progress <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/298">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/298</link>
        <pubDate>Fri, 22 Jan 2021 15:49:46 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-298</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://gitlab.com/assets/favicon-7901bd695fb93edb07975966062049829afb56cf11511236e61bcf425070e36e.png" class="site-icon" width="16" height="16">
      <a href="https://gitlab.com/whonix/live-config-dist/-/merge_requests/1/commits" target="_blank" rel="noopener">GitLab</a>
  </header>
  <article class="onebox-body">
    <img src="https://assets.gitlab-static.net/assets/gitlab_logo-7ae504fe4f68fdebb3c2034e36621930cd36ea87924c11ff65dbcb8ed50dca58.png" class="thumbnail onebox-avatar" width="128" height="128">

<h3><a href="https://gitlab.com/whonix/live-config-dist/-/merge_requests/1/commits" target="_blank" rel="noopener">Add new file bootloader.conf. Default debian calamares file, with line... (!1)...</a></h3>

<p>Add new file bootloader.conf. Default debian calamares file, with line "efiBootloaderId:" uncommented and added "Debian" to solve “Minimal BASH-like editing…” / “grub&gt;” at boot. See</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/297">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/297</link>
        <pubDate>Fri, 22 Jan 2021 14:54:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-297</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>Hello and happy new year!<br>
GOOD NEWS for EFI install mode! <img src="//forums.whonix.org/images/emoji/twitter/grinning.png?v=9" title=":grinning:" class="emoji" alt=":grinning:"><br>
I think I have FINALLY found the culprit!</p>
<p>-&gt; Just tried it with version 15.0.1.5.4 (built myself).</p>
<p>It appears that unless specified otherwise, Calamares installation in EFI mode creates a directory on the EFI partition using the default branding name, i.e. in our case “Whonix-Host”:</p>
<pre><code>user@host:/mnt$ ls -lR
.:
total 4
drwxr-xr-x 4 root root 4096 Jan 22 14:05 EFI

./EFI:
total 8
drwxr-xr-x 2 root root 4096 Jan 22 14:05 boot
drwxr-xr-x 2 root root 4096 Jan 22 14:05 Whonix-Host

./EFI/boot:
total 0

./EFI/Whonix-Host:
total 5212
-rwxr-xr-x 1 root root     108 Jan 22 14:05 BOOTX64.CSV
-rwxr-xr-x 1 root root 1206824 Jan 22 14:05 fbx64.efi
-rwxr-xr-x 1 root root     209 Jan 22 14:05 grub.cfg
-rwxr-xr-x 1 root root 1533296 Jan 22 14:05 grubx64.efi
-rwxr-xr-x 1 root root 1261192 Jan 22 14:05 mmx64.efi
-rwxr-xr-x 1 root root 1322936 Jan 22 14:05 shimx64.ef
</code></pre>
<p>But for some reason, the installed machine is unable to boot if the directory containing the bootloader files is not named “Debian”.</p>
<p>It seems to be an obscure bug on which few  relevant information is readily available online.</p>
<p>-&gt; renaming /EFI/Whonix-Host into /EFI/Debian solves the problem.</p>
<p>I will upload a pull request on gitlab in a few moments.</p>
<p>Apart from that, didn’t run extensive tries, but everything else seemed to work as expected.</p>
<p>All tested on KVM so far (not on real hardware).</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/296">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/296</link>
        <pubDate>Fri, 22 Jan 2021 14:33:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-296</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>New functionality added for overlayfs may be useful for live mode:</p>
<p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=OverlayFS-Linux-5.10" class="onebox" target="_blank">https://www.phoronix.com/scan.php?page=news_item&amp;px=OverlayFS-Linux-5.10</a></p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/295">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/295</link>
        <pubDate>Mon, 02 Nov 2020 02:56:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-295</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>It’s something really small and stupid that is messing (missing?) somewhere. We will eventually find out.</p>
<p>Installation works, and the Host EFI installed machine actually boots into GRUB if repaired using grub&gt; commands or if it is booted with the ISO still in (I know, strange. Same behavior last time I checked in May).</p>
<p>Of course, all these tests are performed in QEMU/KVM (virt-manager) for now, but if it doesn’t work here at this level it won’t work on real hardware.</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/294">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/294</link>
        <pubDate>Tue, 27 Oct 2020 23:39:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-294</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>Thank for the warm welcoming back <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote no-group" data-username="Patrick" data-post="292" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Since Whonix source code doesn’t mention <code>grub-efi</code> or other packages in the build script or in anon-meta-packages, I guess that could be why EFI booting is broken.</p>
</blockquote>
</aside>
<p>Great suggestion.<br>
I installed<code> grub-efi-amd64-bin</code> (wouldn’t allow me to install <code>grub-efi-amd64</code>) and all its dependencies (7 additional packages, forgot to write down which ones exactly…) in the Host raw file and reburnt the ISO.</p>
<p>Still stuck at “Minimal BASH-like editing…” / “grub&gt;” prompt after installation.</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/293">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/293</link>
        <pubDate>Tue, 27 Oct 2020 23:35:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-293</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Yay! <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Welcome back!</p>
<p>Whonix-Host Firewall is rather difficult to invent. -&gt; <a href="https://forums.whonix.org/t/whonix-host-firewall/9151" class="inline-onebox">Whonix-Host Firewall</a></p>
<p>Maybe now after working on other things I’ll have new inspiration.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="290" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>I will contact the debian-live team on Gitlab, see if they can help. I will post the link here once it’s posted.<br>
EDIT: I cannot post any issue there, only pull requests.</p>
</blockquote>
</aside>
<p>They use mailing lists.</p>
<p><a href="https://lists.debian.org/debian-live/" class="onebox" target="_blank">https://lists.debian.org/debian-live/</a></p>
<aside class="quote no-group" data-username="onion_knight" data-post="290" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>n the meantime, if we want the EFI installation to work, we must add the modules<br>
<code>sources-media</code><br>
and<br>
<code>sources-media-unmount</code><br>
in <code>/etc/calamares/settings.conf</code> otherwise it will fail to download the package <code>grub-efi-amd64</code> during the installation process and the installation will abort.<br>
See pull request: <a href="https://github.com/Whonix/live-config-dist/pull/4">https://github.com/Whonix/live-config-dist/pull/4</a></p>
</blockquote>
</aside>
<p>Merged. Now included in <code>15.0.1.5.2-developers-only</code>.</p>
<p>A bit non-ideal to download during installation but we can perfect that later (somehow cache the package during build process).</p>
<p>EFI booting might be broken because of this. In a VM with grub-pc installed:</p>
<pre><code>sudo apt install grub-efi-amd64
</code></pre>
<blockquote>
<p>The following NEW packages will be installed:<br>
efibootmgr grub-efi-amd64 grub-efi-amd64-bin grub-efi-amd64-signed mokutil shim-helpers-amd64-signed shim-signed shim-signed-common<br>
shim-unsigned</p>
</blockquote>
<p>Most of these packages seem to be <code>Recommends:</code>.</p>
<p>When using</p>
<pre><code>sudo apt install grub-efi-amd64 --no-install-recommends
</code></pre>
<blockquote>
<p>The following NEW packages will be installed:<br>
grub-efi-amd64 grub-efi-amd64-bin</p>
</blockquote>
<p>These <code>Recommends:</code> in Debian packaging terms might actually be required for successful EFI booting.</p>
<p>Since Whonix source code doesn’t mention <code>grub-efi</code> or other packages in the build script or in anon-meta-packages, I guess that could be why EFI booting is broken.</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/292">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/292</link>
        <pubDate>Tue, 27 Oct 2020 17:03:58 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-292</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Welcome back! We missed you around here <img src="//forums.whonix.org/images/emoji/twitter/smiley.png?v=9" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>Yeah <code>grub-efi</code> is definitely a hard dep AFAICT.</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/291">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/291</link>
        <pubDate>Tue, 27 Oct 2020 16:29:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-291</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>Greetings!<br>
Coming back from a looooong pause… <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
But still alive and willing to complete this project.</p>
<p>I just built Whonix-Host from source, from stable branch (15.0.1.3.4).</p>
<p><strong>Good news:</strong> what did work still works apparently (didn’t run extensive tests, but on the surface looks good):</p>
<ul>
<li>Boot ISO in BIOS mode: OK</li>
<li>Boot ISO in EFI mode: OK</li>
<li>Run VM machines in ISO live mode: OK</li>
<li>Install in BIOS mode: OK</li>
<li>Run VM machines in host persistent (post-installation) mode: OK</li>
</ul>
<p><strong>"Bad" news</strong> (but expected): what didn’t work, still doesn’t work:</p>
<ul>
<li>Whonix-Host (post-installation) fails to boot in EFI, although installation reports no error</li>
<li>Whonix-Host Firewall and Whonix-Host Tor configuration and anon-connection-wizard are still not implemented (as far as I know)</li>
</ul>
<p>I have no idea how to work out the Firewall and Tor configuration issues. I hoped someone more knowledgeable would take up the challenge <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Meanwhile, I will try to solve the EFI issue. I will contact the debian-live team on Gitlab, see if they can help. I will post the link here once it’s posted.<br>
EDIT: I cannot post any issue there, only pull requests.</p>
<p>In the meantime, if we want the EFI installation to work, we must add the modules<br>
<code>sources-media</code><br>
and<br>
<code>sources-media-unmount</code><br>
in <code>/etc/calamares/settings.conf</code> otherwise it will fail to download the package <code>grub-efi-amd64</code> during the installation process and the installation will abort.<br>
See pull request: <a href="https://github.com/Whonix/live-config-dist/pull/4">https://github.com/Whonix/live-config-dist/pull/4</a></p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/290">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/290</link>
        <pubDate>Tue, 27 Oct 2020 15:29:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-290</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><strong>1. Severity: blocker</strong><br>
<em>needs to be addressed before official release</em></p>
<ul>
<li>anti-forensics / amnesia testing of Whonix-Host in Live mode<br>
*<a href="https://phabricator.whonix.org/T910">https://phabricator.whonix.org/T910</a><br>
<em>Note: this is a routine test that should be successful but that I was just too lazy to run. I will take care of it</em>
</li>
</ul>
</blockquote>
</aside>
<p>Doesn’t need to be blocked. Forensics testing would be OK for beta.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Whonix Host Firewall for Whonix Host<br>
<a href="https://phabricator.whonix.org/T942">https://phabricator.whonix.org/T942</a><br>
<em>Note: discussed here. Don’t know what remains to be done?</em><br>
<a href="https://forums.whonix.org/t/whonix-host-firewall/9151">Whonix-Host Firewall</a></p>
</blockquote>
</aside>
<p>Blocker indeed. It needs to be developed.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>instructions how to burn Whonix-Host ISO image to DVD or USB<br>
<a href="https://phabricator.whonix.org/T969">https://phabricator.whonix.org/T969</a><br>
<em>Not sure if it’s technically a blocker, but should be ready for official release date. Work in progress</em></p>
</blockquote>
</aside>
<p>Right.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>add Whonix-Host EFI booting support<br>
<a href="https://phabricator.whonix.org/T978">https://phabricator.whonix.org/T978</a><br>
<em>EFI booting support for INSTALLED Whonix-Host still not working (works for ISO). No progress here. We should probably ask for upstream help (Calamares github?)</em></p>
</blockquote>
</aside>
<p>Yes, also does not need to be a blocker. In beta testing can be called a known issue. Perhaps by then we find out or someone else finds out.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>co-install grub-efi-amd64 and grub-pc by default on Whonix-Host ISO<br>
<a href="https://phabricator.whonix.org/T979">https://phabricator.whonix.org/T979</a><br>
<em>Note: this is a blocker only if the possibility of installing Whonix-Host without Internet access is a requirement. Otherwise the correct grub version is downloaded by Calamares during installation</em></p>
</blockquote>
</aside>
<p>Same as above. As long as efi booting is broken, this is not too bad either.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p><strong>2. Severity: not a blocker</strong></p>
</blockquote>
</aside>
<p>Indeed.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Whonix-Host Tor configuration and anon-connection-wizard (ACW); ipv6 disable; ipv4 forward disable<br>
<a href="https://phabricator.whonix.org/T981">https://phabricator.whonix.org/T981</a></p>
</blockquote>
</aside>
<p>Actually blocker. Without Tor host config, sdwdate and apt is broken by default.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<ul>
<li>connect to public Tor network by default<br>
<a href="https://phabricator.whonix.org/T983">https://phabricator.whonix.org/T983</a>
</li>
</ul>
</blockquote>
</aside>
<p>Blocker since this needs to be documented.</p>
<aside class="quote no-group" data-username="onion_knight" data-post="288" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/o/f6c823/40.png" class="avatar"> onion_knight:</div>
<blockquote>
<p>Alternatively, to speed things up, we could decide that the inability of installing Whonix-Host on a EFI machine is not a blocker (as the main innovation we offer is the ability to boot an GRUB/EFI ISO with Whonix VMs pre-installed and pre-configured).</p>
</blockquote>
</aside>
<p>Yes.</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/289">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/289</link>
        <pubDate>Sat, 30 May 2020 20:00:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-289</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[onion_knight]]></dc:creator>
        <description><![CDATA[
            <p>A lot of progress has been done lately on the Whonix-Host project.</p>
<p>I think we are quite close to be release-ready, at least in beta state. I also thought a nice sum-up of what blockers/issues remain would be nice to set priorities <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p><strong>Whonix-Host to-do list as of May 29, 2020</strong><br>
We currently have 21 open issues on phabricator:<br>
<a href="https://phabricator.whonix.org/project/view/26/" class="onebox" target="_blank">https://phabricator.whonix.org/project/view/26/</a></p>
<p>Let’s break them down (subjective triage by myself):</p>
<p><strong>1. Severity: blocker</strong><br>
<em>needs to be addressed before official release</em></p>
<ul>
<li>
<p>anti-forensics / amnesia testing of Whonix-Host in Live mode<br>
*<a href="https://phabricator.whonix.org/T910">https://phabricator.whonix.org/T910</a><br>
<em>Note: this is a routine test that should be successful but that I was just too lazy to run. I will take care of it</em></p>
</li>
<li>
<p>Whonix Host Firewall for Whonix Host<br>
<a href="https://phabricator.whonix.org/T942">https://phabricator.whonix.org/T942</a><br>
<em>Note: discussed here. Don’t know what remains to be done?</em><br>
<a href="https://forums.whonix.org/t/whonix-host-firewall/9151" class="inline-onebox">Whonix-Host Firewall</a></p>
</li>
<li>
<p>instructions how to burn Whonix-Host ISO image to DVD or USB<br>
<a href="https://phabricator.whonix.org/T969">https://phabricator.whonix.org/T969</a><br>
<em>Not sure if it’s technically a blocker, but should be ready for official release date. Work in progress</em></p>
</li>
<li>
<p>add Whonix-Host EFI booting support<br>
<a href="https://phabricator.whonix.org/T978">https://phabricator.whonix.org/T978</a><br>
<em>EFI booting support for INSTALLED Whonix-Host still not working (works for ISO). No progress here. We should probably ask for upstream help (Calamares github?)</em></p>
</li>
<li>
<p>co-install grub-efi-amd64 and grub-pc by default on Whonix-Host ISO<br>
<a href="https://phabricator.whonix.org/T979">https://phabricator.whonix.org/T979</a><br>
<em>Note: this is a blocker only if the possibility of installing Whonix-Host without Internet access is a requirement. Otherwise the correct grub version is downloaded by Calamares during installation</em></p>
</li>
</ul>
<p><strong>2. Severity: not a blocker</strong><br>
<em>small issue/might be implemented in a future release</em></p>
<ul>
<li>
<p>Packaging USBKill<br>
<a href="https://phabricator.whonix.org/T552">https://phabricator.whonix.org/T552</a><br>
“<em>Its purpose is to trigger protection events that prevents adversaries from siphoning files/installing malware/running a mouse jiggler. It creates a USB whitelist of allowed devices of which anything else plugged into the machine causes it to erase its RAM and immediately shutdown. This can be adjusted to exclude all devices.</em>”</p>
</li>
<li>
<p>Package and test wiperam for Debian<br>
<a href="https://phabricator.whonix.org/T901">https://phabricator.whonix.org/T901</a></p>
</li>
<li>
<p>disable removable drives auto-mounting - XFCE only<br>
<a href="https://phabricator.whonix.org/T902">https://phabricator.whonix.org/T902</a></p>
</li>
<li>
<p>emergency shutdown on USB removal<br>
<a href="https://phabricator.whonix.org/T905">https://phabricator.whonix.org/T905</a></p>
</li>
<li>
<p>encrypt Whonix-Host disk after first boot of Whonix-Host<br>
<a href="https://phabricator.whonix.org/T906">https://phabricator.whonix.org/T906</a><br>
<em>Note: needed only when (and if) Whonix-Host without Calamares will be available</em></p>
</li>
<li>
<p>resize Whonix-Host disk at first boot of Whonix-Host<br>
<a href="https://phabricator.whonix.org/T907">https://phabricator.whonix.org/T907</a><br>
<em>Note: needed only when (and if) Whonix-Host without Calamares will be available</em></p>
</li>
<li>
<p>installing Whonix-Host without installer (calamares)<br>
<a href="https://phabricator.whonix.org/T909">https://phabricator.whonix.org/T909</a><br>
<em>Note: needed only when (and if) Whonix-Host without Calamares will be available</em></p>
</li>
<li>
<p>grub boot password<br>
<a href="https://phabricator.whonix.org/T940">https://phabricator.whonix.org/T940</a></p>
</li>
<li>
<p>Whonix Images Quick Rebuild<br>
<a href="https://phabricator.whonix.org/T974">https://phabricator.whonix.org/T974</a></p>
</li>
</ul>
<p><strong>3. Severity: unknown (needs triage)</strong><br>
<em>Maybe a blocker, maybe not, maybe a non-issue. Needs advising</em></p>
<ul>
<li>
<p>Clock Drift Detection<br>
<a href="https://phabricator.whonix.org/T550">https://phabricator.whonix.org/T550</a></p>
</li>
<li>
<p>sdwdate connectivity check host support<br>
<a href="https://phabricator.whonix.org/T915">https://phabricator.whonix.org/T915</a></p>
</li>
<li>
<p>Whonix-Host Tor configuration and anon-connection-wizard (ACW); ipv6 disable; ipv4 forward disable<br>
<a href="https://phabricator.whonix.org/T981">https://phabricator.whonix.org/T981</a></p>
</li>
<li>
<p>connect to public Tor network by default<br>
<a href="https://phabricator.whonix.org/T983">https://phabricator.whonix.org/T983</a></p>
</li>
</ul>
<p><strong>To sum-up, as of today, and pending decision on “need triage” issues, there are only 2 identified blocking issues:</strong></p>
<ul>
<li>Implementation of Whonix-Host firewall</li>
<li>Fixing EFI booting problem on installed Whonix-Host</li>
</ul>
<p>Alternatively, to speed things up, we could decide that the inability of installing Whonix-Host on a EFI machine is not a blocker (as the main innovation we offer is the ability to boot an GRUB/EFI ISO with Whonix VMs pre-installed and pre-configured).</p>
<p>Of course, many other issues will probably pop up once we will have more test time…</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/288">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/288</link>
        <pubDate>Fri, 29 May 2020 09:28:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-288</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="284" data-topic="3931">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><code>&lt;vcpu placement='static' cpuset='0'&gt;1&lt;/vcpu&gt;</code></p>
</blockquote>
</aside>
<p>Yes can be safely ignored/removed.</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/287">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/287</link>
        <pubDate>Fri, 24 Apr 2020 14:31:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-287</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Managed to make Whonix-Host in VirtualBox coexist with KVM networking file Whonix-External.xml.</p>
<pre><code>nmcli con show
</code></pre>
<blockquote>
<p>NAME                UUID                                  TYPE      DEVICE<br>
virbr0              ecc61543-fa15-4a43-9732-fa99065ff801  bridge    virbr0<br>
virbr2              7b784b6c-44e4-4589-8fba-9ab6f322e810  bridge    virbr2<br>
Wired connection 1  2ed217e7-866f-3760-926a-11dedcca3182  ethernet  eth0</p>
</blockquote>
<pre><code>nmcli con down Wired\ connection\ 1 
</code></pre>
<blockquote>
<p>Connection ‘Wired connection 1’ successfully deactivated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/1)</p>
</blockquote>
<pre><code>virsh -c qemu:///system net-start Whonix-External
</code></pre>
<blockquote>
<p>Network Whonix-External started</p>
</blockquote>
<pre><code>nmcli con up Wired\ connection\ 1 
</code></pre>
<blockquote>
<p>Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/7)</p>
</blockquote>
<p>I.e. the trick is to let libvirt (<code>whonix-libvirt-install.service</code>) (<code>virsh -c qemu:///system net-start Whonix-External</code>) run before network manager.<br>
Network manager can deal with it but libvirt cannot.<br>
I don’t see any solution for this with systemd drop-ins in this case because:</p>
<p><code>/lib/systemd/system/network-manager.service</code> has <code>Before=network.target</code><br>
while<br>
<code>/lib/systemd/system/libvirtd.service</code> has <code>After=network.target</code>.</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/286">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/286</link>
        <pubDate>Thu, 23 Apr 2020 19:31:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-286</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Whonix tag <code>15.0.1.3.2-developers-only</code> should build.</p>
<p>Though, only tested with <code> --remote-derivative-packages true</code>. And had a minor hiccup which hopefully was just a one time thing.</p>
<pre><code>dpkg-deb (subprocess): decompressing archive member: lzma error: compressed data is corrupt
dpkg-deb: error: &lt;decompress&gt; subprocess returned error exit status 2
dpkg: error processing archive /var/cache/apt/archives/calamares_3.2.4-3_amd64.deb (--unpack):
 cannot copy extracted data for './usr/lib/x86_64-linux-gnu/calamares/modules/keyboard/libcalamares_viewmodule_keyboard.so' to '/usr/lib/x86_64-linux-gnu/calamares/modules/keyboard/libcalamares_viewmodule_keyboard.so.dpkg-new': unexpected end of file or stream
Errors were encountered while processing:
 /var/cache/apt/archives/calamares_3.2.4-3_amd64.deb</code></pre>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/285">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/285</link>
        <pubDate>Thu, 23 Apr 2020 19:04:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-285</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
      <item>
        <title>Whonix host operating system</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Whonix-Host (currently running inside VirtualBox) is now networking is now by network manager. eth0 got automatically assigned 10.0.2.15.<br>
Now Whonix-Host networking (currently running inside VirtualBox) is functional and both gateway and workstation are starting.<br>
Speed in nested virtualization is too slow to test if networking inside VMs is functional but I will assign more RAM and try again. Can also say more when I build a new image that doesn’t require all the manual changes I did during experimentation.<br>
However, maybe likely this will work?</p>
<hr>
<p>For QEMU support both of these shouldbe removed?</p>
<p>gateway (actually works without removing this):</p>
<pre><code>&lt;vcpu placement='static' cpuset='0'&gt;1&lt;/vcpu&gt;
</code></pre>
<hr>
<p>workstation:</p>
<pre><code>&lt;vcpu placement='static' cpuset='1'&gt;1&lt;/vcpu&gt;
</code></pre>
<p>Removal was required for me inside VirtualBox. Otherwise I was getting <code>cannot set CPU affinity on process</code> error when trying to start workstation.</p>
          <p><a href="http://forums.whonix.org/t/whonix-host-operating-system/3931/284">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-host-operating-system/3931/284</link>
        <pubDate>Thu, 23 Apr 2020 13:43:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3931-284</guid>
        <source url="http://forums.whonix.org/t/whonix-host-operating-system/3931.rss">Whonix host operating system</source>
      </item>
  </channel>
</rss>
