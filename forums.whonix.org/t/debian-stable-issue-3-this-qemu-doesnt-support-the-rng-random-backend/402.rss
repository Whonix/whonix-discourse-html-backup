<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Debian stable issue #3: this qemu doesn&#39;t support the rng-random backend</title>
    <link>http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402</link>
    <description>My version numbers are the same as https://www.whonix.org/wiki/KVM#Debian_stable (click expand and scroll down to check version numbers).

Leaving

[code]
    &lt;rng model=&#39;virtio&#39;&gt;
      &lt;backend model=&#39;random&#39;&gt;/dev/random&lt;/backend&gt;
    &lt;/rng&gt;
[/code]

will result in this error

[code]
Error starting domain: unsupported configuration: this qemu doesn&#39;t support the rng-random backend

Traceback (most recent call last):
  File &quot;/usr/share/virt-manager/virtManager/asyncjob.py&quot;, line 45, in cb_wrapper
    callback(asyncjob, *args, **kwargs)
  File &quot;/usr/share/virt-manager/virtManager/asyncjob.py&quot;, line 66, in tmpcb
    callback(*args, **kwargs)
  File &quot;/usr/share/virt-manager/virtManager/domain.py&quot;, line 1114, in startup
    self._backend.create()
  File &quot;/usr/lib/python2.7/dist-packages/libvirt.py&quot;, line 866, in create
    if ret == -1: raise libvirtError (&#39;virDomainCreate() failed&#39;, dom=self)
libvirtError: unsupported configuration: this qemu doesn&#39;t support the rng-random backend
[/code]

Removing

[code]
    &lt;rng model=&#39;virtio&#39;&gt;
      &lt;backend model=&#39;random&#39;&gt;/dev/random&lt;/backend&gt;
    &lt;/rng&gt;
[/code]

suppresses that error, but as we agreed, this is no solution, rng should be enabled.

But there are 2 more debian stable related issues, that I will post in separate threads. So maybe we don&#39;t have to make this change, but can fix the root of this issue.</description>
    <language>en</language>
    <lastBuildDate>Thu, 15 Oct 2015 10:59:00 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Debian stable issue #3: this qemu doesn&#39;t support the rng-random backend</title>
        <dc:creator><![CDATA[tyhnal]]></dc:creator>
        <description><![CDATA[
            <p>Apologies. I forgot to run this command and I think it was causing my issue (I’m using KVM):</p>
<blockquote>If you are running Debian Stable (Jessie) you will run into a libvirt bug that conflicts with the way it works with Apparmor and the VM will refuse to start. It was fixed upstream but it will be a while until it reaches you.
<p>To fix it run:</p>
<p>sudo ln -s /etc/apparmor.d/libvirt/TEMPLATE.qemu /etc/apparmor.d/libvirt/TEMPLATE.kvm</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402/5</link>
        <pubDate>Thu, 15 Oct 2015 10:59:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-402-5</guid>
        <source url="http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402.rss">Debian stable issue #3: this qemu doesn&#39;t support the rng-random backend</source>
      </item>
      <item>
        <title>Debian stable issue #3: this qemu doesn&#39;t support the rng-random backend</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>News yes, but only bad news.</p>
<p>Unsupported. (<a href="https://www.whonix.org/wiki/FAQ#What_do_you_mean_by_unsupported.3F">https://www.whonix.org/wiki/FAQ#What_do_you_mean_by_unsupported.3F</a>)</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/QEMU" target="_blank" title="04:15AM - 31 December 2019">Whonix – 31 Dec 19</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:352/112;"><img src="https://www.whonix.org/w/images/e/ee/Qemulogo.svg.png" class="thumbnail" width="352" height="112"></div>

<h3><a href="https://www.whonix.org/wiki/QEMU" target="_blank">QEMU - Whonix</a></h3>

<p>Using Whonix ™ with QEMU instead of VirtualBox</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<blockquote>Update: QEMU support is deprecated in favor of KVM. The slow performance of pure emulation makes it non practical for most of the Linux user base. The majority of consumer systems should support the hardware virtualization extensions required by KVM.</blockquote>
          <p><a href="http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402/4</link>
        <pubDate>Thu, 15 Oct 2015 02:00:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-402-4</guid>
        <source url="http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402.rss">Debian stable issue #3: this qemu doesn&#39;t support the rng-random backend</source>
      </item>
      <item>
        <title>Debian stable issue #3: this qemu doesn&#39;t support the rng-random backend</title>
        <dc:creator><![CDATA[tyhnal]]></dc:creator>
        <description><![CDATA[
            <p>Any update on this?<br>
I don’t feel comfortable suppressing the error if it’s going to cause some sort of security concern.</p>
          <p><a href="http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402/3</link>
        <pubDate>Thu, 15 Oct 2015 00:22:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-402-3</guid>
        <source url="http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402.rss">Debian stable issue #3: this qemu doesn&#39;t support the rng-random backend</source>
      </item>
      <item>
        <title>Debian stable issue #3: this qemu doesn&#39;t support the rng-random backend</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This issue is likely unrelated to installed virt-manager version, because it also happens when attempting to start the VM using virsh.</p>
<pre><code class="lang-auto"></code></pre>
<p><code>error: Failed to start domain Whonix-Gateway
error: unsupported configuration: this qemu doesn't support the rng-random backend</code></p>
          <p><a href="http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402/2</link>
        <pubDate>Mon, 04 Aug 2014 13:57:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-402-2</guid>
        <source url="http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402.rss">Debian stable issue #3: this qemu doesn&#39;t support the rng-random backend</source>
      </item>
      <item>
        <title>Debian stable issue #3: this qemu doesn&#39;t support the rng-random backend</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>My version numbers are the same as <a href="https://www.whonix.org/wiki/KVM#Debian_stable">https://www.whonix.org/wiki/KVM#Debian_stable</a> (click expand and scroll down to check version numbers).</p>
<p>Leaving</p>
<pre><code class="lang-auto">    &lt;rng model='virtio'&gt;
      &lt;backend model='random'&gt;/dev/random&lt;/backend&gt;
    &lt;/rng&gt;</code></pre>
<p>will result in this error</p>
<pre><code class="lang-auto">Error starting domain: unsupported configuration: this qemu doesn't support the rng-random backend

Traceback (most recent call last):
  File "/usr/share/virt-manager/virtManager/asyncjob.py", line 45, in cb_wrapper
    callback(asyncjob, *args, **kwargs)
  File "/usr/share/virt-manager/virtManager/asyncjob.py", line 66, in tmpcb
    callback(*args, **kwargs)
  File "/usr/share/virt-manager/virtManager/domain.py", line 1114, in startup
    self._backend.create()
  File "/usr/lib/python2.7/dist-packages/libvirt.py", line 866, in create
    if ret == -1: raise libvirtError ('virDomainCreate() failed', dom=self)
libvirtError: unsupported configuration: this qemu doesn't support the rng-random backend</code></pre>
<p>Removing</p>
<pre><code class="lang-auto">    &lt;rng model='virtio'&gt;
      &lt;backend model='random'&gt;/dev/random&lt;/backend&gt;
    &lt;/rng&gt;</code></pre>
<p>suppresses that error, but as we agreed, this is no solution, rng should be enabled.</p>
<p>But there are 2 more debian stable related issues, that I will post in separate threads. So maybe we don’t have to make this change, but can fix the root of this issue.</p>
          <p><a href="http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402/1</link>
        <pubDate>Mon, 04 Aug 2014 13:55:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-402-1</guid>
        <source url="http://forums.whonix.org/t/debian-stable-issue-3-this-qemu-doesnt-support-the-rng-random-backend/402.rss">Debian stable issue #3: this qemu doesn&#39;t support the rng-random backend</source>
      </item>
  </channel>
</rss>
