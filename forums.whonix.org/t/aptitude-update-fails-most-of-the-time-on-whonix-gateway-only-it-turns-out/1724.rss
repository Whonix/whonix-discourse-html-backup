<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
    <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724</link>
    <description>[New to whonix, just sinking into the beasties ...]

Why does aptitude update fail (almost?) all the time? e.g.


----------

Err http://ftp.us.debian.org jessie InRelease
...
  Temporary failure resolving &#39;ftp.us.debian.org&#39;
...
W: Failed to fetch http://security.debian.org/dists/jessie/updates/InRelease:
...
W: Some index files failed to download. They have been ignored, or old ones used instead.


----------
Seems to me I have seen it work - perhaps only shortly after boot time / while Tor is establishing itself?

- is there a link that explains what&#39;s going on / why it sometimes works but mostly doesn&#39;t / how to work with it?


Now, to be fair ... I only just noticed that apt-get update seems to work just fine - but I have always used / am used to &#39;aptitude&#39;. (Let alone aptitude upgrade not apt-get dist-upgrade. Never mind safe-upgrade.) Each to his own, it just took me a long time to figure this out. (That&#39;s not a complaint.)

Similarly, I only just noticed that it is fine on whonix-workstation, it&#39;s only on whonix-gateway where I see this.

So, I guess my real question is ... is there a link towards descriptions of why this is working the way it is on whonix-gateway, advice (against, no doubt) installing software on whonix-gateway, and issues surrounding such?

e.g. seems to me that nslookup and ping fail too. traceroute even. However, nslookup now appears to be working, ping not working makes sense, and nslookup -4T effects the same connectivity sanity check. (But shows no path steps - no doubt intentional / a good thing.)

- which is all to say, I guess in my reading through the wiki I missed any &#39;nature of the whonix-gateway environment&#39; section. Any links?

[I get the standard disclaimer, any changes potentially increases your exposure or potential for anonymizing failure, etc.]

- and, in writing this, I notice that cut and paste (the clipboard) between host and whonix-workstation works fine, but not whonix-gateway. Pointers to links explaining that would also be welcome.


----------
*Kubuntu LTS w/ virtualbox*</description>
    <language>en</language>
    <lastBuildDate>Fri, 11 Dec 2015 11:07:38 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="27" data-topic="1724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Perhaps I should split the development discussion of this thread avoid confusing users reading this…</p>
</blockquote>
</aside>
<p>May I suggest … given that the aptitude update failure has been resolved, and the extreme divergence of topics within it … delete the entire thread. It won’t bother me.</p>
<p>If one of the issues comes up again, it can be reposted. Likely in a more topic boundary adhering manner, even.</p>
<p>[Mea culpa, any topic boundary exceeding within this one I expect is my fault.]</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/28">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/28</link>
        <pubDate>Fri, 11 Dec 2015 11:07:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-28</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Not sure I am supposed to answer the non-last reactions?</p>
<aside class="quote" data-post="26" data-topic="1724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/rantocaudgb/40/135_1.png" class="avatar"> rAntOCauDgb:</div>
<blockquote>
<p>Works for me on both G and W. So (huh)?</p>
</blockquote>
</aside>
<p>I was talking about git master. Not your local system.</p>
<p>Perhaps I should split the development discussion of this thread avoid confusing users reading this…</p>
<aside class="quote" data-post="26" data-topic="1724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/rantocaudgb/40/135_1.png" class="avatar"> rAntOCauDgb:</div>
<blockquote>
<p>It occurs to me it might make sense if ‘uwtwrapper --help’ ‘redirected’ to ‘uwt --help’.</p>
</blockquote>
</aside>
<p>That I would find confusing.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/27">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/27</link>
        <pubDate>Fri, 11 Dec 2015 11:03:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-27</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“Patrick, post:23, topic:1724, full:true”]apt-get --help is currently broken. Shows the same as /usr/lib/uwtwrapper --help.<br>
[/quote]</p>
<p>First reaction:</p>
<p>File a bug report? <img src="//forums.whonix.org/images/emoji/twitter/smile.png?v=5" title=":smile:" class="emoji" alt=":smile:"></p>
<p>Second reaction:</p>
<p>Works for me on both G and W. So (huh)?</p>
<p>Third reaction:</p>
<p>Are you really saying that because of the redirection, all anondist’s are (thus similarly) broken? Ouch!</p>
<p>Fourth reaction:</p>
<p>It occurs to me it might make sense if ‘uwtwrapper --help’ ‘redirected’ to ‘uwt --help’. But if you take that further, is that a generic solution for all anondist beasties?</p>
<p>Or anondist beasties have a script line of  [too tired to grind out the bash, so bear with me]:</p>
<p>if “$1”=="–help" and $rootbin exists then $rootbin --help ; return</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/26">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/26</link>
        <pubDate>Fri, 11 Dec 2015 10:59:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-26</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Now to your last reply.</p>
<p>What’s wrong with the current <code>/usr/lib/uwtwrapper --help</code> as of git master?</p>
<pre><code>/usr/lib/uwtwrapper help.

/usr/lib/uwtwrapper is not supposed to be used manually by users.
Manual usage is difficult. Use uwt instead. See:
man uwt
...
</code></pre>
<p>To shorten this… Can you send your suggestion by creating github pull requests?</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/25</link>
        <pubDate>Fri, 11 Dec 2015 10:56:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-25</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="23" data-topic="1724" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Before I reply to your last post…</p>
<p>apt-get --help is currently broken. Shows the same as /usr/lib/uwtwrapper --help.</p>
</blockquote>
</aside>
<p>Fixed.<br>
</p><aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/uwt/commit/4c22f04041bd1287eb73dcc599cca831f74e938a" target="_blank" rel="nofollow noopener">github.com/Whonix/uwt</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/uwt/commit/4c22f04041bd1287eb73dcc599cca831f74e938a" target="_blank" rel="nofollow noopener">Fix, make '/usr/lib/uwtwrapper --help' only work when manually run without env.</a>
</h4>

  <pre class="message" style="white-space: pre-wrap;">Only use the command line parser if $uwtwrapper_parent is empty. I.e. when
manually called from command line instead by a wrapper. Otherwise...</pre>

<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/uwt/commit/4c22f04041bd1287eb73dcc599cca831f74e938a" target="_blank" rel="nofollow noopener">10:47AM - 11 Dec 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>22 additions</strong>
  and <strong>12 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/24</link>
        <pubDate>Fri, 11 Dec 2015 10:51:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-24</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Before I reply to your last post…</p>
<p><code>apt-get --help</code> is currently broken. Shows the same as <code>/usr/lib/uwtwrapper --help</code>.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/23</link>
        <pubDate>Fri, 11 Dec 2015 10:42:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-23</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="21" data-topic="1724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>${1+"$@"}</p>
</blockquote>
</aside>
<p>You’re still not getting me.</p>
<p>I get that / can figure such out.</p>
<p>But when bouncing along and exploring, one comes across a uwtwrapper call within an anondist script, so one naturally does … uwtwrapper --help to find out what the command is / does. Hopefully it gives a concise description then parameter list.</p>
<p>One then runs the anondist verbose to see how the script is being called … to go - OH, so that’s how they’re doing that. Cool.</p>
<p>And gets on with their day.</p>
<p>But can’t if --help doesn’t do the USUAL.</p>
<p>Full stop.</p>
<blockquote>
<p>If you want to contribute a wrapper</p>
</blockquote>
<p>My point is, I wouldn’t have to exit my workflow and read any of it if --help responded with the usual then and there. As you point out, it’s all scripting, and easily followed (if --help and man conventions are followed). One of the real pluses attributed to Linux is configuration files being text and so much scripting one can figure out most things on the fly then and there.</p>
<p>Similarly … hmmm, this would be useful, ssh does it this way, let’s command line run see if we can make this work. (And you’re going to want --help to return concise useful stuff then and there.) Hey it works, let’s encapsulate it in a script. Hmm, it really is useful, maybe I should go check in on to how to contribute it back up the chain.</p>
<p>All I have pointed out is that you can save a lot of time and energy, let alone the time spent on this thread, with a typical --help. If I did it, so will others.</p>
<p>Even if all --help returns is: ‘uwtwrapper encapsulates uwt calls. See uwt for more info.’, the job is done.</p>
<p>Now … would you like to go around again for ‘uwt --help’? <img src="//forums.whonix.org/images/emoji/twitter/smile.png?v=5" title=":smile:" class="emoji" alt=":smile:"></p>
<p>uwt -h does exactly what I was expecting of uwtwrapper --help.</p>
<p>Except … there it is -h doing what by convention --help does. (Hint.)</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/22</link>
        <pubDate>Fri, 11 Dec 2015 04:27:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-22</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I am keeping my comments only to uwt.</p>
<p>Thanks for bearing with me.  Feel free to ask anything unclear.</p>
<hr>
<p>For example in case of <a href="https://github.com/Whonix/uwt/blob/master/usr/bin/apt-get.anondist">https://github.com/Whonix/uwt/blob/master/usr/bin/apt-get.anondist</a> …<br>
<code>${1+"$@"}</code> contains all arguments, which apt-get was called with. I.e. When running <code>apt-get update --some-option</code>, then <code>${1+"$@"}</code> contains <code>update --some-option</code>. [Same goes for all other wrappers.]</p>
<p>A wrapper script, as per:<br>
<a href="http://mywiki.wooledge.org/WrapperScript">http://mywiki.wooledge.org/WrapperScript</a><br>
(written by Greg, who is prominent in the bash community)</p>
<p>(Perhaps it would be save to reduce that to <code>"$@"</code>.)</p>
<hr>
<p>If you want to contribute a wrapper instead of just a feature request for a new wrapper, the answer is, part 1), emulate the following commit:</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/uwt/commit/e86f3497832626f16721cd0fc493fb4ba4a12ee6" target="_blank" rel="nofollow noopener">github.com/Whonix/uwt</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/uwt/commit/e86f3497832626f16721cd0fc493fb4ba4a12ee6" target="_blank" rel="nofollow noopener">added stream isolation wrapper for yum</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/uwt/commit/e86f3497832626f16721cd0fc493fb4ba4a12ee6" target="_blank" rel="nofollow noopener">01:03PM - 03 Sep 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>4 files</strong>
  with <strong>12 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>And part 2), emulate the following commit:</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/anon-gw-anonymizer-config/commit/a2aa9e90b344cb4fc01cacc73ac2007b47e3f42e" target="_blank" rel="nofollow noopener">github.com/Whonix/anon-gw-anonymizer-config</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/anon-gw-anonymizer-config/commit/a2aa9e90b344cb4fc01cacc73ac2007b47e3f42e" target="_blank" rel="nofollow noopener">added Tor SocksPort 9125 for yum</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/anon-gw-anonymizer-config/commit/a2aa9e90b344cb4fc01cacc73ac2007b47e3f42e" target="_blank" rel="nofollow noopener">12:57PM - 03 Sep 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>8 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<hr>
<p>Andd part 3), emulate the following commit:</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/whonix-firewall/commit/d6401bb5e310504a454ee2d65b8b3d46b4dbfdb3" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-firewall</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/whonix-firewall/commit/d6401bb5e310504a454ee2d65b8b3d46b4dbfdb3" target="_blank" rel="nofollow noopener">added Tor SocksPort 9125 for yum</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/whonix-firewall/commit/d6401bb5e310504a454ee2d65b8b3d46b4dbfdb3" target="_blank" rel="nofollow noopener">01:00PM - 03 Sep 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>3 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/21</link>
        <pubDate>Fri, 11 Dec 2015 02:27:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-21</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="17" data-topic="1724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The simple interface you are requesting doesn’t exist. And it’s not simple to implement. One of the key features is, being able to disable all uwtwrappers globally. To avoid code duplication, uwtwrappers are kept small and all the logic lives inside /usr/lib/uwtwrapper.</p>
</blockquote>
</aside>
<p>I haven’t asked for a simple interface.</p>
<p>Merely help to follow what’s already there.</p>
<p>e.g. If --help or set -v/-x flushes out what’s within “${1+”$@"}", when one finds such useful, one can contribute corresponding myfavrouitebinary.anondists’s back.</p>
<p>I grant you, (now) I know to ‘man uwt’, but the initial point was there was no way to discern that up front. (And would have saved the energy we have expended in composing these messages.) Thus the --help request.</p>
<p>As only a ‘geek’ will use --help or man, only a simple --help parameter list will be useful to such.</p>
<p>Similarly, ‘quick whonix help’ desktop icon == whonix, when otherwise not visible / not geek inclined to find - provides a geek sufficient pointer to (work) already (done/contributed) documentation.</p>
<p>I suspect we are commenting on non-correlated aspects here / I am getting confused as to which comments regard which points.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/20</link>
        <pubDate>Fri, 11 Dec 2015 02:10:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-20</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>The reply was only about uwt. Grasping uwt or a rewrite of it is not be rocket science. ( <a href="https://www.whonix.org/wiki/FAQ#How_difficult_is_it_to_develop_Whonix.3F">https://www.whonix.org/wiki/FAQ#How_difficult_is_it_to_develop_Whonix.3F</a> ) Just requires knowledge of shell scripting and some Debian packaging. Just look at the package file by file.</p>
<hr>
<p>Full file list.</p>
<pre><code class="lang-auto">./GPLv3
./usr/lib/uwtwrapper
./usr/lib/uwt/uwt.sh
./usr/bin/git.anondist
./usr/bin/time_privacy
./usr/bin/gpg.anondist
./usr/bin/uwt
./usr/bin/mixmaster-update.anondist
./usr/bin/yumdownloader.anondist
./usr/bin/yum.anondist
./usr/bin/rawdog.anondist
./usr/bin/wget.anondist
./usr/bin/aptitude-curses.anondist
./usr/bin/curl.anondist
./usr/bin/apt-get.anondist
./usr/bin/ssh.anondist
./usr/share/lintian/overrides/uwt
./changelog.upstream
./debian/uwt.maintscript
./debian/control
./debian/uwt.undisplace
./debian/uwt.displace-extension
./debian/compat
./debian/source/format
./debian/source/lintian-overrides
./debian/changelog
./debian/gain-root-command
./debian/watch
./debian/copyright
./debian/uwt.displace
./debian/rules
./man/time_privacy.1.ronn
./man/uwt.1.ronn
./etc/X11/Xsession.d/20uwt
./etc/sudoers.d/uwt
./etc/uwt.d/30_timeprivacy_default.conf
./etc/uwt.d/30_uwt_default.conf
./etc/profile.d/20_uwt.sh
./CONTRIBUTING.md
./COPYING
./README.md
./Makefile
</code></pre>
<hr>
<p>The files that matter here.</p>
<pre><code class="lang-auto">./usr/lib/uwtwrapper
./usr/lib/uwt/uwt.sh
./usr/bin/time_privacy
./usr/bin/uwt
./usr/share/lintian/overrides/uwt
./debian/uwt.maintscript
./debian/control
./debian/uwt.undisplace
./debian/uwt.displace-extension
./debian/source/lintian-overrides
./debian/uwt.displace
./debian/rules
./etc/uwt.d/30_timeprivacy_default.conf
./etc/uwt.d/30_uwt_default.conf
</code></pre>
<p>9 of them are rather small and less in need of change.</p>
<p>And the wrappers. They look a lot, but it’s always the same content and a really small file.</p>
<pre><code class="lang-auto">./usr/bin/git.anondist
./usr/bin/gpg.anondist
./usr/bin/mixmaster-update.anondist
./usr/bin/yumdownloader.anondist
./usr/bin/yum.anondist
./usr/bin/rawdog.anondist
./usr/bin/wget.anondist
./usr/bin/aptitude-curses.anondist
./usr/bin/curl.anondist
./usr/bin/apt-get.anondist
./usr/bin/ssh.anondist
</code></pre>
<p>Now, when I add more documentation on that, it makes the total amount of stuff to read longer. Therefore creating more confusion than making it simpler.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/19</link>
        <pubDate>Fri, 11 Dec 2015 02:09:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-19</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <p>Not sure what you’re responding to, there, but if either --help request, or Quick Whonix Help desktop icon request …</p>
<p>These two elements help the new (admin) user sink into whatever this new beastie is.</p>
<p>Be it to follow what’s going on, or to template uwtwrapper use in an additional fashion to contribute back to the community, first one must grok the current environment. (e.g. --help even visible to see/follow to use uwt instead.)[Only a ‘geek’ is even going to use --help or man in the first place.]</p>
<p>Once the current environment is under one’s belt, one can consider a rewrite / paradigm change, but not until.</p>
<p>In the mean time, doubtless “it works good enough”, but one can’t use it if one can’t follow it to so contribute.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/18</link>
        <pubDate>Fri, 11 Dec 2015 01:59:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-18</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>The simple interface you are requesting doesn’t exist. And it’s not simple to implement. One of the key features is, being able to disable all uwtwrappers globally. To avoid code duplication, uwtwrappers are kept small and all the logic lives inside /usr/lib/uwtwrapper.</p>
<p>It’s historically grown. If I would reimplement/rework it now, I would perhaps set the ports from within the wrappers. Then the ports would perhaps be hardcoded (since in /usr/bin - not preserving modifications on updates). However important that is. [Would still be possible to allow to override them from /etc/uwt.d.) That would make how to create ones own wrapper simpler and more self-explanatory. Setting perhaps the ports by environment variables. By command line parameters is not simple to get right as it can conflict with the command line parameters for the actual application to start. Wasn’t simple to get uwt work flawlessly. Got tricky at nested invocations. (uwtwrapped git starts its own instance of ssh which then also gets uwtwrapped.)</p>
<p>I don’t want to spend too much time on it, since there is a flood of other tasks, and for above reasons.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/17</link>
        <pubDate>Thu, 10 Dec 2015 23:02:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-17</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>The user answer currently is:<br>
Forget about uwtwrapper. Use uwt.</p>
<p>The developer answer currently is:<br>
Rewrite/redesign/etc. contributions happily considered. It’s low priority for me, it works good enough, and because I still have hope we one day get <a href="https://trac.torproject.org/projects/tor/ticket/11726">torsocks feature ‘choosing ip / port by command line’ </a>. Then uwt and uwtwrapper can be deprecated. And the uwtwrappers can be modified to use torsocks.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/16</link>
        <pubDate>Thu, 10 Dec 2015 22:50:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-16</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="11" data-topic="1724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>[quote] it would be useful if /usr/lib/uwtwrapper --help returned the expected.</p>
</blockquote>
</aside>
<p>Implemented:[quote]<a href="http://github.com/Whonix/uwt" rel="nofollow noopener">github.com/Whonix/uwt</a></p>
<ul>
<li>implemented uwtwrapper --help<br>
by adrelanos on 03:59PM - 10 Dec 15[/quote][/quote]</li>
</ul>
<p>[Apologies for the interface munging adrelanos’ quoting.]</p>
<p>Reading the git reference <a href="https://github.com/Whonix/uwt/commit/9a3c180d674183edf13e662e8b930820d88ba574" rel="nofollow noopener">https://github.com/Whonix/uwt/commit/9a3c180d674183edf13e662e8b930820d88ba574</a> - not what I was looking for in requesting --help.</p>
<p>No offence, but the listed change, instead of being a typical --help list of parameters seems more suited for a ‘uwtwrapper --about’ type of thing. Or a man page.</p>
<p>I did, however, get from that commit link to do ‘man uwt’. (Which wasn’t intuitive to do, at the time.)</p>
<p>So … perhaps useful to explain how I got here / to make the request.</p>
<p>Being new to whonix, and stumbling across ssh.anondist, and seeing the “/usr/lib/uwtwrapper ${1+”$@"}" within it, I naturally went /usr/lib/uwtwrapper --help, then man uwtwrapper.</p>
<p>Expecting to see something along the lines of ‘uwtwrapper {prog} {ip} {port} {proxy}’ or something - i.e. following the breadcrumbs of this whonix thingy I’m new to.</p>
<p>From what I can see from the commit link, that level of concise --help output is not present.</p>
<p>Was just looking to follow the breadcrumbs at the time.</p>
<p>So a help page of the form:</p>
<ul>
<li>From uwt: /usr/lib/uwtwrapper [-h] [-v] -t server_type -i ip -p port command [options…]</li>
<li>expected to be used by developers only.</li>
<li>do not use if you do not know what you are doing.</li>
<li>see man uwtwrapper, man uwt, and the whonix wiki for more information</li>
</ul>
<p>Would have done it.</p>
<p>If I understand the commit link, such is still not present.</p>
<p>At the time was trying to understand / follow the flow of what I was in the middle of. Since then, I’ve come across the wiki articles, port list / documentation, seen rinetd.conf, and understand that there are proxies and redirects and other magic going on.</p>
<p>So, when I get back to this point, trying things out manually at the command line before scripting things … I’m going to be looking for that --help concise argument list again.</p>
<p>So, no offence, but if I read the commit link correctly, I see a lot of verbiage I wouldn’t be interested in (find annoying even), (and still no easy / quick parameter list), for where I was at / was looking for at the time of needing to call --help.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/15</link>
        <pubDate>Thu, 10 Dec 2015 22:36:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-15</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This should work. Tested.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/uwt/commit/e1c5be36a2f136173a8ffa3098f0c1fcc5f32342" target="_blank" rel="nofollow noopener">github.com/Whonix/uwt</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/uwt/commit/e1c5be36a2f136173a8ffa3098f0c1fcc5f32342" target="_blank" rel="nofollow noopener">fixed aptitude that uses Debian 'alternatives' mechanism</a>
</h4>


<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/uwt/commit/e1c5be36a2f136173a8ffa3098f0c1fcc5f32342" target="_blank" rel="nofollow noopener">06:15PM - 10 Dec 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>21 additions</strong>
  and <strong>4 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/14</link>
        <pubDate>Thu, 10 Dec 2015 18:25:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-14</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Doesn’t work. Working on it.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/13</link>
        <pubDate>Thu, 10 Dec 2015 17:52:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-13</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/uwt/commit/f19f9339c2ef7638886c497577edd3a3c9d7e5dd" target="_blank" rel="nofollow noopener">github.com/Whonix/uwt</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/uwt/commit/f19f9339c2ef7638886c497577edd3a3c9d7e5dd" target="_blank" rel="nofollow noopener">fixed aptitude uwt wrapper</a>
</h4>

  <pre class="message" style="white-space: pre-wrap;">Thanks to rAntOCauDgb for the report!
https://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out</pre>

<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/uwt/commit/f19f9339c2ef7638886c497577edd3a3c9d7e5dd" target="_blank" rel="nofollow noopener">05:30PM - 10 Dec 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>7 files</strong>
  with <strong>12 additions</strong>
  and <strong>5 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>It’s not yet tested.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/12</link>
        <pubDate>Thu, 10 Dec 2015 17:34:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-12</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="10" data-topic="1724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/rantocaudgb/40/135_1.png" class="avatar"> rAntOCauDgb:</div>
<blockquote>
<p>it would be useful if /usr/lib/uwtwrapper --help returned the expected.</p>
</blockquote>
</aside>
<p>Implemented:</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/uwt/commit/9a3c180d674183edf13e662e8b930820d88ba574" target="_blank" rel="nofollow noopener">github.com/Whonix/uwt</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/uwt/commit/9a3c180d674183edf13e662e8b930820d88ba574" target="_blank" rel="nofollow noopener">- implemented uwtwrapper --help</a>
</h4>

  <pre class="message" style="white-space: pre-wrap;">- output help if uwtwrapper is called without arguments</pre>

<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/uwt/commit/9a3c180d674183edf13e662e8b930820d88ba574" target="_blank" rel="nofollow noopener">03:59PM - 10 Dec 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>68 additions</strong>
  and <strong>0 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/11</link>
        <pubDate>Thu, 10 Dec 2015 16:02:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-11</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“Patrick, post:9, topic:1724”]<br>
… /etc/alternatives/aptitude is a symlink to /usr/bin/aptitude-curses. To easy, but maybe not so clean fix would be to apply uwt to /usr/bin/aptitude-curses rather than /usr/bin/aptitude.[/quote]</p>
<p>I would not suggest that. The common always working point of entry will be (/usr/bin/)aptitude. Where it points to, presumably links within /etc/alternatives to elsewhere, may change at any time underneath you.</p>
<aside class="quote">
<blockquote>
<p>More generally speaking, it seems like uwt has a bug “incompatible with Debian ‘alternatives’ mechanism”.</p>
</blockquote>
</aside>
<p>I can’t speak to that, but I can say … it would be useful if /usr/lib/uwtwrapper --help returned the expected.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/10</link>
        <pubDate>Tue, 08 Dec 2015 18:40:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-10</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Confirmed.</p>
<p>Developments notes:</p>
<ul>
<li>
<p>uwt ( <a href="https://github.com/Whonix/uwt">https://github.com/Whonix/uwt</a> ) has no issue with applications that are installed after uwt. (Can be tested using a rather uncommon application <code>rawdog</code>.)</p>
</li>
<li>
<p>Seems like a newer version of aptitude, that is now using Debian ‘alternatives’ mechanism is now incompatible with uwt by default.</p>
</li>
<li>
<p><code>/etc/alternatives/aptitude</code> is a symlink to <code>/usr/bin/aptitude-curses</code>. To easy, but maybe not so clean fix would be to apply uwt to <code>/usr/bin/aptitude-curses</code> rather than <code>/usr/bin/aptitude</code>.</p>
</li>
<li>
<p>A better fix migth be to apply uwt to <code>/etc/alternatives/aptitude</code> rather than <code>/usr/bin/aptitude</code>, but this may not work.  Debian ‘alternatives’ mechanism may not honor dpkg diversions.</p>
</li>
<li>
<p>More generally speaking, it seems like uwt has a bug “incompatible with Debian ‘alternatives’ mechanism”.</p>
</li>
</ul>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/9</link>
        <pubDate>Tue, 08 Dec 2015 17:15:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-9</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <p>OK, I think I see what’s going on / what’s happened.</p>
<p>[Having now come / bumbled across things like anondist and uwt.]</p>
<p>Using apt-get as the template …</p>
<p>IIRC, aptitude doesn’t come installed with whonix / base Debian.</p>
<p>Installing it causes /usr/bin/aptitude to be linked to /etc/alternatives/aptitude</p>
<p>The following seems to let aptitude do the expected:</p>
<blockquote>
<p>root@host:/usr/bin# mv aptitude aptitude.anondist-orig<br>
root@host:/usr/bin# ln -s /usr/bin/aptitude.anondist /usr/bin/aptitude</p>
</blockquote>
<p>i.e. the ‘mv aptitude’, aptitude currently being a link to /etc/alternatives/aptitude, the link goes along for the ride.</p>
<p>Don’t know whether I botched something during initial install / exploration or not. i.e. Whether there is something to fix here within the vm source.</p>
<p>Presumably the vm source can’t establish /usr/bin/aptitude (-&gt; aptitude.anondist) as aptitude’s not yet installed. apt-get aptitude is going to schmuck any such anyways.(aptitude.anondist is there, which is fine and wonderful.)</p>
<p>If this is indeed an issue present at install time, seems like either the vm should come with aptitude installed, or the whole /etc/alternatives beastie be grokked and fingers poked in the right places.</p>
<p>The description above duplicates what I see on whonix-workstation. Presumably, by design, aptitude works fine there, as expected.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/8</link>
        <pubDate>Tue, 08 Dec 2015 02:14:15 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-8</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[rAntOCauDgb]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="6" data-topic="1724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>From a users perspective, everything you need to know can be find in the documentation. From a developers perspective, I was wondering for a long time already if any kind of design documentation makes sense anyhow. It only increases the total amount of stuff to read to fully know what Whonix does and what not. This higher total amount results, as I suspect, to fewer people going to even start reading. Best to have the rationale, the design, the explanations why X and Y is done in Z way and not otherwise directly in the source code as comments. Otherwise design documentation gets to look more complicated, outdated as things develop, confusing, etc.</p>
</blockquote>
</aside>
<p>Fair and good points. (Add more than oneself to have to commonly understand something and it seems that the energy that has to be expended rises exponentially. And is why projects eagerly greet non-coders willing to document, moderate, etc.)</p>
<p>wiki kudos though - the conscious use of expand has been VERY helpful and appreciated. Skip some, open some, come back later others. Sinking into this has been overwhelming - so many disparately moving pieces and interactions to keep track of. And I think of myself as a net/security computer guy with no little expertise, even. What has become clear, though, is I’m not nearly paranoid enough (and have no real reason to be). And I’m also convinced that even the most paranoid aren’t nearly paranoid enough. [So, one has to become as paranoid as they are able / can tolerate to be, evolving every day - but it will never be paranoid enough, and one just has to live with that.]</p>
<p>As for documentation, as you note / hint … making it much like code is helpful. i.e. Principle and design/approach documents cross-linking with technical discussions / links, leading to code, etc. Much like rationalizing a database, or breaking up a bit of code into sub-functions. Agreed - non-trivial amount of work, vs just blasting in a few pages of code comments.</p>
<p>Thanks for the reminder … I had quite forgotten about comments in code (one doesn’t really even have to be able to read code - comments are, well, prose). And is, after all, the availability of which is a base tenet inherent to FOSS. D’OH!</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/7</link>
        <pubDate>Mon, 07 Dec 2015 22:39:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-7</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="1" data-topic="1724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/rantocaudgb/40/135_1.png" class="avatar"> rAntOCauDgb:</div>
<blockquote>
<p>Seems to me I have seen it work - perhaps only shortly after boot time / while Tor is establishing itself?</p>
</blockquote>
</aside>
<p>Possible. Run whonixcheck to see if it’s fully able to establish outgoing connections.[quote=“rAntOCauDgb, post:1, topic:1724”]<br>
is there a link that explains what’s going on / why it sometimes works but mostly doesn’t / how to work with it?<br>
[/quote]<br>
I don’t think so because nothing Whonix does discriminates apt-get vs aptitude.[quote=“rAntOCauDgb, post:1, topic:1724”]<br>
e.g. seems to me that nslookup and ping fail too. traceroute even. However, nslookup now appears to be working, ping not working makes sense, and nslookup -4T effects the same connectivity sanity check. (But shows no path steps - no doubt intentional / a good thing.)<br>
[/quote]<br>
Note, Whonix-Gateway has transparent proxying disabled by default which can be optionally enabled. ( <a href="https://www.whonix.org/wiki/Whonix-Gateways_Own_Traffic_Transparent_Proxy">https://www.whonix.org/wiki/Whonix-Gateways_Own_Traffic_Transparent_Proxy</a> )<br>
So any extra applications not configured explicitly to use a Tor SocksPort on the gateway will fail unless you enable transparent proxying for the gateway’s own traffic. (I haven’t heard a use case yet where this would make sense.)</p>
<aside class="quote" data-post="1" data-topic="1724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/rantocaudgb/40/135_1.png" class="avatar"> rAntOCauDgb:</div>
<blockquote>
<p>and, in writing this, I notice that cut and paste (the clipboard) between host and whonix-workstation works fine, but not whonix-gateway. Pointers to links explaining that would also be welcome.</p>
</blockquote>
</aside>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/VirtualBox_Guest_Additions#Shared_Folder" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.whonix.org/w/images/d/de/Cd-699786640.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/VirtualBox_Guest_Additions#Shared_Folder" target="_blank" rel="nofollow noopener">VirtualBox/Guest Additions</a></h3>

<p>Instructions for installing VirtualBox Guest Additions in Whonix. Shared Folders, Mouse Integration, etc.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="quote" data-post="1" data-topic="1724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/rantocaudgb/40/135_1.png" class="avatar"> rAntOCauDgb:</div>
<blockquote>
<p>which is all to say, I guess in my reading through the wiki I missed any ‘nature of the whonix-gateway environment’ section. Any links?</p>
</blockquote>
</aside>
<p>From a users perspective, everything you need to know can be find in the documentation. From a developers perspective, I was wondering for a long time already if any kind of design documentation makes sense anyhow. It only increases the total amount of stuff to read to fully know what Whonix does and what not. This higher total amount results, as I suspect, to fewer people going to even start reading. Best to have the rationale, the design, the explanations why X and Y is done in Z way and not otherwise directly in the source code as comments. Otherwise design documentation gets to look more complicated, outdated as things develop, confusing, etc.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/6</link>
        <pubDate>Mon, 07 Dec 2015 09:49:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-6</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="4" data-topic="1724" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>But apt-get does work?</p>
</blockquote>
</aside>
<p>You already said above it does… So… Another answer soon.</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/5</link>
        <pubDate>Mon, 07 Dec 2015 09:41:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-5</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
      <item>
        <title>&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>But apt-get does work?</p>
          <p><a href="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724/4</link>
        <pubDate>Mon, 07 Dec 2015 07:26:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1724-4</guid>
        <source url="http://forums.whonix.org/t/aptitude-update-fails-most-of-the-time-on-whonix-gateway-only-it-turns-out/1724.rss">&#39;aptitude update&#39; - fails (most of the time?) [on whonix-gateway only, it turns out]</source>
      </item>
  </channel>
</rss>
