<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
    <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461</link>
    <description>###This thread is now deprecated in favor of the wiki entry:
https://www.whonix.org/wiki/Qubes/Disposable_VM

----------


----------

Just starting a topic to share tips and ask for help. And gather items to add to the wiki. 

Create: https://www.whonix.org/wiki/Qubes/Disposable_VM
Customize: https://www.qubes-os.org/doc/dispvm-customization/
Use: https://www.qubes-os.org/doc/dispvm/

Motivation: Since Tor Browser doesn&#39;t save history anyway, there&#39;s no reason to expose the rest of your Workstation to the Internet. Ideally, all browsing should be done in DispVMs. Exceptions, if any, should only be made for trusted, bookmarked, white-listed sites.

* DispVMs are assigned their own IP address - meaning all of their traffic is stream isolated from your other Workstations.
* Qubes [secure clipboard](https://www.qubes-os.org/doc/copy-paste/) and [secure file copy](https://www.qubes-os.org/doc/copying-files/) make it easy to exchange information with a DispVM.

Until [this ticket](https://github.com/QubesOS/qubes-issues/issues/1339) is solved (planned for Qubes 4.0), here&#39;s the non-user-friendly method to add DispVM shortcuts to the application menu:

**Warning**: A Whonix-Workstation based custom Disposable VM must be created first using the steps above. Otherwise, these commands will generate a DispVM based on the default Fedora DispVM Template.
**Warning2**: Check netVM. (Already in the wiki.)

1. Right-click Application Launcher Menu
2. Select `Edit Applications...`
3. Select `DisposableVM` fromVM entries on the left panel
4. Click `New Item` on the Toolbar
5. Type in a `Name` for the shortcut
6. Example `Commands`:
**Tor Browser**
`sh -c &#39;echo torbrowser | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red&#39;`
[s]`sh -c &#39;echo /home/user/.tb/tor-browser/Browser/start-tor-browser | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red&#39;`[/s]
**Konsole**
`sh -c &#39;echo konsole | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red&#39;`
**Dolphin**
`sh -c &#39;echo dolphin | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red&#39;`
7. Click on the square in the upper right if you&#39;d like to choose an icon
(Custom application icons are stored in `/var/lib/qubes/&lt;type of vm&gt;/&lt;vm name&gt;/apps.icons/`)
8. Click `Save`

This is a major upgrade! Thanks Whonix team!</description>
    <language>en</language>
    <lastBuildDate>Mon, 05 Dec 2016 16:22:51 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[rustybird]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="16" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p><a class="mention" href="http://forums.whonix.org/u/rustybird">@rustybird</a> mentions keepassx integration on his split-browser roadmap. That would be very useful.</p>
</blockquote>
</aside>
<p>'fraid to say this probably won’t happen anytime soon… KeePassX doesn’t expose any API that <code>split-browser-login</code> could use:</p>
<ul>
<li><a href="https://dev.keepassx.org/issues/91" rel="nofollow noopener">https://dev.keepassx.org/issues/91</a></li>
<li><a href="https://github.com/keepassx/keepassx/pull/111" rel="nofollow noopener">https://github.com/keepassx/keepassx/pull/111</a></li>
</ul>
<p>There is however a fork called KeePassXC that does:</p>
<ul>
<li><a href="https://github.com/keepassxreboot/keepassxc" rel="nofollow noopener">https://github.com/keepassxreboot/keepassxc</a></li>
</ul>
<p>But that would only be the interface between KeePassX© and <code>split-browser-login</code>, whereas <code>split-browser-login</code> would still communicate with the DisposableVM’s browser via fake keypresses.</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/25</link>
        <pubDate>Mon, 05 Dec 2016 16:22:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-25</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>For all of you who thought I would never write a page, wiki is hereby pending update: <a href="https://www.whonix.org/wiki/Qubes/Disposable_VM">https://www.whonix.org/wiki/Qubes/Disposable_VM</a></p>
<p><span class="hashtag">#notvaporwiki</span></p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/24</link>
        <pubDate>Mon, 05 Dec 2016 05:33:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-24</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>See my comments and suggested wiki entries on Patrick’s thread above.</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/23</link>
        <pubDate>Sun, 04 Dec 2016 13:09:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-23</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>You might be interested in this related tb-updater thread:</p>
<p><a href="https://forums.whonix.org/t/tb-updater-experimental-alpha-beta-rc-hardened-options">https://forums.whonix.org/t/tb-updater-experimental-alpha-beta-rc-hardened-options</a></p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/22</link>
        <pubDate>Sun, 04 Dec 2016 00:58:05 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-22</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>There are multiple layers of confusion here. It’s a mess from a users point of view.</p>
<ul>
<li>Tor Browser updating / tb-updater is confusing (Tor Browser ought to be installed as a deb, then all confusion would vanish)</li>
<li>tb-updater interaction with Qubes TemplateVM vs AppVM is confusing -  <a href="https://www.whonix.org/wiki/Tor_Browser#Qubes_specific">https://www.whonix.org/wiki/Tor_Browser#Qubes_specific</a>
</li>
<li>Qubes “double layered” DispVM implementation is confusing</li>
</ul>
<p>EDIT, added these two points:</p>
<ul>
<li>Qubes DisposableVM-Template is actually started “like an AppVM”</li>
<li><a href="https://www.qubes-os.org/doc/bind-dirs/">https://www.qubes-os.org/doc/bind-dirs/</a></li>
</ul>
<p>And when you mix all of that together, we have the ultimate usability mess.</p>
<p>In Qubes 4.0 hopefully DispVM implementation will get a lot simpler. Then one can have multiple DispVMs easily. No more double layered template. No more savefile. For a TemplateBased AppVM then hopefully “persistent /home” will just be an enabled / disabled checkbox. At least that is what we agreed upon at 32c3 meeting.</p>
<a href="https://forums.whonix.org/t/qubes-dispvm-technical-discussion">https://forums.whonix.org/t/qubes-dispvm-technical-discussion</a>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/21</link>
        <pubDate>Sat, 03 Dec 2016 16:24:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-21</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="15" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>dom0 keeps reporting “anon-whonix is not a directory”.</p>
</blockquote>
</aside>
<p>Please report a bug against Qubes.<br>
<a href="https://github.com/QubesOS/qubes-issues/issues">https://github.com/QubesOS/qubes-issues/issues</a></p>
<aside class="quote" data-post="18" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Sure. You can cheat right now by going to <a href="https://github.com/Whonix/tb-updater">https://github.com/Whonix/tb-updater</a> and looking at the latest commit. relevant setting is stored in /usr/share/tb-updater/tbb_hardcoded_version</p>
</blockquote>
</aside>
<p>I don’t recommending editing <code>/usr/share/tb-updater/tbb_hardcoded_version</code> since it will be overwritten on next update anyhow. If anything, use instead:</p>
<ul>
<li>Whonxi 13: <code>/etc/torbrowser.d/50_user.conf</code>
</li>
<li>Whonix 14: <code>/etc/torbrowser.d/50_user.conf</code> / <code>/rw/config/torbrowser.d/50_user.conf</code>
</li>
</ul>
<p>Also modifying <code>tbb_hardcoded_version</code> is not useful at all. If you want to manually set it to a fixed value you can use <code>tbb_version</code> which is designed to have priority over anything that <code>tbb_hardcoded_version</code> does. Example:</p>
<pre><code>tbb_version="6.5a5-hardened"
</code></pre>
<p>Even manually setting <code>tbb_version</code> in config does not great since then one will keep that version forever (unless manually modified again) even when <code>tbb_hardcoded_version</code> is higher. So perhaps I should add a variable “<code>tbb_use_this_version_if_higher_than_tbb_hardeced_version</code>”? (Any variable name suggestions?)</p>
<p>Btw <code>update-torbrowser</code> can be used completely without user interaction. I.e. all question can be answered beforehand by setting the right variables. This is currently not documented and becomes only clear by reading the <code>update-torbrrowser</code> script code.</p>
<p>The automatic Tor Browser upgrade when the tb-updater package is upgraded can also be disabled. That is documented here:<br>
<a href="https://www.whonix.org/wiki/Tor_Browser#Qubes_specific">https://www.whonix.org/wiki/Tor_Browser#Qubes_specific</a></p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/20</link>
        <pubDate>Sat, 03 Dec 2016 16:14:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-20</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="14" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>[Is Tor Browser automatically installed when dispVM is created (as per new appVMs)?</p>
</blockquote>
</aside>
<p>When DispVM template is created</p>
<aside class="quote" data-post="14" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>It’s much simpler to wait for tb-updater to update anon-whonix</p>
</blockquote>
</aside>
<p>I guess you meant <code>whonix-ws</code>.</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/19</link>
        <pubDate>Sat, 03 Dec 2016 15:27:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-19</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="17" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>Might I suggest that your guide also add an optional step around ‘hard-coding’ the hardened-Tor Browser for future updates done via the Tor updater?</p>
</blockquote>
</aside>
<aside class="quote" data-post="17" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>I can’t remember seeing in the Whonix documentation where the ‘hard coding’ option is set, or how this is done.</p>
</blockquote>
</aside>
<p>Sure. You can cheat right now by going to <a href="https://github.com/Whonix/tb-updater">https://github.com/Whonix/tb-updater</a> and looking at the latest commit. relevant setting is stored in <code>/usr/share/tb-updater/tbb_hardcoded_version</code></p>
<hr>
<aside class="quote" data-post="17" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>That is, I noted that after WS templates were updated yesterday for 6.0.7, it automatically over-rides the alpha version I had manually downloaded.</p>
</blockquote>
</aside>
<p>Ok, this means that I jumped to wrong conclusion re:</p>
<aside class="quote" data-post="14" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Is Tor Browser automatically installed when dispVM is created (as per new appVMs)?</p>
</blockquote>
</aside>
<p>So I checked and dispVM template is indeed treated as an appVM for qubes-vm-type purposes, which means that TBB is in fact installed by <code>first-boot-home-population</code> when a dispVM is first created. Which means that this comment from you doesn’t jive:</p>
<aside class="quote" data-post="15" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>It was in fact very annoying, because using the normal whonix-ws TemplateVM always meant that the dispVM provided an outdated Tor Browser i.e. because it is the Tor Browser instance in whonix-ws AppVMs that are constantly updated by users (with internal updaters), and not the whonix-ws-templateVM version.</p>
</blockquote>
</aside>
<p>The whonix-ws version should be up-to-date (just a few days later) (with the stable TBB) (unless you disable tb-updater). Ok, now we’re on the same page.</p>
<p>And yes, to confirm your observation, if you manually install hardened TBB in whonix-ws template: <code>/home/user/.tb/</code>, then it will be overwritten when you create a new appVM or dispVM template, by whatever tb-updater has downloaded.</p>
<hr>
<p>This also means that there are 2 methods to update Tor Browser in a Disposable VM:</p>
<ol>
<li>
<p>For a non-customized whonix-ws dispVM, the easiest method is to keep whonix-ws updated and <code>qvm-create-default-dvm whonix-ws</code> each time <code>tb-updater</code> package is updated.</p>
</li>
<li>
<p>For a customized whonix-ws dispVM, follow the instructions above. <a href="https://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/14">Using Whonix-Workstation as a DisposableVM (DispVM)</a></p>
</li>
</ol>
<hr>
<p>And, this also simplifies <strong>initial dispVM creation method</strong>:</p>
<p>(optional) 0. choose TBB version by editing hardcoded setting</p>
<ol>
<li>make sure whonix-ws is up-to-date by running apt-get.</li>
<li><code>qvm-create-default-dvm whonix-ws</code></li>
<li>show Internal VMs</li>
<li>confirm netVM</li>
<li>done. continue only if you want to customize the dispVM template</li>
<li>steps <span class="hashtag">#4-9</span> from my previous post, minus <span class="hashtag">#6</span>.</li>
</ol>
<p>Ok, big mess here… time to update the wiki. The hardcoded stuff is probably going to go in a footnote - it’s confusing and not recommended.</p>
<hr>
<p><a class="mention" href="http://forums.whonix.org/u/torjunkie">@torjunkie</a> when you have time, please let me know if the xfce instructions work.</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/18</link>
        <pubDate>Sat, 03 Dec 2016 08:53:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-18</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Great! Thanks for this information.</p>
<p>I figured the way I did it was incorrect, so I had cloned the Whonix-WS template first so I could ‘undo’ the damage of my hack and do it the correct way. <img src="//forums.whonix.org/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p>Might I suggest that your guide also add an optional step around ‘hard-coding’ the hardened-Tor Browser for future updates done via the Tor updater? That is, I noted that after WS templates were updated yesterday for 6.0.7, it automatically over-rides the alpha version I had manually downloaded.</p>
<p>I figure that if the hardcore Qubes-Whonix fans are going to bother with dispVMs in this manner, many will want the hardened browser by default.</p>
<p>I can’t remember seeing in the Whonix documentation where the ‘hard coding’ option is set, or how this is done.</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/17</link>
        <pubDate>Sat, 03 Dec 2016 05:41:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-17</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="15" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>LOL @ running torbrowser in the terminal. I imagined something complex i.e. terminal wizardy.</p>
</blockquote>
</aside>
<p>Made same mistake - see strikethrough in OP. Embarrassing <img src="//forums.whonix.org/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<aside class="quote" data-post="15" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>For login credentials stored in an off-line VM (like vault), do you store them with a password manager and then use secure cut and paste into Tor Browser? This does indeed seem much safer than typing passwords into Tor Browser because it avoids potential keylogging from an exploited session.</p>
</blockquote>
</aside>
<p>I use keepassx to store credentials and urls too - the onion names are important to keep secure as well. It’s more out of habit and convenience though -  not much gain in security over just using a plain text file in a vaultVM because dom0 compromise would be game over anyway.</p>
<p>In terms of keyloggers, any competent keylogger should be monitoring clipboard also so copy/pasting might not help that much. The original KeePass2 has auto-type obfuscation: <a href="http://keepass.info/help/v2/autotype_obfuscation.html">http://keepass.info/help/v2/autotype_obfuscation.html</a>. That would help for limited observations. The real advantage to off-VM storage is limited exposure in case of compromise.</p>
<p><a class="mention" href="http://forums.whonix.org/u/rustybird">@rustybird</a> mentions keepassx integration on his split-browser roadmap. That would be very useful. And it could be set to wipe the clipboard automatically after paste (tip from <a class="mention" href="http://forums.whonix.org/u/patrick">@patrick</a> in hardening thread). (Does it do that already?)</p>
<aside class="quote" data-post="15" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>For the interest of other Qubes 3.2 users, I realized I could not get not get qvm-create-default-dvm to work off an existing whonix-ws appVM</p>
</blockquote>
</aside>
<p>That is correct. DispVMs must be based on <strong>templateVMs</strong>. I see my mistake - edited. Sorry.</p>
<aside class="quote" data-post="15" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>It was in fact very annoying, because using the normal whonix-ws TemplateVM always meant that the dispVM provided an outdated Tor Browser</p>
</blockquote>
</aside>
<p>Great, this answers my question:</p>
<aside class="quote" data-post="14" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Is Tor Browser automatically installed when dispVM is created (as per new appVMs)?</p>
</blockquote>
</aside>
<p>So your instructions work fine. However, if we want to get nitpicky, that might not be considered canonical by Qubes devs. TemplateVMs should only have network connectivity via the update proxy. Whonix-Gateway provides general connectivity via Tor to all connected templateVMs because it uses it’s own non-standard firewall rules.</p>
<p>The way to install Tor Browser in your dispVM while keeping customizations and also maintaining templateVM sanctity(?) is to do the following:</p>
<ol>
<li>create the dispVM based on your whonix-ws template first:<br>
<code>qvm-create-default-dvm whonix-ws</code>
</li>
<li>enable <code>show internal VMs</code> in Qubes VM Manager</li>
<li>confirm netVM for <code>whonix-ws-dvm</code> is set to <code>sys-whonix</code>
</li>
<li>launch terminal in <code>whonix-ws-dvm</code> by right-clicking in QubesVMM; or via <code>qvm-run -a whonix-ws-dvm &lt;konsole | gnome-terminal | xterm&gt;</code>
</li>
<li>in dvm terminal: <code>touch /home/user/.qubes-dispvm-customized</code>
</li>
<li>install tor browser via <code>update-torbrowser</code> or manually. Or if you’ve kept updating tbupdater via apt-get, you can just <code>cp -r /var/cache/tb-binary/.tb /home/user/</code>
</li>
<li>customize dispVM however you want.</li>
<li>shutdown dispVM</li>
<li>dom0: <code>qvm-create-default-dvm whonix-ws</code><br>
All of your changes should persist.</li>
</ol>
<p>[this will get written up this weekend! <img src="//forums.whonix.org/images/emoji/twitter/cry.png?v=5" title=":cry:" class="emoji" alt=":cry:">]</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/16</link>
        <pubDate>Fri, 02 Dec 2016 20:03:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-16</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Thanks a lot entr0py, good information!</p>
<p>I’m sending this message from the Tor Browser 6.5.a5-hardened in a disposable VM. Two thumbs up. <img src="//forums.whonix.org/images/emoji/twitter/+1.png?v=5" title=":+1:" class="emoji" alt=":+1:"></p>
<p>LOL @ running torbrowser in the terminal. I imagined something complex i.e. terminal wizardy.</p>
<p>For login credentials stored in an off-line VM (like vault), do you store them with a password manager and then use secure cut and paste into Tor Browser? This does indeed seem much safer than typing passwords into Tor Browser because it avoids potential keylogging from an exploited session.</p>
<p>For the interest of other Qubes 3.2 users, I realized I could not get not get qvm-create-default-dvm to work off an existing whonix-ws appVM (normally labelled anon-whonix in the default arrangement, unless you’ve changed it manually).</p>
<p>dom0 keeps reporting “anon-whonix is not a directory”.</p>
<p>Since it works for entr0py in Qubes 3.1, maybe there has been some change? A little strange.</p>
<p>It was in fact very annoying, because using the normal whonix-ws TemplateVM always meant that the dispVM provided an outdated Tor Browser i.e. because it is the Tor Browser instance in whonix-ws AppVMs that are constantly updated by users (with internal updaters), and not the whonix-ws-templateVM version.</p>
<p>If you experience this same problem, the workaround is to:</p>
<ul>
<li>run the Tor Browser updater in your whonix-ws-templateVM</li>
<li>download the latest Tor Browser with critical fixes from the last day or two</li>
<li>download version 6.0.7 if you want the stable version or 6.5.a5-hardened if you want the beast version</li>
<li>check the fingerprint matches Tor signing keys on <a href="http://torproject.org">torproject.org</a>
</li>
<li>install</li>
<li>then run in dom0: qvm-create-default-dvm whonix-ws</li>
</ul>
<p>This will create a dispVM called whonix-ws-dvm (you can see it by selecting ‘Show/Hide internal vms’ under the Qubes VM manager View menu). Doublecheck the network VM is set to sys-whonix.</p>
<p>The problem with this method is that you will have to repeat this process every time a new TBB release comes out. Further, no bookmarks or other minor changes will be maintained e.g. add-on/search preferences.</p>
<p>I haven’t yet worked out the XFCE menus and how to add the Tor Browser entry (next project!), so in the meantime follow entropy’s advice above to run Tor Browser in a dispVM. That is:</p>
<ol>
<li>Run ‘xterm’ from the disposableVM menu under the Qubes VM Manager menu</li>
<li>Then simply run the command: torbrowser</li>
</ol>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/15</link>
        <pubDate>Fri, 02 Dec 2016 15:19:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-15</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p><strong>How to Update Tor Browser in a (Customized) Whonix DisposableVM</strong></p>
<p><code>tb-updater</code> updates Whonix-Workstation TemplateVM (whonix-ws) local copy of TBB stored in <code>/var/cache/tb-binary</code>.<br>
<code>tb-updater</code> does not update existing Tor Browser installations in appVMs or in the dispVM.</p>
<p>Assuming your dispVM is named <code>whonix-ws-dvm</code>:</p>
<ol>
<li>Make sure Qubes VM Manager &gt; View &gt; Show Internal VMs is checked.</li>
<li>Right-click <code>whonix-ws-dvm</code> in Qubes VM Manager and select <code>Run Command in VM</code>
</li>
<li>Type <code>torbrowser</code> and click <code>Ok</code>
</li>
<li>Use Tor Browser’s Internal Updater by clicking TorButton and selecting <code>Check for Tor Browser Update</code>
</li>
<li>Restart and close Tor Browser</li>
<li>Right-click <code>whonix-ws-dvm</code> and select <code>Shutdown VM</code>
</li>
<li>Regenerate dispVM image by running in dom0 terminal:<br>
<code>qvm-create-default-dvm whonix-ws</code>
</li>
</ol>
<p>[Is Tor Browser automatically installed when dispVM is created (as per new appVMs)? I can’t remember. If yes, then these instructions are only necessary for customized dispVMs. It’s much simpler to wait for tb-updater to update <span class="bbcode-s"><code>anon-whonix</code></span> <code>whonix-ws</code> and then just create a fresh dispVM template every time there is a new TBB.]</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/14</link>
        <pubDate>Thu, 01 Dec 2016 05:10:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-14</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="12" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Obviously, closing Tor Browser won’t destroy the dispVM - you’ll need to exit from Konsole to do that.</p>
</blockquote>
</aside>
<p>Actually, I find this to be a <strong>benefit</strong> and for any extended dispVM session, I’ll always launch Konsole first. I can’t tell you how many times I’ve downloaded files in TBB, launched Konsole to manipulate them, and then shut down TBB and lost everything. Now I open a Konsole and launch all my disposable programs from that. Then I know everything will persist until I exit Konsole.</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/13</link>
        <pubDate>Thu, 01 Dec 2016 04:11:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-13</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="11" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>If not, should we just run Tor Browser from dispVM terminal? Can you post the necessary command? Thanks.</p>
</blockquote>
</aside>
<p>If you can launch a Whonix-Workstation dispVM terminal, you can also launch Tor Browser by using <code>torbrowser</code> command. Obviously, closing Tor Browser won’t destroy the dispVM - you’ll need to exit from Konsole to do that.</p>
<aside class="quote" data-post="11" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/f9ae1b/40.png" class="avatar"> torjunkie:</div>
<blockquote>
<p>The guides on-line for manually editing XFCE menus are horrendous.</p>
</blockquote>
</aside>
<p>Ha! I just got done complaining about that…</p>
<aside class="quote" data-post="56" data-topic="3183">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"><a href="//forums.whonix.org/t/updating-whonix-from-jessie-to-stretch-migration-to-gnome-shell-port-to-gnome-ish-applications/3183/56">updating Whonix from jessie to stretch / Migration to Gnome-Shell / port to GNOME-ish applications</a>
</div>
<blockquote>
<p>xfce4: I couldn’t figure it out last time so I had to go look it up. I remember I edited some config files. I’ve since forgotten how to do it and so had to go look it up again. <a href="https://wiki.xfce.org/howto/customize-menu">https://wiki.xfce.org/howto/customize-menu</a>. <img src="//forums.whonix.org/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"> Apparently we can install menu editors…</p>
</blockquote>
</aside>
<p>I can’t try myself as I’m still on 3.1. I guess I’ll make the leap with Whonix 14. So keep in mind that I’m flying blind as I type the steps below and also this might not work at all.</p>
<ul>
<li>
<p>First, make sure <code>xfdesktop</code> is installed. <code>dnf list installed xfdesktop</code></p>
</li>
<li>
<p>You need to make <code>.desktop</code> files for every dispVM shortcut you want to add to your menus. (Manual: <a href="https://specifications.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html">https://specifications.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html</a>) They need to be put in <code>~/.local/share/applications/</code></p>
</li>
<li>
<p>For example: <code>nano ~/.local/share/applications/dvm-torbrowser.desktop</code><br>
Add:</p>
<p>[Desktop Entry]<br>
Name=Tor Browser<br>
Comment=Launch Tor Browser in Disposable VM<br>
Type=Application<br>
Terminal=false<br>
Exec=sh -c ‘echo torbrowser | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red’</p>
</li>
</ul>
<p>You can play around with Icon=, Category=</p>
<ul>
<li>
<p>To add the .desktop files to your menu, you need to: <code>nano ~/.config/menus/xfce-applications.menu</code></p>
</li>
<li>
<p>Scroll down until you see:</p>
<p><code>&lt;Menu&gt; &lt;Name&gt;DispVM-blah-blah&lt;/Name&gt;</code></p>
</li>
</ul>
<p>then in the <code>&lt;Include&gt;</code> section add:<br>
<code>&lt;Filename&gt;dvm-torbrowser.desktop&lt;/Filename&gt;</code></p>
<p>That might work… maybe. (Shouldn’t need reboot.)</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/12</link>
        <pubDate>Thu, 01 Dec 2016 03:54:48 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-12</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[torjunkie]]></dc:creator>
        <description><![CDATA[
            <p>Hi entr0py and Patrick,</p>
<p>This guide works fine up to the step of adding the menu items, due to the 3.2 version of Qubes shifting to XFCE as default. That is, there is no “Edit Applications…” option.</p>
<p>The guides on-line for manually editing XFCE menus are horrendous. Have you managed to add a Tor Browser menu entry under the disposable VM menu listing? If so, can you please share?</p>
<p>If not, should we just run Tor Browser from dispVM terminal? Can you post the necessary command? Thanks.</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/11</link>
        <pubDate>Thu, 01 Dec 2016 02:52:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-11</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Could you add this please to the wiki? Usage instructions currently are not documented there. <a class="mention" href="http://forums.whonix.org/u/entr0py">@entr0py</a></p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Qubes/Disposable_VM" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:200/215;"><img src="https://www.whonix.org/w/images/5/55/Qubes-logo-icon.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Qubes/Disposable_VM" target="_blank" rel="nofollow noopener">Qubes/DisposableVM</a></h3>

<p>How to use DisposableVM with Qubes-Whonix</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/10</link>
        <pubDate>Mon, 28 Nov 2016 21:45:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-10</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Since I am lacking this… What is the command line tool to have the Qubes DVM Qubes start menu entry created? (I plan on running it to see if it outputs any errors.) //cc <a class="mention" href="http://forums.whonix.org/u/marmarek">@marmarek</a></p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/9</link>
        <pubDate>Wed, 18 May 2016 15:11:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-9</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>No.</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/8</link>
        <pubDate>Wed, 18 May 2016 15:04:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-8</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[adw]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="6" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I am lost at that step. There is no DisposableVM entry for me.</p>
</blockquote>
</aside>
<p>Strange, it should be there as part of a default Qubes installation. Is one generated with <code>qvm-create-default-dvm</code>?</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/7</link>
        <pubDate>Wed, 18 May 2016 15:00:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-7</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This is something too great to have it only in a forum post. I’d appreciate if you could add it to the wiki! (After sorting out my issue, of course. :))</p>
<aside class="quote" data-post="1" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<ol>
<li>Right-click Application Launcher Menu</li>
<li>Select Edit Applications…</li>
<li>Select DisposableVM fromVM entries on the left panel</li>
</ol>
</blockquote>
</aside>
<p>I am lost at that step. There is no DisposableVM entry for me. And I have not figured out how I could create a new entry that is on the same level as the other domains. As a sub menu, this would work, I suppose.</p>
<blockquote>
<p><code>sh -c 'echo /home/user/.tb/tor-browser/Browser/start-tor-browser | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red'</code></p>
</blockquote>
<p>Please edit and make that:</p>
<p>`sh -c ‘echo torbrowser | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red’``</p>
<p>It’s cleaner. Should work?</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/6</link>
        <pubDate>Wed, 18 May 2016 14:36:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-6</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="4" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/adw/40/686_1.png" class="avatar"> adw:</div>
<blockquote>
<p>(Is it possible that you missed the bolded part?)</p>
</blockquote>
</aside>
<p>Yes! Pardon my semi-literacy. I see your point now. As a <strong>Warning</strong>: whonix-ws based dispVM must be setup prior to issuing these commands or you will launch the default fedora dispVM! (And it may or may not be using whonix-gw as netVM). Being able to explicitly call a whonix-ws dispVM would be a much safer option. (As would being able to define the --default-[DVM]template.)</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/5</link>
        <pubDate>Wed, 18 May 2016 03:13:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-5</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[adw]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="3" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Not sure what you’re referring to… The menu shortcuts? According to Qubes Docs, “Note that currently Qubes supports exactly one DispVM template, so any changes you make here will affect all DispVMs.” The same shortcuts call whonix-dvm when that is the only configured dvm-template.</p>
</blockquote>
</aside>
<p>If your DVM template were based on a non-<code>whonix-ws</code> template (which it’s not), then your DispVMs would not be based on <code>whonix-gw</code>. That’s all.</p>
<p>(Is it possible that you missed the bolded part?)</p>
<aside class="quote" data-post="2" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/adw/40/686_1.png" class="avatar"> adw:</div>
<blockquote>
<p>Is your DVM template based on whonix-ws? <strong>If not</strong>, doesn’t this method […]</p>
</blockquote>
</aside>
<hr>
<aside class="quote" data-post="3" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>(Axon: Looking forward to 3.2 and a Qubes Forum. Isn’t this nice and cozy over here?)</p>
</blockquote>
</aside>
<p>Indeed, it is very nice, but discussions about a Qubes forum are still ongoing.</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/4</link>
        <pubDate>Wed, 18 May 2016 03:02:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-4</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="2" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/adw/40/686_1.png" class="avatar"> adw:</div>
<blockquote>
<p>Is your DVM template based on whonix-ws?</p>
</blockquote>
</aside>
<p>Yes. Prior version (Whonix-12) had issues being used as a DVM template.</p>
<aside class="quote" data-post="2" data-topic="2461">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/adw/40/686_1.png" class="avatar"> adw:</div>
<blockquote>
<p>doesn’t this method</p>
</blockquote>
</aside>
<p>Not sure what you’re referring to… The menu shortcuts? According to Qubes Docs, “Note that currently Qubes supports exactly one DispVM template, so any changes you make here will affect all DispVMs.” The same shortcuts call whonix-dvm when that is the only configured dvm-template. (From the current active thread on qubes-devel, looks like this will all change in Qubes4).</p>
<p>(As a side benefit, no more need for my fedora-23 template and its fat (firefox, icedove, etc.) Switched to fedora-23-minimal for ServiceVMs (sys-net, sys-usb, etc) and everything else is whonix.)</p>
<p>(Axon: Looking forward to 3.2 and a Qubes Forum. Isn’t this nice and cozy over here?)</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/3</link>
        <pubDate>Wed, 18 May 2016 02:40:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-3</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[adw]]></dc:creator>
        <description><![CDATA[
            <p>Is your DVM template based on <code>whonix-ws</code>? If not, doesn’t this method (which is the method I used with TorVM for years before switching to Qubes-Whonix) mean that your DispVM will be based on the default template (e.g., <code>fedora-23</code>)?</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/2</link>
        <pubDate>Wed, 18 May 2016 02:13:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-2</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
      <item>
        <title>Using Whonix-Workstation as a DisposableVM (DispVM)</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>##<span class="hashtag">#This</span> thread is now deprecated in favor of the wiki entry:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Qubes/Disposable_VM" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:200/215;"><img src="https://www.whonix.org/w/images/5/55/Qubes-logo-icon.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Qubes/Disposable_VM" target="_blank" rel="nofollow noopener">Qubes/DisposableVM</a></h3>

<p>How to use DisposableVM with Qubes-Whonix</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<hr>
<hr>
<p>Just starting a topic to share tips and ask for help. And gather items to add to the wiki.</p>
<p>Create: <a href="https://www.whonix.org/wiki/Qubes/Disposable_VM">https://www.whonix.org/wiki/Qubes/Disposable_VM</a><br>
Customize: <a href="https://www.qubes-os.org/doc/dispvm-customization/">https://www.qubes-os.org/doc/dispvm-customization/</a><br>
Use: <a href="https://www.qubes-os.org/doc/dispvm/">https://www.qubes-os.org/doc/dispvm/</a></p>
<p>Motivation: Since Tor Browser doesn’t save history anyway, there’s no reason to expose the rest of your Workstation to the Internet. Ideally, all browsing should be done in DispVMs. Exceptions, if any, should only be made for trusted, bookmarked, white-listed sites.</p>
<ul>
<li>DispVMs are assigned their own IP address - meaning all of their traffic is stream isolated from your other Workstations.</li>
<li>Qubes <a href="https://www.qubes-os.org/doc/copy-paste/">secure clipboard</a> and <a href="https://www.qubes-os.org/doc/copying-files/">secure file copy</a> make it easy to exchange information with a DispVM.</li>
</ul>
<p>Until <a href="https://github.com/QubesOS/qubes-issues/issues/1339">this ticket</a> is solved (planned for Qubes 4.0), here’s the non-user-friendly method to add DispVM shortcuts to the application menu:</p>
<p><strong>Warning</strong>: A Whonix-Workstation based custom Disposable VM must be created first using the steps above. Otherwise, these commands will generate a DispVM based on the default Fedora DispVM Template.<br>
<strong>Warning2</strong>: Check netVM. (Already in the wiki.)</p>
<ol>
<li>Right-click Application Launcher Menu</li>
<li>Select <code>Edit Applications...</code>
</li>
<li>Select <code>DisposableVM</code> fromVM entries on the left panel</li>
<li>Click <code>New Item</code> on the Toolbar</li>
<li>Type in a <code>Name</code> for the shortcut</li>
<li>Example <code>Commands</code>:<br>
<strong>Tor Browser</strong><br>
<code>sh -c 'echo torbrowser | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red'</code><br>
<span class="bbcode-s"><code>sh -c 'echo /home/user/.tb/tor-browser/Browser/start-tor-browser | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red'</code></span><br>
<strong>Konsole</strong><br>
<code>sh -c 'echo konsole | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red'</code><br>
<strong>Dolphin</strong><br>
<code>sh -c 'echo dolphin | /usr/lib/qubes/qfile-daemon-dvm qubes.VMShell dom0 DEFAULT red'</code>
</li>
<li>Click on the square in the upper right if you’d like to choose an icon<br>
(Custom application icons are stored in <code>/var/lib/qubes/&lt;type of vm&gt;/&lt;vm name&gt;/apps.icons/</code>)</li>
<li>Click <code>Save</code>
</li>
</ol>
<p>This is a major upgrade! Thanks Whonix team!</p>
          <p><a href="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461/1</link>
        <pubDate>Wed, 18 May 2016 01:12:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2461-1</guid>
        <source url="http://forums.whonix.org/t/using-whonix-workstation-as-a-disposablevm-dispvm/2461.rss">Using Whonix-Workstation as a DisposableVM (DispVM)</source>
      </item>
  </channel>
</rss>
