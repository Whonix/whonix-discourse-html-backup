<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
    <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657</link>
    <description>I was able to run Whonix on KVM without any errors by making the following changes to the installation procedures at https://www.whonix.org/wiki/KVM#Install_KVM :

1. I didn&#39;t add the line &quot;deb http://ftp.us.debian.org/debian/ wheezy-backports main&quot; to /etc/apt/sources.list

2. I used the command &quot;sudo apt-get install qemu-kvm libvirt-bin virt-manager&quot; instead of &quot;sudo apt-get install -t wheezy-backports qemu-kvm libvirt-bin virt-manager&quot;

3. I edited the xml files to remove the &quot;MemoryBacking&quot; tags and the &quot;hugepagetables&quot; line between them.

After running Whonix, I also tested that the rng was correctly installed by creating a key pair in KGPG.

I notice that it seems slower than Whonix under Virtualbox but I can&#39;t say to what extent that is due to either KVM or due to the absence of the hugepagetables setting.

I would like to ask:

What are the backports supposed to do?

What is the significance of leaving out the hugepagetables setting?</description>
    <language>en</language>
    <lastBuildDate>Thu, 18 Dec 2014 14:28:07 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="33" data-topic="657">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>I’m curious about what the <span class="bbcode-b">Phantom project</span> is about.</p>
</blockquote>
</aside>
<p><a href="https://www.whonix.org/forum/index.php/topic,782.0.html" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,782.0.html</a></p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/34">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/34</link>
        <pubDate>Thu, 18 Dec 2014 14:28:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-34</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>Thank you very much for following this up.</blockquote>
<p>No problem  <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>I’m curious about what the <span class="bbcode-b">Phantom project</span> is about.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/33">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/33</link>
        <pubDate>Thu, 18 Dec 2014 14:23:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-33</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Dennis]]></dc:creator>
        <description><![CDATA[
            <p>Thank you very much for following this up.</p>
<p>I’ve neglected it since Virtualbox has been sufficient to my needs, and I have been absorbed in selecting a language to learn for my Phantom project. Maybe something useful will come of the latter.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/32">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/32</link>
        <pubDate>Thu, 18 Dec 2014 13:27:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-32</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>I got answers behind the hugepages problems you’ve reported here. Yes I am a Fedora user.</p>
<p>The hugepages errors we saw is not a bug but a change in its behavior. Hugepages are not enabled in Linux by default and need to be done manually so the whonix vm was never using it anyway. older versions of qemu silently switched back to using regular system memory pages but now the newer versions force the need for hugepages and fail vm startup if they are not found. My solution is to remove hugepages from the default configuration and document how to enable them for those interested. I want Whonix to work with its default settings and not need and tinkering by users.</p>
<p><a href="https://bugzilla.redhat.com/show_bug.cgi?id=1173218" class="onebox" target="_blank">https://bugzilla.redhat.com/show_bug.cgi?id=1173218</a></p>
<p>The only real bug I saw with the recent version is with shared folders:<br>
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1173224" class="onebox" target="_blank">https://bugzilla.redhat.com/show_bug.cgi?id=1173224</a></p>
<blockquote>You won't say what your version your OS is</blockquote>
<p>I didn’t want to share that information because I was afraid of making it easier for de anonymizing. Hiding this made bug reporting difficult and ineffective. I over thought it and it isn’t that much help for unmasking.</p>
<p>Thanks to the assholes who devote so much effort and resources tracking innocent users, privacy enthusiasts and hacking sysadmins to violate everyone’s right to privacy, I don’t feel safe for my real identity to be associated with my contributions here. I don’t know if by just participating or something I said on the blog puts me on more of their shit lists.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/31">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/31</link>
        <pubDate>Thu, 18 Dec 2014 01:47:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-31</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Dennis]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for your answer. Before logging such requests I’m going to have to get Whonix out of the picture and reproduce it with, say, a generic Debian VM.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/30">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/30</link>
        <pubDate>Mon, 24 Nov 2014 10:29:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-30</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>That's from 2009, and it's marked as 100% complete., but the latest Debian packages are missing this feature? What am I missing in my my understanding of this? Remember, I'm no developer, just a newbie Debian administrator, at most.</blockquote>
<p>Ok now it makes sense to call it a bug. Its been supported a long time as you found out and my libvirt is 1.0 - a much older version than yours too.</p>
<p>With a problem like this its best to report it to upstream Debian and they should be able to fix it. Seeing it was reproduced by more people it should be easy to find. If its a libvirt regression then you will need to report it to libvirt mailinglist. Talking with both camps at the same time will help solve things quicker.</p>
<p>Its not the optimal answer you wanted to hear but please understand there is nothing I can personally do to fix it. I can try assisting you to find the right channels to report to. Meanwhile try running with the workaround you’re using.</p>
<p><a href="https://www.debian.org/Bugs/Reporting" class="onebox" target="_blank">https://www.debian.org/Bugs/Reporting</a><br>
<a href="https://lists.debian.org/" class="onebox" target="_blank">https://lists.debian.org/</a><br>
<a href="http://www.redhat.com/mailman/listinfo/libvir-list" class="onebox" target="_blank">http://www.redhat.com/mailman/listinfo/libvir-list</a></p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/29">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/29</link>
        <pubDate>Mon, 24 Nov 2014 05:55:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-29</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Dennis]]></dc:creator>
        <description><![CDATA[
            <p>I’m totally mystified why the failure of hugepages isn’t “a bug” but is simply a feature “not supported yet.”</p>
<p>According to:<br>
<a href="https://fedoraproject.org/wiki/Features/KVM_Huge_Page_Backed_Memory" class="onebox" target="_blank" rel="nofollow noopener">https://fedoraproject.org/wiki/Features/KVM_Huge_Page_Backed_Memory</a></p>
<blockquote>KVM Huge Page Backed Memory
Summary
<p>Enable KVM guests to use huge page backed memory in order to reduce memory consumption and improve performance by reducing CPU cache pressure.<br>
Owner</p>
<pre><code>Chris Wright -- chrisw redhat com
John Cooper -- john.cooper redhat com 
</code></pre>
<p>Current status</p>
<pre><code>Targeted release: Fedora 12
Last updated: 2009-09-24
Percentage of completion: 100% 
</code></pre>
<p>An SELinux issue in the kernel still remains, preventing full sVirt protection being applied to huge pages.<br>
Completed</p>
<pre><code>KVM support for huge pages
libvirt patch posted for running guests with -mem-path /dev/hugepages
libvirt patch-v2 posted which detects the host's hugetlbfs mount point automatically.
Identify SELinux issue in the kernel
Get the libvirt patch committed to libvirt-0.7.1&lt;/blockquote&gt;
</code></pre>
<p>That’s from 2009, and it’s marked as 100% complete., but the latest Debian packages are missing this feature? What am I missing in my my understanding of this? Remember, I’m no developer, just a newbie Debian administrator, at most.</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/28">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/28</link>
        <pubDate>Mon, 24 Nov 2014 02:47:29 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-28</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Dennis]]></dc:creator>
        <description><![CDATA[
            <p>“I am not sure why 2 was needed to make to work, but my guess is you had to remove the older version completely before installing the one from backports. whonixfaithfuldid not need to do this IIRC. I’m guessing then its either that or a system specific quirk which you ran into unfortunately.”</p>
<p>No, because it wasn’t an older version to begin with: I installed KVM from the backports repository onto a new installation of Debian Jessie. At that point I’m getting the multiple errors when trying to start Whonix. Then I uninstalled KVM, re-installed it from the SAME backports repository, and then Whonix starts OK if the hugepages option (only) is removed from the xml files. Like I said, checking the versions before and after gives the same versions.</p>
<p>Because it is repeatable on Debian, the same common distro that Whonix is a customization of, then it’s not really some peculiarity of “my version.”</p>
<p>You won’t say what your version your OS is, but could you please give the versions of the KVM packages that you are running?</p>
<p>By the way, I’m not trying to sound harsh, just making the facts clear. I’ve spent more time on this than I care to repeat, and it might have been made shorter if more information was available about what works and what doesn’t on what platforms.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/27">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/27</link>
        <pubDate>Mon, 24 Nov 2014 02:38:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-27</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>1. The hugepages bug.
<ol start="2">
<li>Why is it necessary to uninstall and re-install KVM?</li>
</ol>
</blockquote>

<p>1 is not really a bug, its a feature thats not supported by your version of KVM (yet).</p>
<p>I am not sure why 2 was needed to make to work, but my guess is you had to remove the older version completely before installing the one from backports. <span class="bbcode-b">whonixfaithful</span>did not need to do this IIRC. I’m guessing then its either that or a system specific quirk which you ran into unfortunately.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/26">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/26</link>
        <pubDate>Mon, 24 Nov 2014 01:49:10 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-26</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Dennis]]></dc:creator>
        <description><![CDATA[
            <p>libvirt-bin 1.2.9-3<br>
qemu-kvm 2.1+dfsg-7+b1<br>
virt-manager 1:1.0.1.1-3</p>
<p>Sure, I’m not saying you were saying it doesn’t happen. I went through this exercise in order to do two things:</p>
<ol>
<li>
<p>Give a recipe for anyone to run Whonix on KVM on Debian, minus hugepages but including everything else (such as the updated rng).</p>
</li>
<li>
<p>Establish a common, as-reproducible-as-possible platform for debugging the hugepages bug. I.e., using a default installation of Debian.</p>
</li>
</ol>
<p>I note that there are two problems:</p>
<ol>
<li>
<p>The hugepages bug.</p>
</li>
<li>
<p>Why is it necessary to uninstall and re-install KVM?</p>
</li>
</ol>
<p>By the way, I established that permissions aren’t involved: On one trial I enabled root login at the beginning, logged in as root and installed KVM and performed all operations as root. The result was exactly the same.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/25</link>
        <pubDate>Sun, 23 Nov 2014 14:50:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-25</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>Hulahoop, here is how to reproduce what I have seen, so anyone can verify it for themselves.</blockquote>
<p>Dennis I am not saying it doesn’t happen, but its become clear now whats doing this and how to fix it.</p>
<p>If I may ask, please list the version of your libvirt package here.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/24</link>
        <pubDate>Sun, 23 Nov 2014 12:48:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-24</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Dennis]]></dc:creator>
        <description><![CDATA[
            <p>Hulahoop, here is how to reproduce what I have seen, so anyone can verify it for themselves. I went through this today to confirm what I had found by accident previously, and using the current release of Debian Jessie.</p>
<p>Download latest the latest Debian Jessie from <a href="http://cdimage.debian.org/cdimage/weekly-builds/amd64/iso-cd/" rel="nofollow noopener">http://cdimage.debian.org/cdimage/weekly-builds/amd64/iso-cd/</a> . Any of them should do but the one I used was <a href="http://cdimage.debian.org/cdimage/weekly-builds/amd64/iso-cd/debian-testing-amd64-kde-CD-1.iso" rel="nofollow noopener">http://cdimage.debian.org/cdimage/weekly-builds/amd64/iso-cd/debian-testing-amd64-kde-CD-1.iso</a> (dated 2014-11-17).</p>
<ol>
<li>
<p>Burn the ISO to a CD and boot the target computer from the CD.</p>
</li>
<li>
<p>During installation, unselect “Gnome” and select “KDE”.</p>
</li>
<li>
<p>After installation has finished, run “sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade”.</p>
</li>
<li>
<p>Run “sudo apt-get install -t jessie-backports qemu-kvm libvirt-bin virt-manager”.</p>
</li>
<li>
<p>Then UNINSTALL and RE-INSTALL the same three packages:</p>
<p>“sudo apt-get remove qemu-kvm libvirt-bin virt-manager”</p>
<p>“sudo apt-get install -t jessie-backports qemu-kvm libvirt-bin virt-manager”</p>
</li>
</ol>
<p>Then proceed with the rest of the setup as given in <a href="http://whonix.org/wiki/KVM" rel="nofollow noopener">http://whonix.org/wiki/KVM</a></p>
<p>After the foregoing steps you will have only one error after running a Whonix VM: “unable to connect to monitor” which can be remedied by editing out the hugepages settings from the xml files, and recreating the vm.</p>
<p>I don’t know why step 5. is necessary but without it, I have consistently found that when I run the Whonix VMs I get the same cascade of errors as before (i.e., if I remove one section from the xml files then there will be another error, and so on), starting with the error about “ACPI S3”. One might think that reinstalling KVM shouldn’t make any difference since the versions of the packages are the same before and after (I checked that that was the case), and no dependency packages get uninstalled and reinstalled, just those three.</p>
<p>Anyway, I found the steps above reproducible over several trials.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/23</link>
        <pubDate>Sun, 23 Nov 2014 05:31:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-23</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>thanks <span class="bbcode-b">whonixfaithful</span> for confirming. Will make a note of this in the KVM versions sticky.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/22</link>
        <pubDate>Sun, 23 Nov 2014 04:16:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-22</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[whonixfaithful]]></dc:creator>
        <description><![CDATA[
            <p>I couldn’t boot on a Linux Mint 17 host (a Debian/Ubuntu derivative) until I deleted the hugepages settings. See prior thread I made here: <a href="https://www.whonix.org/forum/index.php/topic,674.0.html" data-bbcode="true" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,674.0.html</a>.</p>
<p>I think it’s a Debian related thing.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/21</link>
        <pubDate>Sun, 23 Nov 2014 02:39:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-21</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Dennis were you able to get Whonix KVM working on your host at any point? Does removing hugepagetables do it?</p>
<p>I can tell you that its not an apparmor problem almost certainly. And settings inside the vm should never affect something on the host.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/20</link>
        <pubDate>Sat, 22 Nov 2014 02:42:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-20</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>Which is non-ideal. Perhaps we should try to find another KVM maintainer that uses Debian? You as Fedora(?) host user + someone else?</blockquote>
<p>If you feel its necessary I’m fine with it. Although its not really enough that they use Debian, they would have to be knowledgeable about Apparmor rules too if thats the case.</p>
<p>Its most likely a problem with hugepagetables not being supported by KVM on Debian yet. I am willing to keep an updated list of settings that need to be removed for Whonix on Debian to work. B</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/19</link>
        <pubDate>Sat, 22 Nov 2014 02:38:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-19</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="17" data-topic="657">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/d/e56c9b/40.png" class="avatar"> Dennis:</div>
<blockquote>
<p>It is possible that the apparmor INSIDE my Whonix-Gateway is the cause of the Whonix-Gateway not starting</p>
</blockquote>
</aside>
<p>Unlikely. You should at least see the virtual BIOS (no AppArmor there) and the initial boot. If AppArmor was badly broken, it would boot up and then stop, or endlessly reboot.</p>
<blockquote>Is there a way to start Whonix-Gateway with its apparmor disabled?</blockquote>
Recovery mode has apparmor disabled.
<p>Also undoing the effects of the grub-enable-apparmor package. Easy for debugging purposes by purging it (sudo apt-get purge grub-enable-apparmor). Not so easy for production builds, see <a href="https://www.whonix.org/wiki/Whonix_Debian_Packages">https://www.whonix.org/wiki/Whonix_Debian_Packages</a>. For production use, switch the apparmor setting in /etc/default/grub.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/18</link>
        <pubDate>Sat, 22 Nov 2014 01:49:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-18</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Dennis]]></dc:creator>
        <description><![CDATA[
            <p>Whatever the cause, it is not the same as Whonixfaithful’s problem here: <a href="https://www.whonix.org/forum/index.php/topic,711.0.html" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,711.0.html</a>. That’s because he is running apparmor on his host OS and that’s where his problem is and that’s where he fixed it. On the other hand, I am not running apparmor on my host OS, (“aa-status” gives “command not found”) which is a clean install of Debian Jessie. It is possible that the apparmor INSIDE my Whonix-Gateway is the cause of the Whonix-Gateway not starting but since I don’t have access to it I can’t do the diagnostics or examine its logs as recommended in the other discussion mentioned above.</p>
<p>Actually, I’m wondering how apparmor inside the Whonix-Gateway could have any relevance at all if the image isn’t even booting.</p>
<p>Is there a way to start Whonix-Gateway with its apparmor disabled? In the “Virtual Machine Details”, “Boot Options”, there is provision for “Direct Kernel Boot” where one might enter “apparmor=0” in “kernel args” to disable apparmor, but the paths to the kernel and the initrd are required, and it won’t work if I put in the path to the qcow2 file.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/17</link>
        <pubDate>Sat, 22 Nov 2014 01:32:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-17</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Which is non-ideal. Perhaps we should try to find another KVM maintainer that uses Debian? You as Fedora(?) host user + someone else?</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/16</link>
        <pubDate>Fri, 21 Nov 2014 22:13:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-16</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>I was busy and couldn’t reply sooner. To answer your question I am not using Debian.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/15</link>
        <pubDate>Fri, 21 Nov 2014 21:06:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-15</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Dennis]]></dc:creator>
        <description><![CDATA[
            <p>Is this a general problem or one that only I am having? The silence that I’ve received has led me to, perhaps incorrectly, assume that it was a general problem.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/14</link>
        <pubDate>Fri, 21 Nov 2014 20:36:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-14</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Dennis]]></dc:creator>
        <description><![CDATA[
            <p>If you mean that are running it without error, could I ask what host OS you are running?</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/13</link>
        <pubDate>Fri, 21 Nov 2014 13:49:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-13</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>I was thinking that it was a problem for everyone. Are you saying that there are people running Whonix unmodified on Linux?</blockquote>
<p>Yes that’s the situation with me.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/12</link>
        <pubDate>Fri, 21 Nov 2014 13:46:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-12</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[Dennis]]></dc:creator>
        <description><![CDATA[
            <p>Hi HulaHoop,</p>
<p>Thanks for the pointer.</p>
<p>I was thinking that it was a problem for everyone. Are you saying that there are people running Whonix unmodified on Linux?</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/11</link>
        <pubDate>Fri, 21 Nov 2014 12:46:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-11</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
      <item>
        <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Dennis you will have to rule out that hugepagetables is supported in your version of KVM. The best way to get to the bottom of this is to ask on the libvirt mailing list here: <a href="http://www.redhat.com/mailman/listinfo/libvir-list">http://www.redhat.com/mailman/listinfo/libvir-list</a></p>
<p>They also handle the creation of Mandatory Access Control rules that isolates KVM for Apparmor and SELinux. They would be the best people to report bugs to about the Apparmor rules so they can fix it.</p>
<p>With similar reports from <span class="bbcode-b">whonixfaithful</span>, another Debian user, I think your problem is reproducible.</p>
<p>Please post a link to your mailinglist message if you decide to post to them.</p>
          <p><a href="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657/10</link>
        <pubDate>Thu, 20 Nov 2014 23:30:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-657-10</guid>
        <source url="http://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657.rss">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</source>
      </item>
  </channel>
</rss>
