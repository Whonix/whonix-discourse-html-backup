<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix on KVM (from stable repo) runs OK without hugepagetables setting - KVM - Whonix Forum</title>
    <meta name="description" content="I was able to run Whonix on KVM without any errors by making the following changes to the installation procedures at https://www.whonix.org/wiki/KVM#Install_KVM : 


I didn&amp;#39;t add the line &amp;quot;deb http://ftp.us.debian.org/de&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="657.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix on KVM (from stable repo) runs OK without hugepagetables setting&#39;" href="657.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-on-kvm-from-stable-repo-runs-ok-without-hugepagetables-setting/657" />
<meta property="og:title" content="Whonix on KVM (from stable repo) runs OK without hugepagetables setting" />
<meta name="twitter:title" content="Whonix on KVM (from stable repo) runs OK without hugepagetables setting" />
<meta property="og:description" content="I was able to run Whonix on KVM without any errors by making the following changes to the installation procedures at https://www.whonix.org/wiki/KVM#Install_KVM :    I didn’t add the line “deb http://ftp.us.debian.org/debian/ wheezy-backports main” to /etc/apt/sources.list    I used the command “sudo apt-get install qemu-kvm libvirt-bin virt-manager” instead of “sudo apt-get install -t wheezy-backports qemu-kvm libvirt-bin virt-manager”    I edited the xml files to remove the “MemoryBacking” tag..." />
<meta name="twitter:description" content="I was able to run Whonix on KVM without any errors by making the following changes to the installation procedures at https://www.whonix.org/wiki/KVM#Install_KVM :    I didn’t add the line “deb http://ftp.us.debian.org/debian/ wheezy-backports main” to /etc/apt/sources.list    I used the command “sudo apt-get install qemu-kvm libvirt-bin virt-manager” instead of “sudo apt-get install -t wheezy-backports qemu-kvm libvirt-bin virt-manager”    I edited the xml files to remove the “MemoryBacking” tag..." />
<meta property="article:published_time" content="2014-11-09T03:50:08+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="6574658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="657.html">Whonix on KVM (from stable repo) runs OK without hugepagetables setting</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/kvm/11.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #9EB83B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>KVM</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Dennis'><span itemprop='name'>Dennis</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-09T03:50:08Z' class='post-time'>
                November 9, 2014,  3:50am
              </time>
              <meta itemprop='dateModified' content='2014-11-09T03:50:08Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I was able to run Whonix on KVM without any errors by making the following changes to the installation procedures at <a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#Install_KVM" rel="nofollow noopener">https://www.whonix.org/wiki/KVM#Install_KVM</a> :</p>
<ol>
<li>
<p>I didn’t add the line “deb <a href="../../../external.html?link=http://ftp.us.debian.org/debian/" rel="nofollow noopener">http://ftp.us.debian.org/debian/</a> wheezy-backports main” to /etc/apt/sources.list</p>
</li>
<li>
<p>I used the command “sudo apt-get install qemu-kvm libvirt-bin virt-manager” instead of “sudo apt-get install -t wheezy-backports qemu-kvm libvirt-bin virt-manager”</p>
</li>
<li>
<p>I edited the xml files to remove the “MemoryBacking” tags and the “hugepagetables” line between them.</p>
</li>
</ol>
<p>After running Whonix, I also tested that the rng was correctly installed by creating a key pair in KGPG.</p>
<p>I notice that it seems slower than Whonix under Virtualbox but I can’t say to what extent that is due to either KVM or due to the absence of the hugepagetables setting.</p>
<p>I would like to ask:</p>
<p>What are the backports supposed to do?</p>
<p>What is the significance of leaving out the hugepagetables setting?</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-09T10:26:51Z' class='post-time'>
                November 9, 2014, 10:26am
              </time>
              <meta itemprop='dateModified' content='2014-11-09T10:26:51Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>After running Whonix, I also tested that the rng was correctly installed by creating a key pair in KGPG.</blockquote>
This is not a valid test. Whonix installs https://packages.debian.org/wheezy/haveged by default. Jacob Appelbaum recommended haveged to Tails if I remember right, speeds up generating randomness. [+ May improve random quality, but I'd rather not go into that difficult topic.]
<p>Nevertheless, with KVM’s rng device, the kernel has no good source of original randomness in the first place that haveged could sanely build upon. Without KVM’s rng device, it could fast but weak entropy.</p>
<blockquote>What are the backports supposed to do?</blockquote>
Get kvm with rng support.
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Dennis'><span itemprop='name'>Dennis</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-10T12:35:51Z' class='post-time'>
                November 10, 2014, 12:35pm
              </time>
              <meta itemprop='dateModified' content='2014-11-10T12:35:51Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I have now installed the latest Debian Testing (Jessie) for the host OS and installed KVM according to the instructions at <a href="../../../external.html?link=https://www.whonix.org/wiki/KVM" rel="nofollow noopener">https://www.whonix.org/wiki/KVM</a></p>
<p>I get exactly the same collection of errors as described in a message in another thread (<a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,690.msg5320.html#msg5320" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,690.msg5320.html#msg5320</a>) where I had Debian Stable (Wheezy) for the host OS and wheezy-backports as the repo for the installation of KVM.</p>
<p>Would it be worthwhile to compile and install the latest KVM source code or is that unlikely to be of any use?</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-10T13:36:59Z' class='post-time'>
                November 10, 2014,  1:36pm
              </time>
              <meta itemprop='dateModified' content='2014-11-10T13:36:59Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Would it be worthwhile to compile and install the latest KVM source code or is that unlikely to be of any use?</blockquote>
<p>Yes it is. All of the settings in the xml will then be supported in that version.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Dennis'><span itemprop='name'>Dennis</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-10T19:47:52Z' class='post-time'>
                November 10, 2014,  7:47pm
              </time>
              <meta itemprop='dateModified' content='2014-11-10T19:47:52Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>OK, it’s a trade-off between:</p>
<ol>
<li>
<p>My waiting probably only a few weeks for the latest “rc” of the source code to be packaged into the backports repo. That estimate is derived by looking at <a href="../../../external.html?link=https://github.com/qemu/qemu/releases" rel="nofollow noopener">https://github.com/qemu/qemu/releases</a> and noting that the current qemu-kvm backports version (2.1.2) is the second one from the top, and that they come out, on average, about a month apart.</p>
</li>
<li>
<p>Creating a deb package myself, for its self-instructional value.</p>
</li>
</ol>
<p>I’m currently embarked on option 2, reading <a href="../../../external.html?link=https://wiki.debian.org/IntroDebianPackaging" rel="nofollow noopener">https://wiki.debian.org/IntroDebianPackaging</a> as a start.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Dennis'><span itemprop='name'>Dennis</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-10T22:41:07Z' class='post-time'>
                November 10, 2014, 10:41pm
              </time>
              <meta itemprop='dateModified' content='2014-11-10T22:41:07Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Well, I followed the seemingly quite lucid instructions here: <a href="../../../external.html?link=http://www.linuxuser.co.uk/tutorials/make-your-own-deb-and-rpm-packages" rel="nofollow noopener">http://www.linuxuser.co.uk/tutorials/make-your-own-deb-and-rpm-packages</a> which seems to make more use of modern tools than the page I mentioned above.</p>
<p>I made good progress until I encountered the dependencies, of which there seem to be an infinite number. The difficulty is compounded by the fact that the error messages produced by “dpkg-depcheck -d ./configure” are hardly ever specific as to the name of the package that is required, so each iteration involves searching online and some guesswork.</p>
<p>Looks like I’ve reached the limit of my competence as a 4-hour developer (sounds like a great title for a book). I’ll have to let this rest, since it’s a bigger task than I’d anticipated. I’ll just use virtualbox for now and revisit kvm in a few months.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Dennis'><span itemprop='name'>Dennis</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-14T22:18:46Z' class='post-time'>
                November 14, 2014, 10:18pm
              </time>
              <meta itemprop='dateModified' content='2014-11-14T22:18:46Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Good news! Whonix now runs on KVM if you firstly edit the xml files to remove the “MemoryBacking” tags and the “hugepagetables” line between them. That is the only change necessary thanks to QEMU-KVM updates that came down today.</p>
<p>To upgrade KVM, if you have a previous installation:</p>
<ol>
<li>
<p>Run “sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade”</p>
</li>
<li>
<p>Run “sudo apt-get remove qemu-kvm libvirt-bin virt-manager”</p>
</li>
<li>
<p>Then re-install qemu-kvm, libvirt-bin, and virt-manager according to the version of your host OS, as described in <a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#Install_KVM" rel="nofollow noopener">https://www.whonix.org/wiki/KVM#Install_KVM</a></p>
</li>
</ol>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Dennis'><span itemprop='name'>Dennis</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-16T01:41:41Z' class='post-time'>
                November 16, 2014,  1:41am
              </time>
              <meta itemprop='dateModified' content='2014-11-16T01:41:41Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I should add (after seeing Hulahoop’s post here: <a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,739.0.html" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,739.0.html</a>) that I consider it good news that the latest KVM runs Whonix with only a single modification of the xml files, because that means there is, apparently, just one bug left to fix. But I have no intention to use Whonix on KVM other than for testing until it imports and runs without such hacking.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Dennis'><span itemprop='name'>Dennis</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-20T19:08:56Z' class='post-time'>
                November 20, 2014,  7:08pm
              </time>
              <meta itemprop='dateModified' content='2014-11-20T19:08:56Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I’ve been looking for a possible cause of this problem, of Whonix not starting because of the hugpagetables entry in the xml files.</p>
<p>I found this, as well as a few other, similar links:</p>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="../../../external.html?link=https://unix.stackexchange.com/questions/163495/libvirt-error-when-enabling-hugepages-for-guest" target="_blank" rel="nofollow noopener">unix.stackexchange.com</a>
  </header>
  <article class="onebox-body">
      <a href="../../../external.html?link=https://unix.stackexchange.com/users/73529/chaicko" target="_blank" rel="nofollow noopener">
    <img alt="chaicko" src="../../../external.html?link=https://www.gravatar.com/avatar/35521c11d2aa274944812886b223f04d?s=128&amp;d=identicon&amp;r=PG&amp;f=1" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="../../../external.html?link=https://unix.stackexchange.com/questions/163495/libvirt-error-when-enabling-hugepages-for-guest" target="_blank" rel="nofollow noopener">libvirt error when enabling hugepages for guest</a>
</h4>

<div class="tags">
  <strong>kvm</strong>
</div>

<div class="date">
  asked by
  
  <a href="../../../external.html?link=https://unix.stackexchange.com/users/73529/chaicko" target="_blank" rel="nofollow noopener">
    chaicko
  </a>
  on <a href="../../../external.html?link=https://unix.stackexchange.com/questions/163495/libvirt-error-when-enabling-hugepages-for-guest" target="_blank" rel="nofollow noopener">12:53AM - 22 Oct 14 UTC</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>It seems that the Apparmor policy for huge pages sets the file under the mount point to read rather than to read&amp;write. It is a bug in the way that Apparmor sets the policy, although there are hacks that will bypass it. I could not find any mention of whether the bug has been recognized and addressed by the apparmor maintainers. A search at the apparmor bugs page, <a href="../../../external.html?link=http://bugs.launchpad.net/apparmor" rel="nofollow noopener">bugs.launchpad.net/apparmor</a> does not find any relevant result.</p>
<p>Am I looking in the right place and it is a bug that hasn’t been reported to the developers? Hard to believe but maybe they don’t know about it.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-20T23:30:21Z' class='post-time'>
                November 20, 2014, 11:30pm
              </time>
              <meta itemprop='dateModified' content='2014-11-20T23:30:21Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Dennis you will have to rule out that hugepagetables is supported in your version of KVM. The best way to get to the bottom of this is to ask on the libvirt mailing list here: <a href="../../../external.html?link=http://www.redhat.com/mailman/listinfo/libvir-list">http://www.redhat.com/mailman/listinfo/libvir-list</a></p>
<p>They also handle the creation of Mandatory Access Control rules that isolates KVM for Apparmor and SELinux. They would be the best people to report bugs to about the Apparmor rules so they can fix it.</p>
<p>With similar reports from <span class="bbcode-b">whonixfaithful</span>, another Debian user, I think your problem is reproducible.</p>
<p>Please post a link to your mailinglist message if you decide to post to them.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Dennis'><span itemprop='name'>Dennis</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-21T12:46:42Z' class='post-time'>
                November 21, 2014, 12:46pm
              </time>
              <meta itemprop='dateModified' content='2014-11-21T12:46:42Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi HulaHoop,</p>
<p>Thanks for the pointer.</p>
<p>I was thinking that it was a problem for everyone. Are you saying that there are people running Whonix unmodified on Linux?</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-21T13:46:59Z' class='post-time'>
                November 21, 2014,  1:46pm
              </time>
              <meta itemprop='dateModified' content='2014-11-21T13:46:59Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>I was thinking that it was a problem for everyone. Are you saying that there are people running Whonix unmodified on Linux?</blockquote>
<p>Yes that’s the situation with me.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Dennis'><span itemprop='name'>Dennis</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-21T13:49:57Z' class='post-time'>
                November 21, 2014,  1:49pm
              </time>
              <meta itemprop='dateModified' content='2014-11-21T13:49:57Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>If you mean that are running it without error, could I ask what host OS you are running?</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Dennis'><span itemprop='name'>Dennis</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-21T20:36:22Z' class='post-time'>
                November 21, 2014,  8:36pm
              </time>
              <meta itemprop='dateModified' content='2014-11-21T20:36:22Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Is this a general problem or one that only I am having? The silence that I’ve received has led me to, perhaps incorrectly, assume that it was a general problem.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-21T21:06:26Z' class='post-time'>
                November 21, 2014,  9:06pm
              </time>
              <meta itemprop='dateModified' content='2014-11-21T21:06:26Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I was busy and couldn’t reply sooner. To answer your question I am not using Debian.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-21T22:13:02Z' class='post-time'>
                November 21, 2014, 10:13pm
              </time>
              <meta itemprop='dateModified' content='2014-11-21T22:13:02Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Which is non-ideal. Perhaps we should try to find another KVM maintainer that uses Debian? You as Fedora(?) host user + someone else?</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Dennis'><span itemprop='name'>Dennis</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-22T01:32:12Z' class='post-time'>
                November 22, 2014,  1:32am
              </time>
              <meta itemprop='dateModified' content='2014-11-22T01:32:12Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Whatever the cause, it is not the same as Whonixfaithful’s problem here: <a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,711.0.html" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,711.0.html</a>. That’s because he is running apparmor on his host OS and that’s where his problem is and that’s where he fixed it. On the other hand, I am not running apparmor on my host OS, (“aa-status” gives “command not found”) which is a clean install of Debian Jessie. It is possible that the apparmor INSIDE my Whonix-Gateway is the cause of the Whonix-Gateway not starting but since I don’t have access to it I can’t do the diagnostics or examine its logs as recommended in the other discussion mentioned above.</p>
<p>Actually, I’m wondering how apparmor inside the Whonix-Gateway could have any relevance at all if the image isn’t even booting.</p>
<p>Is there a way to start Whonix-Gateway with its apparmor disabled? In the “Virtual Machine Details”, “Boot Options”, there is provision for “Direct Kernel Boot” where one might enter “apparmor=0” in “kernel args” to disable apparmor, but the paths to the kernel and the initrd are required, and it won’t work if I put in the path to the qcow2 file.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-22T01:49:42Z' class='post-time'>
                November 22, 2014,  1:49am
              </time>
              <meta itemprop='dateModified' content='2014-11-22T01:49:42Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="17" data-topic="657">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/d/e56c9b/40.png" class="avatar"> Dennis:</div>
<blockquote>
<p>It is possible that the apparmor INSIDE my Whonix-Gateway is the cause of the Whonix-Gateway not starting</p>
</blockquote>
</aside>
<p>Unlikely. You should at least see the virtual BIOS (no AppArmor there) and the initial boot. If AppArmor was badly broken, it would boot up and then stop, or endlessly reboot.</p>
<blockquote>Is there a way to start Whonix-Gateway with its apparmor disabled?</blockquote>
Recovery mode has apparmor disabled.
<p>Also undoing the effects of the grub-enable-apparmor package. Easy for debugging purposes by purging it (sudo apt-get purge grub-enable-apparmor). Not so easy for production builds, see <a href="../../../external.html?link=https://www.whonix.org/wiki/Whonix_Debian_Packages">https://www.whonix.org/wiki/Whonix_Debian_Packages</a>. For production use, switch the apparmor setting in /etc/default/grub.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-22T02:38:33Z' class='post-time'>
                November 22, 2014,  2:38am
              </time>
              <meta itemprop='dateModified' content='2014-11-22T02:38:33Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Which is non-ideal. Perhaps we should try to find another KVM maintainer that uses Debian? You as Fedora(?) host user + someone else?</blockquote>
<p>If you feel its necessary I’m fine with it. Although its not really enough that they use Debian, they would have to be knowledgeable about Apparmor rules too if thats the case.</p>
<p>Its most likely a problem with hugepagetables not being supported by KVM on Debian yet. I am willing to keep an updated list of settings that need to be removed for Whonix on Debian to work. B</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="657.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-11-22T02:42:01Z' class='post-time'>
                November 22, 2014,  2:42am
              </time>
              <meta itemprop='dateModified' content='2014-11-22T02:42:01Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Dennis were you able to get Whonix KVM working on your host at any point? Does removing hugepagetables do it?</p>
<p>I can tell you that its not an apparmor problem almost certainly. And settings inside the vm should never affect something on the host.</p>
        </div>

        <meta itemprop='headline' content='Whonix on KVM (from stable repo) runs OK without hugepagetables setting'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="6574658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
