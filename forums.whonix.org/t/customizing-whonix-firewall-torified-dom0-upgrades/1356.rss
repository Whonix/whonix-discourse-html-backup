<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
    <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356</link>
    <description>Do changes to /etc/whonix_firewall.d/50_user need to be made in the TemplateVM to be persistent?

I don&#39;t believe that /etc/whonix_firewall.d is a bind-directory. Thanks.

Edit by Patrick:
changed title</description>
    <language>en</language>
    <lastBuildDate>Fri, 19 Feb 2016 19:14:14 +0000</lastBuildDate>
    <category>Qubes-Whonix</category>
    <atom:link href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Done.</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/whonix-firewall/commit/d6c1e0bc95257c81d8c2bcd3d0959b37e53211dd" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-firewall</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/whonix-firewall/commit/d6c1e0bc95257c81d8c2bcd3d0959b37e53211dd" target="_blank" rel="nofollow noopener">also source /rw/config/whonix_firewall.d/</a>
</h4>

  <pre class="message" style="white-space: pre-wrap;">https://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/14</pre>

<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/whonix-firewall/commit/d6c1e0bc95257c81d8c2bcd3d0959b37e53211dd" target="_blank" rel="nofollow noopener">05:23PM - 19 Feb 16</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/Whonix/whonix-ws-firewall/commit/e8674d48c9445def572d4a67fbcfe4e3c785a301" target="_blank" rel="nofollow noopener">github.com/Whonix/whonix-ws-firewall</a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">
    <img alt="adrelanos" src="https://avatars3.githubusercontent.com/u/1985040?v=4" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/Whonix/whonix-ws-firewall/commit/e8674d48c9445def572d4a67fbcfe4e3c785a301" target="_blank" rel="nofollow noopener">also source /rw/config/whonix_firewall.d/</a>
</h4>

  <pre class="message" style="white-space: pre-wrap;">https://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/14</pre>

<div class="date">
  by <a href="https://github.com/adrelanos" target="_blank" rel="nofollow noopener">adrelanos</a>
  on <a href="https://github.com/Whonix/whonix-ws-firewall/commit/e8674d48c9445def572d4a67fbcfe4e3c785a301" target="_blank" rel="nofollow noopener">05:24PM - 19 Feb 16</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>1 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/16</link>
        <pubDate>Fri, 19 Feb 2016 19:14:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-16</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>So we make it <code>/rw/config/whonix_firewall</code>?</p>
<p>No <code>/rw/config/whonix_firewall.d</code> required / suggested?</p>
</blockquote>
<p>I meant “something” = “whonix_firewall.d” <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/15</link>
        <pubDate>Fri, 19 Feb 2016 18:27:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-15</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>marmarek:</p>
<blockquote>
<blockquote>
<p><code>source</code>s first <code>/etc/whonix_firewall.d</code> first and then <code>/rw/whonix_firewall.d/</code>. Untested. We probably should do that for next version anyhow. What about the folder? Is there any convention for <code>/rw</code> yet? <a class="mention" href="http://forums.whonix.org/u/marmarek">@marmarek</a> Perhaps in <code>/rw/config</code> sub folder?</p>
</blockquote>
<p>Yes, <code>/rw/config/something</code>.</p>
<p>Will it be possible to override something set in<br>
<code>/etc/whonix_firewall.d</code>?</p>
</blockquote>
<p>That’s rather simple in bash.</p>
<p>So we make it <code>/rw/config/whonix_firewall</code>?</p>
<p>No <code>/rw/config/whonix_firewall.d</code> required / suggested?</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/14</link>
        <pubDate>Fri, 19 Feb 2016 16:28:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-14</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[marmarek]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p><code>source</code>s first <code>/etc/whonix_firewall.d</code> first and then <code>/rw/whonix_firewall.d/</code>. Untested. We probably should do that for next version anyhow. What about the folder? Is there any convention for <code>/rw</code> yet? <a class="mention" href="http://forums.whonix.org/u/marmarek">@marmarek</a> Perhaps in <code>/rw/config</code> sub folder?</p>
</blockquote>
<p>Yes, <code>/rw/config/something</code>.</p>
<p>Will it be possible to override something set in<br>
<code>/etc/whonix_firewall.d</code>?</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/13</link>
        <pubDate>Fri, 19 Feb 2016 16:06:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-13</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>Aha! Thanks.</p>
<aside class="quote" data-post="11" data-topic="1356">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Untested.</p>
</blockquote>
</aside>
<p>My clumsy attempt seemed to be working okay.<br>
Your instructions work as well.<br>
Tested multiple gateways, with TransPort on and off.</p>
<p>Obviously, moving 50_user results in breakage of Application Menu shortcut:<br>
<code>User Firewall Settings</code><br>
Symlink will fix I guess…</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/12</link>
        <pubDate>Fri, 19 Feb 2016 01:13:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-12</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>No need to delete/move anything.</p>
<p>In <code>/usr/bin/whonix_firewall</code>.</p>
<pre><code>for i in /etc/whonix_firewall.d/*.conf; do
</code></pre>
<p>–&gt;</p>
<pre><code>for i in /etc/whonix_firewall.d/*.conf /rw/whonix_firewall.d/*.conf; do
</code></pre>
<p><code>source</code>s first <code>/etc/whonix_firewall.d</code> first and then <code>/rw/whonix_firewall.d/</code>. Untested. We probably should do that for next version anyhow. What about the folder? Is there any convention for <code>/rw</code> yet? <a class="mention" href="http://forums.whonix.org/u/marmarek">@marmarek</a> Perhaps in <code>/rw/config</code> sub folder?</p>
<hr>
<p>related to storing the firewall settings… In Qubes in future there will be a feature aiding this use case.</p>
<p>bind-directories functionality<br>
<a href="https://phabricator.whonix.org/T414" class="onebox" target="_blank">https://phabricator.whonix.org/T414</a></p>
<p><a href="https://github.com/marmarek/qubes-core-agent-linux/pull/58" class="onebox" target="_blank">https://github.com/marmarek/qubes-core-agent-linux/pull/58</a></p>
<hr>
<aside class="quote" data-post="8" data-topic="1356" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Anyone feeling awesome to document torified dom0 upgrades in the wiki?</p>
</blockquote>
</aside>
<p>torified dom0 upgrades are now documented here:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.qubes-os.org/attachment/icons/512x512/apps/qubes-logo-icon.png" class="site-icon" width="500" height="500">
      <a href="https://www.qubes-os.org/doc/software-update-dom0/" target="_blank" rel="nofollow noopener">Qubes OS</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="https://www.qubes-os.org/attachment/icons/qubes-logo-icon-name-slogan-fb.png" class="thumbnail"></div>

<h3><a href="https://www.qubes-os.org/doc/software-update-dom0/" target="_blank" rel="nofollow noopener">Updating software in dom0</a></h3>

<p>Updating software in dom0  Why would one want to update software in dom0?  Normally, there should be few reasons for updating software in dom0. This is because there is no networking in dom0, which...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/11</link>
        <pubDate>Thu, 18 Feb 2016 22:40:36 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-11</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="1" data-topic="1356" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Do changes to /etc/whonix_firewall.d/50_user need to be made in the TemplateVM to be persistent?</p>
</blockquote>
</aside>
<aside class="quote" data-post="2" data-topic="1356" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes.<br>
Or create a standalone VM.</p>
</blockquote>
</aside>
<p>I’ve been using a standalone VM but now I want to add additional Gateways with differing firewall configurations. So changing the TemplateVM won’t help. Also, it seems sub-optimal to abandon the security of a non-persistent root filesystem. So don’t want multiple standalone VMs.</p>
<p>I can think of 2 options:<br>
On Gateway template:</p>
<ol>
<li>
<p>Add to rc.local:<br>
<code>cp /rw/config/50_user /etc/whonix_firewall.d/ /usr/bin/whonix_firewall</code><br>
then<br>
<code>cp /etc/whonix_firewall.d/50_user /rw/config/</code></p>
</li>
<li>
<p>Edit /usr/bin/whonix_firewall:<br>
change<br>
<code>for i in /etc/whonix_firewall.d/*; do</code><br>
to<br>
<code>for i in /rw/usrlocal/etc/whonix_firewall.d/*; do</code><br>
then<br>
<code>mv /etc/whonix_firewall.d /rw/usrlocal/etc/</code></p>
</li>
</ol>
<p>Option 2 seems more elegant. Will that work? Did I miss something?<br>
Thanks!</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/10</link>
        <pubDate>Thu, 18 Feb 2016 02:49:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-10</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="7" data-topic="1356">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/c/c5a1d2/40.png" class="avatar"> cocolinux:</div>
<blockquote>
<p>Dom0 -&gt; Fedora ProxyVM -&gt; Whonix-Gateway ProxyVM</p>
</blockquote>
</aside>
<p>Thanks for your comment. Any Qubes-Fedora VM (doesn’t need to be a ProxyVM) that is connected to Whonix-Gateway, and also selected to be the Update VM, will allow for torrified dom0 updates.</p>
<p>Since qubes-dom0-update is not a Whonix program, it is not torrified/socksified by default - meaning it uses Transparent Proxying for its traffic. The issue I was having was trying to figure out what and how to torrify in order to enable dom0 updates with Transparent Proxying Disabled. Unfortunately, I think my setup is too hacky to be documented. (torsocks port is fixed/not isolated). As Patrick said, it’s better to use uwt but too many things I don’t know how to do yet. (how to use git? is uwt compatible with fedora?)</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/9</link>
        <pubDate>Sun, 30 Aug 2015 19:30:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-9</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Anyone feeling awesome to document torified dom0 upgrades in the wiki?</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/8</link>
        <pubDate>Sun, 30 Aug 2015 09:01:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-8</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[cocolinux]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“entr0py, post:3, topic:1356”]Disabled Transparent TCP, Transparent DNS. Everything works except one thing.</p>
<p>I want to perform Template VM updates over Tor. Whonix-Gateway is set as NetVM.<br>
All Whonix Templates &amp; Default Fedora Template updates are working.</p>
<p>However, ‘sudo qubes-dom0-update’ times out because it can not resolve <a href="http://yum.qubes-os.org" rel="nofollow noopener">http://yum.qubes-os.org</a><br>
Dom0 uses Default Fedora Template VM as its UpdateVM (would like to use Whonix-Gateway but RPM is required)<br>
Then the Fedora Template VM is connected to Whonix-Gateway.</p>
<p>This setup worked before switching to TransTCP,DNS. Would solution require wrapping qubes-dom0-update somehow?[/quote]</p>
<p>A simple way I do Dom0 updates over Tor is put a Fedora ProxyVM in-between Dom0 and Whonix-Gateway.</p>
<p>Dom0 -&gt; Fedora ProxyVM -&gt; Whonix-Gateway ProxyVM</p>
<p>Then in the Global settings of the Qubes manager set that Fedora ProxyVM as the default UpdateVM.</p>
<p>“sudo qubes-dom0-update” seems to work straightforward over Tor this way.</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/7</link>
        <pubDate>Sun, 30 Aug 2015 07:55:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-7</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>If Debian/Whonix were supported already, I would say consider porting it to uwt. For better stream isolation. Also because it stops the warning spam by setting the right environment variables.</p>
<p>[code]   ## Disable torsocks warning spam such as.</p>
<h2>[May 20 11:45:27] WARNING torsocks[2645]: [syscall] Unsupported syscall number 224. Denying the call (in tsocks_syscall() at syscall.c:165)</h2>
<h2><a href="https://phabricator.whonix.org/T317">https://phabricator.whonix.org/T317</a></h2>
<p>export TORSOCKS_LOG_LEVEL=1<br>
[/code]</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/6</link>
        <pubDate>Sat, 29 Aug 2015 17:58:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-6</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for the pointers. It appears to be working.</p>
<p>I installed torsocks in UpdateVM (Default Fedora Template in my case)<br>
Edited torsocks.conf to route to 10.137.4.1: 9104<br>
Added torsocks to qvm-run in qubes-dom0-update.<br>
Traffic is routing through tor &amp; successful result.</p>
<p>However, generating 40-50<br>
WARNING torsocks[2588]: [syscall] Unsupported syscall number 188. Denying the call (in tsocks_syscall() at syscall.c:465)<br>
Both syscall number 188 and 191.<br>
Hopefully, these are harmless like : <a href="https://www.whonix.org/pipermail/whonix-devel/2015-May/000360.html">https://www.whonix.org/pipermail/whonix-devel/2015-May/000360.html</a></p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/5</link>
        <pubDate>Sat, 29 Aug 2015 17:37:51 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-5</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Yes.</p>
<p>Debugging hints…</p>
<pre><code class="lang-auto"></code></pre>
<p>You see, it runs:</p>
<pre><code class="lang-auto"></code></pre>
<p>So you could try wrap it through torsocks or uwt. Either by editing qubes-dom0-update or qubes-download-dom0-updates.sh. qubes-dom0-update seems more appropriate to me.</p>
<p>But you may run into another missing Qubes feature preventing you from this. Namely…<br>
“Make it possible to use Debian VM as UpdateVM for downloading dom0 updates”:<br>
</p><aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/QubesOS/qubes-issues/issues/1029" target="_blank" rel="nofollow noopener">github.com/QubesOS/qubes-issues</a>
  </header>
  <article class="onebox-body">
    <a href="https://github.com/marmarek" rel="nofollow noopener">
<img src="https://avatars1.githubusercontent.com/u/726704?v=2&amp;s=96" class="thumbnail onebox-avatar" width="96" height="96">
</a>

<h4><a href="https://github.com/QubesOS/qubes-issues/issues/1029" target="_blank" rel="nofollow noopener">Issue: Make it possible to use Debian VM as UpdateVM for downloading dom0 updates</a></h4>

<div class="date" style="margin-top:10px;">
	<div class="user" style="margin-top:10px;">
	opened by <a href="https://github.com/marmarek" target="_blank" rel="nofollow noopener">marmarek</a>
	on <a href="https://github.com/QubesOS/qubes-issues/issues/1029" target="_blank" rel="nofollow noopener">2015-06-15</a>
	</div>
	<div class="user">
	closed by <a href="https://github.com/marmarek" target="_blank" rel="nofollow noopener">marmarek</a>
	on <a href="https://github.com/QubesOS/qubes-issues/issues/1029" target="_blank" rel="nofollow noopener">2016-02-08</a>
	</div>
</div>

<pre class="content" style="white-space: pre-wrap;"></pre>

<div class="labels">
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">C: core</span>
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">P: major</span>
 	<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">enhancement</span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<p>Since Whonix is based on Debian, that feature is also missing there.</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/4</link>
        <pubDate>Sat, 29 Aug 2015 16:33:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-4</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>Disabled Transparent TCP, Transparent DNS. Everything works except one thing.</p>
<p>I want to perform Template VM updates over Tor. Whonix-Gateway is set as NetVM.<br>
All Whonix Templates &amp; Default Fedora Template updates are working.</p>
<p>However, ‘sudo qubes-dom0-update’ times out because it can not resolve <a href="http://yum.qubes-os.org">http://yum.qubes-os.org</a><br>
Dom0 uses Default Fedora Template VM as its UpdateVM (would like to use Whonix-Gateway but RPM is required)<br>
Then the Fedora Template VM is connected to Whonix-Gateway.</p>
<p>This setup worked before switching to TransTCP,DNS. Would solution require wrapping qubes-dom0-update somehow?</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/3</link>
        <pubDate>Sat, 29 Aug 2015 15:52:40 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-3</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Yes.</p>
<p>Or create a standalone VM.</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/2</link>
        <pubDate>Fri, 28 Aug 2015 13:24:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-2</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
      <item>
        <title>Customizing Whonix Firewall / torified dom0 upgrades</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <p>Do changes to /etc/whonix_firewall.d/50_user need to be made in the TemplateVM to be persistent?</p>
<p>I don’t believe that /etc/whonix_firewall.d is a bind-directory. Thanks.</p>
<p>Edit by Patrick:<br>
changed title</p>
          <p><a href="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356/1</link>
        <pubDate>Thu, 27 Aug 2015 22:55:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-1356-1</guid>
        <source url="http://forums.whonix.org/t/customizing-whonix-firewall-torified-dom0-upgrades/1356.rss">Customizing Whonix Firewall / torified dom0 upgrades</source>
      </item>
  </channel>
</rss>
