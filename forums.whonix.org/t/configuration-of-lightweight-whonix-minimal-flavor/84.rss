<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Configuration of (lightweight) Whonix minimal flavor</title>
    <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84</link>
    <description>I&#39;m opening this thread to start a discussion on how to configure a more lightweight of Whonix. By lightweight I am mostly referring to desktop environment but perhaps this can be expanded.

Point 1 - Desktop environment.

Which one?

LXDE, Xfce, E17, some from-scratch-*box variety(Fluxbox, Openbox)? The DE (components) should be available in Debian repository. 

While the resources fingerprint would probably be the lowest with from-scratch-*box, having a package of the essentials is really convenient.

Personally I don&#39;t like E17, too flashy.

There was a report on the old Whonix forum that Whonix Xfce is somewhat faster than Whonix LXDE but other then that, I wasn&#39;t able to find any comparable data.

I&#39;m running some tests and will post my free -m numbers later.</description>
    <language>en</language>
    <lastBuildDate>Thu, 28 Mar 2019 09:54:07 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Whonix with XFCE exists by now.</p>
<aside class="quote quote-modified" data-post="1" data-topic="6213">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v2/letter/a/a183cd/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/whonix-xfce-development/6213">Whonix XFCE Development</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Yeah I checked it again. Seems to be an error on my side. 

Great. I can only speak for a recently build cli workstation image which booted without any problems. 
Btw, is there something going on with Xfce builds from anyone else? Double work would be pointless. To get some impressions from the Workstation: 
 <a class="lightbox" href="//forums.whonix.org/uploads/default/original/2X/7/775f279329c9f78899e56b100d150aef5c5dc03c.jpeg" data-download-href="//forums.whonix.org/uploads/default/775f279329c9f78899e56b100d150aef5c5dc03c" title="xfce1.jpg">[xfce1]</a> 
<a class="lightbox" href="//forums.whonix.org/uploads/default/original/2X/7/7849175d028c1c0e00c117e20d2681b3a9cbf224.jpeg" data-download-href="//forums.whonix.org/uploads/default/7849175d028c1c0e00c117e20d2681b3a9cbf224" title="xfce2.jpg">[xfce2]</a> <a class="lightbox" href="//forums.whonix.org/uploads/default/original/2X/b/bb94e10470a67da9135d2c6003a2af898a95f635.jpeg" data-download-href="//forums.whonix.org/uploads/default/bb94e10470a67da9135d2c6003a2af898a95f635" title="xfce3.jpg">[xfce3]</a> <a class="lightbox" href="//forums.whonix.org/uploads/default/original/2X/7/71480ab35cb1e08c5cb8b4e28d2818802cc83d23.png" data-download-href="//forums.whonix.org/uploads/default/71480ab35cb1e08c5cb8b4e28d2818802cc83d23" title="xfce4.png">[xfce4]</a>
  </blockquote>
</aside>

<aside class="quote" data-post="7" data-topic="6996">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="https://forums.whonix.org/t/whonix-virtualbox-14-0-1-4-4-unified-ova-downloads-point-release/6996/7">Whonix VirtualBox 14.0.1.4.4 - Unified OVA Downloads - Point Release</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/news"><span class="badge-category-bg" style="background-color: #AB9364;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="News posted by Whonix staff. The Whonix Blog.">News</span></a>
  </div>
  <blockquote>
    I don’t have ideas how to implement this. <a href="https://www.whonix.org/wiki/FAQ#Patches_are_Welcome" rel="nofollow noopener">Patches are Welcome</a>. 
Ticket: <a href="https://phabricator.whonix.org/T895" rel="nofollow noopener">Proposed Download Directory Structure</a>
  </blockquote>
</aside>

<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/VirtualBox/XFCE" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:110/66;"><img src="https://www.whonix.org/w/images/thumb/d/dc/Cli3.png/940px-Cli3.png" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/VirtualBox/XFCE" target="_blank" rel="nofollow noopener">VirtualBox/XFCE</a></h3>

<p>Whonix for VirtualBox with XFCE Desktop Environment - Stable Version</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/75">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/75</link>
        <pubDate>Thu, 28 Mar 2019 09:54:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-75</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>With Qubes a live medium*, Whonix Live in only form of Qubes-Whonix Live gets more likely. There are two ways to reduce Qubes-Whonix image size.</p>
<ul>
<li><a href="https://phabricator.whonix.org/T438">https://phabricator.whonix.org/T438</a></li>
<li><a href="https://phabricator.whonix.org/T429">https://phabricator.whonix.org/T429</a></li>
</ul>
<p>Qubes-Whonix also requires less RAM, because fewer services have to be started. It’s a bit like “terminal-only”, just with gui applications installed by default.</p>
<p>(* They are going for Live USB at the moment, dunno they will also be going for Live DVD at some point.)</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/74">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/74</link>
        <pubDate>Sun, 06 Dec 2015 13:17:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-74</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<p>creating a live system using Qubes sadly doesn’t change the fact that to boot it, an ungodly amount of RAM would be needed… Like you’ve said, there are only few things which could be “stripped down” from Whonix, as the current version seem to really only have the necessity’s. A lightweight virtualization solution sadly isn’t capable of changing that fact, what would be, would be the possibility of “streaming” a live system directly from the source, only loading in the necessary parts. Currently, speed wise this isn’t possible, though with the coming of USB 3.1, which promises read speeds of up to 10GB/sec, this may be possible. Only loading parts of the system in RAM would make it unnecessary to strip down any part of the system.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/73">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/73</link>
        <pubDate>Sat, 05 Dec 2015 21:01:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-73</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[mirimir]]></dc:creator>
        <description><![CDATA[
            <p>No, I haven’t done more on LiveDVDs with VBox and Whonix. I couldn’t figure out how to pare down the systems enough. Maybe one of the newer light virtualization systems would be secure enough. Or maybe a Qubes LiveDVD with pared down VMs. But I doubt that I’ll get back to it anytime soon.</p>
<p>Anyway, this is a very cool new forum! Congratulations <img src="//forums.whonix.org/images/emoji/twitter/smile.png?v=5" title=":smile:" class="emoji" alt=":smile:"></p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/72">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/72</link>
        <pubDate>Sat, 05 Dec 2015 20:42:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-72</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="http://forums.whonix.org/u/anonymityisright">@anonymityISright</a> I think this is the wrong thread. This thread is about development, getting an alternative desktop environment running inside Whonix VMs for whatever reason. Not necessarily related to system resources. For the system resources discussion, the <a href="https://forums.whonix.org/t/whonix-system-requirements-recommendation/1708">whonix system requirements recommendation?</a> thread is enough.</p>
<p>Btw, <a class="mention" href="http://forums.whonix.org/u/mirimir">@mirimir</a>, any updates?</p>
<aside class="quote" data-post="70" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/a/b9bd4f/40.png" class="avatar"> anonymityISright:</div>
<blockquote>
<p>i know patrick discurage to install other desktop environments just for security reasons ,</p>
</blockquote>
</aside>
<p>That sounds too general. Please quote me on that. Or add the source of that information, which should be <a href="https://www.whonix.org/wiki/Other_Desktop_Environments">https://www.whonix.org/wiki/Other_Desktop_Environments</a>.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/71">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/71</link>
        <pubDate>Wed, 02 Dec 2015 14:48:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-71</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[anonymityISright]]></dc:creator>
        <description><![CDATA[
            <p>i know patrick discurage to install other desktop environments just for security reasons ,<br>
kde use 1 ghz cpu and 768 mb ram ? xfce use 300 mhz cpu and 400 mb ram ?<br>
i test xfce on workstation and gateway , and on linux host , all that together , the entire system runs very very smooth ! my laptop have 2.3 ghz cpu with vt-x .<br>
but because patrick discurage that for secirity reasons i use the default kde on guests,<br>
anyway i leave xfce on host , so now runs still smooth , but if i use for example kde on host to , will run slower the whonix because : whonix gateway-kde= 1ghz+768mb ram +<br>
whonix worksation-kde = 1 ghz+768mb ram + linux host kde= 1 ghz+ 768mb ram = total cpu 3 ghz , i have 2.3 ghz ! and if i use xfce on linux host will give in my system 700 mhz cpu more !</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/70">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/70</link>
        <pubDate>Wed, 02 Dec 2015 07:58:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-70</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[mirimir]]></dc:creator>
        <description><![CDATA[
            <p>I’ve been distracted by other projects. If Whonix users are ~1/x of Tor browser users, only about 1/(x^2) would bother with this approach. Or at least, not unless it were as polished as Tails, and that’s beyond my skills. But at least it’s a feasibility demonstration.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/69">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/69</link>
        <pubDate>Fri, 25 Jul 2014 16:48:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-69</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Keep me posted.  <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/68">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/68</link>
        <pubDate>Sat, 10 May 2014 16:19:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-68</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[mirimir]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“Patrick, post:66, topic:84”][quote]<br>
When I run a workstation VM for the first time, it runs whonixsetup. After that, it just runs whonixcheck and timesync. As I understand it, bootcdwrite creates a bootable and installable snapshot of the system. Booting such a LiveDVD, the workstation VM (and everything else) runs exactly the same as the source system did the next time that it was booted. Maybe “exactly the same” is too strong, but it does seem that way.<br>
[/quote]<br>
I see. Had a different approach in mind here. My approach is “script this somehow to create an iso using Whonix’s build script that anyone can boot” and your approach is “transform an installed already personally configured system somehow into a Live system”. Your approach is very helpful as a proof of concept, to get instructions written, get people excited about it. Later it can translated into a build script.[/quote]<br>
Well, I have ~0 experience with programming, so the “install, configure and bootcdwrite” approach is what’s doable for me. And, as I wrote somewhere recently, using bootcdwrite and bootcd2disk, one can install from a bootcd, make changes, and then create a new bootcd. If that works in practice, users could independently update, modify, etc if they like.</p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>[quote]Yes, you’re right. But it’s picky about what will run without password (“sudo shutdown -hP now”) and what needs a password (“sudo ifconfig”). And I’m sure that it’s in the code somewhere.</p>
</blockquote>
</aside>
<p>As a crude hack, you could create a file /etc/sudoers.d/user.</p>
<pre><code class="lang-auto"></code></pre>
<p>And add.</p>
<pre><code class="lang-auto"></code></pre>
<p>That would allow user “user” to run anything without password. If you make a list of things that you need to run without password, I can see to write the proper /etc/sudoers.d/ exceptions.[/quote]<br>
Yes, that’s similar to what I did in the host:</p>
<p>groupadd shutdown<br>
addgroup user shutdown<br>
sudo visudo<br>
below “%sudo …” add “%shutdown ALL=(root) NOPASSWD: /usr/bin/shutdown”</p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>[quote]I haven’t looked into what happens on systems with not enough RAM. But because it’s a LiveDVD, it’s a simple test: “Does the machine have at least 6 GB RAM?” It’s “yes”, or “no”, right?</p>
</blockquote>
</aside>
<p>One could also boot Whonix-Workstation with 128 MB without GUI. Maybe useful for servers.[/quote]<br>
I’d probably go with different DVDs for desktop vs server.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/67">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/67</link>
        <pubDate>Sun, 27 Apr 2014 20:01:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-67</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <blockquote>When I run a workstation VM for the first time, it runs whonixsetup. After that, it just runs whonixcheck and timesync. As I understand it, bootcdwrite creates a bootable and installable snapshot of the system. Booting such a LiveDVD, the workstation VM (and everything else) runs exactly the same as the source system did the next time that it was booted. Maybe "exactly the same" is too strong, but it does seem that way.</blockquote>
I see. Had a different approach in mind here. My approach is "script this somehow to create an iso using Whonix's build script that anyone can boot" and your approach is "transform an installed already personally configured system somehow into a Live system". Your approach is very helpful as a proof of concept, to get instructions written, get people excited about it. Later it can translated into a build script.
<blockquote>Well, there's no problem updating it. But nothing persists. I'll look at Tails.</blockquote>
Also kernel upgrades can not be applied, because kernel upgrades stills require reboot and after reboot the upgrade is lost. Perhaps Tails can persist such upgrades in future. Things will get better when linux distros implement a feature to replace the kernel during operation (some are working on it, I've read somewhere).
<blockquote>I've looked in /var/log/sdwdate.log and there are no results, because the "Tor running" prerequisite isn't satisfied (because ControlPort is broken).</blockquote>
Ah. I see. Of course. /etc/sdwdate.d/31_whonix_connection_checker_plugin gets into the way.
<p>As a quick solution to get this running, you could create a file.</p>
<pre><code class="lang-auto"></code></pre>
<p>And add.</p>
<pre><code class="lang-auto"></code></pre>
<p>Then the connectivity check using Tor’s control port gets disabled. sdwdate may initially fail after boot (and timesync will inform you) because it may start too fast, try to fetch the time before Tor is ready. However, as soon Tor is ready, you should be able to manually timesync.</p>
<p>A crude hack, that could work better:</p>
<pre><code class="lang-auto"></code></pre>
<p>A better solution not using Tor’s control port could be writing a connection checker plugin, that doesn’t use Tor’s control port. Also people not liking Control Port Filter Proxy (CPFP) for security reasons would like that. A better solution which you already said would be getting CPFP working.</p>
<blockquote>Yes, you're right. But it's picky about what will run without password ("sudo shutdown -hP now") and what needs a password ("sudo ifconfig"). And I'm sure that it's in the code somewhere.</blockquote>
<p>As a crude hack, you could create a file /etc/sudoers.d/user.</p>
<pre><code class="lang-auto"></code></pre>
<p>And add.</p>
<pre><code class="lang-auto"></code></pre>
<p>That would allow user “user” to run anything without password. If you make a list of things that you need to run without password, I can see to write the proper /etc/sudoers.d/ exceptions.</p>
<blockquote>I haven't looked into what happens on systems with not enough RAM. But because it's a LiveDVD, it's a simple test: "Does the machine have at least 6 GB RAM?" It's "yes", or "no", right?</blockquote>
One could also boot Whonix-Workstation with 128 MB without GUI. Maybe useful for servers.
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/66">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/66</link>
        <pubDate>Sun, 27 Apr 2014 10:53:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-66</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[mirimir]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“Patrick, post:64, topic:84”][quote author=mirimir link=topic=65.msg1743#msg1743 date=1398535500]<br>
Well, recall that this is a LiveDVD,<br>
[/quote]<br>
I see.</p>
<aside class="quote">
<blockquote>
<p>and the workstation VM has already run whonixsetup.</p>
</blockquote>
</aside>
<p>That one I don’t understand.[/quote]<br>
When I run a workstation VM for the first time, it runs whonixsetup. After that, it just runs whonixcheck and timesync. As I understand it, bootcdwrite creates a bootable and installable snapshot of the system. Booting such a LiveDVD, the workstation VM (and everything else) runs exactly the same as the source system did the next time that it was booted. Maybe “exactly the same” is too strong, but it does seem that way. There may be no Internet connection, of course, but that’s not something that whonixsetup deals with, right?</p>
<p>[quote=“Patrick”][quote author=mirimir link=topic=65.msg1743#msg1743 date=1398535500]<br>
Given that, I don’t get why it needs to be run again. It will just take time, and any changes will be lost.<br>
[/quote]<br>
A matter of taste, I think. whonixsetup implements what tor-launcher (TBB’s Tor GUI addon) implements in TBB and what Tails also has implemented. Before attempts to establish any connections, that user is educated about available options. If bridge users don’t want to connect to the public Tor network, for circumvention reasons or because they want to hide Tor, then this feature is a real blessing. I guess in Tails Live it is the same. Every time you boot, you need to go through that setup again. Setting it to Tor-auto-connect-to-public-Tor-network might work very well for you, but I don’t think it would be a good general solution as default.[/quote]<br>
OK, those are good points. I’ll take a look at Tails, and see how it’s addressed.</p>
<p>My focus initially has been on getting it to work <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Apart from this, whonixsetup asks if you want to enable Whonix’s repository and which one. This encourages to install updates. But the Live DVD and updates is another topic. Not sure if Tails implemented a solution in meanwhile?</p>
</blockquote>
</aside>
<p>Well, there’s no problem updating it. But nothing persists. I’ll look at Tails.</p>
<p>[quote=“Patrick”][quote author=mirimir link=topic=65.msg1743#msg1743 date=1398535500]<br>
But maybe that is the simplest way to get whonixcheck to run properly <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
[/quote]<br>
No problem. If you want this. whonixcheck is very modular. Any test can be disabled. (Although not all combinations are tested, but this one should be easy.)</p>
<p>Create a file.</p>
<pre><code class="lang-auto"></code></pre>
<p>And add.</p>
<pre><code class="lang-auto"></code></pre>
<p>OK, I’ll look at that.</p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>[quote]I can call both whonixsetup and whonixcheck from ~/.fluxbox/startup.</p>
</blockquote>
</aside>
<p>For starting whonixsetup, I suggest to mimic /etc/xdg/autostart/whonixsetup.desktop. I.e. start /usr/lib/whonix-shortcuts/whonix-autosetup from ~/.fluxbox/startup.</p>
<p>For starting whonixcheck, that won’t be necessary. Well, there are two parts. whonixcheck is not the one you’re looking for, because whonixcheckd will get autostarted by /etc/init.d/whonixcheckd no matter if/what desktop environment. What I suggest is starting the message notification system, so you get whonixcheck’s results. Mimic /etc/xdg/autostart/msgdispatcher.desktop. I.e. try starting /usr/lib/whonix/msgdispatcher_xdg_autostart from  ~/.fluxbox/startup.[/quote]<br>
I’ve looked in /var/log/sdwdate.log and there are no results, because the “Tor running” prerequisite isn’t satisfied (because ControlPort is broken).</p>
<p>Getting ControlPort fixed is the first step, I think.</p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>[quote]I may need to improvise if “sudo whonixsetup” won’t run without entering a password.</p>
</blockquote>
</aside>
<p>Won’t be hard. It already as a /etc/sudoers.d exception. “sudo /usr/bin/whonixsetup” should work for scripts. And if not, that can be fixed.[/quote]<br>
Yes, you’re right. But it’s picky about what will run without password (“sudo shutdown -hP now”) and what needs a password (“sudo ifconfig”). And I’m sure that it’s in the code somewhere.</p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>[quote]I also need to get ControlPort working in the pfSense Tor gateway. I think that tor is dropping rights (to user _tor) too soon, and pfSense won’t let _tor manage the control port and its directory. I’ll ask pfSense support about that. But for now, getting a new identity is broken <img src="//forums.whonix.org/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
</blockquote>
</aside>
<p>For ControlPort, I’d suggest Control Port Filter Proxy (<a href="https://www.whonix.org/wiki/Dev/CPFP" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/CPFP</a>) (not yet well packaged to be used elsewhere, in time, but better don’t hold your breath for it).[/quote]<br>
As I recall, the error seemed very pfSense-specific. I’ll check.</p>
<p>[quote=“Patrick”]<code>But I do recall that 30_desktop.sh breaks the fluxbox load</code><br>
In other words, if you run /usr/lib/whonix/ram_adjusted_desktop_starter before fluxbox load, it won’t load? I am wondering how it is able to do this. It is a pretty simple script. If there is no desktop manager installed (such as kdm) it doesn’t start one. That’s about it.[/quote]<br>
Trial and error is my friend here <img src="//forums.whonix.org/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>[quote]xdg doesn’t seem to understand fluxbox.</p>
</blockquote>
</aside>
<p>I’d say fluxbox doesn’t understand xdg.[/quote]<br>
Yes, of course. In the fluxbox world, it’s God. And when it’s faced with conflict, it just falls over <img src="//forums.whonix.org/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"> But it’s very small, and good enough (with enough hiding, anyway).</p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>[quote]I did attempt to understand RADS, but gave up <img src="//forums.whonix.org/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"> But again, this is a LiveDVD. It will never get to running any of this unless 2.2 GB from “ram1.cpio.gz” on the DVD has fit in half of physical RAM.</p>
</blockquote>
</aside>
<p>In that case RADS won’t be very useful. It could however maybe handle this use case and start fluxbox. Depends on wheter this should become a private or redistributable thing.[/quote]<br>
I haven’t looked into what happens on systems with not enough RAM. But because it’s a LiveDVD, it’s a simple test: “Does the machine have at least 6 GB RAM?” It’s “yes”, or “no”, right?</p>
<p>I could force a RAM test, but that seems overkill <img src="//forums.whonix.org/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>[quote]It does seem to let time sync complete successfully.</p>
</blockquote>
</aside>
<p>Desktop environments are most likely not able to disrupt sdwdate’s operation (see “tail -f /var/log/sdwdate.log”). I guess you’re just not seeing the success notification, because it’s message notification system (msgdispatcher) hasn’t been started (explained above). Once you start it, you should see the notifications. (Requires notifiy-send [[[or kdialog]]] and zenity to be installed.)[/quote]<br>
Actually, timesync doesn’t complete, because ControlPort is broken <img src="//forums.whonix.org/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>But I’ll fix that. First thing.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/65">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/65</link>
        <pubDate>Sun, 27 Apr 2014 02:05:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-65</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="63" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/mirimir/40/28_1.png" class="avatar"> mirimir:</div>
<blockquote>
<p>Well, recall that this is a LiveDVD,</p>
</blockquote>
</aside>
<p>I see.</p>
<aside class="quote" data-post="63" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/mirimir/40/28_1.png" class="avatar"> mirimir:</div>
<blockquote>
<p>and the workstation VM has already run whonixsetup.</p>
</blockquote>
</aside>
<p>That one I don’t understand.</p>
<aside class="quote" data-post="63" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/mirimir/40/28_1.png" class="avatar"> mirimir:</div>
<blockquote>
<p>Given that, I don’t get why it needs to be run again. It will just take time, and any changes will be lost.</p>
</blockquote>
</aside>
<p>A matter of taste, I think. whonixsetup implements what tor-launcher (TBB’s Tor GUI addon) implements in TBB and what Tails also has implemented. Before attempts to establish any connections, that user is educated about available options. If bridge users don’t want to connect to the public Tor network, for circumvention reasons or because they want to hide Tor, then this feature is a real blessing. I guess in Tails Live it is the same. Every time you boot, you need to go through that setup again. Setting it to Tor-auto-connect-to-public-Tor-network might work very well for you, but I don’t think it would be a good general solution as default.</p>
<p>Apart from this, whonixsetup asks if you want to enable Whonix’s repository and which one. This encourages to install updates. But the Live DVD and updates is another topic. Not sure if Tails implemented a solution in meanwhile?</p>
<aside class="quote" data-post="63" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/mirimir/40/28_1.png" class="avatar"> mirimir:</div>
<blockquote>
<p>But maybe that is the simplest way to get whonixcheck to run properly <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>No problem. If you want this. whonixcheck is very modular. Any test can be disabled. (Although not all combinations are tested, but this one should be easy.)</p>
<p>Create a file.</p>
<pre><code class="lang-auto"></code></pre>
<p>And add.</p>
<pre><code class="lang-auto"></code></pre>
<blockquote>I can call both whonixsetup and whonixcheck from ~/.fluxbox/startup.</blockquote>
For starting whonixsetup, I suggest to mimic /etc/xdg/autostart/whonixsetup.desktop. I.e. start /usr/lib/whonix-shortcuts/whonix-autosetup from ~/.fluxbox/startup.
<p>For starting whonixcheck, that won’t be necessary. Well, there are two parts. whonixcheck is not the one you’re looking for, because whonixcheckd will get autostarted by /etc/init.d/whonixcheckd no matter if/what desktop environment. What I suggest is starting the message notification system, so you get whonixcheck’s results. Mimic /etc/xdg/autostart/msgdispatcher.desktop. I.e. try starting /usr/lib/whonix/msgdispatcher_xdg_autostart from  ~/.fluxbox/startup.</p>
<blockquote>I may need to improvise if "sudo whonixsetup" won't run without entering a password.</blockquote>
Won't be hard. It already as a /etc/sudoers.d exception. "sudo /usr/bin/whonixsetup" should work for scripts. And if not, that can be fixed.
<blockquote>I also need to get ControlPort working in the pfSense Tor gateway. I think that tor is dropping rights (to user _tor) too soon, and pfSense won't let _tor manage the control port and its directory. I'll ask pfSense support about that. But for now, getting a new identity is broken :(</blockquote>
For ControlPort, I'd suggest Control Port Filter Proxy (https://www.whonix.org/wiki/Dev/CPFP) (not yet well packaged to be used elsewhere, in time, but better don't hold your breath for it).
<pre><code class="lang-auto"></code></pre>
<p>In other words, if you run /usr/lib/whonix/ram_adjusted_desktop_starter before fluxbox load, it won’t load? I am wondering how it is able to do this. It is a pretty simple script. If there is no desktop manager installed (such as kdm) it doesn’t start one. That’s about it.</p>
<blockquote>xdg doesn't seem to understand fluxbox.</blockquote>
I'd say fluxbox doesn't understand xdg.
<blockquote>I did attempt to understand RADS, but gave up :( But again, this is a LiveDVD. It will never get to running any of this unless 2.2 GB from "ram1.cpio.gz" on the DVD has fit in half of physical RAM.</blockquote>
In that case RADS won't be very useful. It could however maybe handle this use case and start fluxbox. Depends on wheter this should become a private or redistributable thing.
<blockquote>It does seem to let time sync complete successfully.</blockquote>
Desktop environments are most likely not able to disrupt sdwdate's operation (see "tail -f /var/log/sdwdate.log"). I guess you're just not seeing the success notification, because it's message notification system (msgdispatcher) hasn't been started (explained above). Once you start it, you should see the notifications. (Requires notifiy-send [[[or kdialog]]] and zenity to be installed.)
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/64">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/64</link>
        <pubDate>Sun, 27 Apr 2014 00:34:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-64</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[mirimir]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="62" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Ram Adjusted Desktop Starter (RADS) starts whonixsetup if whonixsetup was never run when no desktop will be started (as far as RADS understands). Otherwise /etc/xdg/autostart/whonixsetup.desktop is supposed to start whonixsetup (when there is a GUI). Fluxbox / openbox seem not to implement the xdg standard, so autostarting whonixsetup should be automated there. Once you found a hook for that, this is simple and requires no code changes.</p>
</blockquote>
</aside>
<p>Well, recall that this is a LiveDVD, and the workstation VM has already run whonixsetup. Given that, I don’t get why it needs to be run again. It will just take time, and any changes will be lost.</p>
<p>But maybe that is the simplest way to get whonixcheck to run properly <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>I can call both whonixsetup and whonixcheck from ~/.fluxbox/startup. I may need to improvise if “sudo whonixsetup” won’t run without entering a password.</p>
<p>I also need to get ControlPort working in the pfSense Tor gateway. I think that tor is dropping rights (to user _tor) too soon, and pfSense won’t let _tor manage the control port and its directory. I’ll ask pfSense support about that. But for now, getting a new identity is broken <img src="//forums.whonix.org/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<aside class="quote" data-post="62" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>When you run “sudo whonixsetup” once, go through it, then whonixcheck should work as well.</p>
</blockquote>
</aside>
<p>Yes <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote" data-post="62" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Your new commands could be put into /etc/profile.d/45_something.sh. Probably no need to mess with  /etc/profile.d/30_desktop.sh.</p>
</blockquote>
</aside>
<p>OK, calling it “45_fluxbox.sh” would avoid potential confusion. But I do recall that 30_desktop.sh breaks the fluxbox load, because it invokes xdg, and xdg doesn’t seem to understand fluxbox.</p>
<aside class="quote" data-post="62" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Maybe a feature can be added to RADS to startx. Needs more thought. [When a config option has been changed it will work for sure, if it is possible to autodetect this, we’ll see.)</p>
</blockquote>
</aside>
<p>I did attempt to understand RADS, but gave up <img src="//forums.whonix.org/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"> But again, this is a LiveDVD. It will never get to running any of this unless 2.2 GB from “ram1.cpio.gz” on the DVD has fit in half of physical RAM.</p>
<aside class="quote" data-post="62" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The question is, if the “startx” runs in foreground or if it exists shortly after starting it. “startx &amp;” might allow the other /etc/profile.d scripts to run.</p>
</blockquote>
</aside>
<p>It does seem to let time sync complete successfully.</p>
<aside class="quote" data-post="62" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>You’re welcome to post here as well as to post on wilders!</p>
</blockquote>
</aside>
<p>Thanks <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> I’ll start a new thread here. Soon I’ll have LiveDVD_0.1.iso (2.6 GB) online somewhere.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/63">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/63</link>
        <pubDate>Sat, 26 Apr 2014 18:05:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-63</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Ram Adjusted Desktop Starter (RADS) starts whonixsetup if whonixsetup was never run when no desktop will be started (as far as RADS understands). Otherwise /etc/xdg/autostart/whonixsetup.desktop is supposed to start whonixsetup (when there is a GUI). Fluxbox / openbox seem not to implement the xdg standard, so autostarting whonixsetup should be automated there. Once you found a hook for that, this is simple and requires no code changes.</p>
<p>When you run “sudo whonixsetup” once, go through it, then whonixcheck should work as well.</p>
<p>Your new commands could be put into /etc/profile.d/45_something.sh. Probably no need to mess with  /etc/profile.d/30_desktop.sh.</p>
<p>Maybe a feature can be added to RADS to startx. Needs more thought. [When a config option has been changed it will work for sure, if it is possible to autodetect this, we’ll see.)</p>
<p>The question is, if the “startx” runs in foreground or if it exists shortly after starting it. “startx &amp;” might allow the other /etc/profile.d scripts to run.</p>
<p>You’re welcome to post here as well as to post on wilders!</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/62">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/62</link>
        <pubDate>Sat, 26 Apr 2014 14:22:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-62</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[mirimir]]></dc:creator>
        <description><![CDATA[
            <p>[quote=“Patrick, post:60, topic:84”]However, writing into /home/ is always a bit weird, unprofessional, problematic and should be avoided if possible. I don’t know if there is a way to configure autostart of fluxbox in /etc/ however.</p>
<p>Anyhow. As said earlier, when you manage to figure out a set of config files for a minimal desktop, I can do the Debian packaging.[/quote]<br>
I ended up with a crude hack. I commented out the code in /etc/profile.d/30_desktop.sh that starts /usr/lib/whonix/ram_adjusted_desktop_starter, and added:</p>
<pre><code class="lang-auto">if [ -z "$DISPLAY" ] &amp;&amp; [ "$(tty)" == "/dev/tty1" ]; then
   startx
else
   return 0
fi</code></pre>
<p>With that change, fluxbox starts just after timesync. I don’t see whonixcheck, however. I suspect that my change invalidated success status for whonixsetup. It had completed successfully in this VM. Executing whonixcheck in terminal yields a WARNING to finish whonixsetup.</p>
<p>Renaming the modified 30_desktop.sh as /etc/profile.d/50_desktop.sh didn’t seem to help.</p>
<p>Although this is a crude hack, it’s good enough for my present goal: demonstrating the feasibility of a Whonix-like LiveDVD.</p>
<p>Would you prefer that I write more about this here, or on Wilders? Here makes the most sense to me, because I haven’t heard a peep from anyone about this on Wilders. But this is your home, and I am but a guest here <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/61">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/61</link>
        <pubDate>Sat, 26 Apr 2014 03:27:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-61</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Don’t know much about that stuff. However, I would guess, that stuff goes into.</p>
<pre><code class="lang-auto"></code></pre>
<p>Had a glimpse into TorBOX 0.1.3 source code, where we used openbox.</p>
<pre><code class="lang-auto"># startx automatically launches openbox and tint2 (taskbar)
echo " tint2 &amp;
exec openbox-session" | sudo -u user tee ~/.xinitrc</code></pre>
<p>So it looks like.</p>
<pre><code class="lang-auto"></code></pre>
<p>Works as well.</p>
<p>Perhaps put into ~/.xinitrc the following.</p>
<pre><code class="lang-auto"></code></pre>
<p>However, writing into /home/ is always a bit weird, unprofessional, problematic and should be avoided if possible. I don’t know if there is a way to configure autostart of fluxbox in /etc/ however.</p>
<p>Anyhow. As said earlier, when you manage to figure out a set of config files for a minimal desktop, I can do the Debian packaging.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/60">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/60</link>
        <pubDate>Fri, 25 Apr 2014 22:55:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-60</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[mirimir]]></dc:creator>
        <description><![CDATA[
            <p>Help  ???</p>
<p>I have a minimal Whonix workstation VM with fluxbox. If I start it, and execute “startx” at the prompt, I get fluxbox.</p>
<p>How do I configure it so fluxbox starts automatically? I know that “startx” must appear in the relevant startup file, but I’m having no joy figuring out which one that might be.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/59">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/59</link>
        <pubDate>Fri, 25 Apr 2014 21:36:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-59</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[mirimir]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="56" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>As for how to create a minimal desktop environment, Occq and Cerberus have spent some thought here in this thread, I think.</p>
</blockquote>
</aside>
<p>Yes, I’ve read those posts, and I am very curious about Cerberus’ Featherweight version.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/58">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/58</link>
        <pubDate>Fri, 25 Apr 2014 16:23:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-58</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>When finally task <a href="https://github.com/Whonix/Whonix/issues/40">https://github.com/Whonix/Whonix/issues/40</a> is done, I hope understanding Whonix’s internals gets much simpler. Also creating custom builds or Live DVD’s etc. should become much simpler, since then you can decide which of Whonix’s additions you like to use.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/57">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/57</link>
        <pubDate>Fri, 25 Apr 2014 12:01:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-57</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="mirimir" data-post="54" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/mirimir/40/28_2.png" class="avatar"> mirimir:</div>
<blockquote>
<p>I’d appreciate opinions about other key packages.</p>
</blockquote>
</aside>
<p>I suggest reviewing Whonix’s package list.</p>
<p>Technically meta packages, i.e. what packages to install, are configured in debian/control, see:<br>
<a href="https://github.com/Whonix/Whonix/blob/Whonix8/debian/control" class="onebox" target="_blank">https://github.com/Whonix/Whonix/blob/Whonix8/debian/control</a></p>
<p>A justification / explanation, why package X gets installed can be found here:<br>
<a href="https://github.com/Whonix/whonix-developer-meta-files/tree/master/package_documentation" class="onebox" target="_blank">https://github.com/Whonix/whonix-developer-meta-files/tree/master/package_documentation</a></p>
<p>Packages marked “## recommended” don’t have to be installed, maybe some packages marked “## dependency” could become  “## recommended” after review and some if/then/else magic. (For example it wouldn’t be difficult to omit the vrms package for custom builds and with a little more code also for redistributable builds.)</p>
<p>However, I am buried in tasks, so I welcome help here.</p>
<p>As for how to create a minimal desktop environment, Occq and Cerberus have spent some thought here in this thread, I think.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/56">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/56</link>
        <pubDate>Fri, 25 Apr 2014 11:58:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-56</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[mirimir]]></dc:creator>
        <description><![CDATA[
            <p>Correction: The VMDK is at 1.76 GB. I forgot to convert properly.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/55">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/55</link>
        <pubDate>Fri, 25 Apr 2014 06:56:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-55</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[mirimir]]></dc:creator>
        <description><![CDATA[
            <p>Update</p>
<p>sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade -y<br>
sudo apt-get install xorg<br>
sudo apt-get install xbase-clients<br>
sudo apt-get install gksu<br>
sudo apt-get install fluxbox</p>
<p>That increases the workstation VMDK from 1.5 GB to 1.8 GB.</p>
<p>Running “startx” loads fluxbox <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>[fluxbox]<br>
terminal<br>
wget <a href="https://www.torproject.org/dist/torbrowser/3.5.4/tor-browser-linux32-3.5.4_en-US.tar.xz" rel="nofollow noopener">https://www.torproject.org/dist/torbrowser/3.5.4/tor-browser-linux32-3.5.4_en-US.tar.xz</a> [24 MB]<br>
tar -xvJf tor-browser-linux32-3.5.4_en-US.tar.xz<br>
cd tor-browser_en-US<br>
./start-tor-browser<br>
"XPCOMGlueLoad error for file /home/user/tor-browser_en-US/Browser/libxul.so:<br>
libasound.so.2; cannot open shared object file: no such file or directory:<br>
Couldn’t load XPCOM."<br>
find / libasound*<br>
“find: ‘libasound*’: No such file or directory"<br>
aptitude search libasound<br>
…<br>
libasound2<br>
…<br>
sudo apt-get install libasound2<br>
./start-tor-browser<br>
"Congratulations. This browser is configured to use Tor.”</p>
<p>The workstation VMDK is now at 1.9 GB. I’d appreciate opinions about other key packages.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/54">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/54</link>
        <pubDate>Fri, 25 Apr 2014 06:41:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-54</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[mirimir]]></dc:creator>
        <description><![CDATA[
            <p>Whonix is an awesome setup for using Tor. It’s got Tor isolation, and stream isolation, and it’s ready to use with virtually no setup needed. Not only that, the documentation is mind-boggling. The instructions and scripts are sufficient for anyone with middling Linux skills to setup a build machine, and build Whonix VMs. I know because I’ve just done it, and I simply followed instructions. Y’all totally rock <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Still, as Patrick has discussed on Wilders, many potential users complain that it’s too complicated. They want something like Tails or even TBB. My focus has been VPNs, and I’ve recommended Whonix as a drop-in setup for using Tor. It would be far better to have a LiveDVD with VirtualBox and the Whonix VMs, and also a VPN client in the host for obscuring Tor use. I’ve played with that off and on for the past year or so, but I’ve always been stopped by the challenge of fitting three OSes in one LiveDVD.</p>
<p>Now I’m taking another shot. So far, this is my plan:</p>
<p>[ul][li]Host: Debian 7.4 x86 (network install plus xorg etc, and fluxbox) plus VirtualBox and dependencies; 1.66 GB.[/li]<br>
[li]Tor Gateway: pfSense 2.1 x86 plus latest FreeBSD Tor port: 0.22 GB[/li]<br>
[li]Whonix 8.1 Workstation: the best that fits in a 2.1 GB VM[/li][/ul]</p>
<p>I’ve written more on Wilders &lt; <a href="https://www.wilderssecurity.com/threads/whats-needed-is-a-livedvd-like-tails-with-tor-isolation-like-whonix-and-vpn-clients-too.362879/" rel="nofollow noopener">https://www.wilderssecurity.com/threads/whats-needed-is-a-livedvd-like-tails-with-tor-isolation-like-whonix-and-vpn-clients-too.362879/</a> &gt; that I won’t repeat here.</p>
<p>Some may object to using a pfSense VM in place of the Whonix Gateway. However, for a LiveDVD usable on machines with 8 GB RAM, the total uncompressed content must (as far as I know) fit in a 4 GB ramdisk. Given that, the total for Tor gateway and workstation is ~2.3 GB, and that’s implausible for two Debian VMs.</p>
<p>FreeBSD Freshports &lt; <a href="http://www.freshports.org/security/tor" rel="nofollow noopener">http://www.freshports.org/security/tor</a> &gt; is up to date (Tor-0.2.4.21). I’ve used torrc from Whonix 8.1, and almost everything seems to work with stock Whonix 8.1 Workstation. I don’t have ControlPort working yet. I’m guessing that it’s a permissions thing, with tor user being unable to do what it needs. I believe that it’s secure enough, with no outbound route from LAN, and LAN access blocked to everything except Tor ports. If anyone wants to test, I’ll provide either the VM or setup instructions.</p>
<p>Where I’m stuck is optimizing Whonix 8.1 Workstation in a VM that’s 2.1 GB or less. So far, I’ve built a Whonix 8.1 Workstation, terminal-only with no default apps. It’s just 1.5 GB, so I have 0.6 GB for a usable desktop. I was planning to go with minimal fluxbox, and that’s what brought me to this thread. Perhaps this should be a separate thread, but I’ll leave that to y’all.</p>
<p>I’ve tested the minimal Whonix 8.1 Workstation with a stock Whonix 8.1 Gateway VM, and it seems to do expected things such as checking Tor status, etc. Using wget, &lt; <a href="http://check.torproject.org/" rel="nofollow noopener">http://check.torproject.org/</a> &gt; tells me that wget is “configured to use Tor”. And so I’m guessing that everything needed to interact with the gateway is present. Is that correct?</p>
<p>I welcome advice about adding the best, most-usable desktop in 0.6 GB or less.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/53">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/53</link>
        <pubDate>Fri, 25 Apr 2014 02:53:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-53</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Occq]]></dc:creator>
        <description><![CDATA[
            <p>Wayland (<a href="http://wayland.freedesktop.org/" rel="nofollow noopener">http://wayland.freedesktop.org/</a>) instead of X?</p>
<p>Figaro’s Password Manager 2 instead of KeePassX?</p>
<p>A few links with applications lists for different distros. Might come in handy.</p>
<p><a href="http://puppylinux.org/wikka/SoftwareIndex" class="onebox" target="_blank" rel="nofollow noopener">http://puppylinux.org/wikka/SoftwareIndex</a><br>
<a href="http://www.osnews.com/story/24936/Damn_Small_Linux_Still_Damn_Fun" class="onebox" target="_blank" rel="nofollow noopener">http://www.osnews.com/story/24936/Damn_Small_Linux_Still_Damn_Fun</a><br>
<a href="http://www.damnsmalllinux.org/applications.html" class="onebox" target="_blank" rel="nofollow noopener">http://www.damnsmalllinux.org/applications.html</a><br>
<a href="http://crunchbanglinux.org/wiki/applications" class="onebox" target="_blank" rel="nofollow noopener">http://crunchbanglinux.org/wiki/applications</a><br>
<a href="https://wiki.ubuntu.com/Lubuntu/Applications/Process%20Documentation" class="onebox" target="_blank" rel="nofollow noopener">https://wiki.ubuntu.com/Lubuntu/Applications/Process%20Documentation</a><br>
<a href="https://wiki.archlinux.org/index.php/List_of_Applications" class="onebox" target="_blank" rel="nofollow noopener">https://wiki.archlinux.org/index.php/List_of_Applications</a></p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/52">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/52</link>
        <pubDate>Fri, 21 Mar 2014 08:38:48 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-52</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
      <item>
        <title>Configuration of (lightweight) Whonix minimal flavor</title>
        <dc:creator><![CDATA[Occq]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="48" data-topic="84">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/t/d9b06d/40.png" class="avatar"> troubadour:</div>
<blockquote>
<p>I just wanted to stress Xfce seemingly becoming a standard light DE.</p>
</blockquote>
</aside>
<p>I agree.</p>
          <p><a href="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/51">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84/51</link>
        <pubDate>Tue, 18 Mar 2014 21:33:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-84-51</guid>
        <source url="http://forums.whonix.org/t/configuration-of-lightweight-whonix-minimal-flavor/84.rss">Configuration of (lightweight) Whonix minimal flavor</source>
      </item>
  </channel>
</rss>
