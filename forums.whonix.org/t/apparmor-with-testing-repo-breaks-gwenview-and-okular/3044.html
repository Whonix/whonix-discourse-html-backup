<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>AppArmor with Testing Repo breaks Gwenview and Okular - AppArmor - Whonix Forum</title>
    <meta name="description" content="I&amp;#39;m using AppArmor with the Testing Repo as per the Whonix wiki. 




Gwenview and Okular can be opened no problem, but AppArmor blocks the programs from opening images. I&amp;#39;ve tested it a bit and I have found that the onl&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="3044.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;AppArmor with Testing Repo breaks Gwenview and Okular&#39;" href="3044.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/apparmor-with-testing-repo-breaks-gwenview-and-okular/3044" />
<meta name="twitter:url" content="https://forums.whonix.org/t/apparmor-with-testing-repo-breaks-gwenview-and-okular/3044" />
<meta property="og:title" content="AppArmor with Testing Repo breaks Gwenview and Okular" />
<meta name="twitter:title" content="AppArmor with Testing Repo breaks Gwenview and Okular" />
<meta property="og:description" content="Iâ€™m using AppArmor with the Testing Repo as per the Whonix wiki.    Gwenview and Okular can be opened no problem, but AppArmor blocks the programs from opening images. Iâ€™ve tested it a bit and I have found that the only way to view images with these programs is to transfer the image to the desktop. If the image file is on the desktop, it can be opened. However, if the images are in a directory on the desktop, they cannot be opened.  How to reproduce:  Install KVM Whonix with Testing Repo and App..." />
<meta name="twitter:description" content="Iâ€™m using AppArmor with the Testing Repo as per the Whonix wiki.    Gwenview and Okular can be opened no problem, but AppArmor blocks the programs from opening images. Iâ€™ve tested it a bit and I have found that the only way to view images with these programs is to transfer the image to the desktop. If the image file is on the desktop, it can be opened. However, if the images are in a directory on the desktop, they cannot be opened.  How to reproduce:  Install KVM Whonix with Testing Repo and App..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 â¤" />
<meta property="article:published_time" content="2016-10-12T13:16:40+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="3044.html">AppArmor with Testing Repo breaks Gwenview and Okular</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/apparmor/14.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #12A89D'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>AppArmor</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/whtest4321'><span itemprop='name'>whtest4321</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3044.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-12T13:16:40Z' class='post-time'>
                October 12, 2016,  1:16pm
              </time>
              <meta itemprop='dateModified' content='2016-10-12T13:19:47Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Iâ€™m using AppArmor with the Testing Repo as per the Whonix wiki.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/AppArmor#Installation" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/480;"><img src="../../../external.html?link=https://www.whonix.org/w/images/f/f1/Coat-of-mail-948960640.jpg" class="thumbnail"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/AppArmor#Installation" target="_blank" rel="nofollow noopener">AppArmor</a></h3>

<p>AppArmor profiles (Security Hardening) for Whonix and other Linux distributions.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Gwenview and Okular can be opened no problem, but AppArmor blocks the programs from opening images. Iâ€™ve tested it a bit and I have found that the only way to view images with these programs is to transfer the image to the desktop. If the image file is on the desktop, it can be opened. However, if the images are in a directory on the desktop, they cannot be opened.</p>
<p>How to reproduce:</p>
<p>Install KVM Whonix with Testing Repo and AppArmor as described in the wiki. Download any image with Tor Browser to Tor Browserâ€™s downloads directory. Try to open the image with Okular or Gwenview. It fails with an AppArmor notification appearing. Now try transferring the image to the desktop and opening it. It works. Now create a directory on the desktop and transfer the image to that. Try opening it. It fails.</p>
<p>I imagine that this is a bug, right?</p>
<p>Iâ€™ve personally just disabled the AppArmor profiles for Gwenview and Okular, since I have no idea how to edit profiles.</p>
        </div>

        <meta itemprop='headline' content='AppArmor with Testing Repo breaks Gwenview and Okular'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3044.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-12T13:19:13Z' class='post-time'>
                October 12, 2016,  1:19pm
              </time>
              <meta itemprop='dateModified' content='2016-10-12T13:19:13Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks for testing however Iâ€™ll move this to the Apparmor sub-forum where it makes more sense. I understand you are using KVM Whonix however these bugs donâ€™t really have anything to do with the choice of hypervisor.</p>
        </div>

        <meta itemprop='headline' content='AppArmor with Testing Repo breaks Gwenview and Okular'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/whtest4321'><span itemprop='name'>whtest4321</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3044.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-12T13:22:26Z' class='post-time'>
                October 12, 2016,  1:22pm
              </time>
              <meta itemprop='dateModified' content='2016-10-12T13:22:26Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Okay, no problem. I thought it would be best to place it in KVM forum because I do not have this problem on Qubes Whonix which I also use with Testing Repo.</p>
        </div>

        <meta itemprop='headline' content='AppArmor with Testing Repo breaks Gwenview and Okular'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3044.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-12T13:49:00Z' class='post-time'>
                October 12, 2016,  1:49pm
              </time>
              <meta itemprop='dateModified' content='2016-10-12T13:49:00Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>whtest4321:</p>
<blockquote>
<p>I do not have this problem on Qubes Whonix which I also use with Testing Repo.</p>
</blockquote>
<p>Because it does not have apparmor enabled by default.</p>
        </div>

        <meta itemprop='headline' content='AppArmor with Testing Repo breaks Gwenview and Okular'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3044.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-12T13:51:00Z' class='post-time'>
                October 12, 2016,  1:51pm
              </time>
              <meta itemprop='dateModified' content='2016-10-12T13:51:00Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This is expected because these applications are restricted to be able to<br>
access only folders they have business in. Not all folders.</p>
        </div>

        <meta itemprop='headline' content='AppArmor with Testing Repo breaks Gwenview and Okular'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/entr0py'><span itemprop='name'>entr0py</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3044.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-12T18:21:07Z' class='post-time'>
                October 12, 2016,  6:21pm
              </time>
              <meta itemprop='dateModified' content='2016-10-12T18:21:07Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="1" data-topic="3044">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/w/a183cd/40.png" class="avatar"> whtest4321:</div>
<blockquote>
<p>If the image file is on the desktop, it can be opened. However, if the images are in a directory on the desktop, they cannot be opened.</p>
</blockquote>
</aside>
<p>Strange. You should not be able to open images in /home/user/Desktop either. Did you make changes to your profile? Not being able to open images in subdirectories of Desktop is expected.</p>
<p>Here is the relevant section of the gwenview profile (/etc/apparmor.d/usr.bin.gwenview):</p>
<pre><code>  # user files
  @{HOME}/ r,
  @{HOME}/* r,
  @{HOME}/Documents/ r,
  @{HOME}/Documents/** rw,
  @{HOME}/Downloads/ r,
  @{HOME}/Downloads/** rw,
  @{HOME}/Pictures/ r,
  @{HOME}/Pictures/** rw,
</code></pre>
<p>You have 2 choices:</p>
<ol>
<li>
<p>Keep images in Documents, Downloads, Pictures or their subdirectories.</p>
</li>
<li>
<p>Add the following 2 lines to /etc/apparmor.d/usr.bin.gwenview:</p>
<p><code>@{HOME}/Desktop/ r, @{HOME}/Desktop/** rw,</code></p>
</li>
</ol>
<p>Reload profile: <code>sudo apparmor_parser --replace /etc/apparmor.d/usr/bin/gwenview</code></p>
        </div>

        <meta itemprop='headline' content='AppArmor with Testing Repo breaks Gwenview and Okular'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3044.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-12T20:18:57Z' class='post-time'>
                October 12, 2016,  8:18pm
              </time>
              <meta itemprop='dateModified' content='2016-10-12T20:18:57Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>gwenview whitelists other folders than okular btw.</p>
        </div>

        <meta itemprop='headline' content='AppArmor with Testing Repo breaks Gwenview and Okular'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/entr0py'><span itemprop='name'>entr0py</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3044.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-12T23:36:11Z' class='post-time'>
                October 12, 2016, 11:36pm
              </time>
              <meta itemprop='dateModified' content='2016-10-13T03:45:02Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="7" data-topic="3044" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>gwenview whitelists other folders than okular btw.</p>
</blockquote>
</aside>
<p>Ah, right. Looks like okular uses abstractions/user-download which seems unneccessarily strict from a usability point-of-view.</p>
<p><span class="bbcode-s">My own solution was this:</span></p>
<pre><code>  ## Read-access to any non-dot file in /home/user/
  ## not contained in a /home/user/dot directory or private-files-strict

  #include &lt;abstractions/private-files-strict&gt;
  @{HOME}/ r,
  @{HOME}/[a-z,A-Z,0-9]* r,
  @{HOME}/[a-z,A-Z,0-9]*/ r,
  @{HOME}/[a-z,A-Z,0-9]*/** r,
</code></pre>
<p><span class="bbcode-s">YMMV: I only use gwenview and okular as viewers, not editors (no write permissions).</span></p>
<p>EDIT: Donâ€™t do this. See below.</p>
        </div>

        <meta itemprop='headline' content='AppArmor with Testing Repo breaks Gwenview and Okular'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3044.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-12T23:59:00Z' class='post-time'>
                October 12, 2016, 11:59pm
              </time>
              <meta itemprop='dateModified' content='2016-10-12T23:59:00Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Wondering if we should refactor this so they are on par with respect to<br>
which folders they can readâ€¦ I.e. allow the same folders.</p>
<p>Try to imagine what a compromised okular / gwenview could do. If it can<br>
read all of the home folder, it can leak all home folder contents to the<br>
internet. Not great. So if we go through the usability hassle of using<br>
apparmor, I think it is better to restrict it to a few folders probably<br>
not holding long term interesting documents.</p>
<p>What about both using abstractions/user-download?</p>
<p>I am not sure about read / write. Anything useful okular / gwenview<br>
could write? I sometimes use gwenview to rotate images, I guess that<br>
gets stored inside the image.</p>
        </div>

        <meta itemprop='headline' content='AppArmor with Testing Repo breaks Gwenview and Okular'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/entr0py'><span itemprop='name'>entr0py</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3044.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-13T03:43:48Z' class='post-time'>
                October 13, 2016,  3:43am
              </time>
              <meta itemprop='dateModified' content='2016-10-13T03:43:48Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="9" data-topic="3044">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Wondering if we should refactor this so they are on par with respect to<br>
which folders they can readâ€¦ I.e. allow the same folders.</p>
</blockquote>
</aside>
<p>Makes sense. All of the pre-installed network-enabled document viewers should have same access:<br>
tor-browser (already has user-download)<br>
gwenview<br>
okular<br>
vlc (to be completed)</p>
<aside class="quote" data-post="9" data-topic="3044">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Try to imagine what a compromised okular / gwenview could do. If it can<br>
read all of the home folder, it can leak all home folder contents to the<br>
internet. Not great.</p>
</blockquote>
</aside>
<p>Yes. [I keep data on non-networked VMs but thatâ€™s probably not how a new user would start out.]</p>
<aside class="quote" data-post="9" data-topic="3044">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>So if we go through the usability hassle of using<br>
apparmor, I think it is better to restrict it to a few folders probably<br>
not holding long term interesting documents.</p>
</blockquote>
</aside>
<p>Ok, soâ€¦ what should we use to view our interesting documents? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Would need documentation explaining that documents need to be copied to the Downloads or Desktop directory for viewing/editing. And that important documents should not be stored in those directories.</p>
<aside class="quote" data-post="9" data-topic="3044">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I am not sure about read / write. Anything useful okular / gwenview<br>
could write? I sometimes use gwenview to rotate images, I guess that<br>
gets stored inside the image.</p>
</blockquote>
</aside>
<p>tags, orientation, crop/resize, plus whatever plugins doâ€¦ Write is probably needed.</p>
        </div>

        <meta itemprop='headline' content='AppArmor with Testing Repo breaks Gwenview and Okular'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3044.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2016-10-13T16:01:00Z' class='post-time'>
                October 13, 2016,  4:01pm
              </time>
              <meta itemprop='dateModified' content='2016-10-13T16:01:00Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="10" data-topic="3044">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Yes. [I keep data on non-networked VMs but thatâ€™s probably not how a new user would start out.]</p>
</blockquote>
</aside>
<p>That is much better indeed.</p>
<aside class="quote" data-post="10" data-topic="3044">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Ok, soâ€¦ what should we use to view our interesting documents? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>Letâ€™s say itâ€™s for example simple text files (lower attack surface) (probably no attack surface when self-written), then you just open them with your favorite text editor. Better to have them in a folder where higher attack surface applications such as an image viewer (gwenview) or a pdf reader (okular) have read access.</p>
<hr>
<p>Could you please git pull request / wiki edit your suggestions?</p>
        </div>

        <meta itemprop='headline' content='AppArmor with Testing Repo breaks Gwenview and Okular'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
