<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Qubes-Whonix CORRIDOR: where to insert the bridges? - Qubes-Whonix - Whonix Forum</title>
    <meta name="description" content="Hey, I hope u&amp;#39;re all doing good. 

@Patrick @HulaHoop  I know u&amp;#39;re busy guys so here&amp;#39;s the short story: 

Following the guide at kkkkkkkkkk63ava6.onion/wiki/Corridor at the step to install corridor (&amp;quot;sudo apt-get install&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="4124.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Qubes-Whonix CORRIDOR: where to insert the bridges?&#39;" href="4124.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/qubes-whonix-corridor-where-to-insert-the-bridges/4124" />
<meta name="twitter:url" content="https://forums.whonix.org/t/qubes-whonix-corridor-where-to-insert-the-bridges/4124" />
<meta property="og:title" content="Qubes-Whonix CORRIDOR: where to insert the bridges?" />
<meta name="twitter:title" content="Qubes-Whonix CORRIDOR: where to insert the bridges?" />
<meta property="og:description" content="Hey, I hope u’re all doing good.  @Patrick @HulaHoop  I know u’re busy guys so here’s the short story:  Following the guide at kkkkkkkkkk63ava6.onion/wiki/Corridor  at the step to install corridor (“sudo apt-get install corridor”) I get errors at the end, which I wont even post since I think it’s obvious why I get them:  I use obfs4 bridges, and using the guide the biggest part of the bridges set-up is missing: where to store the bridge lines???  at etc/tor/torrc the config is completely differe..." />
<meta name="twitter:description" content="Hey, I hope u’re all doing good.  @Patrick @HulaHoop  I know u’re busy guys so here’s the short story:  Following the guide at kkkkkkkkkk63ava6.onion/wiki/Corridor  at the step to install corridor (“sudo apt-get install corridor”) I get errors at the end, which I wont even post since I think it’s obvious why I get them:  I use obfs4 bridges, and using the guide the biggest part of the bridges set-up is missing: where to store the bridge lines???  at etc/tor/torrc the config is completely differe..." />
<meta property="article:published_time" content="2017-07-12T10:51:11+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="4124.html">Qubes-Whonix CORRIDOR: where to insert the bridges?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/qubes-whonix/12.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #63a0ff'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Qubes-Whonix</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/qubeswhonixalltheway'><span itemprop='name'>qubeswhonixalltheway</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="4124.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-07-12T10:51:11Z' class='post-time'>
                July 12, 2017, 10:51am
              </time>
              <meta itemprop='dateModified' content='2017-07-12T10:51:11Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hey, I hope u’re all doing good.</p>
<p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a>  I know u’re busy guys so here’s the short story:</p>
<p>Following the guide at kkkkkkkkkk63ava6.onion/wiki/Corridor<br>
at the step to install corridor (“sudo apt-get install corridor”) I get errors at the end, which I wont even post since I think it’s obvious why I get them:<br>
I use obfs4 bridges, and using the guide the biggest part of the bridges set-up is missing: where to store the bridge lines???</p>
<p>at etc/tor/torrc the config is completely different than the normal torrc whonix-gateway config, I looked everywhere (corridor github, whonix blog, this forum) and still have no clue about where to insert the bridge lines.</p>
        </div>

        <meta itemprop='headline' content='Qubes-Whonix CORRIDOR: where to insert the bridges?'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="4124.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-07-12T14:04:14Z' class='post-time'>
                July 12, 2017,  2:04pm
              </time>
              <meta itemprop='dateModified' content='2017-07-12T14:04:14Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>//cc <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/rustybird">@rustybird</a></p>
        </div>

        <meta itemprop='headline' content='Qubes-Whonix CORRIDOR: where to insert the bridges?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/qubeswhonixalltheway'><span itemprop='name'>qubeswhonixalltheway</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="4124.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-07-12T15:29:05Z' class='post-time'>
                July 12, 2017,  3:29pm
              </time>
              <meta itemprop='dateModified' content='2017-07-12T15:29:05Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>???<br>
Last time ‘rustybird’ logged in was March 3 2017 at 5:56 PM.<br>
So he’s obviously not able to answer.<br>
You <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> and <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/hulahoop">@HulaHoop</a> are the ones that were working at this project, not rustybird (by project I mean the qubes-whonix-corridor/whonix-corridor project, not the corridor project alone).</p>
        </div>

        <meta itemprop='headline' content='Qubes-Whonix CORRIDOR: where to insert the bridges?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/rustybird'><span itemprop='name'>rustybird</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="4124.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-07-12T18:40:37Z' class='post-time'>
                July 12, 2017,  6:40pm
              </time>
              <meta itemprop='dateModified' content='2017-07-12T18:40:37Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="3" data-topic="4124">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/q/ecae2f/40.png" class="avatar"> qubeswhonixalltheway:</div>
<blockquote>
<p>Last time ‘rustybird’ logged in was March 3 2017 at 5:56 PM.<br>
So he’s obviously not able to answer.</p>
</blockquote>
</aside>
<p>I beg to differ ;). Patrick’s CC appeared as an e-mail notification.</p>
<aside class="quote" data-post="1" data-topic="4124">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/q/ecae2f/40.png" class="avatar"> qubeswhonixalltheway:</div>
<blockquote>
<p>I use obfs4 bridges, and using the guide the biggest part of the bridges set-up is missing: where to store the bridge lines???</p>
</blockquote>
</aside>
<p>You can copy your <code>torrc</code> bridge lines into a new <code>.conf</code> file in sys-corridor’s <code>/etc/corridor.d/</code>, in the following format:</p>
<pre><code>BRIDGES="Bridge obfs4 ...
Bridge obfs4 ...
Bridge obfs4 ..."</code></pre>
        </div>

        <meta itemprop='headline' content='Qubes-Whonix CORRIDOR: where to insert the bridges?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/qubeswhonixalltheway'><span itemprop='name'>qubeswhonixalltheway</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="4124.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-07-13T13:42:23Z' class='post-time'>
                July 13, 2017,  1:42pm
              </time>
              <meta itemprop='dateModified' content='2017-07-13T14:02:11Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Alright, deep apologies to <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a>  . Thank you.<br>
Thank you <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/rustybird">@rustybird</a> for your answer, though it completely failed <img src="../../images/emoji/twitter/sweat_smileae52.png?v=5" title=":sweat_smile:" class="emoji" alt=":sweat_smile:"> though It gave me the right clue, I guess, on how to do it.<br>
I managed to make it work on my own!! almost can’t believe it!!!<br>
<em>Also the way to store the bridges you said is not correct</em>, in fact if you issue the command “grep -Ei ‘^[[:space:]]*Bridge[[:space:]]’ /etc/tor/torrc” you’ll see it only returns 2 bridges out of the 3 you usually insert (to make the command work the bridges must be in /etc/tor/torrc, it’s all explained in the guide I wrote below). To fix that I modified your code (if u want u can see in the little guide I posted below).</p>
<p><em><strong>You may want to add this thread to kkkkkkkkkk63ava6.onion/wiki/Corridor I suppose, to help next users.</strong></em></p>
<p>Here are the outputs of sys-corridor once it was working (no errors; 2nd and last output had the green point, the rest black):</p>
<p>heresmyuser@sys-corridor:~$ sudo systemctl status corridor-data<br>
● corridor-data.service - corridor’s relay list<br>
Loaded: loaded (/lib/systemd/system/corridor-data.service; enabled)<br>
Drop-In: /lib/systemd/system/corridor-data.service.d<br>
└─qubes-service.conf, qubes.conf<br>
Active: inactive (dead) since Thu 2017-07-13 11:23:58 EDT; 13s ago<br>
Process: 672 ExecStart=/usr/sbin/corridor-data (code=exited, status=0/SUCCESS)<br>
Main PID: 672 (code=exited, status=0/SUCCESS)</p>
<p>Jul 13 11:23:58 sys-corridor systemd[1]: Starting corridor’s relay list…<br>
Jul 13 11:23:58 sys-corridor systemd[1]: Started corridor’s relay list.<br>
Jul 13 11:23:58 sys-corridor corridor-data[672]: corridor_relays updated.<br>
heresmyuser@sys-corridor:~$ sudo systemctl status corridor-init-forwarding<br>
● corridor-init-forwarding.service - corridor’s forwarding<br>
Loaded: loaded (/lib/systemd/system/corridor-init-forwarding.service; enabled)<br>
Drop-In: /lib/systemd/system/corridor-init-forwarding.service.d<br>
└─qubes-service.conf, qubes.conf<br>
Active: active (exited) since Thu 2017-07-13 11:23:55 EDT; 27s ago<br>
Process: 407 ExecStart=/bin/rm -f /var/run/qubes-service/qubes-firewall (code=exited, status=0/SUCCESS)<br>
Process: 337 ExecStart=/usr/sbin/corridor-init-forwarding (code=exited, status=0/SUCCESS)<br>
Main PID: 407 (code=exited, status=0/SUCCESS)<br>
CGroup: /system.slice/corridor-init-forwarding.service</p>
<p>Jul 13 11:23:54 localhost systemd[1]: Starting corridor’s forwarding…<br>
Jul 13 11:23:55 localhost corridor-init-forwarding[337]: net.ipv4.ip_forward = 1<br>
Jul 13 11:23:55 localhost corridor-init-forwarding[337]: net.ipv6.conf.all.fo…<br>
Jul 13 11:23:55 localhost systemd[1]: Started corridor’s forwarding.<br>
Hint: Some lines were ellipsized, use -l to show in full.<br>
heresmyuser@sys-corridor:~$ sudo systemctl status corridor-init-logged<br>
● corridor-init-logged.service - corridor’s logging<br>
Loaded: loaded (/lib/systemd/system/corridor-init-logged.service; enabled)<br>
Drop-In: /lib/systemd/system/corridor-init-logged.service.d<br>
└─qubes-service.conf, qubes.conf<br>
Active: inactive (dead) since Thu 2017-07-13 11:23:58 EDT; 32s ago<br>
Process: 697 ExecStart=/usr/sbin/corridor-init-logged (code=exited, status=0/SUCCESS)<br>
Main PID: 697 (code=exited, status=0/SUCCESS)</p>
<p>Jul 13 11:23:58 sys-corridor corridor-init-logged[697]: corridor_logged updated.<br>
Jul 13 11:23:58 sys-corridor systemd[1]: Started corridor’s logging.<br>
Hint: Some lines were ellipsized, use -l to show in full.<br>
heresmyuser@sys-corridor:~$ sudo systemctl status corridor-init-snat<br>
● corridor-init-snat.service - corridor’s source NAT<br>
Loaded: loaded (/lib/systemd/system/corridor-init-snat.service; enabled)<br>
Drop-In: /lib/systemd/system/corridor-init-snat.service.d<br>
└─qubes-service.conf, qubes.conf<br>
Active: active (exited) since Thu 2017-07-13 11:23:58 EDT; 1min 9s ago<br>
Process: 722 ExecStart=/usr/sbin/corridor-init-snat (code=exited, status=0/SUCCESS)<br>
Main PID: 722 (code=exited, status=0/SUCCESS)<br>
CGroup: /system.slice/corridor-init-snat.service</p>
<p>Jul 13 11:23:58 sys-corridor systemd[1]: Started corridor’s source NAT.<br>
heresmyuser@sys-corridor:~$</p>
<hr>
<p><strong>I wrote a small but quite detailed guide for the next users who are stuck at the same problem, HERE IT GOES:</strong></p>
<hr>
<p>create the sys-corridor as shown in the steps of the whonix guide<br>
once you turn it on, before you do anything execute ‘sudo nano /etc/apt/sources.list.d/qubes-r3.list’ or just issue ‘sudo nano <em>herethequbeslist</em>’ to whatever qubes list is at /etc/apt/sources.list.d and make sure you’re using the clearnet repositories.<br>
sudo apt-get update<br>
sudo apt-get upgrade<br>
(this is to update your debian sys-corridor in case your debian template was not updated, btw you should update it)<br>
cd /etc<br>
sudo mkdir corridor.d<br>
cd corridor.d</p>
<p>Now following the guide at kkkkkkkkkk63ava6.onion/wiki/Corridor from the step where it says to edit ‘sudo nano /etc/corridor.d/21-bridges-user.conf’ and insert the code it says to insert.<br>
NOW DOWNLOAD THE Whonix Signing Key: NOTE: if your sys-corridor is using sys-firewall as the NetVM than you must know that you are going to get the whonix key over the clear, which means your ISP will know you are probably gonna use whonix after that. If you wish this to not happen you could theoretically change your netVM to sys-whonix, BUT since after you downloaded the key, add the key, you’re gonna have to download the corridor whonix package from the whonix repo, and you’re still going to use sys-whonix in the meantime, the problem is that when installing the corridor package, it is automatically run, thus you’re gonna end up with bridges over guards (tor over tor) (bridges in case your sys-whonix is set up to use bridges), THUS BE CAREFUL. after that you still could replace sys-whonix with sys-firewall netVM of your sys-corridor, and it should get back to work normally as it should. This has not been tested, so if you want to test be careful and keep in mind that it might fail, or even worse bug something, so make sure if u wanna follow this path to make the proper backups, and do not do this if it’s a big risk for you in case it bugs and exposes  you, or I don’t know what else, you should ask someone that knows more than me about this.</p>
<p>So now download, add the key, add the whonix apt repository, update your packages again, and install corridor as described at the whonix guide.<br>
(don’t worry if during corridor’s installation you get errors like : ‘corridor-init-logged.service failed’)<br>
Once you have installed corridor, wait before moving forward, you don’t need to make the check with sudo systemctl right now (in case you did relax, you didn’t break anything).</p>
<p><strong>it’s time to add the bridges in the right way:</strong><br>
sudo nano /etc/tor/torrc<br>
scroll to the bottom of the file<br>
at the very end after the very last comment INSERT THIS CODE IN THIS EXACT SYNTAXT (replacing only your bridge lines of course)<br>
(so basically just leave untouched the 1st and last line of this code):</p>
<p>BRIDGES="<br>
Bridge obfs4 ip:port… bla bla bla…<br>
Bridge obfs4 ip:port… bla bla bla…<br>
Bridge obfs4 ip:port… bla bla bla…<br>
"<br>
then as before press ‘ctrl’+‘x’, type ‘Y’, and press enter.</p>
<p>TO MAKE SURE THE SYNTAX IS CORRECT YOU CAN ISSUE this command in your terminal:<br>
grep -Ei ‘^[[:space:]]*Bridge[[:space:]]’ /etc/tor/torrc</p>
<p>If it corretly returns your bridge lines then you did good. In case it doesn’t then try again.</p>
<p>now issue the command:<br>
sudo nano /etc/corridor.d/20-bridges-auto.conf<br>
and remove the character ‘#’ at the first line (to uncomment that code line) (btw the file contains only 1 line don’t worry)<br>
then as before press ‘ctrl’+‘x’, type ‘Y’, and press enter.</p>
<p>now issue the command:<br>
sudo rm /etc/corridor.d/21-bridges-user.conf</p>
<p>now issue the command:<br>
sudo reboot</p>
<p>once sys-corridor is shutted down, you can start it again from the qubes VM Manager<br>
once it’s loaded open a terminal (in sys-corridor of course)<br>
at this point you can move forward in the whonix guide, the systemctl commands should turn the following outputs:<br>
the 1st one (corridor-data) should be ‘Loaded’ but with the black big dot<br>
the 2nd one (corridor-init-forwarding) should be ‘Active’ with the green big dot<br>
the 3d one (corridor-init-logged) should be should be ‘Loaded’ but with the black big dot<br>
the 4th one (corridor-init-snat) should be should be ‘Active’ with the green big dot</p>
<p>At least those were the outputs for me. More important is that it doesn’t show any errors.<br>
Now if you want you can keep following the whonix guide, with steps such as ‘test corridor’ and/or ‘test logging’, ‘interpreting the results’, ‘configure sys-whonix’.</p>
<p>I personally tested with both the tor browser bundle, and then opening firefox to see if it could got clearnet access. It all worked as expected from there, e.g. no clearnet access, only tor access through bridges. In fact issuing ‘sudo ipset list corridor_relays’ inside sys-corridor terminal showed that the only ips were the bridge ones, with their relative ports, and allowing only TCP protocol.</p>
<p>I also tested on sys-whonix, it works.<br>
I also tested to disable the bridges in sys-whonix, It successfully failed to connect to tor as expected!</p>
<hr>
        </div>

        <meta itemprop='headline' content='Qubes-Whonix CORRIDOR: where to insert the bridges?'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
