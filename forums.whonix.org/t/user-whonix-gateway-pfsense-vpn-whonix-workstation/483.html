<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>User -&gt; Whonix-Gateway -&gt; pfSense(vpn) -&gt; Whonix-Workstation - Support - Whonix Forum</title>
    <meta name="description" content="https://www.ivpn.net/privacy-guides/advanced-privacy-and-anonymity-part-6 

The idea was mentioned in the guide above already but it wasn&amp;#39;t explained how to setup the vm&amp;#39;s in detail. So far I made the following: 

Whonix&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="483.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;User -&gt; Whonix-Gateway -&gt; pfSense(vpn) -&gt; Whonix-Workstation&#39;" href="483.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/user-whonix-gateway-pfsense-vpn-whonix-workstation/483" />
<meta name="twitter:url" content="https://forums.whonix.org/t/user-whonix-gateway-pfsense-vpn-whonix-workstation/483" />
<meta property="og:title" content="User -&gt; Whonix-Gateway -&gt; pfSense(vpn) -&gt; Whonix-Workstation" />
<meta name="twitter:title" content="User -&gt; Whonix-Gateway -&gt; pfSense(vpn) -&gt; Whonix-Workstation" />
<meta property="og:description" content="https://www.ivpn.net/privacy-guides/advanced-privacy-and-anonymity-part-6  The idea was mentioned in the guide above already but it wasn’t explained how to setup the vm’s in detail.  So far I made the following:  Whonix-Gateway      vb Adapters: 1. NAT      2. Whonix  pfSense                       vb Adapters:                   1. Whonix   2. pfSense  Whonix-Workstation  vb Adapters:                                        1. pfSense  also I did some experiments with LAN/WAN-IP settings (e.g  192..." />
<meta name="twitter:description" content="https://www.ivpn.net/privacy-guides/advanced-privacy-and-anonymity-part-6  The idea was mentioned in the guide above already but it wasn’t explained how to setup the vm’s in detail.  So far I made the following:  Whonix-Gateway      vb Adapters: 1. NAT      2. Whonix  pfSense                       vb Adapters:                   1. Whonix   2. pfSense  Whonix-Workstation  vb Adapters:                                        1. pfSense  also I did some experiments with LAN/WAN-IP settings (e.g  192..." />
<meta property="article:published_time" content="2014-09-09T00:33:01+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="483.html">User -&gt; Whonix-Gateway -&gt; pfSense(vpn) -&gt; Whonix-Workstation</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/support/5.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Chhh0'><span itemprop='name'>Chhh0</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="483.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-09T00:33:01Z' class='post-time'>
                September 9, 2014, 12:33am
              </time>
              <meta itemprop='dateModified' content='2014-09-09T00:33:01Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="../../../external.html?link=https://www.ivpn.net/privacy-guides/advanced-privacy-and-anonymity-part-6" class="onebox" target="_blank" rel="nofollow noopener">https://www.ivpn.net/privacy-guides/advanced-privacy-and-anonymity-part-6</a></p>
<p>The idea was mentioned in the guide above already but it wasn’t explained how to setup the vm’s in detail.<br>
So far I made the following:</p>
<p>Whonix-Gateway      vb Adapters: 1. NAT      2. Whonix<br>
pfSense                       vb Adapters:                   1. Whonix   2. pfSense<br>
Whonix-Workstation  vb Adapters:                                        1. pfSense</p>
<p>also I did some experiments with LAN/WAN-IP settings (e.g  192.168.0.xx/24 in different ways) but none worked for me.</p>
        </div>

        <meta itemprop='headline' content='User -&gt; Whonix-Gateway -&gt; pfSense(vpn) -&gt; Whonix-Workstation'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/mirimir'><span itemprop='name'>mirimir</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="483.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-09T04:33:42Z' class='post-time'>
                September 9, 2014,  4:33am
              </time>
              <meta itemprop='dateModified' content='2014-09-09T04:33:42Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>That setup doesn’t work because the two Whonix VMs are very securely tied to each other. I’m assuming that the pfSense VM is running a VPN client. In order for the VPN to connect through Tor via the Whonix gateway, you need to specify the SOCKS5 proxy. In the Advanced box in the VPN client setup in pfSense, add two commands:</p>
<p><code>;socks-proxy 192.168.0.10 9050 /usr/local/share/up
;socks-proxy-retry</code><br>
In /usr/local/share/up, put these two lines:</p>
<p><code>root
changeme [or whatever you've changed it to]</code><br>
In order for the Whonix workstation to connect through the VPN rather than through Tor, you need to disable all of the settings that point apps through the various SocksProxys on the Whonix gateway. I’ll leave that to others.</p>
        </div>

        <meta itemprop='headline' content='User -&gt; Whonix-Gateway -&gt; pfSense(vpn) -&gt; Whonix-Workstation'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/mirimir'><span itemprop='name'>mirimir</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="483.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-09T04:48:47Z' class='post-time'>
                September 9, 2014,  4:48am
              </time>
              <meta itemprop='dateModified' content='2014-09-09T04:48:47Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>PS</p>
<p>It might be easier to just use a standard Debian 7.6 VM instead of the Whonix workstation VM.</p>
        </div>

        <meta itemprop='headline' content='User -&gt; Whonix-Gateway -&gt; pfSense(vpn) -&gt; Whonix-Workstation'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
