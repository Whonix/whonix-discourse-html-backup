<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>DNS leaks with VPN -&gt; TOR</title>
    <link>http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847</link>
    <description>Hi,
I use VPN on my Whonix Gateway to connect with TOR.

https://www.whonix.org/wiki/Tunnel_Tor_through_proxy_or_VPN_or_SSH#Tunnel_Tor_through_VPN

I managed to configure everything as in this tutorial. My fail close mechanism works great but I&#39;m not sure if I should do something more to prevent OpenVPN DNS leaks ? Normally I would edit /etc/resolv.conf and set static nameservers (VPN&#39;s nameservers), but I&#39;m not sure if that&#39;s fine with Whonix. I don&#39;t want to mess up something.

Thanks.</description>
    <language>en</language>
    <lastBuildDate>Sat, 31 Jan 2015 02:35:06 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>DNS leaks with VPN -&gt; TOR</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="5" data-topic="847">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/s/4bbf92/40.png" class="avatar"> someuser:</div>
<blockquote>
<p>Editing on W-Gateway is pointless because Gateway has Torified nameservers ?</p>
</blockquote>
</aside>
<p>Pointless yes, because when VPN_FIREWALL=1, no connections besides connections to the VPN server IP are allowed anyhow and because all applications using the network are configured to use Tor [font=courier]SocksPort[/font]s. System DNS on the gateway is neither desired nor needed for anything.</p>
<blockquote>For example if I had me -&gt; VPN -&gt; Tor -&gt; VPN connection I could edit /etc/resolv.conf on W-Workstation to prevent TOR DNS leaks from there?</blockquote>
Yes, that would make sense. Then you could prevent DNS from hitting Tor exit relays and rather let it go through the post-Tor-VPN.
          <p><a href="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/6</link>
        <pubDate>Sat, 31 Jan 2015 02:35:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-847-6</guid>
        <source url="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847.rss">DNS leaks with VPN -&gt; TOR</source>
      </item>
      <item>
        <title>DNS leaks with VPN -&gt; TOR</title>
        <dc:creator><![CDATA[someuser]]></dc:creator>
        <description><![CDATA[
            <p>I understand then it makes more sense to edit /etc/resolv.conf on Whonix Workstation like in this example: <a href="https://www.whonix.org/wiki/TestVPN#Riseup_DNS" rel="nofollow noopener">https://www.whonix.org/wiki/TestVPN#Riseup_DNS</a></p>
<p>Editing on W-Gateway is pointless because Gateway has Torified nameservers ?</p>
<p>For example if I had me -&gt; VPN -&gt; Tor -&gt; VPN connection I could edit /etc/resolv.conf on W-Workstation to prevent TOR DNS leaks from there?</p>
          <p><a href="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/5</link>
        <pubDate>Fri, 30 Jan 2015 20:49:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-847-5</guid>
        <source url="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847.rss">DNS leaks with VPN -&gt; TOR</source>
      </item>
      <item>
        <title>DNS leaks with VPN -&gt; TOR</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>You can do this, but it doesn’t really matter, because Whonix-Gateway has no functional system DNS for its own traffic by default and design anyhow.</p>
<p>(DNS requests you do in the workstation will still be resolved by Tor [in default config, unless you installed a VPN there as well or so]. But as you configured Tor on the gateway, any Tor connection will go through the VPN first as you expect.)</p>
          <p><a href="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/4</link>
        <pubDate>Fri, 30 Jan 2015 20:13:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-847-4</guid>
        <source url="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847.rss">DNS leaks with VPN -&gt; TOR</source>
      </item>
      <item>
        <title>DNS leaks with VPN -&gt; TOR</title>
        <dc:creator><![CDATA[someuser]]></dc:creator>
        <description><![CDATA[
            <p>What should I put into that file?</p>
<p>I have working connection me -&gt; VPN on W-Gateway -&gt; TOR</p>
<p>I already set up VPN Firewall on W-Gateway by using built in fail closed mechanism.</p>
<p>Last thing to do is preventing from DNS leaks when using my VPN.</p>
<p>Normally when I use OpenVPN I always set VPN static nameserver in /etc/resolv.conf to avoid DNS leaks but I’m not sure if that is a good idea for Whonix.</p>
<p>My /etc/resolv.conf on Whonix Gateway contains this line:</p>
<pre><code class="lang-auto">nameserver 127.0.0.1</code></pre>
<p>Is it a good idea to change it to:</p>
<pre><code class="lang-auto">#nameserver 127.0.0.1
nameserver MY.VPN.IP.NAMESERVER</code></pre>
<p>?</p>
          <p><a href="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/3</link>
        <pubDate>Fri, 30 Jan 2015 19:40:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-847-3</guid>
        <source url="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847.rss">DNS leaks with VPN -&gt; TOR</source>
      </item>
      <item>
        <title>DNS leaks with VPN -&gt; TOR</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Feel free to edit that file, but be are of this:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Whonix_Configuration_Files#Ordinary_Configuration_Files" target="_blank" title="07:39AM - 24 March 2020">Whonix – 24 Mar 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.whonix.org/w/images/3/3b/Five-elements-379106640.jpg" class="thumbnail" width="640" height="426"></div>

<h3><a href="https://www.whonix.org/wiki/Whonix_Configuration_Files#Ordinary_Configuration_Files" target="_blank">Configuration Files - Whonix</a></h3>

<p>Everything you should know about Configuration Drop-in Folders and Files.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
          <p><a href="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/2</link>
        <pubDate>Fri, 30 Jan 2015 18:31:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-847-2</guid>
        <source url="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847.rss">DNS leaks with VPN -&gt; TOR</source>
      </item>
      <item>
        <title>DNS leaks with VPN -&gt; TOR</title>
        <dc:creator><![CDATA[someuser]]></dc:creator>
        <description><![CDATA[
            <p>Hi,<br>
I use VPN on my Whonix Gateway to connect with TOR.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Tunnel_Tor_through_proxy_or_VPN_or_SSH#Tunnel_Tor_through_VPN" target="_blank" rel="nofollow noopener" title="10:04AM - 08 April 2020">Whonix – 8 Apr 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/452;"><img src="https://www.whonix.org/w/images/8/86/Beyond-1087922640.jpg" class="thumbnail" width="640" height="452"></div>

<h3><a href="https://www.whonix.org/wiki/Tunnel_Tor_through_proxy_or_VPN_or_SSH#Tunnel_Tor_through_VPN" target="_blank" rel="nofollow noopener">Combining Tunnels with Tor</a></h3>

<p>Information on whether Tor gets more or less secure when combining Tor with tunnels such as VPN, SSH, proxies. (User → Tor → proxy/VPN/SSH → Internet) (User → proxy/VPN/SSH → Tor → Internet)</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>I managed to configure everything as in this tutorial. My fail close mechanism works great but I’m not sure if I should do something more to prevent OpenVPN DNS leaks ? Normally I would edit /etc/resolv.conf and set static nameservers (VPN’s nameservers), but I’m not sure if that’s fine with Whonix. I don’t want to mess up something.</p>
<p>Thanks.</p>
          <p><a href="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847/1</link>
        <pubDate>Fri, 30 Jan 2015 16:43:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-847-1</guid>
        <source url="http://forums.whonix.org/t/dns-leaks-with-vpn-tor/847.rss">DNS leaks with VPN -&gt; TOR</source>
      </item>
  </channel>
</rss>
