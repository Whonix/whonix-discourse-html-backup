<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Add new uwt wrapper</title>
    <link>http://forums.whonix.org/t/add-new-uwt-wrapper/13618</link>
    <description>Hi. I am looking for a way to **create a new uwt wrapper** for custom installed apps. 

I found this clue. But I&#39;m probably too dumb to emulate it. :slightly_smiling_face:

https://web.archive.org/web/20191207073314/https://github.com/Whonix/uwt/commit/03cc4c8568564d5993fcc8ea975cf00e851f7052

For example, I want to create a uwt wrapper for a monerod.

* I added monerod rows in the **3 config files** like in the github example *(uwt_default, timeprivacy_default, .../overrides/uwt)*

* Next, in **usr/bin/** I have to rename original **&quot;monerod&quot;** to **&quot;monerod.anondist-orig&quot;**, right?
* Then I have to create **&quot;monerod.anondist&quot; shell script** and **&quot;monerod&quot; symlink** to the previously created script with this code inside, right?
```
#!/bin/bash

## Copyright (C) 2012 - 2018 ENCRYPTED SUPPORT LP &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

export uwtwrapper_parent=&quot;${BASH_SOURCE[0]}&quot;
exec /usr/lib/uwtwrapper &quot;$@&quot;
```
If this is correct, how can I add this code inside the symlink? I can&#39;t edit symlinks with sudoedit.</description>
    <language>en</language>
    <lastBuildDate>Wed, 04 May 2022 08:37:08 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/add-new-uwt-wrapper/13618.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Add new uwt wrapper</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <ul>
<li>Lines starting with <code>#</code> are comments and aren’t important if not submitted as a pull request.</li>
<li>Lintian overrides also only important if submitted as a pull request.</li>
<li>Manual emulation isn’t explained by that link. <code>debian/uwt.displace</code> would create the symlink but that’s a Debian packaging feature. If emulating that manually, the symlink would have to be created manually.</li>
</ul>
<p>Best way to make sure everything is correct is to send a pull request so it will be reviewed. But in this case…</p>
<p>monerod supports proxy settings. Not sure torsocks (uwt) should be used in that case.</p>
<aside class="quote no-group" data-username="124rehsfd" data-post="1" data-topic="13618">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/1/a698b9/40.png" class="avatar"> 124rehsfd:</div>
<blockquote>
<p>If this is correct, how can I add this code inside the symlink? I can’t edit symlinks with sudoedit.</p>
</blockquote>
</aside>
<p>You need to edit the real file where the symlink points too. Not the symlink.</p>
<p>For monerod a systemd unit would be more appropriate. Similar to how monerod.service is configued on <a href="https://www.whonix.org/wiki/Monero_Wallet_Isolation" class="inline-onebox">How-to: Use Monero with Wallet Isolation in Qubes-Whonix ™</a>. That should be documented on <a href="https://www.whonix.org/wiki/Monero" class="inline-onebox">Monero (XMR): A Reasonably Private Digital Currency</a>.</p>
          <p><a href="http://forums.whonix.org/t/add-new-uwt-wrapper/13618/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/add-new-uwt-wrapper/13618/2</link>
        <pubDate>Wed, 04 May 2022 08:37:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-13618-2</guid>
        <source url="http://forums.whonix.org/t/add-new-uwt-wrapper/13618.rss">Add new uwt wrapper</source>
      </item>
      <item>
        <title>Add new uwt wrapper</title>
        <dc:creator><![CDATA[124rehsfd]]></dc:creator>
        <description><![CDATA[
            <p>Hi. I am looking for a way to <strong>create a new uwt wrapper</strong> for custom installed apps.</p>
<p>I found this clue. But I’m probably too dumb to emulate it. <img src="//forums.whonix.org/images/emoji/twitter/slightly_smiling_face.png?v=12" title=":slightly_smiling_face:" class="emoji" alt=":slightly_smiling_face:"></p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://web.archive.org/web/20191207073314/https://github.com/Whonix/uwt/commit/03cc4c8568564d5993fcc8ea975cf00e851f7052">
  <header class="source">
      <img src="https://web.archive.org/web/20191207073314im_/https://github.githubassets.com/favicon.ico" class="site-icon" width="32" height="32">

      <a href="https://web.archive.org/web/20191207073314/https://github.com/Whonix/uwt/commit/03cc4c8568564d5993fcc8ea975cf00e851f7052" target="_blank" rel="noopener nofollow ugc">GitHub</a>
  </header>

  <article class="onebox-body">
    <img src="https://web.archive.org/web/20191207073314im_/https://avatars3.githubusercontent.com/u/1985040?s=200&amp;v=4" class="thumbnail" width="" height="">

<h3><a href="https://web.archive.org/web/20191207073314/https://github.com/Whonix/uwt/commit/03cc4c8568564d5993fcc8ea975cf00e851f7052" target="_blank" rel="noopener nofollow ugc">uwt: add apt and apt-file · Whonix/uwt@03cc4c8</a></h3>

  <p>Thanks to @starius for the bug report!

https://github.com/QubesOS/qubes-issues/issues/3882</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>For example, I want to create a uwt wrapper for a monerod.</p>
<ul>
<li>
<p>I added monerod rows in the <strong>3 config files</strong> like in the github example <em>(uwt_default, timeprivacy_default, …/overrides/uwt)</em></p>
</li>
<li>
<p>Next, in <strong>usr/bin/</strong> I have to rename original <strong>“monerod”</strong> to <strong>“monerod.anondist-orig”</strong>, right?</p>
</li>
<li>
<p>Then I have to create <strong>“monerod.anondist” shell script</strong> and <strong>“monerod” symlink</strong> to the previously created script with this code inside, right?</p>
</li>
</ul>
<pre><code class="lang-auto">#!/bin/bash

## Copyright (C) 2012 - 2018 ENCRYPTED SUPPORT LP &lt;adrelanos@riseup.net&gt;
## See the file COPYING for copying conditions.

export uwtwrapper_parent="${BASH_SOURCE[0]}"
exec /usr/lib/uwtwrapper "$@"
</code></pre>
<p>If this is correct, how can I add this code inside the symlink? I can’t edit symlinks with sudoedit.</p>
          <p><a href="http://forums.whonix.org/t/add-new-uwt-wrapper/13618/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/add-new-uwt-wrapper/13618/1</link>
        <pubDate>Tue, 03 May 2022 15:55:33 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-13618-1</guid>
        <source url="http://forums.whonix.org/t/add-new-uwt-wrapper/13618.rss">Add new uwt wrapper</source>
      </item>
  </channel>
</rss>
