<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Issue creating shared directory between host and guest - KVM - Whonix Forum</title>
    <meta name="description" content="Issue: Issue creating shared directory between host and guest 
I was following the steps on how to create a shared directory between host and guest VM from this article(https://www.explorelinux.com/how-to-create-shared-d&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="11245.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Issue creating shared directory between host and guest&#39;" href="11245.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/issue-creating-shared-directory-between-host-and-guest/11245" />
<meta name="twitter:url" content="https://forums.whonix.org/t/issue-creating-shared-directory-between-host-and-guest/11245" />
<meta property="og:title" content="Issue creating shared directory between host and guest" />
<meta name="twitter:title" content="Issue creating shared directory between host and guest" />
<meta property="og:description" content="Issue: Issue creating shared directory between host and guest  I was following the steps on how to create a shared directory between host and guest VM from this article(https://www.explorelinux.com/how-to-create-shared-directory-between-host-and-guest-in-kvm/)  I didn‚Äôt get very far.  Initial condition: shutdown whonix gateway and workstation  In host OS: $ mkdir /home/(hostuser)/vmhost-share $ sudo chown libvirt-qemu:libvirt-qemu /home/(hostuser)/vmhost-share  $ ls -ld vmhost-share drwxrwxrwx 2..." />
<meta name="twitter:description" content="Issue: Issue creating shared directory between host and guest  I was following the steps on how to create a shared directory between host and guest VM from this article(https://www.explorelinux.com/how-to-create-shared-directory-between-host-and-guest-in-kvm/)  I didn‚Äôt get very far.  Initial condition: shutdown whonix gateway and workstation  In host OS: $ mkdir /home/(hostuser)/vmhost-share $ sudo chown libvirt-qemu:libvirt-qemu /home/(hostuser)/vmhost-share  $ ls -ld vmhost-share drwxrwxrwx 2..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ‚ù§" />
<meta property="article:published_time" content="2021-03-08T15:34:30+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="11245.html">Issue creating shared directory between host and guest</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/kvm/11.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #9EB83B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>KVM</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/dev001'><span itemprop='name'>dev001</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-08T15:34:30Z' class='post-time'>
                March 8, 2021,  3:34pm
              </time>
              <meta itemprop='dateModified' content='2021-03-08T15:37:36Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Issue: Issue creating shared directory between host and guest<br>
I was following the steps on how to create a shared directory between host and guest VM from this article(<a href="../../../external.html?link=https://www.explorelinux.com/how-to-create-shared-directory-between-host-and-guest-in-kvm/" rel="noopener nofollow ugc">https://www.explorelinux.com/how-to-create-shared-directory-between-host-and-guest-in-kvm/</a>)<br>
I didn‚Äôt get very far.</p>
<h2>Initial condition:</h2>
<p>shutdown whonix gateway and workstation</p>
<h2>In host OS:</h2>
<pre><code>$ mkdir /home/(hostuser)/vmhost-share
$ sudo chown libvirt-qemu:libvirt-qemu /home/(hostuser)/vmhost-share

$ ls -ld vmhost-share
drwxrwxrwx 2 libvirt-qemu libvirt-qemu 4096 Mar  6 19:42 vmhost-share
</code></pre>
<p>open virt-manager<br>
select ‚Äúshow vm hardware details‚Äù<br>
click ‚Äúadd hardware‚Äù<br>
select ‚Äúfile system‚Äù<br>
type=mount<br>
driver=squash<br>
sourcepath=/home/(hostuser)/vmhost-share<br>
targetpath=/vmshare</p>
<p>Start whonix gateway‚Ä¶ok<br>
start whonix workstation‚Ä¶failed</p>
<p>whonix workstation console output‚Ä¶</p>
<pre><code>$ sudo virsh start Whonix-Workstation
error: Failed to start domain Whonix-Workstation
error: internal error: qemu unexpectedly closed the monitor: 2021-03-08T15:31:51.184081Z qemu-system-x86_64: -device virtio-9p-pci,id=fs0,fsdev=fsdev-fs0,mount_tag=/vmshare,bus=pci.0,addr=0x8: cannot initialize fsdev 'fsdev-fs0': failed to open '/home/(hostuser)/vmhost-share': Permission denied</code></pre>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../how-to-enable-kvm-shared-folders-from-cli/11403/6.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../how-to-enable-kvm-shared-folders-from-cli/11403/6.html'>
                      <span itemprop='name'>How to enable KVM shared folders from cli</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                    <a href="../help-welcome-kvm-development-staying-the-course/166/442.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='../help-welcome-kvm-development-staying-the-course/166/442.html'>
                      <span itemprop='name'>[Help Welcome] KVM Development - staying the course</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-08T15:57:35Z' class='post-time'>
                March 8, 2021,  3:57pm
              </time>
              <meta itemprop='dateModified' content='2021-03-08T15:57:35Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Please follow the instructions documented here instead of trying something on your own:</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#Shared_Folders" target="_blank" rel="noopener" title="10:50PM - 21 February 2021">Whonix ‚Äì 21 Feb 21</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/218;"><img src="../../../external.html?link=https://www.whonix.org/w/images/b/be/234234234236kvm.png" class="thumbnail" width="690" height="218"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#Shared_Folders" target="_blank" rel="noopener">Whonix ‚Ñ¢ for KVM</a></h3>

<p>Using Whonix ‚Ñ¢ with KVM (Kernel Virtual Machine)</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/dev001'><span itemprop='name'>dev001</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-08T19:22:58Z' class='post-time'>
                March 8, 2021,  7:22pm
              </time>
              <meta itemprop='dateModified' content='2021-03-08T19:22:58Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I followed the instructions of the document you provided. It still doesn‚Äôt work.</p>
<p>Here are the steps‚Ä¶</p>
<h1>Initial condition:</h1>
<p>Both whonix gateway and workstation are running</p>
<h1>Configuration:</h1>
<h2>open virt-manager</h2>
<p>select whonix workstation<br>
select ‚Äúshow vm hardware details‚Äù<br>
click ‚Äúadd hardware‚Äù<br>
select ‚Äúfile system‚Äù<br>
type=mount<br>
driver=default<br>
mode=mapped<br>
sourcepath=/home/samplehostuser/shared<br>
targetpath=shared<br>
click ‚Äúapply‚Äù button</p>
<blockquote>
<p>Dialog pops up saying. ‚ÄúThis device could not be attached to the running machine. Would you like to make the device available after the next guest shutdown‚Äù.<br>
Detailed message says ‚ÄúOperation not supported: live attach of device ‚Äòfilesystem‚Äô is not supported‚Ä¶‚Äù</p>
</blockquote>
<p>click ‚Äúyes‚Äù.</p>
<h1>Shutdown and start workstation</h1>
<p>Shutdown whonix workstation<br>
start whonix workstation‚Ä¶fails</p>
<pre><code>$ sudo virsh start Whonix-Workstation
error: Failed to start domain Whonix-Workstation
error: internal error: process exited while connecting to monitor: 2021-03-08T19:10:13.527737Z qemu-system-x86_64: -device virtio-9p-pci,id=fs0,fsdev=fsdev-fs0,mount_tag=shared,bus=pci.0,addr=0x8: cannot initialize fsdev 'fsdev-fs0': failed to open '/home/samplehostuser/shared': Permission denied

$ ls -l -d shared
drwxrwxrwx 2 samplehostuser samplehostuser 4.0K Mar  8 11:43 shared/</code></pre>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/dev001'><span itemprop='name'>dev001</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-09T06:14:11Z' class='post-time'>
                March 9, 2021,  6:14am
              </time>
              <meta itemprop='dateModified' content='2021-03-09T06:14:11Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>In the guest vm, I also tried to manually mount the ‚Äúshared‚Äù directory and received an error.</p>
<pre><code>user@host:~$ sudo mount -t 9p -o trans=virtio shared /mnt/shared
mount: /mnt/shared: bad option; for several filesystems (e.g. nfs, cifs) you might need a /sbin/mount.&lt;type&gt; helper program.</code></pre>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-09T20:53:25Z' class='post-time'>
                March 9, 2021,  8:53pm
              </time>
              <meta itemprop='dateModified' content='2021-03-09T20:53:25Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Did you add your user to the libvirt and kvm groups? I also assume you‚Äôve chowned the shared dir</p>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/dev001'><span itemprop='name'>dev001</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-11T08:39:05Z' class='post-time'>
                March 11, 2021,  8:39am
              </time>
              <meta itemprop='dateModified' content='2021-03-11T08:39:05Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>My host user is a member of the groups: kvm, libvirt, libvirt-qemu</p>
<p>The ‚Äú/home/samplehostuser/shared‚Äù folder at the host is as follows‚Ä¶</p>
<pre><code>$ ls -l -d /home/samplehostuser/shared
drwxrwxrwx 2 samplehostuser samplehostuser 4.0K Mar  8 11:43 /home/samplehostuser/shared/
</code></pre>
<p>I changed the group name of ‚Äú/home/samplehostuser/shared‚Äù to kvm, libvirt and libvirt-qemu and still getting the permission error when starting up the Whonix-Workstation</p>
<p>Any more suggestions?</p>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-11T15:28:22Z' class='post-time'>
                March 11, 2021,  3:28pm
              </time>
              <meta itemprop='dateModified' content='2021-03-11T15:28:22Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>What host are you using? I‚Äôm guessing something other than Debian stable. I would file a bug report with them at his point.</p>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-11T15:40:59Z' class='post-time'>
                March 11, 2021,  3:40pm
              </time>
              <meta itemprop='dateModified' content='2021-03-11T15:40:59Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <ul>
<li>Become a master of linux file permissions. Unrelated to Whonix.</li>
<li>Remove Whonix from the equation as per <a href="../../../external.html?link=https://www.whonix.org/wiki/Free_Support_Principle">https://www.whonix.org/wiki/Free_Support_Principle</a>
</li>
<li>Emulate what is supposed to happen.</li>
</ul>
<hr>
<p>syntax:</p>
<pre><code>sudo -u user-which-you-think-will-be-creating-files touch /path/to/folder/example-file
sudo -u user-which-you-think-will-be-creating-files rm /path/to/folder/example-file
</code></pre>
<p>If the emulated test fails, so would any application such as KVM doing the same.<br>
(Not sure KVM should be called an application but in this context it doesn‚Äôt make a difference.)</p>
<hr>
<ul>
<li>Stay out of <code>/home</code>-anything.</li>
</ul>
<hr>
<p>Running under user <code>user</code>:</p>
<pre><code class="lang-auto">$ mkdir afolder
$ sudo chown user2:user2 afolder
$ sudo -u user2 touch /home/user/afolder/test
</code></pre>
<blockquote>
<p>touch: cannot touch ‚Äò/home/user/afolder/test‚Äô: Permission denied</p>
</blockquote>
<p><code>/home/user</code> owned by user <code>user</code> doesn‚Äôt easily mix with a sub folder accessible by another user. Since the parent folder <code>/home/user</code> is only accessible by user <code>user</code> the sub folder <code>/home/user/afolder</code> cannot easily be accessible by user <code>user2</code>.</p>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/dev001'><span itemprop='name'>dev001</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-11T16:02:47Z' class='post-time'>
                March 11, 2021,  4:02pm
              </time>
              <meta itemprop='dateModified' content='2021-03-11T16:02:47Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <pre><code>$ lsb_release -a
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 20.04.2 LTS
Release:	20.04
Codename:	focal</code></pre>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-11T16:15:33Z' class='post-time'>
                March 11, 2021,  4:15pm
              </time>
              <meta itemprop='dateModified' content='2021-03-11T16:15:33Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote quote-modified" data-post="442" data-topic="166">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="../help-welcome-kvm-development-staying-the-course/166/442.html">[Help Welcome] KVM Development - staying the course</a> <a class="badge-wrapper  bullet" href="../../c/kvm/11.html"><span class="badge-category-bg" style="background-color: #9EB83B;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Everything specific to Whonix KVM. (devs)">KVM</span></a>
  </div>
  <blockquote>
    <a href="11245.html" class="inline-onebox">Issue creating shared directory between host and guest</a> reminds me‚Ä¶ chmod 777 /home/user/shared isn‚Äôt a great. Security issue and usability issue. 
As per <a href="../../../external.html?link=https://chmod-calculator.com/">https://chmod-calculator.com/</a> 777 allow public (i.e. any linux user account including those not having business there on the system) to read, write, execute files from that folder. 
Is there some more canonical way to set up shared folders with KVM? 
[1] Under which user is KVM attempting to write to shared folders? 
[1] Under which group is KV‚Ä¶
  </blockquote>
</aside>

        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/dev001'><span itemprop='name'>dev001</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-11T23:15:58Z' class='post-time'>
                March 11, 2021, 11:15pm
              </time>
              <meta itemprop='dateModified' content='2021-03-12T09:13:24Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I finally got it to work.</p>
<h1>Scenario#1: This works</h1>
<p>On the host os, if I create the shared directory in /mnt/shared and set permission to 777, then the guest vm would start ok and guest vm app can access the shared directory</p>
<h1>Scenario#2: This works</h1>
<p>On the host os, if I create the shared directory in /mnt/shared and set permission to 770 and group=libvirt-qemu or group=kvm. The guest vm would start ok and guest vm app can access the shared directory. Setting the directory‚Äôs group to another other value would cause the guest vm startup to fail.</p>
<h1>Scenario#3: This works</h1>
<p>If the shared directory is within the host os‚Äôs user account. i.e. /home/samplehostuser/shared.</p>
<p>It is important to verify the following criteria:</p>
<ol>
<li>/home/samplehostuser permission is 777 or</li>
<li>if /home/samplehostuser permission is 770, then libvirt-qemu must be a member of samplehostuser group</li>
</ol>
<p>Note: (1) could have security consequences.</p>
<h2>Request:</h2>
<p>The documentation (<a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#Shared_Folders" rel="noopener nofollow ugc">https://www.whonix.org/wiki/KVM#Shared_Folders</a>) is not clear on this and needs to be updated with these details</p>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-12T15:21:55Z' class='post-time'>
                March 12, 2021,  3:21pm
              </time>
              <meta itemprop='dateModified' content='2021-03-12T15:21:55Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="dev001" data-post="11" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/d/848f3c/40.png" class="avatar"> dev001:</div>
<blockquote>
<h2>Request:</h2>
<p>The documentation (<a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#Shared_Folders">https://www.whonix.org/wiki/KVM#Shared_Folders</a>) is not clear on this and needs to be updated with these details</p>
</blockquote>
</aside>
<p>I still don;t know why the typical scenario documented already doesn‚Äôt work for you. I think all scenarios  you listed are less ideal for different reasons which is why I can‚Äôt accept them.</p>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/dev001'><span itemprop='name'>dev001</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-14T22:47:58Z' class='post-time'>
                March 14, 2021, 10:47pm
              </time>
              <meta itemprop='dateModified' content='2021-03-14T22:47:58Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The documentation as written didn‚Äôt work for me. The issue was it was not detailed enough with the folder permissions. I was simply asking to update the documentation with more details</p>
<p>In my case, my host user account permission is:<br>
<code>/home/samplehostuser ... permission 770</code><br>
and the shared folder permission is:<br>
<code>/home/samplehostuser/shared ... permission 777</code></p>
<p>This would cause the Whonix-Workstation to fail on startup.</p>
<p>To fix this issue, I would need to set:<br>
<code>/home/samplehostuser ... permission 777</code><br>
or<br>
add user ‚Äòlibvirt-qemu‚Äô to group ‚Äòsamplehostuser‚Äô.</p>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-15T10:34:14Z' class='post-time'>
                March 15, 2021, 10:34am
              </time>
              <meta itemprop='dateModified' content='2021-03-15T10:34:14Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="dev001" data-post="11" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/d/848f3c/40.png" class="avatar"> dev001:</div>
<blockquote>
<h1>Scenario#1: This works</h1>
<p>On the host os, if I create the shared directory in /mnt/shared and set permission to 777, then the guest vm would start ok and guest vm app can access the shared directory</p>
</blockquote>
</aside>
<p>Insecure because then any limited linux user account can read that folder.</p>
<aside class="quote no-group" data-username="dev001" data-post="11" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/d/848f3c/40.png" class="avatar"> dev001:</div>
<blockquote>
<h1>Scenario#2: This works</h1>
<p>On the host os, if I create the shared directory in /mnt/shared and set permission to 770 and group=libvirt-qemu or group=kvm. The guest vm would start ok and guest vm app can access the shared directory. Setting the directory‚Äôs group to another other value would cause the guest vm startup to fail.</p>
</blockquote>
</aside>
<p>Better.</p>
<p><code>770</code> means <code>ug+rwx</code>. Owner and group having read, write, execute permission. The execute permission seems not needed.</p>
<p>Could you try <code>660</code> please?</p>
<p><code>660</code> means <code>ug+rw</code>. Owner and group having read, write permission.</p>
<aside class="quote no-group" data-username="dev001" data-post="11" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/d/848f3c/40.png" class="avatar"> dev001:</div>
<blockquote>
<h1>Scenario#3: This works</h1>
</blockquote>
</aside>
<aside class="quote no-group" data-username="dev001" data-post="11" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/d/848f3c/40.png" class="avatar"> dev001:</div>
<blockquote>
<ul>
<li>/home/samplehostuser permission is 777 or</li>
</ul>
</blockquote>
</aside>
<p>Even worse than <span class="hashtag">#1</span>.</p>
<aside class="quote no-group" data-username="HulaHoop" data-post="12" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>I think all scenarios you listed are less ideal for different reasons which is why I can‚Äôt accept them.</p>
</blockquote>
</aside>
<p>What‚Äôs the issue with <span class="hashtag">#2</span>?</p>
<aside class="quote no-group" data-username="dev001" data-post="13" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/d/848f3c/40.png" class="avatar"> dev001:</div>
<blockquote>
<p>add user ‚Äòlibvirt-qemu‚Äô to group ‚Äòsamplehostuser‚Äô.</p>
</blockquote>
</aside>
<p>That should also be avoided. No need for user <code>libvirt-qemu</code> to have full access to whole home folder of <code>samplehostuser</code>.</p>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="3" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-15T13:33:13Z' class='post-time'>
                March 15, 2021,  1:33pm
              </time>
              <meta itemprop='dateModified' content='2021-03-15T13:33:13Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="14" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>What‚Äôs the issue with <span class="hashtag">#2</span>?</p>
</blockquote>
</aside>
<p>I hesitate because it could mess up permissions on a system level dir? Not sure of the consequences so I kept everything in home</p>
<aside class="quote no-group" data-username="Patrick" data-post="14" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>That should also be avoided. No need for user <code>libvirt-qemu</code> to have full access to whole home folder of <code>samplehostuser</code>.</p>
</blockquote>
</aside>
<p>The reason we add user to the libvirt group is because otherwise the user would have to input their user account password every time they open and interact with the VMM GUI</p>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-15T13:46:45Z' class='post-time'>
                March 15, 2021,  1:46pm
              </time>
              <meta itemprop='dateModified' content='2021-03-15T13:46:45Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="HulaHoop" data-post="15" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>The reason we add user to the libvirt group is because otherwise the user would have to input their user account password every time they open and interact with the VMM GUI</p>
</blockquote>
</aside>
<p>Not applicable‚Ä¶ Because‚Ä¶ What the user suggested is the other way arround.</p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="14" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<aside class="quote no-group" data-username="dev001" data-post="13" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/d/848f3c/40.png" class="avatar"> dev001:</div>
<blockquote>
<p>add user ‚Äòlibvirt-qemu‚Äô to group ‚Äòsamplehostuser‚Äô.</p>
</blockquote>
</aside>
</blockquote>
</aside>
<p>is different from</p>
<p>add user <code>user</code> to  gropu <code>libvirt-qemu</code></p>
<p>I said:</p>
<blockquote>
<p>No need for user <code>libvirt-qemu</code> to have full access to whole home folder of <code>samplehostuser</code> .</p>
</blockquote>
<p>Clarification in other words:</p>
<p>I did not say:</p>
<blockquote>
<p>No need for user <code>user</code> to have full access to <code>libvirt-qemu</code>.</p>
</blockquote>
<blockquote>
<p>Do not add user <code>user</code> to group <code>libvirt-qemu</code>.</p>
</blockquote>
<aside class="quote no-group" data-username="HulaHoop" data-post="15" data-topic="11245">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>it could mess up permissions on a system level dir?</p>
</blockquote>
</aside>
<p>The risk is minuscule. Linux folder permissions aren‚Äôt black magic.</p>
<p>It‚Äôs possible to view all file system settings one way or another.</p>
<pre><code>stat /mnt
</code></pre>
<p>And after making modifications, checking again, seeing that nothing actually changed.</p>
<p>Since /mnt is and stays owned by user <code>root</code>, there should be no way for KVM to mess up that folder. It seems to respect folder permissions, otherwise there wouldn‚Äôt be this issue to begin with.</p>
<p>Also this could be turned around. Risking to mess up /mnt (which probably one most users‚Äôs systems doesn‚Äôt contain anything nowadays) vs risking to mess up /home, which would effectively brick the system for most users (not knowing how to use recovery mode). If permissions in /home or /home/user are messed up, that could even break login and X.</p>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/dev001'><span itemprop='name'>dev001</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11245.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-03-15T15:44:12Z' class='post-time'>
                March 15, 2021,  3:44pm
              </time>
              <meta itemprop='dateModified' content='2021-03-15T15:44:12Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I‚Äôve set permission of /home/samplehostuser/shared to 660. This creates a problem as I could not get into the directory as ‚Äòsamplehostuser‚Äô. So I set the permission to 760 (drwxrw----) and the Whonix-Workstation fails on startup.</p>
<pre><code>$ sudo virsh start Whonix-Workstation
error: Failed to start domain Whonix-Workstation
error: internal error: process exited while connecting to monitor: 2021-03-15T15:23:12.203344Z qemu-system-x86_64: -device virtio-9p-pci,id=fs0,fsdev=fsdev-fs0,mount_tag=shared,bus=pci.0,addr=0x8: share path /home/samplehostuser/shared does not exist</code></pre>
        </div>

        <meta itemprop='headline' content='Issue creating shared directory between host and guest'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
