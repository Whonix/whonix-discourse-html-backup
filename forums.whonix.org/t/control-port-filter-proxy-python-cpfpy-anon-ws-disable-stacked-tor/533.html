<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor - Development - Whonix Forum</title>
    <meta name="description" content="I started on rewriting CPFP in python, based on the Tails script at https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/usr/local/sbin/tor-controlport-filter. 

Still at an early stage, but it looks pro&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="533.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor&#39;" href="533.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/control-port-filter-proxy-python-cpfpy-anon-ws-disable-stacked-tor/533" />
<meta name="twitter:url" content="https://forums.whonix.org/t/control-port-filter-proxy-python-cpfpy-anon-ws-disable-stacked-tor/533" />
<meta property="og:title" content="Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor" />
<meta name="twitter:title" content="Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor" />
<meta property="og:description" content="I started on rewriting CPFP in python, based on the Tails script at https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/usr/local/sbin/tor-controlport-filter.  Still at an early stage, but it looks promising. I am posting early because, in the course of my tests, I have encountered many errors using a slightly modified of ‚Äútor_bootstrap_check.py‚Äù. I have added some additional exceptions handling. https://github.com/troubadoour/anon-shared-helper-scripts/commit/268fa666cabc16aef..." />
<meta name="twitter:description" content="I started on rewriting CPFP in python, based on the Tails script at https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/usr/local/sbin/tor-controlport-filter.  Still at an early stage, but it looks promising. I am posting early because, in the course of my tests, I have encountered many errors using a slightly modified of ‚Äútor_bootstrap_check.py‚Äù. I have added some additional exceptions handling. https://github.com/troubadoour/anon-shared-helper-scripts/commit/268fa666cabc16aef..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="26 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ‚ù§" />
<meta property="article:published_time" content="2014-09-23T20:47:14+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="5334658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="533.html">Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-23T20:47:14Z' class='post-time'>
                September 23, 2014,  8:47pm
              </time>
              <meta itemprop='dateModified' content='2016-09-14T20:01:46Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I started on rewriting CPFP in python, based on the Tails script at <a href="../../../external.html?link=https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/usr/local/sbin/tor-controlport-filter" rel="nofollow noopener">https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/usr/local/sbin/tor-controlport-filter</a>.</p>
<p>Still at an early stage, but it looks promising. I am posting early because, in the course of my tests, I have encountered many errors using a slightly modified of ‚Äútor_bootstrap_check.py‚Äù. I have added some additional exceptions handling. <a href="../../../external.html?link=https://github.com/troubadoour/anon-shared-helper-scripts/commit/268fa666cabc16aefb9025420f52224f0e031d0d" rel="nofollow noopener">https://github.com/troubadoour/anon-shared-helper-scripts/commit/268fa666cabc16aefb9025420f52224f0e031d0d</a>.</p>
<p>Might be handy for debugging Tor protocol.</p>
<p>I will come back soon with more details on the progress.</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-23T22:01:58Z' class='post-time'>
                September 23, 2014, 10:01pm
              </time>
              <meta itemprop='dateModified' content='2014-09-23T22:01:58Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Great!</p>
<ul>
<li>As the ultimate test for the functionality of of command relaying proxy &lt;-&gt; ControlPort, please try to run arm through the control port (while having no filter rules in place obviously).</li>
</ul>
<pre><code class="lang-auto"></code></pre>
<p>If that doesn‚Äôt work, the implementation is somehow buggy / not fully understood.</p>
<ul>
<li>
<p>Please keep the .d style config folder /etc/controlportfilt.d. (Maybe a different config layout may be required.), I really do like the concept of stackable configs.) Unless this is really really hard in python.</p>
</li>
<li>
<p>As a bonus, wildcard support for white listed commands would be nice. Such as‚Ä¶<br>
‚Äì SETCONF HiddenServiceDir /some/dir<br>
‚Äì SETCONF HiddenServicePort 3543</p>
</li>
</ul>
<p>So the ‚Äú/some/dir‚Äù part can be variable while the ‚ÄúSETCONF HiddenServiceDir‚Äù part needs to be on the white list.</p>
<ul>
<li>
<p>Please implement ‚Äúthe lie‚Äù as per <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/CPFP">https://www.whonix.org/wiki/Dev/CPFP</a>.</p>
</li>
<li>
<p>maximum accepted command string length to 128 (configurable)</p>
</li>
<li>
<p>keeping the existing logging functionality</p>
</li>
</ul>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-24T22:36:33Z' class='post-time'>
                September 24, 2014, 10:36pm
              </time>
              <meta itemprop='dateModified' content='2014-09-24T22:36:33Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I don‚Äôt have the right to tell you how to spend your time <span class="bbcode-b">troubadour</span> but instead of writing it in python I found that porting the code to mksh increases security for users that enable CPFP because it the only interpreter mentioned as ever going through a security auditing process.</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/Whonix/issues/301" target="_blank">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Whonix/Whonix/issues/301" target="_blank">consider porting some scripts from bash to mksh</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2014-09-01" data-time="13:10:56" data-timezone="UTC">01:10PM - 01 Sep 14 UTC</span>
      </div>

        <div class="date">
          closed <span class="discourse-local-date" data-format="ll" data-date="2014-10-01" data-time="16:48:36" data-timezone="UTC">04:48PM - 01 Oct 14 UTC</span>
        </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank">
          <img alt="adrelanos" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>
  </div>
</div>

<div class="github-row">
  <p class="github-content">As per:
http://article.gmane.org/gmane.os.miros.mksh/445
https://www.whonix.org/forum/index.php/topic,444.msg3618.html#msg3618
Perhaps some scripts (such as control-port-filter, sdwdate, whonixcheck, tb-updater, msgcollector) should be ported from bash to mksh for better security.
This...</p>
</div>

<div class="labels">
    <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">enhancement</span>
    <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">security</span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-24T22:45:30Z' class='post-time'>
                September 24, 2014, 10:45pm
              </time>
              <meta itemprop='dateModified' content='2014-09-24T22:45:30Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I don‚Äôt agree with mksh yet, but I wouldn‚Äôt mind a port to mksh either way. Since I learned troubadour is more a python than bash/mksh coder, I‚Äôd am expecting (as in I guess so!) (not as in make it so!) a python port. Anyhow, whoever does the work, gets to decide about the implementation details.</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-25T19:27:06Z' class='post-time'>
                September 25, 2014,  7:27pm
              </time>
              <meta itemprop='dateModified' content='2014-09-25T19:27:06Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <ul>
<li>
<p>Please keep in mind that both sources of data input are not to be trusted,<br>
‚Äì input from client applications wanting to use ControlPort (filter proxy),<br>
‚Äì as well es replies from Tor should better be not trusted. It‚Äôs not that Tor is inherently untrusted or that ‚Äúsignal newnym‚Äù  could result in a complex answer‚Ä¶ But‚Ä¶ If later (with custom configs), CPFP gets asked to reply some info about the Tor network, it might happen that some Tor replies something that contains malicious string formed by malicious Tor relays.</p>
</li>
<li>
<p>Please keep in mind, that both sources of data input might either maliciously or due to a bug send excessively long string string lengths. Or flood attacks. Rather than doing cpu intensive parsing and hdd intensive logging them, those should be dropped if detected.</p>
</li>
<li>
<p>How to name that package you‚Äôre working on? pcpfp / PCPFP? (Python Control Port Filter Proxy) We could develop it as separate package and at some point, when it‚Äôs ready, switch the default installed package from control-port-filter (bash) to pcpfp.</p>
</li>
</ul>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-25T22:02:53Z' class='post-time'>
                September 25, 2014, 10:02pm
              </time>
              <meta itemprop='dateModified' content='2014-09-25T22:02:53Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/hulahoop">@hulahoop</a>. mksh looks good because it‚Äôs security audited and used in Android, but I would be at a loss and pretty much useless trying to write even a simple program (I do mean program, not script) in any flavor of shell scripting. So, for me, Python it is. For mksh, unless we find another contributor, Patrick is the only resource.</p>
<p>On the other hand, I think that Python is audited ‚Äòde facto‚Äô by the tens of thousands or programs running today, from small home apps to huge projects.  And its flexibility cannot be matched by a shell script. I am going to release the initial version of PyCPFP (or whatever we call it) soon, and we‚Äôll be able to discuss at length the best ways to sanitize the inputs (requests from clients and answers from the server). I also plan to add some CPFP_MODE option, such as STRICT, HIDDEN_SERVICES_ALLOWED or TRANSPARENT, to be discussed. All this can be done [relatively] easily in Python,  but I guess it would be a lot longer and much more difficult in [ba][mk]sh.</p>
<p>Please understand that I am not advocating Python, just trying to be realistic.</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-25T22:32:55Z' class='post-time'>
                September 25, 2014, 10:32pm
              </time>
              <meta itemprop='dateModified' content='2014-09-25T22:32:55Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Are also .d configuration folders and extensible variables possible?</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-25T22:43:11Z' class='post-time'>
                September 25, 2014, 10:43pm
              </time>
              <meta itemprop='dateModified' content='2014-09-25T22:43:11Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Are also .d configuration folders and extensible variables possible?</blockquote>
<p>Yes. How, I don‚Äôt know yet. There are a couple of options, It seems.</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-25T22:50:36Z' class='post-time'>
                September 25, 2014, 10:50pm
              </time>
              <meta itemprop='dateModified' content='2014-09-25T22:50:36Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Troubadour I found a hardened python implementation project for high sec scenarios. The documentation is pretty deep and deals with function safety and other related topics. pysec is a project by the OWASP non-profit organization that is dedicated to the safety of web apps.</p>
<p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://owasp.org/www--site-theme/favicon.ico" class="site-icon" width="64" height="64">
      <a href="../../../external.html?link=https://owasp.org/" target="_blank">owasp.org</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://owasp.org/www--site-theme/favicon.ico" class="thumbnail onebox-avatar" width="64" height="64">

<h3><a href="../../../external.html?link=https://owasp.org/" target="_blank">OWASP Foundation | Open Source Foundation for Application Security</a></h3>

<p>OWASP Foundation, the Open Source Foundation for Application Security on the main website for The OWASP Foundation. OWASP is a nonprofit foundation that works to improve the security of software.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<a href="../../../external.html?link=http://www.pythonsecurity.org/" class="onebox" target="_blank">http://www.pythonsecurity.org/</a><br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">
      <a href="../../../external.html?link=https://github.com/ebranca/owasp-pysec/wiki" target="_blank">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://avatars0.githubusercontent.com/u/866040?s=400&amp;v=4" class="thumbnail onebox-avatar" width="420" height="420">

<h3><a href="../../../external.html?link=https://github.com/ebranca/owasp-pysec/wiki" target="_blank">ebranca/owasp-pysec</a></h3>

<p>OWASP Python Security Project. Contribute to ebranca/owasp-pysec development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Please consider writing Mandatory Access profiles for your filter when done and possibly the other one if it materializes. Something along the lines described:</p>
<blockquote>It is possible for example to restrict something like perl or python with extended access controls. On OpenBSD if a user or an attacker has access to perl or python, then they can run whichever scripts they like. With extended access controls, it is possible to restrict only certain scripts to have access to an interpreter (and additionally make those scripts immutable), and prevent the interpreter from running at all unless called by those specific scripts. There is no equivalent fine grained granularity on OpenBSD.</blockquote>
Reference: https://allthatiswrong.wordpress.com/2010/01/20/the-insecurity-of-openbsd/
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-27T16:20:54Z' class='post-time'>
                September 27, 2014,  4:20pm
              </time>
              <meta itemprop='dateModified' content='2014-09-27T16:20:54Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I am going to push the first version of the Python CPFP, but it might be unavailable for a while. My repositories are blocked with an error 404. I can log in though.</p>
<p><span class="bbcode-b">One of our mostly harmless robots seems to think you are not a human.<br>
Because of that, it‚Äôs hidden your profile from the public. If you really are human, please contact support to have your profile reinstated.<br>
We promise we won‚Äôt require DNA proof of your humanity.</span></p>
<p>Most likely banning Tor.</p>
<p>I have contacted support. Have you ever seen this message?</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-27T18:01:15Z' class='post-time'>
                September 27, 2014,  6:01pm
              </time>
              <meta itemprop='dateModified' content='2014-09-27T18:01:15Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes. Support quickly sorted that out.</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-28T22:41:35Z' class='post-time'>
                September 28, 2014, 10:41pm
              </time>
              <meta itemprop='dateModified' content='2014-09-28T22:41:35Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I have pushed <a href="../../../external.html?link=https://github.com/troubadoour/control-port-filter-python" rel="nofollow noopener">https://github.com/troubadoour/control-port-filter-python</a> but it is still hidden to the world.</p>
<p>A couple of issues:<br>
‚Äúmake deb-icup‚Äù complains about it being the first packaging of a new upstream software package, and about the man page missing (because I modify /usr/bin/controlportfilt). However, the package is built and can be installed with ‚Äúsudo dpkg -i control-port-filter-python_0.0-1_all.deb‚Äù. I did not take the time to look deeper in debian packaging. I am using it now.</p>
<p>For the moment, the CPFP configuration, including the white list, is hard coded in the script ‚Äúcpfp.py‚Äù. We could get the configuration from the environment, but after reading <a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,568.0.html" rel="nofollow noopener">https://www.whonix.org/forum/index.php/topic,568.0.html</a> and other threads, even if Python is not bash and diffrentiates data and code, it might be a good idea to try something else.</p>
<p>What about the following?</p>
<ul>
<li>create a configuration file.</li>
<li>create a hash file (sha1) of the configuration file (installed along the configuration file).</li>
<li>each time CPFP gets a request, it runs the hash function of the configuration file and compares it to the hash file content.</li>
<li>we make a simple GUI CPFP configuration editor. Any user change creates a new hash file.</li>
</ul>
<p>There would be no speed penalty. I have tested Python ‚Äòhashlib‚Äô on big files.</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-29T01:14:55Z' class='post-time'>
                September 29, 2014,  1:14am
              </time>
              <meta itemprop='dateModified' content='2014-09-29T01:14:55Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>"make deb-icup" complains about it being the first packaging of a new upstream software package, and about the man page missing (because I modify /usr/bin/controlportfilt). However, the package is built and can be installed with "sudo dpkg -i control-port-filter-python_0.0-1_all.deb". I did not take the time to look deeper in debian packaging. I am using it now.</blockquote>
I'll fix the debian stuff as soon as visible to public.
<blockquote>For the moment, the CPFP configuration, including the white list, is hard coded in the script "cpfp.py". We could get the configuration from the environment, but after reading https://www.whonix.org/forum/index.php/topic,568.0.html and other threads, even if Python is not bash and diffrentiates data and code, it might be a good idea to try something else.</blockquote>
Security would be no objection. It's not like environment variables are inherently evil. But solely relying on environment variables would be pretty non-standard, hard to document.
<blockquote>What about the following?
<ul>
<li>create a configuration file.</li>
<li>create a hash file (sha1) of the configuration file (installed along the configuration file).</li>
<li>each time CPFP gets a request, it runs the hash function of the configuration file and compares it to the hash file content.</li>
</ul>
</blockquote><br>
It would be best to go the standard way. The daemon load its config once started. To obtain new settings, either restart the daemon or send signal sighup (service reload).

<blockquote>- we make a simple GUI CPFP configuration editor.</blockquote>
Configuration GUI should be an optional bonus. Not the default way. Also please keep CLI users in mind.
<blockquote>Any user change creates a new hash file.</blockquote>
That's only work in ~/. And in this case in /root somewhere. (Reminds me to change to obey xdg data dir standard some day.) Otherwise a file in /etc/ that changes would cause an interactive dpkg conflict resolution dialog each time there is an upgrade.
<p>.d config folders are great for usability, I think. When disto‚Äôs push an upgrade, user won‚Äôt get an interactive dpkg conflict resolution dialog. And users can extend the config however they wish. Derivatives can add their configs on top without patching. Or is there any issue in python parsing them?</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-29T02:08:50Z' class='post-time'>
                September 29, 2014,  2:08am
              </time>
              <meta itemprop='dateModified' content='2014-09-29T02:08:50Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>What about the following?
<ul>
<li>create a configuration file.</li>
<li>create a hash file (sha1) of the configuration file (installed along the configuration file).</li>
<li>each time CPFP gets a request, it runs the hash function of the configuration file and compares it to the hash file content.</li>
<li>we make a simple GUI CPFP configuration editor. Any user change creates a new hash file.</li>
</ul>
</blockquote>

<p>This sounds very similar to something I proposed sometime ago, can‚Äôt seem to find it now. So you‚Äôre comparing string hashes instead of operating on the input itself right?</p>
<p>The latest idea I‚Äôve come up with for CPFP is <a href="../../../external.html?link=https://github.com/Whonix/Whonix/issues/344">https://github.com/Whonix/Whonix/issues/344</a> where iptables will be used as a first line of defence and CPFP as a backstop. I thought I‚Äôd tell you so you can integrate this somehow in your work or suggest something. The more eyes on a problem the better.</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-29T03:56:25Z' class='post-time'>
                September 29, 2014,  3:56am
              </time>
              <meta itemprop='dateModified' content='2014-09-29T03:56:25Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><span class="bbcode-b">troubadour</span> I have just finished writing a proposal that simplifies the design of the controlport filter you are writing. The first part is the relevant part to you. Please read it and the guide referenced in the two uppermost links to get the picture of the the idea I‚Äôm suggesting. I would like to hear your comments.</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="../../../external.html?link=https://github.com/Whonix/Whonix/issues/348" target="_blank">github.com/Whonix/Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Whonix/Whonix/issues/348" target="_blank">ucspi-tcp suite as substitute for network facing daemons</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2014-09-29" data-time="03:50:55" data-timezone="UTC">03:50AM - 29 Sep 14 UTC</span>
      </div>

        <div class="date">
          closed <span class="discourse-local-date" data-format="ll" data-date="2014-09-30" data-time="22:31:41" data-timezone="UTC">10:31PM - 30 Sep 14 UTC</span>
        </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/HulaHoopWhonix" target="_blank">
          <img alt="HulaHoopWhonix" src="../../../external.html?link=https://avatars3.githubusercontent.com/u/7875239?v=4" class="onebox-avatar-inline" width="20" height="20">
          HulaHoopWhonix
        </a>
      </div>
    </div>
  </div>
</div>

<div class="github-row">
  <p class="github-content">[1] http://thedjbway.b0llix.net/ucspi-tcp/howdyd_1.html
[2] http://thedjbway.b0llix.net/ucspi-tcp/howdyd_2.html
I have come across these particular guides for tcpserver/tcpclient/tcpcat before. I have read them very carefully this time and...</p>
</div>

<div class="labels">
    <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">enhancement</span>
    <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">security</span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-29T16:19:59Z' class='post-time'>
                September 29, 2014,  4:19pm
              </time>
              <meta itemprop='dateModified' content='2014-09-29T16:19:59Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="14" data-topic="533">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>This sounds very similar to something I proposed sometime ago, can‚Äôt seem to find it now. So you‚Äôre comparing string hashes instead of operating on the input itself right?</p>
</blockquote>
</aside>
<p>The idea comes from something I have read recently, and it was probably one of your propositions. Sorry I could not find it back either.</p>
<p>I am comparing a file hash. When loaded, CPFP would read its configuration from a file, but first compute a hash of the file and compare it to a stored hash of the same file, and do that on every command. When the user modifies the configuration file, the hash file would be updated (the daemon would have to be restarted).</p>
<blockquote>The latest idea I've come up with for CPFP is https://github.com/Whonix/Whonix/issues/344 where iptables will be used as a first line of defence and CPFP as a backstop. I thought I'd tell you so you can integrate this somehow in your work or suggest something. The more eyes on a problem the better.</blockquote>
<p>The more defenses, the better, I guess. But for the time being, I am afraid it‚Äôs out of my league. I will concentrate on CPFP itself.</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-29T17:56:24Z' class='post-time'>
                September 29, 2014,  5:56pm
              </time>
              <meta itemprop='dateModified' content='2014-09-29T17:56:24Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="16" data-topic="533">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/d9b06d/40.png" class="avatar"> troubadour:</div>
<blockquote>
<p>but first compute a hash of the file and compare it to a stored hash of the same file, and do that on every command.</p>
</blockquote>
</aside>
<p>Not necessaroyy on every command, only when starting or restarting.</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-29T18:33:50Z' class='post-time'>
                September 29, 2014,  6:33pm
              </time>
              <meta itemprop='dateModified' content='2014-09-29T18:33:50Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I am reposting this to avoid it getting buried and would like to know what you think. This is the latest proposal and directly concerns controlport fitler rather than the iptables layer. Its about using tcpserver in ucspi-tcp to do the filtering. The rules can be scripted in any language you prefer (Python).</p>
<p><a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,560.msg4508.html#msg4508" class="onebox" target="_blank">https://www.whonix.org/forum/index.php/topic,560.msg4508.html#msg4508</a></p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/troubadour'><span itemprop='name'>troubadour</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-29T19:14:49Z' class='post-time'>
                September 29, 2014,  7:14pm
              </time>
              <meta itemprop='dateModified' content='2014-09-29T19:14:49Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=‚ÄúPatrick, post:13, topic:533‚Äù][quote]What about the following?</p>
<ul>
<li>create a configuration file.</li>
<li>create a hash file (sha1) of the configuration file (installed along the configuration file).</li>
<li>each time CPFP gets a request, it runs the hash function of the configuration file and compares it to the hash file content.[/quote]<br>
It would be best to go the standard way. The daemon load its config once started. To obtain new settings, either restart the daemon or send signal sighup (service reload).[/quote]</li>
</ul>
<p>Yes, comparing the hash on every request is useless. Modified steps:</p>
<ul>
<li>create a configuration file.</li>
<li>create a hash file (sha1) of the configuration file (installed along the configuration file).</li>
<li>when CPFP is started, it runs the hash function of the configuration file and compares it to the hash file content.</li>
</ul>
<blockquote>Configuration GUI should be an optional bonus. Not the default way. Also please keep CLI users in mind.</blockquote>
<p>If we want to compute the hash after the changes and save the string in a file, I do not see another way. There could be a warning message on top of it (generic_gui_message), in the style ‚ÄúModify this file only if you know what you are doing. Do you really want to proceed?‚Äù.</p>
<blockquote>[quote]Any user change creates a new hash file.[/quote]
That's only work in ~/. And in this case in /root somewhere. (Reminds me to change to obey xdg data dir standard some day.) Otherwise a file in /etc/ that changes would cause an interactive dpkg conflict resolution dialog each time there is an upgrade.</blockquote>
<p>I overlooked that (a daemon should not have root privileges). The files could be in ‚Äú$HOME/.config/cftp/‚Äù.</p>
<blockquote>.d config folders are great for usability, I think. When disto's push an upgrade, user won't get an interactive dpkg conflict resolution dialog. And users can extend the config however they wish. Derivatives can add their configs on top without patching. Or is there any issue in python parsing them?</blockquote>
<p>I do agree on the usability of the .d folders. Yes, the problem is parsing.</p>
<p>What you are doing in bash</p>
<pre><code class="lang-auto">if [ -d /etc/controlportfilt.d ]; then
   for i in /etc/controlportfilt.d/*; do
      if [ -f "$i" ]; then
         ~~~~
         bash -n "$i"
         source "$i"
      fi</code></pre>
<p>is very neat (although I do not fully understand the magic). It would be a whole different game to parse the controlportfilt.d directory in Python and make out what the real configuration is.</p>
<p>The configuration file I am working with:</p>
<pre><code class="lang-auto">[CONFIGURATION]
CONTROL_PORT_FILTER_LIMIT_GETINFO_NET_LISTENERS_SOCKS = True
CONTROL_PORT_FILTER_LIMIT_STRING_LENGTH = True
CONTROL_PORT_FILTER_EXCESSIVE_STRING_LENGTH = 128

[WHITE_LIST]
1 = GETINFO net/listeners/socks
2 = SIGNAL NEWNYM
3 = GETINFO status/bootstrap-phase
4 = GETINFO status/circuit-established</code></pre>
<p>It is parsed in a few lines with Python configparser.</p>
<p>By the way, my repositories are visible. <a href="../../../external.html?link=https://github.com/troubadoour/control-port-filter-python" rel="nofollow noopener">https://github.com/troubadoour/control-port-filter-python</a></p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="533.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-09-29T23:15:19Z' class='post-time'>
                September 29, 2014, 11:15pm
              </time>
              <meta itemprop='dateModified' content='2014-09-29T23:15:19Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Added some minor (mostly packaging) fixed on top:<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">
      <a href="../../../external.html?link=https://github.com/adrelanos/control-port-filter-python" target="_blank">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="../../../external.html?link=https://avatars1.githubusercontent.com/u/1985040?s=400&amp;v=4" class="thumbnail onebox-avatar" width="400" height="400">

<h3><a href="../../../external.html?link=https://github.com/adrelanos/control-port-filter-python" target="_blank">adrelanos/control-port-filter-python</a></h3>

<p>Deprecated - new project name -&gt; https://github.com/Whonix/onion-grater - adrelanos/control-port-filter-python</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>More comments later.</p>
        </div>

        <meta itemprop='headline' content='Control Port Filter Proxy Python (cpfpy) / anon-ws-disable-stacked-tor'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="5334658.html?page=2">next page ‚Üí</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
