<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix coding style inconsistencies</title>
    <link>http://forums.whonix.org/t/whonix-coding-style-inconsistencies/10686</link>
    <description>A few inconsistencies in the source code are slightly irking me.

Across the Whonix source code, a lot of the line wrapping is inconsistent. One line may be X characters long whilst another is Y characters, particularly when it comes to comments. What would the preferred length be?

The bracing of variables in bash code is also inconsistent. Should variables be `$example` or `${example}`? I usually prefer to brace variables because I think it looks better and because [it&#39;s good practice](https://stackoverflow.com/questions/8748831/when-do-we-need-curly-braces-around-shell-variables#8748880) but most other code doesn&#39;t use braces.</description>
    <language>en</language>
    <lastBuildDate>Sun, 06 Dec 2020 22:46:30 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/whonix-coding-style-inconsistencies/10686.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix coding style inconsistencies</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="10686">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>My thinking:</p>
<ul>
<li>If there was a pretty long code line above anyhow that gets harder to read if new line split using <code>\</code>, then it would be wasteful to pretend we’re enforcing an 80 characters line limit for comments.</li>
<li>Sometimes finishing off a sentence in new line making it look less pretty.</li>
<li>Sometimes easier to read to finish a sentence of thought then making a new line.</li>
<li>Certainly don’t add new line if shell output or anything else was copied/pasted into the source code. Such as “example output for command x is:”. Better to keep at least that original because that helps to better understand the string parsing that follows below.</li>
</ul>
</blockquote>
</aside>
<p>What about a “soft limit” of 80 but a few extra characters would be permitted if it improves readability?</p>
<aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="10686">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Surely we don’t need to limit ourselves to 80 characters as if we were stuck in the age of virtual terminals with maximum 80 characters line length?</p>
</blockquote>
</aside>
<p>People often have multiple windows open at the same time and aren’t using the entire width of the monitor for reading code.</p>
<aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="10686">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Can we refer to other, existing, popular style guides?</p>
</blockquote>
</aside>
<p>Linux has something like I described above: <a href="https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings" rel="noopener nofollow ugc">https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings</a></p>
<p>"The preferred limit on the length of a single line is 80 columns.</p>
<p>Statements longer than 80 columns should be broken into sensible chunks, unless exceeding 80 columns significantly increases readability and does not hide information."</p>
          <p><a href="http://forums.whonix.org/t/whonix-coding-style-inconsistencies/10686/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-coding-style-inconsistencies/10686/3</link>
        <pubDate>Sun, 06 Dec 2020 22:46:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10686-3</guid>
        <source url="http://forums.whonix.org/t/whonix-coding-style-inconsistencies/10686.rss">Whonix coding style inconsistencies</source>
      </item>
      <item>
        <title>Whonix coding style inconsistencies</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="madaidan" data-post="1" data-topic="10686">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>One line may be X characters long whilst another is Y characters, particularly when it comes to comments.</p>
</blockquote>
</aside>
<p>My thinking:</p>
<ul>
<li>If there was a pretty long code line above anyhow that gets harder to read if new line split using <code>\</code>, then it would be wasteful to pretend we’re enforcing an 80 characters line limit for comments.</li>
<li>Sometimes finishing off a sentence in new line making it look less pretty.</li>
<li>Sometimes easier to read to finish a sentence of thought then making a new line.</li>
<li>Certainly don’t add new line if shell output or anything else was copied/pasted into the source code. Such as “example output for command x is:”. Better to keep at least that original because that helps to better understand the string parsing that follows below.</li>
</ul>
<p>Related:</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Dev/coding_style" target="_blank" rel="noopener" title="04:31PM - 11 November 2020">Whonix – 11 Nov 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:90/47;"><img src="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" class="thumbnail" width="90" height="47"></div>

<h3><a href="https://www.whonix.org/wiki/Dev/coding_style" target="_blank" rel="noopener">Whonix ™ Coding Style</a></h3>

<p>Simplicity, Brevity, Sparingly Forking Upstream Projects, Feature Removability</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-username="madaidan" data-post="1" data-topic="10686">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>What would the preferred length be?</p>
</blockquote>
</aside>
<p>I am not sure. Surely we don’t need to limit ourselves to 80 characters as if we were stuck in the age of virtual terminals with maximum 80 characters line length?</p>
<p>Can we refer to other, existing, popular style guides?</p>
<aside class="quote no-group" data-username="madaidan" data-post="1" data-topic="10686">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>The bracing of variables in bash code is also inconsistent. Should variables be <code>$example</code> or <code>${example}</code>? I usually prefer to brace variables because I think it looks better and because <a href="https://stackoverflow.com/questions/8748831/when-do-we-need-curly-braces-around-shell-variables#8748880">it’s good practice </a> but most other code doesn’t use braces.</p>
</blockquote>
</aside>
<p>Makes sense. Current style is <code>$example</code> for simplicity and <code>${example}</code> whenever required or contributed so. Changing to <code>${example}</code> could be done if there was a script or command which would change that given a file.</p>
<p>Automation scripts / functions already in whonix-developer-meta-files:</p>
<ul>
<li>loop over every Whonix package</li>
<li>loop over every source file</li>
<li>do something on every source file</li>
<li>run git diff before running git commit</li>
</ul>
<p>The only thing missing is changing <code>$varname</code> to <code>${varname}</code>. Ideally test / review that this doesn’t add any breakage.</p>
          <p><a href="http://forums.whonix.org/t/whonix-coding-style-inconsistencies/10686/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-coding-style-inconsistencies/10686/2</link>
        <pubDate>Sun, 06 Dec 2020 11:12:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10686-2</guid>
        <source url="http://forums.whonix.org/t/whonix-coding-style-inconsistencies/10686.rss">Whonix coding style inconsistencies</source>
      </item>
      <item>
        <title>Whonix coding style inconsistencies</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>A few inconsistencies in the source code are slightly irking me.</p>
<p>Across the Whonix source code, a lot of the line wrapping is inconsistent. One line may be X characters long whilst another is Y characters, particularly when it comes to comments. What would the preferred length be?</p>
<p>The bracing of variables in bash code is also inconsistent. Should variables be <code>$example</code> or <code>${example}</code>? I usually prefer to brace variables because I think it looks better and because <a href="https://stackoverflow.com/questions/8748831/when-do-we-need-curly-braces-around-shell-variables#8748880" rel="noopener nofollow ugc">it’s good practice</a> but most other code doesn’t use braces.</p>
          <p><a href="http://forums.whonix.org/t/whonix-coding-style-inconsistencies/10686/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-coding-style-inconsistencies/10686/1</link>
        <pubDate>Sat, 05 Dec 2020 20:47:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-10686-1</guid>
        <source url="http://forums.whonix.org/t/whonix-coding-style-inconsistencies/10686.rss">Whonix coding style inconsistencies</source>
      </item>
  </channel>
</rss>
