<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Synchronizing guard nodes</title>
    <link>http://forums.whonix.org/t/synchronizing-guard-nodes/8029</link>
    <description>I run tor on several computers, one whonix the others not, all using the same public IP. What&#39;s the best way to get them all to use the same guard node?

I know I can run one tor client and tunnel all SOCKS to it but that machine must have most trusted status. This doesn&#39;t work for me because I only have one computer on 24/7 but it runs a public-facing server, so it is least trusted. Conversely I run whonix on my most trusted machine but rarely.

I don&#39;t know the significance of everything in /var/lib/tor, are there particular files that should be kept on the same machine, and files that can be copied to clients connected simultaneously?

Possibly related: I run Gateway and Workstation from immutable drives with shared folders for user data, and only reboot briefly into normal mode and no shared folders to apply updates. Will this cause any problems?

In the article on Tor Entry Guards
http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Tor_Entry_Guards
[quote]
Whonix ™ developer HulaHoop recently approached Tor researcher, Tariq Elahi, to discuss how exposure to malicious guards in multi-Workstation scenarios could be measured. It was discovered that 1 guard/client per internet-connected program (not identity!) is the safest possible configuration. In fact, the probability of a network adversary observing a user&#39;s activities is lower than the default scenario, whereby one Tor Entry Guard is relied upon for all applications.
[/quote]
Can someone elaborate on this?
Suppose I pick a guard node to use for sensitive connections. If it is evil I lose. Then there is no harm in routing non-sensitive connections through it as well. I use tor for most web activity and I think it&#39;s better to have constant traffic to one guard than constant traffic to one guard and sporadic traffic to another.</description>
    <language>en</language>
    <lastBuildDate>Tue, 10 Sep 2019 05:17:19 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/synchronizing-guard-nodes/8029.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Synchronizing guard nodes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>A post was split to a new topic: <a href="http://forums.whonix.org/t/tor-ctrl-tor-control-port-command-line-tool/8074">tor-ctrl - Tor control port command line tool</a></p>
          <p><a href="http://forums.whonix.org/t/synchronizing-guard-nodes/8029/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/synchronizing-guard-nodes/8029/8</link>
        <pubDate>Tue, 10 Sep 2019 06:15:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8029-8</guid>
        <source url="http://forums.whonix.org/t/synchronizing-guard-nodes/8029.rss">Synchronizing guard nodes</source>
      </item>
      <item>
        <title>Synchronizing guard nodes</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="3" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>I only use the one Gateway. My intention was to have the bare metal linux boxes, including the host, just copy what the Gateway does. But I don’t know exactly how to do that.</p>
</blockquote>
</aside>
<p>A complex concept can be  -<br>
incron on the GW monitoring the changes to Tor var folder. Triggers a copy action to the shared folder when changes detetced.<br>
Incron on the host overwriting the Tor config folder when modifcation detected.</p>
<aside class="quote no-group" data-post="3" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>I’m still not sure what the argument is for separate guard nodes. Is it that different applications can be fingerprinted, identified, and correlated?</p>
</blockquote>
</aside>
<p>Less danger of unmasking all of your activities even if you happen to pick a malicious guard.</p>
          <p><a href="http://forums.whonix.org/t/synchronizing-guard-nodes/8029/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/synchronizing-guard-nodes/8029/7</link>
        <pubDate>Sat, 07 Sep 2019 17:49:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8029-7</guid>
        <source url="http://forums.whonix.org/t/synchronizing-guard-nodes/8029.rss">Synchronizing guard nodes</source>
      </item>
      <item>
        <title>Synchronizing guard nodes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="5" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>When it’s time for a guard change in this case it should show a warning at least.</p>
</blockquote>
</aside>
<p><a href="https://www.whonix.org/wiki/Reporting_Bugs#Patches_are_Welcome" rel="nofollow noopener">https://www.whonix.org/wiki/Reporting_Bugs#Patches_are_Welcome</a></p>
<aside class="quote no-group" data-post="5" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>Would it make sense to delay the change for a short time and refuse to bring up eth1 on boot if it’s overdue?</p>
</blockquote>
</aside>
<p>Disable Tor networking <code>DisableNetwork 1</code> instead re-using existing source code.</p>
<p><a href="https://www.whonix.org/wiki/Dev/git#grep_Whonix_source_code" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/git#grep_Whonix_source_code</a></p>
          <p><a href="http://forums.whonix.org/t/synchronizing-guard-nodes/8029/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/synchronizing-guard-nodes/8029/6</link>
        <pubDate>Sat, 07 Sep 2019 05:30:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8029-6</guid>
        <source url="http://forums.whonix.org/t/synchronizing-guard-nodes/8029.rss">Synchronizing guard nodes</source>
      </item>
      <item>
        <title>Synchronizing guard nodes</title>
        <dc:creator><![CDATA[iamwho]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for your reply. I hadn’t considered the regular rotation in immutable mode.<br>
I go into persistent mode for each apt upgrade which isn’t infrequent, so exposure is limited to a few extra guard nodes per cycle, but that’s still a few times as many nodes!<br>
I had to write a script to make this less tedious on VirtualBox but I see now there’s a live mode which I never noticed before.<br>
It sounds like it accomplishes the same thing (except the drive must be read-only and changes are stored in guest RAM vs disposable snapshots in host tmpfs).<br>
But it has the advantage that the guest can tell it’s in read-only mode. When it’s time for a guard change in this case it should show a warning at least. Would it make sense to delay the change for a short time and refuse to bring up eth1 on boot if it’s overdue?<br>
One could mount /var/lib/tor separately but this would likely defeat the point of immutability if compromised.<br>
In the meantime I guess I will leave the Gateway in persistent mode.</p>
          <p><a href="http://forums.whonix.org/t/synchronizing-guard-nodes/8029/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/synchronizing-guard-nodes/8029/5</link>
        <pubDate>Sat, 07 Sep 2019 04:01:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8029-5</guid>
        <source url="http://forums.whonix.org/t/synchronizing-guard-nodes/8029.rss">Synchronizing guard nodes</source>
      </item>
      <item>
        <title>Synchronizing guard nodes</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>I run tor on several computers, one whonix the others not, all using the same public IP. What’s the best way to get them all to use the same guard node?</p>
</blockquote>
</aside>
<p>As per <a href="https://www.whonix.org/wiki/Free_Support_Principle" rel="nofollow noopener">https://www.whonix.org/wiki/Free_Support_Principle</a> this question could be rewritten by removing the Whonix specific part from it.</p>
<blockquote>
<p>I run tor on several computers, all using the same public IP. What’s the best way to get them all to use the same guard node?</p>
</blockquote>
<p>[0] Then this question could be redirected at upstream, The Tor Project, the developers of Tor.</p>
<aside class="quote no-group" data-post="1" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>I don’t know the significance of everything in /var/lib/tor, are there particular files that should be kept on the same machine, and files that can be copied to clients connected simultaneously?</p>
</blockquote>
</aside>
<p>Same as above.</p>
<aside class="quote no-group" data-post="1" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>Possibly related: I run Gateway and Workstation from immutable drives with shared folders for user data, and only reboot briefly into normal mode and no shared folders to apply updates. Will this cause any problems?</p>
</blockquote>
</aside>
<p>Yes, under the assumption of always strictly syncing the guard relays, these will likely desync because you don’t know when Tor does Tor guard relay rotation.</p>
<p>[1] As long as Tor does not do guard relay rotation, everything is fine. But once you boot non-persistently and Tor think it’s time to switch Tor guard relays, it will pick a Tor guard relay randomly. And other one randomly after next boot. And another one. Until you boot into persistent mode so Tor can store which guard relay it switched to.</p>
<aside class="quote no-group" data-post="1" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>Can someone elaborate on this?</p>
</blockquote>
</aside>
<p>Also best to ask upstream. [0]</p>
<blockquote>
<p>1 guard/client per internet-connected program (not identity!)</p>
</blockquote>
<p>I never really understood that either. What’s so great about per-program (mostly browser nowadays, no?) or type of traffic vs identity.<br>
Or perhaps I did understand that earlier and forgot by now. Dunno anymore where this was discussed previously. Might be found through search.</p>
<aside class="quote no-group" data-post="2" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>If you occasionally boot into persistent mdoe to allow guard rotation after a few months then it should be OK.</p>
</blockquote>
</aside>
<p>Same issue as explained under [1].</p>
<hr>
<p>[2] Perhaps manually choosing Tor entry guards could accomplish that. But I wouldn’t advice doing so without consulting upstream [0] beforehand either.</p>
<hr>
<p>You’d still have a rare Network Fingerprint from perspective of the ISP.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Fingerprint" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    

<h3><a href="https://www.whonix.org/wiki/Fingerprint" target="_blank" rel="nofollow noopener">Fingerprint</a></h3>

<p>About Whonix ™ Network, Bridge/Guard and ISP Fingerprint.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Even if using the same Tor entry guard, it may be possible to notice that you are running multiple Tor clients at the same time due to re-download of the Tor consensus more often than users who are only running a single Tor client.<br>
Not sure that matters for you.</p>
<hr>
<p>Another alternative with caveats:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Bridges" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    

<h3><a href="https://www.whonix.org/wiki/Bridges" target="_blank" rel="nofollow noopener">Bridges</a></h3>

<p>Censorship Circumvention. Get around network bans. Using Whonix ™ with (private) (obfuscated) bridges. Useful in case your Internet Service Provider...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>caveats:</p>
<p>source <a href="https://lists.torproject.org/pipermail/tor-talk/2012-May/024378.html" rel="nofollow noopener">https://lists.torproject.org/pipermail/tor-talk/2012-May/024378.html</a></p>
<blockquote>
<p>… They’re probably more vulnerable, but I don’t know if I’d say<br>
“sufficiently”. …</p>
</blockquote>
<hr>
<p>If upstream [0] thinks his makes sense at all, then it could be argued that Tor has a missing feature. A feature that allows to start a read/write Tor client, which is allowed to write to /var/lib/tor folder, as well as other Tor clients which are started in read-only mode, which only consume data in /var/lib/tor folder but do not try to write to it.</p>
<p>Once such a feature was implemented the /var/lib/tor folder could be shared over network mounts. But that sounds really complex. I wouldn’t have too much hope for that to materialize ever. A more realistic approach would be [2].</p>
          <p><a href="http://forums.whonix.org/t/synchronizing-guard-nodes/8029/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/synchronizing-guard-nodes/8029/4</link>
        <pubDate>Fri, 06 Sep 2019 07:27:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8029-4</guid>
        <source url="http://forums.whonix.org/t/synchronizing-guard-nodes/8029.rss">Synchronizing guard nodes</source>
      </item>
      <item>
        <title>Synchronizing guard nodes</title>
        <dc:creator><![CDATA[iamwho]]></dc:creator>
        <description><![CDATA[
            <p>I only use the one Gateway. My intention was to have the bare metal linux boxes, including the host, just copy what the Gateway does. But I don’t know exactly how to do that.</p>
<p>Guard rotation was the main reason I stopped using TAILS. That and an almost fanatical hatred of a certain desktop environment.</p>
<p>I’m still not sure what the argument is for separate guard nodes. Is it that different applications can be fingerprinted, identified, and correlated?</p>
          <p><a href="http://forums.whonix.org/t/synchronizing-guard-nodes/8029/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/synchronizing-guard-nodes/8029/3</link>
        <pubDate>Fri, 06 Sep 2019 06:58:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8029-3</guid>
        <source url="http://forums.whonix.org/t/synchronizing-guard-nodes/8029.rss">Synchronizing guard nodes</source>
      </item>
      <item>
        <title>Synchronizing guard nodes</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>I run tor on several computers, one whonix the others not, all using the same public IP. What’s the best way to get them all to use the same guard node?</p>
</blockquote>
</aside>
<p>We’d like to hear good ideas about that from you. It’s a hard problem when you’ve got strong isolation between VMs on purpose.</p>
<aside class="quote no-group" data-post="1" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>Possibly related: I run Gateway and Workstation from immutable drives with shared folders for user data, and only reboot briefly into normal mode and no shared folders to apply updates. Will this cause any problems?</p>
</blockquote>
</aside>
<p>If you occasionally boot into persistent mdoe to allow guard rotation after a few months then it should be OK. Using live mode from the  very first run is not recommended because Tor will be picking a new guard every time you boot the VM.</p>
<aside class="quote no-group" data-post="1" data-topic="8029">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/i/0ea827/40.png" class="avatar"> iamwho:</div>
<blockquote>
<p>Suppose I pick a guard node to use for sensitive connections.</p>
</blockquote>
</aside>
<p>Its not abut sensitive vs non-sensitive but Tor Browser traffic should have its own guard, Thunderbird another guard and so on. All browser traffic of all types should be done thru the first guard.</p>
          <p><a href="http://forums.whonix.org/t/synchronizing-guard-nodes/8029/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/synchronizing-guard-nodes/8029/2</link>
        <pubDate>Fri, 06 Sep 2019 05:09:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8029-2</guid>
        <source url="http://forums.whonix.org/t/synchronizing-guard-nodes/8029.rss">Synchronizing guard nodes</source>
      </item>
      <item>
        <title>Synchronizing guard nodes</title>
        <dc:creator><![CDATA[iamwho]]></dc:creator>
        <description><![CDATA[
            <p>I run tor on several computers, one whonix the others not, all using the same public IP. What’s the best way to get them all to use the same guard node?</p>
<p>I know I can run one tor client and tunnel all SOCKS to it but that machine must have most trusted status. This doesn’t work for me because I only have one computer on 24/7 but it runs a public-facing server, so it is least trusted. Conversely I run whonix on my most trusted machine but rarely.</p>
<p>I don’t know the significance of everything in /var/lib/tor, are there particular files that should be kept on the same machine, and files that can be copied to clients connected simultaneously?</p>
<p>Possibly related: I run Gateway and Workstation from immutable drives with shared folders for user data, and only reboot briefly into normal mode and no shared folders to apply updates. Will this cause any problems?</p>
<p>In the article on Tor Entry Guards<br>
<a href="http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Tor_Entry_Guards" class="onebox" target="_blank" rel="nofollow noopener">http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Tor_Entry_Guards</a></p>
<aside class="quote no-group">
<blockquote>
<p>Whonix ™ developer HulaHoop recently approached Tor researcher, Tariq Elahi, to discuss how exposure to malicious guards in multi-Workstation scenarios could be measured. It was discovered that 1 guard/client per internet-connected program (not identity!) is the safest possible configuration. In fact, the probability of a network adversary observing a user’s activities is lower than the default scenario, whereby one Tor Entry Guard is relied upon for all applications.</p>
</blockquote>
</aside>
<p>Can someone elaborate on this?<br>
Suppose I pick a guard node to use for sensitive connections. If it is evil I lose. Then there is no harm in routing non-sensitive connections through it as well. I use tor for most web activity and I think it’s better to have constant traffic to one guard than constant traffic to one guard and sporadic traffic to another.</p>
          <p><a href="http://forums.whonix.org/t/synchronizing-guard-nodes/8029/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/synchronizing-guard-nodes/8029/1</link>
        <pubDate>Fri, 06 Sep 2019 05:02:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8029-1</guid>
        <source url="http://forums.whonix.org/t/synchronizing-guard-nodes/8029.rss">Synchronizing guard nodes</source>
      </item>
  </channel>
</rss>
