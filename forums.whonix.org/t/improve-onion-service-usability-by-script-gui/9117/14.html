<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Improve Onion Service Usability by Script / GUI - #14 by Patrick - Development - Whonix Forum</title>
    <meta name="description" content="Yes, sure would be nice. Bonus points for transparently pointing out what systemd changes onionjuggler is applying (where, what kind of changes).  I don’t think there is any convention in Debian or elsewhere how applications that create configs for users should operate as per configuration file location such as in /etc or /var and naming.   45_onionjuggler.conf looks good.  Not sure about the numbering:  config files numbering convention">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../9117.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../../c/news/21.html">NEWS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Improve Onion Service Usability by Script / GUI&#39;" href="../9117.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/improve-onion-service-usability-by-script-gui/9117/14" />
<meta name="twitter:url" content="https://forums.whonix.org/t/improve-onion-service-usability-by-script-gui/9117/14" />
<meta property="og:title" content="Improve Onion Service Usability by Script / GUI" />
<meta name="twitter:title" content="Improve Onion Service Usability by Script / GUI" />
<meta property="og:description" content="Yes, sure would be nice. Bonus points for transparently pointing out what systemd changes onionjuggler is applying (where, what kind of changes).  I don’t think there is any convention in Debian or elsewhere how applications that create configs for users should operate as per configuration file location such as in /etc or /var and naming.   45_onionjuggler.conf looks good.  Not sure about the numbering:  config files numbering convention" />
<meta name="twitter:description" content="Yes, sure would be nice. Bonus points for transparently pointing out what systemd changes onionjuggler is applying (where, what kind of changes).  I don’t think there is any convention in Debian or elsewhere how applications that create configs for users should operate as per configuration file location such as in /etc or /var and naming.   45_onionjuggler.conf looks good.  Not sure about the numbering:  config files numbering convention" />
<meta property="article:published_time" content="2022-08-09T16:37:04+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="../91174658.html?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../9117.html">Improve Onion Service Usability by Script / GUI</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../../external.html?link=http://schema.org/ListItem">
            <a href="../../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-17T13:12:16Z' class='post-time'>
                February 17, 2022,  1:12pm
              </time>
              <meta itemprop='dateModified' content='2022-02-17T13:12:16Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p>B) config files</p>
</blockquote>
<p>Seems more appropriate in case of Whonix sacrificing a bit usability for better onion service private key protection.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-17T17:43:24Z' class='post-time'>
                February 17, 2022,  5:43pm
              </time>
              <meta itemprop='dateModified' content='2022-02-17T19:32:32Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@patrick</a> sorry to ping but can the gateway now the workstation qube ip?</p><aside class="onebox githubissue" data-onebox-src="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/issues/54#issuecomment-1043225820">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/issues/54#issuecomment-1043225820" target="_blank" rel="noopener nofollow ugc">github.com/nyxnor/onionjuggler</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/issues/54#issuecomment-1043225820" target="_blank" rel="noopener nofollow ugc">[FEATURE REQUEST] whonix support</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-02-14" data-time="10:14:59" data-timezone="UTC">10:14AM - 14 Feb 22 UTC</span>
      </div>


      <div class="user">
        <a href="../../../../external.html?link=https://github.com/nyxnor" target="_blank" rel="noopener nofollow ugc">
          <img alt="nyxnor" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>
    </div>

    <div class="labels">
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          enhancement
        </span>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">**Is your feature request related to a problem? Please describe.**

It is miss<span class="show-more-container"><a href="#" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">ing setting the correct configuration file on https://github.com/nyxnor/onionjuggler/blob/4006a3d249868d7bda8befdc1e18e13d799cca58/configure.sh#L239
it just needs to test if its the GW and if it is the WS, than block it and warn to run on GW.

same flow as was done here basically
https://github.com/nyxnor/onionjuggler/blob/4006a3d249868d7bda8befdc1e18e13d799cca58/usr/bin/onionjuggler-cli#L657-L666

**Describe the solution you'd like**



**Describe alternatives you've considered**



**Additional context**

- https://github.com/nyxnor/onionjuggler/commit/b645b85e9e10c404ab1d66d70df17bdad22db337 - define target for whonix-gw running on qubes, non-qubes, for itself 

- http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/improve-onion-service-usability-by-script-gui/9117/8</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<p>
I copied the code from <a href="../../../../external.html?link=https://github.com/Whonix/anon-gw-anonymizer-config/blob/c0d9e66dd3d5d84bdce9caeab6d4c1c5624dbfe0/usr/bin/anon-auth-autogen#L84" rel="noopener nofollow ugc">https://github.com/Whonix/anon-gw-anonymizer-config/blob/c0d9e66dd3d5d84bdce9caeab6d4c1c5624dbfe0/usr/bin/anon-auth-autogen#L84</a> which I thought was supposed to be ran on the GW according to <a href="../../../../external.html?link=http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onion_Services#Step_3:_Configure_Onion_Services_Authentication" rel="noopener nofollow ugc">http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onion_Services#Step_3:_Configure_Onion_Services_Authentication</a>, but the qube ip read would be from the GW, not from the WS.</p>
<p>Edit: I guess not because of multiple GWs and WSs having to be configured per vm <a href="../../../../external.html?link=https://github.com/QubesOS/qubes-issues/issues/4117" rel="noopener nofollow ugc">https://github.com/QubesOS/qubes-issues/issues/4117</a>  and <a href="../../../../external.html?link=https://www.whonix.org/wiki/Multiple_Whonix-Workstation#qubes" class="inline-onebox" rel="noopener nofollow ugc">Multiple Whonix-Workstation ™</a></p>
<p>do it is not possible to get the WS qube IP from the qubesdb-read command, I couldn’t find a way. What remains is using a variable on whonix.conf to set the WS IP, but this also has to be done manually or the user would need to specify the target every time.</p>
<p>Specifying a different domain is only available on dom0</p>
<pre><code class="lang-auto">qubesdb-read -d anon-whonix /qubes-ip
</code></pre>
<p>but this does not guarantee that the user is using the anon-whonix as the WS.</p>
<p>Well, seems target for qube-whonix is manual job as in <a href="../../../../external.html?link=http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onion_Services#Step_2:_Edit_Tor_Configuration:" rel="noopener nofollow ugc">http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onion_Services#Step_2:_Edit_Tor_Configuration:</a><br>
on WS run:</p>
<pre><code class="lang-auto">qubesdb-read /qubes-ip
</code></pre>
<p>on GW run:</p>
<pre><code class="lang-auto">onionjuggler-cli --activate -s web -p 80,{ws_qube_ip}:80
</code></pre>
<p>on WS run (target_port=80):</p>
<pre><code class="lang-auto">onionjuggler-cli --web -s web -p 80 -n --no-check-service -w /var/www/folder
</code></pre>
<p>Now possible to set the WS qube IP address on <code>/etc/onionjuggler/conf.d/*.conf</code>:</p>
<pre><code class="lang-auto">tor_hiddenserviceport_target_addr=WS-QUBE-IP-ADDR
</code></pre>
<p>But the command line target if specified will overwrite this option.<br>
so after setting the above configuration option, it is possible to create services for the WS on the GW with:</p>
<pre><code class="lang-auto">onionjuggler-cli --activate -s web -p 80
</code></pre>
<p>and if running qubes whonix and the option <code>tor_hiddenserviceport_target_addr</code> is still <code>127.0.0.1</code> and the service is not for the gateway, it will fail with an informative error message to set the WS qube ip address on the configuration or obviously possible to specify on the command line.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-18T13:50:39Z' class='post-time'>
                February 18, 2022,  1:50pm
              </time>
              <meta itemprop='dateModified' content='2022-02-18T13:50:39Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group quote-modified" data-username="nyxnor" data-post="10" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p><a class="mention" href="../../../../external.html?link=https://forums.whonix.org/u/patrick">@patrick</a> sorry to ping but can the gateway now the workstation qube ip?</p>
<p><a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/issues/54#issuecomment-1043225820">https://github.com/nyxnor/onionjuggler/issues/54#issuecomment-1043225820</a></p>
</blockquote>
</aside>
<p>I don’t know if there’s a reliable/sane way for that.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="10" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>I copied the code from <a href="../../../../external.html?link=https://github.com/Whonix/anon-gw-anonymizer-config/blob/c0d9e66dd3d5d84bdce9caeab6d4c1c5624dbfe0/usr/bin/anon-auth-autogen#L84">https://github.com/Whonix/anon-gw-anonymizer-config/blob/c0d9e66dd3d5d84bdce9caeab6d4c1c5624dbfe0/usr/bin/anon-auth-autogen#L84</a></p>
</blockquote>
</aside>
<p>Only that part of most of <code>anon-auth-autogen</code>? Btw most of <code>anon-auth-autogen</code> would be good if upstreamed, different name, and not part of <code>anon-gw-anonymizer-config</code>.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="10" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>Edit: I guess not because of multiple GWs and WSs having to be configured per vm <a href="../../../../external.html?link=https://github.com/QubesOS/qubes-issues/issues/4117">https://github.com/QubesOS/qubes-issues/issues/4117</a> and <a href="../../../../external.html?link=https://www.whonix.org/wiki/Multiple_Whonix-Workstation#qubes">Multiple Whonix-Workstation ™</a></p>
</blockquote>
</aside>
<p>Indeed.</p>
<p>Also I guess if we had <a href="../../../../external.html?link=https://phabricator.whonix.org/T947" class="inline-onebox">⚓ T947 Qubes-Whonix eth1 static networking</a> that might help.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="10" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>do it is not possible to get the WS qube IP from the qubesdb-read command, I couldn’t find a way.</p>
</blockquote>
</aside>
<p>I doubt that exists.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-02-18T15:40:20Z' class='post-time'>
                February 18, 2022,  3:40pm
              </time>
              <meta itemprop='dateModified' content='2022-02-18T15:40:20Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="11" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Only that part of most of <code>anon-auth-autogen</code>? Btw most of <code>anon-auth-autogen</code> would be good if upstreamed, different name, and not part of <code>anon-gw-anonymizer-config</code>.</p>
</blockquote>
</aside>
<p>Yes, I only copied that part (but removed, as it was not working as explained above because it reads the GW ip, not the WS), the rest, <code>onionjuggler-cli --auth-server</code> and <code>--auth-client</code> already had, except installing from a file.</p>
<p>So onionjuggler-cli will eventually substitute that script if implemented. So upstreaming onionjuggler-cli later would be better.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-08T14:09:34Z' class='post-time'>
                August 8, 2022,  2:09pm
              </time>
              <meta itemprop='dateModified' content='2022-08-08T14:59:58Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The setup currently is very easy. Should opening firewall ports be automated to  <code>/usr/local/etc/whonix_firewall.d/45_onionjuggler.conf</code>?</p>
<h3>
<a name="ws-1" class="anchor" href="#ws-1"></a>WS</h3>
<p>Configure web service:</p>
<pre><code class="lang-auto">sudo onionjuggler-cli-web --on -s &lt;MY_SITE&gt; --folder &lt;SITE_FOLDER&gt; -p 80
</code></pre>
<p>Allow port from the firewall:</p>
<pre><code class="lang-auto">sudo mkdir -p /usr/local/etc/whonix_firewall.d
echo "EXTERNAL_OPEN_PORTS+=\" 80 \"" | sudo tee -a /usr/local/etc/whonix_firewall.d/50_user.conf
sudo whonix_firewall
</code></pre>
<h3>
<a name="gw-2" class="anchor" href="#gw-2"></a>GW</h3>
<p>Configure service:</p>
<pre><code class="lang-auto">sudo onionjuggler-cli --activate -s &lt;MY_SITE&gt; -p "80 &lt;WS_QUBE_IP&gt;"
</code></pre>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-09T16:37:04Z' class='post-time'>
                August 9, 2022,  4:37pm
              </time>
              <meta itemprop='dateModified' content='2022-08-09T16:37:04Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes, sure would be nice. Bonus points for transparently pointing out what systemd changes onionjuggler is applying (where, what kind of changes).</p>
<p>I don’t think there is any convention in Debian or elsewhere how applications that create configs for users should operate as per configuration file location such as in /etc or /var and naming.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="13" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>/usr/local/etc/whonix_firewall.d/45_onionjuggler.conf</p>
</blockquote>
</aside>
<p><code>45_onionjuggler.conf</code> looks good.</p>
<p>Not sure about the numbering:<br>
<a href="../../config-files-numbering-convention/14422.html" class="inline-onebox">config files numbering convention</a></p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-09T16:44:10Z' class='post-time'>
                August 9, 2022,  4:44pm
              </time>
              <meta itemprop='dateModified' content='2022-08-09T16:44:10Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="14" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes, sure would be nice. Bonus points for transparently pointing out what systemd changes onionjuggler is applying (where, what kind of changes).</p>
</blockquote>
</aside>
<p>For users or developers?</p>
<ul>
<li>If for users, then I’d print an info about the whonix firewall port that was opened.</li>
<li>if for developers, then it would only be on the docs.</li>
</ul>
<aside class="quote no-group" data-username="Patrick" data-post="14" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Not sure about the numbering:</p>
</blockquote>
</aside>
<p>Not sure about the numbering:</p>
<p>Should it use 40 like: <code>/usr/local/etc/torrc.d/40_tor_control_panel.conf</code> does?</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-09T17:43:04Z' class='post-time'>
                August 9, 2022,  5:43pm
              </time>
              <meta itemprop='dateModified' content='2022-08-09T17:43:04Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I want to print the ws ip and the port allowed, how  can I find the WS ip inside the WS for Non-Qubes-Whonix?</p>
<p>for qubes-whonix is qubesdb-read /qubes-ip, but for non-whonix I don’t know how to find its ip.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-09T19:06:41Z' class='post-time'>
                August 9, 2022,  7:06pm
              </time>
              <meta itemprop='dateModified' content='2022-08-09T19:06:41Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="nyxnor" data-post="15" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>For users or developers?</p>
<ul>
<li>If for users, then I’d print an info about the whonix firewall port that was opened.</li>
</ul>
</blockquote>
</aside>
<p>For users. Point out the path to the config file too? I think it would be a good idea.</p>
<p>The rationale behind this has been documented just now:</p><aside class="onebox allowlistedgeneric" data-onebox-src="../../../../external.html?link=https://www.kicksecure.com/wiki/Dev/Self_Documenting">
  <header class="source">
      <img src="../../../../external.html?link=https://www.kicksecure.com/w/images/4/45/Kicksecure-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="../../../../external.html?link=https://www.kicksecure.com/wiki/Dev/Self_Documenting" target="_blank" rel="noopener" title="06:58PM - 09 August 2022">Kicksecure – 9 Aug 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/388;"><img src="../../../../external.html?link=https://www.kicksecure.com/w/images/f/fc/Kicksecure-twitter-post.jpg?version=30a0ad75271a4836786771c345c960b8" class="thumbnail" width="690" height="388"></div>

<h3><a href="../../../../external.html?link=https://www.kicksecure.com/wiki/Dev/Self_Documenting" target="_blank" rel="noopener">The Self Documenting Concept</a></h3>

  <p>Ideally complex tools should be self-documenting. In an ideal world, no documentation reading should be required from the user. No wrong impressions should be created.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-username="nyxnor" data-post="15" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>Should it use 40 like: <code>/usr/local/etc/torrc.d/40_tor_control_panel.conf</code> does?</p>
</blockquote>
</aside>
<p>Good comparison. Sounds good.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="16" data-topic="9117" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>I want to print the ws ip and the port allowed, how can I find the WS ip inside the WS for Non-Qubes-Whonix?</p>
</blockquote>
</aside>
<p>Probably required parsing <code>ifconfig</code> but requires root afaik but I guess that is available in this situation anyhow. There’s hopefully a number of helpful posts on:</p>
<blockquote>
<p>bash how to find out local IP</p>
</blockquote>
<p>on stackexchange etc. I found some answers but I never liked the parsing of <code>ifconfig</code>. Was hoping there’s a nicer API or tool for this.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-09T19:48:18Z' class='post-time'>
                August 9, 2022,  7:48pm
              </time>
              <meta itemprop='dateModified' content='2022-08-09T19:48:18Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="17" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>For users. Point out the path to the config file too? I think it would be a good idea.</p>
</blockquote>
</aside>
<p>Ok.<br>
But I’d rather users not change the config file manually because it may break the script.<br>
Anyway, I can document this.<br>
Also, there is a simple way to see configuration files manages by onionjuggler:</p>
<pre><code class="lang-auto">$ onionjuggler-cli --getconf

openssl_cmd="openssl"
webserver="nginx"
webserver_conf="/etc/nginx/sites-enabled"
website_dir="/var/www"
vanguards_commit="10942de93f6578f8303f60014f34de2fca345545"
tor_daemon="tor@default"
tor_user="debian-tor"
tor_conf_dir="/usr/local/etc/torrc.d"
tor_conf_user_group="root:root"
tor_conf="/usr/local/etc/torrc.d/40_onionjuggler.conf"
tor_data_dir="/var/lib/tor"
tor_data_dir_services="/var/lib/tor/services"
tor_data_dir_auth="/var/lib/tor/authdir"
tor_control_port="9051"
tor_backup_dir="/var/lib/onionjuggler/backup"
</code></pre>
<p>missing the variable for the whonix_firewall conf, but it might be added later because for now it is default to use /usr/local/etc/wonix_firewall.d/40_onionjuggler.conf</p>
<aside class="quote no-group" data-username="Patrick" data-post="17" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>on stackexchange etc. I found some answers but I never liked the parsing of <code>ifconfig</code>. Was hoping there’s a nicer API or tool for this.</p>
</blockquote>
</aside>
<p>I just asked because I thought there was a whonix way.</p>
<pre><code class="lang-auto">ip a | grep "inet .* eth0$" | sed "s/.*inet //;s/\/32.*//"
</code></pre>
<pre><code class="lang-auto">ip r get 1.1.1.1 | grep 1.1.1.1 | sed "s/.*src //;s/ uid .*//"
</code></pre>
<pre><code class="lang-auto">sudo ifconfig | sed -n "/eth0/,/inet/p" | grep inet| sed "s/.*inet //;s/  netmask .*//"
</code></pre>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-10T08:49:24Z' class='post-time'>
                August 10, 2022,  8:49am
              </time>
              <meta itemprop='dateModified' content='2022-08-10T08:49:24Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="nyxnor" data-post="18" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>But I’d rather users not change the config file manually because it may break the script.</p>
</blockquote>
</aside>
<p>Yes. Most users shouldn’t do it. Not supposed to be manually changed. Just useful in case there’s ever a bug then advanced users already get the idea to look into that file and report it.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-12T23:40:05Z' class='post-time'>
                August 12, 2022, 11:40pm
              </time>
              <meta itemprop='dateModified' content='2022-08-12T23:40:05Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="19" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes. Most users shouldn’t do it. Not supposed to be manually changed. Just useful in case there’s ever a bug then advanced users already get the idea to look into that file and report it.</p>
</blockquote>
</aside>
<p>This was done where I could catch on recent commits.</p>
<p>Auth scripts now have some activation options</p><aside class="onebox githubissue" data-onebox-src="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/issues/48">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/issues/48" target="_blank" rel="noopener nofollow ugc">github.com/nyxnor/onionjuggler</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/issues/48" target="_blank" rel="noopener nofollow ugc">[FEATURE REQUEST] add authorizations files that already exist</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-02-11" data-time="15:10:45" data-timezone="UTC">03:10PM - 11 Feb 22 UTC</span>
      </div>


      <div class="user">
        <a href="../../../../external.html?link=https://github.com/nyxnor" target="_blank" rel="noopener nofollow ugc">
          <img alt="nyxnor" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>
    </div>

    <div class="labels">
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          enhancement
        </span>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">**Is your feature request related to a problem? Please describe.**


There is<span class="show-more-container"><a href="#" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden"> the option to gen key pair, use priv key for client or use pub key for server.
But there is no option to just place existing file directly to folder.

**Describe the solution you'd like**

I want to specify file as an option to be included

**Describe alternatives you've considered**

- https://github.com/Whonix/anon-gw-anonymizer-config/blob/master/usr/bin/anon-server-to-client-install
- https://www.whonix.org/wiki/Onion_Services#Onion_Service_Authentication_Client_Setup


**Additional context**

This can be done on `auth-server` and `auth-client`.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<ul>
<li>import file (servers/clients)</li>
<li>import config (servers/clients)</li>
<li>import onion+priv key (clients)</li>
<li>import pub key (servers)</li>
<li>generate keys (servers/clients)</li>
</ul>
<p>These options are almost the same, it is just to facilitate for the user, maybe he has the config as a file, or maybe the config is on the clipboard, or maybe the client just sends the server the his pub key or vice verse, or maybe a new key needs to be generated and automatically imported.</p>
<p>Another thing missing but it is a non-blocker for whonix, is removing invalid auth files if tor fails to parse it <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/issues/66" rel="noopener nofollow ugc">https://github.com/nyxnor/onionjuggler/issues/66</a></p>
<p>Missing separate debian packages, work is being done.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-15T21:51:12Z' class='post-time'>
                August 15, 2022,  9:51pm
              </time>
              <meta itemprop='dateModified' content='2022-08-15T22:19:54Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Does Whonix have any example of a Source with multiple Packages that have man pages that need to be installed per package?</p>
<p>Currently, it is installing all man pages for each package. Didn’t find anything searching the web. Just trying to understand how other packages does this.</p>
<p>Edit:<br>
NVM<br>
<a href="../../../../external.html?link=https://www.debian.org/doc/manuals/maint-guide/dother.en.html#manpages" class="onebox" target="_blank" rel="noopener nofollow ugc">https://www.debian.org/doc/manuals/maint-guide/dother.en.html#manpages</a></p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-16T09:29:01Z' class='post-time'>
                August 16, 2022,  9:29am
              </time>
              <meta itemprop='dateModified' content='2022-08-16T09:29:01Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Please add manpages here using the same format:</p>
<ul>
<li><a href="../../../../external.html?link=https://github.com/Kicksecure/helper-scripts/tree/master/man" class="inline-onebox">helper-scripts/man at master · Kicksecure/helper-scripts · GitHub</a></li>
</ul>
<p>These I will later use to create the “real” (roff) format using <code>genmkfile manpages</code>.</p>
<ul>
<li><a href="../../../../external.html?link=https://github.com/Kicksecure/helper-scripts/tree/master/auto-generated-man-pages" class="inline-onebox">helper-scripts/auto-generated-man-pages at master · Kicksecure/helper-scripts · GitHub</a></li>
</ul>
<p>The Debian packaging “magic” is here:</p>
<aside class="onebox githubblob" data-onebox-src="../../../../external.html?link=https://github.com/Kicksecure/helper-scripts/blob/master/debian/rules#L17">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/Kicksecure/helper-scripts/blob/master/debian/rules#L17" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/Kicksecure/helper-scripts/blob/master/debian/rules#L17" target="_blank" rel="noopener">Kicksecure/helper-scripts/blob/master/debian/rules#L17</a></h4>



    <pre class="onebox">      <code class="lang-">
        <ol class="start lines" start="7" style="counter-reset: li-counter 6 ;">
            <li>
            </li>
<li>%:</li>
            <li>	dh $@</li>
            <li>
            </li>
<li>override_dh_install:</li>
            <li>	dh_apparmor --profile-name=usr.sbin.anondate-get</li>
            <li>	dh_apparmor --profile-name=usr.sbin.anondate-set</li>
            <li>	dh_apparmor --profile-name=usr.bin.tor-circuit-established-check</li>
            <li>	dh_install</li>
            <li>
            </li>
<li class="selected">override_dh_installman:</li>
            <li>	dh_installman $(CURDIR)/auto-generated-man-pages/*</li>
            <li>
            </li>
<li>override_dh_installchangelogs:</li>
            <li>	dh_installchangelogs changelog.upstream upstream</li>
        </ol>
      </code>
    </pre>



  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-16T10:26:15Z' class='post-time'>
                August 16, 2022, 10:26am
              </time>
              <meta itemprop='dateModified' content='2022-08-16T10:26:15Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>OnionJuggler is 1 source and multiple packages.<br>
Using:</p>
<pre><code class="lang-auto">override_dh_installman:
	dh_installman $(CURDIR)/auto-generated-man-pages/*
</code></pre>
<p>doesn’t work because all manual pages will be installed to all packages.</p>
<p>Each package need a <code>debian/PACKAGE_NAME.manpages</code> to install the correct man pages per package.</p><aside class="onebox githubblob" data-onebox-src="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/main/debian/onionjuggler-cli-auth.manpages">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/main/debian/onionjuggler-cli-auth.manpages" target="_blank" rel="noopener nofollow ugc">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/main/debian/onionjuggler-cli-auth.manpages" target="_blank" rel="noopener nofollow ugc">nyxnor/onionjuggler/blob/main/debian/onionjuggler-cli-auth.manpages</a></h4>


      <pre><code class="lang-manpages">auto-generated-man-pages/onionjuggler-cli-auth-server.8
auto-generated-man-pages/onionjuggler-cli-auth-client.8
</code></pre>




  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Anyway, there is already <code>man/</code> and <code>auto-generated-man-pages/</code> directories, but it is made by <code>./configure.sh -m</code> (create man pages).</p>
<p>Does it affect your build? Do you generate man pages for every build or just build the packages?</p>
<p>Because if just building and the man pages are already updated, then no extra effort.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-16T10:38:25Z' class='post-time'>
                August 16, 2022, 10:38am
              </time>
              <meta itemprop='dateModified' content='2022-08-16T10:38:25Z'>
          <span itemprop='position'>#24</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Im remembering now I already tried to port my manpage generation from pandoc to ronn, but it didn’t work. Tried again, don’t know how to fix.</p>
<p>The manpages are pretty dense on information, so I need to keep them organized and easy to read, and with pandoc is working. If you can port the manuals to ronn without drawbacks then that is ok.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-16T10:40:07Z' class='post-time'>
                August 16, 2022, 10:40am
              </time>
              <meta itemprop='dateModified' content='2022-08-16T10:40:07Z'>
          <span itemprop='position'>#25</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Ah. Yeah. For multiple packages…</p>
<p><a href="../../../../external.html?link=https://manpages.debian.org/dh_installman" class="onebox" target="_blank" rel="noopener">https://manpages.debian.org/dh_installman</a></p>
<blockquote>
<p>FILES</p>
<p>debian/<em>package</em>.manpages</p>
<p>Lists man pages to be installed.</p>
</blockquote>
<ul>
<li>debian/package1.manpages</li>
<li>debian/package2.manpages</li>
</ul>
<p>File content would be only the path to the autogenerated man pages.</p>
<p>Example:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../../external.html?link=https://salsa.debian.org/go-team/packages/hey/-/blob/master/debian/manpages">
  <header class="source">
      <img src="../../../../external.html?link=https://salsa.debian.org/uploads/-/system/appearance/favicon/1/gitlabian_32.png" class="site-icon" width="32" height="32">

      <a href="../../../../external.html?link=https://salsa.debian.org/go-team/packages/hey/-/blob/master/debian/manpages" target="_blank" rel="noopener">GitLab</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:369/108;"><img src="../../../../external.html?link=https://salsa.debian.org/uploads/-/system/project/avatar/38706/687474703a2f2f692e696d6775722e636f6d2f737a7a443971302e706e67.png" class="thumbnail" width="369" height="108"></div>

<h3><a href="../../../../external.html?link=https://salsa.debian.org/go-team/packages/hey/-/blob/master/debian/manpages" target="_blank" rel="noopener">debian/manpages · master · Debian Go Packaging Team / packages / hey · GitLab</a></h3>

  <p>Debian packaging for hey</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<hr>
<p>The ronn / format isn’t too important as long as the final package is alright.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-16T10:42:03Z' class='post-time'>
                August 16, 2022, 10:42am
              </time>
              <meta itemprop='dateModified' content='2022-08-16T10:42:03Z'>
          <span itemprop='position'>#26</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="nyxnor" data-post="23" data-topic="9117">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.jpg" class="avatar"> nyxnor:</div>
<blockquote>
<p>Do you generate man pages for every build or just build the packages?</p>
</blockquote>
</aside>
<p><code>genmkfile manpages</code> is manual when a man page source file was updated (ronn) and the roff needs to be updated. If I remember to do that. Doesn’t seem too useful to automate that during the build process. Would have to check contents are reproducible / deterministic.</p>
<p>Otherwise the build process only automatically takes the files from the autogenerated folder.</p>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-16T10:43:51Z' class='post-time'>
                August 16, 2022, 10:43am
              </time>
              <meta itemprop='dateModified' content='2022-08-16T14:29:42Z'>
          <span itemprop='position'>#27</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>So you don’t need to worry about manpages. I generate them with a script before pushing (most of the time hehe).</p>
<p>Just fixing lintian warnings and it is pretty much ready for review and trying to break the scripts.</p>
<p>GW should install <code>onionjuggler-cli onionjuggler-cli-auth</code><br>
WS should install <code>onionjuggler-cli-web</code></p>
<p>GW or WS can install <code>onionjuggler-tui</code>, it is quite handy, just not “beautiful” because it has to be versatile to check which onionjuggler-cli commands it has.</p>
<p><strong>GW</strong></p>
<pre><code class="lang-auto">sudo apt install onionjuggler-cli onionjuggler-cli-auth onionjuggler-tui
</code></pre>
<p><strong>WS</strong></p>
<pre><code class="lang-auto">sudo apt install onionjuggler-cli-web onionjuggler-tui
</code></pre>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../9117.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-16T21:01:20Z' class='post-time'>
                August 16, 2022,  9:01pm
              </time>
              <meta itemprop='dateModified' content='2022-08-16T21:01:20Z'>
          <span itemprop='position'>#28</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="onebox githubissue" data-onebox-src="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/issues/54#issuecomment-1048672629">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/issues/54#issuecomment-1048672629" target="_blank" rel="noopener nofollow ugc">github.com/nyxnor/onionjuggler</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/issues/54#issuecomment-1048672629" target="_blank" rel="noopener nofollow ugc">[FEATURE REQUEST] whonix support</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-02-14" data-time="10:14:59" data-timezone="UTC">10:14AM - 14 Feb 22 UTC</span>
      </div>


      <div class="user">
        <a href="../../../../external.html?link=https://github.com/nyxnor" target="_blank" rel="noopener nofollow ugc">
          <img alt="nyxnor" src="../../../../external.html?link=https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>
    </div>

    <div class="labels">
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          enhancement
        </span>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">**Is your feature request related to a problem? Please describe.**

It is miss<span class="show-more-container"><a href="#" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">ing setting the correct configuration file on https://github.com/nyxnor/onionjuggler/blob/4006a3d249868d7bda8befdc1e18e13d799cca58/configure.sh#L239
it just needs to test if its the GW and if it is the WS, than block it and warn to run on GW.

same flow as was done here basically
https://github.com/nyxnor/onionjuggler/blob/4006a3d249868d7bda8befdc1e18e13d799cca58/usr/bin/onionjuggler-cli#L657-L666

**Describe the solution you'd like**



**Describe alternatives you've considered**



**Additional context**

- https://github.com/nyxnor/onionjuggler/commit/b645b85e9e10c404ab1d66d70df17bdad22db337 - define target for whonix-gw running on qubes, non-qubes, for itself 

- http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/t/improve-onion-service-usability-by-script-gui/9117/8</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p><em>Note: anon-apps-config is installed on both workstation and gateway. But<br>
that is good enough. The config snippet itself could check where it’s<br>
running (the usual marker files) and only apply gateway config to<br>
gateway and workstation config to workstation.</em></p>
<aside class="onebox githubblob" data-onebox-src="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/main/etc/onionjuggler/anon-workstation.conf">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/main/etc/onionjuggler/anon-workstation.conf" target="_blank" rel="noopener nofollow ugc">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/main/etc/onionjuggler/anon-workstation.conf" target="_blank" rel="noopener nofollow ugc">nyxnor/onionjuggler/blob/main/etc/onionjuggler/anon-workstation.conf</a></h4>


      <pre><code class="lang-conf">## Configuration file for OnionJuggler
##
## DO NOT EDIT THIS FILE!!
##
## This file defines the default service selection as shipped in a
## release. Upgrades of OnionJuggler will modify this file.
##
## To select the service options you desire, please override these
## options in the file /etc/onionjuggler/conf.d/*.conf
##
## DO NOT EDIT THIS FILE!!
##
## Lines that begin with "## " try to explain what's going on. Lines
## that begin with just "#" are disabled commands: you can enable them
## by removing the "#" symbol.
##
## If the variable is empty (var=""), will use the default option.
## Double quote to prevent globbing and word splitting.
##  variable="value"
##
</code></pre>



  This file has been truncated. <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/main/etc/onionjuggler/anon-workstation.conf" target="_blank" rel="noopener nofollow ugc">show original</a>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<aside class="onebox githubblob" data-onebox-src="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/main/etc/onionjuggler/anon-gateway.conf">
  <header class="source">

      <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/main/etc/onionjuggler/anon-gateway.conf" target="_blank" rel="noopener nofollow ugc">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/main/etc/onionjuggler/anon-gateway.conf" target="_blank" rel="noopener nofollow ugc">nyxnor/onionjuggler/blob/main/etc/onionjuggler/anon-gateway.conf</a></h4>


      <pre><code class="lang-conf">## Configuration file for OnionJuggler
##
## DO NOT EDIT THIS FILE!!
##
## This file defines the default service selection as shipped in a
## release. Upgrades of OnionJuggler will modify this file.
##
## To select the service options you desire, please override these
## options in the file /etc/onionjuggler/conf.d/*.conf
##
## DO NOT EDIT THIS FILE!!
##
## Lines that begin with "## " try to explain what's going on. Lines
## that begin with just "#" are disabled commands: you can enable them
## by removing the "#" symbol.
##
## If the variable is empty (var=""), will use the default option.
## Double quote to prevent globbing and word splitting.
##  variable="value"
##
</code></pre>



  This file has been truncated. <a href="../../../../external.html?link=https://github.com/nyxnor/onionjuggler/blob/main/etc/onionjuggler/anon-gateway.conf" target="_blank" rel="noopener nofollow ugc">show original</a>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Also, as I don’t have a local repo to test, the steps to test are the following:</p>
<p>Build the package as usual, mk-build-deps, dpkg-buildpackage.</p>
<p>Then install first the onionjuggler-lib, then any wanted deb package.</p>
<pre><code class="lang-auto">## _apt user can access /tmp
cp ../onionjuggler*.deb /tmp
sudo apt install /tmp/onionjuggler-lib_*.deb
</code></pre>
<p>Then, copy the anon configuration files to /etc/onionjuggler/conf.d/</p>
<pre><code class="lang-auto">##From inside the git repo: 

## GW
sudo cp etc/onionjuggler/anon-gateway.conf /etc/onionjuggler/conf.d/

## WS
sudo cp etc/onionjuggler/anon-workstation.conf /etc/onionjuggler/conf.d/

</code></pre>
        </div>

        <meta itemprop='headline' content='Improve Onion Service Usability by Script / GUI'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="../91174658.html?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
