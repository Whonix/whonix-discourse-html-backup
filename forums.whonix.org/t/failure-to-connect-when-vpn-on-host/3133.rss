<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Failure to connect when VPN on host</title>
    <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133</link>
    <description>I have to use a VPN because Tor is blocked for me, and bridges are too slow to be practical. I&#39;ve installed the VPN on my host, and I can use the normal TorBrowser just fine, but when I boot up the whonix gateway, it fails to connect. I looked at the virtual network settings for the gateway and saw that I can change it from &quot;virtual network &#39;default&#39; : NAT&quot; to &quot;host device [VPN] : macvtap&quot;.

I think this might work, but I don&#39;t know what consequences it will have. Is it safe to try this? 

Thank you :)</description>
    <language>en</language>
    <lastBuildDate>Mon, 21 Nov 2016 15:01:07 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>At time of writing, the mullvad vpn client apparently is not Open Source.</p>
<aside class="quote" data-post="11" data-topic="3133">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/w/df788c/40.png" class="avatar"> whouserI:</div>
<blockquote>
<p>Maybe I could just connect the Whonix Gateway to a third VM, which would then be running the VPN client, acting as a sort of VPN gateway? I know this works in Qubes with the Mullvad client  (Tried Qubes once, but my computer isn’t powerful enough to run it properly). Is this possible in KVM?</p>
</blockquote>
</aside>
<p>Possible in theory but <a href="https://www.whonix.org/wiki/Unsupported">unsupported</a>.</p>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/12</link>
        <pubDate>Mon, 21 Nov 2016 15:01:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-12</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[whouserI]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>I believe this would be a form of bridged networking - albeit to a<br>
virtual device. I can’t answer your question but here are a few<br>
discussions that you can read through: <a href="https://www.whonix.org/wiki/Security_Guide#Warning:_Bridged_Networking" rel="nofollow noopener">https://www.whonix.org/wiki/Security_Guide#Warning:_Bridged_Networking</a></p>
</blockquote>
<p>Thanks.</p>
<blockquote>
<p>Host-only network with forwarding could probably work too. But I can’t imagine that would be a good idea security-wise.</p>
</blockquote>
<p>I’ll treat that as a last resort, then.</p>
<blockquote>
<p>In your openvpn config, are you using dev tap or dev tun?</p>
</blockquote>
<p>I’m not at home right now, so I can’t answer that atm. Will do once I get back.</p>
<p>I also had another thought: Maybe I could just connect the Whonix Gateway to a third VM, which would then be running the VPN client, acting as a sort of VPN gateway? I know this works in Qubes with the Mullvad client  (Tried Qubes once, but my computer isn’t powerful enough to run it properly). Is this possible in KVM?</p>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/11</link>
        <pubDate>Mon, 21 Nov 2016 06:33:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-11</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="1" data-topic="3133">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/w/9de0a6/40.png" class="avatar"> whouser:</div>
<blockquote>
<p>I looked at the virtual network settings for the gateway and saw that I can change it from “virtual network ‘default’ : NAT” to “host device [VPN] : macvtap”.</p>
</blockquote>
</aside>
<p>I believe this would be a form of bridged networking - albeit to a virtual device. I can’t answer your question but here are a few discussions that you can read through: <a href="https://www.whonix.org/wiki/Security_Guide#Warning:_Bridged_Networking">https://www.whonix.org/wiki/Security_Guide#Warning:_Bridged_Networking</a></p>
<p>Host-only network with forwarding could probably work too. But I can’t imagine that would be a good idea security-wise.</p>
<p>In your openvpn config, are you using <code>dev tap</code> or <code>dev tun</code>?</p>
<aside class="quote" data-post="9" data-topic="3133">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/w/df788c/40.png" class="avatar"> whouserI:</div>
<blockquote>
<p>It’s the Mullvad client.</p>
</blockquote>
</aside>
<p>They seem to have a reputation for transparency. Plus I’ve seen them donate to various open-source projects - which is a far better form of marketing than the BS that most providers spew.</p>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/10</link>
        <pubDate>Mon, 21 Nov 2016 06:13:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-10</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[whouserI]]></dc:creator>
        <description><![CDATA[
            <p>Thank you for responding.</p>
<blockquote>
<p>The code is definitely less trustworthy because it uses the OpenVPN code plus more GUI code. In addition, more people look at and review the OpenVPN code than the front-end of one vpn provider.</p>
</blockquote>
<p>This is certainly true. I thought Ego was under the belief that my client was proprietary.</p>
<blockquote>
<p>You are in a bit of a pickle etc</p>
</blockquote>
<p>It’s the Mullvad client.</p>
<blockquote>
<p>1, 2, 3, 4</p>
</blockquote>
<p>I will test these last two. However, does anyone know if it’s safe to try what I mentioned in the original post? I personally think it might be solved by choosing the VPN interface for Whonix Gateway instead of the NAT that’s used by default.</p>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/9</link>
        <pubDate>Mon, 21 Nov 2016 04:06:32 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-9</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="7" data-topic="3133">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/w/df788c/40.png" class="avatar"> whouserI:</div>
<blockquote>
<p>It’s an open source client released under the GPL, written by people I’ve looked into and trust. It’s no less trustworthy than OpenVPN.</p>
</blockquote>
</aside>
<p>Just to be precise, <strong>the authors</strong> may be just as trustworthy but even good people make mistakes. <strong>The code</strong> is definitely less trustworthy because it uses the OpenVPN code <strong>plus</strong> more GUI code. In addition, more people look at and review the OpenVPN code than the front-end of one vpn provider.</p>
<aside class="quote" data-post="7" data-topic="3133">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/w/df788c/40.png" class="avatar"> whouserI:</div>
<blockquote>
<p>And in any case, as I said, OpenVPN is too difficult to use. I’ve tried. I’m not a computer professional.</p>
</blockquote>
</aside>
<p>You are in a bit of a pickle because you have limited support options. You’re one of a handful of people who use Tor with KVM with a specific OpenVPN client. If it’s not a general VPN issue then KVM, Whonix, Tor, and OpenVPN support can’t really help you - especially without knowing what client you’re even referring to. I would try asking for help from the authors - if it’s open-source, you can probably post to the Github Issues page.</p>
<p>Before asking, you can make sure it’s not a KVM or Whonix issue by eliminating some possibilities:</p>
<p>With VPN running in host:</p>
<ol>
<li>Does host internet work? check.</li>
<li>Does TBB in host work? check.</li>
<li>Does internet in a plain Debian-8 VM work?</li>
<li>Does TBB in a plain Debian-8 VM work?</li>
</ol>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/8</link>
        <pubDate>Sat, 19 Nov 2016 22:48:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-8</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[whouserI]]></dc:creator>
        <description><![CDATA[
            <p>It’s an open source client released under the GPL, written by people I’ve looked into and trust. It’s no less trustworthy than OpenVPN.</p>
<p>And in any case, as I said, OpenVPN is too difficult to use. I’ve tried. I’m not a computer professional.</p>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/7</link>
        <pubDate>Sat, 19 Nov 2016 18:07:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-7</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<p>Please never use us grafical client provided by your provider. Only OpenVPN, as you cannot make sure how/what the provider coded.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/6</link>
        <pubDate>Tue, 15 Nov 2016 08:01:14 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-6</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[whouserI]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>Why not try running the VPN on the GW? You can have a better chance there.</p>
</blockquote>
<p>Because I’m using a GUI client from the VPN provider (It’s an open source client with lots of options like fail closed mechanism that make it easier to use than normal OpenVPN) that has no command line only option, and I have to run the GW with 192 MB RAM without desktop environment, because it freezes if I use the desktop environment. Same problem as the other guy who made the thread about this. Using normal OpenVPN is too difficult for me. I have no idea how to properly configure a firewall script to fail closed, even though I’ve read what I can find about it.</p>
<blockquote>
<p>Has not but I wanted to let you know.</p>
</blockquote>
<p>Okay, thanks.</p>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/5</link>
        <pubDate>Mon, 14 Nov 2016 23:29:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-5</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>Does anyone have any ideas what may be causing this?</p>
</blockquote>
<p>Why not try running the VPN on the GW? You can have a better chance there.</p>
<blockquote>
<p>And Whonix 14+ hasn’t been released yet, has it?</p>
</blockquote>
<p>Has not but I wanted to let you know.</p>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/4</link>
        <pubDate>Wed, 09 Nov 2016 13:39:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-4</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[whouser1]]></dc:creator>
        <description><![CDATA[
            <p>The host can connect to the VPN without issues. The problem is that when my VPN is active on the host, Whonix cannot connect to Tor, even though Tor Browser works fine on my host, outside of Whonix.</p>
<p>Does anyone have any ideas what may be causing this?</p>
<p>And Whonix 14+ hasn’t been released yet, has it?</p>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/3</link>
        <pubDate>Wed, 09 Nov 2016 11:36:47 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-3</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>I wouldn’t change the settings - and this won’t work with Whonix 14+ because the GW relies on a static IP. Whether its NAT’d or not shouldn’t prevent the host from connecting to a VPN. There is something else preventing this from working.</p>
<p>offtopic: Most of the countries that block Tor also block VPN. Openvpn adopted Tor’s obfsproxy plugins to bypass censorship.</p>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/2</link>
        <pubDate>Tue, 08 Nov 2016 12:40:30 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-2</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
      <item>
        <title>Failure to connect when VPN on host</title>
        <dc:creator><![CDATA[whouser]]></dc:creator>
        <description><![CDATA[
            <p>I have to use a VPN because Tor is blocked for me, and bridges are too slow to be practical. I’ve installed the VPN on my host, and I can use the normal TorBrowser just fine, but when I boot up the whonix gateway, it fails to connect. I looked at the virtual network settings for the gateway and saw that I can change it from “virtual network ‘default’ : NAT” to “host device [VPN] : macvtap”.</p>
<p>I think this might work, but I don’t know what consequences it will have. Is it safe to try this?</p>
<p>Thank you <img src="//forums.whonix.org/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133/1</link>
        <pubDate>Tue, 08 Nov 2016 07:10:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3133-1</guid>
        <source url="http://forums.whonix.org/t/failure-to-connect-when-vpn-on-host/3133.rss">Failure to connect when VPN on host</source>
      </item>
  </channel>
</rss>
