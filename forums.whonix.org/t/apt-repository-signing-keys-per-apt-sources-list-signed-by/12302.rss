<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>APT repository signing keys per APT sources.list - signed-by</title>
    <link>http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302</link>
    <description>Documentation [and repository-dist package] should be changed to the following style:

example, file:

`/etc/apt/sources.list.d/docker.list`

contents:

&gt; deb [signed-by=/usr/share/keyrings/docker.gpg] tor+https://download.docker.com/linux/debian bullseye stable

----

New signed-by method:

APT signing keys should be stored in folder `/usr/share/keyrings/` instead of `/etc/apt/trusted.gpg.d`.

By using `/usr/share/keyrings/` these keys as far as I understand aren&#39;t used for anything - unless a file in folder `/etc/apt/sources.list.d/` with file extension `.list` or in ifle `/etc/apt/sources.list` uses them by referring the path to these keys by using `[signed-by=/usr/share/keyrings/keyname.gpg]`. The advantage is that once the sources.list file is removed, it doesn&#39;t matter if the APT signing key is still lingering on the disk since it would effectively do nothing except waste a totally negligible amount of space not worth mentioning.

This is possible since Debian 11 `bullseye`.

----

Old trusted.gpg.d method:

The disadvantage of the old method, placing APT signing keys in folder `/etc/apt/trusted.gpg.d` that all keys there are being used to verify all repositories. For example `docker.gpg` has no business to sign `packages.debian.org`.

----

Could you document this please and perhaps also update the wiki?</description>
    <language>en</language>
    <lastBuildDate>Tue, 09 Nov 2021 21:14:19 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>APT repository signing keys per APT sources.list - signed-by</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubcommit">
  <header class="source">

      <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/882a14d0627b2fc0afa06bd7fed56070d78b4ed5" target="_blank" rel="noopener">github.com/Whonix/anon-shared-build-apt-sources-tpo</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/882a14d0627b2fc0afa06bd7fed56070d78b4ed5" target="_blank" rel="noopener">`/etc/apt/sources.list.d/torproject.list`: use APT `signed-by`</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2021-11-09" data-time="20:29:26" data-timezone="UTC">08:29PM - 09 Nov 21 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 1 files with 12 additions and 7 deletions">
        <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/882a14d0627b2fc0afa06bd7fed56070d78b4ed5" target="_blank" rel="noopener">
          <span class="added">+12</span>
          <span class="removed">-7</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">
https://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-si<span class="show-more-container"><a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/882a14d0627b2fc0afa06bd7fed56070d78b4ed5" target="_blank" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">gned-by/12302

https://support.torproject.org/apt/</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">

      <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/2540b40ac46bee29abdf65761d0ed6258a70b37e" target="_blank" rel="noopener">github.com/Whonix/anon-shared-build-apt-sources-tpo</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/2540b40ac46bee29abdf65761d0ed6258a70b37e" target="_blank" rel="noopener">minor</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2021-11-09" data-time="20:30:30" data-timezone="UTC">08:30PM - 09 Nov 21 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 1 files with 0 additions and 1 deletions">
        <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/2540b40ac46bee29abdf65761d0ed6258a70b37e" target="_blank" rel="noopener">
          <span class="added">+0</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">

      <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/15e0d448a25d91f1f258c44c70452efb0f74c2e8" target="_blank" rel="noopener">github.com/Whonix/anon-shared-build-apt-sources-tpo</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/15e0d448a25d91f1f258c44c70452efb0f74c2e8" target="_blank" rel="noopener">compatibility with APT signed-by;</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2021-11-09" data-time="21:11:01" data-timezone="UTC">09:11PM - 09 Nov 21 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 2 files with 9 additions and 19 deletions">
        <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/15e0d448a25d91f1f258c44c70452efb0f74c2e8" target="_blank" rel="noopener">
          <span class="added">+9</span>
          <span class="removed">-19</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">port to `apt-key-install` by package helper-scripts</p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit">
  <header class="source">

      <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/67c8c823f457f609cc7466ebc9e0e666a6fe5a0b" target="_blank" rel="noopener">github.com/Whonix/anon-shared-build-apt-sources-tpo</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/67c8c823f457f609cc7466ebc9e0e666a6fe5a0b" target="_blank" rel="noopener">fix</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2021-11-09" data-time="21:11:49" data-timezone="UTC">09:11PM - 09 Nov 21 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 1 files with 1 additions and 1 deletions">
        <a href="https://github.com/Whonix/anon-shared-build-apt-sources-tpo/commit/67c8c823f457f609cc7466ebc9e0e666a6fe5a0b" target="_blank" rel="noopener">
          <span class="added">+1</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302/4</link>
        <pubDate>Tue, 09 Nov 2021 21:14:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12302-4</guid>
        <source url="http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302.rss">APT repository signing keys per APT sources.list - signed-by</source>
      </item>
      <item>
        <title>APT repository signing keys per APT sources.list - signed-by</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>New wiki template:<br>
<a href="https://www.whonix.org/wiki/Template:Apt_key_add_derivative">https://www.whonix.org/wiki/Template:Apt_key_add_derivative</a></p>
<p>Features:</p>
<ul>
<li>No longer using <code>apt-key</code>. (<a href="https://forums.whonix.org/t/apt-key-deprecation-apt-2-2-changes/11240" class="inline-onebox">apt-key Deprecation / Apt 2.2 changes</a>)</li>
<li>Using APT <code>signed-by</code> / <code>/usr/share/keyrings/</code> folder.</li>
<li>Qubes-Whonix TemplateVM also supported.</li>
</ul>
<p>Used here:<br>
<a href="https://www.whonix.org/wiki/Special:WhatLinksHere/Template:Apt_key_add_derivative">https://www.whonix.org/wiki/Special:WhatLinksHere/Template:Apt_key_add_derivative</a></p>
          <p><a href="http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302/3</link>
        <pubDate>Sat, 18 Sep 2021 07:39:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12302-3</guid>
        <source url="http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302.rss">APT repository signing keys per APT sources.list - signed-by</source>
      </item>
      <item>
        <title>APT repository signing keys per APT sources.list - signed-by</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Examples / done:</p>
<ul>
<li><a href="https://www.whonix.org/wiki/Template:W-APT-Repository-Key" class="inline-onebox">Template:W-APT-Repository-Key - Whonix</a></li>
<li><a href="https://www.whonix.org/wiki/Template:Project-APT-Repository-Add" class="inline-onebox">Template:Project-APT-Repository-Add - Whonix</a></li>
<li><a href="https://www.whonix.org/wiki/Template:Project-APT-Repository-Add_Easy" class="inline-onebox">Template:Project-APT-Repository-Add Easy - Whonix</a></li>
<li><a href="https://www.whonix.org/wiki/Whonix_Packages_for_Debian_Hosts" class="inline-onebox">Whonix ™ Packages for Debian Hosts and Whonix ™ Host Enhancements</a></li>
<li><a href="https://www.whonix.org/wiki/Install_Tor_Browser_Outside_of_Whonix" class="inline-onebox">Non-Whonix ™ Tor Browser</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302/2</link>
        <pubDate>Sat, 11 Sep 2021 20:11:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12302-2</guid>
        <source url="http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302.rss">APT repository signing keys per APT sources.list - signed-by</source>
      </item>
      <item>
        <title>APT repository signing keys per APT sources.list - signed-by</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Documentation [and repository-dist package] should be changed to the following style:</p>
<p>example, file:</p>
<p><code>/etc/apt/sources.list.d/docker.list</code></p>
<p>contents:</p>
<blockquote>
<p>deb [signed-by=/usr/share/keyrings/docker.gpg] tor+https://download.docker.com/linux/debian bullseye stable</p>
</blockquote>
<hr>
<p>New signed-by method:</p>
<p>APT signing keys should be stored in folder <code>/usr/share/keyrings/</code> instead of <code>/etc/apt/trusted.gpg.d</code>.</p>
<p>By using <code>/usr/share/keyrings/</code> these keys as far as I understand aren’t used for anything - unless a file in folder <code>/etc/apt/sources.list.d/</code> with file extension <code>.list</code> or in ifle <code>/etc/apt/sources.list</code> uses them by referring the path to these keys by using <code>[signed-by=/usr/share/keyrings/keyname.gpg]</code>. The advantage is that once the sources.list file is removed, it doesn’t matter if the APT signing key is still lingering on the disk since it would effectively do nothing except waste a totally negligible amount of space not worth mentioning.</p>
<p>This is possible since Debian 11 <code>bullseye</code>.</p>
<hr>
<p>Old trusted.gpg.d method:</p>
<p>The disadvantage of the old method, placing APT signing keys in folder <code>/etc/apt/trusted.gpg.d</code> that all keys there are being used to verify all repositories. For example <code>docker.gpg</code> has no business to sign <code>packages.debian.org</code>.</p>
<hr>
<p>Could you document this please and perhaps also update the wiki?</p>
          <p><a href="http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302/1</link>
        <pubDate>Sat, 11 Sep 2021 19:40:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12302-1</guid>
        <source url="http://forums.whonix.org/t/apt-repository-signing-keys-per-apt-sources-list-signed-by/12302.rss">APT repository signing keys per APT sources.list - signed-by</source>
      </item>
  </channel>
</rss>
