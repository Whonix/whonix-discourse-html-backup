<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Fixing the Desktop Linux Security Model</title>
    <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172</link>
    <description># Fixing the Desktop Linux Security Model

Whonix is a security, privacy and anonymity focused Linux distribution. Recently, we&#39;ve been focusing a lot on important security hardening measures and fixing architectural security issues within the desktop Linux security model. Any Linux distribution can be affected by these issues.

## The Issues

There is a common assumption that Linux is a very secure operating system. This is very far from the truth for various different reasons. [Security guides aren&#39;t a solution either.](https://forums.whonix.org/t/the-problem-with-security-guides-and-how-we-can-fix-it/8563)

There is no strong sandboxing in the standard desktop. This means all applications have access to each other&#39;s data and can snoop on your personal information. Most programs are written in memory unsafe languages such as C or C++ which has been the cause of [the majority of discovered security vulnerabilities](https://msrc-blog.microsoft.com/2019/07/16/a-proactive-approach-to-more-secure-code/) and modern exploit mitigations such as Control-Flow Integrity are not widely used.

The kernel is also very lacking in security. It is a monolithic kernel written entirely in a memory unsafe language and has hundreds of bugs, many being security vulnerabilities, [found each *month*](https://events19.linuxfoundation.org/wp-content/uploads/2017/11/Syzbot-and-the-Tale-of-Thousand-Kernel-Bugs-Dmitry-Vyukov-Google.pdf). In fact, there are so many bugs being found in the kernel, developers can&#39;t keep up which results in many of the bugs [staying unfixed for a long time](https://syzkaller.appspot.com/upstream). The kernel is also [decades behind in exploit mitigations](https://jon.oberheide.org/files/syscan12-exploitinglinux.pdf) and many kernel developers simply [do not care enough](https://www.washingtonpost.com/sf/business/2015/11/05/net-of-insecurity-the-kernel-of-the-argument/).

On ordinary desktops, a compromised non-root user account which is member of group `sudo` [is almost equal to full root compromise](https://www.whonix.org/wiki/Dev/Strong_Linux_User_Account_Isolation) as there are too many ways for an attacker to retrieve the sudo password. Usually, the standard user is part of group `sudo` which makes this a massive issue and makes a sudo password almost [security theater](https://en.wikipedia.org/wiki/Security_theater). For example, the attacker can exploit the plethora of keylogging opportunities such as [X’s lack of GUI isolation](https://theinvisiblethings.blogspot.com/2011/04/linux-security-circus-on-gui-isolation.html), the [many infoleaks in /proc](https://forums.whonix.org/t/proc-pid-sched-spy-on-keystrokes-proof-of-concept-spy-gksu/8225), use [LD_PRELOAD to hook into every process](https://github.com/Aishou/wayland-keylogger) and so much more. Even if we mitigate every single way to log keystrokes, the attacker can just [setup their own fake sudo program](https://www.whonix.org/wiki/Dev/Strong_Linux_User_Account_Isolation#Setting_up_a_fake_sudo) to grab the user password.

Due to this, the Whonix project has been investing a lot of time into developing proper security measures to help fix these issues.

## The Kernel

The kernel is the core of the operating system and has many security issues as discussed above. The following are details about our efforts to improve kernel security.

### hardened-kernel

[hardened-kernel](https://www.whonix.org/wiki/Hardened-kernel) consists of hardened configurations and hardening patches for the Linux kernel. There are two kernel configs, hardened-vm-kernel and hardened-host-kernel. hardened-vm-kernel is designed specifically for virtual machines (VMs) and hardened-host-kernel is designed for hosts.

Both configs try to have as many hardening options enabled as possible and have little attack surface. hardened-vm-kernel only has support for VMs and all other hardware options are disabled to reduce attack surface and compile time.

During installation of hardened-vm-kernel, it compiles the kernel on your own machine and does not use a pre-compiled kernel. This ensures the kernel symbols in the compiled image are completely unique which makes it far harder for kernel exploits. This is possible due to hardened-vm-kernel having only VM config options enabled which drastically reduces compile time.

A development goal is that during installation of hardened-host-kernel, the kernel is not compiled on your machine but uses a pre-compiled kernel. This is because the host kernel needs most hardware options enabled to support most devices which makes compilation take a very long time.

The VM kernel is more secure than the host kernel due to having less attack surface and not being pre-compiled but if you want more security for the host, it is recommended to edit the hardened host config, enable only the hardware options you need and compile the kernel yourself. This makes the security of the host and VM kernel comparable.

These kernels use the [linux-hardened](https://github.com/anthraxx/linux-hardened) kernel patch for further hardening. The advantages of this patch includes [many ASLR improvements](https://gist.github.com/thestinger/b43b460cfccfade51b5a2220a0550c35), more read-only kernel structures, writable function pointer detection, stricter sysctl configurations, more sanity checks, slab canaries and a lot more.

We are also [contributing to linux-hardened and adding more hardening features](https://github.com/anthraxx/linux-hardened/pulls?q=author%3Amadaidan+). Our contributions include disabling TCP simultaneous connect, restricting module auto-loading to `CAP_SYS_MODULE`, Trusted Path Execution (TPE), restricting sysfs access to root, restricting `perf_event_open()` further to deny even root from using it and many more in the future.

### security-misc

[security-misc](https://github.com/Whonix/security-misc) ([wiki](https://www.whonix.org/wiki/Security-misc)) enables [miscellaneous security features](https://github.com/Whonix/security-misc#enhances-misc-security-settings) for better kernel self-protection, attack surface reduction, entropy collection improvements and more. It doesn&#39;t just harden the kernel but also various other parts of the operating system. For example, it [disables SUID binaries](https://www.whonix.org/wiki/Security-misc#SUID_Disabling_and_Permission_Hardening) (experimental, soonish default) and locks down root user access to make root compromises far harder. It also uses stricter mount options for various filesystems and stricter file permissions.

### Linux Kernel Runtime Guard (LKRG)

[Linux Kernel Runtime Guard (LKRG)](https://www.whonix.org/wiki/Linux_Kernel_Runtime_Guard_LKRG) is a kernel module which performs runtime integrity checking of the kernel and detection of kernel exploits. It can kill entire classes of kernel exploits and while LKRG is bypassable by design, such bypasses tend to require more complicated and/or less reliable exploits.

### tirdad

[tirdad](https://github.com/Whonix/tirdad) is a kernel module that aims to prevent TCP Initial Sequence Number (ISN) based information leaks by [randomizing the TCP ISNs](https://bitguard.wordpress.com/2019/09/03/an-analysis-of-tcp-secure-sn-generation-in-linux-and-its-privacy-issues/). These issues can be potentially catastrophic for anonymity and long-running cryptographic operations.

## User space

User space is the code that runs outside of the kernel such as your usual applications.

### apparmor-profile-everything

[apparmor-profile-everything](https://github.com/Whonix/apparmor-profile-everything) is an AppArmor policy to confine *all* user space processes, including even the init. This allows us to implement strict mandatory access control restrictions on all processes and have fine-grained controls over what they can access.

This is implemented by an initramfs hook which loads an AppArmor profile for systemd, the init.

apparmor-profile-everything gives us many advantages by limiting what an attacker can do if they compromise parts of the system. The benefits are not just for user space though. We can also protect the kernel to a great degree with this by blocking access to dangerous capabilities that allow kernel modification such as `CAP_SYS_RAWIO`, having fine-grained restrictions on kernel interfaces [known for information leaks](https://www.openwall.com/lists/kernel-hardening/2017/10/05/5) such as `/proc` or `/sys` and so much more. apparmor-profile-everything even allows us to deny access to the `CAP_NET_ADMIN` capability which prevents even the root user from leaking the IP address on the Whonix Gateway (it would now require a kernel compromise).

With apparmor-profile-everything, the only reasonable way to break out of the restrictions is by attacking the kernel which we make much harder as documented above. The root user cannot disable the protections at runtime as we deny access to the required capabilities and files.

### sandbox-app-launcher

[sandbox-app-launcher](https://github.com/Whonix/sandbox-app-launcher) is an app launcher that starts all user applications in a restrictive sandbox. It creates a separate user for each application ensuring they cannot access each other&#39;s data, runs the app inside a [bubblewrap](https://github.com/containers/bubblewrap) sandbox and confines the app with a strict AppArmor profile.

Bubblewrap allows us to make use of kernel sandboxing technologies called [namespaces](https://en.wikipedia.org/wiki/Linux_namespaces) and [seccomp](https://en.wikipedia.org/wiki/Seccomp). Namespaces allow us to isolate certain system resources. All apps are run in mount, PID, cgroup and UTS namespaces. Fine-grained filesystem restrictions are implemented via mount namespaces and AppArmor. Seccomp blocks certain syscalls which can greatly reduce kernel attack surface among other things. All apps by default use a seccomp blacklist to block dangerous and unused syscalls. Seccomp isn&#39;t just used for bluntly blocking syscalls either. It&#39;s also used to block unused socket families by inspection of the `socket()` syscall, dangerous ioctls such as `TIOCSTI` (which can be used in sandbox escapes), `TIOCSETD` (this can increase kernel attack surface by loading vulnerable line disciplines) and `SIOCGIFHWADDR` (this can retrieve the user&#39;s MAC address which is a privacy risk) by inspection of the `ioctl()` syscall and even strict [W^X](https://en.wikipedia.org/wiki/W%5EX) protections by inspection of the `mmap()`, `mprotect()` and `shmat()` syscalls. AppArmor is used to apply W^X to the filesystem and prevent an attacker from executing arbitrary code. Apparmor also gives fine-grained controls over IPC signals, dbus, UNIX sockets, ptrace and more.

It doesn&#39;t just stop there. sandbox-app-launcher implements an Android-like permissions system which allows you to revoke certain permissions such as network access for any application. During installation of new programs, you are asked which permissions you wish to grant the application.

### hardened_malloc

[hardened_malloc](https://github.com/GrapheneOS/hardened_malloc) is a hardened memory allocator created by security researcher, Daniel Micay. It gives substantial protection from memory corruption vulnerabilities. It is heavily based on the OpenBSD malloc design but with numerous improvements. Daniel Micay is a respected security researcher who has put a lot of work into security and is the creator of GrapheneOS (formerly CopperheadOS), linux-hardened and more.

Whonix installs hardened_malloc by default but it is not used much yet. In the future, we may preload it globally and use it for every application.

### VirusForget

[VirusForget](https://www.whonix.org/wiki/Dev/VirusForget) deactivates malware after a reboot from a non-root compromise by restoring sensitive files. Without this, it&#39;s possible for malware to easily create a persistent, system-wide rootkit by for example, modifying `LD_PRELOAD` in `~/.bashrc` to hook into all user applications.

## Verified Boot

[Verified boot](https://www.whonix.org/wiki/Verified_Boot) ensures the integrity of the boot chain by verifying the bootloader, kernel and initrd with a cryptographic signature. It can be extended further and verify the entire base OS, ensuring *all* executed code has not been tampered with but this extension is unlikely to be implemented due to the layout of traditional Linux distributions.

## User Freedom

All of our security features can be reverted by the user if they prefer freedom over security by choosing the necessary boot modes. This is not a security risk and attackers cannot abuse this as it can only be done with local access.

## Contributing

There is still a lot more work to be done and we need your help. Contributions would be greatly appreciated. The implementation of sandbox-app-launcher, packaging of hardened-kernel and verified boot are some of our main issues. Qubes support for hardened-kernel, apparmor-profile-everything, LKRG, tirdad and security-misc&#39;s boot parameters [are missing](https://forums.whonix.org/t/qubes-whonix-security-disadvantages-help-wanted/8581). Also see the [list of open tasks](https://phabricator.whonix.org/maniphest/query/open/).

----

Edit by Patrick:

https://www.reddit.com/r/linux/duplicates/fo2jbn/whonix_fixing_the_desktop_linux_security_model/</description>
    <language>en</language>
    <lastBuildDate>Wed, 19 Oct 2022 14:17:04 +0000</lastBuildDate>
    <category>News</category>
    <atom:link href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>Madaiadan, appreciate your efforts to harden Whonix, but I didn’t understand what was the suggested base OS if any?</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/28">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/28</link>
        <pubDate>Wed, 19 Oct 2022 14:17:04 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-28</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>No, there is no sane Debian version. Debian unstable is potentially even worse since the Debian security team only work on stable.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/27">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/27</link>
        <pubDate>Sun, 14 Jun 2020 00:32:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-27</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[infokiller]]></dc:creator>
        <description><![CDATA[
            <p>In that case, I guess you could also use Debian unstable?</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/26">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/26</link>
        <pubDate>Sat, 13 Jun 2020 23:56:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-26</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="madaidan" data-post="2" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Musl should be used as the libc instead of glibc. Glibc is buggy and overly complex. Musl is missing some very minor security features present in glibc (the glibc implementations aren’t good anyway) so we should add the missing security features to musl.</p>
</blockquote>
</aside>
<p>A good post on this: <a href="https://github.com/NixOS/nixpkgs/issues/90147#issuecomment-643473182">https://github.com/NixOS/nixpkgs/issues/90147#issuecomment-643473182</a></p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/25</link>
        <pubDate>Sat, 13 Jun 2020 00:25:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-25</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <p>Debian (and others like Ubuntu, etc.) freezes packages for a long time and only backports security fixes that receive a CVE which misses the majority of them. Most fixes don’t receive CVEs because either the developer doesn’t care or because it’s not obvious whether a bug is exploitable at first.</p>
<p>Debian maintainers cannot analyze every single commit perfectly and backport every security fix. They have to rely on CVEs which people don’t use properly.</p>
<p>For example, the Linux kernel is extremely bad at this:</p>
<p><a href="https://github.com/gregkh/presentation-cve-is-dead/blob/master/cve-linux-kernel.pdf">https://github.com/gregkh/presentation-cve-is-dead/blob/master/cve-linux-kernel.pdf</a></p>
<p><a href="https://grsecurity.net/reports_of_cves_death_greatly_exaggerated" class="onebox" target="_blank">https://grsecurity.net/reports_of_cves_death_greatly_exaggerated</a></p>
<p>Freezing packages is never a good approach. Debian is a major issue and I really think we should switch.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/24</link>
        <pubDate>Fri, 12 Jun 2020 15:44:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-24</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[infokiller]]></dc:creator>
        <description><![CDATA[
            <p>I think you made a lot of good points in this post and the previous one. Namely, I agree that isolating applications from one another and the system (especially network facing ones) is the biggest issue to tackle (which, as mentioned above, is “on the roadmap” of Whonix).<br>
I’d just like to comment regarding xpra/X11: although I’m not very knowledgeable about it, I don’t think it’s the same as the X security extensions that failed. Specifically, it runs a separate rootless X server for each client, which means it should be fully transparent to the clients, making it less likely to break any programs. The main issue I foresee is clipboard sharing, though this will be a usability issue and shouldn’t break any programs. To mitigate this, it may be possible to give every program write only access to the global clipboard, and provide a way for them to give the programs read access that is fully transparent to the programs.<br>
Wayland seems like a better long term solution, but it also suffers from some usability issues.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/23</link>
        <pubDate>Fri, 12 Jun 2020 14:24:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-23</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[infokiller]]></dc:creator>
        <description><![CDATA[
            <p>Sorry for the late out of context reply, but I just saw this nice thread and want to specifically question the statement that Debian is a massive issue. I should note that I don’t personally use Debian and am not attached to it in any way.<br>
It is well known that Debian stable is (intentionally) very much behind in general software updates, but is the situation really the same for security updates?<br>
It’s worth noting that Debian also has the Testing and Unstable versions that get updates much faster.</p>
<p>More generally, is there available data on the response time to security issues of various Linux distros?<br>
I know of no such resource, but I would think that since Debian is so popular and has a lot of developers and corporate users (for example Google uses Debian as the desktop OS for most engineers),<br>
it can’t be much behind other distros.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/22</link>
        <pubDate>Fri, 12 Jun 2020 13:23:28 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-22</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>5 posts were split to a new topic: <a href="http://forums.whonix.org/t/porting-whonix-to-void-linux/9369">Porting Whonix to Void Linux</a></p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/21</link>
        <pubDate>Sat, 18 Apr 2020 17:05:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-21</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[ale-carra]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="madaidan" data-post="19" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>That currently won’t work if the other app is sandboxed too. You’d need to open both apps separately.</p>
</blockquote>
</aside>
<p>That’s going to break a lot of apps that like to open other apps, like for example opening help in the web browser. Or apps that execute other programs to work.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/20</link>
        <pubDate>Thu, 09 Apr 2020 16:56:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-20</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="ale-carra" data-post="18" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/a/43a26b/40.png" class="avatar"> ale-carra:</div>
<blockquote>
<p>How will sandbox-app-launcher handle use cases when you download or create a file, but you want to open it with another app later?</p>
</blockquote>
</aside>
<p>There is a world-writable directory, <code>/shared</code>, you can use to share files across sandboxes. Access to this directory can be configured by the permissions (read-only, read-write, or none at all).</p>
<aside class="quote no-group" data-username="ale-carra" data-post="18" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/a/43a26b/40.png" class="avatar"> ale-carra:</div>
<blockquote>
<p>Or when an app wants to open another app?</p>
</blockquote>
</aside>
<p>That currently won’t work if the other app is sandboxed too. You’d need to open both apps separately.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/19">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/19</link>
        <pubDate>Thu, 09 Apr 2020 15:36:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-19</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[ale-carra]]></dc:creator>
        <description><![CDATA[
            <p>How will sandbox-app-launcher handle use cases when you download or create a file, but you want to open it with another app later? Or when an app wants to open another app? I assume you intend this to work without modifying the apps themselves.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/18">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/18</link>
        <pubDate>Thu, 09 Apr 2020 00:07:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-18</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[SokPuppette]]></dc:creator>
        <description><![CDATA[
            <p>The short answer to all of those responses is that I think you’re underestimating how hard it is to do any of that in any useful way, and still keep the system remotely usable even for sophistacted users, let alone naive ones.</p>
<p>The various X security extensions have always failed to get adoption because they break behavior the user expects, and even make programs crash outright. I don’t see how xpra is likely to be very different. Adding D-Bus mediation is trivial, but developing the policy for what messages to actually let through is <em>not</em> trivial. There aren’t very many name spaces in Linux, but deciding what specific items needs to be shared into other processes’ name spaces is still a hard problem… assuming that you can even share them at all at the granularity you need.</p>
<p>In all of these things, the sharing you need to enable is very close to the sharing that will destroy a lot of the security. There are a million details to think about, and any little mistake can hose you.</p>
<p>Also, don’t forget that isolating applications in the sense of <em>programs</em> has serious limitations from the beginning. The user is probably going to use a lot of the programs on the system to process information that’s effectively in “security compartment” X… and a lot of the <em>same</em> programs to process information in compartment Y. To deal with that, you need to isolate different instances of the <em>same program</em>, depending on which data they’re handling. You need to do that without confusing the user beyond all sanity, and without being too vulnerable to likely user errors.</p>
<p>That’s all really, really hard if the programs themselves don’t know at least something about what you’re doing… which they don’t.</p>
<p>On traditional Linux, you’re coming in after the fact and trying to isolate a bunch of pre-existing programs that don’t expect to be isolated from each other, that try to cooperate using the very communication channels you have to sever, and that don’t expect to be responsible for maintaining any isolation at all between different things they themselves communicate with.</p>
<p>On Android, you’re dealing with a developer culture that’s, if anything, more concerned with circumventing the system’s isolation than with assisting it… and there’s still no concept of different instances of the same program. What Android’s application isolation is really trying to do is to let users decide which developers they trust with which data, which is different from generalized compartmentation.</p>
<p>I’m not saying you’ll get <em>nothing</em> out of the things you suggest, but you write as if you think you can get a <em>lot</em> with the resources you have, and I’m not seeing how.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/17">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/17</link>
        <pubDate>Fri, 03 Apr 2020 20:52:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-17</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="SokPuppette" data-post="15" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/s/898d66/40.png" class="avatar"> SokPuppette:</div>
<blockquote>
<p>So, if you were going to talk about changing OS platforms, I’d suggest you think much more about application hardening and isolation, and much less about stuff that’s far from the attack surface… like the init system.</p>
</blockquote>
</aside>
<p>You’ve written a lot about how kernel bugs don’t matter much when there’s no application isolation yet we are working on application isolation as mentioned in the post. Read the apparmor-profile-everything and sandbox-app-launcher sections.</p>
<aside class="quote no-group" data-username="SokPuppette" data-post="15" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/s/898d66/40.png" class="avatar"> SokPuppette:</div>
<blockquote>
<p>X11</p>
</blockquote>
</aside>
<p>We’re aware of X11 and it’s already been discussed to death. We’re likely going to switch to Wayland but the current issue is that XFCE doesn’t yet support it. If we can’t switch, I can add X11 sandboxing to sandbox-app-launcher via a nested X server like xpra.</p>
<aside class="quote no-group" data-username="SokPuppette" data-post="15" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/s/898d66/40.png" class="avatar"> SokPuppette:</div>
<blockquote>
<p>D-Bus</p>
</blockquote>
</aside>
<p>AppArmor supports DBus mediation.</p>
<aside class="quote no-group" data-username="SokPuppette" data-post="15" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/s/898d66/40.png" class="avatar"> SokPuppette:</div>
<blockquote>
<p>You may be able to do some ad-hoc sandboxing with namespace-based stuff like bubblewrap. But be careful; that kind of thing is complicated.</p>
</blockquote>
</aside>
<p>It’s not that complicated. There are only a few main namespaces. Mount, PID, net, IPC, UTS, cgroup and user namespaces. There’s also a time namespace in some very recent Linux version but nothing uses that yet.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/16">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/16</link>
        <pubDate>Fri, 03 Apr 2020 15:31:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-16</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[SokPuppette]]></dc:creator>
        <description><![CDATA[
            <p>If I may comment as an outsider, it seems as though you guys are getting different subjects mixed up.</p>
<p>The subject <em>line</em> is about the system security model. As the introductory post said, at the moment, Whonix uses a traditional Linux model inherited from Debian, with essentially no isolation between applications. And under that model, a lot of the things you’re talking about seem relatively unimportant.</p>
<p>You seem to have gone afield from the question of making a <em>model</em> change, to talk about point hardening things. And maybe that’s right, because I don’t think you can actually improve the <em>model</em> very much under Debian, Android, or anything else that’s really available. But if you’re going to worry about point hardening, I think you should think first about hardening things that are actually going to be under attack.</p>
<h2>Threats and protections</h2>
<p>Probably the most interesting remote attackers are people at the “other end” of actual Tor connections. Most of the attack surface available to them is in actual applications, like Web browsers and programs that might be used to view or manipulate downloaded files.</p>
<p>You ship the Tor browser, various archive programs, PDF utilities, media players, etc… and you allow users to install almost anything Debian offers. You can reasonably expect users to downloading Microsoft Word document and viewing them in LibreOffice, to view PDFs with random viewers, to play potentially hostile audio and video files, and to do all sorts of other risky things with applications.</p>
<p>Those application programs can leak data over Tor. More relevant to the sorts of issues you’ve been talking about, though, is the fact that if something manages to completely break through one them, then all of the interesting information inside the workstation becomes available by design (and what’s brilliant about Whonix is that what’s exposed at least does <em>not</em> include the real IP address or computer serial number or whatever).</p>
<p>If you don’t have isolation between the applications, then things like kernel bugs and systemd bugs really don’t matter very much, especially not on the workstation.</p>
<p>The things you’ve talked about that actually harden the <em>applications</em> are things like libc (but I suspect the vast majority of the applications’ bugs are in their own code) and stack protections (which are mostly compiler options that you could perhaps turn on). Changing the model to isolating applications would be a win… but I’m going to argue that that’s too hard.</p>
<p>Kernel hardening and the init process are second order issues. They will only really start to matter after you <em>have</em> application isolation.</p>
<p>On the workstation, there’s almost zero remote kernel attack surface. There is truly zero remote systemd attack surface. If a remote attacker can interact with the workstation kernel or systemd enough to really exploit them, that implies that that attacker <em>already</em> has all the interesting information in the workstation, and has therefore <em>already</em> owned “the user’s data”</p>
<p>The only reason to try to elevate privilege once you were inside the workstation would be to try to attack the <em>host</em> via hypervisor bugs… which may or may not actually require you to be running in kernel mode at all. The hypervisor presents a really large, really weird attack surface for any code code at all running in either the workstation or the gateway VM. And it’s an attack surface that’s easy to forget about.</p>
<p>The gateway VM is a little different from the workstation, but systemd bugs and most kernel bugs still seem relatively uninteresting there.</p>
<p>Both remote attackers and attackers who’ve already owned the workstation will have reasons to target the gateway.</p>
<p>Truly remote attackers, on the other ends of Tor connections, are going to have to get into the workstation first to get access to most of the juiciest targets on the gateway. They  have almost no direct access to the gateway’s kernel, only a bit more to the Tor process, and none at all to services like systemd. To even poke the TCP/IP stack, they would have to own the workstation first.</p>
<p>I’m not going to say that nobody at all might attack the gateway from a more local “remote” position… but even an attacker on the LAN only has access to the gateway’s IP stack and relatively limited parts of its Tor process.</p>
<p>So, if you were going to talk about changing OS platforms, I’d suggest you think much more about application hardening and isolation, and much less about stuff that’s far from the attack surface… like the init system.</p>
<p>And now I’m going to argue that you can’t do the isolation.</p>
<h2>Isolating in Debian</h2>
<p>To isolate applications in Debian or any traditional Linux environment, you’d have to deal with a <em>bunch</em> of stuff that would break applications if you changed it. Long before you hard to worry about the kernel or init system, you’d run into probably-insurmountable issues with things like…</p>
<ul>
<li>X11. X doesn’t isolate its clients at all. Any program can mess with the keyboard, clipboard, other applications’ displayed windows, and who knows what else. There’ve been various attempts to fix it, but they’re hard to get working and most of them don’t get maintenance. It was a bad design even by 1985 standards. I had to tell the CIA as much in about 1990.</li>
<li>The fact that applications largely expect to share the file system name space with one another, and can get pretty unusable if they don’t share at least a lot of it.</li>
<li>D-Bus. This passes around a huge number of messages that ask for who-knows-what, which results in a complicated security policy, much of it defined per-endpoint by developers who may not have much clue.</li>
</ul>
<p>Basically I don’t think you can do it, period. It’s too big a project.</p>
<p>I also don’t think you could do it in Android.</p>
<h2>Isolating in Android</h2>
<p>Android does try to isolate applications from one another. An application at least has a chance of keeping a file private. Something properly written to take advantage of the isolation can get something out of it. A nice contained application like a cryptocurrency wallet can get something out of it.</p>
<p>… but you’d be forced to give your users a lot of applications that weren’t written with so much care, and the system is complicated enough that not only will <em>it</em> probably have breaking bugs, but it almost guarantees bugs in how applications <em>use</em> it.</p>
<p>It’s not really true that Android has a <em>model</em> for isolating applications. What it has is a huge collection of shared resources and IPC endpoints, each with its own ad-hoc set of security restrictions.  The whole thing is kind of reminiscent of D-Bus, but even more weird and complicated and used by far more programs. Those resources and restrictions change so much that Android has to <em>formally version the API</em>; each Android app actually declares which version it targets.</p>
<p>A <em>lot</em> of Android’s IPC-based APIs let one application ask another, or some part of the system, to do things that might result in network traffic… and the recipients of those requests rarely worry at all about what information that traffic will leak. Lots of services are architected to expect to work with “the cloud” in various ways. You can take that stuff out (which is what I think GrapheneOS tries to do), but you’re fighting the architecture all the way.</p>
<p>Furthermore, Android’s best supported method of sharing data files among applications, the one that’s by far the most commonly used by actual programs your users might want to run, is to dump them all into a big shared directory tree with no meaningful security controls at all. There’s this nifty “provider” API that nothing uses… and then there’s the unstructured shared storage that <em>everything</em> uses. And even when isolation is enforced, it tends to be more like “give application A access to <em>all</em> data in application B”, rather than “give application A access to <em>this particular document</em>”.</p>
<p>So you get limited <em>practically useful</em> application isolation from Android.</p>
<p>I also agree with Patrick that it would be a bad idea to become dependent on Android. In the end, Google will take Android in whatever direction benefits Google, and that’s not likely to include caring <em>at all</em> about whether the core system is in <em>any way</em> useful for anonymity. It may not include caring about whether AOSP without the Google apps and services is even usable at all. And it probably won’t include caring about privacy in general, or at least about privacy from Google.</p>
<p>For that matter, a lot of real third party Android apps are actively hostile to anything resembling anonymity. Dominant apps actively try to circumvent any privacy controls that Google does bother to put in place. Not only are those apps dangerous in themselves, but they still provide the <em>functionality</em> that users need… which makes it hard to generate demand for alternative apps with better privacy, and drives the overall ecosystem away from what youw want.</p>
<p>A random Debian program has more access to other apps’ data… but is far less likely to be deliberately trying to thwart the aims of Whonix than a random Android program.</p>
<p>You could end up having to maintain a <em>huge</em> amount of divergent code if you went with anything based on Android.</p>
<h2>Upshot on isolation</h2>
<p>To be honest, I can’t even think of any realistically usable operating system that has a good isolation model. The closest thing would be something like Genode’s Sculpt, and that’s just not ready. In fact, I think you get more actually useful security by being integrated into Qubes than you’d get by going to, say, Android. At least in Qubes the user can take a document off into an isolated VM and work on it.</p>
<p>You may be able to do some ad-hoc sandboxing with namespace-based stuff like bubblewrap. But be careful; that kind of thing is complicated.</p>
<h2>Some random comments on hardening</h2>
<p>You’ve talked about syscall filters like Apparmor and SELinux (and the more granular modes of things like bubblewrap), and about anti-buffer-overflow measures like canaries, poisoning, ASLR, “check-before-call”, stack frame reorganizations, etc, etc, etc.</p>
<p>All of these “hardening” measures are hacks. They make assumptions about the behavior of programs that aren’t guaranteed to follow those assumptions. If they work, they work. If they don’t, they don’t. And you have no real way to know whether you’ve gotten them right. The buffer overflow protection ones are especially suspect; I don’t think there are <em>any</em> that don’t have relatively generalizable workarounds.</p>
<p>I’m <em>not</em> saying you shouldn’t use hardening or sandboxing… but if you have a choice between “hardening” a random half-assed application (or library), and finding a good, well-written, well-analyzed, well-tested application written using relatively fail-safe tools, I think you’re nearly always going to get better security with the intrinsically safer application.</p>
<p>I don’t think it’s fair to say that SELinux is harder to set up than AppArmor. There’s nothing intrinsically complicated about what SELinux does. And SELinux comes out of the box with a reasonably nice granular default policy… or at least it does on Red Hat/CentOS/Fedora. I don’t really know about the SELinux policy available under Debian.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/15">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/15</link>
        <pubDate>Fri, 03 Apr 2020 14:56:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-15</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://news.ycombinator.com/item?id=22712965" class="onebox" target="_blank">https://news.ycombinator.com/item?id=22712965</a></p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/14">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/14</link>
        <pubDate>Thu, 02 Apr 2020 11:14:31 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-14</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="12" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>And security-fussed distributions are also using systemd or don’t exist.</p>
</blockquote>
</aside>
<p>Being security-focused doesn’t mean they’re interested in doing big security changes. The only one I can think of is AOSP which uses its own init.</p>
<aside class="quote no-group" data-username="Patrick" data-post="12" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I don’t see any reason to pick on the init system as there’s a lot things which arguably could use a rewrite:</p>
</blockquote>
</aside>
<p>The init is the first process started and one of the most privileged processes. A vulnerability in systemd can be critical.</p>
<p>We should fix as much as possible. We don’t have to rewrite the entire OS just to fix one important part.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/13">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/13</link>
        <pubDate>Sat, 28 Mar 2020 17:02:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-13</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>madaidan via Whonix Forum:</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="10" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also the functionality of systemd core, the drop-in config functionality and its success (distribution adaption) doesn’t make it look incompetent at all.</p>
</blockquote>
</aside>
<p>Most distributions don’t care for security so that’s not a good indicator.</p>
</blockquote>
<p>And security-fussed distributions are also using systemd or don’t exist.</p>
<blockquote>
<p>We could probably even create our own init with compatible syntax with systemd if you want.</p>
</blockquote>
<p>The main issue is this one:</p>
<aside class="quote quote-modified" data-post="1" data-topic="9097">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="https://forums.whonix.org/t/linus-doesnt-scale-and-whonix-social-organization-structure-doesnt-scale-yet-either/9097">Linus doesn't scale and Whonix social organization structure doesn't scale yet either</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/organization"><span class="badge-category-bg" style="background-color: #c3c3d1;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Building up the organization and success of the Whonix project. (contribute)">Organization</span></a>
  </div>
  <blockquote>
    I am not comparing myself with Linus but the issue is a similar one. 


Related:
  </blockquote>
</aside>

<p>Then also distributions that went non-systemd such as Devuan. That<br>
doesn’t look easy at all.</p>
<aside class="onebox wikipedia">
  <header class="source">
      <a href="https://en.wikipedia.org/wiki/Devuan" target="_blank">en.wikipedia.org</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:250/64;"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Devuan-logo.svg/250px-Devuan-logo.svg.png" class="thumbnail" width="250" height="64"></div>

<h3><a href="https://en.wikipedia.org/wiki/Devuan" target="_blank">Devuan</a></h3>

<p>Devuan is a fork of Debian that uses sysvinit or OpenRC instead of systemd, which is the default in newer Debian releases. The Devuan development team aim to maintain compatibility with other init systems in the future and not detach Linux from other Unix systems.
 The release of Debian 8 alienated some developers and other users due to the project's adoption of systemd. The first stable release of Devuan was published on May 25, 2017.
 Devuan has its own package repository which mirrors upstream...</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>And then there were also a lot people working on that.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://devuan.org/ui/img/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://devuan.org/os/team" target="_blank">Devuan GNU+Linux</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="https://devuan.org/ui/img/devuan-og-banner.jpg" class="thumbnail" width="690" height="362"></div>

<h3><a href="https://devuan.org/os/team" target="_blank">The Devuan development team | Devuan GNU+Linux Free Operating System</a></h3>

<p>Free GNU+Linux base OS. Devuan is a fork of Debian without systemd. Devuan Jessie provides a safe upgrade path from Debian, to ensure the right to Init Freedom and avoid entanglement.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>I don’t see any reason to pick on the init system as there’s a lot<br>
things which arguably could use a rewrite:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Dev/About_Computer_(In)Security" target="_blank" title="02:16AM - 21 March 2020">whonix.org – 21 Mar 20</a>
  </header>
  <article class="onebox-body">
    <img src="" class="thumbnail" width="" height="">

<h3><a href="https://www.whonix.org/wiki/Dev/About_Computer_(In)Security" target="_blank">About Computer (In)Security - Whonix</a></h3>

<p>Overview about About Computer (In)Security</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Due to this it’s hard to pick which projects to reinvent. Then also<br>
project resources are very scare. Therefore I cannot take up tons of<br>
complex projects.</p>
<p>Issues mentioned in this thread are also ambitious to say the least. I<br>
am also convinced it doesn’t make sense to debate priorities since these<br>
debates are to complex and endless. There’s always an argument which<br>
trumps other arguments.</p>
<p>I guess it’s about to define what I can do with the Whonix project.<br>
There’s things I am good at and things where I am not good at. For now,<br>
certainly I cannot become upstream for tons of new packages and/or<br>
significant amount of C / assembler code.</p>
<ul>
<li>research and implementation project</li>
<li>take existing components available from Debian, rare exceptions</li>
<li>reconfigure for anonymity/privacy/security according to research results</li>
<li>use things which are already documented elsewhere and feasible to<br>
implement</li>
<li>no huge architectural changes such as recompilation of packages from<br>
Debian / don’t replace systemd</li>
<li>if there’s a more secure base distribution, worthwhile, suitable for<br>
re-basing, rebase to it</li>
</ul>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="10" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>In comparison to Android, the people who reported <a href="http://cloak-and-dagger.org">http://cloak-and-dagger.org</a>, judging by the timeline also didn’t seem to be happy with Google’s way to handle the security vulerability.</p>
</blockquote>
</aside>
<p>I don’t see why you’re comparing it to android.</p>
</blockquote>
<p>Because suggestions originate from Daniel Micay who works on GrapheneOS<br>
which is Android based. He has a point in his analysis and there’s lots<br>
of other valid points here too, but I still think it’s not feasible to<br>
address them all at once since there’s always another argument around<br>
the corner invalidating the whole design.</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="10" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Pwnie Awards are plenty as per <a href="https://en.wikipedia.org/wiki/Pwnie_Awards">https://en.wikipedia.org/wiki/Pwnie_Awards</a> Debian was also on the list</p>
</blockquote>
</aside>
<p>Debian’s was because of a mistake. It isn’t the same and we’ve already talked about replacing Debian.</p>
</blockquote>
<p>Debian as far I know didn’t apply any organization or policy level fixes<br>
which would prevent such an issue in future.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/12">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/12</link>
        <pubDate>Sat, 28 Mar 2020 08:39:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-12</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="10" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also the functionality of systemd core, the drop-in config functionality and its success (distribution adaption) doesn’t make it look incompetent at all.</p>
</blockquote>
</aside>
<p>Most distributions don’t care for security so that’s not a good indicator. We could probably even create our own init with compatible syntax with systemd if you want.</p>
<aside class="quote no-group" data-username="Patrick" data-post="10" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>In comparison to Android, the people who reported <a href="http://cloak-and-dagger.org">http://cloak-and-dagger.org</a>, judging by the timeline also didn’t seem to be happy with Google’s way to handle the security vulerability.</p>
</blockquote>
</aside>
<p>I don’t see why you’re comparing it to android.</p>
<aside class="quote no-group" data-username="Patrick" data-post="10" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Pwnie Awards are plenty as per <a href="https://en.wikipedia.org/wiki/Pwnie_Awards">https://en.wikipedia.org/wiki/Pwnie_Awards</a> Debian was also on the list</p>
</blockquote>
</aside>
<p>Debian’s was because of a mistake. It isn’t the same and we’ve already talked about replacing Debian.</p>
<aside class="quote no-group" data-username="Patrick" data-post="10" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>And also Linux</p>
</blockquote>
</aside>
<p>And we know Linux is a mess too hence hardened-kernel.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/11</link>
        <pubDate>Fri, 27 Mar 2020 17:41:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-11</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="madaidan" data-post="5" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Lennart also won a pwnies award for lamest vendor response in 2017 <a href="https://pwnies.com/archive/2017/winners/">https://pwnies.com/archive/2017/winners/ </a></p>
</blockquote>
</aside>
<p>Would take me a time to get to the bottom of a labyrinth of a said b and c said d…</p>
<p>I actually like Lennart Poettering’s vision a lot he laid out here:<br>
<a href="http://0pointer.net/blog/projects/stateless.html" class="onebox" target="_blank">http://0pointer.net/blog/projects/stateless.html</a></p>
<p>Also the functionality of systemd core, the drop-in config functionality and its success (distribution adaption) doesn’t make it look incompetent at all.</p>
<p>In comparison to Android, the people who reported <a href="http://cloak-and-dagger.org">http://cloak-and-dagger.org</a>, judging by the timeline also didn’t seem to be happy with Google’s way to handle the security vulerability.</p>
<p>Pwnie Awards are plenty as per <a href="https://en.wikipedia.org/wiki/Pwnie_Awards">https://en.wikipedia.org/wiki/Pwnie_Awards</a> Debian was also on the list</p>
<blockquote>
<ul>
<li>Most Epic Fail: <a href="https://en.wikipedia.org/wiki/Debian">Debian</a>’s flawed <a href="https://en.wikipedia.org/wiki/OpenSSL">OpenSSL</a> Implementation (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0166">CVE-2008-0166</a>)</li>
</ul>
</blockquote>
<p>And also Linux</p>
<blockquote>
<ul>
<li>Lamest Vendor Response: Linux “Continually assuming that all kernel <a href="https://en.wikipedia.org/wiki/Memory_corruption">memory corruption</a> bugs are only <a href="https://en.wikipedia.org/wiki/Denial-of-Service">Denial-of-Service</a>” <strong>Linux Project</strong> <a href="https://en.wikipedia.org/wiki/Pwnie_Awards#cite_note-networkworld-honored-26">[26]</a>
</li>
</ul>
<p>Brown, Bob (July 31, 2009). <a href="http://www.networkworld.com/news/2009/073109-black-hat-pwnie-awards.html">“Twitter, Linux, Red Hat, Microsoft “honored” with Pwnie Awards”</a>. NetworkWorld. Retrieved January 3, 2013.</p>
</blockquote>
<p>Therefore it’s hard to use that as a criteria for judgement.</p>
<aside class="quote no-group" data-username="madaidan" data-post="9" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>i.e. if they open sourced it, people would try to use it before it’s ready so they only open sourced it once finished.</p>
</blockquote>
</aside>
<p>That makes my point that they don’t publish git master branch as normal Open Source projects do.</p>
<p>If they are worried, they should just request their trademark replaced with something not to be confused with Google.</p>
<aside class="quote no-group" data-username="madaidan" data-post="9" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>The apps included in AOSP were never complete implementations. They were just templates and were meant to be replaced.</p>
</blockquote>
</aside>
<p>Even these getting less and less and harder to use as reported by programmers. Harder and harder to actually make use of AOSP. In comparison, Debian has a ideological commitment to Libre Software. Google not so much. Therefore if I had to bet, I guess it’s more likely that Debian or successors will be usable longer than Android (or successors).</p>
<p>On AOSP website I don’t see any download links. Only source code. Not a single phone is sold with AOSP. Also no pre-made, downloadable ROMS from AOSP website. Doesn’t seem like a usual Open Source project.</p>
<p>It’s similar to <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=898259#17">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=898259#17</a> - should Microsoft be an upstream for Debian? Is Android an OK upstream? Technically, “none of this necessarily contradicts Debian’s formal standards / Open Source / Free Software definition”.</p>
<p>I could ignore everything else and go with Android for an upstream but there are other factors. Other concepts such as tivoization, malicious feature, antifeature, tyrant software, treacherous computing or DRM (digital restrictions management) are less popular and less well defined. What could possibly go wrong. And therefore Android doesn’t seem like a good choice because in this case even if these concepts are less well defined, it seems a more clear case to me. The question is, is it sane to totally discard any conflict of interest because it is Open Source? Some say yes, I say no.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/10</link>
        <pubDate>Fri, 27 Mar 2020 14:10:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-10</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="8" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>If there’s a git commit - at least if not fixing security relevant issues - git push briefly after being commited. No public release dates while partners get access earlier already.</p>
</blockquote>
</aside>
<p>Partners didn’t get access earlier. Nobody got access except Google and they had good reason for it:</p>
<blockquote>
<p>We felt that open sourcing it at that point would be difficult because people would try to wedge it into phones and create a bad user experience.</p>
</blockquote>
<p>i.e. if they open sourced it, people would try to use it before it’s ready so they only open sourced it once finished.</p>
<aside class="quote no-group" data-username="Patrick" data-post="8" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The OS gets less and less. Being replaced by more and more proprietary stuff as per references posted previously.</p>
</blockquote>
</aside>
<p>The apps included in AOSP were never complete implementations. They were just templates and were meant to be replaced.</p>
<p>Google’s other proprietary apps are irrelevant to AOSP. AOSP doesn’t even include them.</p>
<aside class="quote no-group" data-username="Patrick" data-post="8" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>A solid (just normal, no stunts) Open Source design could not have be ordered away by US government. Huawei can still use Linux - because it’s real Open Source. (Overlooking blobs in source repository.)</p>
</blockquote>
</aside>
<p>Huawei could still use AOSP because it’s open source. They just couldn’t use Google’s proprietary apps.</p>
<p>Complain about Google’s apps being proprietary if you want but don’t pretend it’s the same as the OS.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/9</link>
        <pubDate>Thu, 26 Mar 2020 16:35:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-9</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>madaidan via Whonix Forum:</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Which doesn’t exist. That’s why I call it fatalism.</p>
</blockquote>
</aside>
<p>It might exist. We should look for one.</p>
</blockquote>
<p>I’ve looked recently and didn’t see much. If it had reasonable<br>
popularity then it would be listed under<br>
</p><aside class="onebox wikipedia">
  <header class="source">
      <a href="https://en.wikipedia.org/wiki/Security-focused_operating_system" target="_blank">en.wikipedia.org</a>
  </header>
  <article class="onebox-body">
    <img src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Wiki_letter_w_cropped.svg/20px-Wiki_letter_w_cropped.svg.png" class="thumbnail onebox-full-image" width="20" height="14">

<h3><a href="https://en.wikipedia.org/wiki/Security-focused_operating_system" target="_blank">Security-focused operating system</a></h3>

<p>
 This is a list of operating systems specifically focused on security. General-purpose operating systems may be secure in practice, without being specifically "security-focused".
 Similar concepts include security-evaluated operating systems that have achieved certification from an auditing organization, and trusted operating systems that provide sufficient support for multilevel security and evidence of correctness to meet a particular set of requirements.
 These operating systems are all engin...</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Well, they used to play games:</p>
</blockquote>
</aside>
<p>That’s not playing games. They need to develop the thing first. Would you rather them make an empty git repo?</p>
</blockquote>
<p>If there’s a git commit - at least if not fixing security relevant<br>
issues - git push briefly after being commited. No public release dates<br>
while partners get access earlier already.</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Building on top of google is risking to build on top of sand. Ask<br>
Huawei. See:</p>
</blockquote>
</aside>
<p>Again, it’s about google’s other apps, not the OS.</p>
</blockquote>
<p>The OS gets less and less. Being replaced by more and more proprietary<br>
stuff as per references posted previously.</p>
<blockquote>
<p>The Huawei thing was forced by the US government away. Google can’t just ignore the government.</p>
</blockquote>
<p>A solid (just normal, no stunts) Open Source design could not have be<br>
ordered away by US government. Huawei can still use Linux - because it’s<br>
real Open Source. (Overlooking blobs in source repository.)</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/8</link>
        <pubDate>Thu, 26 Mar 2020 16:24:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-8</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Which doesn’t exist. That’s why I call it fatalism.</p>
</blockquote>
</aside>
<p>It might exist. We should look for one.</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Well, they used to play games:</p>
</blockquote>
</aside>
<p>That’s not playing games. They need to develop the thing first. Would you rather them make an empty git repo?</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Building on top of google is risking to build on top of sand. Ask<br>
Huawei. See:</p>
</blockquote>
</aside>
<p>Again, it’s about google’s other apps, not the OS.</p>
<p>The Huawei thing was forced by the US government away. Google can’t just ignore the government.</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Building on top of ASOP is risky,</p>
</blockquote>
</aside>
<p>Nobody’s suggesting to.</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>This goes back to:</p>
</blockquote>
</aside>
<p>The init system is not the same as any random package.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/7</link>
        <pubDate>Thu, 26 Mar 2020 15:53:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-7</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>madaidan via Whonix Forum:</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes. Only a first step. Would require something like ELF signature check.</p>
</blockquote>
</aside>
<p>dm-verity would probably be the best approach.</p>
</blockquote>
<p>That is good. Depends which one can be implemented.</p>
<aside class="quote" data-post="1" data-topic="8911">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/fs-verity-in-linux-5-4/8911">FS-VERITY in Linux 5.4</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Is FS-VERITY any good for the desktop? 
<a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=FS-VERITY-Performance-Linux-5.6" class="onebox" target="_blank">https://www.phoronix.com/scan.php?page=news_item&amp;px=FS-VERITY-Performance-Linux-5.6</a>
  </blockquote>
</aside>

<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Verified_Boot" target="_blank" title="08:23AM - 06 December 2019">whonix.org – 6 Dec 19</a>
  </header>
  <article class="onebox-body">
    <img src="" class="thumbnail" width="" height="">

<h3><a href="https://www.whonix.org/wiki/Verified_Boot" target="_blank">Verified Boot - Whonix</a></h3>

<p>Boot chain and integrity guarantees, Verified Boot, Secure Boot, Trusted Boot, dm-verity</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<aside class="quote quote-modified" data-post="1" data-topic="7894">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar">
    <a href="https://forums.whonix.org/t/enable-linux-kernel-gpg-verification-in-grub-and-or-enable-secure-boot-by-default/7894">enable Linux kernel gpg verification in grub and/or enable Secure Boot by default</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Since we are going for <a href="https://forums.whonix.org/t/allow-loading-signed-kernel-modules-by-default-disallow-kernel-module-loading-by-default/7880" class="inline-onebox">allow loading signed kernel modules by default / disallow kernel module loading by default</a>, should we also work towards enable Linux kernel gpg verification in grub and/or enable Secure Boot by default? 
Looks doable in principle. 

KVM: supports both EFI boot and Secure Boot. 
On <a href="https://blog.heckel.io/2018/08/06/booting-image-files-and-isos-with-kvm-qemu-efi-and-bios/" rel="nofollow noopener">https://blog.heckel.io/2018/08/06/booting-image-files-and-isos-with-kvm-qemu-efi-and-bios/</a> see 2. Booting image files with KVM (EFI) 
The <a href="https://packages.debian.org/buster/ovmf" rel="nofollow noopener">https://packages.debian.org/buster/ovmf</a> ships an EFI BIOS…
  </blockquote>
</aside>

<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Fatalism.</p>
</blockquote>
</aside>
<p>It’s not fatalism. He’s just suggesting we rebase on something sane.</p>
</blockquote>
<p>Which doesn’t exist. That’s why I call it fatalism.</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Android isn’t “real” Open Source. ASOP may be technically Open Source but the behavior is unique and not Open Source alike at all.</p>
</blockquote>
</aside>
<p>That doesn’t make sense. Android is real open source.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><a href="https://arstechnica.com/gadgets/2018/07/googles-iron-grip-on-android-controlling-open-source-by-any-means-necessary/">https://arstechnica.com/gadgets/2018/07/googles-iron-grip-on-android-controlling-open-source-by-any-means-necessary/</a></p>
</blockquote>
</aside>
<p>That has literally nothing to do with android. It’s to do with other Google apps, not the OS.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>They don’t act Open Sourcey as they don’t publish their git master branch. After X time there’s a huge dump of new code.</p>
</blockquote>
</aside>
<p>That’s not true at all.</p>
<p><a href="https://android.googlesource.com/">https://android.googlesource.com/</a></p>
</blockquote>
<p>Well, they used to play games:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.theregister.co.uk/design_picker/4ee431b84ac2d23c13376f753522acd7ecbb9b47/graphics/favicons/favicon-16x16.png" class="site-icon" width="16" height="16">
      <a href="https://www.theregister.co.uk/2011/05/10/android_ice_cream_sandwich/" target="_blank">theregister.co.uk</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/460;"><img src="https://regmedia.co.uk/2013/02/05/default_image-2.png" class="thumbnail" width="690" height="460"></div>

<h3><a href="https://www.theregister.co.uk/2011/05/10/android_ice_cream_sandwich/" target="_blank">Google won't open source fondleslab Android before 'year end'</a></h3>

<p>Honeycomb stays closed until Ice Cream Sandwich</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Developed by a company, Google that is one of the biggest violators of privacy ever, among other evil behavior.</p>
</blockquote>
</aside>
<p>Linux and even the protocols used for HTTP/2 and HTTP/3 are developed by Google. Are we going to just move away from Linux and the web too?</p>
<p>Google only violates privacy with some of their services. AOSP itself doesn’t have any issues.</p>
</blockquote>
<p>Building on top of google is risking to build on top of sand. Ask<br>
Huawei. See:</p>
<p><a href="https://onezero.medium.com/the-huawei-disaster-reveals-googles-iron-grip-on-android-b1ccee34504d" class="onebox" target="_blank">https://onezero.medium.com/the-huawei-disaster-reveals-googles-iron-grip-on-android-b1ccee34504d</a></p>
<p><a href="https://news.ycombinator.com/item?id=19999690" class="onebox" target="_blank">https://news.ycombinator.com/item?id=19999690</a></p>
<p>Business interest had overweight a solid technical design where such as<br>
license removal wouldn’t lead in such as disaster for Huawei.</p>
<blockquote>
<p>Linux and even the protocols used for HTTP/2 and HTTP/3 are developed<br>
by Google. Are we going to just move away from Linux and the web too?</p>
</blockquote>
<p>It’s colorful. Not black and white. Building on top of ASOP is risky,<br>
dnless ready to maintain all oneself (or likely someone else doing that)<br>
is risky.</p>
<p>I couldn’t fork/maintain if in theory Debian went evil but then I think<br>
it’s likely others would be able to and do that.</p>
<p>With protocols such as HTTP/2 and HTTP/3 which are implemented by<br>
browsers and web servers there’s now little power that Google could<br>
abuse. Seems very different to me.</p>
<p>Google has already shown that they play games. Therefore I wouldn’t risk<br>
to rebase on Android.</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Replacing Debian might be worthwhile if there is any distribution that has:</p>
<ul>
<li>
<a href="https://www.whonix.org/wiki/Verified_Boot">verified boot</a> (full)</li>
<li>is <a href="https://www.whonix.org/wiki/Dev/Stateless">stateless </a>
</li>
<li>security-focused</li>
</ul>
</blockquote>
</aside>
<p>That criteria isn’t necessary.</p>
</blockquote>
<p>Necessary no, but a justification for the workload.</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>systemd CVE’s don’t look so bad.</p>
</blockquote>
</aside>
<p>Compare it to other inits.</p>
<p><a href="https://www.cvedetails.com/vulnerability-list.php?vendor_id=7971&amp;product_id=38088">https://www.cvedetails.com/vulnerability-list.php?vendor_id=7971&amp;product_id=38088</a></p>
<p><a href="https://www.cvedetails.com/vulnerability-list/vendor_id-4204/Runit.html">https://www.cvedetails.com/vulnerability-list/vendor_id-4204/Runit.html</a></p>
<p>A single vulnerability in runit in 2006 vs 20 consistent vulnerabilities in systemd.</p>
</blockquote>
<p>Would be more useful to compare runit to systemd core, pid 0 (init).</p>
<p>I am having difficulties finding any vulnerabilities in systemd core.</p>
<p>That list looks huge but for example “systemd-resolved through 233<br>
allows remote attackers to cause a denial of service (daemon crash) via<br>
a crafted DNS response with an empty question section.” That was a bug<br>
in systemd-resolved, not systemd core. systemd-resolved wasn’t / isn’t<br>
needed / used in Whonix.</p>
<blockquote>
<p>Measuring only by CVEs also isn’t the best.</p>
<p>Lennart also won a pwnies award for lamest vendor response in 2017 <a href="https://pwnies.com/archive/2017/winners/">https://pwnies.com/archive/2017/winners/</a></p>
</blockquote>
<p>[1] This goes back to:</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9152">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"><a href="//forums.whonix.org/t/selecting-secure-packages-from-packages-debian-org/9152/4">Selecting Secure Packages from packages.debian.org</a>
</div>
<blockquote>
<p>Because that threat model is too high a standard for Whonix. The only<br>
maintainable way is: if it’s in Debian = good enough. Otherwise trying<br>
to judge software from Debian by its code quality, last release and<br>
other factors will open endless, insurmountable discussions.</p>
</blockquote>
</aside>
<p>As per:</p>
<aside class="quote" data-post="1" data-topic="9152">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/selecting-secure-packages-from-packages-debian-org/9152">Selecting Secure Packages from packages.debian.org</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    Why are you still going to use dhcpcanon, unmaintained software recommended against by its own devs?
  </blockquote>
</aside>

<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>systemd support tons of security features in a usable way such as seccomp, capabilities, limits, private-tmp, private devices, read-only directories, and whatnot.</p>
</blockquote>
</aside>
<p>Those are trivially re-implemented with bubblewrap.</p>
<p>Seccomp: <code>--seccomp</code><br>
Capabilities: <code>--cap-add</code> <code>--cap-drop</code><br>
Private-tmp: <code>--tmpfs /tmp</code><br>
Private devices: <code>--dev /dev</code><br>
Read-only directories: <code>--ro-bind /dir /dir</code></p>
<p>Having some sandboxing features can’t make up for the large attack surface systemd adds.</p>
</blockquote>
<p>systemd has excellent functionality. Whonix source code:</p>
<p><code>find . -type f -not -iwholename '*.git*' | grep systemd | wc -l</code> shows<br>
143 matches. Re-implementing that… Moving away from systemd isn’t<br>
trivial at all and unrealistic with current project resources.</p>
<blockquote>
<p>All of <code>systemd/src/core</code> (which I assume is the main init part, hard to tell due to the way systemd is layed out) is 53,044 LOC compared to OpenRC’s 13,423 LOC. All of systemd is over 400,000 but that wouldn’t be a fair comparison.</p>
</blockquote>
<p>Same as [1].</p>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>This is strongly related to the base distribution issue.</p>
</blockquote>
</aside>
<p>Other inits such as OpenRC, runit etc. are available in Debian.</p>
</blockquote>
<p>But not well supported by packages because not the default init system.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/6</link>
        <pubDate>Thu, 26 Mar 2020 11:27:06 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-6</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[madaidan]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Even if that is the case, if SELinux is too hard to mortals to write, then that theoretic advantage doesn’t help.</p>
</blockquote>
</aside>
<p>No, it’s doable. SELinux is just harder to get the hang of.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yes. Only a first step. Would require something like ELF signature check.</p>
</blockquote>
</aside>
<p>dm-verity would probably be the best approach.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Fatalism.</p>
</blockquote>
</aside>
<p>It’s not fatalism. He’s just suggesting we rebase on something sane.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Similarly it can be argued it’s a waste to build on top of Android:</p>
</blockquote>
</aside>
<p>Nobody suggested to build on top of Android.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Android isn’t “real” Open Source. ASOP may be technically Open Source but the behavior is unique and not Open Source alike at all.</p>
</blockquote>
</aside>
<p>That doesn’t make sense. Android is real open source.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><a href="https://arstechnica.com/gadgets/2018/07/googles-iron-grip-on-android-controlling-open-source-by-any-means-necessary/">https://arstechnica.com/gadgets/2018/07/googles-iron-grip-on-android-controlling-open-source-by-any-means-necessary/</a></p>
</blockquote>
</aside>
<p>That has literally nothing to do with android. It’s to do with other Google apps, not the OS.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>They don’t act Open Sourcey as they don’t publish their git master branch. After X time there’s a huge dump of new code.</p>
</blockquote>
</aside>
<p>That’s not true at all.</p>
<p><a href="https://android.googlesource.com/" class="onebox" target="_blank">https://android.googlesource.com/</a></p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Developed by a company, Google that is one of the biggest violators of privacy ever, among other evil behavior.</p>
</blockquote>
</aside>
<p>Linux and even the protocols used for HTTP/2 and HTTP/3 are developed by Google. Are we going to just move away from Linux and the web too?</p>
<p>Google only violates privacy with some of their services. AOSP itself doesn’t have any issues.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>But he’s building GrapheneOS on top of Android anyhow.</p>
</blockquote>
</aside>
<p>Because AOSP gives a great baseline security model to build on.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Replacing Debian might be worthwhile if there is any distribution that has:</p>
<ul>
<li>
<a href="https://www.whonix.org/wiki/Verified_Boot">verified boot</a> (full)</li>
<li>is <a href="https://www.whonix.org/wiki/Dev/Stateless">stateless </a>
</li>
<li>security-focused</li>
</ul>
</blockquote>
</aside>
<p>That criteria isn’t necessary. If we find a good distribution with proper security updates, we can use it as a template then build those security features on top of it.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I would like to build a space ship, explore the universe, make peaceful contact with other space traveling specifies should they exist. But currently doesn’t look realistic.</p>
</blockquote>
</aside>
<p>That’s not the same. This is doable and has already been done.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Requires a base distribution which does that.</p>
</blockquote>
</aside>
<p>Switching libc does not.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>systemd CVE’s don’t look so bad.</p>
</blockquote>
</aside>
<p>Compare it to other inits.</p>
<p><a href="https://www.cvedetails.com/vulnerability-list.php?vendor_id=7971&amp;product_id=38088" class="onebox" target="_blank">https://www.cvedetails.com/vulnerability-list.php?vendor_id=7971&amp;product_id=38088</a></p>
<p><a href="https://www.cvedetails.com/vulnerability-list/vendor_id-4204/Runit.html" class="onebox" target="_blank">https://www.cvedetails.com/vulnerability-list/vendor_id-4204/Runit.html</a></p>
<p>A single vulnerability in runit in 2006 vs 20 consistent vulnerabilities in systemd.</p>
<p>Measuring only by CVEs also isn’t the best.</p>
<p>Lennart also won a pwnies award for lamest vendor response in 2017 <a href="https://pwnies.com/archive/2017/winners/">https://pwnies.com/archive/2017/winners/</a></p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>systemd support tons of security features in a usable way such as seccomp, capabilities, limits, private-tmp, private devices, read-only directories, and whatnot.</p>
</blockquote>
</aside>
<p>Those are trivially re-implemented with bubblewrap.</p>
<p>Seccomp: <code>--seccomp</code><br>
Capabilities: <code>--cap-add</code> <code>--cap-drop</code><br>
Private-tmp: <code>--tmpfs /tmp</code><br>
Private devices: <code>--dev /dev</code><br>
Read-only directories: <code>--ro-bind /dir /dir</code></p>
<p>Having some sandboxing features can’t make up for the large attack surface systemd adds.</p>
<p>All of <code>systemd/src/core</code> (which I assume is the main init part, hard to tell due to the way systemd is layed out) is 53,044 LOC compared to OpenRC’s 13,423 LOC. All of systemd is over 400,000 but that wouldn’t be a fair comparison.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>This is strongly related to the base distribution issue.</p>
</blockquote>
</aside>
<p>Other inits such as OpenRC, runit etc. are available in Debian.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Basically, re-base on Android?</p>
</blockquote>
</aside>
<p>That is not what’s being suggested.</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/5</link>
        <pubDate>Wed, 25 Mar 2020 15:39:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-5</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
      <item>
        <title>Fixing the Desktop Linux Security Model</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="madaidan" data-post="2" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>AppArmor can never provide the same kind of security as SELinux.</p>
</blockquote>
</aside>
<p>Even if that is the case, if SELinux is too hard to mortals to write, then that theoretic advantage doesn’t help.</p>
<aside class="quote no-group" data-username="madaidan" data-post="2" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Verified boot only for the kernel is meaningless/security theater/doesn’t help.</p>
</blockquote>
</aside>
<p>Yes. Only a first step. Would require something like ELF signature check.</p>
<aside class="quote no-group" data-username="madaidan" data-post="2" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Debian is a massive issue, doesn’t provide proper security updates and isn’t a viable choice for building anything reasonably secure. It’s a waste of time to start from Debian.</p>
</blockquote>
</aside>
<p>Fatalism.</p>
<p>Similarly it can be argued it’s a waste to build on top of Android: [2]</p>
<ul>
<li>Android isn’t “real” Open Source. ASOP may be technically Open Source but the behavior is unique and not Open Source alike at all.
<ul>
<li>I don’t have time to make that argument, but the following articles kinda do it while I don’t agree with all they say.</li>
<li><a href="https://arstechnica.com/gadgets/2018/07/googles-iron-grip-on-android-controlling-open-source-by-any-means-necessary/">https://arstechnica.com/gadgets/2018/07/googles-iron-grip-on-android-controlling-open-source-by-any-means-necessary/</a></li>
<li>They don’t act Open Sourcey as they don’t publish their git master branch. After X time there’s a huge dump of new code.</li>
</ul>
</li>
<li>Developed by a company, Google that is one of the biggest violators of privacy ever, among other evil behavior.</li>
</ul>
<p>But he’s building GrapheneOS on top of Android anyhow.</p>
<p>I don’t think there’s any base Linux distribution suitable for Whonix to build on top of:</p>
<p>Notes here:</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Dev/Operating_System" target="_blank" title="11:48AM - 19 March 2020">whonix.org – 19 Mar 20</a>
  </header>
  <article class="onebox-body">
    <img src="" class="thumbnail" width="20" height="20">

<h3><a href="https://www.whonix.org/wiki/Dev/Operating_System" target="_blank">Dev/Operating System - Whonix</a></h3>

<p>Comparison and Consideration of various Operating Systems as base for the Whonix ™ Anonymous Operating System. Design Documentation.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Replacing Debian might be worthwhile if there is any distribution that has:</p>
<ul>
<li>
<a href="https://www.whonix.org/wiki/Verified_Boot">verified boot</a> (full)</li>
<li>is <a href="https://www.whonix.org/wiki/Dev/Stateless">stateless</a>
</li>
<li>security-focused</li>
<li>no other criteria making it unsuitable</li>
</ul>
<aside class="quote no-group" data-username="madaidan" data-post="2" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>We should define a base system, make it read-only and then build verified boot, MAC etc.</p>
</blockquote>
</aside>
<p>[1] I would like to build a space ship, explore the universe, make peaceful contact with other space traveling specifies should they exist. But currently doesn’t look realistic.</p>
<aside class="quote no-group" data-username="madaidan" data-post="2" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<ul>
<li>Musl should be used as the libc instead of glibc. Glibc is buggy and overly complex. Musl is missing some very minor security features present in glibc (the glibc implementations aren’t good anyway) so we should add the missing security features to musl.</li>
<li>Clang/LLVM should be used as the toolchain so we can enable modern mitigations like CFI.</li>
</ul>
</blockquote>
</aside>
<p>Requires a base distribution which does that.</p>
<aside class="quote no-group" data-username="madaidan" data-post="2" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<p>Systemd is a big problem. They’re hostile towards modern security approaches, adds a huge amount of attack surface / complexity and is developed by incompetent people. PID1 can be tiny and the minimal requirements are like 500 lines of code.</p>
</blockquote>
</aside>
<p>systemd CVE’s don’t look so bad. Not judging by numbers but by issues if they were an actual issue for Whonix. Doesn’t look so bad. More so when limiting it to the core of systemd.</p>
<p>systemd support tons of security features in a usable way such as seccomp, capabilities, limits, private-tmp, private devices, read-only directories, and whatnot.</p>
<p>Unless there’s something really better then systemd (which I doubt) and/or resources to port to it, Whonix is settled with systemd. This is strongly related to the base distribution issue. If there was a more secure base distribution that decided not to use systemd and had something else, then this might be doable.</p>
<aside class="quote no-group" data-username="madaidan" data-post="2" data-topic="9172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/m/ea5d25/40.png" class="avatar"> madaidan:</div>
<blockquote>
<ul>
<li>Do the applications like how android does APEX so verified boot extends to applications. APEX ships components as little filesystem images that are mounted and use dm-verity.</li>
<li>So the base OS is a filesystem image, updating with A/B updates using update_engine and applications should be little filesystem images too.</li>
</ul>
</blockquote>
</aside>
<p>Same as [1]. Basically, re-base on Android? I am not convinced of Android due to [2].</p>
          <p><a href="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172/4</link>
        <pubDate>Wed, 25 Mar 2020 03:34:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9172-4</guid>
        <source url="http://forums.whonix.org/t/fixing-the-desktop-linux-security-model/9172.rss">Fixing the Desktop Linux Security Model</source>
      </item>
  </channel>
</rss>
