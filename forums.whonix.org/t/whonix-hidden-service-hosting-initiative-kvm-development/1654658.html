<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Whonix Hidden Service Hosting Initiative -&gt; KVM development - Development - Whonix Forum</title>
    <meta name="description" content="So there is no intention to make whonix a solution for hosting hidden services? Everything I tested was a disaster and posts about it are regarded as not necessary...  This is sad as this is throwing away a huge potentia&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1654658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Whonix Hidden Service Hosting Initiative -&gt; KVM development&#39;" href="165.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/whonix-hidden-service-hosting-initiative-kvm-development/165?page=2" />
<meta name="twitter:url" content="https://forums.whonix.org/t/whonix-hidden-service-hosting-initiative-kvm-development/165?page=2" />
<meta property="og:title" content="Whonix Hidden Service Hosting Initiative -&gt; KVM development" />
<meta name="twitter:title" content="Whonix Hidden Service Hosting Initiative -&gt; KVM development" />
<meta property="og:description" content="I don’t think so. You helped sorting out lots of items from https://www.whonix.org/wiki/Dev/KVM, wrote big parts of https://www.whonix.org/wiki/KVM and moved forward KVM support." />
<meta name="twitter:description" content="I don’t think so. You helped sorting out lots of items from https://www.whonix.org/wiki/Dev/KVM, wrote big parts of https://www.whonix.org/wiki/KVM and moved forward KVM support." />
<meta property="article:published_time" content="2014-06-03T19:17:55+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="165.html">
        <link rel="next" href="1659ba9.html?page=3">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="165.html">Whonix Hidden Service Hosting Initiative -&gt; KVM development</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-03T19:17:55Z' class='post-time'>
                June 3, 2014,  7:17pm
              </time>
              <meta itemprop='dateModified' content='2014-06-03T19:17:55Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="19" data-topic="165">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v2/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Makes me sad that my efforts have been useless in the project.  <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
</blockquote>
</aside>
<p>I don’t think so. You helped sorting out lots of items from <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/KVM">https://www.whonix.org/wiki/Dev/KVM</a>, wrote big parts of <a href="../../../external.html?link=https://www.whonix.org/wiki/KVM">https://www.whonix.org/wiki/KVM</a> and moved forward KVM support.</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-03T19:19:20Z' class='post-time'>
                June 3, 2014,  7:19pm
              </time>
              <meta itemprop='dateModified' content='2014-06-03T19:19:20Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I guess to play well with AppArmor, we should recommend to place images in /var/lib/libvirt/images/ or otherwise mention this possibility in instructions?</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-04T12:31:19Z' class='post-time'>
                June 4, 2014, 12:31pm
              </time>
              <meta itemprop='dateModified' content='2014-06-04T12:31:19Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>First we should compare our kvm/libvirt installations. It’s possible that our results are different because of that. I will publish my installation steps soon. Also there is a huge difference in our targets - I made headless builds on logical volumes only, so no qcow, no raw image files.</p>
<p>Second I see a problem in<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#KVM_Setup_Instructions" target="_blank" rel="nofollow noopener" title="01:04PM - 04 May 2020">Whonix – 4 May 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/218;"><img src="../../../external.html?link=https://www.whonix.org/w/images/b/be/234234234236kvm.png" class="thumbnail" width="690" height="218"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#KVM_Setup_Instructions" target="_blank" rel="nofollow noopener">Whonix ™ for KVM</a></h3>

<p>Using Whonix ™ with KVM (Kernel Virtual Machine)</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
It doesn’t make sense to create a virtual isolated whonix network 10.0.0.x but should be 192.168.0.0 (this is what I did when I got whonix running)</p>
<p>Third we have to be extremly careful when selecting the virtual nics and networks. Like mentioned before, changes here cause serious trouble with apparmor and ip tables. I am looking for more details as I even succeeded to mess up the entire sandbox server.</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-04T19:18:59Z' class='post-time'>
                June 4, 2014,  7:18pm
              </time>
              <meta itemprop='dateModified' content='2014-06-04T19:18:59Z'>
          <span itemprop='position'>#24</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>what happens here?? same install as yesterday but now it throws<br>
ERROR in ./build-steps.d/1200_create-debian-packages detected!</p>
<p>Setting up kpartx (0.4.9+git0.4dfdaf2b-7~deb7u2) …</p>
<ul>
<li>‘[’ ‘’ = true ‘]’</li>
<li>rm --force /etc/apt/sources.list.d/whonix_temp.list</li>
<li>apt-get --no-download --list-cleanup update<br>
Reading package lists…</li>
<li>‘[’ 1 = 1 ‘]’</li>
<li>true ‘INFO: Skip running update-guestfs-appliance, because BARE_METAL is set to 1, ok.’</li>
<li>disable_apt_cache</li>
<li>trap error_handler_general ERR INT TERM</li>
<li>unset http_proxy</li>
<li>cat /usr/sbin/policy-rc.d<br>
cat: /usr/sbin/policy-rc.d: No such file or directory</li>
<li>true</li>
<li>‘[’ ‘’ = true ‘]’</li>
<li>service haveged status<br>
haveged is running.</li>
<li>grep device-mapper /proc/devices</li>
<li>true</li>
<li>modprobe dm_mod</li>
<li>grep device-mapper /proc/devices<br>
253 device-mapper</li>
<li>cat /proc/devices<br>
Character devices:<br>
1 mem<br>
4 /dev/vc/0<br>
4 tty<br>
4 ttyS<br>
5 /dev/tty<br>
5 /dev/console<br>
5 /dev/ptmx<br>
7 vcs<br>
10 misc<br>
13 input<br>
21 sg<br>
29 fb<br>
116 alsa<br>
128 ptm<br>
136 pts<br>
180 usb<br>
189 usb_device<br>
252 hidraw<br>
253 bsg<br>
254 rtc</li>
</ul>
<p>Block devices:<br>
2 fd<br>
259 blkext<br>
7 loop<br>
11 sr<br>
253 device-mapper<br>
254 virtblk</p>
<ul>
<li>‘[’ ‘’ = true ‘]’</li>
<li>‘[’ ‘’ = true ‘]’</li>
<li>benchmark_time_end<br>
++ date +%s</li>
<li>benchmark_time_end=1401909209</li>
<li>benchmark_took_seconds=1031<br>
++ convertsecs 1031<br>
++ (( h=1031/3600 ))<br>
++ (( m=(1031%3600)/60 ))<br>
++ (( s=1031%60 ))<br>
++ printf ‘%02d:%02d:%02d\n’ 0 17 11<br>
++ true</li>
<li>benchmark_took_time=00:17:11</li>
<li>true</li>
<li>true 'INFO: End of: ./build-steps.d/1100_prepare-build-machine No error detected. (benchmark: 00:17:11)'<br>
run-parts: executing ./build-steps.d/1200_create-debian-packages</li>
<li>true 'Currently running script: ./build-steps.d/1200_create-debian-packages '<br>
+++ dirname ./build-steps.d/1200_create-debian-packages<br>
++ cd ./build-steps.d<br>
++ pwd</li>
<li>MYDIR=/home/user/Whonix/build-steps.d</li>
<li>cd /home/user/Whonix/build-steps.d</li>
<li>cd …</li>
<li>cd help-steps</li>
<li>WHONIX_BUILD_PARSED=1</li>
<li>VMNAME=internalrun</li>
<li>source pre<br>
++ set +x</li>
<li>source variables<br>
++ set +x<br>
INFO: Setting… export UWT_DEV_PASSTHROUGH="1"<br>
whonix_build_whonix_version_new: 8.1<br>
whonix_build_new_changelog_version: 2:8.1-debpackage1</li>
<li>cd /home/user/Whonix/help-steps</li>
<li>cd …</li>
<li>true 'INFO: Currently running script: ./build-steps.d/1200_create-debian-packages ’</li>
<li>create-debian-packages</li>
<li>trap error_handler_general ERR INT TERM</li>
<li>signing_key</li>
<li>trap error_handler_general ERR INT TERM</li>
<li>‘[’ 1 = 1 ‘]’</li>
<li>true './build-steps.d/1200_create-debian-packages INFO: Using auto local signing key method… ’</li>
<li>‘[’ ‘!’ -f /home/user/whonix_binary/gpg-local-signing-key/done ‘]’</li>
<li>true './build-steps.d/1200_create-debian-packages INFO: We do not yet have a local OpenPGP signing key for our local APT repository. Creating one… ’</li>
<li>sudo -E -u user mkdir --parents /home/user/whonix_binary/gpg-local-signing-key</li>
<li>sudo -E -u user chmod 700 /home/user/whonix_binary/gpg-local-signing-key</li>
<li>echo ‘<br>
Key-Type: RSA<br>
Key-Length: 4096<br>
Subkey-Type: RSA<br>
Subkey-Length: 4096<br>
Name-Real: Whonix auto generated local APT signing key<br>
Name-Email: whonix@local-signing.key<br>
Expire-Date: 0<br>
Preferences: SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES CAST5 ZLIB BZIP2 ZIP Uncompressed<br>
’</li>
<li>sudo -E -u user gpg --no-options --no-emit-version --no-comments --display-charset utf-8 --keyserver hkp://qdigse2yzvuglcix.onion --personal-digest-preferences SHA512 --cert-digest-algo SHA512 --default-preference-list ‘SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES CAST5 ZLIB BZIP2 ZIP Uncompressed’ --keyserver-options no-honor-keyserver-url --fixed-list-mode --keyid-format 0xlong --use-agent --list-options show-uid-validity --sig-notation issuer-fpr@notations.openpgp.fifthhorseman.net=%g --no-default-keyring --homedir /home/user/whonix_binary/gpg-local-signing-key --batch --gen-key<br>
gpg: keyring <code>/home/user/whonix_binary/gpg-local-signing-key/secring.gpg' created gpg: keyring</code>/home/user/whonix_binary/gpg-local-signing-key/pubring.gpg’ created<br>
…+++++<br>
…+++++<br>
…+++++<br>
…+++++<br>
gpg: /home/user/whonix_binary/gpg-local-signing-key/trustdb.gpg: trustdb created<br>
gpg: key 0xC579875A2FF8DA79 marked as ultimately trusted</li>
<li>sudo -E -u user touch /home/user/whonix_binary/gpg-local-signing-key/done</li>
<li>true './build-steps.d/1200_create-debian-packages INFO: Created local OpenPGP signing key for our local APT repository. ’</li>
<li>‘[’ ‘!’ -d /home/user/whonix_binary/gpg-local-signing-key ‘]’</li>
<li>true ‘INFO: WHONIX_LOCAL_SIGNING_KEY_FOLDER: /home/user/whonix_binary/gpg-local-signing-key exists, ok.’</li>
<li>sudo -E -u user gpg --no-options --no-default-keyring --homedir /home/user/whonix_binary/gpg-local-signing-key --keyid-format 0xlong --fingerprint --list-secret-keys<br>
gpg: checking the trustdb<br>
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model<br>
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u<br>
/home/user/whonix_binary/gpg-local-signing-key/secring.gpg</li>
</ul>
<hr>
<p>sec   4096R/0xC579875A2FF8DA79 2014-06-04<br>
Key fingerprint = B1C7 4FDF 8108 FC95 0E3F  8144 C579 875A 2FF8 DA79<br>
uid                            Whonix auto generated local APT signing key <a href="mailto:whonix@local-signing.key">whonix@local-signing.key</a><br>
ssb   4096R/0x6110949406EF8E88 2014-06-04</p>
<ul>
<li>check_changelog_version</li>
<li>trap error_handler_general ERR INT TERM</li>
<li>true</li>
<li>cleanup_old_packages</li>
<li>trap error_handler_general ERR INT TERM</li>
<li>true './build-steps.d/1200_create-debian-packages INFO: Going to update local APT repository… ’</li>
<li>sleep 3</li>
<li>cd /home/user/Whonix/help-steps</li>
<li>cd …</li>
<li>true './build-steps.d/1200_create-debian-packages INFO: Cleaning old packages… ’</li>
<li>/home/user/Whonix/help-steps/cleanup-files</li>
<li>true 'Currently running script: /home/user/Whonix/help-steps/cleanup-files '<br>
+++ dirname /home/user/Whonix/help-steps/cleanup-files<br>
++ cd /home/user/Whonix/help-steps<br>
++ pwd</li>
<li>MYDIR=/home/user/Whonix/help-steps</li>
<li>cd /home/user/Whonix/help-steps</li>
<li>cd …</li>
<li>cd help-steps</li>
<li>WHONIX_BUILD_PARSED=1</li>
<li>ROOT_CHECK=0</li>
<li>VMNAME=internalrun</li>
<li>source pre<br>
++ set +x</li>
<li>source variables<br>
++ set +x<br>
INFO: Setting… export UWT_DEV_PASSTHROUGH="1"<br>
whonix_build_whonix_version_new: 8.1<br>
whonix_build_new_changelog_version: 2:8.1-debpackage1</li>
<li>true 'INFO: Currently running script: /home/user/Whonix/help-steps/cleanup-files ’</li>
<li>cleanup_files</li>
<li>trap error_handler_general ERR INT TERM</li>
<li>set +x<br>
rm --force /home/user/Whonix/…/whonix-shared-packages-dependencies*.deb<br>
rm --force /home/user/Whonix/…/whonix-shared-packages-recommended*.deb<br>
rm --force /home/user/Whonix/…/whonix-shared-files*.deb<br>
rm --force /home/user/Whonix/…/whonix-gateway-packages-dependencies*.deb<br>
rm --force /home/user/Whonix/…/whonix-gateway-packages-recommended*.deb<br>
rm --force /home/user/Whonix/…/whonix-gateway-files*.deb<br>
rm --force /home/user/Whonix/…/whonix-workstation-packages-dependencies*.deb<br>
rm --force /home/user/Whonix/…/whonix-workstation-packages-recommended*.deb<br>
rm --force /home/user/Whonix/…/whonix-workstation-files*.deb<br>
rm --force /home/user/Whonix/…/whonix-shared-desktop*.deb<br>
rm --force /home/user/Whonix/…/whonix-shared-desktop-kde*.deb<br>
rm --force /home/user/Whonix/…/whonix-shared-kde-accessibility*.deb<br>
rm --force /home/user/Whonix/…/whonix-workstation-default-applications*.deb<br>
rm --force /home/user/Whonix/…/whonix-workstation-extra-applications*.deb<br>
rm --force /home/user/Whonix/…/whonix-workstation-langpack-common*.deb<br>
rm --force /home/user/Whonix/…/whonix-shared-desktop-langpack-kde*.deb<br>
rm --force /home/user/Whonix/…/whonix*.dsc<br>
rm --force /home/user/Whonix/…/whonix*.changes<br>
rm --force /home/user/Whonix/…/whonix*.tar.*<br>
rm --force /home/user/Whonix/…/whonix*.build</li>
<li>fakeroot /home/user/Whonix/debian/rules clean<br>
dh_testdir<br>
dh_testroot<br>
dh_clean<br>
rm --force /home/user/Whonix/debian/<em>.init<br>
rm --force /home/user/Whonix/debian/</em>.bash-completion<br>
rm --force --recursive /home/user/Whonix/debian/tmp-man</li>
<li>rm --force /home/user/Whonix/debian/changelog</li>
<li>benchmark_time_end<br>
++ date +%s</li>
<li>benchmark_time_end=1401909234</li>
<li>benchmark_took_seconds=2<br>
++ convertsecs 2<br>
++ (( h=2/3600 ))<br>
++ (( m=(2%3600)/60 ))<br>
++ (( s=2%60 ))<br>
++ printf ‘%02d:%02d:%02d\n’ 0 0 2<br>
++ true</li>
<li>benchmark_took_time=00:00:02</li>
<li>true</li>
<li>true ‘INFO: End of: /home/user/Whonix/help-steps/cleanup-files No error detected. (benchmark: 00:00:02)’</li>
<li>true './build-steps.d/1200_create-debian-packages INFO: Cleaned old packages. ’</li>
<li>check_for_uncommited_changes</li>
<li>trap error_handler_general ERR INT TERM<br>
++ git status --porcelain</li>
<li>‘[’ -n ‘?? patrick.asc’ ‘]’</li>
<li>true './build-steps.d/1200_create-debian-packages ERROR: Git reports uncommitted changes! ’</li>
<li>true './build-steps.d/1200_create-debian-packages INFO: Running “git status” for your convenience. ’</li>
<li>git status</li>
</ul>
<h1>Not currently on any branch.</h1>
<h1>Untracked files:</h1>
<h1>(use “git add …” to include in what will be committed)</h1>
<h1></h1>
<h1>patrick.asc</h1>
<p>nothing added to commit but untracked files present (use “git add” to track)</p>
<ul>
<li>true './build-steps.d/1200_create-debian-packages INFO: Running git “clean --dry-run -d --force --force” for your convenience. ’</li>
<li>git clean --dry-run -d --force --force<br>
Would remove patrick.asc</li>
<li>true ‘./build-steps.d/1200_create-debian-packages You most likely like to revert debian/changelog to run:<br>
git checkout – debian/changelog<br>
/home/user/Whonix/help-steps/cleanup-files<br>
or if you know what you are doing:<br>
git clean --dry-run -d --force --force<br>
git reset --hard’</li>
<li>error ‘Uncommitted changes! See above!’<br>
./build-steps.d/1200_create-debian-packages: line 142: error: command not found<br>
++ error_handler_general<br>
++ error_handler_shared<br>
++ last_exit_code=127<br>
++ last_bash_command=‘error “Uncommitted changes! See above!”’<br>
++ ‘[’ test -o xtrace = 0 ‘]’<br>
++ set +x<br>
ERROR in ./build-steps.d/1200_create-debian-packages detected!<br>
Please have a look above “error_handler_general”, note the command that failed, its output and last_exit_code.</li>
</ul>
<ul>
<li>Please enter c and press enter to continue. (Recommended against!)</li>
<li>Please press enter to cleanup and exit.</li>
</ul>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-04T19:28:48Z' class='post-time'>
                June 4, 2014,  7:28pm
              </time>
              <meta itemprop='dateModified' content='2014-06-04T19:28:48Z'>
          <span itemprop='position'>#25</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>As</p>
<p>[code]+ true './build-steps.d/1200_create-debian-packages ERROR: Git reports uncommitted changes! ’</p>
<ul>
<li>true './build-steps.d/1200_create-debian-packages INFO: Running “git status” for your convenience. ’</li>
<li>git status</li>
</ul>
<h1>Not currently on any branch.</h1>
<h1>Untracked files:</h1>
<h1>(use “git add …” to include in what will be committed)</h1>
<h1></h1>
<h1>patrick.asc</h1>
<p>nothing added to commit but untracked files present (use “git add” to track)</p>
<ul>
<li>true './build-steps.d/1200_create-debian-packages INFO: Running git “clean --dry-run -d --force --force” for your convenience. ’</li>
<li>git clean --dry-run -d --force --force<br>
Would remove patrick.asc</li>
<li>true ‘./build-steps.d/1200_create-debian-packages You most likely like to revert debian/changelog to run:<br>
git checkout – debian/changelog<br>
/home/user/Whonix/help-steps/cleanup-files<br>
or if you know what you are doing:<br>
git clean --dry-run -d --force --force<br>
git reset --hard’</li>
<li>error ‘Uncommitted changes! See above!’<br>
[/code]</li>
</ul>
<p>indicates, you most likely have an extra file “patrick.asc” in your source root folder ~/Whonix.</p>
<p>Delete the file or move it somewhere lese and the issue should be gone.</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-04T19:30:29Z' class='post-time'>
                June 4, 2014,  7:30pm
              </time>
              <meta itemprop='dateModified' content='2014-06-04T19:30:29Z'>
          <span itemprop='position'>#26</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“zweeble, post:23, topic:165”]Second I see a problem in<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">
      <a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#KVM_Setup_Instructions" target="_blank" title="01:04PM - 04 May 2020">Whonix – 4 May 20</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/218;"><img src="../../../external.html?link=https://www.whonix.org/w/images/b/be/234234234236kvm.png" class="thumbnail" width="690" height="218"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/KVM#KVM_Setup_Instructions" target="_blank">Whonix ™ for KVM</a></h3>

<p>Using Whonix ™ with KVM (Kernel Virtual Machine)</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
It doesn’t make sense to create a virtual isolated whonix network 10.0.0.x but should be 192.168.0.0 (this is what I did when I got whonix running)[/quote]<br>
Sounds good. Those instructions are in unfinished / in progress. Feel free to make edits.</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-04T19:50:18Z' class='post-time'>
                June 4, 2014,  7:50pm
              </time>
              <meta itemprop='dateModified' content='2014-06-04T19:50:18Z'>
          <span itemprop='position'>#27</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>That’s right, I downloaded the asc file manually, because when proceeding as in <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Build_Documentation/Physical_Isolation/8#Get_the_Signing_Key" data-bbcode="true" rel="nofollow noopener">https://www.whonix.org/wiki/Dev/Build_Documentation/Physical_Isolation/8#Get_the_Signing_Key</a>  the key import gave me an error that <code>./whonix_shared/usr/share/whonix/keys/whonix-keys.d/patrick.asc</code> does not exist. By accident I put into the Whonix dir <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"><br>
If I ignore that then git complains about the missing asc…<br>
Funny though that yesterday this wasn’t a problem</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-05T00:10:48Z' class='post-time'>
                June 5, 2014, 12:10am
              </time>
              <meta itemprop='dateModified' content='2014-06-05T00:10:48Z'>
          <span itemprop='position'>#28</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Zweeble, I think for this to be a proper experiment you need to run everything as close to my configuration as possible, such as qcow2 images, so we can figure out if this is a problem that is distro dependent, iptables dependent or whatever else.</p>
<p>For my 8.2 vms I created  a second network with a subnet range of 192.168.200.0/24 while my first network was a 10.0.0.0/24 one. But in both instances since I have DHCP turned off for these netowrks, the workstaton and inward facing nic of the gateway have  an IP of 192.168.0.0/24 address. So in this situation, I don’t think the subnet range I chose for the internal network when setting it up, has any bearing or effect on this bug.</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-05T09:49:08Z' class='post-time'>
                June 5, 2014,  9:49am
              </time>
              <meta itemprop='dateModified' content='2014-06-05T09:49:08Z'>
          <span itemprop='position'>#29</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[quote=“zweeble, post:27, topic:165”]That’s right, I downloaded the asc file manually, because when proceeding as in <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Build_Documentation/Physical_Isolation/8#Get_the_Signing_Key" data-bbcode="true">https://www.whonix.org/wiki/Dev/Build_Documentation/Physical_Isolation/8#Get_the_Signing_Key</a>  the key import gave me an error that <code>./whonix_shared/usr/share/whonix/keys/whonix-keys.d/patrick.asc</code> does not exist. By accident I put into the Whonix dir <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"><br>
If I ignore that then git complains about the missing asc…<br>
Funny though that yesterday this wasn’t a problem[/quote]<br>
My mistake. Fixed build documentation thanks to zweeble on irc.</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-05T11:31:29Z' class='post-time'>
                June 5, 2014, 11:31am
              </time>
              <meta itemprop='dateModified' content='2014-06-05T11:31:29Z'>
          <span itemprop='position'>#30</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>HulaHoop,</p>
<p>This is how I made a 8.1, Terminal-Only Build, NoDefaultApps Build.<br>
It works like a charm, tested with 1 gateway and 4 workstations in one isolated subnet.</p>
<p>My host server is on a physical local network 192.168.10.0/24<br>
Before it was on 192.168.0.0/24, imo the reason I had so much trouble.<br>
A script that allows to modify the gateway network eth1 would be the best solution.</p>
<p>In order to keep things as simple as possible, I use virt-manager.<br>
The default virtual network I leave untouched.</p>
<p>First I created (both without dhcp)<br>
whonix_NAT network 192.168.100.0/28 for the gateway eth0<br>
and<br>
whonix_ISO network 192.168.0.0/28 for the gateway eth1 and workstation eth0</p>
<p>For the wheezy install I used only one whonix_NAT nic as rtl8139 and set it to<br>
address 192.168.100.2<br>
netmask 255.255.255.240<br>
gateway 192.168.100.1<br>
broadcast 192.168.100.15<br>
network 192.168.100.0</p>
<p>Then I cloned this vm and proceeded with the whonix physical build instructions (again: Terminal-Only Build, NoDefaultApps Build), stopped at 4.18 Run Build Script and cloned this vm again. Now I have a whonix81_buildready vm and a gateway81-1 vm</p>
<p>For the gateway81-1 vm build I added the eth1 to whonix_ISO network as 192.168.0.10,<br>
run the build, then set the network settings again (static), disable the kvm virtualization parameter in whonixcheck, run the upgrades and finally whonixcheck tells me all is green <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Then cloned the whonix81_buildready vm again to workstation81-1, same procedure like the gateway, but with only eth0, still on whonix_NAT network. After the build I <span class="bbcode-u">removed the eth0</span> and <span class="bbcode-u">replaced it with a new eth0</span> on whonix_ISO network - do not just change the vm’s nic settings, that ends in trouble. Also I rebooted the host after I made modifications on existing virtual networks in order to avoid problems with apparmor/libvirt. Sounds funny but it’s aknown issue at libvirt.</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-05T15:31:51Z' class='post-time'>
                June 5, 2014,  3:31pm
              </time>
              <meta itemprop='dateModified' content='2014-06-05T15:31:51Z'>
          <span itemprop='position'>#31</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I admit that source modifications are way above my head. I can’t imagine that we should expect every KVM user to know this level of info to get their copy working. That would make this version completely impractical for almost everyone. What suggestions or fixes do you suggest for streamlining this process?</p>
<p>So now, what do the security tests show? Is there a leak with or without transporxy shutdown? How about after the iptables fix that was mentioned before?</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-05T16:35:23Z' class='post-time'>
                June 5, 2014,  4:35pm
              </time>
              <meta itemprop='dateModified' content='2014-06-05T16:35:23Z'>
          <span itemprop='position'>#32</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>No worries  <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"><br>
The whonix-KVM build script has to install kvm, libvirt and vmbuilder (and some more, I have to check) so the script can setup the vms and the 2 virtual networks - that’s all. The user then starts the vms with the Virtual Machine Manager GUI (=virt-manager), this is easy.</p>
<p>The biggest effort in this kvm version is a script the checks the local lan network, because this might be in many or even most cases 192.168.0.0 The way the virtual switch works doesn’t allow a second 192.168.0.0 network, so the isolated whonix network has to be moved somewhere else 192.168.x.0<br>
For the workstation this shouldn’t be an issue, but for the gateway eth1 it certainly is.</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-05T16:59:39Z' class='post-time'>
                June 5, 2014,  4:59pm
              </time>
              <meta itemprop='dateModified' content='2014-06-05T16:59:39Z'>
          <span itemprop='position'>#33</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>whonix gateway 8.2 (headless) build on kvm - no errors, whonixcheck all green - good job, Patrick! <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-05T22:13:22Z' class='post-time'>
                June 5, 2014, 10:13pm
              </time>
              <meta itemprop='dateModified' content='2014-06-05T22:13:22Z'>
          <span itemprop='position'>#34</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Due to <a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,107.0.html" data-bbcode="true">popular</a> request in various places by various people…</p>
<p>Proposal for Whonix 9.</p>
<p>Gateway eth1.</p>
<pre><code class="lang-auto">auto eth1
iface eth1 inet static
       address 11.150.150.150
       netmask 255.255.192.0</code></pre>
<p>Workstation eth0.</p>
<pre><code class="lang-auto">auto eth0
iface eth0 inet static
       address 11.150.150.151
       netmask 255.255.192.0
       gateway 11.150.150.150</code></pre>
<p>I am currently testing these. This should less likely cause conflicts with physical networks, routers, kvm…</p>
<p>What do you think?</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-05T22:19:55Z' class='post-time'>
                June 5, 2014, 10:19pm
              </time>
              <meta itemprop='dateModified' content='2014-06-05T22:19:55Z'>
          <span itemprop='position'>#35</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote" data-post="32" data-topic="165">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forums.whonix.org/zweeble/40/4_1.png" class="avatar"> zweeble:</div>
<blockquote>
<p>The whonix-KVM build script has to install kvm, libvirt and vmbuilder (and some more, I have to check) so the script can setup the vms and the 2 virtual networks - that’s all.</p>
</blockquote>
</aside>
<p>Why would vmbuilder be required?</p>
<p>Why not use the downloadable .qcow2 images?</p>
<p>[quote=“zweeble, post:32, topic:165”]The biggest effort in this kvm version is a script the checks the local lan network, because this might be in many or even most cases 192.168.0.0 The way the virtual switch works doesn’t allow a second 192.168.0.0 network, so the isolated whonix network has to be moved somewhere else 192.168.x.0<br>
For the workstation this shouldn’t be an issue, but for the gateway eth1 it certainly is.[/quote]<br>
My suggestion in my previous post should solve that all without need for such a script that checks host local lan network?</p>
<p>Still, the KVM script could still check if the host uses IPs 11.150.150.150, 11.150.150.151 [and more?], and if so, warn about it. (Just an unlikely corner case, but why not.)</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-06T10:46:58Z' class='post-time'>
                June 6, 2014, 10:46am
              </time>
              <meta itemprop='dateModified' content='2014-06-06T10:46:58Z'>
          <span itemprop='position'>#36</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Why would vmbuilder be required?
<p>Why not use the downloadable .qcow2 images?</p>
</blockquote><br>
You are right, my mistake I think always about myself^^<br>
The subject of qcow, img or lv depends on every users individual decission, but qcow will fit in most cases.
<p><code>auto eth0
iface eth0 inet static
       address 11.150.150.151
       netmask 255.255.192.0
       gateway 11.150.150.150</code><br>
The proposed new config for the isolated network really is a corner case, doesn’t this belong to a classless domain routing network? I have no clue how lan components will react on that, neither can I tell about advantages/disadvantages.</p>
<p>A network warning script would be nice, at least it would tell the user why his install won’t work and so he doesn’t stay in the dark.</p>
<p>A gateway eth1 network script (better: ethx[:y], ie eth2 or aliased eth1:0) would have a very different scope. Let’s say I am hosting more than one hidden service and I want to have more isolated networks for other hidden services - actually there is no way to do this, except manually changing all ethx related files? What else would be effected by these changes?<br>
Sure this gateway ethx network script doesn’t make sense during build.</p>
<blockquote>Thinking big. Whonix in cooperate networks. Whonix for ISPs etc. I wouldn't want to add unnecessary limitations while we're at it so we don't have to discuss &amp; change this again.</blockquote>
With that ethx script there wouldn't be any discussions or changes anymore.
<ul>
<li>add new isolated virtual network</li>
<li>start the new gateway vm, edit eth0 if necessary</li>
<li>edit the script with the new ethx config (btw adding broadcast for none /24 networks makes sense!)</li>
<li>run it</li>
<li>change the new workstations’ eth0 manually<br>
done <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:">
</li>
</ul>
<p>I am curious what you think about that…<br>
(maybe we should change the topic to Whonix Hidden Service <span class="bbcode-i">Hosting</span> Initiative^^)</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-06T13:48:06Z' class='post-time'>
                June 6, 2014,  1:48pm
              </time>
              <meta itemprop='dateModified' content='2014-06-06T13:48:06Z'>
          <span itemprop='position'>#37</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>Due to popular request in various places by various people...
<p>Proposal for Whonix 9.</p>
<p>Gateway eth1.</p>
<p>Code: [Select]</p>
<p>auto eth1<br>
iface eth1 inet static<br>
address 11.150.150.150<br>
netmask 255.255.192.0</p>
<p>Workstation eth0.</p>
<p>Code: [Select]</p>
<p>auto eth0<br>
iface eth0 inet static<br>
address 11.150.150.151<br>
netmask 255.255.192.0<br>
gateway 11.150.150.150</p>
</blockquote>
<p>+1 That would be a good idea.</p>
<p>I think the Fin Ack test instructions are problematic I will explain later., but I don’t think there is a leak, we were looking for the wrong things.</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-06T18:11:40Z' class='post-time'>
                June 6, 2014,  6:11pm
              </time>
              <meta itemprop='dateModified' content='2014-06-06T18:11:40Z'>
          <span itemprop='position'>#38</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>In my previous post about what IP’s one would have to change (<a href="../../../external.html?link=https://www.whonix.org/forum/index.php/topic,328.msg2218.html#msg2218">https://www.whonix.org/forum/index.php/topic,328.msg2218.html#msg2218</a>) (now edited/correcte), I forgot mentioning:<br>
<a href="../../../external.html?link=https://github.com/Whonix/Whonix/blob/8.2/whonix_gateway/usr/bin/whonix_firewall#L100">https://github.com/Whonix/Whonix/blob/8.2/whonix_gateway/usr/bin/whonix_firewall#L100</a><br>
NON_TOR_WHONIXG=“192.168.1.0/24 192.168.0.0/24 127.0.0.0/8”</p>
<p>In Whonix 8 that can only be changed by editing /usr/bin/whonix_firewall. In Whonix 9, the variable will be renamed to NON_TOR_GATEWAY and can be configured in /etc/whonix_firewall.d.</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-06T19:11:33Z' class='post-time'>
                June 6, 2014,  7:11pm
              </time>
              <meta itemprop='dateModified' content='2014-06-06T19:11:33Z'>
          <span itemprop='position'>#39</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>doesn't this belong to a classless domain routing network?</blockquote>
Unfortunately not. 
<p>In a test isolated vbox network.</p>
<pre><code class="lang-auto">auto eth0
iface eth0 inet static
       address 192.168.0.10
       netmask 255.255.255.0
       ## or
       #netmask 255.255.192.0</code></pre>
<p>unfortunately could not connect to</p>
<pre><code class="lang-auto">auto eth0
iface eth0 inet static
       address 11.150.150.151
       netmask 255.255.192.0</code></pre>
<p>Which is a real shame. Because it will break Whonix 8 Workstation’s that try to connect to a Whonix 9 Gateway. A breaking change. So next Whonix version, users are probably best off first updating their Workstations, then live with them having no connectivity, then updating the Gateway, and then everything should go to normal.</p>
<p>If you have any suggestions for classless network configs, by all means, please make them.</p>
<blockquote>I have no clue how lan components will react on that, neither can I tell about advantages/disadvantages.</blockquote>
By the way, Qubes OS uses something similar.
https://www.whonix.org/wiki/Dev/Qubes_OS#IPs
There should be no issues, except no one on google said, they're using that configuration. So conflicts should be very rare to non-existent.
<blockquote>A network warning script would be nice, at least it would tell the user why his install won't work and so he doesn't stay in the dark.</blockquote>
I guess that will be no problem, minor easy feature.
<blockquote>A gateway eth1 network script (better: ethx[:y], ie eth2 or aliased eth1:0) would have a very different scope. Let's say I am hosting more than one hidden service and I want to have more isolated networks for other hidden services - actually there is no way to do this, except manually changing all ethx related files? What else would be effected by these changes?</blockquote>
It's a nice idea, but I am not sure how difficult that would be.
<p>I guess you’re equally hosed, if you are a plain Debian/Ubuntu/Fedora/etc. Linux user? What solutions you have there besides? Maybe we don’t have to reinvent the wheel.</p>
<p>I guess due to limitations of ifupdown, network manager has been developed. Unfortunately, CLI support last time I checked wasn’t fully ready.</p>
<p>Now if I attempt to /etc/network/interfaces writer, I fear it could quickly become as complex as network manager.</p>
<blockquote>Sure this gateway ethx network script doesn't make sense during build.</blockquote>
If there is a --default switch or so, it would be okay.
<blockquote>With that ethx script there wouldn't be any discussions or changes anymore.</blockquote>
Why not?
<blockquote>- add new isolated virtual network</blockquote>
Sounds more like a task for kvm script rather than /etc/network/interfaces writer script.
<blockquote>- start the new gateway vm, edit eth0 if necessary</blockquote>
From outside? From the host? That sounds rather difficult. Automated starting and controlling of VMs is non-trivial. Mounting the image and editing it is simpler. Still, complex (various user supplied file names) and difficult as whonix build script.
<blockquote>- edit the script with the new ethx config</blockquote>
This might be reasonable easy to write it for the first time. Later, when users made changes such as extra comments or settings, editing it again by script gets more difficult. We might have to edit in future. For both, foreseeable (https://github.com/Whonix/Whonix/issues/136) and unforeseeable reasons. 
<blockquote>(btw adding broadcast for none /24 networks makes sense!)</blockquote>
Why?
<blockquote>I am curious what you think about that...</blockquote>
I guess this /etc/network/interfaces writer script is a separate topic. Finding an appropriate IP range the preliminary and primary problem.
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/zweeble'><span itemprop='name'>zweeble</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="165.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2014-06-06T20:41:04Z' class='post-time'>
                June 6, 2014,  8:41pm
              </time>
              <meta itemprop='dateModified' content='2014-06-06T20:41:04Z'>
          <span itemprop='position'>#40</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Sorry, I didn’t express myself clear enough. Not the script should make these steps (omg) but the user or better said, the network admin (thinking big^^). The script itself is only a part of it, and to be honest this script should be something you should ask money for because it offers the key difference for a pro user.</p>
<p>Let me build a scenario:<br>
Hidden Hosting ltd wants, ie for security reasons, to separate various services they are hosting using several different isolated virtual networks. So the admin creates these networks, clones the needed workstations in it and changes their eth0 according to their virtual network. Now what to do with the gateway eth1?? The admin edits your new ethx script (sets the data for his new isolated virtual network) and then starts the script, that does nothing else then making the necessary changes for eth1 on the existing gateway.<br>
The cherry on the cake would be if the script could also configure eth2 or eth3 in case that one gateway has to serve more isolated virtual networks.</p>
<p>In that case there is no more discussion or whatever about what network to use. Imo getting out of 192.168.x.x to 172.16+.x.x as a standard would be enough - if it’s not, still your new script can be used.</p>
<p>If you want to use a classless domain routing network you must not forget that you have to use also classless routing protocols - that’s the trouble I mentioned before as I don’t know at all, who or what supports these protocols. I personally try not to make things more complicated as they are and so stick to what I know for sure^^</p>
<p>And adding broadcast for none /24 networks really makes sense, as some boxes consider ie a 255.255.255.240 still a /24 instead of a /28 - please don’t ask me WHY they do  ;))</p>
        </div>

        <meta itemprop='headline' content='Whonix Hidden Service Hosting Initiative -&gt; KVM development'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="165.html">← previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="1659ba9.html?page=3">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
