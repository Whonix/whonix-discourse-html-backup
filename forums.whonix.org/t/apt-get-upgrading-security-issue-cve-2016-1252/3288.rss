<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>apt-get upgrading security issue CVE-2016-1252</title>
    <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288</link>
    <description>I&#39;ve been gladly pointed to very bad security issue.

-----

Very short summary of the bug:

(my own words) During apt-get upgrading signature verification can be 
tricked resulting in arbitrary package installation, system 
compromise.

sources:

* https://security-tracker.debian.org/tracker/CVE-2016-1252
* https://www.debian.org/security/2016/dsa-3733
* https://bugs.launchpad.net/ubuntu/+source/apt/+bug/1647467
* https://lists.debian.org/debian-security-announce/2016/msg00316.html

(Specifically dangerous when upgrading over Tor. Slightly less 
dangerous when upgrading over onions mirrors [boils down to trust, i.e. 
IF the onion mirror is not compromised by that time].)

-----

The following bug report is for Qubes Debian, Whonix and Ubuntu templates, however it equally applies to Non-Qubes-Whonix. It&#39;s a bug in Debian&#39;s apt-get so all distributions are equally affected.

https://github.com/QubesOS/qubes-issues/issues/2520

----

I guess Marek (Qubes lead developer) will soon reply to it. That will be great as confirmation if I am overexaggerating this or if it is as serious as I think. However, I am quite certain this is a serious security issue.

-----

TODO:

* A Whonix.org blog post to recommend holding with upgrading VMs until/if a workaround has been figured out?
* Figure out a workaround to upgrade without getting compromised.
* Release Whonix 13.0.0.1.2 downloadable VM images - probably no changes besides building the images with upgraded packages from Debian.</description>
    <language>en</language>
    <lastBuildDate>Fri, 23 Dec 2016 17:52:56 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>release announcement:<br>
<a href="https://www.whonix.org/blog/whonix-13-0-0-1-4">https://www.whonix.org/blog/whonix-13-0-0-1-4</a></p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/44">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/44</link>
        <pubDate>Fri, 23 Dec 2016 17:52:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-44</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<p>Just tested 13.0.0.1.4, seems to work.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/43">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/43</link>
        <pubDate>Fri, 23 Dec 2016 17:39:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-43</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://phoronix.com/scan.php?page=news_item&amp;px=Debian-Possible-Auto-Updates" class="onebox" target="_blank">https://phoronix.com/scan.php?page=news_item&amp;px=Debian-Possible-Auto-Updates</a><br>
<a href="https://anarc.at/blog/2016-12-22-debian-considering-automated-upgrades/" class="onebox" target="_blank">https://anarc.at/blog/2016-12-22-debian-considering-automated-upgrades/</a></p>
<p>Some not so bright people at Debian want to enable unattended upgrades for all new installs…</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/42">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/42</link>
        <pubDate>Fri, 23 Dec 2016 17:30:43 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-42</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Non-Qubes-Whonix 13.0.0.1.4 release: Unfortunately I messed up including upgraded anon-ws-disable-stacked-tor for out of the box Tor Browser version &gt; <code>6.5a6</code> support. So one still has to manually apt-get dist-upgraded and reboot (easiest) after installing Whonix. Will release it anyhow to get out of the box CVE-2016-1252 fix.</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/41">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/41</link>
        <pubDate>Fri, 23 Dec 2016 01:10:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-41</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Upload finally done. Haven’t tested it myself yet. Release announcement coming later. <a href="https://download.whonix.org/13.0.0.1.4/">https://download.whonix.org/13.0.0.1.4/</a></p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/40">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/40</link>
        <pubDate>Thu, 22 Dec 2016 13:40:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-40</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Build succeeded. Testing and uploading is still todo.</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/39">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/39</link>
        <pubDate>Wed, 21 Dec 2016 03:32:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-39</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Whonix git tag <code>13.0.0.1.4-testers-only</code> with CVE-2016-1252 workaround has been released. Building that should be safe. My build hasn’t finished yet, but I guess it’ll complete.</p>
<p>Downlandable Non-Qubes-Whonix 13.0.0.1.4-testers-only are probably soon available.</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/38">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/38</link>
        <pubDate>Wed, 21 Dec 2016 01:57:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-38</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[eujan1]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="34" data-topic="3288">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I am not aware of any reports of active attempts of exploitation of this bug in the wild. So for now targeted attacks only if anything. I can’t calculate a probability from that.</p>
</blockquote>
</aside>
<p>Thanks Patrick.  Will be interesting to see if there are any exploits reported because of this issue in the future.</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/37">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/37</link>
        <pubDate>Tue, 20 Dec 2016 00:09:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-37</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>General usage of debootstrap [unrelated to Whonix]:<br>
It will be safe out of the box after the next Debian point release when apt <code>1.0.9.8.4</code> moves into jessie stable repository (not only in <a href="http://security.debian.org">security.debian.org</a>). Should be when Debian <code>8.7</code> is released.</p>
<p>Generally [unrelated to Whonix], running build processes using debootstrap followed by apt-get should be save when apt-get is visually watched. If it finishes usually quickly and does not download a &gt; 1 GB file, no exploit attempt has happened. If it takes too long and is manually aborted, nothing can happen.</p>
<p>Before the Debian point release, to make Non-Qubes-Whonix safe without visually watching apt-get, a fix for Non-Qubes-Whonix build script similar to this one is still TODO:<br>
<a href="https://github.com/marmarek/qubes-builder-debian/commit/d755d2dba79ca96187a30e1c34918c8a042c4b04">https://github.com/marmarek/qubes-builder-debian/commit/d755d2dba79ca96187a30e1c34918c8a042c4b04</a></p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/36">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/36</link>
        <pubDate>Mon, 19 Dec 2016 17:33:50 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-36</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>Thank you Patrick for handling this well. Please let us know when debootstrap is safe for those of us who build our images.</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/35">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/35</link>
        <pubDate>Mon, 19 Dec 2016 17:21:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-35</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>I am not aware of any reports of active attempts of exploitation of this bug in the wild. So for now targeted attacks only if anything. I can’t calculate a probability from that.</p>
<p>During manual apt-get update it would look sketchy to fetch a &gt; 1 GB file. So not that unlikely to be spotted, I would speculate.</p>
<p>Most at risk seem systems using unattended upgrades. (No, Whonix does not use that.) (Specifically if these are distinguishable from manual apt-get updates - they could be - if they are running at expectable times. I don’t remember / haven’t checked this.)</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/34">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/34</link>
        <pubDate>Mon, 19 Dec 2016 01:00:49 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-34</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[eujan1]]></dc:creator>
        <description><![CDATA[
            <p>@ Patrick  Thanks for the replies.  Guess I was looking for professional confirmation of what I already knew.</p>
<p>Does anyone have thoughts as to the probability of malware being introduced because of this particular issue, especially considering many whonix users upgrade via exit nodes?</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/33">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/33</link>
        <pubDate>Mon, 19 Dec 2016 00:45:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-33</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="28" data-topic="3288">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/958977/40.png" class="avatar"> eujan1:</div>
<blockquote>
<p>Is there anyway to verify non compromise yet for users who had already upgraded to version 1.0.9.8.4</p>
</blockquote>
</aside>
<p>Need to correct myself. As per <a href="https://lists.debian.org/debian-security/2016/12/msg00012.html">https://lists.debian.org/debian-security/2016/12/msg00012.html</a> actually might be.</p>
<p>If you remember running <code>apt-get update</code> and you remember it not taking unusually long, that is if it did take as long as to download a ~ 1.3 GB file, then chances are very good you have not been compromised.</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/32">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/32</link>
        <pubDate>Sun, 18 Dec 2016 15:47:52 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-32</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="30" data-topic="3288">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/958977/40.png" class="avatar"> eujan1:</div>
<blockquote>
<p>Would you consider looking for “suspiciously extra long lines” and finding none, a reasonable confirmation of not having been compromised?</p>
</blockquote>
</aside>
<p>No, because that is the first thing sophisticated malware would cover up after getting active on the system. And any attacker who exploited this vulnerability would certainly fit the definition of sophisticated.</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/31">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/31</link>
        <pubDate>Sun, 18 Dec 2016 12:21:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-31</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[eujan1]]></dc:creator>
        <description><![CDATA[
            <p>That’s what I was afraid of.</p>
<aside class="quote" data-post="29" data-topic="3288">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Is there anyway to verify non compromise yet for users who had already upgraded to version 1.0.9.8.4 other than looking for “suspiciously extra long lines”?</p>
<p>There is none. And there will very much likely none in the foreseeable future. This is due to the the nature of malware. Detailed explanation: <a href="https://www.whonix.org/wiki/Computer_Security_Education#Malware" rel="nofollow noopener">https://www.whonix.org/wiki/Computer_Security_Education#Malware</a></p>
</blockquote>
</aside>
<p>Would you consider looking for “suspiciously extra long lines” and finding none, a reasonable confirmation of not having been compromised?<br>
Following the directions, I didn’t see anything obviously suspicious.</p>
<p>Don’t believe I’m a target, just privacy conscious.<br>
Going to put you on the spot.  Sorry…<br>
If it were you, what would you do in this situation?</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/30">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/30</link>
        <pubDate>Sun, 18 Dec 2016 00:50:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-30</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="28" data-topic="3288">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/958977/40.png" class="avatar"> eujan1:</div>
<blockquote>
<p>Is there anyway to verify non compromise yet for users who had already upgraded to version 1.0.9.8.4 other than looking for “suspiciously extra long lines”?</p>
</blockquote>
</aside>
<p>There is none. And there will very much likely none in the foreseeable future. This is due to the the nature of malware. Detailed explanation:<br>
<a href="https://www.whonix.org/wiki/Computer_Security_Education#Malware">https://www.whonix.org/wiki/Computer_Security_Education#Malware</a></p>
<aside class="quote" data-post="28" data-topic="3288">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/958977/40.png" class="avatar"> eujan1:</div>
<blockquote>
<p>If not, how sure can one be of non compromise?</p>
</blockquote>
</aside>
<p>Practically, you cannot.</p>
<aside class="quote" data-post="28" data-topic="3288">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/958977/40.png" class="avatar"> eujan1:</div>
<blockquote>
<p>If running Qubes OS, could other VMs possibly be compromised?</p>
</blockquote>
</aside>
<p>If the attacker used this exploit and then also was smart enough to have another exploit against xen and used that, then yes, also other VMs could possibly be comprised</p>
<aside class="quote" data-post="28" data-topic="3288">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/958977/40.png" class="avatar"> eujan1:</div>
<blockquote>
<p>What is best recommendation for user already upgraded to version 1.0.9.8.4?</p>
</blockquote>
</aside>
<p>Nothing. That is being discussed here:<br>
<a href="https://forums.whonix.org/t/document-recovery-procedure-after-compromise">https://forums.whonix.org/t/document-recovery-procedure-after-compromise</a></p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/29">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/29</link>
        <pubDate>Sun, 18 Dec 2016 00:13:56 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-29</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[eujan1]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="11" data-topic="3288">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Why is it not necessary for upgraded users to manually verify and re-install?</p>
<p>It wouldn’t help to verify already upgraded users. It would be reasonable to assume, that the verification on the running system would show that everything is alright. If the system was compromised during a recent apt upgrade by a skilled adversary, then it would make a lot sense for the adversary the later install the non-comprised apt package and to hide as a rootkit elsewhere.</p>
<p>If considered compromised, a full compromise recovery procedure would be required. I don’t think we have documented a full compromise recovery procedure anywhere. Anyone know what I mean and can recommend a good link to some explanation of that?</p>
</blockquote>
</aside>
<aside class="quote" data-post="25" data-topic="3288" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Please review this alternative sanity check: <a href="https://www.whonix.org/wiki/CVE-2016-1252#Alternative_Check" rel="nofollow noopener">https://www.whonix.org/wiki/CVE-2016-1252#Alternative_Check</a></p>
</blockquote>
</aside>
<ol>
<li>
<p>Is there anyway to verify non compromise yet for users who had already upgraded to version 1.0.9.8.4 other than looking for “suspiciously extra long lines”?  If not, how sure can one be of non compromise?</p>
</li>
<li>
<p>If running Qubes OS, could other VMs possibly be compromised?</p>
</li>
<li>
<p>What is best recommendation for user already upgraded to version 1.0.9.8.4?</p>
</li>
</ol>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/28">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/28</link>
        <pubDate>Sat, 17 Dec 2016 23:39:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-28</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Thanks. Old workaround deprecated.</p>
<p><a href="https://www.whonix.org/wiki/CVE-2016-1252">https://www.whonix.org/wiki/CVE-2016-1252</a></p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/27">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/27</link>
        <pubDate>Sat, 17 Dec 2016 21:46:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-27</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<p>Just checked it. Works as well.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/26">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/26</link>
        <pubDate>Sat, 17 Dec 2016 20:47:27 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-26</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Please review this alternative sanity check:<br>
<a href="https://www.whonix.org/wiki/CVE-2016-1252#Alternative_Check">https://www.whonix.org/wiki/CVE-2016-1252#Alternative_Check</a></p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/25">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/25</link>
        <pubDate>Sat, 17 Dec 2016 13:59:38 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-25</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Very intersting response by an apt developer that I am going to study closer:<br>
<a href="https://lists.debian.org/debian-security/2016/12/msg00012.html" class="onebox" target="_blank">https://lists.debian.org/debian-security/2016/12/msg00012.html</a></p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/24">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/24</link>
        <pubDate>Sat, 17 Dec 2016 13:30:21 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-24</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>This bug is getting more and more obscure. <code>debootstrap</code>ing is no longer safe as Marek <a href="https://github.com/QubesOS/qubes-issues/issues/2520#issuecomment-267708006">pointed out</a>.</p>
<p>Asked on the debian-security mailing list about that. (My message has not yet appeared on <a href="https://lists.debian.org/debian-security/2016/12/threads.html#00002">debian-security mailing list archive</a> but you can read my message <a href="https://www.whonix.org/pipermail/whonix-devel/2016-December/000798.html">here</a>. Will keep you posted on replies.)</p>
<p>Translated into less obscure terms: no downloadable upgraded Qubes or Non-Qubes-Whonix templates can be created before a solution to this issue was found.</p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/23">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/23</link>
        <pubDate>Fri, 16 Dec 2016 22:49:16 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-23</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>TNT BOM BOM:</p>
<blockquote>
<p>i couldnt add the result in the forum because it exceeds 400000 character</p>
</blockquote>
<p>No need.</p>
<blockquote>
<p>but there non-free package updating ?</p>
</blockquote>
<p><a href="https://forums.whonix.org/t/adding-non-free-packages-by-default-is-it-safe">https://forums.whonix.org/t/adding-non-free-packages-by-default-is-it-safe</a></p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/22">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/22</link>
        <pubDate>Fri, 16 Dec 2016 21:32:00 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-22</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[TNT_BOM_BOM]]></dc:creator>
        <description><![CDATA[
            <p>i couldnt add the result in the forum because it exceeds 40000 character</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="//forums.whonix.org/uploads/default/original/1X/989a548842529f1f5678b309dd3879a6e31f4e03.png" data-download-href="//forums.whonix.org/uploads/default/989a548842529f1f5678b309dd3879a6e31f4e03" title="Screen.png"><img src="//forums.whonix.org/uploads/default/optimized/1X/989a548842529f1f5678b309dd3879a6e31f4e03_2_690x188.png" width="690" height="188" srcset="//forums.whonix.org/uploads/default/optimized/1X/989a548842529f1f5678b309dd3879a6e31f4e03_2_690x188.png, //forums.whonix.org/uploads/default/original/1X/989a548842529f1f5678b309dd3879a6e31f4e03.png 1.5x, //forums.whonix.org/uploads/default/original/1X/989a548842529f1f5678b309dd3879a6e31f4e03.png 2x" data-small-upload="//forums.whonix.org/uploads/default/optimized/1X/989a548842529f1f5678b309dd3879a6e31f4e03_2_10x10.png"></a></div><p></p>
<p>but there non-free package updating ? hmm thats weird</p>
<p>ok found the non-free packages , it came from debian.list which is found in ;-</p>
<p><code>/etc/apt/sources.list.d/debian.list</code></p>
<aside class="quote quote-modified" data-post="1" data-topic="3300">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/user_avatar/forums.whonix.org/tnt_bom_bom/40/1793_2.png" class="avatar">
    <a href="https://forums.whonix.org/t/adding-non-free-packages-by-default-is-it-safe/3300">adding non-free packages by default is it safe?</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/qubes-whonix"><span class="badge-category-bg" style="background-color: #63a0ff;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Everything specific to Qubes-Whonix. (devs)">Qubes-Whonix</span></a>
  </div>
  <blockquote>
    is it safe to allow non-free packages from source.list ? 
u can find that it is allowed by default if u go for example in whonix-workstation-template then:- 
nano /etc/apt/sources.list.d/debian.list 
[image] 
non-free added there by default (this is also by default in debian template) 

Edit by Patrick to add: 
Remove Whonix non-free,contrib in the repository 
<a href="https://phabricator.whonix.org/T874" class="onebox" target="_blank" rel="nofollow noopener">https://phabricator.whonix.org/T874</a>
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/21">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/21</link>
        <pubDate>Fri, 16 Dec 2016 20:32:18 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-21</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
      <item>
        <title>apt-get upgrading security issue CVE-2016-1252</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>emergency news proposal (features, mockup, test cases, security, communications, etc.) can be added here:<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://www.whonix.org/wiki/Dev/emergency-news" target="_blank" rel="nofollow noopener">Whonix</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/400;"><img src="https://www.whonix.org/w/images/c/cc/News-574739640.jpg" class="thumbnail"></div>

<h3><a href="https://www.whonix.org/wiki/Dev/emergency-news" target="_blank" rel="nofollow noopener">Dev/project-news</a></h3>

<p>project news</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
          <p><a href="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/20">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/20</link>
        <pubDate>Fri, 16 Dec 2016 19:17:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-3288-20</guid>
        <source url="http://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288.rss">apt-get upgrading security issue CVE-2016-1252</source>
      </item>
  </channel>
</rss>
