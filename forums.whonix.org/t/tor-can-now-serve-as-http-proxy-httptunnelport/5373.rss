<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Tor can now serve as http proxy - HTTPTunnelPort</title>
    <link>http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373</link>
    <description>According to https://www.torproject.org/docs/tor-manual.html.en Tor now supports `HTTPTunnelPort`, i.e. serving as an incoming http proxy, if I understand that right.

&gt; HTTPTunnelPort [address:]port|auto [isolation flags]

&gt; Open this port to listen for proxy connections using the &quot;HTTP CONNECT&quot; protocol instead of SOCKS. Set this to 0 0 if you don’t want to allow &quot;HTTP CONNECT&quot; connections. Set the port to &quot;auto&quot; to have Tor pick a port for you. This directive can be specified multiple times to bind to multiple addresses/ports. See SOCKSPort for an explanation of isolation flags. (Default: 0)

In past we&#39;ve run into a few issues where applications had http proxy support but not socks proxy support. In these cases one needed to involve privoxy or polipo as a http proxy to socks proxy translator, which is really cumbersome (and may not provide stream isolation if used more than one application using it at the same time).

Does anyone remember these use cases?

What new options will `HTTPTunnelPort` give us at Whonix?</description>
    <language>en</language>
    <lastBuildDate>Wed, 10 Aug 2022 10:01:17 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Tor can now serve as http proxy - HTTPTunnelPort</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote quote-modified" data-post="1" data-topic="14429">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/d/4bbf92/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/how-to-use-tor-httptunnelport-in-whonix-workstation/14429">How to use Tor HTTPTunnelPort in Whonix Workstation?</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/support/5"><span class="badge-category-bg" style="background-color: #8C6238;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="User support for the Whonix operating system. (devs)">Support</span></a>
  </div>
  <blockquote>
    I’ve read about HTTPTunnelPort in Stream isolation chapter. 
This seems a good alternative for apps that don’t support SOCKS natively - in addition to torsocks. 
So tried it out with curl as example (inside Workstation): 
curl.anondist-orig \
  -x http://$(qubesdb-read /qubes-gateway):9220 \
  https://check.torproject.org
# curl: (28) Failed to connect to 10.137.0.12 port 9220: 
# Connection timed out

Port 9220 should be open HTTPTunnelPort according to /usr/share/tor/tor-service-defaults-torrc…
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/9</link>
        <pubDate>Wed, 10 Aug 2022 10:01:17 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5373-9</guid>
        <source url="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373.rss">Tor can now serve as http proxy - HTTPTunnelPort</source>
      </item>
      <item>
        <title>Tor can now serve as http proxy - HTTPTunnelPort</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Was actually implemented.</p>
<p>In Non-Qubes-Whonix.</p>
<ul>
<li>IP: <code>10.152.152.10</code>
</li>
<li>port: <code>9190</code>
</li>
</ul>
<p>Qubes-Whonix: adjust IP of Whonix-Gateway.</p>
<p>For other ports and other stream isolation settings, see file <code>/usr/share/tor/tor-service-defaults-torrc</code>:</p>
<pre><code>cat /usr/share/tor/tor-service-defaults-torrc
</code></pre>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/Whonix/anon-gw-anonymizer-config/blob/master/usr/share/tor/tor-service-defaults-torrc.anondist#L321-L375" target="_blank" rel="noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/Whonix/anon-gw-anonymizer-config/blob/master/usr/share/tor/tor-service-defaults-torrc.anondist#L321-L375" target="_blank" rel="noopener">Whonix/anon-gw-anonymizer-config/blob/master/usr/share/tor/tor-service-defaults-torrc.anondist#L321-L375</a></h4>
<pre class="onebox"><code class="lang-anondist"><ol class="start lines" start="321" style="counter-reset: li-counter 320 ;">
<li>##############################</li><li># Workstation HTTPTunnelPort #</li><li>##############################</li><li></li><li># without IsolateDestAddr</li><li># without IsolateDestPort</li><li>HTTPTunnelPort 10.152.152.10:9190</li><li>HTTPTunnelPort 10.152.152.10:9191</li><li>HTTPTunnelPort 10.152.152.10:9192</li><li>HTTPTunnelPort 10.152.152.10:9193</li><li>HTTPTunnelPort 10.152.152.10:9194</li><li>HTTPTunnelPort 10.152.152.10:9195</li><li>HTTPTunnelPort 10.152.152.10:9196</li><li>HTTPTunnelPort 10.152.152.10:9197</li><li>HTTPTunnelPort 10.152.152.10:9198</li><li>HTTPTunnelPort 10.152.152.10:9199</li><li></li><li># with IsolateDestAddr</li><li># without IsolateDestPort</li><li>HTTPTunnelPort 10.152.152.10:9200 IsolateDestAddr</li>
</ol></code></pre>

  This file has been truncated. <a href="https://github.com/Whonix/anon-gw-anonymizer-config/blob/master/usr/share/tor/tor-service-defaults-torrc.anondist#L321-L375" target="_blank" rel="noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/8</link>
        <pubDate>Sun, 13 Dec 2020 16:48:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5373-8</guid>
        <source url="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373.rss">Tor can now serve as http proxy - HTTPTunnelPort</source>
      </item>
      <item>
        <title>Tor can now serve as http proxy - HTTPTunnelPort</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Previously due to lack of interest and activity and due to lack of practical use cases in this thread, no update planned.</p>
<p>Meanwhile you can add manually add <code>HTTPTunnelPort</code>'s to your Tor config file.</p>
<p><a href="https://www.whonix.org/wiki/Tor#Edit_Tor_Configuration" rel="nofollow noopener">https://www.whonix.org/wiki/Tor#Edit_Tor_Configuration</a></p>
          <p><a href="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/7</link>
        <pubDate>Fri, 15 Mar 2019 06:56:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5373-7</guid>
        <source url="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373.rss">Tor can now serve as http proxy - HTTPTunnelPort</source>
      </item>
      <item>
        <title>Tor can now serve as http proxy - HTTPTunnelPort</title>
        <dc:creator><![CDATA[bz3ipfptl2]]></dc:creator>
        <description><![CDATA[
            <p>hi patrick any update on this?</p>
<p>I am trying to use http proxies with an app that lets you split multiple protonmail accounts but they only accept http proxies</p>
          <p><a href="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/6</link>
        <pubDate>Fri, 15 Mar 2019 06:24:28 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5373-6</guid>
        <source url="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373.rss">Tor can now serve as http proxy - HTTPTunnelPort</source>
      </item>
      <item>
        <title>Tor can now serve as http proxy - HTTPTunnelPort</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Let’s provide a few [1] <code>HTTPTunnelPort</code>s by default for custom user use in case this gets relevant?</p>
<p>On the other hand, does Tor’s use of RAM increase in significance ways with each opened <code>SocksPort</code> / <code>HTTPTunnelPort</code> port?</p>
<hr>
<p>[1] Similar to the list of provided ports for use by users on <a href="https://www.whonix.org/wiki/Stream_Isolation#How_to_mitigate_identity_correlation">https://www.whonix.org/wiki/Stream_Isolation#How_to_mitigate_identity_correlation</a>.</p>
          <p><a href="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/5</link>
        <pubDate>Wed, 08 Aug 2018 08:06:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5373-5</guid>
        <source url="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373.rss">Tor can now serve as http proxy - HTTPTunnelPort</source>
      </item>
      <item>
        <title>Tor can now serve as http proxy - HTTPTunnelPort</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>No, if SocksPort is supported it is generally strongly preferred over http proxy.</p>
<p>(Except in theoretic cases we knew that SocksPort support is leaky while http proxy support is fine.)</p>
          <p><a href="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/4</link>
        <pubDate>Mon, 25 Jun 2018 16:26:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5373-4</guid>
        <source url="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373.rss">Tor can now serve as http proxy - HTTPTunnelPort</source>
      </item>
      <item>
        <title>Tor can now serve as http proxy - HTTPTunnelPort</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <p>No directly relevant mentions of HTTP torrification, however I noticed Gajim can use HTTP Connect. Does that change anything for the better in this case?</p>
          <p><a href="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/3</link>
        <pubDate>Mon, 25 Jun 2018 14:02:42 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5373-3</guid>
        <source url="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373.rss">Tor can now serve as http proxy - HTTPTunnelPort</source>
      </item>
      <item>
        <title>Tor can now serve as http proxy - HTTPTunnelPort</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="1" data-topic="5373">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_1.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Tor now supports <code>HTTPTunnelPort</code> , i.e. serving as an incoming http proxy, if I understand that right.</p>
</blockquote>
</aside>
<p>Yes indeed! This would make Tor more compatible with much more programs. I will try and search the forums for past mentions and report back.</p>
          <p><a href="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/2</link>
        <pubDate>Mon, 25 Jun 2018 13:42:28 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5373-2</guid>
        <source url="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373.rss">Tor can now serve as http proxy - HTTPTunnelPort</source>
      </item>
      <item>
        <title>Tor can now serve as http proxy - HTTPTunnelPort</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>According to <a href="https://www.torproject.org/docs/tor-manual.html.en" class="inline-onebox">How can we help? | Tor Project | Support</a> Tor now supports <code>HTTPTunnelPort</code>, i.e. serving as an incoming http proxy, if I understand that right.</p>
<blockquote>
<p>HTTPTunnelPort [address:]port|auto [isolation flags]</p>
</blockquote>
<blockquote>
<p>Open this port to listen for proxy connections using the “HTTP CONNECT” protocol instead of SOCKS. Set this to 0 0 if you don’t want to allow “HTTP CONNECT” connections. Set the port to “auto” to have Tor pick a port for you. This directive can be specified multiple times to bind to multiple addresses/ports. See SOCKSPort for an explanation of isolation flags. (Default: 0)</p>
</blockquote>
<p>In past we’ve run into a few issues where applications had http proxy support but not socks proxy support. In these cases one needed to involve privoxy or polipo as a http proxy to socks proxy translator, which is really cumbersome (and may not provide stream isolation if used more than one application using it at the same time).</p>
<p>Does anyone remember these use cases?</p>
<p>What new options will <code>HTTPTunnelPort</code> give us at Whonix?</p>
          <p><a href="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373/1</link>
        <pubDate>Mon, 25 Jun 2018 03:29:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-5373-1</guid>
        <source url="http://forums.whonix.org/t/tor-can-now-serve-as-http-proxy-httptunnelport/5373.rss">Tor can now serve as http proxy - HTTPTunnelPort</source>
      </item>
  </channel>
</rss>
