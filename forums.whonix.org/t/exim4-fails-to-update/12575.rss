<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Exim4 fails to update</title>
    <link>http://forums.whonix.org/t/exim4-fails-to-update/12575</link>
    <description>All of these issues are on gateway only. I have not been able to remove exim with purge as it produces the same error. These problems began after attempting to update my virtualbox install from Whonix 15 to 16. Any advice would be appreciated.

Thanks!

----- Begin Log -----

`&lt;pre&gt;user@host:~$ sudo apt upgrade
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Calculating upgrade... Done
The following packages have been kept back:
  grub-live
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
3 not fully installed or removed.
After this operation, 0 B of additional disk space will be used.
Do you want to continue? [Y/n] y
Setting up exim4-config (4.94.2-7) ...
/usr/sbin/update-exim4.conf: 467: /usr/sbin/exim4: Operation not permitted
Invalid new configfile /var/lib/exim4/config.autogenerated.tmp, not installing 
/var/lib/exim4/config.autogenerated.tmp to /var/lib/exim4/config.autogenerated
&lt;b&gt;dpkg:&lt;/b&gt; error processing package exim4-config (--configure):
 installed exim4-config package post-installation script subprocess returned error
 exit status 1
&lt;b&gt;dpkg:&lt;/b&gt; dependency problems prevent configuration of exim4-base:
 exim4-base depends on exim4-config (&amp;gt;= 4.94) | exim4-config-2; however:
  Package exim4-config is not configured yet.
  Package exim4-config-2 is not installed.
  Package exim4-config which provides exim4-config-2 is not configured yet.

&lt;b&gt;dpkg:&lt;/b&gt; error processing package exim4-base (--configure):
 dependency problems - leaving unconfigured
&lt;b&gt;dpkg:&lt;/b&gt; dependency problems prevent configuration of exim4-daemon-heavy:
 exim4-daemon-heavy depends on exim4-base (&amp;gt;= 4.94.2); however:
  Package exim4-base is not configured yet.

&lt;b&gt;dpkg:&lt;/b&gt; error processing package exim4-daemon-heavy (--configure):
 dependency problems - leaving unconfigured
Errors were encountered while processing:
 exim4-config
 exim4-base
 exim4-daemon-heavy
&lt;font color=&quot;#FF5555&quot;&gt;&lt;b&gt;E: &lt;/b&gt;&lt;/font&gt;Sub-process /usr/bin/dpkg returned an error code (1)
&lt;/pre&gt;`</description>
    <language>en</language>
    <lastBuildDate>Mon, 18 Oct 2021 12:48:26 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/exim4-fails-to-update/12575.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Exim4 fails to update</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="guavajuice" data-post="7" data-topic="12575">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/g/9e8a1a/40.png" class="avatar"> guavajuice:</div>
<blockquote>
<p>Also is Exim4 required?</p>
</blockquote>
</aside>
<p>At time of writing, no.</p>
<p>As soon as you made sure a meta package is installed as per <a href="https://www.whonix.org/wiki/Whonix_Debian_Packages" class="inline-onebox">Whonix Debian Packages - Whonix</a> there won’t be missing packages.</p>
<aside class="quote no-group" data-username="guavajuice" data-post="6" data-topic="12575">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/g/9e8a1a/40.png" class="avatar"> guavajuice:</div>
<blockquote>
<p>I might create another forum post asking how to fix systemcheck (command not found).</p>
</blockquote>
</aside>
<p>Same. Make sure a meta package is installed.</p>
          <p><a href="http://forums.whonix.org/t/exim4-fails-to-update/12575/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exim4-fails-to-update/12575/8</link>
        <pubDate>Mon, 18 Oct 2021 12:48:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12575-8</guid>
        <source url="http://forums.whonix.org/t/exim4-fails-to-update/12575.rss">Exim4 fails to update</source>
      </item>
      <item>
        <title>Exim4 fails to update</title>
        <dc:creator><![CDATA[guavajuice]]></dc:creator>
        <description><![CDATA[
            <p>Also is Exim4 required? I tried reinstalling it and got this message:</p>
<pre>user@host:~$ sudo apt install exim*
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Note, selecting 'exim4' for glob 'exim*'
Note, selecting 'exim-tls' for glob 'exim*'
Note, selecting 'eximon' for glob 'exim*'
Note, selecting 'exim' for glob 'exim*'
Note, selecting 'eximdoc4-html' for glob 'exim*'
Note, selecting 'exim4-config' for glob 'exim*'
Note, selecting 'exim4-dev' for glob 'exim*'
Note, selecting 'exim4-base' for glob 'exim*'
Note, selecting 'exim4-daemon-custom' for glob 'exim*'
Note, selecting 'eximdoc4-info' for glob 'exim*'
Note, selecting 'exim4-doc-html' for glob 'exim*'
Note, selecting 'exim4-config-2' for glob 'exim*'
Note, selecting 'exim4-doc-info' for glob 'exim*'
Note, selecting 'exim4-daemon-light' for glob 'exim*'
Note, selecting 'eximon4' for glob 'exim*'
Note, selecting 'exim4-daemon-heavy' for glob 'exim*'
Note, selecting 'exim4-localscanapi-4.1' for glob 'exim*'
Note, selecting 'exim4-config' instead of 'exim4-config-2'
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 exim4-daemon-heavy : Conflicts: mail-transport-agent
 exim4-daemon-light : Conflicts: mail-transport-agent
<b>E: </b>Unable to correct problems, you have held broken packages.
</pre>
          <p><a href="http://forums.whonix.org/t/exim4-fails-to-update/12575/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exim4-fails-to-update/12575/7</link>
        <pubDate>Sun, 17 Oct 2021 20:30:19 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12575-7</guid>
        <source url="http://forums.whonix.org/t/exim4-fails-to-update/12575.rss">Exim4 fails to update</source>
      </item>
      <item>
        <title>Exim4 fails to update</title>
        <dc:creator><![CDATA[guavajuice]]></dc:creator>
        <description><![CDATA[
            <p>That seems to have worked. I had ran the purge command before and it didn’t work at all. I had made sure to do as much research and troubleshooting as possible before I had contacted you guys. Thank you. I definitely should have created a backup for my gateway because the update from Whonix 15 to 16 was not smooth, and I’m still trying to figure out why my workstation can’t connect. I might create another forum post asking how to fix systemcheck (command not found).</p>
<p>Thanks again!</p>
<pre>user@host:~$sudo apt purge "exim*"<span>"</span>
[sudo] password for user:         
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Note, selecting 'exim4' for glob 'exim*'
Note, selecting 'exim-tls' for glob 'exim*'
Note, selecting 'eximon' for glob 'exim*'
Note, selecting 'exim' for glob 'exim*'
Note, selecting 'eximdoc4-html' for glob 'exim*'
Note, selecting 'exim4-config' for glob 'exim*'
Note, selecting 'exim4-dev' for glob 'exim*'
Note, selecting 'exim4-base' for glob 'exim*'
Note, selecting 'exim4-daemon-custom' for glob 'exim*'
Note, selecting 'eximdoc4-info' for glob 'exim*'
Note, selecting 'exim4-doc-html' for glob 'exim*'
Note, selecting 'exim4-config-2' for glob 'exim*'
Note, selecting 'exim4-doc-info' for glob 'exim*'
Note, selecting 'exim4-daemon-light' for glob 'exim*'
Note, selecting 'eximon4' for glob 'exim*'
Note, selecting 'exim4-daemon-heavy' for glob 'exim*'
Note, selecting 'exim4-localscanapi-4.1' for glob 'exim*'
Package 'exim4-daemon-custom' is not installed, so not removed
Note, selecting 'exim4-config' instead of 'exim4-config-2'
Package 'exim' is not installed, so not removed
Package 'exim-tls' is not installed, so not removed
Package 'eximon' is not installed, so not removed
Package 'eximdoc4-html' is not installed, so not removed
Package 'eximdoc4-info' is not installed, so not removed
Package 'exim4' is not installed, so not removed
Package 'exim4-daemon-light' is not installed, so not removed
Package 'exim4-dev' is not installed, so not removed
Package 'eximon4' is not installed, so not removed
Package 'exim4-doc-html' is not installed, so not removed
Package 'exim4-doc-info' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libgnutls-dane0 libpq5 libunbound8
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  exim4-base* exim4-config* exim4-daemon-heavy*
0 upgraded, 0 newly installed, 3 to remove and 1 not upgraded.
3 not fully installed or removed.
After this operation, 4,494 kB disk space will be freed.
Do you want to continue? [Y/n] y
(Reading database ... 131488 files and directories currently installed.)
Removing exim4-daemon-heavy (4.94.2-7) ...
Removing exim4-base (4.94.2-7) ...
Removing exim4-config (4.94.2-7) ...
Processing triggers for man-db (2.9.4-2) ...
(Reading database ... 131354 files and directories currently installed.)
Purging configuration files for exim4-base (4.94.2-7) ...
Purging configuration files for exim4-daemon-heavy (4.94.2-7) ...
Purging configuration files for exim4-config (4.94.2-7) ...
<b>dpkg-statoverride:</b> <b>warning:</b> no override present
<b>dpkg:</b> <b>warning:</b> while removing exim4-config, directory '/var/lib/exim4' not empty
 so not removed</pre>
          <p><a href="http://forums.whonix.org/t/exim4-fails-to-update/12575/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exim4-fails-to-update/12575/6</link>
        <pubDate>Sun, 17 Oct 2021 20:25:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12575-6</guid>
        <source url="http://forums.whonix.org/t/exim4-fails-to-update/12575.rss">Exim4 fails to update</source>
      </item>
      <item>
        <title>Exim4 fails to update</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Or try:</p>
<pre><code>sudo dpkg --force-all --purge "exim4-config"
</code></pre>
<p>And repeat for any other packages.</p>
<p>Until APT is back to a non-broken state. Make sure a meta package is installed.</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://www.whonix.org/w/images/favicon.ico" class="site-icon" width="16" height="16">

      <a href="https://www.whonix.org/wiki/Whonix_Debian_Packages" target="_blank" rel="noopener" title="11:04AM - 29 September 2021">Whonix – 29 Sep 21</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:131/106;"><img src="https://www.whonix.org/w/images/a/aa/Box-158523640.png" class="thumbnail" width="131" height="106"></div>

<h3><a href="https://www.whonix.org/wiki/Whonix_Debian_Packages" target="_blank" rel="noopener">Whonix Debian Packages</a></h3>

  <p>Which Whonix ™ Debian packages are safe to remove? What is a meta package? What other packages do Whonix ™ meta packages install? Which packages should never be removed?</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Don’t be discouraged by 1 failing command. The abstract task is “purge exim” and “repair APT”. You can switch back and forth between the two commands. Make good use of <a href="https://www.whonix.org/wiki/Unspecific" class="inline-onebox">Information Booster might be Available!</a></p>
          <p><a href="http://forums.whonix.org/t/exim4-fails-to-update/12575/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exim4-fails-to-update/12575/5</link>
        <pubDate>Sun, 17 Oct 2021 07:44:12 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12575-5</guid>
        <source url="http://forums.whonix.org/t/exim4-fails-to-update/12575.rss">Exim4 fails to update</source>
      </item>
      <item>
        <title>Exim4 fails to update</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="guavajuice" data-post="3" data-topic="12575">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/g/9e8a1a/40.png" class="avatar"> guavajuice:</div>
<blockquote>
<pre><code class="lang-auto">/usr/sbin/update-exim4.conf: 467: /usr/sbin/exim4: Operation not permitted
</code></pre>
</blockquote>
</aside>
<p><a href="https://www.whonix.org/wiki/Install_Software#--no-install-recommends"><code>--no-install-recommends</code></a> is functional - but only on a system without a broken APT state.</p>
<p><code>sudo apt-get install --no-install-recommends</code> isn’t a command in itself. It’s useful when installing packages.</p>
<p>Once exim or any package was half installed, you’re left with the broken APT state. Try:</p>
<pre><code>sudo apt purge "exim*"
</code></pre>
<p>Upstream issue. → <a href="https://www.whonix.org/wiki/Unspecific">Information Booster might be Available!</a></p>
          <p><a href="http://forums.whonix.org/t/exim4-fails-to-update/12575/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exim4-fails-to-update/12575/4</link>
        <pubDate>Sun, 17 Oct 2021 07:40:20 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12575-4</guid>
        <source url="http://forums.whonix.org/t/exim4-fails-to-update/12575.rss">Exim4 fails to update</source>
      </item>
      <item>
        <title>Exim4 fails to update</title>
        <dc:creator><![CDATA[guavajuice]]></dc:creator>
        <description><![CDATA[
            <p>Still doesn’t work.</p>
<pre>user@host:~$ sudo apt-get install --no-install-recommends
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
3 not fully installed or removed.
After this operation, 0 B of additional disk space will be used.
Setting up exim4-config (4.94.2-7) ...
/usr/sbin/update-exim4.conf: 467: /usr/sbin/exim4: Operation not permitted
Invalid new configfile /var/lib/exim4/config.autogenerated.tmp, not installing 
/var/lib/exim4/config.autogenerated.tmp to /var/lib/exim4/config.autogenerated
dpkg: error processing package exim4-config (--configure):
 installed exim4-config package post-installation script subprocess returned error exit status 1
dpkg: dependency problems prevent configuration of exim4-base:
 exim4-base depends on exim4-config (&gt;= 4.94) | exim4-config-2; however:
  Package exim4-config is not configured yet.
  Package exim4-config-2 is not installed.
  Package exim4-config which provides exim4-config-2 is not configured yet.

dpkg: error processing package exim4-base (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of exim4-daemon-heavy:
 exim4-daemon-heavy depends on exim4-base (&gt;= 4.94.2); however:
  Package exim4-base is not configured yet.

dpkg: error processing package exim4-daemon-heavy (--configure):
 dependency problems - leaving unconfigured
Errors were encountered while processing:
 exim4-config
 exim4-base
 exim4-daemon-heavy
E: Sub-process /usr/bin/dpkg returned an error code (1)
</pre>
          <p><a href="http://forums.whonix.org/t/exim4-fails-to-update/12575/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exim4-fails-to-update/12575/3</link>
        <pubDate>Sun, 17 Oct 2021 02:38:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12575-3</guid>
        <source url="http://forums.whonix.org/t/exim4-fails-to-update/12575.rss">Exim4 fails to update</source>
      </item>
      <item>
        <title>Exim4 fails to update</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Use <a href="https://www.whonix.org/wiki/Install_Software#--no-install-recommends"><code>--no-install-recommends</code></a></p>
<aside class="quote no-group" data-username="guavajuice" data-post="1" data-topic="12575">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/g/9e8a1a/40.png" class="avatar"> guavajuice:</div>
<blockquote>
<p>/usr/sbin/update-exim4.conf: 467: /usr/sbin/exim4: Operation not permitted</p>
</blockquote>
</aside>
<p>Upstream issue. → <a href="https://www.whonix.org/wiki/Unspecific" class="inline-onebox">Information Booster might be Available!</a></p>
          <p><a href="http://forums.whonix.org/t/exim4-fails-to-update/12575/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exim4-fails-to-update/12575/2</link>
        <pubDate>Fri, 15 Oct 2021 15:57:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12575-2</guid>
        <source url="http://forums.whonix.org/t/exim4-fails-to-update/12575.rss">Exim4 fails to update</source>
      </item>
      <item>
        <title>Exim4 fails to update</title>
        <dc:creator><![CDATA[guavajuice]]></dc:creator>
        <description><![CDATA[
            <p>All of these issues are on gateway only. I have not been able to remove exim with purge as it produces the same error. These problems began after attempting to update my virtualbox install from Whonix 15 to 16. Any advice would be appreciated.</p>
<p>Thanks!</p>
<p>----- Begin Log -----</p>
<p>`</p><pre>user@host:~$ sudo apt upgrade<br>
Reading package lists… Done<br>
Building dependency tree… Done<br>
Reading state information… Done<br>
Calculating upgrade… Done<br>
The following packages have been kept back:<br>
grub-live<br>
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.<br>
3 not fully installed or removed.<br>
After this operation, 0 B of additional disk space will be used.<br>
Do you want to continue? [Y/n] y<br>
Setting up exim4-config (4.94.2-7) …<br>
/usr/sbin/update-exim4.conf: 467: /usr/sbin/exim4: Operation not permitted<br>
Invalid new configfile /var/lib/exim4/config.autogenerated.tmp, not installing<br>
/var/lib/exim4/config.autogenerated.tmp to /var/lib/exim4/config.autogenerated<br>
<b>dpkg:</b> error processing package exim4-config (–configure):<br>
installed exim4-config package post-installation script subprocess returned error<br>
exit status 1<br>
<b>dpkg:</b> dependency problems prevent configuration of exim4-base:<br>
exim4-base depends on exim4-config (&gt;= 4.94) | exim4-config-2; however:<br>
Package exim4-config is not configured yet.<br>
Package exim4-config-2 is not installed.<br>
Package exim4-config which provides exim4-config-2 is not configured yet.<p></p>
<p><b>dpkg:</b> error processing package exim4-base (–configure):<br>
dependency problems - leaving unconfigured<br>
<b>dpkg:</b> dependency problems prevent configuration of exim4-daemon-heavy:<br>
exim4-daemon-heavy depends on exim4-base (&gt;= 4.94.2); however:<br>
Package exim4-base is not configured yet.</p>
<p><b>dpkg:</b> error processing package exim4-daemon-heavy (–configure):<br>
dependency problems - leaving unconfigured<br>
Errors were encountered while processing:<br>
exim4-config<br>
exim4-base<br>
exim4-daemon-heavy<br>
<b>E: </b>Sub-process /usr/bin/dpkg returned an error code (1)<br>
</p></pre>`<p></p>
          <p><a href="http://forums.whonix.org/t/exim4-fails-to-update/12575/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/exim4-fails-to-update/12575/1</link>
        <pubDate>Fri, 15 Oct 2021 07:39:08 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-12575-1</guid>
        <source url="http://forums.whonix.org/t/exim4-fails-to-update/12575.rss">Exim4 fails to update</source>
      </item>
  </channel>
</rss>
