<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Derivative Maker Automated CI Builder - Development - Whonix Forum</title>
    <meta name="description" content="Per request of @Patrick , I created a CI integration for the derivative-maker repository. 

What it does
This tool runs a Github Actions workflow when a commit is pushed. 
The workflow runs an automation suite on a rem&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="144684658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Derivative Maker Automated CI Builder&#39;" href="14468.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/derivative-maker-automated-ci-builder/14468?page=2" />
<meta name="twitter:url" content="https://forums.whonix.org/t/derivative-maker-automated-ci-builder/14468?page=2" />
<meta property="og:title" content="Derivative Maker Automated CI Builder" />
<meta name="twitter:title" content="Derivative Maker Automated CI Builder" />
<meta property="og:description" content="Is there some sort of protection from too many commits? I keep committing whenever useful. Preferring many small change over a big change. That could result in overwhelming the server with too many builds which ‚Äúnever‚Äù finish. Perhaps would be sufficient to build newer git tags only? Because also nowadays when I create a tag I either do so because there wasn‚Äôt a tag in a while and it seems worthwhile to ‚Äúsummarize‚Äù git with a new tag or because I intend to build that version (manually, not great..." />
<meta name="twitter:description" content="Is there some sort of protection from too many commits? I keep committing whenever useful. Preferring many small change over a big change. That could result in overwhelming the server with too many builds which ‚Äúnever‚Äù finish. Perhaps would be sufficient to build newer git tags only? Because also nowadays when I create a tag I either do so because there wasn‚Äôt a tag in a while and it seems worthwhile to ‚Äúsummarize‚Äù git with a new tag or because I intend to build that version (manually, not great..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="35 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="90 ‚ù§" />
<meta property="article:published_time" content="2022-08-22T10:27:57+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="14468.html">
        <link rel="next" href="144689ba9.html?page=3">

    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="14468.html">Derivative Maker Automated CI Builder</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-22T10:27:57Z' class='post-time'>
                August 22, 2022, 10:27am
              </time>
              <meta itemprop='dateModified' content='2022-08-22T10:27:57Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Is there some sort of protection from too many commits? I keep committing whenever useful. Preferring many small change over a big change. That could result in overwhelming the server with too many builds which ‚Äúnever‚Äù finish. Perhaps would be sufficient to build newer git tags only? Because also nowadays when I create a tag I either do so because there wasn‚Äôt a tag in a while and it seems worthwhile to ‚Äúsummarize‚Äù git with a new tag or because I intend to build that version (manually, not great).</p>
<p>(Sometimes I quickly create another tag because something else that can be improved comes to mind but there‚Äôs less ‚Äúgit tag spam‚Äù than ‚Äúgit commit spam‚Äù.)</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-22T11:34:35Z' class='post-time'>
                August 22, 2022, 11:34am
              </time>
              <meta itemprop='dateModified' content='2022-08-22T11:34:35Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="20" data-topic="14468">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>This is fixed in <code>16.0.6.7-developers-only</code>.</p>
</blockquote>
</aside>
<p>Build succeeded.</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-22T14:14:18Z' class='post-time'>
                August 22, 2022,  2:14pm
              </time>
              <meta itemprop='dateModified' content='2022-08-22T14:14:18Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="21" data-topic="14468">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Is there some sort of protection from too many commits? I keep committing whenever useful.</p>
</blockquote>
</aside>
<p>I can switch it to build whenever a new tag is released. I am going to keep it as commits for now on my fork, so I can troubleshoot as I work. But once we get it in to the upstream main, I will switch it to build new tags only.</p>
<p>In the meanwhile, building on commits is fine because they don‚Äôt run in parrallel. If you were to make a whole lot of commits, like 20 an hour, it would create a long line of jobs but the server shouldnt crash or anything.</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-22T14:16:59Z' class='post-time'>
                August 22, 2022,  2:16pm
              </time>
              <meta itemprop='dateModified' content='2022-08-22T14:24:39Z'>
          <span itemprop='position'>#24</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The upside I see to building it on commits is when we get WATS integrated or if you are troubleshooting a build</p>
<p>something like</p>
<ul>
<li>push commit</li>
<li>CI triggers build on VPS</li>
<li>See if build is successful</li>
<li>Run automated test suite</li>
<li>VNC in to the whonix VMs and poke around if necessary</li>
<li>Create tag if all above criteria pass</li>
</ul>
<p>My thought is that it could be useful for you to know everything is groovy before you tag, without having to check it all manually.</p>
<p>IMO it should create builds for both new tags and new commits</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-22T14:21:40Z' class='post-time'>
                August 22, 2022,  2:21pm
              </time>
              <meta itemprop='dateModified' content='2022-08-22T14:24:02Z'>
          <span itemprop='position'>#25</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I will have an S3 bucket that the OVAs will be pushed to, in organized folders</p>
<p>Something like</p>
<pre><code class="lang-auto">builds/
‚îú‚îÄ‚îÄ commits
‚îÇ   ‚îî‚îÄ‚îÄ 3d69f4b
‚îÇ       ‚îú‚îÄ‚îÄ 3d69f4b-gateway-vm.ova
‚îÇ       ‚îî‚îÄ‚îÄ 3d69f4b-workstation-vm.ova
‚îî‚îÄ‚îÄ tags
    ‚îî‚îÄ‚îÄ 16.0.6.7-developers-only
        ‚îú‚îÄ‚îÄ 16.0.6.7-developers-only-gateway-vm.ova
        ‚îî‚îÄ‚îÄ 16.0.6.7-workstation-vm.ova

</code></pre>
<p>I will of course give you login credentials to the bucket. I can give you login credentials to the server too, although I would like to build this in a way where you dont even have to think about the server beyond knowing it exists and is working for you behind the scenes</p>
<p>I will likely set it up to clear the commits folder pretty regularly (once a week or something) so that it doesnt get too huge with images, but I will try to set it up to always keep the last 5 tags or something in storage</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-22T14:56:05Z' class='post-time'>
                August 22, 2022,  2:56pm
              </time>
              <meta itemprop='dateModified' content='2022-08-22T15:19:22Z'>
          <span itemprop='position'>#26</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The good news <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> is that the non interactive build works now with passwordless sudo</p>
<p>The bad news is new strange failures,  which can be viewed in <code>build.log</code></p>
<p><a href="../../../external.html?link=https://github.com/Mycobee/derivative-maker/suites/7923343518/artifacts/337649067" rel="noopener nofollow ugc">logs</a></p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-22T19:13:10Z' class='post-time'>
                August 22, 2022,  7:13pm
              </time>
              <meta itemprop='dateModified' content='2022-08-22T19:13:10Z'>
          <span itemprop='position'>#27</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>As for the git commits and git tags that sounds really good!</p>
<aside class="quote no-group" data-username="bee" data-post="26" data-topic="14468">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/bee/40/2338_2.png" class="avatar"> bee:</div>
<blockquote>
<p>logs</p>
</blockquote>
</aside>
<p>That is really weird indeed.</p>
<blockquote>
<p>DEBUG manual reproduction:<br>
cd /home/ansible/derivative-maker/packages/kicksecure/monero-gui<br>
DEBUG manual reproduction:<br>
find ‚Äò.‚Äô -not -path ‚Äò<em>/.git/</em>‚Äô -not -path ‚Äò<em>/.git‚Äô -not -name ‚Äò.gitignore‚Äô -not -path './debian</em>‚Äô -print0 | tar --null --no-recursion --create --owner=0 --group=0 --numeric-owner --mode=go=rX,u+rw,a-s --sort=name --mtime=‚Äò2015-10-21 00:00Z‚Äô --xz --file=‚Äô/home/ansible/derivative-binary/genmkfile-packages-result/monero-gui_0.18.0.0.0.orig.tar.xz‚Äô -T -</p>
<p>Killed<br>
tar: /home/ansible/derivative-binary/genmkfile-packages-result/monero-gui_0.18.0.0.0.orig.tar.xz: Cannot write: Broken pipe</p>
</blockquote>
<p>A standard Linux command if failing. Getting killed by something other than derivative-maker. Which then breaks the build. To manually reproduce‚Ä¶</p>
<ol>
<li>
</li>
</ol>
<pre><code>mkdir -p /home/ansible/derivative-binary/genmkfile-packages-result
</code></pre>
<ol start="2">
<li>
</li>
</ol>
<pre><code>cd /home/ansible/derivative-maker/packages/kicksecure/monero-gui
</code></pre>
<ol start="3">
<li>
</li>
</ol>
<pre><code>find '.' -not -path '*/\.git/*' -not -path '*/\.git' -not -name '.gitignore' -not -path './debian*' -print0 | tar --null --no-recursion --create --owner=0 --group=0 --numeric-owner --mode=go=rX,u+rw,a-s --sort=name --mtime='2015-10-21 00:00Z' --xz --file='/home/ansible/derivative-binary/genmkfile-packages-result/monero-gui_0.18.0.0.0.orig.tar.xz' -T -
</code></pre>
<p>Does the issue still happen when trying this manually? What could be killing the process? Something that if there is too much system load, kills the process? A low RAM issue might be the most likely cause?</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-22T21:17:10Z' class='post-time'>
                August 22, 2022,  9:17pm
              </time>
              <meta itemprop='dateModified' content='2022-08-22T21:17:10Z'>
          <span itemprop='position'>#28</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I think you were right about the RAM. I added some resources and think I got past that error. Now I am seeing a new one.</p>
<p>Thank you for your patience. I am not very familiar with how these builds work. I think we are getting close <img src="../../images/emoji/twitter/slight_smilee5bf.png?v=12" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>See build.log again for new issues<br>
<a href="../../../external.html?link=https://github.com/Mycobee/derivative-maker/suites/7923343518/artifacts/338014284" class="onebox" target="_blank" rel="noopener nofollow ugc">https://github.com/Mycobee/derivative-maker/suites/7923343518/artifacts/338014284</a></p>
<pre><code class="lang-auto">INFO: Script running as as non-root, ok.
INFO: Running 'sudo --non-interactive test -d /usr' to test if sudo password entry prompt is needed...
sudo: unable to resolve host host: No address associated with hostname
INFO: sudo password already previously cached (entered) or this system has passwordless sudo, ok.
INFO: root_check ok.
/home/ansible/derivative-maker/help-steps/pre INFO: set -x
++ true '/home/ansible/derivative-maker/help-steps/pre INFO: End of script, ok.'
+ source /home/ansible/derivative-maker/help-steps/colors
++ '[' '!' true = true ']'
+ source /home/ansible/derivative-maker/help-steps/variables
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: begin'
++ '[' '!' '' = true ']'
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: dist_build_no_unset_xtrace is not yet to true. Therefore set +x.'
++ set +x
sudo: unable to resolve host host: No address associated with hostname
INFO: Setting... export UWT_DEV_PASSTHROUGH="1"
INFO: Variable dist_build_version was already set to: 4edaa2e08373519cf5e24c0b76e76f04d2b69d93
sudo: unable to resolve host host: No address associated with hostname
/home/ansible/derivative-maker/help-steps/variables INFO: set -x
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: End of script, ok.'
+ main
+ trap error_handler_unchroot-raw ERR INT TERM
+ sync
+ '[' 0 = 1 ']'
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/dev/pts
sudo: unable to resolve host host: No address associated with hostname
umount: /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/dev/pts: no mount point specified.
+ true
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/dev
sudo: unable to resolve host host: No address associated with hostname
umount: /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/dev: no mount point specified.
+ true
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/proc
sudo: unable to resolve host host: No address associated with hostname
umount: /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/proc: no mount point specified.
+ true
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/sys
sudo: unable to resolve host host: No address associated with hostname
umount: /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/sys: no mount point specified.
+ true
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/usr/bin/udevadm
sudo: unable to resolve host host: No address associated with hostname
umount: /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/usr/bin/udevadm: no mount point specified.
+ true
+ sudo --non-interactive rm --force /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/usr/bin/udevadm
sudo: unable to resolve host host: No address associated with hostname
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image//mnt/initialdeb
sudo: unable to resolve host host: No address associated with hostname
umount: /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image//mnt/initialdeb: no mount point specified.
+ true
+ sudo --non-interactive rmdir --ignore-fail-on-non-empty /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image//mnt/initialdeb
sudo: unable to resolve host host: No address associated with hostname
rmdir: failed to remove '/home/ansible/derivative-binary/Whonix-Gateway-XFCE_image//mnt/initialdeb': No such file or directory
+ true
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/etc/resolv.conf
sudo: unable to resolve host host: No address associated with hostname
umount: /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/etc/resolv.conf: no mount point specified.
+ true
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/etc/hosts
sudo: unable to resolve host host: No address associated with hostname
umount: /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/etc/hosts: no mount point specified.
+ true
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/etc/hostname
sudo: unable to resolve host host: No address associated with hostname
umount: /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/etc/hostname: no mount point specified.
+ true
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/etc/network/interfaces
sudo: unable to resolve host host: No address associated with hostname
umount: /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/etc/network/interfaces: no mount point specified.
+ true
+ '[' 0 = 1 ']'
+ sudo --non-interactive /home/ansible/derivative-maker/help-steps/umount_kill.sh /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/
sudo: unable to resolve host host: No address associated with hostname
-&gt; Attempting to kill any processes still running in '/home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/' before un-mounting
+ sync
+ exithandler
+ local exit_code=0
+ '[' '!' 0 = 0 ']'
++ benchmarktimeend 1661202575
+++ date +%s
++ benchmarktimeend=1661202575
++ benchmark_took_seconds=0
+++ convertsecs 0
+++ local h m s
+++ (( h=0/3600 ))
+++ true
+++ (( m=(0%3600)/60 ))
+++ true
+++ (( s=0%60 ))
+++ true
+++ printf '%02d:%02d:%02d\n' 0 0 0
++ echo 00:00:00
+ benchmark_took_time=00:00:00
+ output_cmd_set
+ '[' -o xtrace ']'
+ output_cmd=true
+ '[' 0 = 0 ']'
+ true 'INFO: End of: /home/ansible/derivative-maker/help-steps/unchroot-raw | exit_code: 0 | error(s) detected: 0 | benchmark: 00:00:00'
+ exit 0
++ /home/ansible/derivative-maker/help-steps/unprevent-daemons-from-starting
+ set -e
+ true 'INFO: Currently running script: /home/ansible/derivative-maker/help-steps/unprevent-daemons-from-starting '
+++ dirname /home/ansible/derivative-maker/help-steps/unprevent-daemons-from-starting
++ cd /home/ansible/derivative-maker/help-steps
++ pwd
+ MYDIR=/home/ansible/derivative-maker/help-steps
+ source /home/ansible/derivative-maker/help-steps/pre
++ true '/home/ansible/derivative-maker/help-steps/pre INFO: begin'
++ '[' '!' '' = true ']'
++ true '/home/ansible/derivative-maker/help-steps/pre INFO: dist_build_no_unset_xtrace is not yet to true. Therefore set +x.'
++ set +x
INFO: Script running as as non-root, ok.
INFO: Running 'sudo --non-interactive test -d /usr' to test if sudo password entry prompt is needed...
sudo: unable to resolve host host: No address associated with hostname
INFO: sudo password already previously cached (entered) or this system has passwordless sudo, ok.
INFO: root_check ok.
/home/ansible/derivative-maker/help-steps/pre INFO: set -x
++ true '/home/ansible/derivative-maker/help-steps/pre INFO: End of script, ok.'
+ source /home/ansible/derivative-maker/help-steps/colors
++ '[' '!' true = true ']'
+ source /home/ansible/derivative-maker/help-steps/variables
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: begin'
++ '[' '!' '' = true ']'
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: dist_build_no_unset_xtrace is not yet to true. Therefore set +x.'
++ set +x
sudo: unable to resolve host host: No address associated with hostname
INFO: Setting... export UWT_DEV_PASSTHROUGH="1"
INFO: Variable dist_build_version was already set to: 4edaa2e08373519cf5e24c0b76e76f04d2b69d93
sudo: unable to resolve host host: No address associated with hostname
/home/ansible/derivative-maker/help-steps/variables INFO: set -x
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: End of script, ok.'
+ main
+ sync
+ sudo --non-interactive rm --verbose --force /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/usr/sbin/policy-rc.d
sudo: unable to resolve host host: No address associated with hostname
+ sync
+ exithandler
+ local exit_code=0
+ '[' '!' 0 = 0 ']'
++ benchmarktimeend 1661202575
+++ date +%s
++ benchmarktimeend=1661202576
++ benchmark_took_seconds=1
+++ convertsecs 1
+++ local h m s
+++ (( h=1/3600 ))
+++ true
+++ (( m=(1%3600)/60 ))
+++ true
+++ (( s=1%60 ))
+++ printf '%02d:%02d:%02d\n' 0 0 1
++ echo 00:00:01
+ benchmark_took_time=00:00:01
+ output_cmd_set
+ '[' -o xtrace ']'
+ output_cmd=true
+ '[' 0 = 0 ']'
+ true 'INFO: End of: /home/ansible/derivative-maker/help-steps/unprevent-daemons-from-starting | exit_code: 0 | error(s) detected: 0 | benchmark: 00:00:01'
+ exit 0
++ /home/ansible/derivative-maker/help-steps/unmount-raw
+ set -e
+ true 'INFO: Currently running script: /home/ansible/derivative-maker/help-steps/unmount-raw '
+++ dirname /home/ansible/derivative-maker/help-steps/unmount-raw
++ cd /home/ansible/derivative-maker/help-steps
++ pwd
+ MYDIR=/home/ansible/derivative-maker/help-steps
+ source /home/ansible/derivative-maker/help-steps/pre
++ true '/home/ansible/derivative-maker/help-steps/pre INFO: begin'
++ '[' '!' '' = true ']'
++ true '/home/ansible/derivative-maker/help-steps/pre INFO: dist_build_no_unset_xtrace is not yet to true. Therefore set +x.'
++ set +x
INFO: Script running as as non-root, ok.
INFO: Running 'sudo --non-interactive test -d /usr' to test if sudo password entry prompt is needed...
sudo: unable to resolve host host: No address associated with hostname
INFO: sudo password already previously cached (entered) or this system has passwordless sudo, ok.
INFO: root_check ok.
/home/ansible/derivative-maker/help-steps/pre INFO: set -x
++ true '/home/ansible/derivative-maker/help-steps/pre INFO: End of script, ok.'
+ source /home/ansible/derivative-maker/help-steps/colors
++ '[' '!' true = true ']'
+ source /home/ansible/derivative-maker/help-steps/variables
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: begin'
++ '[' '!' '' = true ']'
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: dist_build_no_unset_xtrace is not yet to true. Therefore set +x.'
++ set +x
sudo: unable to resolve host host: No address associated with hostname
INFO: Setting... export UWT_DEV_PASSTHROUGH="1"
INFO: Variable dist_build_version was already set to: 4edaa2e08373519cf5e24c0b76e76f04d2b69d93
sudo: unable to resolve host host: No address associated with hostname
/home/ansible/derivative-maker/help-steps/variables INFO: set -x
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: End of script, ok.'
+ main
+ '[' 0 = 1 ']'
+ unmount_raw
+ trap errorhandlerunmount-raw ERR INT TERM
+ '[' '' = '' ']'
+ true
+ sync
+ sudo --non-interactive /home/ansible/derivative-maker/help-steps/umount_kill.sh /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/
sudo: unable to resolve host host: No address associated with hostname
-&gt; Attempting to kill any processes still running in '/home/ansible/derivative-binary/Whonix-Gateway-XFCE_image/' before un-mounting
+ sync
+ wait 205274
+ sleep 2
+ sync
+ '[' '' = true ']'
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image
sudo: unable to resolve host host: No address associated with hostname
umount: /home/ansible/derivative-binary/Whonix-Gateway-XFCE_image: not mounted.
++ errorhandlerunmount-raw
+++ caller
++ true 'BASH_COMMAND: $SUDO_TO_ROOT umount "$CHROOT_FOLDER"
ERROR /home/ansible/derivative-maker/help-steps/unmount-raw: | caller: 52 /home/ansible/derivative-maker/help-steps/unmount-raw'
++ exit 1
+ exithandler
+ local exit_code=1
+ '[' '!' 1 = 0 ']'
+ exit 1
++ errorhandlermaybeexit ERR
++ '[' '' = true ']'
++ '[' false = true ']'
++ abort_or_continue=Aborted
++ rm --force /etc/apt/sources.list.d/whonix_temp.list
++ rm --force /run/package_manager_lock
++ '[' false = true ']'
++ '[' ERR = INT ']'
++ '[' ERR = TERM ']'
++ trap - EXIT
++ true 'INFO: Now exiting from ././build-steps.d/2300_run-chroot-scripts-post-d (because error was detected, see above) with exit code 1.'
++ exit 1
++ error_handler_dist_build_one
++ true 'ERROR in /home/ansible/derivative-maker/derivative-maker'
++ true 'BASH_COMMAND: "./$dist_build_one_build_step_current"'
++ true 'dist_build_one_build_step_current: ./build-steps.d/2300_run-chroot-scripts-post-d'
++ true 'args: --flavor whonix-gateway-xfce --target virtualbox --build'
++ true 'INFO: Now exiting from /home/ansible/derivative-maker/derivative-maker (because error was detected, see above).'
++ exit 1
+ exithandler
+ local exit_code=1
+ '[' '!' 1 = 0 ']'
+ exit 1
</code></pre>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-22T21:18:54Z' class='post-time'>
                August 22, 2022,  9:18pm
              </time>
              <meta itemprop='dateModified' content='2022-08-22T21:18:54Z'>
          <span itemprop='position'>#29</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="bee" data-post="28" data-topic="14468">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/bee/40/2338_2.png" class="avatar"> bee:</div>
<blockquote>
<pre><code class="lang-auto">sudo: unable to resolve host host: No address associated with hostname
</code></pre>
</blockquote>
</aside>
<p>I am pretty sure this is the issue, and can be resolved with <code>/etc/hostname</code> but not sure what it should be named for these whonix builds</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-22T23:15:11Z' class='post-time'>
                August 22, 2022, 11:15pm
              </time>
              <meta itemprop='dateModified' content='2022-08-22T23:15:11Z'>
          <span itemprop='position'>#30</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I got past the above errors by adding the following line to <code>/etc/hosts</code></p>
<pre><code class="lang-auto">127.0.0.1 localhost host
</code></pre>
<p>New errors below. <a href="../../../external.html?link=https://github.com/Mycobee/derivative-maker/suites/7923343518/artifacts/338102810" rel="noopener nofollow ugc">logs</a></p>
<pre><code class="lang-auto">INFO: Script running as as non-root, ok.
INFO: Running 'sudo --non-interactive test -d /usr' to test if sudo password entry prompt is needed...
INFO: sudo password already previously cached (entered) or this system has passwordless sudo, ok.
INFO: root_check ok.
/home/ansible/derivative-maker/help-steps/pre INFO: set -x
++ true '/home/ansible/derivative-maker/help-steps/pre INFO: End of script, ok.'
+ source /home/ansible/derivative-maker/help-steps/colors
++ '[' '!' true = true ']'
+ source /home/ansible/derivative-maker/help-steps/variables
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: begin'
++ '[' '!' '' = true ']'
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: dist_build_no_unset_xtrace is not yet to true. Therefore set +x.'
++ set +x
INFO: Setting... export UWT_DEV_PASSTHROUGH="1"
INFO: Variable dist_build_version was already set to: 4edaa2e08373519cf5e24c0b76e76f04d2b69d93
/home/ansible/derivative-maker/help-steps/variables INFO: set -x
++ true '/home/ansible/derivative-maker/help-steps/variables INFO: End of script, ok.'
+ main
+ '[' 0 = 1 ']'
+ unmount_raw
+ trap errorhandlerunmount-raw ERR INT TERM
+ '[' '' = '' ']'
+ true
+ sync
+ sudo --non-interactive /home/ansible/derivative-maker/help-steps/umount_kill.sh /home/ansible/derivative-binary/Whonix-Workstation-XFCE_image/
-&gt; Attempting to kill any processes still running in '/home/ansible/derivative-binary/Whonix-Workstation-XFCE_image/' before un-mounting
+ sync
+ wait 612712
+ sleep 2
+ sync
+ '[' '' = true ']'
+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Workstation-XFCE_image
+ sync
+ '[' '' = '' ']'
+ local img=/home/ansible/derivative-binary/4edaa2e08373519cf5e24c0b76e76f04d2b69d93/Whonix-Workstation-XFCE-4edaa2e08373519cf5e24c0b76e76f04d2b69d93.Intel_AMD64.raw
+ wait 612717
+ sleep 2
+ sync
+ sudo --non-interactive losetup --all
/dev/loop0: [65025]:274308 (/home/ansible/derivative-binary/4edaa2e08373519cf5e24c0b76e76f04d2b69d93/Whonix-Workstation-XFCE-4edaa2e08373519cf5e24c0b76e76f04d2b69d93.Intel_AMD64.raw)
+ sync
+ sudo --non-interactive kpartx -d -s -v /home/ansible/derivative-binary/4edaa2e08373519cf5e24c0b76e76f04d2b69d93/Whonix-Workstation-XFCE-4edaa2e08373519cf5e24c0b76e76f04d2b69d93.Intel_AMD64.raw
loop deleted : /dev/loop0
del devmap : loop0p1
+ sync
+ sudo --non-interactive losetup --all
+ sync
+ '[' '' = true ']'
+ ls -la /home/ansible/derivative-binary/Whonix-Workstation-XFCE_image
total 8
drwxr-xr-x 2 ansible ansible 4096 Aug 22 22:57 .
drwxr-xr-x 8 ansible ansible 4096 Aug 22 23:06 ..
+ '[' '' = true ']'
+ sudo --non-interactive rmdir /home/ansible/derivative-binary/Whonix-Workstation-XFCE_image
+ sync
+ exithandler
+ local exit_code=0
+ '[' '!' 0 = 0 ']'
++ benchmarktimeend 1661209563
+++ date +%s
++ benchmarktimeend=1661209568
++ benchmark_took_seconds=5
+++ convertsecs 5
+++ local h m s
+++ (( h=5/3600 ))
+++ true
+++ (( m=(5%3600)/60 ))
+++ true
+++ (( s=5%60 ))
+++ printf '%02d:%02d:%02d\n' 0 0 5
++ echo 00:00:05
+ benchmark_took_time=00:00:05
+ output_cmd_set
+ '[' -o xtrace ']'
+ output_cmd=true
+ '[' 0 = 0 ']'
+ true 'INFO: End of: /home/ansible/derivative-maker/help-steps/unmount-raw | exit_code: 0 | error(s) detected: 0 | benchmark: 00:00:05'
+ exit 0
++ errorhandlermaybeexit ERR
++ '[' '' = true ']'
++ '[' false = true ']'
++ abort_or_continue=Aborted
++ rm --force /etc/apt/sources.list.d/whonix_temp.list
++ rm --force /run/package_manager_lock
++ '[' false = true ']'
++ '[' ERR = INT ']'
++ '[' ERR = TERM ']'
++ trap - EXIT
++ true 'INFO: Now exiting from ././build-steps.d/1700_install-packages (because error was detected, see above) with exit code 1.'
++ exit 1
++ error_handler_dist_build_one
++ true 'ERROR in /home/ansible/derivative-maker/derivative-maker'
++ true 'BASH_COMMAND: "./$dist_build_one_build_step_current"'
++ true 'dist_build_one_build_step_current: ./build-steps.d/1700_install-packages'
++ true 'args: --flavor whonix-workstation-xfce --target virtualbox --build'
++ true 'INFO: Now exiting from /home/ansible/derivative-maker/derivative-maker (because error was detected, see above).'
++ exit 1
+ exithandler
+ local exit_code=1
+ '[' '!' 1 = 0 ']'
+ exit 1
</code></pre>
<p>It feels like we are getting very close to success</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-23T10:14:19Z' class='post-time'>
                August 23, 2022, 10:14am
              </time>
              <meta itemprop='dateModified' content='2022-08-23T10:14:19Z'>
          <span itemprop='position'>#31</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>How much RAM is not enough and how much RAM was sufficient? Asking because, maybe I could</p>
<ol>
<li>the build script could check if there is enough RAM and show a more useful error message and/or</li>
<li>perhaps exclude building that package from CI build somehow to safe RAM (and expenses).</li>
</ol>
<aside class="quote no-group" data-username="bee" data-post="28" data-topic="14468">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/bee/40/2338_2.png" class="avatar"> bee:</div>
<blockquote>
<p>Thank you for your patience. I am not very familiar with how these builds work. I think we are getting close <img src="../../images/emoji/twitter/slight_smilee5bf.png?v=12" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>Sure thing. <img src="../../images/emoji/twitter/slight_smilee5bf.png?v=12" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote no-group" data-username="bee" data-post="28" data-topic="14468">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/bee/40/2338_2.png" class="avatar"> bee:</div>
<blockquote>
<p><a href="../../../external.html?link=https://github.com/Mycobee/derivative-maker/suites/7923343518/artifacts/338014284">https://github.com/Mycobee/derivative-maker/suites/7923343518/artifacts/338014284</a></p>
</blockquote>
</aside>
<p>Broken link. (Not important since solved.)</p>
<aside class="quote no-group" data-username="bee" data-post="30" data-topic="14468">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/bee/40/2338_2.png" class="avatar"> bee:</div>
<blockquote>
<p>New errors below. <a href="../../../external.html?link=https://github.com/Mycobee/derivative-maker/suites/7923343518/artifacts/338102810">logs</a></p>
</blockquote>
</aside>
<p>Glad that links is functional. Here is the actual error.</p>
<pre><code class="lang-auto">INFO: Running connectivity check...  Downloading...: https://www.torproject.org
INFO: CURL_OUT_FILE: /var/cache/tb-binary/.cache/tb/temp/tbb_remote_folder

ERROR: https://www.torproject.org could not be reached.

Possible reasons:
- https://www.torproject.org/dist/torbrowser is down
- download location changed
</code></pre>
<p>Workaround: Skipping to download Tor Browser. Append to derivative-maker build command:</p>
<pre><code>--tb open
</code></pre>
<p>It would then fail open, i.e. not break the build. We‚Äôd still see that Tor Browser download didn‚Äôt succeed in the logs and would unblock you from completing a full build and/or detecting other build issues until this one is fixed.</p>
<p>But that‚Äôs not the real fix of course.</p>
<p>Does the server block connections to <a href="../../../external.html?link=http://torproject.org/">torproject.org</a>?</p>
<p>For debugging could you please try:</p>
<pre><code>curl --head https://www.torproject.org
</code></pre>
<p>Also:</p>
<pre><code>nslookup torproject.org
</code></pre>
<p>Another possibility is that it was a transient issue, though maybe not likely.</p>
<p>Yet another possibly is some DNS issue inside the chroot. If not easily resolved, I might need to add more debugging code to get to the bottom of this.</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-24T16:30:03Z' class='post-time'>
                August 24, 2022,  4:30pm
              </time>
              <meta itemprop='dateModified' content='2022-08-24T16:30:03Z'>
          <span itemprop='position'>#32</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I think it was a one off thing, because I got past that error</p>
<p>I have a new problem, and it has to do with the working directory structure.</p>
<p>I mounted a block storage volume for VM and things, and I put it a folder in it as a symlink in <code>/home/ansible/automated_build</code></p>
<p>The issue I am running in to is that the script is using <code>~/</code> for some path things</p>
<pre><code class="lang-auto">cd /home/ansible/automated_build/derivative-maker/help-steps
cd ..
main
check-unicode
/home/ansible/automated_build/derivative-maker/packages/kicksecure/developer-meta-files/usr/bin/dm-check-unicode
set -e
true '/home/ansible/automated_build/derivative-maker/packages/kicksecure/developer-meta-files/usr/bin/dm-check-unicode: START.'
folder=/home/ansible/derivative-maker
wrapper=/home/ansible/derivative-maker/packages/kicksecure/helper-scripts/usr/bin/grep-find-unicode-wrapper
test -d /home/ansible/derivative-maker
errorhandlergeneral ERR
last_failed_exit_code=1
last_failed_bash_command='"${dist_developer_meta_files_folder}/usr/bin/dm-check-unicode"'
output_cmd_set
'[' -o xtrace ']'
output_cmd=true
true 'INFO: Middle of function errorhandlergeneral of ././build-steps.d/1100_sanity-tests.'
errorhandlerprocessshared ERR
</code></pre>
<p><code>/home/ansible/derivative-maker</code> does not exist, and I want it to use <code>/home/ansible/automated_build/derivative-maker</code> instead</p>
<p>Is there a way to config this as the default working directory instead of <code>~/</code>?</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-24T16:34:00Z' class='post-time'>
                August 24, 2022,  4:34pm
              </time>
              <meta itemprop='dateModified' content='2022-08-24T16:34:00Z'>
          <span itemprop='position'>#33</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>basically i‚Äôd like these three lines</p>
<pre><code class="lang-auto">folder=/home/ansible/derivative-maker
wrapper=/home/ansible/derivative-maker/packages/kicksecure/helper-scripts/usr/bin/grep-find-unicode-wrapper
test -d /home/ansible/derivative-maker
</code></pre>
<p>to function like this</p>
<pre><code class="lang-auto">folder=/home/ansible/automated_build/derivative-maker
wrapper=/home/ansible/automated_build/derivative-maker/packages/kicksecure/helper-scripts/usr/bin/grep-find-unicode-wrapper
test -d /home/ansible/automated_build/derivative-maker
</code></pre>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-24T16:35:39Z' class='post-time'>
                August 24, 2022,  4:35pm
              </time>
              <meta itemprop='dateModified' content='2022-08-24T16:35:39Z'>
          <span itemprop='position'>#34</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>On the upside, I am getting better at reading these build logs lol</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-25T00:13:19Z' class='post-time'>
                August 25, 2022, 12:13am
              </time>
              <meta itemprop='dateModified' content='2022-08-25T00:13:19Z'>
          <span itemprop='position'>#35</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="bee" data-post="32" data-topic="14468">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/bee/40/2338_2.png" class="avatar"> bee:</div>
<blockquote>
<p><code>/home/ansible/derivative-maker</code> does not exist, and I want it to use <code>/home/ansible/automated_build/derivative-maker</code> instead</p>
<p>Is there a way to config this as the default working directory instead of <code>~/</code>?</p>
</blockquote>
</aside>
<p>Done in <code>16.0.6.8-developers-only</code>. <img src="../../images/emoji/twitter/slight_smilee5bf.png?v=12" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-25T15:54:41Z' class='post-time'>
                August 25, 2022,  3:54pm
              </time>
              <meta itemprop='dateModified' content='2022-08-25T15:54:41Z'>
          <span itemprop='position'>#36</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>It is working for the MYDIR variable, but I found another one that slipped by when calling <code>source</code> <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a></p>
<pre><code class="lang-auto">MYDIR=/home/ansible/automated_build/derivative-maker/packages/kicksecure/developer-meta-files/usr/bin
cd /home/ansible/automated_build/derivative-maker/packages/kicksecure/developer-meta-files/usr/bin
source /home/ansible/derivative-maker/help-steps/pre
/home/ansible/automated_build/derivative-maker/packages/kicksecure/developer-meta-files/usr/bin/dm-reprepro-wrapper: line 20: /home/ansible/derivative-maker/help-steps/pre: No such file or directory
errorhandlergeneral ERR
last_failed_exit_code=1
last_failed_bash_command='"$dist_developer_meta_files_folder/usr/bin/dm-reprepro-wrapper" includedeb "$dist_build_apt_codename" "$package_absolute_path"'
output_cmd_set
'[' -o xtrace ']'
output_cmd=true
true 'INFO: Middle of function errorhandlergeneral of ././build-steps.d/1200_create-debian-packages.'
</code></pre>
<p><a href="../../../external.html?link=https://github.com/Mycobee/derivative-maker/suites/7982685161/artifacts/341651853" rel="noopener nofollow ugc">logs</a></p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-26T16:36:00Z' class='post-time'>
                August 26, 2022,  4:36pm
              </time>
              <meta itemprop='dateModified' content='2022-08-26T16:36:00Z'>
          <span itemprop='position'>#37</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Fixed in <code>16.0.7.0</code>.</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-28T17:48:54Z' class='post-time'>
                August 28, 2022,  5:48pm
              </time>
              <meta itemprop='dateModified' content='2022-08-28T17:48:54Z'>
          <span itemprop='position'>#38</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a>, it looks like I am getting very close.</p>
<h3>
<a name="questions-1" class="anchor" href="#questions-1"></a>Questions:</h3>
<ol>
<li>
<p>When the build commands get run, it puts <code>derivative-binary</code> in <code>~/</code>. Is there any way we could have it put it in <code>../</code> instead. Again, this is because of the way I am mounting the machines and what not.</p>
</li>
<li>
<p>My CI is successfully building the gateway, which is great news. When building the workstation however, I ran in to an error about being unable to umount. Relevant logs are at the bottom of post.</p>
</li>
<li>
<p>I am definitely thinking that only building these VMs when a tagged is pushed is the way to go, because it is taking CI over an hour to build the VMs for both the gateway and the workstation. So when developing <code>derivative-maker</code>, you can push a developers only tag for troubleshooting, or perhaps even create a debug tag in order to iterate. Is that okay?</p>
</li>
</ol>
<h4>
<a name="logs-for-question-2-2" class="anchor" href="#logs-for-question-2-2"></a>Logs for question 2:</h4>
<p><a href="../../../external.html?link=https://github.com/Mycobee/derivative-maker/suites/8005599651/artifacts/343257960" rel="noopener nofollow ugc">Full Logs</a></p>
<pre><code class="lang-auto">+ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Workstation-XFCE_image
umount: /home/ansible/derivative-binary/Whonix-Workstation-XFCE_image: target is busy.
++ errorhandlerunmount-raw
+++ caller
++ true 'BASH_COMMAND: $SUDO_TO_ROOT umount "$CHROOT_FOLDER"
ERROR /home/ansible/automated_build/derivative-maker/help-steps/unmount-raw: | caller: 52 /home/ansible/automated_build/derivative-maker/help-steps/unmount-raw'
++ exit 1
+ exithandler
+ local exit_code=1
+ '[' '!' 1 = 0 ']'
+ exit 1
++ errorhandlermaybeexit ERR
++ '[' '' = true ']'
++ '[' false = true ']'
++ abort_or_continue=Aborted
++ rm --force /etc/apt/sources.list.d/whonix_temp.list
++ rm --force /run/package_manager_lock
++ '[' false = true ']'
++ '[' ERR = INT ']'
++ '[' ERR = TERM ']'
++ trap - EXIT
++ true 'INFO: Now exiting from ././build-steps.d/1700_install-packages (because error was detected, see above) with exit code 1.'
</code></pre>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-28T17:51:03Z' class='post-time'>
                August 28, 2022,  5:51pm
              </time>
              <meta itemprop='dateModified' content='2022-08-28T17:51:03Z'>
          <span itemprop='position'>#39</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>My ideal goal would be for us to have this CI feature implemented by end of this week, if we can troubleshoot the build issues together.</p>
<p>Thanks for your patience with my challenges on the <code>derivative-maker/derivative-maker</code> build step. Still learning how all of it works</p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.html'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/bee'><span itemprop='name'>bee</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="14468.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-08-28T20:11:20Z' class='post-time'>
                August 28, 2022,  8:11pm
              </time>
              <meta itemprop='dateModified' content='2022-08-28T20:11:20Z'>
          <span itemprop='position'>#40</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>When troubleshooting the ‚ÄúTarget is busy‚Äù error, I see the following behavior</p>
<pre><code class="lang-auto">$ sudo --non-interactive umount /home/ansible/derivative-binary/Whonix-Workstation-XFCE_image
umount: /home/ansible/derivative-binary/Whonix-Workstation-XFCE_image: target is busy.

$ mount | grep derivative
/dev/mapper/loop0p1 on /home/ansible/derivative-binary/Whonix-Workstation-XFCE_image type ext4 (rw,relatime)
</code></pre>
<p>Not sure if helpful <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a>, but I suspect this umount is not working because of whatever is mounting <code>loop0p1</code></p>
        </div>

        <meta itemprop='headline' content='Derivative Maker Automated CI Builder'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="14468.html">‚Üê previous page</a></span>
        <span itemprop='name'><b><a rel="next" itemprop="url" href="144689ba9.html?page=3">next page ‚Üí</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
