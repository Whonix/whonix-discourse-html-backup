<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>VPN Questions - Qubes-Whonix - Whonix Forum</title>
    <meta name="description" content="current vm topology: 

whonix, appvms -&amp;gt; proxyvm: firewall -&amp;gt; proxyvm: vpn -&amp;gt; netvm -&amp;gt; internet 


I installed vpn in its own proxyvm so as not to break netvm. I&amp;#39;m not sure that this is the best place for it. Watching ne&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1276.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;VPN Questions&#39;" href="1276.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/vpn-questions/1276" />
<meta name="twitter:url" content="https://forums.whonix.org/t/vpn-questions/1276" />
<meta property="og:title" content="VPN Questions" />
<meta name="twitter:title" content="VPN Questions" />
<meta property="og:description" content="current vm topology:  whonix, appvms -&gt; proxyvm: firewall -&gt; proxyvm: vpn -&gt; netvm -&gt; internet    I installed vpn in its own proxyvm so as not to break netvm. I’m not sure that this is the best place for it. Watching netvm traffic with iftop and some connections are still being made (probably dom0, template updates). Will install vpn-firewall on vpn proxy vm and see if connections drop. Otherwise, may need to move vpn to netvm.    Would like to install your vpn-firewall to proxy vm. Just became ..." />
<meta name="twitter:description" content="current vm topology:  whonix, appvms -&gt; proxyvm: firewall -&gt; proxyvm: vpn -&gt; netvm -&gt; internet    I installed vpn in its own proxyvm so as not to break netvm. I’m not sure that this is the best place for it. Watching netvm traffic with iftop and some connections are still being made (probably dom0, template updates). Will install vpn-firewall on vpn proxy vm and see if connections drop. Otherwise, may need to move vpn to netvm.    Would like to install your vpn-firewall to proxy vm. Just became ..." />
<meta property="article:published_time" content="2015-08-03T20:56:44+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1276.html">VPN Questions</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/qubes-whonix/12.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #63a0ff'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Qubes-Whonix</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/yyqssvig_'><span itemprop='name'>yyqssvig_</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1276.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-03T20:56:44Z' class='post-time'>
                August 3, 2015,  8:56pm
              </time>
              <meta itemprop='dateModified' content='2015-08-03T20:56:44Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>current vm topology:</p>
<p>whonix, appvms -&gt; proxyvm: firewall -&gt; proxyvm: vpn -&gt; netvm -&gt; internet</p>
<ol>
<li>
<p>I installed vpn in its own proxyvm so as not to break netvm. I’m not sure that this is the best place for it. Watching netvm traffic with iftop and some connections are still being made (probably dom0, template updates). Will install vpn-firewall on vpn proxy vm and see if connections drop. Otherwise, may need to move vpn to netvm.</p>
</li>
<li>
<p>Would like to install your vpn-firewall to proxy vm. Just became slightly familiar with debian and now back to 0 knowledge with fedora. Do any modifications need to be made to /usr/bin/vpnfirewall? Plan is to place script in /rw/… and modify /rw/config/rc.local to run vpnfirewall. Any other advice?<br>
edit:<br>
Looks like vpn-firewall needs to be on netvm regardless of where vpn is installed since everything needs to be routed to 10.137.1.1 (netvm). I don’t want to mess up any iptables in netvm though. Is there some way to change vpn-firewall so that it allows traffic to vpn.ip.00.00 via 10.137.1.1 ONLY?</p>
</li>
<li>
<p>With vpn-firewall in place, proxyvm: firewall probably becomes redundant? I have no idea so I’ll leave it in place to be safe. Don’t understand yet how the update proxies work.</p>
</li>
</ol>
<p><span class="hashtag">#1</span> probably belongs upstream to Qubes mailing list but have come to trust and value your advice. Thanks.</p>
        </div>

        <meta itemprop='headline' content='VPN Questions'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/yyqssvig_'><span itemprop='name'>yyqssvig_</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1276.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2015-08-03T21:57:39Z' class='post-time'>
                August 3, 2015,  9:57pm
              </time>
              <meta itemprop='dateModified' content='2015-08-03T21:57:39Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Seems like 2 ways to implement vpn-firewall:</p>
<p>A:</p>
<ol>
<li>cp ./usr/bin/vpnfirewall /rw/config</li>
<li>chmod +x /rw/config/vpnfirewall</li>
<li>append to /rw/config/rc.local : /rw/config/vpnfirewall</li>
<li>start openvpn</li>
</ol>
<p>B:</p>
<ol>
<li>cp ./etc/init.d/vpnfirewall /rw/config/init.d</li>
<li>edit paths in /rw/config/init.d/vpnfirewall</li>
<li>append to /rw/config/rc.local : chkconfig /rw/config/init.d/vpnfirewall start</li>
</ol>
<p>Is this correct? Which is preferable?</p>
        </div>

        <meta itemprop='headline' content='VPN Questions'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
