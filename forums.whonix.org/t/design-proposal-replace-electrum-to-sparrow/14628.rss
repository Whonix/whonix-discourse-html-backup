<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Design proposal. Replace electrum to sparrow</title>
    <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628</link>
    <description>Design proposal: Replace electrum bitcoin wallet with a more privacy and anonymity oriented Sparrow wallet? electrum is the standard, popular and installed by default in Tails, but lacks many important privacy (and user experience) features.
`http://sparrowa7io5pz6ud3ehqzosvepbxbxt2zphmkjsylp2zgxooko23pqd.onion`
`https://sparrowwallet.com/`

Reasons to leave Electrum:
Popularity and time tested
Ability to easily update via apt,

Reasons to replace Electrum:
Sparrow supports deterministic builds, build process from source is trivial, instructions on github,
Focused on privacy, security and convenience, description: `http://sparrowa7io5pz6ud3ehqzosvepbxbxt2zphmkjsylp2zgxooko23pqd.onion/features/`
Provides the ability to check the signatures of installation files.
Works more efficiently with whonix (Electrum doesn&#39;t work for me when started with stream isolation with torsocks, Sparrow works fine)

Problems:
Impossibility of updating via apt, only self-assembly or installation of deb from github. Whonix developers will either have to build themselves and add whonix to the whonix repository, or install each whonix update as a deb package from github (cannot be updated via apt upgrade)</description>
    <language>en</language>
    <lastBuildDate>Tue, 11 Oct 2022 17:48:07 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Design proposal. Replace electrum to sparrow</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubissue" data-onebox-src="https://github.com/sparrowwallet/sparrow/issues/372">
  <header class="source">

      <a href="https://github.com/sparrowwallet/sparrow/issues/372" target="_blank" rel="noopener">github.com/sparrowwallet/sparrow</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/sparrowwallet/sparrow/issues/372" target="_blank" rel="noopener">Meet criteria for Tails OS integration</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-12-24" data-time="14:13:48" data-timezone="UTC">02:13PM - 24 Dec 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/f321x" target="_blank" rel="noopener">
          <img alt="f321x" src="https://avatars.githubusercontent.com/u/51097237?v=4" class="onebox-avatar-inline" width="20" height="20">
          f321x
        </a>
      </div>
    </div>

    <div class="labels">
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          long term
        </span>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Sparrow could substitute Electrum in Tails OS and help many with easy coinjoin f<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">unctionality. But a previous request was rejected because sparrow doesn't fulfill the criteria for integration in Tails (yet).
Request:
https://gitlab.tails.boum.org/tails/tails/-/issues/18615

Criteria:
https://tails.boum.org/support/faq/#new-software</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubissue" data-onebox-src="https://github.com/sparrowwallet/sparrow/issues/170">
  <header class="source">

      <a href="https://github.com/sparrowwallet/sparrow/issues/170" target="_blank" rel="noopener">github.com/sparrowwallet/sparrow</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/sparrowwallet/sparrow/issues/170" target="_blank" rel="noopener">Pull-down menus dont work when running in Debian 10 vm within Qubes</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-08-11" data-time="13:08:15" data-timezone="UTC">01:08PM - 11 Aug 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/davterra" target="_blank" rel="noopener">
          <img alt="davterra" src="https://avatars.githubusercontent.com/u/37884409?v=4" class="onebox-avatar-inline" width="20" height="20">
          davterra
        </a>
      </div>
    </div>

    <div class="labels">
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          bug
        </span>
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          wontfix
        </span>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">I am currently running v1.4.3 but this issue predates this latest release.

Wh<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">en I launch Sparrow in a Debian 10 vm running in Qubes OS, the pull-down menus do not stay open.
I can click on a menu header and see the pull-down list of options for that header, but if I attempt to click on an option within any menu, the pull-down menu closes.
I have tried clicking on a menu header and, keeping my finger on the mouse, moving the cursor down to the option I want, but that doesnt work either. The menu closes with no action.
As a result, the only functions I can run are the few that have key-combination activators, e.g. 
Ctrl-O to open a wallet.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>2 open issues, Debian integration and menu disappearing on Qubes XFCE (less important as whonix is not only for Qubes). Non-Qubes-Whonix don’t have this problem as far as I know from people using it.</p>
          <p><a href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/11">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/11</link>
        <pubDate>Tue, 11 Oct 2022 17:48:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14628-11</guid>
        <source url="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss">Design proposal. Replace electrum to sparrow</source>
      </item>
      <item>
        <title>Design proposal. Replace electrum to sparrow</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>Patrick, Sparrow is becoming reproducible soon, this, for me, makes it much more trustworthy.</p>
<p>The telemetry issue was fixed, but needs to disable by configuration, so it basically will ping on the first wallet startup. It checks third party exchange rates and software updates.</p>
<p>There is a person trying Sparrow with Whonix:</p><aside class="onebox githubissue" data-onebox-src="https://github.com/sparrowwallet/sparrow/issues/673">
  <header class="source">

      <a href="https://github.com/sparrowwallet/sparrow/issues/673" target="_blank" rel="noopener nofollow ugc">github.com/sparrowwallet/sparrow</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/sparrowwallet/sparrow/issues/673" target="_blank" rel="noopener nofollow ugc">Can't Connect to external Electrum server (electrs) on Whonix</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-08-26" data-time="14:58:46" data-timezone="UTC">02:58PM - 26 Aug 22 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/gabrielseibel1" target="_blank" rel="noopener nofollow ugc">
          <img alt="gabrielseibel1" src="https://avatars.githubusercontent.com/u/23637113?v=4" class="onebox-avatar-inline" width="20" height="20">
          gabrielseibel1
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Hi. I'm trying to connect a sparrow wallet, **running on whonix**, to a tor hidd<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">en service of an electrum server of mine (running electrs on another machine). Connection works fine for Electrum on Whonix, but sparrow fails to connect. 

The tor part seems to be the problem. Does sparrow run an internal tor client? It seems to try to connect to my hidden service starting a tor instance, but then fails because it's running on whonix and the 9050 port is busy (I've read this on the connection-test log). 

```
Starting Tor
Aug 26 14:46:16.974 [notice] Tor 0.4.3.6 (git-30711296fd5b7f51) running on Linux with Libevent 2.1.11-stable, OpenSSL 1.1.1g, Zlib 1.2.11, Liblzma N/A, and Libzstd N/A.
Aug 26 14:46:16.974 [notice] Tor can't help you if you use it wrong! Learn how to be safe at https://www.torproject.org/download/download#warning
Aug 26 14:46:16.974 [notice] Read configuration file "/tmp/tor10679590390238463793/torrc".
Aug 26 14:46:16.976 [notice] Opening Control listener on 127.0.0.1:0
Aug 26 14:46:16.976 [notice] Control listener listening on port 33409.
Aug 26 14:46:16.977 [notice] Opened Control listener on 127.0.0.1:33409
Aug 26 14:46:16.983 [notice] DisableNetwork is set. Tor will not make or accept non-control network connections. Shutting down all existing connections.
```

Then it suggests that I configure the proxy:
```
Could not connect:

Error reply: Unable to set option: Failed to bind one of the listener ports.
Is a Tor proxy already running on port 9050?

Assuming Tor proxy is running on port 9050 and trying again...
```

I've tried using localhost:9050 and also 10.152.152.10:9111 (following https://www.whonix.org/wiki/Electrum).
The result is that it exhausts the max retries to connect.

My electrum server doesn't log anything so it seems that messages are not reaching it.

Here is some of the log file of the wallet:

```
2022-08-26 14:46:18,263 ERROR [JavaFX Application Thread] c.s.s.p.ServerPreferencesController [null:-1] Connection error
com.sparrowwallet.sparrow.net.TorServerAlreadyBoundException: Tor server already bound
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.TorService$1.call(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.TorService$1.call(Unknown Source)
	at javafx.graphics@18/javafx.concurrent.Task$TaskCallable.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at javafx.graphics@18/javafx.concurrent.Service.lambda$executeTask$6(Unknown Source)
	at java.base/java.security.AccessController.doPrivileged(Unknown Source)
	at javafx.graphics@18/javafx.concurrent.Service.lambda$executeTask$7(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
Caused by: net.freehaven.tor.control.TorControlError: Error reply: Unable to set option: Failed to bind one of the listener ports.
	at com.github.JesusMcCloud.jtorctl@1.5/net.freehaven.tor.control.TorControlConnection.sendAndWaitForResponse(Unknown Source)
	at com.github.JesusMcCloud.jtorctl@1.5/net.freehaven.tor.control.TorControlConnection.setConf(Unknown Source)
	at com.github.JesusMcCloud.jtorctl@1.5/net.freehaven.tor.control.TorControlConnection.setConf(Unknown Source)
	at netlayer.jpms@0.6.8/org.berndpruenster.netlayer.tor.TorController.enableNetwork(Unknown Source)
	at netlayer.jpms@0.6.8/org.berndpruenster.netlayer.tor.NativeTor.&lt;init&gt;(Unknown Source)
	at netlayer.jpms@0.6.8/org.berndpruenster.netlayer.tor.NativeTor.&lt;init&gt;(Unknown Source)
	at netlayer.jpms@0.6.8/org.berndpruenster.netlayer.tor.NativeTor.&lt;init&gt;(Unknown Source)
	... 10 common frames omitted
2022-08-26 14:46:21,495 WARN [Thread-229] c.s.s.n.TcpTransport [null:-1] No response from server, setting read timeout to 8 secs
2022-08-26 14:46:29,965 WARN [Thread-229] c.s.s.n.TcpTransport [null:-1] No response from server, setting read timeout to 16 secs
2022-08-26 14:46:47,883 WARN [Thread-229] c.s.s.n.TcpTransport [null:-1] No response from server, setting read timeout to 34 secs
2022-08-26 14:50:32,003 ERROR [ElectrumServerReadThread] c.s.s.n.TcpTransport [null:-1] Error opening socket inputstream
java.net.SocketException: Socket is closed
	at java.base/sun.security.ssl.SSLSocketImpl.getInputStream(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.TcpTransport.readInputLoop(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.ElectrumServer$ReadRunnable.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2022-08-26 14:50:32,005 ERROR [ElectrumServerReadThread] c.s.s.n.TcpTransport [null:-1] Error opening socket inputstream
java.net.SocketException: Socket is closed
	at java.base/sun.security.ssl.SSLSocketImpl.getInputStream(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.TcpTransport.readInputLoop(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.ElectrumServer$ReadRunnable.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2022-08-26 14:55:07,859 ERROR [ElectrumServerReadThread] c.s.s.n.TcpTransport [null:-1] Error opening socket inputstream
java.net.SocketException: Socket is closed
	at java.base/sun.security.ssl.SSLSocketImpl.getInputStream(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.TcpTransport.readInputLoop(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.ElectrumServer$ReadRunnable.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2022-08-26 14:55:11,811 ERROR [JavaFX Application Thread] c.s.s.w.WalletForm [null:-1] Could not determine payment codes for wallet user
com.sparrowwallet.sparrow.net.ServerException: Failed to subscribe to path: m/0
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.ElectrumServer.subscribeWalletNodes(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.ElectrumServer.getHistory(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.ElectrumServer$PaymentCodesService$1.call(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.ElectrumServer$PaymentCodesService$1.call(Unknown Source)
	at javafx.graphics@18/javafx.concurrent.Task$TaskCallable.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at javafx.graphics@18/javafx.concurrent.Service.lambda$executeTask$6(Unknown Source)
	at java.base/java.security.AccessController.doPrivileged(Unknown Source)
	at javafx.graphics@18/javafx.concurrent.Service.lambda$executeTask$7(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
Caused by: com.sparrowwallet.sparrow.net.ServerException: Retries exhausted
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.RetryLogic.getResult(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.SimpleElectrumServerRpc.subscribeScriptHashes(Unknown Source)
	... 12 common frames omitted
Caused by: java.lang.IllegalStateException: I/O error during a request processing
	at simple.json.rpc.client@1.0/com.github.arteam.simplejsonrpc.client.builder.RequestBuilder.executeRequest(Unknown Source)
	at simple.json.rpc.client@1.0/com.github.arteam.simplejsonrpc.client.builder.RequestBuilder.executeAndConvert(Unknown Source)
	at simple.json.rpc.client@1.0/com.github.arteam.simplejsonrpc.client.builder.RequestBuilder.executeNullable(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.SimpleElectrumServerRpc.lambda$subscribeScriptHashes$6(Unknown Source)
	... 14 common frames omitted
Caused by: java.net.SocketException: Socket is closed
	at java.base/sun.security.ssl.SSLSocketImpl.getOutputStream(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.TcpTransport.writeRequest(Unknown Source)
	at com.sparrowwallet.sparrow@1.6.6/com.sparrowwallet.sparrow.net.TcpTransport.pass(Unknown Source)
	... 18 common frames omitted
```</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>But I managed to make it work, with electrum proxy host and port, so didn’t understand his issue.</p>
<p>Even if there is no package for whonix because it takes some resources to build and adding extra jdk repo and not official to <a href="http://deb.debian.org" rel="noopener nofollow ugc">deb.debian.org</a>, do you mind if I do a guide for it?</p>
<p>Another reason I see to do it is it a modern client compared to electrum.</p>
<p>One reason I didn’t manage to fix is that the help options on the gui are not really clickable on Qubes, you have to press <code>Ctrl+p</code> for preferences because on Qubes, the Sparrow GUI doesn’t properly work.</p>
<p>The guide would differ from electrum because it would need to check the signed binaries.</p>
<p>But in the end, the guide would equal on setting the proxy to electrum, setting a private server if any and</p>
<ul>
<li>setting the proxy url to the GW IP and port <code>9111</code>
<ul>
<li>Non-Qubes-Whonix GW IP → <code>10.152.152.10</code>
</li>
<li>Qubes-Whonix GW IP → From WS: <code>qubesdb-read /qubes-gateway</code>
</li>
</ul>
</li>
</ul>
          <p><a href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/10</link>
        <pubDate>Mon, 29 Aug 2022 09:52:59 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14628-10</guid>
        <source url="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss">Design proposal. Replace electrum to sparrow</source>
      </item>
      <item>
        <title>Design proposal. Replace electrum to sparrow</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>I’m aware of electrum servers, the issue I reported above was that just by opening the wallet, it starts trying to reach the default servers, even before you configure you own.<br>
Not that it is downloading anything, it is just testing if it is reacheable.</p>
<p>But yes, using self hosted electrum server is the best.</p>
<p>But on the regards of wallet sync, Sparrow and Electrum uses Electrum Server, but Sparrow does not ping that many domains on wallet startup.</p>
          <p><a href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/9</link>
        <pubDate>Sat, 27 Aug 2022 09:54:45 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14628-9</guid>
        <source url="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss">Design proposal. Replace electrum to sparrow</source>
      </item>
      <item>
        <title>Design proposal. Replace electrum to sparrow</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Quite difficult to configure <code>electrum</code> (or any Bitcoin light wallet) for higher privacy.</p>
<p>For blockchain generally, it seems always required to download the full blockchain for highest privacy. Even for Monero.</p>
<p>As for using <code>electrum</code> with higher privacy, a full blockchain download, it is possible in combination with <code>ElectrumX</code>. See:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.whonix.org/wiki/ElectrumX">
  <header class="source">
      <img src="https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="https://www.whonix.org/wiki/ElectrumX" target="_blank" rel="noopener" title="07:44PM - 13 August 2022">Whonix – 13 Aug 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/427;"><img src="https://www.whonix.org/w/images/9/9c/Electrumx123123.jpg?version=790d2af5fe34c8e31dbbea64b17d03e8" class="thumbnail" width="640" height="427"></div>

<h3><a href="https://www.whonix.org/wiki/ElectrumX" target="_blank" rel="noopener">Bitcoin How-to: Use ElectrumX Personal Server in Whonix ™</a></h3>

  <p>Higher Security and Privacy through using a Self-Hosted, Fully Validating Bitcoin Node (ElectrumX + Bitcoin Core)</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/8</link>
        <pubDate>Sat, 27 Aug 2022 09:07:23 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14628-8</guid>
        <source url="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss">Design proposal. Replace electrum to sparrow</source>
      </item>
      <item>
        <title>Design proposal. Replace electrum to sparrow</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>Tested electrum, it is worse, phones to all the available servers, even before trying to set your own server.</p>
          <p><a href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/7</link>
        <pubDate>Fri, 26 Aug 2022 17:25:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14628-7</guid>
        <source url="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss">Design proposal. Replace electrum to sparrow</source>
      </item>
      <item>
        <title>Design proposal. Replace electrum to sparrow</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>Sparrow phones home</p><aside class="onebox githubissue" data-onebox-src="https://github.com/sparrowwallet/sparrow/issues/674">
  <header class="source">

      <a href="https://github.com/sparrowwallet/sparrow/issues/674" target="_blank" rel="noopener nofollow ugc">github.com/sparrowwallet/sparrow</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/sparrowwallet/sparrow/issues/674" target="_blank" rel="noopener nofollow ugc">disable telemetry: stop phoning home on wallet startup</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-08-26" data-time="17:20:27" data-timezone="UTC">05:20PM - 26 Aug 22 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/nyxnor" target="_blank" rel="noopener nofollow ugc">
          <img alt="nyxnor" src="https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Disable pinging sparrow by configuration, option needed

My tor controller log<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">s show this when starting the wallet:

```
650 STREAM 2731 NEWRESOLVE 0 www.sparrowwallet.com:0
650 STREAM 2732 NEWRESOLVE 0 www.sparrowwallet.com:0
650 STREAM 2731 SENTRESOLVE 4228 www.sparrowwallet.com:0
650 STREAM 2732 SENTRESOLVE 4228 www.sparrowwallet.com:0
650 STREAM 2731 REMAP 4228 135.181.110.78:0
650 STREAM 2732 CLOSED 4228 www.sparrowwallet.com:0
650 STREAM 2731 CLOSED 4228 135.181.110.78:0
650 STREAM 2733 NEW 0 135.181.110.78:443
650 STREAM 2733 SENTCONNECT 3856 135.181.110.78:443
650 STREAM 2733 REMAP 3856 135.181.110.78:443
650 STREAM 2733 SUCCEEDED 3856 135.181.110.78:443
```

Didn't find any option to disable telemetry.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/6</link>
        <pubDate>Fri, 26 Aug 2022 17:21:34 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14628-6</guid>
        <source url="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss">Design proposal. Replace electrum to sparrow</source>
      </item>
      <item>
        <title>Design proposal. Replace electrum to sparrow</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>Sparrow is not a “bad” suggestion.<br>
It is a great wallet, it is just not reproducible nor in the <a href="http://deb.debian.org" rel="noopener nofollow ugc">deb.debian.org</a> repo.</p>
<p>Keep up exploring.</p>
          <p><a href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/5</link>
        <pubDate>Fri, 26 Aug 2022 14:23:39 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14628-5</guid>
        <source url="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss">Design proposal. Replace electrum to sparrow</source>
      </item>
      <item>
        <title>Design proposal. Replace electrum to sparrow</title>
        <dc:creator><![CDATA[wilaam]]></dc:creator>
        <description><![CDATA[
            <p>I agree with you and thank you for your time and detailed answers, I’m sorry for the bad suggestion</p>
          <p><a href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/4</link>
        <pubDate>Fri, 26 Aug 2022 14:22:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14628-4</guid>
        <source url="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss">Design proposal. Replace electrum to sparrow</source>
      </item>
      <item>
        <title>Design proposal. Replace electrum to sparrow</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <aside class="onebox githubissue" data-onebox-src="https://github.com/sparrowwallet/sparrow/issues/619#issuecomment-1209304845">
  <header class="source">

      <a href="https://github.com/sparrowwallet/sparrow/issues/619#issuecomment-1209304845" target="_blank" rel="noopener nofollow ugc">github.com/sparrowwallet/sparrow</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/sparrowwallet/sparrow/issues/619#issuecomment-1209304845" target="_blank" rel="noopener nofollow ugc">Unable to reproduce runtime folder of 1.6.5 build</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2022-07-07" data-time="10:31:51" data-timezone="UTC">10:31AM - 07 Jul 22 UTC</span>
      </div>

        <div class="date">
          closed <span class="discourse-local-date" data-format="ll" data-date="2022-08-08" data-time="09:36:08" data-timezone="UTC">09:36AM - 08 Aug 22 UTC</span>
        </div>

      <div class="user">
        <a href="https://github.com/charliecharles1234" target="_blank" rel="noopener nofollow ugc">
          <img alt="charliecharles1234" src="https://avatars.githubusercontent.com/u/108869293?v=4" class="onebox-avatar-inline" width="20" height="20">
          charliecharles1234
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">I am trying to reproduce the release binary for 1.6.5 as per [the instructions](<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">https://github.com/sparrowwallet/sparrow/blob/master/docs/reproducible.md), but my `lib/runtime/lib` folder differs.

I have recorded my attempt with Asciinema: https://asciinema.org/a/ixn6XcKyJ9rVa7VOHKzcrxsNL

This is run inside a new Ubuntu Jammy amd64 container, with the only activities before the beginning of the recording being installing a few necessary packages e.g. asciinema.

Right at the end I verified the java version to check that it is correct.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>latest release not reproducible v1.6.6.</p>
<p>one extra release was made to compare but still, show that it is not complete.</p>
          <p><a href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/3</link>
        <pubDate>Fri, 26 Aug 2022 13:51:26 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14628-3</guid>
        <source url="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss">Design proposal. Replace electrum to sparrow</source>
      </item>
      <item>
        <title>Design proposal. Replace electrum to sparrow</title>
        <dc:creator><![CDATA[nyxnor]]></dc:creator>
        <description><![CDATA[
            <p>First, don’t take the following response as personal, it is only resource based, not opinions.</p>
<aside class="quote no-group" data-username="wilaam" data-post="1" data-topic="14628">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/w/bbe5ce/40.png" class="avatar"> wilaam:</div>
<blockquote>
<p>Sparrow supports deterministic builds, build process from source is trivial, instructions on github,</p>
</blockquote>
</aside>
<blockquote>
<p>Sparrow supports deterministic builds</p>
</blockquote>
<p>False.</p><aside class="onebox githubissue" data-onebox-src="https://github.com/sparrowwallet/sparrow/issues/192">
  <header class="source">

      <a href="https://github.com/sparrowwallet/sparrow/issues/192" target="_blank" rel="noopener nofollow ugc">github.com/sparrowwallet/sparrow</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/sparrowwallet/sparrow/issues/192" target="_blank" rel="noopener nofollow ugc">building from source - deterministic build, differences in modules</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-09-08" data-time="02:30:19" data-timezone="UTC">02:30AM - 08 Sep 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/nyxnor" target="_blank" rel="noopener nofollow ugc">
          <img alt="nyxnor" src="https://avatars.githubusercontent.com/u/69700936?v=4" class="onebox-avatar-inline" width="20" height="20">
          nyxnor
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Hi 👋. I am trying to build from source. As instructed here https://t.me/sparroww<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">allet/4640 I used these instructions https://adoptopenjdk.net/installation.html?variant=openjdk16&amp;jvmVariant=hotspot#linux-pkg. The adoptopenjdk successfully installs. 
Debian Stable (bullseye) amd64 install:
```sh
cd
sudo apt-get install -y wget apt-transport-https gnupg
wget https://adoptopenjdk.jfrog.io/adoptopenjdk/api/gpg/key/public
gpg --no-default-keyring --keyring ./adoptopenjdk-keyring.gpg --import public
gpg --no-default-keyring --keyring ./adoptopenjdk-keyring.gpg --export --output adoptopenjdk-archive-keyring.gpg
rm adoptopenjdk-keyring.gpg
sudo mv adoptopenjdk-archive-keyring.gpg /usr/share/keyrings
echo "deb [signed-by=/usr/share/keyrings/adoptopenjdk-archive-keyring.gpg] https://adoptopenjdk.jfrog.io/adoptopenjdk/deb $(lsb_release -sc) main" | sudo tee /etc/apt/sources.list.d/adoptopenjdk.list
sudo apt-get update -y
sudo apt-cache search adoptopenjdk
sudo apt-get install -y adoptopenjdk-16-hotspot
git clone --recursive git@github.com:sparrowwallet/sparrow.git
cd sparrow
```

Problem occurs here `./gradlew jpackage`.

```
sudo ./gradlew jpackage
Downloading https://services.gradle.org/distributions/gradle-7.1-bin.zip
..........10%...........20%...........30%..........40%...........50%...........60%..........70%...........80%...........90%...........100%

Welcome to Gradle 7.1!

Here are the highlights of this release:
 - Faster incremental Java compilation
 - Easier source set configuration in the Kotlin DSL

For more details see https://docs.gradle.org/7.1/release-notes.html

Starting a Gradle Daemon (subsequent builds will be faster)

&gt; Task :createDelegatingModules
/home/nyxnor/Documents/git/sparrow/build/jlinkbase/tmpjars/org.jdbi.v3.sqlobject/module-info.java:2: warning: [module] module name component v3 should avoid terminal digits
open module org.jdbi.v3.sqlobject {
                    ^
1 warning
/home/nyxnor/Documents/git/sparrow/build/jlinkbase/tmpjars/org.apache.commons.lang3/module-info.java:2: warning: [module] module name component lang3 should avoid terminal digits
open module org.apache.commons.lang3 {
                              ^
1 warning
/home/nyxnor/Documents/git/sparrow/build/jlinkbase/tmpjars/org.antlr.antlr4.runtime/module-info.java:2: warning: [module] module name component antlr4 should avoid terminal digits
open module org.antlr.antlr4.runtime {
                     ^
1 warning
/home/nyxnor/Documents/git/sparrow/build/jlinkbase/tmpjars/org.jdbi.v3.core/module-info.java:2: warning: [module] module name component v3 should avoid terminal digits
open module org.jdbi.v3.core {
                    ^
1 warning
/home/nyxnor/Documents/git/sparrow/build/jlinkbase/tmpjars/io.reactivex.rxjava2/module-info.java:2: warning: [module] module name component rxjava2 should avoid terminal digits
open module io.reactivex.rxjava2 {
                        ^
1 warning
/home/nyxnor/Documents/git/sparrow/build/jlinkbase/tmpjars/de.mkammerer.argon2/module-info.java:2: warning: [module] module name component argon2 should avoid terminal digits
open module de.mkammerer.argon2 {
                        ^
1 warning

&gt; Task :jlink
WARNING: signed modular JAR /home/nyxnor/Documents/git/sparrow/build/jlinkbase/jlinkjars/bcprov-jdk15on-1.64.jar is currently not supported

&gt; Task :jpackage FAILED
Error: Invalid or unsupported type: [rpm]


FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':jpackage'.
&gt; Process 'command '/usr/lib/jvm/adoptopenjdk-16-hotspot-amd64/bin/jpackage'' finished with non-zero exit value 1

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.

* Get more help at https://help.gradle.org

BUILD FAILED in 5m 2s
19 actionable tasks: 19 executed
```

with `--info`
```
&gt; Task :jpackage FAILED
Caching disabled for task ':jpackage' because:
  Build cache is disabled
Task ':jpackage' is not up-to-date because:
  Task has failed previously.
Watching 1047 directories to track changes
Watching 1012 directories to track changes
runtimeImageDir: /home/nyxnor/Documents/git/sparrow/build/image
taskData: org.beryx.jlink.data.JPackageTaskData(moduleName:com.sparrowwallet.sparrow, mainClass:com.sparrowwallet.sparrow.MainApp, customImageData:null, imageDir:/home/nyxnor/Documents/git/sparrow/build/extension 'jlink' property 'imageName', runtimeImageDir:/home/nyxnor/Documents/git/sparrow/build/image, jpackageData:org.beryx.jlink.data.JPackageData(jpackageHome:, outputDir:jpackage, imageOutputDir:/home/nyxnor/Documents/git/sparrow/build/jpackage, imageName:Sparrow, imageOptions:[--icon, src/main/deploy/package/linux/Sparrow.png, --resource-dir, src/main/deploy/package/linux/], resourceDir:null, targetPlatformName:null, skipInstaller:false, installerType:null, installerOutputDir:/home/nyxnor/Documents/git/sparrow/build/jpackage, installerName:Sparrow, appVersion:1.5.0, icon:null, installerOptions:[--file-associations, src/main/deploy/psbt.properties, --file-associations, src/main/deploy/txn.properties, --file-associations, src/main/deploy/bitcoin.properties, --file-associations, src/main/deploy/aopp.properties, --license-file, LICENSE, --resource-dir, src/main/deploy/package/linux/, --linux-shortcut, --linux-rpm-license-type, ASL 2.0], args:[], jvmArgs:[--add-opens=javafx.graphics/com.sun.javafx.css=org.controlsfx.controls, --add-opens=javafx.graphics/javafx.scene=org.controlsfx.controls, --add-opens=javafx.controls/com.sun.javafx.scene.control.behavior=org.controlsfx.controls, --add-opens=javafx.controls/com.sun.javafx.scene.control.inputmap=org.controlsfx.controls, --add-opens=javafx.graphics/com.sun.javafx.scene.traversal=org.controlsfx.controls, --add-opens=javafx.base/com.sun.javafx.event=org.controlsfx.controls, --add-opens=javafx.controls/javafx.scene.control.cell=com.sparrowwallet.sparrow, --add-opens=org.controlsfx.controls/impl.org.controlsfx.skin=com.sparrowwallet.sparrow, --add-opens=org.controlsfx.controls/impl.org.controlsfx.skin=javafx.fxml, --add-opens=javafx.graphics/com.sun.javafx.tk=centerdevice.nsmenufx, --add-opens=javafx.graphics/com.sun.javafx.tk.quantum=centerdevice.nsmenufx, --add-opens=javafx.graphics/com.sun.glass.ui=centerdevice.nsmenufx, --add-opens=javafx.controls/com.sun.javafx.scene.control=centerdevice.nsmenufx, --add-opens=javafx.graphics/com.sun.javafx.menu=centerdevice.nsmenufx, --add-opens=javafx.graphics/com.sun.glass.ui=com.sparrowwallet.sparrow, --add-opens=javafx.graphics/com.sun.javafx.application=com.sparrowwallet.sparrow, --add-opens=java.base/java.net=com.sparrowwallet.sparrow, --add-opens=java.base/java.io=com.google.gson, --add-reads=com.sparrowwallet.merged.module=java.desktop, --add-reads=com.sparrowwallet.merged.module=java.sql, --add-reads=com.sparrowwallet.merged.module=com.sparrowwallet.sparrow, --add-reads=com.sparrowwallet.merged.module=logback.classic, --add-reads=com.sparrowwallet.merged.module=com.fasterxml.jackson.databind, --add-reads=com.sparrowwallet.merged.module=com.fasterxml.jackson.annotation, --add-reads=com.sparrowwallet.merged.module=com.fasterxml.jackson.core], defaultJPackageHome:/usr/lib/jvm/adoptopenjdk-16-hotspot-amd64, secondaryLaunchers:[], launcherName:sparrow, JPackageHomeOrDefault:/usr/lib/jvm/adoptopenjdk-16-hotspot-amd64))
Starting process 'command '/usr/lib/jvm/adoptopenjdk-16-hotspot-amd64/bin/jpackage''. Working directory: /home/nyxnor/Documents/git/sparrow Command: /usr/lib/jvm/adoptopenjdk-16-hotspot-amd64/bin/jpackage --type rpm --dest /home/nyxnor/Documents/git/sparrow/build/jpackage --name Sparrow --app-version 1.5.0 --app-image /home/nyxnor/Documents/git/sparrow/build/jpackage/Sparrow --file-associations src/main/deploy/psbt.properties --file-associations src/main/deploy/txn.properties --file-associations src/main/deploy/bitcoin.properties --file-associations src/main/deploy/aopp.properties --license-file LICENSE --resource-dir src/main/deploy/package/linux/ --linux-shortcut --linux-rpm-license-type ASL 2.0
Successfully started process 'command '/usr/lib/jvm/adoptopenjdk-16-hotspot-amd64/bin/jpackage''
Error: Invalid or unsupported type: [rpm]

Watching 1042 directories to track changes
Watching 1076 directories to track changes
:jpackage (Thread[Execution worker for ':' Thread 2,5,main]) completed. Took 0.483 secs.

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':jpackage'.
&gt; Process 'command '/usr/lib/jvm/adoptopenjdk-16-hotspot-amd64/bin/jpackage'' finished with non-zero exit value 1

* Try:
Run with --stacktrace option to get the stack trace. Run with --debug option to get more log output. Run with --scan to get full insights.

* Get more help at https://help.gradle.org

BUILD FAILED in 2s
19 actionable tasks: 1 executed, 18 up-to-date
Watching 1075 directories to track changes
Watching 1075 directories to track changes
Watching 1074 directories to track changes
Watching 1073 directories to track changes
Watching 1072 directories to track changes
Watching 1071 directories to track changes
Watching 1070 directories to track changes
Watching 1069 directories to track changes
Watching 1068 directories to track changes
Watching 1067 directories to track changes
Watching 1066 directories to track changes
Watching 1066 directories to track changes
Watching 1066 directories to track changes
Watching 1065 directories to track changes
Watching 1064 directories to track changes
Watching 1063 directories to track changes
Watching 1063 directories to track changes
```

with `--stacktrace`
```
&gt; Task :jpackage FAILED
Error: Invalid or unsupported type: [rpm]


FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':jpackage'.
&gt; Process 'command '/usr/lib/jvm/adoptopenjdk-16-hotspot-amd64/bin/jpackage'' finished with non-zero exit value 1

* Try:
Run with --info or --debug option to get more log output. Run with --scan to get full insights.

* Exception is:
org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':jpackage'.
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:188)
        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:186)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:174)
        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)
        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)
        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)
        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)
        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)
        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)
        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)
        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)
        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)
        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)
        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)
Caused by: org.gradle.process.internal.ExecException: Process 'command '/usr/lib/jvm/adoptopenjdk-16-hotspot-amd64/bin/jpackage'' finished with non-zero exit value 1
        at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:414)
        at org.gradle.process.ExecResult$assertNormalExitValue.call(Unknown Source)
        at org.beryx.jlink.impl.JPackageTaskImpl$_execute_closure1.doCall(JPackageTaskImpl.groovy:106)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at org.beryx.jlink.impl.JPackageTaskImpl.execute(JPackageTaskImpl.groovy:70)
        at org.beryx.jlink.JPackageTask.jpackageTaskAction(JPackageTask.groovy:80)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)
        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)
        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)
        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:506)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)
        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:491)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:474)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:106)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:271)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:249)
        at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:83)
        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:37)
        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)
        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)
        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)
        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:47)
        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:37)
        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)
        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)
        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:50)
        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)
        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)
        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)
        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)
        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)
        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)
        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:54)
        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:35)
        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)
        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)
        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:174)
        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:74)
        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:45)
        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:40)
        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:29)
        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)
        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)
        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:99)
        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:92)
        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)
        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)
        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:85)
        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:42)
        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)
        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)
        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:91)
        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)
        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:106)
        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:51)
        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:72)
        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:46)
        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:86)
        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)
        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:32)
        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)
        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:43)
        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:31)
        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$2.withWorkspace(ExecuteActionsTaskExecuter.java:284)
        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)
        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)
        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)
        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)
        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)
        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)
        at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:185)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:174)
        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)
        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)
        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)
        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)
        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)
        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)
        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)
        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)
        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)
        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)
        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)
        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)
        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)


* Get more help at https://help.gradle.org

BUILD FAILED in 1s
19 actionable tasks: 1 executed, 18 up-to-date
```</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<aside class="onebox githubissue" data-onebox-src="https://github.com/sparrowwallet/sparrow/issues/197">
  <header class="source">

      <a href="https://github.com/sparrowwallet/sparrow/issues/197" target="_blank" rel="noopener nofollow ugc">github.com/sparrowwallet/sparrow</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/sparrowwallet/sparrow/issues/197" target="_blank" rel="noopener nofollow ugc">SystemModulesPlugin sometimes breaks reproducibility by encoding different ModuleDescriptor hashCodes</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-09-10" data-time="15:22:09" data-timezone="UTC">03:22PM - 10 Sep 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/craigraw" target="_blank" rel="noopener nofollow ugc">
          <img alt="craigraw" src="https://avatars.githubusercontent.com/u/862166?v=4" class="onebox-avatar-inline" width="20" height="20">
          craigraw
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">The `SystemModulesPlugin` used by `jlink` builds two class files, `SystemModules<span class="show-more-container"><a href="http://forums.whonix.org" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">$all.class` and `SystemModules$default.class`. These class files encode and build the modules for the application. The `build` method takes an `int` as input, which is calculated by the `SystemModulesPlugin` as the result of `ModuleDescriptor.hashCode()`. The value of this hashcode is cached, and in some cases (it appears) set by a constructor.

These values can however differ when building on different machines, affecting build reproducibility. The following `diffoscope` output documents differences in 6 modules across the two classes for the same source built on different machines (both amd64/x86_64 Debian-based OS). It is not clear however why they differ, since `ModuleDescriptor.hashCode()` should be deterministic given the same module configuration.

```
diffoscope ~/sparrow/modules/build/modules-extracted/java.base/jdk/internal/module/SystemModules\$all.class ~/sparrow/modules/github-binaries/modules-extracted/java.base/jdk/internal/module/SystemModules\$all.class
```
```diff
         builder87.opens(new ModuleDescriptor.Opens[0]);
         builder87.uses(of20);
         builder87.provides(new ModuleDescriptor.Provides[0]);
         builder87.packages(Set.of("com.github.arteam.simplejsonrpc.client", "com.github.arteam.simplejsonrpc.client.builder", "com.github.arteam.simplejsonrpc.client.exception", "com.github.arteam.simplejsonrpc.client.generator", "com.github.arteam.simplejsonrpc.client.metadata"));
         builder87.version("1.0");
-        array[72] = builder87.build(1494625572);
+        array[72] = builder87.build(1683523855);
         final Builder builder88 = new Builder("simple.json.rpc.server");
         builder88.open(true);
         builder88.requires(new ModuleDescriptor.Requires[] { Builder.newRequires(of12, "com.fasterxml.jackson.databind"), Builder.newRequires(of12, "com.google.common"), Builder.newRequires(of12, "java.base"), Builder.newRequires(of12, "org.slf4j"), Builder.newRequires(of12, "simple.json.rpc.core") });
         builder88.exports(new ModuleDescriptor.Exports[] { Builder.newExports(of, "com.github.arteam.simplejsonrpc.server") });
         builder88.opens(new ModuleDescriptor.Opens[0]);
         builder88.uses(of20);
         builder88.provides(new ModuleDescriptor.Provides[0]);
         builder88.packages(Set.of("com.github.arteam.simplejsonrpc.server", "com.github.arteam.simplejsonrpc.server.metadata"));
         builder88.version("1.0");
-        array[73] = builder88.build(555683016);
+        array[73] = builder88.build(744581299);
         final Builder builder89 = new Builder("tornadofx.controls");
         builder89.open(true);
         builder89.requires(new ModuleDescriptor.Requires[] { Builder.newRequires(of12, "java.base"), Builder.newRequires(of12, "javafx.controls") });
         builder89.exports(new ModuleDescriptor.Exports[] { Builder.newExports(of, "tornadofx.control") });
         builder89.opens(new ModuleDescriptor.Opens[0]);
         builder89.uses(of20);
         builder89.provides(new ModuleDescriptor.Provides[0]);
         builder89.packages(Set.of("tornadofx.control", "tornadofx.control.skin", "tornadofx.converter", "tornadofx.property", "tornadofx.table"));
         builder89.version("1.0.4");
-        array[74] = builder89.build(1570093334);
+        array[74] = builder89.build(1758991617);
         final Builder builder90 = new Builder("com.sparrowwallet.sparrow");
         builder90.open(true);
```

```
diffoscope ~/sparrow/modules/build/modules-extracted/java.base/jdk/internal/module/SystemModules\$default.class ~/sparrow/modules/github-binaries/modules-extracted/java.base/jdk/internal/module/SystemModules\$default.class
```
```diff
--- /home/nyxnor/sparrow/modules/build/modules-extracted/java.base/jdk/internal/module/SystemModules$default.class
+++ /home/nyxnor/sparrow/modules/github-binaries/modules-extracted/java.base/jdk/internal/module/SystemModules$default.class
├── procyon -ec {}
@@ -449,55 +449,55 @@
         builder20.requires(new ModuleDescriptor.Requires[] { Builder.newRequires(of12, "java.base"), Builder.newRequires(of12, "javafx.base"), Builder.newRequires(of12, "javafx.controls"), Builder.newRequires(of12, "javafx.graphics") });
         builder20.exports(new ModuleDescriptor.Exports[] { Builder.newExports(of, "de.codecentric.centerdevice") });
         builder20.opens(new ModuleDescriptor.Opens[0]);
         builder20.uses(of20);
         builder20.provides(new ModuleDescriptor.Provides[0]);
         builder20.packages(Set.of("de.codecentric.centerdevice", "de.codecentric.centerdevice.dialogs.about", "de.codecentric.centerdevice.glass", "de.codecentric.centerdevice.icns", "de.codecentric.centerdevice.labels", "de.codecentric.centerdevice.listener", "de.codecentric.centerdevice.util"));
         builder20.version("2.1.7");
-        array[9] = builder20.build(-218088662);
+        array[9] = builder20.build(-29190379);
         final Builder builder21 = new Builder("co.nstant.in.cbor");
         builder21.open(true);
         builder21.requires(new ModuleDescriptor.Requires[] { Builder.newRequires(of12, "java.base") });
         builder21.exports(new ModuleDescriptor.Exports[] { Builder.newExports(of, "co.nstant.in.cbor") });
         builder21.opens(new ModuleDescriptor.Opens[0]);
         builder21.uses(of20);
         builder21.provides(new ModuleDescriptor.Provides[0]);
         builder21.packages(Set.of("co.nstant.in.cbor", "co.nstant.in.cbor.builder", "co.nstant.in.cbor.decoder", "co.nstant.in.cbor.encoder", "co.nstant.in.cbor.model"));
         builder21.version("0.9");
-        array[10] = builder21.build(-1386751763);
+        array[10] = builder21.build(-1197853480);
         final Builder builder22 = new Builder("com.beust.jcommander");
         builder22.open(true);
         builder22.requires(new ModuleDescriptor.Requires[] { Builder.newRequires(of12, "java.base") });
         builder22.exports(new ModuleDescriptor.Exports[] { Builder.newExports(of, "com.beust.jcommander") });
         builder22.opens(new ModuleDescriptor.Opens[0]);
         builder22.uses(of20);
         builder22.provides(new ModuleDescriptor.Provides[0]);
         builder22.packages(Set.of("com.beust.jcommander", "com.beust.jcommander.converters", "com.beust.jcommander.defaultprovider", "com.beust.jcommander.internal", "com.beust.jcommander.validators"));
         builder22.version("1.81");
-        array[11] = builder22.build(121114450);
+        array[11] = builder22.build(310012733);
         final Builder builder23 = new Builder("com.fasterxml.jackson.core");
         builder23.open(true);
         builder23.requires(new ModuleDescriptor.Requires[] { Builder.newRequires(of12, "java.base") });
```

### Files

[diffoscope-all.class.txt](https://github.com/sparrowwallet/sparrow/files/7139923/diffoscope-all.class.txt)
[diffoscope-default.class.txt](https://github.com/sparrowwallet/sparrow/files/7139926/diffoscope-default.class.txt)</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>22 days ago the developer said to try again: <a href="https://github.com/sparrowwallet/sparrow/issues/197#issuecomment-1205237835" rel="noopener nofollow ugc">https://github.com/sparrowwallet/sparrow/issues/197#issuecomment-1205237835</a><br>
But really I am tired of compiling, java is resource hungry to build.<br>
So the thing is, the developer said: “try again”<br>
He didn’t say: “it is working, try again”</p>
<p>So if you videoclip your build and <code>diff -R</code> the built directory and the release directory and the output is exactly <code>0</code>, let me know.</p>
<p>Also deterministic doesn’t mean that it is building deterministically only on the maintainer machine, but on all new debian installs.</p>
<blockquote>
<p>build process from source is trivial,</p>
</blockquote>
<p>False.</p>
<p>Reason 1 is java is resource hungry, try to build it and see how much ram and cpu it uses.</p>
<p>Reason 2: docs to build are incomplete, <a href="https://github.com/sparrowwallet/sparrow/pull/200" rel="noopener nofollow ugc">https://github.com/sparrowwallet/sparrow/pull/200</a></p>
<p>Reason 3: the developer advertised it is a reproducible build before it being reproducible, and hasn’t removed it yet, because it is not.</p>
<blockquote>
<p>Focused on privacy</p>
</blockquote>
<p>Besides BIP47, the rest is using a centralized coinjoin server by samourai, the whirlpool.</p>
<aside class="quote no-group" data-username="wilaam" data-post="1" data-topic="14628">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/w/bbe5ce/40.png" class="avatar"> wilaam:</div>
<blockquote>
<p>Works more efficiently with whonix (Electrum doesn’t work for me when started with stream isolation with torsocks, Sparrow works fine)</p>
</blockquote>
</aside>
<p>Read the docs <a href="https://www.whonix.org/wiki/Electrum#Electrum:_First_Run" class="inline-onebox" rel="noopener nofollow ugc">How-to: Use Electrum Bitcoin Wallet in Whonix ™</a></p>
<p>It is not to start with torsocks, it is to set its own socksport.<br>
Electrum respects the proxy field.</p>
<aside class="quote no-group" data-username="wilaam" data-post="1" data-topic="14628">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/w/bbe5ce/40.png" class="avatar"> wilaam:</div>
<blockquote>
<p>Problems:<br>
Impossibility of updating via apt, only self-assembly or installation of deb from github. Whonix developers will either have to build themselves and add whonix to the whonix repository, or install each whonix update as a deb package from github (cannot be updated via apt upgrade)</p>
</blockquote>
</aside>
<p>That is the main reason that it is not gonna happen.</p>
<p>I don’t disagreee that Sparrow is better than Electrum with UX and features, I’m just saying that it doesn’t meet 2 requirements:</p>
<ul>
<li>not reproduble</li>
<li>not available <a href="http://deb.debian.org" rel="noopener nofollow ugc">deb.debian.org</a>
</li>
</ul>
          <p><a href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/2</link>
        <pubDate>Fri, 26 Aug 2022 13:13:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14628-2</guid>
        <source url="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss">Design proposal. Replace electrum to sparrow</source>
      </item>
      <item>
        <title>Design proposal. Replace electrum to sparrow</title>
        <dc:creator><![CDATA[wilaam]]></dc:creator>
        <description><![CDATA[
            <p>Design proposal: Replace electrum bitcoin wallet with a more privacy and anonymity oriented Sparrow wallet? electrum is the standard, popular and installed by default in Tails, but lacks many important privacy (and user experience) features.<br>
<code>http://sparrowa7io5pz6ud3ehqzosvepbxbxt2zphmkjsylp2zgxooko23pqd.onion</code><br>
<code>https://sparrowwallet.com/</code></p>
<p>Reasons to leave Electrum:<br>
Popularity and time tested<br>
Ability to easily update via apt,</p>
<p>Reasons to replace Electrum:<br>
Sparrow supports deterministic builds, build process from source is trivial, instructions on github,<br>
Focused on privacy, security and convenience, description: <code>http://sparrowa7io5pz6ud3ehqzosvepbxbxt2zphmkjsylp2zgxooko23pqd.onion/features/</code><br>
Provides the ability to check the signatures of installation files.<br>
Works more efficiently with whonix (Electrum doesn’t work for me when started with stream isolation with torsocks, Sparrow works fine)</p>
<p>Problems:<br>
Impossibility of updating via apt, only self-assembly or installation of deb from github. Whonix developers will either have to build themselves and add whonix to the whonix repository, or install each whonix update as a deb package from github (cannot be updated via apt upgrade)</p>
          <p><a href="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628/1</link>
        <pubDate>Fri, 26 Aug 2022 11:38:09 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-14628-1</guid>
        <source url="http://forums.whonix.org/t/design-proposal-replace-electrum-to-sparrow/14628.rss">Design proposal. Replace electrum to sparrow</source>
      </item>
  </channel>
</rss>
