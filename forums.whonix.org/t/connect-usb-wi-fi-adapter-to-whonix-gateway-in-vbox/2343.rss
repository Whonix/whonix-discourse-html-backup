<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</title>
    <link>http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343</link>
    <description>Hi guys. I have this question for you:

I want to use a separate network connection for Whonix Gateway (in Virtualbox) instead of the standard NAT translation from the host. How can I connect an USB Wi-Fi Adapter (with its own Internet connection) only accessible by the Whonix Gateway?

I guess that I should disable the Adapter 1 (NAT) from Vbox Gateway, Network settings, then enable USB controller on the Gateway, plug the USB Wi-Fi adapter and connect to the Wi-Fi Internet inside the Gateway?

But how does the gateway knows how to handle the Internet from within? (because I guess it is preconfigured to handle the #1 adapter NAT). Should I make some changes to the firewall to make it work, or it will detect Internet connection automatically and just work out of the box?

Thanks for support. I can give you more specific if it is needed to solve this.</description>
    <language>en</language>
    <lastBuildDate>Fri, 30 Jul 2021 16:16:55 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</title>
        <dc:creator><![CDATA[Tirket]]></dc:creator>
        <description><![CDATA[
            <p>Hello,<br>
I would like to connect an usb dongle to the Wohix Gateway instead of NAT. I’m using Windows as the host machine and Oracle Virtual Box. The USB network adaper I am using is " Alfa Network AWUS036NHA".  How can I do that?</p>
          <p><a href="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/10">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/10</link>
        <pubDate>Fri, 30 Jul 2021 16:16:55 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2343-10</guid>
        <source url="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343.rss">Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</source>
      </item>
      <item>
        <title>Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="4" data-topic="2343">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/s/e68b1a/40.png" class="avatar"> sakocfhn0:</div>
<blockquote>
<p>create a separate pre-gateway VM</p>
</blockquote>
</aside>
<p>Qubes OS makes this easy and fits your requirements (host has no connectivity through wifi if you choose). However, you still need to get your adapter working in a linux distribution first.</p>
          <p><a href="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/9">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/9</link>
        <pubDate>Thu, 21 Apr 2016 19:20:22 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2343-9</guid>
        <source url="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343.rss">Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</source>
      </item>
      <item>
        <title>Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>As per <a href="https://www.whonix.org/wiki/Support#Free_Support_Principle">https://www.whonix.org/wiki/Support#Free_Support_Principle</a>… Do<br>
you know how to get the WLAN-USB-Adapter to work with Debian (in a VM or<br>
a host) using ifupdown (cli)? If yes, you know most on how to do it<br>
using Whonix, since it’s based on Debian.</p>
<p>There are no removed kernel drivers in Whonix, but other distributions,<br>
perhaps even Debian, might install more WLAN-USB-Adapter driver packages<br>
by default so it would be a matter as finding out which is the missing<br>
one and installing it.</p>
<p>Setting up WLAN-USB-Adapter on Debian can be difficult depending on the<br>
hardware. That’s why you have to figure that out yourself first as per<br>
<a href="https://www.whonix.org/wiki/Support#Free_Support_Principle">https://www.whonix.org/wiki/Support#Free_Support_Principle</a>.</p>
          <p><a href="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/8">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/8</link>
        <pubDate>Thu, 21 Apr 2016 15:42:02 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2343-8</guid>
        <source url="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343.rss">Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</source>
      </item>
      <item>
        <title>Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<aside class="quote" data-post="6" data-topic="2343">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/s/e68b1a/40.png" class="avatar"> sakocfhn0:</div>
<blockquote>
<p>if I disable it, would I still have to connect to the Internet on the host OS, though only VBox will make use of the connectivity?</p>
</blockquote>
</aside>
<p>No, under such circumstances, your WLAN-USB-Adapter would only be accessible via the Gateway for the duration of use.</p>
<p>In regards to whether or not Whonix has some removed drivers compared with Debian, as far as I can tell, this is not the case, though someone like <a class="mention" href="http://forums.whonix.org/u/patrick">@Patrick</a> who knows the code better would have to clarify this.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/7</link>
        <pubDate>Thu, 21 Apr 2016 15:36:41 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2343-7</guid>
        <source url="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343.rss">Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</source>
      </item>
      <item>
        <title>Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</title>
        <dc:creator><![CDATA[sakocfhn0]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="http://forums.whonix.org/u/ego">@Ego</a>: I have edited the above post with more details. If you can reply on that, it would be nice.</p>
<p>As for the “VirtualBox Bridged Networking Driver”, if I disable it, would I still have to connect to the Internet on the host OS, though only VBox will make use of the connectivity? Or how does this actually works?</p>
          <p><a href="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/6</link>
        <pubDate>Thu, 21 Apr 2016 12:57:11 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2343-6</guid>
        <source url="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343.rss">Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</source>
      </item>
      <item>
        <title>Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<p>You need to deactivate the “VirtualBox Bridged Networking Driver” so your host can’t access it any longer.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/5</link>
        <pubDate>Thu, 21 Apr 2016 12:51:54 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2343-5</guid>
        <source url="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343.rss">Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</source>
      </item>
      <item>
        <title>Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</title>
        <dc:creator><![CDATA[sakocfhn0]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="2" data-topic="2343">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/ego/40/45_1.png" class="avatar"> Ego:</div>
<blockquote>
<p>Depends on the host. Under Debian, it’s enough to change networking from NAT to Bridge and selecting Eth1, as that is how USB network adapters are usually recogniced under Debian.</p>
</blockquote>
</aside>
<p>If I change the network adapter <span class="hashtag">#1</span> from NAT to Bridged (USB Adapter), that means that I still have to first connect to the Wi-Fi from the host OS (i.e. Windows) and as a result, both the host OS and the Whonix Gateway will have Internet connectivity.</p>
<p>I want to avoid the host being connected to Internet at any time, only the Whonix Gateway should have Internet connectivity. Is there any way I can accomplish this on the host OS using some kind of firewall?</p>
<aside class="quote" data-post="3" data-topic="2343">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>As you know, if you passthrough the USB device to the Gateway VM, it most likely will not be recognized as eth0.</p>
</blockquote>
</aside>
<p>I have actually connected the USB Wi-Fi Adapter via VBox to the Gateway VM, though it seems is it not recognized automatically by Whonix Gateway as wlan0 or as any wireless adapter. Maybe Whonix Gateway is stripped down and I have to manually install the drivers for the adapter? Normally, most Linux distributions including standard Debian, recognizes this USB adapter I was trying with. Not even manually installing the driver did not work, since there were some gcc compiler errors.</p>
<aside class="quote" data-post="3" data-topic="2343">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/e/8dc957/40.png" class="avatar"> entr0py:</div>
<blockquote>
<p>Whonix is hard-coded (hard-scripted) to use eth0 as its external network adapter. That means you either have to change relevant Whonix scripts to expect wlan0, ethX, etc instead of eth0.</p>
</blockquote>
</aside>
<p>From what I’ve read it seems <strong>udev</strong> might do the trick, but first the USB Wi-Fi Adapter should be recognized as wlan0. Unfortunately it isn’t; explained above…</p>
<hr>
<p>If directly connecting the USB Wi-Fi Adapter to the Whonix Gateway VM is difficult to achieve, this idea might work:</p>
<ul>
<li>create a separate pre-gateway VM (Linux/Windows) for the sole purpose of connecting the USB Adapter and connecting to the Internet.</li>
<li>link the pre-gateway VM Network Adapter to the Whonix Gateway VM Network Adapter <span class="hashtag">#1</span> (via some kind of internal network maybe?)</li>
</ul>
<p>Can you please help me with linking the two networks, so the Whonix Gateway would have Internet connectivity from the pre-gateway VM?</p>
          <p><a href="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/4</link>
        <pubDate>Thu, 21 Apr 2016 12:46:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2343-4</guid>
        <source url="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343.rss">Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</source>
      </item>
      <item>
        <title>Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</title>
        <dc:creator><![CDATA[entr0py]]></dc:creator>
        <description><![CDATA[
            <aside class="quote" data-post="1" data-topic="2343" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/s/e68b1a/40.png" class="avatar"> sakocfhn0:</div>
<blockquote>
<p>How can I connect an USB Wi-Fi Adapter (with its own Internet connection) only accessible by the Whonix Gateway?<br>
… enable USB controller on the Gateway, plug the USB Wi-Fi adapter and connect to the Wi-Fi Internet inside the Gateway?</p>
</blockquote>
</aside>
<p>As you know, if you passthrough the USB device to the Gateway VM, it most likely will not be recognized as eth0. This makes things difficult because…</p>
<aside class="quote" data-post="1" data-topic="2343">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v2/letter/s/e68b1a/40.png" class="avatar"> sakocfhn0:</div>
<blockquote>
<p>But how does the gateway knows how to handle the Internet from within?</p>
</blockquote>
</aside>
<p>Whonix is hard-coded (hard-scripted) to use eth0 as its external network adapter. That means you either have to change relevant Whonix scripts to expect wlan0, ethX, etc instead of eth0. (This is easier to do at build-time because all of the scripts are in the same directory.) Alternatively, (untested by me) you could play with udev rules to change the usb adapter name to eth0.</p>
<p>Easiest option is to follow Ego’s advice and install the usb adapter to your host.</p>
          <p><a href="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/3</link>
        <pubDate>Mon, 18 Apr 2016 17:34:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2343-3</guid>
        <source url="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343.rss">Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</source>
      </item>
      <item>
        <title>Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</title>
        <dc:creator><![CDATA[Ego]]></dc:creator>
        <description><![CDATA[
            <p>Good day,</p>
<p>Depends on the host. Under Debian, it’s enough to change networking from NAT to Bridge and selecting Eth1, as that is how USB network adapters are usually recogniced under Debian. However, this in general is not so much a Whonix, as a VBox question.</p>
<p>Have a nice day,</p>
<p>Ego</p>
          <p><a href="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/2</link>
        <pubDate>Mon, 18 Apr 2016 14:07:07 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2343-2</guid>
        <source url="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343.rss">Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</source>
      </item>
      <item>
        <title>Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</title>
        <dc:creator><![CDATA[sakocfhn0]]></dc:creator>
        <description><![CDATA[
            <p>Hi guys. I have this question for you:</p>
<p>I want to use a separate network connection for Whonix Gateway (in Virtualbox) instead of the standard NAT translation from the host. How can I connect an USB Wi-Fi Adapter (with its own Internet connection) only accessible by the Whonix Gateway?</p>
<p>I guess that I should disable the Adapter 1 (NAT) from Vbox Gateway, Network settings, then enable USB controller on the Gateway, plug the USB Wi-Fi adapter and connect to the Wi-Fi Internet inside the Gateway?</p>
<p>But how does the gateway knows how to handle the Internet from within? (because I guess it is preconfigured to handle the <span class="hashtag">#1</span> adapter NAT). Should I make some changes to the firewall to make it work, or it will detect Internet connection automatically and just work out of the box?</p>
<p>Thanks for support. I can give you more specific if it is needed to solve this.</p>
          <p><a href="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343/1</link>
        <pubDate>Mon, 18 Apr 2016 13:46:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-2343-1</guid>
        <source url="http://forums.whonix.org/t/connect-usb-wi-fi-adapter-to-whonix-gateway-in-vbox/2343.rss">Connect USB Wi-Fi Adapter to Whonix Gateway in VBox</source>
      </item>
  </channel>
</rss>
