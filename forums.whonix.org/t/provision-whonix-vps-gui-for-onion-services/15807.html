<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Provision Whonix VPS (GUI) for Onion Services - Development - Whonix Forum</title>
    <meta name="description" content="I‚Äôve been very excited by the progress of the OnionJuggler project‚Äôs integration into Whonix, which makes administrating an Onion site accessible to individuals without sys admin experience through a TUI. @Patrick @nyxno&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.9 - https://github.com/discourse/discourse version 1503ec07c57898a507395552b765b6808b4e1db9">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/2/222b7257d0600f2bc69cf77e6bc273aa0074ed4e_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="15807.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.whonix.org","potentialAction":{"@type":"SearchAction","target":"https://forums.whonix.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Whonix Forum Search">

      <link href="../../stylesheets/desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5.css_%3b%20filename_%3dUTF-8%27%27desktop_eaead85939ea2f99650f56b40c8681f4e1cb68d5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="../../stylesheets/desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6c.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_f7af26cfd21c1d79bdb82342526b638dccef9d6cd2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="header"/>
<link href="../../stylesheets/desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_4_56ca71d15f2048e2e474553f0c3928756f57aec5d2c8.css?__ws=forums.whonix.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4" data-theme-name="default"/>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/">HOME</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Download">DOWNLOAD</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Documentation">DOCS</a>]
[<a href="../../c/news/21.html">NEWS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Support">SUPPORT</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Forum_Best_Practices">TIPS</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Reporting_Bugs#Issue_Tracker">ISSUES</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contribute">CONTRIBUTE</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Donate">DONATE</a>]
</center>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Provision Whonix VPS (GUI) for Onion Services&#39;" href="15807.rss" />
    <meta property="og:site_name" content="Whonix Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.whonix.org/uploads/default/original/2X/a/ac61071d4245560068a380cd1c08c97d1da2201d.jpeg" />
<meta property="og:image" content="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" />
<meta property="og:url" content="https://forums.whonix.org/t/provision-whonix-vps-gui-for-onion-services/15807" />
<meta name="twitter:url" content="https://forums.whonix.org/t/provision-whonix-vps-gui-for-onion-services/15807" />
<meta property="og:title" content="Provision Whonix VPS (GUI) for Onion Services" />
<meta name="twitter:title" content="Provision Whonix VPS (GUI) for Onion Services" />
<meta property="og:description" content="I‚Äôve been very excited by the progress of the OnionJuggler project‚Äôs integration into Whonix, which makes administrating an Onion site accessible to individuals without sys admin experience through a TUI. @Patrick @nyxnor  The question remains - how does this user provision and configure Whonix on a VPS, in order to be able to use OnionJuggler? I have a proposal and would love feedback on the design before getting started. In addition to being useful for individuals lacking sys admin experience,..." />
<meta name="twitter:description" content="I‚Äôve been very excited by the progress of the OnionJuggler project‚Äôs integration into Whonix, which makes administrating an Onion site accessible to individuals without sys admin experience through a TUI. @Patrick @nyxnor  The question remains - how does this user provision and configure Whonix on a VPS, in order to be able to use OnionJuggler? I have a proposal and would love feedback on the design before getting started. In addition to being useful for individuals lacking sys admin experience,..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="7 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="4 ‚ù§" />
<meta property="article:published_time" content="2022-10-13T08:25:17+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png" alt="Whonix Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="15807.html">Provision Whonix VPS (GUI) for Onion Services</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/development/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/vpsgui'><span itemprop='name'>vpsgui</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15807.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-13T08:25:17Z' class='post-time'>
                October 13, 2022,  8:25am
              </time>
              <meta itemprop='dateModified' content='2022-10-13T08:38:57Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I‚Äôve been very excited by the progress of the OnionJuggler project‚Äôs integration into Whonix, which makes administrating an Onion site accessible to individuals without sys admin experience through a TUI. <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/patrick">@Patrick</a> <a class="mention" href="../../../external.html?link=https://forums.whonix.org/u/nyxnor">@nyxnor</a></p>
<p>The question remains - how does this user provision and configure Whonix on a VPS, in order to be able to use OnionJuggler? I have a proposal and would love feedback on the design before getting started. In addition to being useful for individuals lacking sys admin experience, the hope with this project is to also provide greater security by reducing user error through an ‚Äúinfrastructure as code‚Äù approach.</p>
<h1>
<a name="qubes-whonix-or-whonix-kvm-1" class="anchor" href="#qubes-whonix-or-whonix-kvm-1"></a>Qubes-Whonix or Whonix KVM?</h1>
<p>The first question is whether the VPS should use Qubes-Whonix or Whonix KVM. Any recommendations on this are greatly appreciated. Neither option is particularly documented. The following assumes Whonix KVM, based on this comment made in Nov '20:</p>
<blockquote>
<p>Can Qubes-Whonix use it as server OS for hosting Tor onion hidden service?</p>
<p>If you mean through a remote server (VPS or root server): currently usability for this is still very lacking at time of writing.</p>
<ul>
<li>SSH into Qubes dom0 is hard</li>
<li>no CLI version</li>
<li>no documentation on how to use with CLI on a remote server as far as I am aware off</li>
</ul>
</blockquote>
<p>With the work on qubes-remote-support, does this change anything?</p>
<h1>
<a name="the-gui-design-proposal-2" class="anchor" href="#the-gui-design-proposal-2"></a>The GUI Design Proposal</h1>
<p>The User Experience I am looking for is something like this:</p>
<ul>
<li>Prior: use cryptocurrency to anonymously buy a VPS</li>
<li>use GUI to provision Debian on the VPS</li>
<li>use GUI to distromorph Debian to Kicksecure, then configure Whonix KVM on Kicksecure</li>
<li>use GUI to launch the Onion Juggler TUI window</li>
<li>use GUI to sync local static website with VPS</li>
</ul>
<p>I envision a docs website that would guide the user through this process. Perhaps the best way of sharing the proposed design is a description of each envisioned button:</p>
<p><strong>Button <span class="hashtag">#1:</span> Create VPS</strong></p>
<p>‚ÄòCreate VPS‚Äô links to a documentation website, which provides a step by step guide to provision a Debian VPS at several cloud providers that accept cryptocurrencies, such as:</p>
<ul>
<li>RamNode costs about $5 a month for a server with 1GB of memory and two virtual CPU (vCPU) cores. Only accepts Bitcoin.</li>
<li>NiceVPS costs about ‚Ç¨14.99 a month for a server with 1GB of memory and one vCPU core. Accepts Monero and Zcash.</li>
<li>Cinfu costs about $4.79 a month for a server with 2GB of memory and one vCPU core. Supports Monero and Zcash.</li>
<li>PiVPS costs about $14.97 a month for a server with 1GB of memory and one vCPU core. Supports Monero and Zcash.</li>
<li>SecureDragon costs about $4.99 a month for a server with 1GB of memory and two vCPU cores. Only accepts Bitcoin.</li>
</ul>
<p>Ideally this button would actually do the provisioning with a technology like Terraform, though from what I can tell all of the Terraform Providers, which use the cloud provider API, don‚Äôt accept cryptocurrencies. All major cloud providers‚ÄîAWS, Google Cloud, Microsoft Azure, Alibaba, and so on‚Äîrequire a credit card before approving your account. I haven‚Äôt looked into this closely.</p>
<p><strong>Button <span class="hashtag">#2:</span> Configure Whonix</strong></p>
<p>‚ÄòConfigure Whonix‚Äô takes a Debian VPS and uses configuration management technology to arrive at Kicksecure running Whonix via KVM.</p>
<p>I think that Ansible is the right choice for how this is implemented. It is trusted by the Freedom of Press Foundation (see their GitHub, as a new forum member I can‚Äôt hyperlink) for configuration management. In my view, the main benefit of Ansible (versus shell scripts) is that it can be ‚Äòidempotent‚Äô - it describes an end state of the system, so no matter how many times the user presses the GUI button, nothing changes if the VPS is already at the desired end state.</p>
<p>From ‚ÄúUNIX and Linux System Administration Handbook‚Äù:</p>
<blockquote>
<p>The traditional approach to sysadmin automation is an intricate complex of home-grown shell scripts supplemented by ad hoc fire fighting when scripts fail. This scheme works about as well as you might expect. Over time, systems managed in this way usually degenerate into a chaotic wreckage of package versions and configurations that can‚Äôt be reliably reproduced. It‚Äôs sometimes called the snowflake model of system administration because no two systems are ever alike.</p>
</blockquote>
<p>An Ansible Playbook would be maintained which</p>
<ul>
<li>Distromorphs Debian to Kicksecure</li>
<li>Configures Whonix KVM as per the Wiki</li>
<li>Configures an automated update mechanism</li>
<li>Etc.</li>
</ul>
<p>If Qubes-Whonix was the direction, this button would use Salt rather than Ansible.</p>
<p>The goal is that the user never needs to interact with a CLI in order for the VPS to be properly configured and up to date.</p>
<p><strong>Button <span class="hashtag">#3:</span> Onion Juggler</strong></p>
<p>‚ÄòOnion Juggler‚Äô establishes an SSH connection and launches the Onion Juggler TUI in Whonix-Workstation.</p>
<p><strong>Button <span class="hashtag">#4:</span> Sync Static Website</strong></p>
<p>‚ÄòSync Static Website‚Äô will prompt the user for the directory location of the static website, establish an SSH connection, and syncs the local directory with the files served by Onion Juggler on the VPS.</p>
<p>The documentation also provides advice on how the user can create a static website. The most user friendly option is the desktop app Publii, though any Static Site Generator is possible of course.</p>
<p><strong>Button <span class="hashtag">#5:</span> Settings</strong></p>
<p>Any settings that need to be modified can be done in Settings: local SSH key location, local static website directory location, etc.</p>
<p>What do people think of a project like this? Is there a better approach? Any feedback is very appreciated!</p>
        </div>

        <meta itemprop='headline' content='Provision Whonix VPS (GUI) for Onion Services'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15807.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-13T08:34:43Z' class='post-time'>
                October 13, 2022,  8:34am
              </time>
              <meta itemprop='dateModified' content='2022-10-13T08:34:43Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Do you have development skills to implement this?</p>
<p>Or is this a feature request?</p>
        </div>

        <meta itemprop='headline' content='Provision Whonix VPS (GUI) for Onion Services'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/vpsgui'><span itemprop='name'>vpsgui</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15807.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-13T08:36:21Z' class='post-time'>
                October 13, 2022,  8:36am
              </time>
              <meta itemprop='dateModified' content='2022-10-13T08:36:21Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This account represents a team that has development skills in python GUIs, devops, and Ansible. Before we got started we wanted to float the idea to the community for input.</p>
        </div>

        <meta itemprop='headline' content='Provision Whonix VPS (GUI) for Onion Services'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/nyxnor'><span itemprop='name'>nyxnor</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15807.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-13T10:21:39Z' class='post-time'>
                October 13, 2022, 10:21am
              </time>
              <meta itemprop='dateModified' content='2022-10-13T10:21:39Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Would very much be interested in a GUI.</p>
<blockquote>
<p>With the work on qubes-remote-support, does this change anything?</p>
</blockquote>
<p>Will leave this for Adrelanos to answer but Qubes is not prepared to be a server on VPS for example, but can me managed remotely via qubes-remote-support.</p>
<blockquote>
<p><strong>Button <span class="hashtag">#1:</span> Create VPS</strong><br>
‚ÄòCreate VPS‚Äô links to a documentation website, which provides a step by step guide to provision a Debian VPS at several cloud providers that accept cryptocurrencies, such as:</p>
</blockquote>
<p>This can only be a doc I believe, it is difficult to find non-KYC VPS and have individual APIs conform build with Terraform for example. But IDK, best to check it.</p>
<blockquote>
<p><strong>Button <span class="hashtag">#2:</span> Configure Whonix</strong><br>
‚ÄòConfigure Whonix‚Äô takes a Debian VPS and uses configuration management technology to arrive at Kicksecure running Whonix via KVM.</p>
</blockquote>
<p>This would be cool.</p>
<blockquote>
<p><strong>Button <span class="hashtag">#3:</span> Onion Juggler</strong><br>
‚ÄòOnion Juggler‚Äô establishes an SSH connection and launches the Onion Juggler TUI in Whonix-Workstation.</p>
</blockquote>
<p>The GUI will &gt; <strong>Button <span class="hashtag">#2:</span> Configure Whonix</strong> but not have GUI for OnionJuggler?<br>
I believe a GUI for OnionJuggler would facilitate a lot the usage, but then would require VNC instead of SSH as X11 forwarding is a security risk. But if it is out of scope of the GUI, then no problem, I continue the TUI.</p>
<blockquote>
<p><strong>Button <span class="hashtag">#4:</span> Sync Static Website</strong><br>
‚ÄòSync Static Website‚Äô will prompt the user for the directory location of the static website, establish an SSH connection, and syncs the local directory with the files served by Onion Juggler on the VPS.</p>
</blockquote>
<p>This would also be cool. Reload the webserver at the end for the changes to be applied.</p>
<aside class="quote no-group" data-username="vpsgui" data-post="1" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/v/cc9497/40.png" class="avatar"> vpsgui:</div>
<blockquote>
<p><strong>Button <span class="hashtag">#5:</span> Settings</strong></p>
<p>Any settings that need to be modified can be done in Settings: local SSH key location, local static website directory location, etc.</p>
<p>What do people think of a project like this? Is there a better approach? Any feedback is very appreciated!</p>
</blockquote>
</aside>
<p>All relevant settings can be modified in the GUI, then yes.</p>
<p>Let‚Äôs assume onionjuggler.conf is <em>ceteris paribus</em> because there is no need for the user to modify them as they already work, and the end-user is unexperienced, he just needs to setup an onion service. The service name does not matter much, it is just for identification. The ports do matter though, although it is probably gonna be <code>80 127.0.0.1:80</code> something to worry about much.</p>
<p>The remaining settings are <code>ssh keys location</code>, <code>ssh config</code> to set the VPS block <code>host</code>, <code>hostname</code>, <code>keys</code>, <code>user</code>, etc. The other settings are local directory and remote directory of static website. Plus maybe some authorization code from the VPS. I‚Äôve never seen a GUI for handling this type of actions, should be interesting. Also an option to see logs from the GUI is very useful, see <code>tor-control-panel</code> for example of actions to be done on this new GUI</p><aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.whonix.org/wiki/Tor-control-panel">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://www.whonix.org/wiki/Tor-control-panel" target="_blank" rel="noopener" title="01:04AM - 02 December 2021">Whonix ‚Äì 2 Dec 21</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:658/493;"><img src="../../../external.html?link=https://www.whonix.org/w/images/b/b2/Tor-control-panel-control.png" class="thumbnail" width="658" height="493"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Tor-control-panel" target="_blank" rel="noopener">Tor Control Panel</a></h3>

  <p>Tor start, stop, control, logs, utilities</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Provision Whonix VPS (GUI) for Onion Services'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15807.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-13T14:56:56Z' class='post-time'>
                October 13, 2022,  2:56pm
              </time>
              <meta itemprop='dateModified' content='2022-10-13T14:56:56Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Before we go too far‚Ä¶ May I suggest some very small steps please? Most importantly:<br>
VPS implies virtualization. So the server itself is based on virtualization. I.e. nested virtualization.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.kicksecure.com/wiki/Nested_Virtualization">
  <header class="source">
      <img src="../../../external.html?link=https://www.kicksecure.com/w/images/4/45/Kicksecure-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Nested_Virtualization" target="_blank" rel="noopener" title="12:27PM - 01 September 2022">Kicksecure ‚Äì 1 Sep 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:625/500;"><img src="../../../external.html?link=https://www.kicksecure.com/w/images/c/c0/Mastomys-332686640.jpg?version=6e5379443148bb8451898b49a23240c9" class="thumbnail" width="625" height="500"></div>

<h3><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Nested_Virtualization" target="_blank" rel="noopener">Nested Virtualization</a></h3>

  <p>It is possible to run Virtual Machines (VMs) inside other VMs. That is called Nested Virtualization.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Before considering a GUI. Can you run Whonix on a VPS?</p>
<p>If not, maybe this will only be possible on root servers.</p>
<aside class="quote no-group" data-username="vpsgui" data-post="1" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/v/cc9497/40.png" class="avatar"> vpsgui:</div>
<blockquote>
<p>accept cryptocurrencies</p>
</blockquote>
</aside>
<p>But is anonymous registration allowed?<br>
Accept cryptocurrencies is nice but doesn‚Äôt necessarily mean anonymous / pseudonymous registration permitted.</p>
<aside class="quote no-group quote-modified" data-username="nyxnor" data-post="4" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<blockquote>
<p>With the work on qubes-remote-support, does this change anything?</p>
</blockquote>
<p>Will leave this for Adrelanos to answer but Qubes is not prepared to be a server on VPS for example, but can me managed remotely via qubes-remote-support.</p>
</blockquote>
</aside>
<p>Qubes isn‚Äôt really designed to be run on a VPS at time of writing since it requires a GUI. There no Qubes CLI version at time of writing.</p>
<p>qubes-remote-support is completed, available but also primarily used with a GUI to remote administrate GUI systems.</p>
        </div>

        <meta itemprop='headline' content='Provision Whonix VPS (GUI) for Onion Services'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/vpsgui'><span itemprop='name'>vpsgui</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15807.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-14T09:39:50Z' class='post-time'>
                October 14, 2022,  9:39am
              </time>
              <meta itemprop='dateModified' content='2022-10-14T09:55:43Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>But is anonymous registration allowed?</p>
</blockquote>
</aside>
<p>The list I provided is from the No Starch Press book ‚ÄúHow to Hack Like A Ghost‚Äù (Ch 1. Becoming Anonymous Online), so are collected with an eye to KYC policies. For the documentation idea, I‚Äôm imagining a more extensive list with a walkthrough of anonymously provisioning a VPS for each VPS service we are aware of that is affordable and anonymous. This list would be maintained to reflect changing policies and would have abundant screenshots to make it easy to follow.</p>
<p>If automated provisioning with Terraform isn‚Äôt an option anyways, another option provided in the book:</p>
<blockquote>
<p>Some services, like BitLaunch, can act as a simple intermediary. BitLaunch accepts Bitcoin payments but then spawns servers on DigitalOcean and Linode using its own account (for three times the price, of course, which is downright outrageous). Another intermediary service with a slightly better deal is bithost, which still takes a 50 percent commission. The trade-off, on top of the obvious rip-off, is neither of these providers gives you access to the DigitalOcean API, which can help automate much of the setup.</p>
</blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Can you run Whonix on a VPS?</p>
<p>If not, maybe this will only be possible on root servers.</p>
</blockquote>
</aside>
<p>I have not actually tried to run Whonix with nested virtualization yet. My understanding is that in the best case scenario, this is inefficient with resources (which I imagine not being a problem to serve a few static websites), and that in a worst case scenario it causes networking and low level processor issues that can be a nightmare to diagnose and resolve.</p>
<p>Unfortunately it seems that renting a bare metal server is prohibitively expensive for the user base I am imagining. For example, at NiceVPS in the list above, the price jumps from ‚Ç¨14.99 a month for a VPS to ‚Ç¨189.99 a month for a bare metal server.</p>
<p>The following options seem possible to pursue:</p>
<p><strong>1) Whonix KVM on a VPS (nested virtualization)</strong></p>
<p>This could be tested for resource use and any other issues. I worry that issues can be specific to a provider and hard to anticipate, depending on what virtualization technology they are using. If anyone has experience with this, I‚Äôd love to hear about it.</p>
<p><strong>2) Whonix-Ws on one VPS and Whonix-Gw on a second VPS</strong></p>
<p>This seems to be the most desirable option to me. We get the benefits of Whonix without nested virtualization for double the price. Networking can be handled by configuration management (Ansible or otherwise).</p>
<p><strong>3) Kicksecure on a VPS</strong></p>
<p>OnionJuggler can be run on Kicksecure, though we lose some of the security benefits of hosting an onion service on Whonix, such as " Even if somebody hacks the hidden server software ‚Äì such as <code>micro-httpd</code>, <code>nginx</code>, or <code>apache</code> ‚Äì the attacker cannot steal the onion service key or bypass Tor". It would be half the price of option <span class="hashtag">#2</span>.</p>
<p><strong>4) Whonix KVM on a bare metal server</strong></p>
<p>Definitely possible but prohibitively expensive for many users.</p>
<p>Perhaps several of these options could be possible to deploy depending on the user‚Äôs budget and threat model.</p>
<aside class="quote no-group" data-username="Patrick" data-post="5" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Qubes isn‚Äôt really designed to be run on a VPS at time of writing since it requires a GUI.</p>
</blockquote>
</aside>
<p>Thanks for the info. Qubes Whonix would also not have options to avoid nested virtualization, so for just that reason seems less desirable.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="4" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>Would very much be interested in a GUI.</p>
</blockquote>
</aside>
<p>Awesome!</p>
<aside class="quote no-group" data-username="nyxnor" data-post="4" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>This can only be a doc I believe, it is difficult to find non-KYC VPS and have individual APIs conform build with Terraform for example. But IDK, best to check it.</p>
</blockquote>
</aside>
<p>Agreed it warrants investigating. Terraform would especially simplify option <span class="hashtag">#2</span> above involving two VPS instances.</p>
<aside class="quote no-group" data-username="nyxnor" data-post="4" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/nyxnor/40/2874_2.png" class="avatar"> nyxnor:</div>
<blockquote>
<p>I believe a GUI for OnionJuggler would facilitate a lot the usage, but then would require VNC instead of SSH as X11 forwarding is a security risk.</p>
</blockquote>
</aside>
<p>I‚Äôd like to avoid VNC on the remote server if possible. To be clear, I was imagining the GUI being a desktop GUI running on the user‚Äôs local machine (Whonix or Tails depending on user preference), not a GUI running on the remote server. This local GUI would SSH into the remote server behind the scenes. So perhaps the OnionJuggler menu could be in the desktop GUI, and also without needing to use VNC - it would simply run the onionjuggler-cli remotely through SSH. I agree that this would improve usability.</p>
<p>I agree with all of your comments re the Settings button.</p>
        </div>

        <meta itemprop='headline' content='Provision Whonix VPS (GUI) for Onion Services'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15807.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-14T15:02:05Z' class='post-time'>
                October 14, 2022,  3:02pm
              </time>
              <meta itemprop='dateModified' content='2022-10-14T15:02:05Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I suggest try to get Whonix anything working in the cloud first before we get to far ahead with any implementation details.</p>
<aside class="quote no-group" data-username="vpsgui" data-post="6" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/v/cc9497/40.png" class="avatar"> vpsgui:</div>
<blockquote>
<p><strong>1) Whonix KVM on a VPS (nested virtualization)</strong></p>
<p>This could be tested for resource use and any other issues. I worry that issues can be specific to a provider and hard to anticipate, depending on what virtualization technology they are using. If anyone has experience with this, I‚Äôd love to hear about it.</p>
</blockquote>
</aside>
<p>Yeah. If the VPS is for example based on OpenVZ, then it may not be possible to run any other virtualizer and the inter-VM network communication. Needs testing.</p>
<aside class="quote no-group" data-username="vpsgui" data-post="6" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/v/cc9497/40.png" class="avatar"> vpsgui:</div>
<blockquote>
<ol start="2">
<li>Whonix-Ws on one VPS and Whonix-Gw on a second VPS</li>
</ol>
</blockquote>
</aside>
<p>Whonix by default requires a secure connection between the two VMs, Whonix-Gateway and Whonix-Workstation. That‚Äôs a given in the supported virtualizers. When separting Whonix-Gateway and Whonix-Workstation in different cloud accounts it would be unencrypted by default. Encryption is not needed if Whonix is used normally, locally since it stays on the local computer only. Adding encryption / authentication between the two VMs isn‚Äôt implemented at time of writing and also not easy. Needs research and development.</p>
<p>Related:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.whonix.org/wiki/Connections_between_Gateway_and_Workstation">
  <header class="source">
      <img src="../../../external.html?link=https://www.whonix.org/w/images/a/a4/Whonix-home-favicon.ico" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://www.whonix.org/wiki/Connections_between_Gateway_and_Workstation" target="_blank" rel="noopener" title="07:44PM - 13 August 2022">Whonix ‚Äì 13 Aug 22</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/452;"><img src="../../../external.html?link=https://www.whonix.org/w/images/9/95/Binary-503583640.jpg?version=03962e3f529d58dac15f47d547f03bae" class="thumbnail" width="640" height="452"></div>

<h3><a href="../../../external.html?link=https://www.whonix.org/wiki/Connections_between_Gateway_and_Workstation" target="_blank" rel="noopener">Connections between Whonix-Gateway ‚Ñ¢ and Whonix-Workstation ‚Ñ¢</a></h3>

  <p>Authenticated / Encrypted Connections between Whonix-Gateway ‚Ñ¢ and Whonix-Workstation ‚Ñ¢, ARP spoofing defense, SSH, OpenVPN, Using additional (isolated) network interfaces</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-username="vpsgui" data-post="6" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/v/cc9497/40.png" class="avatar"> vpsgui:</div>
<blockquote>
<p>‚Ç¨189.99 a month for a bare metal server.</p>
</blockquote>
</aside>
<p>Many root servers don‚Äôt cost that much but then probably payment methods don‚Äôt offer crypto and/or require KYC. Needs research.</p>
        </div>

        <meta itemprop='headline' content='Provision Whonix VPS (GUI) for Onion Services'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/vpsgui'><span itemprop='name'>vpsgui</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15807.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-15T09:39:06Z' class='post-time'>
                October 15, 2022,  9:39am
              </time>
              <meta itemprop='dateModified' content='2022-10-15T09:39:06Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Yeah. If the VPS is for example based on OpenVZ, then it may not be possible to run any other virtualizer and the inter-VM network communication. Needs testing.</p>
</blockquote>
</aside>
<p>For scenario <strong>1. Whonix KVM on a VPS (nested virtualization)</strong>, could you expand on what testing should cover? I was thinking I would first try a KVM VPS, so KVM in KVM.</p>
<aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Adding encryption / authentication between the two VMs isn‚Äôt implemented at time of writing and also not easy. Needs research and development.</p>
</blockquote>
</aside>
<p>For scenario <strong>2. Whonix-Ws on one VPS and Whonix-Gw on a second VPS</strong>, I would propose using Nebula:</p>
<blockquote>
<p>Nebula is a mutually authenticated peer-to-peer software defined network based on the Noise Protocol Framework. Nebula uses certificates to assert a node‚Äôs IP address, name, and membership within user-defined groups. Nebula‚Äôs user-defined groups allow for provider agnostic traffic filtering between nodes. Discovery nodes allow individual peers to find each other and optionally use UDP hole punching to establish connections from behind most firewalls or NATs. Users can move data between nodes in any number of cloud service providers, datacenters, and endpoints, without needing to maintain a particular addressing scheme.</p>
<p>Nebula uses Elliptic-curve Diffie-Hellman (<code>ECDH</code>) key exchange and <code>AES-256-GCM</code> in its default configuration.</p>
<p>Nebula was created to provide a mechanism for groups of hosts to communicate securely, even across the internet, while enabling expressive firewall definitions similar in style to cloud security groups.</p>
</blockquote>
<p>To see an example configuration for authenticated and end-to-end encrypted channels between VPS instances see the heading " Nebula Setup" at:<br>
blog.malicious.group/automating-c2-infrastructure-with-terraform-nebula-caddy-and-cobalt-strike/</p>
<aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/forums.whonix.org/patrick/40/2848_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Many root servers don‚Äôt cost that much but then probably payment methods don‚Äôt offer crypto and/or require KYC. Needs research.</p>
</blockquote>
</aside>
<p>For scenario <strong>4. Whonix KVM on a bare metal server</strong>, I will try to poke around for affordable bare metal servers that are also anonymous. A more affordable use case for this scenario is owning the hardware, but that comes with a different risk model for the event of a successful deanonymization attack on the onion service in that it is likely to lead to your identity. However, given that this could be acceptable to some it is almost certainly a scenario to include in deployment options, given that we know that it works well.</p>
        </div>

        <meta itemprop='headline' content='Provision Whonix VPS (GUI) for Onion Services'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15807.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-15T09:53:46Z' class='post-time'>
                October 15, 2022,  9:53am
              </time>
              <meta itemprop='dateModified' content='2022-10-15T09:53:46Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="vpsgui" data-post="8" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/v/cc9497/40.png" class="avatar"> vpsgui:</div>
<blockquote>
<p>For scenario <strong>1. Whonix KVM on a VPS (nested virtualization)</strong>, could you expand on what testing should cover? I was thinking I would first try a KVM VPS, so KVM in KVM.</p>
</blockquote>
</aside>
<p>Not yet the time to be picky. So if anything works whatsoever then that‚Äôs great.</p>
<p>Note: I am not a maintainer of Whonix KVM.</p>
        </div>

        <meta itemprop='headline' content='Provision Whonix VPS (GUI) for Onion Services'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/vpsgui'><span itemprop='name'>vpsgui</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15807.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-20T15:35:51Z' class='post-time'>
                October 20, 2022,  3:35pm
              </time>
              <meta itemprop='dateModified' content='2022-10-20T15:35:51Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>For a KVM VPS, nested virtualization needs to be enabled at the host level of the cloud provider:</p>
<p><code>https://docs.kernel.org/next/virt/kvm/x86/running-nested-guests.html#enabling-nested-x86</code></p>
<p>Here is the list of providers from the previous post, but with information on if nested virtualization is supported, and whether they expose an API which can be used by a Terraform Provider:</p>
<h1>
<a name="ramnode-1" class="anchor" href="#ramnode-1"></a>RamNode</h1>
<p>Terraform Provider API:<br>
Openstack<br>
<code>https://registry.terraform.io/providers/terraform-provider-openstack/openstack/latest/docs</code></p>
<p>KVM VPS:<br>
Nested Virtualization supported</p>
<h1>
<a name="nicevps-2" class="anchor" href="#nicevps-2"></a>NiceVPS</h1>
<p>Terraform Provider API:<br>
None.</p>
<p>KVM VPS:<br>
Nested Virtualization supported</p>
<p>Integrity Canary - Bonus:<br>
<code>https://nicevps.net/index/canary</code></p>
<h1>
<a name="cinfu-3" class="anchor" href="#cinfu-3"></a>Cinfu</h1>
<p>VPS is based on OpenVZ (container not a VM), so nested virtualization is unlikely to work well with a KVM image.</p>
<h1>
<a name="pivps-4" class="anchor" href="#pivps-4"></a>PiVPS</h1>
<p>They haven‚Äôt gotten back to me yet.</p>
<h1>
<a name="securedragon-5" class="anchor" href="#securedragon-5"></a>SecureDragon</h1>
<p>Their knowledge base says that they do not accept anonymous orders:</p>
<p><code>https://securedragon.net/clients/index.php?rp=/knowledgebase/205/Why-do-you-not-accept-anonymous-orders-through-proxyorVPN-with-fake-information.html</code></p>
<h1>
<a name="bitlaunch-6" class="anchor" href="#bitlaunch-6"></a>BitLaunch</h1>
<p>Bitlaunch is an intermediary to DigitalOcean, Vultr, and Linode.</p>
<p>Terraform Provider API:<br>
Unofficial (Community)<br>
<code>https://github.com/pathtofiletf/terraform-provider-bitlaunch</code></p>
<p>There is also a command-line tool:<br>
<code>https://developers.bitlaunch.io/docs/cli-tool-blcli</code></p>
<p>VPS:<br>
Nested virtualization is not available, despite being available at some of the primary providers such as Digital Ocean</p>
<p><code>https://www.digitalocean.com/community/questions/does-digitalocean-support-kvm-or-nested-virtulzation</code></p>
<h1>
<a name="bithost-7" class="anchor" href="#bithost-7"></a>Bithost</h1>
<p>Bithost is an intermediary to DigitalOcean, Vultr, Hetzner and Linode.</p>
<p>They haven‚Äôt gotten back to me yet.</p>
<h1>
<a name="conclusions-8" class="anchor" href="#conclusions-8"></a>Conclusions‚Ä¶</h1>
<p>Is it worth testing nested virtualization when there are only two confirmed anonymous providers which support it, both warning of performance issues?  I‚Äôm inclined to think that <strong>scenario <span class="hashtag">#2</span></strong>  (two VPS instances , using Nebula) is more promising in being adaptable to all the VPS providers, and <strong>scenario 3 &amp; 4</strong> could also warrant automated deployments for different budgets.</p>
<p>Low budget:<br>
<strong>3) Kicksecure on a VPS</strong></p>
<p>Medium budget:<br>
<strong>2) Whonix-Ws on one VPS and Whonix-Gw on a second VPS</strong></p>
<p>High budget (or owned hardware):<br>
<strong>4) Whonix KVM on a bare metal server</strong></p>
        </div>

        <meta itemprop='headline' content='Provision Whonix VPS (GUI) for Onion Services'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
            <meta itemprop='name' content='Whonix - Anonymous Operating System'>
              <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/2X/d/d66e6a1341d872ca984eb1f23d30009afef57a4c.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
            <a itemprop="url" href='../../../external.html?link=https://forums.whonix.org/u/Patrick'><span itemprop='name'>Patrick</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="15807.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-10-20T19:20:35Z' class='post-time'>
                October 20, 2022,  7:20pm
              </time>
              <meta itemprop='dateModified' content='2022-10-20T19:20:35Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="vpsgui" data-post="10" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/v/cc9497/40.png" class="avatar"> vpsgui:</div>
<blockquote>
<p>Is it worth testing nested virtualization when there are only two confirmed anonymous providers which support it, both warning of performance issues?</p>
</blockquote>
</aside>
<p>Since you‚Äôre contributing this functionality, I think it‚Äôs good to ask here for user feedback but the call is yours.</p>
<aside class="quote no-group" data-username="vpsgui" data-post="10" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/v/cc9497/40.png" class="avatar"> vpsgui:</div>
<blockquote>
<p>Medium budget:<br>
<strong>2) Whonix-Ws on one VPS and Whonix-Gw on a second VPS</strong></p>
</blockquote>
</aside>
<p>The connection between Whonix-Workstation and Whonix-Gateway might be hard to secure. Also that would introduce more latency depending on how far away the other server is.</p>
<p>Normally the Tor client as far as I know runs on the same machine. For example there isn‚Äôt a long line (internet cable) between Tor Browser and Tor. But there‚Äôs certainly a long line from Tor to the Tor exit relay. By running applications on a different IP than Tor (split Whonix-Workstation and Whonix-Gateway on different IPs with a long line in between) might introduce additional lag. Not sure how much that matters.</p>
<p>Also this opens up for new de-anonymization attacks such as website traffic fingerprinting. Sounds strange, I hope this doesn‚Äôt get cited out of context but in a scenario where Whonix-Gateway runs on a different far away remote computer than Whonix-Workstation the connection between gateway an workstation isn‚Äôt torified.</p>
<aside class="quote no-group" data-username="vpsgui" data-post="10" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/v/cc9497/40.png" class="avatar"> vpsgui:</div>
<blockquote>
<p>Low budget:<br>
<strong>3) Kicksecure on a VPS</strong></p>
</blockquote>
</aside>
<p>This might work too but please test. You could even test that locally if you have enough RAM. Set up a VM and then inside that VM run the two Whonix VMs.</p>
<aside class="quote no-group" data-username="vpsgui" data-post="10" data-topic="15807">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v4/letter/v/cc9497/40.png" class="avatar"> vpsgui:</div>
<blockquote>
<p>High budget (or owned hardware):<br>
<strong>4) Whonix KVM on a bare metal server</strong></p>
</blockquote>
</aside>
<p>That for surely seems the easiest to get something started, a proof of concept, etc.</p>
        </div>

        <meta itemprop='headline' content='Provision Whonix VPS (GUI) for Onion Services'>

        <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://forums.whonix.org/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    <center>
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Imprint">Imprint</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Privacy_Policy">Privacy Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Cookie_Policy">Cookie Policy</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Terms_of_Use">Terms of Use</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/E-Sign_Consent">E-Sign Consent</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/DMCA">DMCA</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Contributors">Contributors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Investors">Investors</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Priority_Support">Priority Support</a>]
[<a href="../../../external.html?link=https://www.whonix.org/wiki/Professional_Support">Professional Support</a>]
</center>
    
  </body>
  
</html>
