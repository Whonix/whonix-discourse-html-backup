<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Whonix-Workstation / Whonix-Gateway - Version 15 - Non-Qubes-Whonix - increase default RAM?</title>
    <link>http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895</link>
    <description>Current Whonix [system requirements](https://www.whonix.org/wiki/System_Requirements) for Non-Qubes-Whonix hosts is 4 GB.

(That is for with Whonix with XFCE. Not for Whonix CLI. Though, that wiki page doesn&#39;t really spell that out.)

Current Default RAM settings for downloadable Non-Qubes-Whonix builds:

* Whonix-Gateway: 512 MB
* Whonix-Workstation: 768 MB

----

Non-Qubes-Whonix requires RAM as per the following:

* 768 MB (workstation RAM)
* 512 MB (gateway RAM)
* 16 MB (gateway video RAM)
* 128 MB (workstation video RAM)

Leaves the host with only around 2576 MB RAM. That&#39;s not much. And not even including any multiple Whonix-Workstation&#39;s. If users are using heavy desktop environments such as KDE, they need at least 2 GB RAM just only for that. If they then also use a host browser or run apt (kernel) upgrades, their system might swap soon and become slow.

---

Non-Qubes-Whonix dynamic / intelligent RAM assignment is currently non-existing due to a number of issues

* There is no Whonix-Host yet. Therefore we can not be more clever an automatically assign more RAM to users VMs if available.
* Memory de-duplication had to be disabled due to [security issues](https://www.whonix.org/wiki/Dev/KVM#Kernel_Samepage_Merging_.28KSM.29).
* Desktop environments realistically available for Whonix (from packages.debian.org, OK usability, ...) require more RAM nowadays than in past.

----

This leads to some issues.

* Therefore we require to use a hack for Whonix-Gateway: https://forums.whonix.org/t/swap-swap-file-whonix-gateway-freezing-during-apt-get-dist-upgrade-encrypted-swap-file-creator/8317 - This makes Whonix-Gateway boot and upgrade slower.
* Opening too many Tor Browser tabs can already make a VM slow or freeze.

----

The only available data on how much RAM users of Whonix have available:

* https://forums.whonix.org/t/user-poll-how-much-ram-do-you-have/6446
* https://twitter.com/Whonix/status/1070983624105676801
* [Therefore cannot autostart i2p by default.](https://forums.whonix.org/t/installation-and-fix-of-i2p-inside-whonix-workstation-by-default/8610/88)

10 % to 15 % (rounded) of Whonix users have only 4 GB RAM.

----

Questions:

* Should default RAM for Whonix-Workstation be increased? To what amount?
* Should default RAM for Whonix-Gateway be increased? To what amount?
* Would that be non-ideal for users with only 4 GB RAM?
* Should we de-prioritize users who have only 4 GB RAM?
* How much RAM should be the new requirement for [Whonix system requirements](https://www.whonix.org/wiki/System_Requirements)?

----

Qubes / Qubes-Whonix is unrelated. This is because:
Qubes / Qubes-Whonix manages RAM far more efficiently.

* Simplified said, &quot;There is no GUI running inside VM.&quot; I mean by that, no &quot;full X server&quot;, lightdm, XFCE is running inside a VM. XFCE desktop environment packages aren&#39;t even installed by default in VMs. X running inside Qubes VMs is connected to X running in dom0. The de-duplication of that saves a ton of RAM.
* Qubes RAM management isn&#39;t as static as &quot;if VM is started, assign it to VM in full&quot;. It dynamically assigns RAM. I.e. VMs that are just auto started but idle need far less RAM. Not sure this might be called memory ballooning.

Therefore Qubes / Qubes-Whonix cannot be compared much to Non-Qubes-Whonix as far as RAM requirements are going.

----

Previous discussions:

* https://forums.whonix.org/t/installation-and-fix-of-i2p-inside-whonix-workstation-by-default/8610/88
* https://forums.whonix.org/t/whonix-workstation-14-increase-default-ram/4796</description>
    <language>en</language>
    <lastBuildDate>Fri, 07 Feb 2020 01:24:53 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Whonix-Workstation / Whonix-Gateway - Version 15 - Non-Qubes-Whonix - increase default RAM?</title>
        <dc:creator><![CDATA[anontor]]></dc:creator>
        <description><![CDATA[
            <p>It would depend on individual machine specs, and choice of hypervisor, but I have found that 1024KB Ram for The Whonix Gateway and also for other gateway-type virtual machines, is usually more than enough. As a matter of fact, I can get away with 768MB for the Whonix Gateway with no issues. Workstations would typically need more, at least 2GB, maybe a bit less would be reasonable depending on what you are working on, or if you need media, etc</p>
          <p><a href="http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895/5</link>
        <pubDate>Fri, 07 Feb 2020 01:24:53 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8895-5</guid>
        <source url="http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895.rss">Whonix-Workstation / Whonix-Gateway - Version 15 - Non-Qubes-Whonix - increase default RAM?</source>
      </item>
      <item>
        <title>Whonix-Workstation / Whonix-Gateway - Version 15 - Non-Qubes-Whonix - increase default RAM?</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="3" data-topic="8895">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>A DE change is a labor intense, big change while increasing default RAM is a very minor build script modification.</p>
</blockquote>
</aside>
<p>I am sensing we hit a wall with how much we can raise the RAM limit and that’s why I’m looking at other options. Will post a thread about some DE ideas soon.</p>
<aside class="quote quote-modified" data-post="1" data-topic="8900">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar">
    <a href="https://forums.whonix.org/t/enlightenment-de/8900">Enlightenment DE</a> <a class="badge-wrapper  bullet" href="http://forums.whonix.org/c/development"><span class="badge-category-bg" style="background-color: #25AAE2;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Hacking on the Whonix software and code. (devs) (list of unmaintained components)">Development</span></a>
  </div>
  <blockquote>
    The Enlightenment Desktop has been around for decades (1997). Sees regular releases (last stable 5 months old). Was designed to be lightweight for running on very resource limited devices like smartphones. It has seen major contributions by Samsung [2]. Supports Wayland and even working on having their own compositor. Can be used along side GNOME/KDE libs and hence applications. 
[1] <a href="https://en.wikipedia.org/wiki/Enlightenment_%28software%29">https://en.wikipedia.org/wiki/Enlightenment_(software)</a> 
[2] <a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=EFL-2.0-First-Bits-In-2018">https://www.phoronix.com/scan.php?page=news_item&amp;px=E…</a>
  </blockquote>
</aside>

          <p><a href="http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895/4</link>
        <pubDate>Thu, 06 Feb 2020 18:45:57 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8895-4</guid>
        <source url="http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895.rss">Whonix-Workstation / Whonix-Gateway - Version 15 - Non-Qubes-Whonix - increase default RAM?</source>
      </item>
      <item>
        <title>Whonix-Workstation / Whonix-Gateway - Version 15 - Non-Qubes-Whonix - increase default RAM?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="HulaHoop" data-post="2" data-topic="8895">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>We can ship GW to run on desktopless mode.</p>
</blockquote>
</aside>
<p>That would be a grave usability regression.</p>
<aside class="quote no-group" data-username="HulaHoop" data-post="2" data-topic="8895">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/letter_avatar_proxy/v4/letter/h/edb3f5/40.png" class="avatar"> HulaHoop:</div>
<blockquote>
<p>Switch GW or both to Enlightenment DE.</p>
</blockquote>
</aside>
<p>Btw desktop environment (DE) isn’t only about RAM. It’s also about other factors such as usability, future-proofness, and in future it will probably also be about which one supports wayland.</p>
<p>For DE change suggestions we would better use a separate forum thread. A DE change is a labor intense, big change while increasing default RAM is a very minor build script modification.</p>
          <p><a href="http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895/3</link>
        <pubDate>Thu, 06 Feb 2020 16:50:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8895-3</guid>
        <source url="http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895.rss">Whonix-Workstation / Whonix-Gateway - Version 15 - Non-Qubes-Whonix - increase default RAM?</source>
      </item>
      <item>
        <title>Whonix-Workstation / Whonix-Gateway - Version 15 - Non-Qubes-Whonix - increase default RAM?</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="1" data-topic="8895">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/patrick/40/17_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Non-Qubes-Whonix requires RAM as per the following:</p>
</blockquote>
</aside>
<p>So for KVM GW is 512, WS was bumped to 2 after that poll.</p>
<p>RAM assignment is on demand and not ouright.</p>
<hr>
<p>Ideas. We can ship GW to run on desktopless mode.</p>
<p>Switch GW or both to Enlightenment DE. It’s even more barebones than xfce, but may have less functionality depending on what we need.</p>
          <p><a href="http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895/2</link>
        <pubDate>Thu, 06 Feb 2020 14:26:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8895-2</guid>
        <source url="http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895.rss">Whonix-Workstation / Whonix-Gateway - Version 15 - Non-Qubes-Whonix - increase default RAM?</source>
      </item>
      <item>
        <title>Whonix-Workstation / Whonix-Gateway - Version 15 - Non-Qubes-Whonix - increase default RAM?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Current Whonix <a href="https://www.whonix.org/wiki/System_Requirements">system requirements</a> for Non-Qubes-Whonix hosts is 4 GB.</p>
<p>(That is for with Whonix with XFCE. Not for Whonix CLI. Though, that wiki page doesn’t really spell that out.)</p>
<p>Current Default RAM settings for downloadable Non-Qubes-Whonix builds:</p>
<ul>
<li>Whonix-Gateway: 512 MB</li>
<li>Whonix-Workstation: 768 MB</li>
</ul>
<hr>
<p>Non-Qubes-Whonix requires RAM as per the following:</p>
<ul>
<li>768 MB (workstation RAM)</li>
<li>512 MB (gateway RAM)</li>
<li>16 MB (gateway video RAM)</li>
<li>128 MB (workstation video RAM)</li>
</ul>
<p>Leaves the host with only around 2576 MB RAM. That’s not much. And not even including any multiple Whonix-Workstation’s. If users are using heavy desktop environments such as KDE, they need at least 2 GB RAM just only for that. If they then also use a host browser or run apt (kernel) upgrades, their system might swap soon and become slow.</p>
<hr>
<p>Non-Qubes-Whonix dynamic / intelligent RAM assignment is currently non-existing due to a number of issues</p>
<ul>
<li>There is no Whonix-Host yet. Therefore we can not be more clever an automatically assign more RAM to users VMs if available.</li>
<li>Memory de-duplication had to be disabled due to <a href="https://www.whonix.org/wiki/Dev/KVM#Kernel_Samepage_Merging_.28KSM.29">security issues</a>.</li>
<li>Desktop environments realistically available for Whonix (from <a href="http://packages.debian.org">packages.debian.org</a>, OK usability, …) require more RAM nowadays than in past.</li>
</ul>
<hr>
<p>This leads to some issues.</p>
<ul>
<li>Therefore we require to use a hack for Whonix-Gateway: <a href="https://forums.whonix.org/t/swap-swap-file-whonix-gateway-freezing-during-apt-get-dist-upgrade-encrypted-swap-file-creator/8317" class="inline-onebox">swap - swap file - Whonix-Gateway freezing during apt-get dist-upgrade - encrypted swap-file-creator</a> - This makes Whonix-Gateway boot and upgrade slower.</li>
<li>Opening too many Tor Browser tabs can already make a VM slow or freeze.</li>
</ul>
<hr>
<p>The only available data on how much RAM users of Whonix have available:</p>
<ul>
<li><a href="https://forums.whonix.org/t/user-poll-how-much-ram-do-you-have/6446" class="inline-onebox">User Poll - How much RAM do you have?</a></li>
<li><a href="https://twitter.com/Whonix/status/1070983624105676801">https://twitter.com/Whonix/status/1070983624105676801</a></li>
<li><a href="https://forums.whonix.org/t/installation-and-fix-of-i2p-inside-whonix-workstation-by-default/8610/88">Therefore cannot autostart i2p by default.</a></li>
</ul>
<p>10 % to 15 % (rounded) of Whonix users have only 4 GB RAM.</p>
<hr>
<p>Questions:</p>
<ul>
<li>Should default RAM for Whonix-Workstation be increased? To what amount?</li>
<li>Should default RAM for Whonix-Gateway be increased? To what amount?</li>
<li>Would that be non-ideal for users with only 4 GB RAM?</li>
<li>Should we de-prioritize users who have only 4 GB RAM?</li>
<li>How much RAM should be the new requirement for <a href="https://www.whonix.org/wiki/System_Requirements">Whonix system requirements</a>?</li>
</ul>
<hr>
<p>Qubes / Qubes-Whonix is unrelated. This is because:<br>
Qubes / Qubes-Whonix manages RAM far more efficiently.</p>
<ul>
<li>Simplified said, “There is no GUI running inside VM.” I mean by that, no “full X server”, lightdm, XFCE is running inside a VM. XFCE desktop environment packages aren’t even installed by default in VMs. X running inside Qubes VMs is connected to X running in dom0. The de-duplication of that saves a ton of RAM.</li>
<li>Qubes RAM management isn’t as static as “if VM is started, assign it to VM in full”. It dynamically assigns RAM. I.e. VMs that are just auto started but idle need far less RAM. Not sure this might be called memory ballooning.</li>
</ul>
<p>Therefore Qubes / Qubes-Whonix cannot be compared much to Non-Qubes-Whonix as far as RAM requirements are going.</p>
<hr>
<p>Previous discussions:</p>
<ul>
<li><a href="https://forums.whonix.org/t/installation-and-fix-of-i2p-inside-whonix-workstation-by-default/8610/88" class="inline-onebox">Installation and Fix of i2p inside Whonix-Workstation by Default</a></li>
<li><a href="https://forums.whonix.org/t/whonix-workstation-14-increase-default-ram/4796" class="inline-onebox">Whonix-Workstation 14 - increase default RAM?</a></li>
</ul>
          <p><a href="http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895/1</link>
        <pubDate>Thu, 06 Feb 2020 10:50:37 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-8895-1</guid>
        <source url="http://forums.whonix.org/t/whonix-workstation-whonix-gateway-version-15-non-qubes-whonix-increase-default-ram/8895.rss">Whonix-Workstation / Whonix-Gateway - Version 15 - Non-Qubes-Whonix - increase default RAM?</source>
      </item>
  </channel>
</rss>
