<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Tutorial] Installing a shared folder in your host OS and in your virtual OS</title>
    <link>http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786</link>
    <description>So, I have decided to share with you how I installed my shared folder, as if you follow exactly this https://www.whonix.org/wiki/KVM#Shared_Folders it could not work.
So in our host OS we are going to run this:
```
mkdir /home/$USER/shared
chmod 777 /home/$USER/shared
```
Remember that $USER is your own username of the host OS. Now we can do it in the GUI way or in CLI way.
In the GUI way is the same as in https://www.whonix.org/wiki/KVM#Shared_Folders
but in the target folder I wrote &quot;/shareddata&quot; instead of &quot;shared&quot;

Alternatively you can run
```
 virt-xml &quot;Whonix-Workstation&quot; --add-device --filesystem source=home/$USER/shared,target=shareddata,type=mount,accessmode=mapped || true
```
Remember that if you have changed the name of your virtual machine, &quot;Whonix-Workstation&quot; may vary and you would have to put what you have set up.
Then inside the Whonix-Workstation OS, we are going to run the following (here I did a copy/paste with the output included):
```
user@host:~$ pwd
/home/user
user@host:~$ mkdir ~/shared
user@host:~$ sudo mount -t 9p -o trans=virtio /shareddata ~/shared
[sudo] password for user:         
user@host:~$
```
Basically we are mounting our shared folder.
And if you go to the file manager of your workstation, you should find in the section of DEVICES, bellow File System, the shared folder.
The thinks you create inside the whonix-workstation of the shared folder will be in home/$USER/shared
of your host OS, and you may access those files with root privileges.

Please, if you find any security issues, comment bellow, please.</description>
    <language>en</language>
    <lastBuildDate>Sat, 20 Jun 2020 04:20:44 +0000</lastBuildDate>
    <category>KVM</category>
    <atom:link href="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Tutorial] Installing a shared folder in your host OS and in your virtual OS</title>
        <dc:creator><![CDATA[nixme]]></dc:creator>
        <description><![CDATA[
            <p>I thought you might find this interesting.  I also had this problem were it did not auto-mount, even after a reboot. The /mount/shared folder was there, but it was not linked to the host.  The folder settings were gone in the details pane.  I shut the machine down and confirmed that the settings were still there.  After I turned the machine back on, the folder was working properly.  Obviously you may have also reboot/shutdown twice.  My point was simply to show that even one reboot isn’t always enough.  Sometimes a second shutdown is required.  I am glad I didn’t troubleshoot before trying a another power off. It makes me wonder how many times in my life I wasted time troubleshooting something that simply required another reboot…</p>
          <p><a href="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/7">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/7</link>
        <pubDate>Sat, 20 Jun 2020 04:20:44 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9786-7</guid>
        <source url="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786.rss">[Tutorial] Installing a shared folder in your host OS and in your virtual OS</source>
      </item>
      <item>
        <title>[Tutorial] Installing a shared folder in your host OS and in your virtual OS</title>
        <dc:creator><![CDATA[zuass]]></dc:creator>
        <description><![CDATA[
            <p>Ok, probably I modified something of the xml file and that it is why there isn’t working for me in automatic mode, but then I do it manual every time I log in.<br>
I quit this for me to work:<br>
&lt; blkiotune&gt;<br>
&lt; weight&gt;250&lt; /weight&gt;<br>
&lt; /blkiotune&gt;<br>
(I put a space so it can show the message)</p>
<p>But now all works perfect</p>
          <p><a href="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/6">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/6</link>
        <pubDate>Fri, 19 Jun 2020 20:06:01 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9786-6</guid>
        <source url="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786.rss">[Tutorial] Installing a shared folder in your host OS and in your virtual OS</source>
      </item>
      <item>
        <title>[Tutorial] Installing a shared folder in your host OS and in your virtual OS</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="zuass" data-post="3" data-topic="9786">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/zuass/40/2492_2.png" class="avatar"> zuass:</div>
<blockquote>
<p>I did it because my whonix workstation did not mount automatically the shared folder in the last step:</p>
</blockquote>
</aside>
<p>The workstation has a service that automatically mounts the share in the VM. If it’s not working then there’s a bug.</p>
<p>The solution is not to do something dangerous on the host.</p>
          <p><a href="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/5">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/5</link>
        <pubDate>Fri, 19 Jun 2020 17:47:24 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9786-5</guid>
        <source url="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786.rss">[Tutorial] Installing a shared folder in your host OS and in your virtual OS</source>
      </item>
      <item>
        <title>[Tutorial] Installing a shared folder in your host OS and in your virtual OS</title>
        <dc:creator><![CDATA[zuass]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="zuass" data-post="1" data-topic="9786">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/zuass/40/2492_2.png" class="avatar"> zuass:</div>
<blockquote>
<p><code>-t 9p</code></p>
</blockquote>
</aside>
<p>This needs to be in the command line</p>
          <p><a href="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/4">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/4</link>
        <pubDate>Fri, 19 Jun 2020 17:00:25 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9786-4</guid>
        <source url="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786.rss">[Tutorial] Installing a shared folder in your host OS and in your virtual OS</source>
      </item>
      <item>
        <title>[Tutorial] Installing a shared folder in your host OS and in your virtual OS</title>
        <dc:creator><![CDATA[zuass]]></dc:creator>
        <description><![CDATA[
            <p>I did it because my whonix workstation did not mount automatically the shared folder in the last step:</p>
<p>‘’’<br>
<strong>4.</strong> Choose the following settings.</p>
<p>Replace user name <code>user</code> with your actual user name.</p>
<ul>
<li>Mode: Mapped <a href="https://www.whonix.org/wiki/KVM#cite_note-26" rel="nofollow noopener">[26]</a>
</li>
<li>Driver: Default</li>
<li>Source Path: /home/user/shared</li>
<li>Target Path: shared</li>
</ul>
<p>Click finish. Done.</p>
<p>Whonix-Workstation should automatically find and mount the shared directory once its created and enabled on the Host.<br>
‘’’<br>
So I rewrote the tutorial plus a few steps I did. Probably would be better to make a shared folder inside a usb that is plugged in inside the host OS.<br>
Do you mean to only execute in the last step this command?</p>
<pre><code class="lang-auto">sudo mount -o trans=virtio /shareddata ~/shared
</code></pre>
<p>instead of this one?</p>
<pre><code class="lang-auto">sudo mount -t 9p -o trans=virtio /shareddata ~/shared
</code></pre>
          <p><a href="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/3">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/3</link>
        <pubDate>Fri, 19 Jun 2020 15:53:13 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9786-3</guid>
        <source url="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786.rss">[Tutorial] Installing a shared folder in your host OS and in your virtual OS</source>
      </item>
      <item>
        <title>[Tutorial] Installing a shared folder in your host OS and in your virtual OS</title>
        <dc:creator><![CDATA[HulaHoop]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="zuass" data-post="1" data-topic="9786">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//forums.whonix.org/user_avatar/forums.whonix.org/zuass/40/2492_2.png" class="avatar"> zuass:</div>
<blockquote>
<p>Please, if you find any security issues, comment bellow, please.</p>
</blockquote>
</aside>
<p>What’s the point of this as opposed to my original steps? it seems risky to expose a device on thh host to an untrusted guest.</p>
<p>If you want the guest to have more control over the permissions of files in the shared folder you simply switch to another mode like “passthrough”</p>
<p><a href="https://lists.gnu.org/archive/html/qemu-devel/2010-05/msg02673.html" class="onebox" target="_blank">https://lists.gnu.org/archive/html/qemu-devel/2010-05/msg02673.html</a></p>
<blockquote>
<h2>Security model : passthrough</h2>
</blockquote>
<blockquote>
<p>In this security model, VirtFS server passes down all requests to the<br>
underlying filesystem. File system objects on the fileserver will be created<br>
with client-user’s credentials. This is done by setting setuid()/setgid()<br>
during creation or ch* after file creation. At the end of create protocol<br>
request, files on the fileserver will be owned by cleint-user’s uid/gid.</p>
</blockquote>
          <p><a href="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/2">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/2</link>
        <pubDate>Fri, 19 Jun 2020 12:54:35 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9786-2</guid>
        <source url="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786.rss">[Tutorial] Installing a shared folder in your host OS and in your virtual OS</source>
      </item>
      <item>
        <title>[Tutorial] Installing a shared folder in your host OS and in your virtual OS</title>
        <dc:creator><![CDATA[zuass]]></dc:creator>
        <description><![CDATA[
            <p>So, I have decided to share with you how I installed my shared folder, as if you follow exactly this <a href="https://www.whonix.org/wiki/KVM#Shared_Folders" rel="nofollow noopener">https://www.whonix.org/wiki/KVM#Shared_Folders</a> it could not work.<br>
So in our host OS we are going to run this:</p>
<pre><code class="lang-auto">mkdir /home/$USER/shared
chmod 777 /home/$USER/shared
</code></pre>
<p>Remember that $USER is your own username of the host OS. Now we can do it in the GUI way or in CLI way.<br>
In the GUI way is the same as in <a href="https://www.whonix.org/wiki/KVM#Shared_Folders" rel="nofollow noopener">https://www.whonix.org/wiki/KVM#Shared_Folders</a><br>
but in the target folder I wrote “/shareddata” instead of “shared”</p>
<p>Alternatively you can run</p>
<pre><code class="lang-auto"> virt-xml "Whonix-Workstation" --add-device --filesystem source=home/$USER/shared,target=shareddata,type=mount,accessmode=mapped || true
</code></pre>
<p>Remember that if you have changed the name of your virtual machine, “Whonix-Workstation” may vary and you would have to put what you have set up.<br>
Then inside the Whonix-Workstation OS, we are going to run the following (here I did a copy/paste with the output included):</p>
<pre><code class="lang-auto">user@host:~$ pwd
/home/user
user@host:~$ mkdir ~/shared
user@host:~$ sudo mount -t 9p -o trans=virtio /shareddata ~/shared
[sudo] password for user:         
user@host:~$
</code></pre>
<p>Basically we are mounting our shared folder.<br>
And if you go to the file manager of your workstation, you should find in the section of DEVICES, bellow File System, the shared folder.<br>
The thinks you create inside the whonix-workstation of the shared folder will be in home/$USER/shared<br>
of your host OS, and you may access those files with root privileges.</p>
<p>Please, if you find any security issues, comment bellow, please.</p>
          <p><a href="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/1">Read full topic</a></p>
        ]]></description>
        <link>http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786/1</link>
        <pubDate>Thu, 18 Jun 2020 18:16:03 +0000</pubDate>
        <guid isPermaLink="false">forums.whonix.org-post-9786-1</guid>
        <source url="http://forums.whonix.org/t/tutorial-installing-a-shared-folder-in-your-host-os-and-in-your-virtual-os/9786.rss">[Tutorial] Installing a shared folder in your host OS and in your virtual OS</source>
      </item>
  </channel>
</rss>
